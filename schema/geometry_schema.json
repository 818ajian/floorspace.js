{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"version": "0.4.0",
	"description": "Comment describing your JSON Schema",
	"type": "object",
	"properties": {
		"version": {
			"type": "string"
		},
		"application": {
			"$ref": "#/definitions/Application"
		},
		"project": {
			"$ref": "#/definitions/Project"
		},
		"stories": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/Story"
			}
		},
		"building_units": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/BuildingUnit"
			}
		},
		"thermal_zones": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/ThermalZone"
			}
		},
		"space_types": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/SpaceType"
			}
		},
		"construction_sets": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/ConstructionSet"
			}
		},
		"window_definitions": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/WindowDefinition"
			}
		},
		"daylighting_control_definitions": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/DaylightingControlDefinition"
			}
		},
		"pitched_roofs": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/PitchedRoof"
			}
		}
	},
	"required": [
		"project",
		"stories",
		"building_units",
		"thermal_zones",
		"space_types",
		"construction_sets",
		"window_definitions",
		"daylighting_control_definitions"
	],
	"definitions": {
		"Application": {
			"type": "object"
		},
		"Project": {
			"type": "object",
			"properties": {
				"config": {
					"type": "object",
					"properties": {
						"units": {
							"type": "string",
							"enum": [
								"ft",
								"m"
							]
						},
						"language": {
							"type": "string"
						}
					}
				},
				"north_axis": {
					"type": "number"
				},
				"ground": {
					"type": "object",
					"properties": {
						"floor_offset": {
							"description": "Specifies the vertical offset between the building floor and the ground plane. Use a value < 0 for buildings with below-grade spaces, or a value > 0 for, e.g., buildings on piers.",
							"type": "number",
							"default": 0
						},
						"azimuth_angle": {
							"description": "Direction of the ground plane, in clockwise degrees from the positive y-axis when viewed from above.",
							"type": "number"
						},
						"tilt_slope": {
							"description": "Slope of the ground plane from horizontal. For example, a value of 1 implies a 45-deg angle.",
							"type": "number",
							"default": 0
						}
					}
				},
				"grid": {
					"type": "object",
					"properties": {
						"visible": {
							"type": "boolean"
						},
						"spacing": {
							"type": "number"
						}
					}
				},
				"view": {
					"type": "object",
					"properties": {
						"min_x": {
							"type": "number"
						},
						"min_y": {
							"type": "number"
						},
						"max_x": {
							"type": "number"
						},
						"max_y": {
							"type": "number"
						}
					}
				},
				"map": {
					"type": "object",
					"properties": {
						"visible": {
							"type": "boolean"
						},
						"latitude": {
							"type": "number"
						},
						"longitude": {
							"type": "number"
						},
						"zoom": {
							"type": "number"
						},
						"elevation": {
							"type": "number"
						},
						"enabled": {
							"type": "boolean"
						},
						"initialized": {
							"type": "boolean"
						},
						"rotation": {
							"type": "number"
						}
					}
				},
				"previous_story": {
					"type": "object",
					"properties": {
						"visible": {
							"type": "boolean"
						}
					}
				},
				"showImportExport": {
					"type": "boolean"
				}
			}
		},
		"Geometry": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"vertices": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/Vertex"
					}
				},
				"edges": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/Edge"
					}
				},
				"faces": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/Face"
					}
				}
			},
			"required": [
				"vertices",
				"edges",
				"faces"
			]
		},
		"Vertex": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"x": {
					"type": "number"
				},
				"y": {
					"type": "number"
				},
				"edge_ids": {
					"type": "array",
					"items": {
						"type": "string"
					}
				}
			},
			"required": [
				"id",
				"x",
				"y",
				"edge_ids"
			]
		},
		"Edge": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"vertex_ids": {
					"type": "array",
					"minItems": 2,
					"maxItems": 2,
					"uniqueItems": true,
					"items": {
						"type": "string"
					}
				},
				"face_ids": {
					"type": "array",
					"minItems": 1,
					"maxItems": 2,
					"items": {
						"type": "string"
					}
				}
			},
			"required": [
				"id",
				"vertex_ids",
				"face_ids"
			]
		},
		"Face": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"edge_ids": {
					"type": "array",
					"minItems": 3,
					"items": {
						"type": "string"
					}
				},
				"edge_order": {
					"type": "array",
					"minItems": 3,
					"items": {
						"type": "number",
						"enum": [
							0,
							1
						]
					}
				}
			},
			"required": [
				"id",
				"edge_ids",
				"edge_order"
			]
		},
		"Story": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"handle": {
					"type": [
						"string",
						"null"
					]
				},
				"name": {
					"type": [
						"string",
						"null"
					]
				},
				"imageVisible": {
					"type": "boolean"
				},
				"below_floor_plenum_height": {
					"type": "number",
					"minimum": 0
				},
				"floor_to_ceiling_height": {
					"type": "number",
					"minimum": 0
				},
				"above_ceiling_plenum_height": {
					"type": "number",
					"minimum": 0
				},
				"multiplier": {
					"type": "integer",
					"minimum": 1,
					"multipleOf": 1,
					"default": 1
				},
				"color": {
					"type": "string"
				},
				"geometry": {
					"$ref": "#/definitions/Geometry"
				},
				"images": {
					"type": "array"
				},
				"spaces": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/Space"
					}
				},
				"shading": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/Shading"
					}
				},
				"windows": {
					"type": "array",
					"items": {
						"type": "object",
						"properties": {
							"window_defn_id": {
								"type": "string"
							},
							"edge_id": {
								"type": "string"
							},
							"alpha": {
								"description": "Distance along edge to center point of window, starting from first vertex of edge at a = 0 and ending at second vertex of edge at a =1.  v = v1 + a*(v2-v1)",
								"type": "number",
								"minimum": 0,
								"maximum": 1
							}
						},
						"required": [
							"window_defn_id",
							"edge_id",
							"alpha"
						]
					}
				},
				"image_ids": {
					"type": "array",
					"items": {
						"type": "string"
					}
				}
			},
			"required": [
				"id",
				"name"
			]
		},
		"Space": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"handle": {
					"type": [
						"string",
						"null"
					]
				},
				"name": {
					"type": [
						"string",
						"null"
					]
				},
				"face_id": {
					"type": "string"
				},
				"building_unit_id": {
					"type": [
						"string",
						"null"
					]
				},
				"thermal_zone_id": {
					"type": [
						"string",
						"null"
					]
				},
				"space_type_id": {
					"type": [
						"string",
						"null"
					]
				},
				"construction_set_id": {
					"type": [
						"string",
						"null"
					]
				},
				"pitched_roof_id": {
					"type": [
						"string",
						"null"
					]
				},
				"daylighting_controls": {
					"type": "array",
					"items": {
						"type": "object",
						"properties": {
							"daylighting_control_defn_id": {
								"type": "string"
							},
							"vertex_id": {
								"type": "string"
							}
						},
						"required": [
							"daylighting_control_defn_id",
							"vertex_id"
						]
					}
				},
				"below_floor_plenum_height": {
					"description": "If provided, overrides the story below_floor_plenum_height.",
					"type": "number",
					"minimum": 0
				},
				"floor_to_ceiling_height": {
					"description": "If provided, overrides the story floor_to_ceiling_height.",
					"type": "number",
					"minimum": 0
				},
				"above_ceiling_plenum_height": {
					"description": "If provided, overrides the story above_ceiling_plenum_height.",
					"type": "number",
					"minimum": 0
				},
				"floor_offset": {
					"description": "If provided, specifies the vertical offset between the space floor and the story floor.",
					"type": "number"
				},
				"open_to_below": {
					"description": "If true, defines a space that is open to below (has no floor).",
					"type": [
						"boolean",
						"null"
					]
				}
			},
			"required": [
				"id",
				"name",
				"face_id"
			]
		},
		"Shading": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"name": {
					"type": [
						"string",
						"null"
					]
				},
				"face_id": {
					"type": "string"
				}
			},
			"required": [
				"id",
				"name",
				"face_id"
			]
		},
		"ThermalZone": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"handle": {
					"type": [
						"string",
						"null"
					]
				},
				"name": {
					"type": [
						"string",
						"null"
					]
				},
				"color": {
					"type": "string"
				}
			},
			"required": [
				"id",
				"name"
			]
		},
		"SpaceType": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"handle": {
					"type": [
						"string",
						"null"
					]
				},
				"name": {
					"type": [
						"string",
						"null"
					]
				},
				"color": {
					"type": "string"
				}
			},
			"required": [
				"id",
				"name"
			]
		},
		"BuildingUnit": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"handle": {
					"type": [
						"string",
						"null"
					]
				},
				"name": {
					"type": [
						"string",
						"null"
					]
				},
				"color": {
					"type": "string"
				}
			},
			"required": [
				"id",
				"name"
			]
		},
		"ConstructionSet": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"handle": {
					"type": [
						"string",
						"null"
					]
				},
				"name": {
					"type": [
						"string",
						"null"
					]
				}
			},
			"required": [
				"id",
				"name"
			]
		},
		"WindowDefinition": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"name": {
					"type": [
						"string",
						"null"
					]
				},
				"height": {
					"description": "Vertical height of each window. In drawing units.",
					"type": "number"
				},
				"width": {
					"description": "Horizontal width of each window. In drawing units.",
					"type": "number"
				},
				"sill_height": {
					"description": "Vertical distance from the floor to the window sill. In drawing units.",
					"type": "number"
				}
			},
			"required": [
				"id",
				"name"
			]
		},
		"DaylightingControlDefinition": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"name": {
					"type": [
						"string",
						"number",
						"null"
					]
				},
				"illuminance_setpoint": {
					"description": "Setpoint for daylighting control (lux).",
					"type": "number"
				},
				"height": {
					"description": "Vertical distance of sensor above floor.  In drawing units.",
					"type": "number"
				}
			},
			"required": [
				"id",
				"name"
			]
		},
		"PitchedRoof": {
			"properties": {
				"id": {
					"type": "string"
				},
				"name": {
					"type": [
						"string",
						"null"
					]
				},
				"pitched_roof_type": {
					"type": "string",
					"enum": [
						"Gable",
						"Hip",
						"Shed"
					]
				},
				"pitch": {
					"description": "Pitch of roof. A value of 6, for example, implies a 6 in 12 pitch (or 26.57 degrees).",
					"type": "number",
					"minimum": 0
				},
				"shed_direction": {
					"description": "Direction of shed roof, from low edge to high edge, in clockwise degrees from the positive y-axis when viewed from above.",
					"type": "number"
				},
				"color": {
					"type": "string"
				}
			},
			"required": [
				"id",
				"pitch",
				"type"
			]
		}
	}
}