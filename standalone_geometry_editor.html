<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <title>geometry-editor</title>
        <style>
            @import url(https://fonts.googleapis.com/css?family=Roboto);body,html{color:#bbc3c7;font-size:16px;font-family:Roboto,sans-serif;height:100vh;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0}body h1,body h2,body h3,body h4,html h1,html h2,html h3,html h4{font-weight:100}body a,html a{color:#008500}body a:hover,html a:hover{cursor:pointer}body{overflow:hidden}#toolbar{background-color:#2b3134;border-bottom:1px solid #525d64}main{background-color:#24292c}main #navigation{background-color:#2b3134;border-right:1px solid #525d64}.disabled-component{position:relative}.disabled-component>:first-child:before{position:absolute;content:"";left:0;right:0;top:0;bottom:0;background:rgba(36,41,44,.6);z-index:100}main #images .konvajs-content{z-index:1}main #images,main #map-container{position:absolute;top:0;bottom:0}#toolbar{top:0;height:5rem}#layout-main,#toolbar{position:absolute;left:0;right:0}#layout-main{top:5rem;bottom:30%}#layout-main>*{position:absolute;top:0;bottom:0}#layout-main #layout-navigation{left:0;width:17.5rem}#layout-main main{left:17.5rem;right:0}#layout-library{position:absolute;bottom:0;left:0;right:0;top:70%}.tool_fill polygon,.tool_select polygon{cursor:pointer}#grid svg *,.tool_drag #svg-grid path,.tool_drag #svg-grid polygon,.tool_drag #svg-grid rect{pointer-events:none}#grid svg ellipse:not(.origin){fill:#839199;stroke:#839199}#grid svg ellipse:not(.origin).highlight{stroke:red;fill:red}#grid svg ellipse.origin{stroke:#839199}#grid svg line.horizontal,#grid svg line.vertical{stroke:red;opacity:.25}#grid svg line.highlight{stroke:#ff0;z-index:10}#grid svg path,#grid svg polygon,#grid svg rect{fill-opacity:.9;z-index:3;pointer-events:all;stroke:#839199}#grid svg path.domain,#grid svg polygon.domain,#grid svg rect.domain{stroke:#fff}#grid svg .current path,#grid svg .current polygon,#grid svg .current rect{stroke:#a70000;stroke-width:2px}#grid svg .previousStory path,#grid svg .previousStory polygon,#grid svg .previousStory rect{stroke-dasharray:10;stroke:#000;stroke-width:2}#grid svg .guideLine path,#grid svg .guideLine polygon,#grid svg .guideLine rect,#grid svg .previousStory path,#grid svg .previousStory polygon,#grid svg .previousStory rect{fill-opacity:.3;z-index:-1}#grid svg rect.view{fill-opacity:0}#grid svg .axis line{stroke-opacity:.3;shape-rendering:crispEdges;stroke:#3b4348}.input-checkbox,.input-number,.input-select,.input-text{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.input-checkbox label,.input-number label,.input-select label,.input-text label{font-size:.625rem;margin:0 .25rem 0 0;text-transform:uppercase}.input-number input,.input-text input{background-color:#2b3134;border:0;border-radius:.35rem;color:#bbc3c7;height:2rem;padding:0 .75rem;-webkit-appearance:none}.input-text input{width:15rem}.input-number input{width:2.5rem}.input-select{position:relative}.input-select select{background-color:#2b3134;border:0;color:#bbc3c7;-ms-flex-positive:2;flex-grow:2;height:2rem;padding:0 1.75rem 0 .75rem;-webkit-appearance:none}.input-select svg{pointer-events:none;position:absolute;right:.5rem;top:calc(50% - 3px)}.input-select svg path{fill:#525d64}button{background-color:#2b3134;border:1px solid #525d64;border-radius:.35rem;cursor:pointer;color:#bbc3c7;height:2rem;outline:none;padding:0 .75rem}button[disabled]{cursor:not-allowed;background-color:#343b40}.overlay{background-color:#24292c;height:100%;left:0;opacity:.5;position:fixed;top:0;width:100%;z-index:3}.modal{background-color:#3b4348;border:1px solid #525d64;border-radius:1rem;left:50%;min-height:10rem;position:fixed;top:50%;transform:translate(-50%,-50%);width:25rem;z-index:4}.modal header{padding:.5rem;text-align:center;background-color:#2b3134;border-radius:.9rem .9rem 0 0}.modal header h2{display:inline;font-size:.7rem;text-transform:uppercase}.modal header svg.close{cursor:pointer;height:1.25rem;position:absolute;top:.5rem;right:.5rem;width:1.5rem}.modal header svg.close path{fill:#bbc3c7}.modal header svg.close:hover path{fill:#008500}.modal form{padding:1rem}.modal form label{color:#839199}.modal footer{background-color:#2b3134;border-radius:0 0 .9rem .9rem;padding:.5rem;text-align:right}.modal footer button:last-child{border-color:#008500}.tabs{border-bottom:1px solid #24292c;border-top:1px solid #24292c;display:-ms-flexbox;display:flex;height:1.75rem;font-size:.625rem}.tabs span{border-right:1px solid #24292c;cursor:pointer;display:inline-block;padding:.5rem;text-transform:uppercase}.tabs .active{background-color:#525d64}.tool_eraser #grid[data-v-782d1b60],.tool_polygon #grid[data-v-782d1b60],.tool_rectangle #grid[data-v-782d1b60]{cursor:crosshair}.tool_drag[data-v-782d1b60]{cursor:move}#alert-text[data-v-782d1b60]{position:absolute;top:1rem;left:0;right:0;text-align:center;z-index:3}#alert-text p[data-v-782d1b60]{color:#fff;padding:2px 4px;margin:10px;border:2px solid #24292c;display:inline-block}#alert-text.success p[data-v-782d1b60]{background:#008500}#alert-text.error p[data-v-782d1b60]{background:#a70000}#right-bar[data-v-7b01355c]{position:absolute;right:0;width:8px;height:100%;transition:background .5s linear}#right-bar[data-v-7b01355c]:active,#right-bar[data-v-7b01355c]:hover{background-color:#bbc3c7;cursor:e-resize}#navigation[data-v-7b01355c]{background-color:#343b40;border-right:1px solid #24292c;font-size:.75rem;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#navigation #selections[data-v-7b01355c]{display:-ms-flexbox;display:flex;padding:.25rem;-ms-flex-pack:justify;justify-content:space-between}#navigation #selections input[type=file][data-v-7b01355c]{position:absolute;visibility:hidden}#navigation #breadcrumbs>button[data-v-7b01355c],#navigation #selections>button[data-v-7b01355c]{display:-ms-flexbox;display:flex;line-height:1rem}#navigation #breadcrumbs>button svg[data-v-7b01355c],#navigation #selections>button svg[data-v-7b01355c]{height:1rem;margin:0 .25rem 0 -.1rem;width:1rem}#navigation #breadcrumbs>button svg path[data-v-7b01355c],#navigation #selections>button svg path[data-v-7b01355c]{fill:#bbc3c7}#navigation #breadcrumbs[data-v-7b01355c],#navigation #story-list>div[data-v-7b01355c],#navigation #subselection-list>div[data-v-7b01355c]{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}#navigation #list[data-v-7b01355c]{height:100%;display:-ms-flexbox;display:flex}#navigation #list #story-list[data-v-7b01355c]{border-right:1px solid #24292c;-ms-flex-positive:1;flex-grow:1}#navigation #list #subselection-list[data-v-7b01355c]{-ms-flex-positive:2;flex-grow:2}#navigation #list #story-list[data-v-7b01355c],#navigation #list #subselection-list[data-v-7b01355c]{overflow:auto;height:calc(100% - 5rem)}#navigation #list #story-list>div[data-v-7b01355c],#navigation #list #subselection-list>div[data-v-7b01355c]{border-bottom:1px solid #24292c;cursor:pointer;height:2rem;padding:0 .5rem}#navigation #list #story-list>div span[data-v-7b01355c],#navigation #list #subselection-list>div span[data-v-7b01355c]{display:inline-block;height:1rem;width:1rem}#navigation #list #story-list>div.active[data-v-7b01355c],#navigation #list #subselection-list>div.active[data-v-7b01355c]{color:#008500}#navigation #list #story-list>div.active svg[data-v-7b01355c],#navigation #list #subselection-list>div.active svg[data-v-7b01355c]{cursor:pointer;height:1rem}#navigation #list #story-list>div.active svg path[data-v-7b01355c],#navigation #list #subselection-list>div.active svg path[data-v-7b01355c]{fill:#bbc3c7}#navigation #list #story-list>div.active svg:hover path[data-v-7b01355c],#navigation #list #subselection-list>div.active svg:hover path[data-v-7b01355c]{fill:#a70000}#navigation #breadcrumbs[data-v-7b01355c]{background-color:#343b40;border-bottom:1px solid #24292c;border-top:1px solid #24292c;height:2.5rem;-ms-flex-pack:start;justify-content:flex-start;padding:0 1rem}#navigation #breadcrumbs span[data-v-7b01355c]{margin-left:1rem;cursor:pointer}#navigation #breadcrumbs svg[data-v-7b01355c]{margin:0 .25rem;width:.5rem}#navigation #breadcrumbs svg path[data-v-7b01355c]{fill:#525d64}#grid[data-v-6c2e0a12]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#grid button[data-v-6c2e0a12]{position:absolute;z-index:200}#grid img[data-v-6c2e0a12]{position:absolute}#grid svg[data-v-6c2e0a12]{background-size:cover;background-repeat:no-repeat;height:100%;left:0;top:0;position:absolute;width:100%;z-index:2}svg#north_axis[data-v-d8d46712]{height:2.25rem;position:absolute;top:1rem;left:1rem;width:3rem;z-index:90}#canvas[data-v-d8d46712]{background:#fff;height:100%;width:100%}#map-container[data-v-2a0d4266]{position:relative;height:100%;width:100%}#map-container #map[data-v-2a0d4266]{height:100%;min-width:100%}#autocomplete[data-v-2a0d4266]{z-index:100;position:absolute;right:0;top:10px}#autocomplete>[data-v-2a0d4266]{float:left;margin-right:10px}#autocomplete input[data-v-2a0d4266]:focus{outline:none}#help-text[data-v-2a0d4266]{position:absolute;bottom:0;left:0;right:0;text-align:center;z-index:3}#help-text p[data-v-2a0d4266]{color:#24292c;background:#fff;padding:2px 4px;width:calc(100% - 110px);border:2px solid #24292c}#help-text button[data-v-2a0d4266],#help-text p[data-v-2a0d4266]{margin:10px;display:inline-block}#reticle[data-v-2a0d4266]{position:absolute;top:0;width:100%;height:100%;pointer-events:none}.content[data-v-64853c42]{margin:0 2rem 2rem;text-align:center}.content button[data-v-64853c42]{margin:1rem .5rem}.content input[type=file][data-v-64853c42]{display:none}.modal[data-v-64853c42]{width:30rem}#toolbar[data-v-1dbce3e3]{z-index:3}#toolbar section[data-v-1dbce3e3]{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:2.5rem;padding:0 2.5rem}#toolbar section.settings[data-v-1dbce3e3]{background-color:#343b40;text-align:right}#toolbar section.settings .input-checkbox[data-v-1dbce3e3],#toolbar section.settings .input-number[data-v-1dbce3e3]{margin-right:1.5rem}#toolbar section.settings #import-export[data-v-1dbce3e3]{position:absolute;right:2.5rem}#toolbar section.settings #import-export button[data-v-1dbce3e3]{margin-left:1rem}#toolbar section.settings input[type=file][data-v-1dbce3e3],#toolbar section.settings input[type=text][data-v-1dbce3e3]{position:absolute;visibility:hidden}#toolbar section.tools[data-v-1dbce3e3]{background-color:#525d64;-ms-flex-pack:end;justify-content:flex-end}#toolbar section.tools button[data-v-1dbce3e3]{margin:0 1rem 0 0}#toolbar section.tools button[data-v-1dbce3e3]:last-child{margin:0}#toolbar section.tools .active[data-v-1dbce3e3]{border:2px solid #008500}#toolbar section.tools>.snapping-options[data-v-1dbce3e3],#toolbar section.tools>.undo-redo[data-v-1dbce3e3]{margin-right:auto}#toolbar section.tools>.snapping-options [data-v-1dbce3e3]:first-child{margin-right:-2px;border-bottom-right-radius:0;border-top-right-radius:0}#toolbar section.tools>.snapping-options [data-v-1dbce3e3]:last-child{margin-left:-2px;border-bottom-left-radius:0;border-top-left-radius:0}.content[data-v-4d4276dd]{margin:1rem;text-align:center}.content button[data-v-4d4276dd]{margin:1rem .5rem}.modal[data-v-4d4276dd]{width:30rem;position:fixed;top:50%;left:50%;z-index:4;cursor:default}.modal .close-button[data-v-4d4276dd],.modal .download-button[data-v-4d4276dd]{cursor:pointer;text-transform:uppercase}.modal svg[data-v-4d4276dd]{margin-left:-.25rem;width:1rem}.modal svg path[data-v-4d4276dd]{fill:#525d64;stroke-width:2px;stroke:#525d64}.modal .close-button[data-v-4d4276dd]{position:relative;float:left;left:18px;top:8px}#inspector[data-v-37303d42]{background-color:#3b4348;border-left:1px solid #24292c;font-size:.85rem;width:18rem;position:absolute;right:0;z-index:2;top:0}#inspector .list[data-v-37303d42]{height:calc(100vh - 4.75rem);overflow:scroll}#inspector .list header[data-v-37303d42]{background-color:#2b3134}#inspector .list header>h3[data-v-37303d42]{display:inline-block;margin:1rem}#inspector .list .list-item[data-v-37303d42]{border-top:1px solid #525d64;padding:.5rem 1rem}#inspector .list .list-item h4[data-v-37303d42]{margin:.5rem 0}#inspector .list .list-item span[data-v-37303d42]{display:block;margin-bottom:.25rem}#inspector .list .list-item button[data-v-37303d42]{margin-top:.5rem}/*! Huebee v1.0.1
http://huebee.buzz
---------------------------------------------- */.huebee{position:absolute;z-index:1;transform:translateY(0);transition:opacity .15s,transform .15s}.huebee.is-hidden{opacity:0;transform:translateY(10px)}.huebee.is-static-open{position:relative;z-index:auto}.huebee__container{position:absolute;left:0;top:5px;padding:10px;background:#eee;border-radius:5px;box-shadow:0 5px 10px rgba(0,0,0,.3)}.huebee.is-static-open .huebee__container{position:relative;display:inline-block;left:auto;top:auto;box-shadow:none}.huebee__canvas{display:block;cursor:pointer}.huebee__cursor{width:15px;height:15px;position:absolute;left:0;top:0;box-sizing:content-box;border:3px solid #fff;border-radius:5px;pointer-events:none}.huebee__cursor.is-hidden{opacity:0}.huebee__close-button{display:block;position:absolute;width:24px;height:24px;top:-9px;right:-9px;border-radius:12px;background:#222}.huebee__close-button__x{stroke:#fff;stroke-width:3;stroke-linecap:round}.huebee__close-button:hover{background:#fff;cursor:pointer}.huebee__close-button:hover .huebee__close-button__x{stroke:#222}#top-bar[data-v-e5aa45ba]{position:absolute;height:8px;width:100%;cursor:n-resize;transition:background .5s linear}#top-bar[data-v-e5aa45ba]:active,#top-bar[data-v-e5aa45ba]:hover{background-color:#bbc3c7}#library[data-v-e5aa45ba]{background-color:#24292c;height:100%;overflow:auto}#library header[data-v-e5aa45ba]{display:-ms-flexbox;display:flex;padding:1rem 1.5rem}#library header .input-select[data-v-e5aa45ba]{margin-right:3rem;width:10rem}#library header .input-text[data-v-e5aa45ba]{margin-right:auto;width:10rem}#library table[data-v-e5aa45ba]{border-spacing:0;width:100%}#library table tbody tr td[data-v-e5aa45ba],#library table thead tr th[data-v-e5aa45ba]{text-align:left;padding:0 1rem;position:relative}#library table tbody tr td[data-v-e5aa45ba]:first-child,#library table thead tr th[data-v-e5aa45ba]:first-child{padding-left:2.5rem}#library table tbody tr td[data-v-e5aa45ba]:last-child,#library table thead tr th[data-v-e5aa45ba]:last-child{-ms-flex-positive:2;flex-grow:2}#library table thead th[data-v-e5aa45ba]{border-bottom:2px solid #525d64}#library table thead tr[data-v-e5aa45ba]{height:3rem}#library table thead tr svg[data-v-e5aa45ba]{height:1rem;width:1rem;fill:#525d64}#library table tbody tr[data-v-e5aa45ba]{height:2rem}#library table tbody tr[data-v-e5aa45ba]:nth-of-type(odd){background-color:#343b40}#library table tbody tr.current[data-v-e5aa45ba]{background:red}#library table tbody tr .input-select[data-v-e5aa45ba]{margin:.5rem 0}#library table tbody tr input[data-v-e5aa45ba]{background-color:transparent;border:none;color:#bbc3c7;font-size:1rem}#library table tbody tr td.destroy[data-v-e5aa45ba]{width:2rem}#library table tbody tr td.destroy svg[data-v-e5aa45ba]{cursor:pointer;height:1.25rem;fill:#bbc3c7}#library table tbody tr td.destroy svg[data-v-e5aa45ba]:hover{fill:#a70000}#library table tbody tr.error[data-v-e5aa45ba]{background:rgba(167,0,0,.5);position:relative}#library table tbody tr .tooltip-error[data-v-e5aa45ba]{bottom:3rem;background-color:#24292c;border:1px solid #a70000;color:#bbc3c7;left:3rem;border-radius:.25rem;padding:.5rem 1rem;position:absolute}#library table tbody tr .tooltip-error svg[data-v-e5aa45ba]{bottom:-.7rem;height:.75rem;left:.5rem;position:absolute;transform:rotate(90deg)}#library table tbody tr .tooltip-error svg path[data-v-e5aa45ba]{fill:#a70000}
/*# sourceMappingURL=app.3b92e5cda4415657fbafd2e5e183f186.css.map*/
        </style>
    </head>

    <body>
        <div id=app></div>

    <script>
	!function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a=window.webpackJsonp;window.webpackJsonp=function(c,o){for(var p,l,s=0,i=[];s<c.length;s++)l=c[s],n[l]&&i.push.apply(i,n[l]),n[l]=0;for(p in o)Object.prototype.hasOwnProperty.call(o,p)&&(e[p]=o[p]);for(a&&a(c,o);i.length;)i.shift().call(null,t);if(o[0])return r[0]=0,t(0)};var r={},n={0:0};t.e=function(e,a){if(0===n[e])return a.call(null,t);if(void 0!==n[e])n[e].push(a);else{n[e]=[a];var r=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript",c.charset="utf-8",c.async=!0,c.src=t.p+"static/js/"+e+"."+{1:"cb96c69ce6d0cb065939",2:"003e8adafa4eb93ae438"}[e]+".js",r.appendChild(c)}},t.m=e,t.c=r,t.p="/"}([]);
//# sourceMappingURL=manifest.698e3588142e97522174.js.map
	webpackJsonp([1,0],[,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(50),r=o(i);e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var o=n(62)("wks"),i=n(41),r=n(8).Symbol,a="function"==typeof r,s=t.exports=function(t){return o[t]||(o[t]=a&&r[t]||(a?r:i)("Symbol."+t))};s.store=o},function(t,e,n){var o;(function(t,i){(function(){function r(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e,n,o){for(var i=-1,r=null==t?0:t.length;++i<r;){var a=t[i];e(o,a,n(a),t)}return o}function h(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&e(t[n],n,t)!==!1;);return t}function p(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(!e(t[n],n,t))return!1;return!0}function c(t,e){for(var n=-1,o=null==t?0:t.length,i=0,r=[];++n<o;){var a=t[n];e(a,n,t)&&(r[i++]=a)}return r}function f(t,e){var n=null==t?0:t.length;return!!n&&S(t,e,0)>-1}function d(t,e,n){for(var o=-1,i=null==t?0:t.length;++o<i;)if(n(e,t[o]))return!0;return!1}function y(t,e){for(var n=-1,o=null==t?0:t.length,i=Array(o);++n<o;)i[n]=e(t[n],n,t);return i}function v(t,e){for(var n=-1,o=e.length,i=t.length;++n<o;)t[i+n]=e[n];return t}function g(t,e,n,o){var i=-1,r=null==t?0:t.length;for(o&&r&&(n=t[++i]);++i<r;)n=e(n,t[i],i,t);return n}function m(t,e,n,o){var i=null==t?0:t.length;for(o&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function b(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}function _(t){return t.split("")}function x(t){return t.match(Ye)||[]}function w(t,e,n){var o;return n(t,function(t,n,i){if(e(t,n,i))return o=n,!1}),o}function P(t,e,n,o){for(var i=t.length,r=n+(o?1:-1);o?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function S(t,e,n){return e===e?Z(t,e,n):P(t,M,n)}function C(t,e,n,o){for(var i=n-1,r=t.length;++i<r;)if(o(t[i],e))return i;return-1}function M(t){return t!==t}function T(t,e){var n=null==t?0:t.length;return n?N(t,e)/n:Ft}function A(t){return function(e){return null==e?it:e[t]}}function E(t){return function(e){return null==t?it:t[e]}}function I(t,e,n,o,i){return i(t,function(t,i,r){n=o?(o=!1,t):e(n,t,i,r)}),n}function L(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function N(t,e){for(var n,o=-1,i=t.length;++o<i;){var r=e(t[o]);r!==it&&(n=n===it?r:n+r)}return n}function O(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}function k(t,e){return y(e,function(e){return[e,t[e]]})}function R(t){return function(e){return t(e)}}function D(t,e){return y(e,function(e){return t[e]})}function F(t,e){return t.has(e)}function j(t,e){for(var n=-1,o=t.length;++n<o&&S(e,t[n],0)>-1;);return n}function K(t,e){for(var n=t.length;n--&&S(e,t[n],0)>-1;);return n}function B(t,e){for(var n=t.length,o=0;n--;)t[n]===e&&++o;return o}function X(t){return"\\"+no[t]}function U(t,e){return null==t?it:t[e]}function Y(t){return qn.test(t)}function G(t){return Hn.test(t)}function W(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t,o){n[++e]=[o,t]}),n}function q(t,e){return function(n){return t(e(n))}}function H(t,e){for(var n=-1,o=t.length,i=0,r=[];++n<o;){var a=t[n];a!==e&&a!==lt||(t[n]=lt,r[i++]=n)}return r}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Z(t,e,n){for(var o=n-1,i=t.length;++o<i;)if(t[o]===e)return o;return-1}function J(t,e,n){for(var o=n+1;o--;)if(t[o]===e)return o;return o}function Q(t){return Y(t)?et(t):_o(t)}function tt(t){return Y(t)?nt(t):_(t)}function et(t){for(var e=Wn.lastIndex=0;Wn.test(t);)++e;return e}function nt(t){return t.match(Wn)||[]}function ot(t){return t.match(zn)||[]}var it,rt="4.17.4",at=200,st="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ut="Expected a function",ht="__lodash_hash_undefined__",pt=500,lt="__lodash_placeholder__",ct=1,ft=2,dt=4,yt=1,vt=2,gt=1,mt=2,bt=4,_t=8,xt=16,wt=32,Pt=64,St=128,Ct=256,Mt=512,Tt=30,At="...",Et=800,It=16,Lt=1,Nt=2,Ot=3,kt=1/0,Rt=9007199254740991,Dt=1.7976931348623157e308,Ft=NaN,jt=4294967295,Kt=jt-1,Bt=jt>>>1,Xt=[["ary",St],["bind",gt],["bindKey",mt],["curry",_t],["curryRight",xt],["flip",Mt],["partial",wt],["partialRight",Pt],["rearg",Ct]],Ut="[object Arguments]",Yt="[object Array]",Gt="[object AsyncFunction]",Wt="[object Boolean]",zt="[object Date]",qt="[object DOMException]",Ht="[object Error]",Vt="[object Function]",$t="[object GeneratorFunction]",Zt="[object Map]",Jt="[object Number]",Qt="[object Null]",te="[object Object]",ee="[object Promise]",ne="[object Proxy]",oe="[object RegExp]",ie="[object Set]",re="[object String]",ae="[object Symbol]",se="[object Undefined]",ue="[object WeakMap]",he="[object WeakSet]",pe="[object ArrayBuffer]",le="[object DataView]",ce="[object Float32Array]",fe="[object Float64Array]",de="[object Int8Array]",ye="[object Int16Array]",ve="[object Int32Array]",ge="[object Uint8Array]",me="[object Uint8ClampedArray]",be="[object Uint16Array]",_e="[object Uint32Array]",xe=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,Pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Se=/&(?:amp|lt|gt|quot|#39);/g,Ce=/[&<>"']/g,Me=RegExp(Se.source),Te=RegExp(Ce.source),Ae=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,Ie=/<%=([\s\S]+?)%>/g,Le=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ne=/^\w*$/,Oe=/^\./,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,De=RegExp(Re.source),Fe=/^\s+|\s+$/g,je=/^\s+/,Ke=/\s+$/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,Ye=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ge=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ze=/\w*$/,qe=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,$e=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,Je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qe=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,en="\\ud800-\\udfff",nn="\\u0300-\\u036f",on="\\ufe20-\\ufe2f",rn="\\u20d0-\\u20ff",an=nn+on+rn,sn="\\u2700-\\u27bf",un="a-z\\xdf-\\xf6\\xf8-\\xff",hn="\\xac\\xb1\\xd7\\xf7",pn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ln="\\u2000-\\u206f",cn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fn="A-Z\\xc0-\\xd6\\xd8-\\xde",dn="\\ufe0e\\ufe0f",yn=hn+pn+ln+cn,vn="['’]",gn="["+en+"]",mn="["+yn+"]",bn="["+an+"]",_n="\\d+",xn="["+sn+"]",wn="["+un+"]",Pn="[^"+en+yn+_n+sn+un+fn+"]",Sn="\\ud83c[\\udffb-\\udfff]",Cn="(?:"+bn+"|"+Sn+")",Mn="[^"+en+"]",Tn="(?:\\ud83c[\\udde6-\\uddff]){2}",An="[\\ud800-\\udbff][\\udc00-\\udfff]",En="["+fn+"]",In="\\u200d",Ln="(?:"+wn+"|"+Pn+")",Nn="(?:"+En+"|"+Pn+")",On="(?:"+vn+"(?:d|ll|m|re|s|t|ve))?",kn="(?:"+vn+"(?:D|LL|M|RE|S|T|VE))?",Rn=Cn+"?",Dn="["+dn+"]?",Fn="(?:"+In+"(?:"+[Mn,Tn,An].join("|")+")"+Dn+Rn+")*",jn="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Kn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Bn=Dn+Rn+Fn,Xn="(?:"+[xn,Tn,An].join("|")+")"+Bn,Un="(?:"+[Mn+bn+"?",bn,Tn,An,gn].join("|")+")",Yn=RegExp(vn,"g"),Gn=RegExp(bn,"g"),Wn=RegExp(Sn+"(?="+Sn+")|"+Un+Bn,"g"),zn=RegExp([En+"?"+wn+"+"+On+"(?="+[mn,En,"$"].join("|")+")",Nn+"+"+kn+"(?="+[mn,En+Ln,"$"].join("|")+")",En+"?"+Ln+"+"+On,En+"+"+kn,Kn,jn,_n,Xn].join("|"),"g"),qn=RegExp("["+In+en+an+dn+"]"),Hn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$n=-1,Zn={};Zn[ce]=Zn[fe]=Zn[de]=Zn[ye]=Zn[ve]=Zn[ge]=Zn[me]=Zn[be]=Zn[_e]=!0,Zn[Ut]=Zn[Yt]=Zn[pe]=Zn[Wt]=Zn[le]=Zn[zt]=Zn[Ht]=Zn[Vt]=Zn[Zt]=Zn[Jt]=Zn[te]=Zn[oe]=Zn[ie]=Zn[re]=Zn[ue]=!1;var Jn={};Jn[Ut]=Jn[Yt]=Jn[pe]=Jn[le]=Jn[Wt]=Jn[zt]=Jn[ce]=Jn[fe]=Jn[de]=Jn[ye]=Jn[ve]=Jn[Zt]=Jn[Jt]=Jn[te]=Jn[oe]=Jn[ie]=Jn[re]=Jn[ae]=Jn[ge]=Jn[me]=Jn[be]=Jn[_e]=!0,Jn[Ht]=Jn[Vt]=Jn[ue]=!1;var Qn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},to={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},no={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},oo=parseFloat,io=parseInt,ro="object"==typeof t&&t&&t.Object===Object&&t,ao="object"==typeof self&&self&&self.Object===Object&&self,so=ro||ao||Function("return this")(),uo="object"==typeof e&&e&&!e.nodeType&&e,ho=uo&&"object"==typeof i&&i&&!i.nodeType&&i,po=ho&&ho.exports===uo,lo=po&&ro.process,co=function(){try{return lo&&lo.binding&&lo.binding("util")}catch(t){}}(),fo=co&&co.isArrayBuffer,yo=co&&co.isDate,vo=co&&co.isMap,go=co&&co.isRegExp,mo=co&&co.isSet,bo=co&&co.isTypedArray,_o=A("length"),xo=E(Qn),wo=E(to),Po=E(eo),So=function t(e){function n(t){if(hu(t)&&!_c(t)&&!(t instanceof _)){if(t instanceof i)return t;if(_p.call(t,"__wrapped__"))return aa(t)}return new i(t)}function o(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=it}function _(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jt,this.__views__=[]}function E(){var t=new _(this.__wrapped__);return t.__actions__=Xi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Xi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Xi(this.__views__),t}function Z(){if(this.__filtered__){var t=new _(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,n=_c(t),o=e<0,i=n?t.length:0,r=Ir(0,i,this.__views__),a=r.start,s=r.end,u=s-a,h=o?s:a-1,p=this.__iteratees__,l=p.length,c=0,f=$p(u,this.__takeCount__);if(!n||!o&&i==u&&f==u)return wi(t,this.__actions__);var d=[];t:for(;u--&&c<f;){h+=e;for(var y=-1,v=t[h];++y<l;){var g=p[y],m=g.iteratee,b=g.type,_=m(v);if(b==Nt)v=_;else if(!_){if(b==Lt)continue t;break t}}d[c++]=v}return d}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function Ye(){this.__data__=al?al(null):{},this.size=0}function en(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function nn(t){var e=this.__data__;if(al){var n=e[t];return n===ht?it:n}return _p.call(e,t)?e[t]:it}function on(t){var e=this.__data__;return al?e[t]!==it:_p.call(e,t)}function rn(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=al&&e===it?ht:e,this}function an(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function sn(){this.__data__=[],this.size=0}function un(t){var e=this.__data__,n=On(e,t);if(n<0)return!1;var o=e.length-1;return n==o?e.pop():kp.call(e,n,1),--this.size,!0}function hn(t){var e=this.__data__,n=On(e,t);return n<0?it:e[n][1]}function pn(t){return On(this.__data__,t)>-1}function ln(t,e){var n=this.__data__,o=On(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}function cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function fn(){this.size=0,this.__data__={hash:new nt,map:new(nl||an),string:new nt}}function dn(t){var e=Mr(this,t).delete(t);return this.size-=e?1:0,e}function yn(t){return Mr(this,t).get(t)}function vn(t){return Mr(this,t).has(t)}function gn(t,e){var n=Mr(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}function mn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new cn;++e<n;)this.add(t[e])}function bn(t){return this.__data__.set(t,ht),this}function _n(t){return this.__data__.has(t)}function xn(t){var e=this.__data__=new an(t);this.size=e.size}function wn(){this.__data__=new an,this.size=0}function Pn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Sn(t){return this.__data__.get(t)}function Cn(t){return this.__data__.has(t)}function Mn(t,e){var n=this.__data__;if(n instanceof an){var o=n.__data__;if(!nl||o.length<at-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new cn(o)}return n.set(t,e),this.size=n.size,this}function Tn(t,e){var n=_c(t),o=!n&&bc(t),i=!n&&!o&&wc(t),r=!n&&!o&&!i&&Tc(t),a=n||o||i||r,s=a?O(t.length,fp):[],u=s.length;for(var h in t)!e&&!_p.call(t,h)||a&&("length"==h||i&&("offset"==h||"parent"==h)||r&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||jr(h,u))||s.push(h);return s}function An(t){var e=t.length;return e?t[oi(0,e-1)]:it}function En(t,e){return na(Xi(t),Kn(e,0,t.length))}function In(t){return na(Xi(t))}function Ln(t,e,n){(n===it||Vs(t[e],n))&&(n!==it||e in t)||Fn(t,e,n)}function Nn(t,e,n){var o=t[e];_p.call(t,e)&&Vs(o,n)&&(n!==it||e in t)||Fn(t,e,n)}function On(t,e){for(var n=t.length;n--;)if(Vs(t[n][0],e))return n;return-1}function kn(t,e,n,o){return ml(t,function(t,i,r){e(o,t,n(t),r)}),o}function Rn(t,e){return t&&Ui(e,Gu(e),t)}function Dn(t,e){return t&&Ui(e,Wu(e),t)}function Fn(t,e,n){"__proto__"==e&&jp?jp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function jn(t,e){for(var n=-1,o=e.length,i=ap(o),r=null==t;++n<o;)i[n]=r?it:Xu(t,e[n]);return i}function Kn(t,e,n){return t===t&&(n!==it&&(t=t<=n?t:n),e!==it&&(t=t>=e?t:e)),t}function Bn(t,e,n,o,i,r){var a,s=e&ct,u=e&ft,p=e&dt;if(n&&(a=i?n(t,o,i,r):n(t)),a!==it)return a;if(!uu(t))return t;var l=_c(t);if(l){if(a=Or(t),!s)return Xi(t,a)}else{var c=Il(t),f=c==Vt||c==$t;if(wc(t))return Ei(t,s);if(c==te||c==Ut||f&&!i){if(a=u||f?{}:kr(t),!s)return u?Gi(t,Dn(a,t)):Yi(t,Rn(a,t))}else{if(!Jn[c])return i?t:{};a=Rr(t,c,Bn,s)}}r||(r=new xn);var d=r.get(t);if(d)return d;r.set(t,a);var y=p?u?wr:xr:u?Wu:Gu,v=l?it:y(t);return h(v||t,function(o,i){v&&(i=o,o=t[i]),Nn(a,i,Bn(o,e,n,i,t,r))}),a}function Xn(t){var e=Gu(t);return function(n){return Un(n,t,e)}}function Un(t,e,n){var o=n.length;if(null==t)return!o;for(t=lp(t);o--;){var i=n[o],r=e[i],a=t[i];if(a===it&&!(i in t)||!r(a))return!1}return!0}function Wn(t,e,n){if("function"!=typeof t)throw new dp(ut);return Ol(function(){t.apply(it,n)},e)}function zn(t,e,n,o){var i=-1,r=f,a=!0,s=t.length,u=[],h=e.length;if(!s)return u;n&&(e=y(e,R(n))),o?(r=d,a=!1):e.length>=at&&(r=F,a=!1,e=new mn(e));t:for(;++i<s;){var p=t[i],l=null==n?p:n(p);if(p=o||0!==p?p:0,a&&l===l){for(var c=h;c--;)if(e[c]===l)continue t;u.push(p)}else r(e,l,o)||u.push(p)}return u}function qn(t,e){var n=!0;return ml(t,function(t,o,i){return n=!!e(t,o,i)}),n}function Hn(t,e,n){for(var o=-1,i=t.length;++o<i;){var r=t[o],a=e(r);if(null!=a&&(s===it?a===a&&!_u(a):n(a,s)))var s=a,u=r}return u}function Qn(t,e,n,o){var i=t.length;for(n=Mu(n),n<0&&(n=-n>i?0:i+n),o=o===it||o>i?i:Mu(o),o<0&&(o+=i),o=n>o?0:Tu(o);n<o;)t[n++]=e;return t}function to(t,e){var n=[];return ml(t,function(t,o,i){e(t,o,i)&&n.push(t)}),n}function eo(t,e,n,o,i){var r=-1,a=t.length;for(n||(n=Fr),i||(i=[]);++r<a;){var s=t[r];e>0&&n(s)?e>1?eo(s,e-1,n,o,i):v(i,s):o||(i[i.length]=s)}return i}function no(t,e){return t&&_l(t,e,Gu)}function ro(t,e){return t&&xl(t,e,Gu)}function ao(t,e){return c(e,function(e){return ru(t[e])})}function uo(t,e){e=Ti(e,t);for(var n=0,o=e.length;null!=t&&n<o;)t=t[oa(e[n++])];return n&&n==o?t:it}function ho(t,e,n){var o=e(t);return _c(t)?o:v(o,n(t))}function lo(t){return null==t?t===it?se:Qt:Fp&&Fp in lp(t)?Er(t):$r(t)}function co(t,e){return t>e}function _o(t,e){return null!=t&&_p.call(t,e)}function So(t,e){return null!=t&&e in lp(t)}function Mo(t,e,n){return t>=$p(e,n)&&t<Vp(e,n)}function To(t,e,n){for(var o=n?d:f,i=t[0].length,r=t.length,a=r,s=ap(r),u=1/0,h=[];a--;){var p=t[a];a&&e&&(p=y(p,R(e))),u=$p(p.length,u),s[a]=!n&&(e||i>=120&&p.length>=120)?new mn(a&&p):it}p=t[0];var l=-1,c=s[0];t:for(;++l<i&&h.length<u;){var v=p[l],g=e?e(v):v;if(v=n||0!==v?v:0,!(c?F(c,g):o(h,g,n))){for(a=r;--a;){var m=s[a];if(!(m?F(m,g):o(t[a],g,n)))continue t}c&&c.push(g),h.push(v)}}return h}function Ao(t,e,n,o){return no(t,function(t,i,r){e(o,n(t),i,r)}),o}function Eo(t,e,n){e=Ti(e,t),t=Jr(t,e);var o=null==t?t:t[oa(Ca(e))];return null==o?it:s(o,t,n)}function Io(t){return hu(t)&&lo(t)==Ut}function Lo(t){return hu(t)&&lo(t)==pe}function No(t){return hu(t)&&lo(t)==zt}function Oo(t,e,n,o,i){return t===e||(null==t||null==e||!hu(t)&&!hu(e)?t!==t&&e!==e:ko(t,e,n,o,Oo,i))}function ko(t,e,n,o,i,r){var a=_c(t),s=_c(e),u=a?Yt:Il(t),h=s?Yt:Il(e);u=u==Ut?te:u,h=h==Ut?te:h;var p=u==te,l=h==te,c=u==h;if(c&&wc(t)){if(!wc(e))return!1;a=!0,p=!1}if(c&&!p)return r||(r=new xn),a||Tc(t)?gr(t,e,n,o,i,r):mr(t,e,u,n,o,i,r);if(!(n&yt)){var f=p&&_p.call(t,"__wrapped__"),d=l&&_p.call(e,"__wrapped__");if(f||d){var y=f?t.value():t,v=d?e.value():e;return r||(r=new xn),i(y,v,n,o,r)}}return!!c&&(r||(r=new xn),br(t,e,n,o,i,r))}function Ro(t){return hu(t)&&Il(t)==Zt}function Do(t,e,n,o){var i=n.length,r=i,a=!o;if(null==t)return!r;for(t=lp(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<r;){s=n[i];var u=s[0],h=t[u],p=s[1];if(a&&s[2]){if(h===it&&!(u in t))return!1}else{var l=new xn;if(o)var c=o(h,p,u,t,e,l);if(!(c===it?Oo(p,h,yt|vt,o,l):c))return!1}}return!0}function Fo(t){if(!uu(t)||Yr(t))return!1;var e=ru(t)?Mp:Ve;return e.test(ia(t))}function jo(t){return hu(t)&&lo(t)==oe}function Ko(t){return hu(t)&&Il(t)==ie}function Bo(t){return hu(t)&&su(t.length)&&!!Zn[lo(t)]}function Xo(t){return"function"==typeof t?t:null==t?kh:"object"==typeof t?_c(t)?qo(t[0],t[1]):zo(t):Uh(t)}function Uo(t){if(!Gr(t))return Hp(t);var e=[];for(var n in lp(t))_p.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Yo(t){if(!uu(t))return Vr(t);var e=Gr(t),n=[];for(var o in t)("constructor"!=o||!e&&_p.call(t,o))&&n.push(o);return n}function Go(t,e){return t<e}function Wo(t,e){var n=-1,o=$s(t)?ap(t.length):[];return ml(t,function(t,i,r){o[++n]=e(t,i,r)}),o}function zo(t){var e=Tr(t);return 1==e.length&&e[0][2]?zr(e[0][0],e[0][1]):function(n){return n===t||Do(n,t,e)}}function qo(t,e){return Br(t)&&Wr(e)?zr(oa(t),e):function(n){var o=Xu(n,t);return o===it&&o===e?Yu(n,t):Oo(e,o,yt|vt)}}function Ho(t,e,n,o,i){t!==e&&_l(e,function(r,a){if(uu(r))i||(i=new xn),Vo(t,e,a,n,Ho,o,i);else{var s=o?o(t[a],r,a+"",t,e,i):it;s===it&&(s=r),Ln(t,a,s)}},Wu)}function Vo(t,e,n,o,i,r,a){var s=t[n],u=e[n],h=a.get(u);if(h)return void Ln(t,n,h);var p=r?r(s,u,n+"",t,e,a):it,l=p===it;if(l){var c=_c(u),f=!c&&wc(u),d=!c&&!f&&Tc(u);p=u,c||f||d?_c(s)?p=s:Zs(s)?p=Xi(s):f?(l=!1,p=Ei(u,!0)):d?(l=!1,p=Di(u,!0)):p=[]:gu(u)||bc(u)?(p=s,bc(s)?p=Eu(s):(!uu(s)||o&&ru(s))&&(p=kr(u))):l=!1}l&&(a.set(u,p),i(p,u,o,r,a),a.delete(u)),Ln(t,n,p)}function $o(t,e){var n=t.length;if(n)return e+=e<0?n:0,jr(e,n)?t[e]:it}function Zo(t,e,n){var o=-1;e=y(e.length?e:[kh],R(Cr()));var i=Wo(t,function(t,n,i){var r=y(e,function(e){return e(t)});return{criteria:r,index:++o,value:t}});return L(i,function(t,e){return ji(t,e,n)})}function Jo(t,e){return Qo(t,e,function(e,n){return Yu(t,n)})}function Qo(t,e,n){for(var o=-1,i=e.length,r={};++o<i;){var a=e[o],s=uo(t,a);n(s,a)&&hi(r,Ti(a,t),s)}return r}function ti(t){return function(e){return uo(e,t)}}function ei(t,e,n,o){var i=o?C:S,r=-1,a=e.length,s=t;for(t===e&&(e=Xi(e)),n&&(s=y(t,R(n)));++r<a;)for(var u=0,h=e[r],p=n?n(h):h;(u=i(s,p,u,o))>-1;)s!==t&&kp.call(s,u,1),kp.call(t,u,1);return t}function ni(t,e){for(var n=t?e.length:0,o=n-1;n--;){var i=e[n];if(n==o||i!==r){var r=i;jr(i)?kp.call(t,i,1):bi(t,i)}}return t}function oi(t,e){return t+Yp(Qp()*(e-t+1))}function ii(t,e,n,o){for(var i=-1,r=Vp(Up((e-t)/(n||1)),0),a=ap(r);r--;)a[o?r:++i]=t,t+=n;return a}function ri(t,e){var n="";if(!t||e<1||e>Rt)return n;do e%2&&(n+=t),e=Yp(e/2),e&&(t+=t);while(e);return n}function ai(t,e){return kl(Zr(t,e,kh),t+"")}function si(t){return An(oh(t))}function ui(t,e){var n=oh(t);return na(n,Kn(e,0,n.length))}function hi(t,e,n,o){if(!uu(t))return t;e=Ti(e,t);for(var i=-1,r=e.length,a=r-1,s=t;null!=s&&++i<r;){var u=oa(e[i]),h=n;if(i!=a){var p=s[u];h=o?o(p,u,s):it,h===it&&(h=uu(p)?p:jr(e[i+1])?[]:{})}Nn(s,u,h),s=s[u]}return t}function pi(t){return na(oh(t))}function li(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var r=ap(i);++o<i;)r[o]=t[o+e];return r}function ci(t,e){var n;return ml(t,function(t,o,i){return n=e(t,o,i),!n}),!!n}function fi(t,e,n){var o=0,i=null==t?o:t.length;if("number"==typeof e&&e===e&&i<=Bt){for(;o<i;){var r=o+i>>>1,a=t[r];null!==a&&!_u(a)&&(n?a<=e:a<e)?o=r+1:i=r}return i}return di(t,e,kh,n)}function di(t,e,n,o){e=n(e);for(var i=0,r=null==t?0:t.length,a=e!==e,s=null===e,u=_u(e),h=e===it;i<r;){var p=Yp((i+r)/2),l=n(t[p]),c=l!==it,f=null===l,d=l===l,y=_u(l);if(a)var v=o||d;else v=h?d&&(o||c):s?d&&c&&(o||!f):u?d&&c&&!f&&(o||!y):!f&&!y&&(o?l<=e:l<e);v?i=p+1:r=p}return $p(r,Kt)}function yi(t,e){for(var n=-1,o=t.length,i=0,r=[];++n<o;){var a=t[n],s=e?e(a):a;if(!n||!Vs(s,u)){var u=s;r[i++]=0===a?0:a}}return r}function vi(t){return"number"==typeof t?t:_u(t)?Ft:+t}function gi(t){if("string"==typeof t)return t;if(_c(t))return y(t,gi)+"";if(_u(t))return vl?vl.call(t):"";var e=t+"";return"0"==e&&1/t==-kt?"-0":e}function mi(t,e,n){var o=-1,i=f,r=t.length,a=!0,s=[],u=s;if(n)a=!1,i=d;else if(r>=at){var h=e?null:Ml(t);if(h)return V(h);a=!1,i=F,u=new mn}else u=e?[]:s;t:for(;++o<r;){var p=t[o],l=e?e(p):p;if(p=n||0!==p?p:0,a&&l===l){for(var c=u.length;c--;)if(u[c]===l)continue t;e&&u.push(l),s.push(p)}else i(u,l,n)||(u!==s&&u.push(l),s.push(p))}return s}function bi(t,e){return e=Ti(e,t),t=Jr(t,e),null==t||delete t[oa(Ca(e))]}function _i(t,e,n,o){return hi(t,e,n(uo(t,e)),o)}function xi(t,e,n,o){for(var i=t.length,r=o?i:-1;(o?r--:++r<i)&&e(t[r],r,t););return n?li(t,o?0:r,o?r+1:i):li(t,o?r+1:0,o?i:r)}function wi(t,e){var n=t;return n instanceof _&&(n=n.value()),g(e,function(t,e){return e.func.apply(e.thisArg,v([t],e.args))},n)}function Pi(t,e,n){var o=t.length;if(o<2)return o?mi(t[0]):[];for(var i=-1,r=ap(o);++i<o;)for(var a=t[i],s=-1;++s<o;)s!=i&&(r[i]=zn(r[i]||a,t[s],e,n));return mi(eo(r,1),e,n)}function Si(t,e,n){for(var o=-1,i=t.length,r=e.length,a={};++o<i;){var s=o<r?e[o]:it;n(a,t[o],s)}return a}function Ci(t){return Zs(t)?t:[]}function Mi(t){return"function"==typeof t?t:kh}function Ti(t,e){return _c(t)?t:Br(t,e)?[t]:Rl(Lu(t))}function Ai(t,e,n){var o=t.length;return n=n===it?o:n,!e&&n>=o?t:li(t,e,n)}function Ei(t,e){if(e)return t.slice();var n=t.length,o=Ip?Ip(n):new t.constructor(n);return t.copy(o),o}function Ii(t){var e=new t.constructor(t.byteLength);return new Ep(e).set(new Ep(t)),e}function Li(t,e){var n=e?Ii(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ni(t,e,n){var o=e?n(z(t),ct):z(t);return g(o,r,new t.constructor)}function Oi(t){var e=new t.constructor(t.source,ze.exec(t));return e.lastIndex=t.lastIndex,e}function ki(t,e,n){var o=e?n(V(t),ct):V(t);return g(o,a,new t.constructor)}function Ri(t){return yl?lp(yl.call(t)):{}}function Di(t,e){var n=e?Ii(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Fi(t,e){if(t!==e){var n=t!==it,o=null===t,i=t===t,r=_u(t),a=e!==it,s=null===e,u=e===e,h=_u(e);if(!s&&!h&&!r&&t>e||r&&a&&u&&!s&&!h||o&&a&&u||!n&&u||!i)return 1;if(!o&&!r&&!h&&t<e||h&&n&&i&&!o&&!r||s&&n&&i||!a&&i||!u)return-1}return 0}function ji(t,e,n){for(var o=-1,i=t.criteria,r=e.criteria,a=i.length,s=n.length;++o<a;){var u=Fi(i[o],r[o]);if(u){if(o>=s)return u;var h=n[o];return u*("desc"==h?-1:1)}}return t.index-e.index}function Ki(t,e,n,o){for(var i=-1,r=t.length,a=n.length,s=-1,u=e.length,h=Vp(r-a,0),p=ap(u+h),l=!o;++s<u;)p[s]=e[s];for(;++i<a;)(l||i<r)&&(p[n[i]]=t[i]);for(;h--;)p[s++]=t[i++];return p}function Bi(t,e,n,o){for(var i=-1,r=t.length,a=-1,s=n.length,u=-1,h=e.length,p=Vp(r-s,0),l=ap(p+h),c=!o;++i<p;)l[i]=t[i];for(var f=i;++u<h;)l[f+u]=e[u];for(;++a<s;)(c||i<r)&&(l[f+n[a]]=t[i++]);return l}function Xi(t,e){var n=-1,o=t.length;for(e||(e=ap(o));++n<o;)e[n]=t[n];return e}function Ui(t,e,n,o){var i=!n;n||(n={});for(var r=-1,a=e.length;++r<a;){var s=e[r],u=o?o(n[s],t[s],s,n,t):it;u===it&&(u=t[s]),i?Fn(n,s,u):Nn(n,s,u)}return n}function Yi(t,e){return Ui(t,Al(t),e)}function Gi(t,e){return Ui(t,El(t),e)}function Wi(t,e){return function(n,o){var i=_c(n)?u:kn,r=e?e():{};return i(n,t,Cr(o,2),r)}}function zi(t){return ai(function(e,n){var o=-1,i=n.length,r=i>1?n[i-1]:it,a=i>2?n[2]:it;for(r=t.length>3&&"function"==typeof r?(i--,r):it,a&&Kr(n[0],n[1],a)&&(r=i<3?it:r,i=1),e=lp(e);++o<i;){var s=n[o];s&&t(e,s,o,r)}return e})}function qi(t,e){return function(n,o){if(null==n)return n;if(!$s(n))return t(n,o);for(var i=n.length,r=e?i:-1,a=lp(n);(e?r--:++r<i)&&o(a[r],r,a)!==!1;);return n}}function Hi(t){return function(e,n,o){for(var i=-1,r=lp(e),a=o(e),s=a.length;s--;){var u=a[t?s:++i];if(n(r[u],u,r)===!1)break}return e}}function Vi(t,e,n){function o(){var e=this&&this!==so&&this instanceof o?r:t;return e.apply(i?n:this,arguments)}var i=e&gt,r=Ji(t);return o}function $i(t){return function(e){e=Lu(e);var n=Y(e)?tt(e):it,o=n?n[0]:e.charAt(0),i=n?Ai(n,1).join(""):e.slice(1);return o[t]()+i}}function Zi(t){return function(e){return g(Eh(hh(e).replace(Yn,"")),t,"")}}function Ji(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=gl(t.prototype),o=t.apply(n,e);return uu(o)?o:n}}function Qi(t,e,n){function o(){for(var r=arguments.length,a=ap(r),u=r,h=Sr(o);u--;)a[u]=arguments[u];var p=r<3&&a[0]!==h&&a[r-1]!==h?[]:H(a,h);if(r-=p.length,r<n)return pr(t,e,nr,o.placeholder,it,a,p,it,it,n-r);var l=this&&this!==so&&this instanceof o?i:t;return s(l,this,a)}var i=Ji(t);return o}function tr(t){return function(e,n,o){var i=lp(e);if(!$s(e)){var r=Cr(n,3);e=Gu(e),n=function(t){return r(i[t],t,i)}}var a=t(e,n,o);return a>-1?i[r?e[a]:a]:it}}function er(t){return _r(function(e){var n=e.length,o=n,r=i.prototype.thru;for(t&&e.reverse();o--;){var a=e[o];if("function"!=typeof a)throw new dp(ut);if(r&&!s&&"wrapper"==Pr(a))var s=new i([],!0)}for(o=s?o:n;++o<n;){a=e[o];var u=Pr(a),h="wrapper"==u?Tl(a):it;s=h&&Ur(h[0])&&h[1]==(St|_t|wt|Ct)&&!h[4].length&&1==h[9]?s[Pr(h[0])].apply(s,h[3]):1==a.length&&Ur(a)?s[u]():s.thru(a)}return function(){var t=arguments,o=t[0];if(s&&1==t.length&&_c(o))return s.plant(o).value();for(var i=0,r=n?e[i].apply(this,t):o;++i<n;)r=e[i].call(this,r);return r}})}function nr(t,e,n,o,i,r,a,s,u,h){function p(){for(var g=arguments.length,m=ap(g),b=g;b--;)m[b]=arguments[b];if(d)var _=Sr(p),x=B(m,_);if(o&&(m=Ki(m,o,i,d)),r&&(m=Bi(m,r,a,d)),g-=x,d&&g<h){var w=H(m,_);return pr(t,e,nr,p.placeholder,n,m,w,s,u,h-g)}var P=c?n:this,S=f?P[t]:t;return g=m.length,s?m=Qr(m,s):y&&g>1&&m.reverse(),l&&u<g&&(m.length=u),this&&this!==so&&this instanceof p&&(S=v||Ji(S)),S.apply(P,m)}var l=e&St,c=e&gt,f=e&mt,d=e&(_t|xt),y=e&Mt,v=f?it:Ji(t);return p}function or(t,e){return function(n,o){return Ao(n,t,e(o),{})}}function ir(t,e){return function(n,o){var i;if(n===it&&o===it)return e;if(n!==it&&(i=n),o!==it){if(i===it)return o;"string"==typeof n||"string"==typeof o?(n=gi(n),o=gi(o)):(n=vi(n),o=vi(o)),i=t(n,o)}return i}}function rr(t){return _r(function(e){return e=y(e,R(Cr())),ai(function(n){var o=this;return t(e,function(t){return s(t,o,n)})})})}function ar(t,e){e=e===it?" ":gi(e);var n=e.length;if(n<2)return n?ri(e,t):e;var o=ri(e,Up(t/Q(e)));return Y(e)?Ai(tt(o),0,t).join(""):o.slice(0,t)}function sr(t,e,n,o){function i(){for(var e=-1,u=arguments.length,h=-1,p=o.length,l=ap(p+u),c=this&&this!==so&&this instanceof i?a:t;++h<p;)l[h]=o[h];for(;u--;)l[h++]=arguments[++e];return s(c,r?n:this,l)}var r=e&gt,a=Ji(t);return i}function ur(t){return function(e,n,o){return o&&"number"!=typeof o&&Kr(e,n,o)&&(n=o=it),e=Cu(e),n===it?(n=e,e=0):n=Cu(n),o=o===it?e<n?1:-1:Cu(o),ii(e,n,o,t)}}function hr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Au(e),n=Au(n)),t(e,n)}}function pr(t,e,n,o,i,r,a,s,u,h){var p=e&_t,l=p?a:it,c=p?it:a,f=p?r:it,d=p?it:r;e|=p?wt:Pt,e&=~(p?Pt:wt),e&bt||(e&=~(gt|mt));var y=[t,e,i,f,l,d,c,s,u,h],v=n.apply(it,y);return Ur(t)&&Nl(v,y),v.placeholder=o,ta(v,t,e)}function lr(t){var e=pp[t];return function(t,n){if(t=Au(t),n=null==n?0:$p(Mu(n),292)){var o=(Lu(t)+"e").split("e"),i=e(o[0]+"e"+(+o[1]+n));return o=(Lu(i)+"e").split("e"),+(o[0]+"e"+(+o[1]-n))}return e(t)}}function cr(t){return function(e){var n=Il(e);return n==Zt?z(e):n==ie?$(e):k(e,t(e))}}function fr(t,e,n,o,i,r,a,s){var u=e&mt;if(!u&&"function"!=typeof t)throw new dp(ut);var h=o?o.length:0;if(h||(e&=~(wt|Pt),o=i=it),a=a===it?a:Vp(Mu(a),0),s=s===it?s:Mu(s),h-=i?i.length:0,e&Pt){var p=o,l=i;o=i=it}var c=u?it:Tl(t),f=[t,e,n,o,i,p,l,r,a,s];if(c&&Hr(f,c),t=f[0],e=f[1],n=f[2],o=f[3],i=f[4],s=f[9]=f[9]===it?u?0:t.length:Vp(f[9]-h,0),!s&&e&(_t|xt)&&(e&=~(_t|xt)),e&&e!=gt)d=e==_t||e==xt?Qi(t,e,s):e!=wt&&e!=(gt|wt)||i.length?nr.apply(it,f):sr(t,e,n,o);else var d=Vi(t,e,n);var y=c?wl:Nl;return ta(y(d,f),t,e)}function dr(t,e,n,o){return t===it||Vs(t,gp[n])&&!_p.call(o,n)?e:t}function yr(t,e,n,o,i,r){return uu(t)&&uu(e)&&(r.set(e,t),Ho(t,e,it,yr,r),r.delete(e)),t}function vr(t){return gu(t)?it:t}function gr(t,e,n,o,i,r){var a=n&yt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var h=r.get(t);if(h&&r.get(e))return h==e;var p=-1,l=!0,c=n&vt?new mn:it;for(r.set(t,e),r.set(e,t);++p<s;){var f=t[p],d=e[p];if(o)var y=a?o(d,f,p,e,t,r):o(f,d,p,t,e,r);if(y!==it){if(y)continue;l=!1;break}if(c){if(!b(e,function(t,e){if(!F(c,e)&&(f===t||i(f,t,n,o,r)))return c.push(e)})){l=!1;break}}else if(f!==d&&!i(f,d,n,o,r)){l=!1;break}}return r.delete(t),r.delete(e),l}function mr(t,e,n,o,i,r,a){switch(n){case le:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case pe:return!(t.byteLength!=e.byteLength||!r(new Ep(t),new Ep(e)));case Wt:case zt:case Jt:return Vs(+t,+e);case Ht:return t.name==e.name&&t.message==e.message;case oe:case re:return t==e+"";case Zt:var s=z;case ie:var u=o&yt;if(s||(s=V),t.size!=e.size&&!u)return!1;
var h=a.get(t);if(h)return h==e;o|=vt,a.set(t,e);var p=gr(s(t),s(e),o,i,r,a);return a.delete(t),p;case ae:if(yl)return yl.call(t)==yl.call(e)}return!1}function br(t,e,n,o,i,r){var a=n&yt,s=xr(t),u=s.length,h=xr(e),p=h.length;if(u!=p&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in e:_p.call(e,c)))return!1}var f=r.get(t);if(f&&r.get(e))return f==e;var d=!0;r.set(t,e),r.set(e,t);for(var y=a;++l<u;){c=s[l];var v=t[c],g=e[c];if(o)var m=a?o(g,v,c,e,t,r):o(v,g,c,t,e,r);if(!(m===it?v===g||i(v,g,n,o,r):m)){d=!1;break}y||(y="constructor"==c)}if(d&&!y){var b=t.constructor,_=e.constructor;b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return r.delete(t),r.delete(e),d}function _r(t){return kl(Zr(t,it,ga),t+"")}function xr(t){return ho(t,Gu,Al)}function wr(t){return ho(t,Wu,El)}function Pr(t){for(var e=t.name+"",n=ul[e],o=_p.call(ul,e)?n.length:0;o--;){var i=n[o],r=i.func;if(null==r||r==t)return i.name}return e}function Sr(t){var e=_p.call(n,"placeholder")?n:t;return e.placeholder}function Cr(){var t=n.iteratee||Rh;return t=t===Rh?Xo:t,arguments.length?t(arguments[0],arguments[1]):t}function Mr(t,e){var n=t.__data__;return Xr(e)?n["string"==typeof e?"string":"hash"]:n.map}function Tr(t){for(var e=Gu(t),n=e.length;n--;){var o=e[n],i=t[o];e[n]=[o,i,Wr(i)]}return e}function Ar(t,e){var n=U(t,e);return Fo(n)?n:it}function Er(t){var e=_p.call(t,Fp),n=t[Fp];try{t[Fp]=it;var o=!0}catch(t){}var i=Pp.call(t);return o&&(e?t[Fp]=n:delete t[Fp]),i}function Ir(t,e,n){for(var o=-1,i=n.length;++o<i;){var r=n[o],a=r.size;switch(r.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=$p(e,t+a);break;case"takeRight":t=Vp(t,e-a)}}return{start:t,end:e}}function Lr(t){var e=t.match(Xe);return e?e[1].split(Ue):[]}function Nr(t,e,n){e=Ti(e,t);for(var o=-1,i=e.length,r=!1;++o<i;){var a=oa(e[o]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}return r||++o!=i?r:(i=null==t?0:t.length,!!i&&su(i)&&jr(a,i)&&(_c(t)||bc(t)))}function Or(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&_p.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function kr(t){return"function"!=typeof t.constructor||Gr(t)?{}:gl(Lp(t))}function Rr(t,e,n,o){var i=t.constructor;switch(e){case pe:return Ii(t);case Wt:case zt:return new i(+t);case le:return Li(t,o);case ce:case fe:case de:case ye:case ve:case ge:case me:case be:case _e:return Di(t,o);case Zt:return Ni(t,o,n);case Jt:case re:return new i(t);case oe:return Oi(t);case ie:return ki(t,o,n);case ae:return Ri(t)}}function Dr(t,e){var n=e.length;if(!n)return t;var o=n-1;return e[o]=(n>1?"& ":"")+e[o],e=e.join(n>2?", ":" "),t.replace(Be,"{\n/* [wrapped with "+e+"] */\n")}function Fr(t){return _c(t)||bc(t)||!!(Rp&&t&&t[Rp])}function jr(t,e){return e=null==e?Rt:e,!!e&&("number"==typeof t||Ze.test(t))&&t>-1&&t%1==0&&t<e}function Kr(t,e,n){if(!uu(n))return!1;var o=typeof e;return!!("number"==o?$s(n)&&jr(e,n.length):"string"==o&&e in n)&&Vs(n[e],t)}function Br(t,e){if(_c(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!_u(t))||(Ne.test(t)||!Le.test(t)||null!=e&&t in lp(e))}function Xr(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ur(t){var e=Pr(t),o=n[e];if("function"!=typeof o||!(e in _.prototype))return!1;if(t===o)return!0;var i=Tl(o);return!!i&&t===i[0]}function Yr(t){return!!wp&&wp in t}function Gr(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||gp;return t===n}function Wr(t){return t===t&&!uu(t)}function zr(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==it||t in lp(n)))}}function qr(t){var e=Rs(t,function(t){return n.size===pt&&n.clear(),t}),n=e.cache;return e}function Hr(t,e){var n=t[1],o=e[1],i=n|o,r=i<(gt|mt|St),a=o==St&&n==_t||o==St&&n==Ct&&t[7].length<=e[8]||o==(St|Ct)&&e[7].length<=e[8]&&n==_t;if(!r&&!a)return t;o&gt&&(t[2]=e[2],i|=n&gt?0:bt);var s=e[3];if(s){var u=t[3];t[3]=u?Ki(u,s,e[4]):s,t[4]=u?H(t[3],lt):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?Bi(u,s,e[6]):s,t[6]=u?H(t[5],lt):e[6]),s=e[7],s&&(t[7]=s),o&St&&(t[8]=null==t[8]?e[8]:$p(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Vr(t){var e=[];if(null!=t)for(var n in lp(t))e.push(n);return e}function $r(t){return Pp.call(t)}function Zr(t,e,n){return e=Vp(e===it?t.length-1:e,0),function(){for(var o=arguments,i=-1,r=Vp(o.length-e,0),a=ap(r);++i<r;)a[i]=o[e+i];i=-1;for(var u=ap(e+1);++i<e;)u[i]=o[i];return u[e]=n(a),s(t,this,u)}}function Jr(t,e){return e.length<2?t:uo(t,li(e,0,-1))}function Qr(t,e){for(var n=t.length,o=$p(e.length,n),i=Xi(t);o--;){var r=e[o];t[o]=jr(r,n)?i[r]:it}return t}function ta(t,e,n){var o=e+"";return kl(t,Dr(o,ra(Lr(o),n)))}function ea(t){var e=0,n=0;return function(){var o=Zp(),i=It-(o-n);if(n=o,i>0){if(++e>=Et)return arguments[0]}else e=0;return t.apply(it,arguments)}}function na(t,e){var n=-1,o=t.length,i=o-1;for(e=e===it?o:e;++n<e;){var r=oi(n,i),a=t[r];t[r]=t[n],t[n]=a}return t.length=e,t}function oa(t){if("string"==typeof t||_u(t))return t;var e=t+"";return"0"==e&&1/t==-kt?"-0":e}function ia(t){if(null!=t){try{return bp.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ra(t,e){return h(Xt,function(n){var o="_."+n[0];e&n[1]&&!f(t,o)&&t.push(o)}),t.sort()}function aa(t){if(t instanceof _)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Xi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function sa(t,e,n){e=(n?Kr(t,e,n):e===it)?1:Vp(Mu(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var i=0,r=0,a=ap(Up(o/e));i<o;)a[r++]=li(t,i,i+=e);return a}function ua(t){for(var e=-1,n=null==t?0:t.length,o=0,i=[];++e<n;){var r=t[e];r&&(i[o++]=r)}return i}function ha(){var t=arguments.length;if(!t)return[];for(var e=ap(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return v(_c(n)?Xi(n):[n],eo(e,1))}function pa(t,e,n){var o=null==t?0:t.length;return o?(e=n||e===it?1:Mu(e),li(t,e<0?0:e,o)):[]}function la(t,e,n){var o=null==t?0:t.length;return o?(e=n||e===it?1:Mu(e),e=o-e,li(t,0,e<0?0:e)):[]}function ca(t,e){return t&&t.length?xi(t,Cr(e,3),!0,!0):[]}function fa(t,e){return t&&t.length?xi(t,Cr(e,3),!0):[]}function da(t,e,n,o){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Kr(t,e,n)&&(n=0,o=i),Qn(t,e,n,o)):[]}function ya(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=null==n?0:Mu(n);return i<0&&(i=Vp(o+i,0)),P(t,Cr(e,3),i)}function va(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o-1;return n!==it&&(i=Mu(n),i=n<0?Vp(o+i,0):$p(i,o-1)),P(t,Cr(e,3),i,!0)}function ga(t){var e=null==t?0:t.length;return e?eo(t,1):[]}function ma(t){var e=null==t?0:t.length;return e?eo(t,kt):[]}function ba(t,e){var n=null==t?0:t.length;return n?(e=e===it?1:Mu(e),eo(t,e)):[]}function _a(t){for(var e=-1,n=null==t?0:t.length,o={};++e<n;){var i=t[e];o[i[0]]=i[1]}return o}function xa(t){return t&&t.length?t[0]:it}function wa(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=null==n?0:Mu(n);return i<0&&(i=Vp(o+i,0)),S(t,e,i)}function Pa(t){var e=null==t?0:t.length;return e?li(t,0,-1):[]}function Sa(t,e){return null==t?"":qp.call(t,e)}function Ca(t){var e=null==t?0:t.length;return e?t[e-1]:it}function Ma(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o;return n!==it&&(i=Mu(n),i=i<0?Vp(o+i,0):$p(i,o-1)),e===e?J(t,e,i):P(t,M,i,!0)}function Ta(t,e){return t&&t.length?$o(t,Mu(e)):it}function Aa(t,e){return t&&t.length&&e&&e.length?ei(t,e):t}function Ea(t,e,n){return t&&t.length&&e&&e.length?ei(t,e,Cr(n,2)):t}function Ia(t,e,n){return t&&t.length&&e&&e.length?ei(t,e,it,n):t}function La(t,e){var n=[];if(!t||!t.length)return n;var o=-1,i=[],r=t.length;for(e=Cr(e,3);++o<r;){var a=t[o];e(a,o,t)&&(n.push(a),i.push(o))}return ni(t,i),n}function Na(t){return null==t?t:tl.call(t)}function Oa(t,e,n){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Kr(t,e,n)?(e=0,n=o):(e=null==e?0:Mu(e),n=n===it?o:Mu(n)),li(t,e,n)):[]}function ka(t,e){return fi(t,e)}function Ra(t,e,n){return di(t,e,Cr(n,2))}function Da(t,e){var n=null==t?0:t.length;if(n){var o=fi(t,e);if(o<n&&Vs(t[o],e))return o}return-1}function Fa(t,e){return fi(t,e,!0)}function ja(t,e,n){return di(t,e,Cr(n,2),!0)}function Ka(t,e){var n=null==t?0:t.length;if(n){var o=fi(t,e,!0)-1;if(Vs(t[o],e))return o}return-1}function Ba(t){return t&&t.length?yi(t):[]}function Xa(t,e){return t&&t.length?yi(t,Cr(e,2)):[]}function Ua(t){var e=null==t?0:t.length;return e?li(t,1,e):[]}function Ya(t,e,n){return t&&t.length?(e=n||e===it?1:Mu(e),li(t,0,e<0?0:e)):[]}function Ga(t,e,n){var o=null==t?0:t.length;return o?(e=n||e===it?1:Mu(e),e=o-e,li(t,e<0?0:e,o)):[]}function Wa(t,e){return t&&t.length?xi(t,Cr(e,3),!1,!0):[]}function za(t,e){return t&&t.length?xi(t,Cr(e,3)):[]}function qa(t){return t&&t.length?mi(t):[]}function Ha(t,e){return t&&t.length?mi(t,Cr(e,2)):[]}function Va(t,e){return e="function"==typeof e?e:it,t&&t.length?mi(t,it,e):[]}function $a(t){if(!t||!t.length)return[];var e=0;return t=c(t,function(t){if(Zs(t))return e=Vp(t.length,e),!0}),O(e,function(e){return y(t,A(e))})}function Za(t,e){if(!t||!t.length)return[];var n=$a(t);return null==e?n:y(n,function(t){return s(e,it,t)})}function Ja(t,e){return Si(t||[],e||[],Nn)}function Qa(t,e){return Si(t||[],e||[],hi)}function ts(t){var e=n(t);return e.__chain__=!0,e}function es(t,e){return e(t),t}function ns(t,e){return e(t)}function os(){return ts(this)}function is(){return new i(this.value(),this.__chain__)}function rs(){this.__values__===it&&(this.__values__=Su(this.value()));var t=this.__index__>=this.__values__.length,e=t?it:this.__values__[this.__index__++];return{done:t,value:e}}function as(){return this}function ss(t){for(var e,n=this;n instanceof o;){var i=aa(n);i.__index__=0,i.__values__=it,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function us(){var t=this.__wrapped__;if(t instanceof _){var e=t;return this.__actions__.length&&(e=new _(this)),e=e.reverse(),e.__actions__.push({func:ns,args:[Na],thisArg:it}),new i(e,this.__chain__)}return this.thru(Na)}function hs(){return wi(this.__wrapped__,this.__actions__)}function ps(t,e,n){var o=_c(t)?l:qn;return n&&Kr(t,e,n)&&(e=it),o(t,Cr(e,3))}function ls(t,e){var n=_c(t)?c:to;return n(t,Cr(e,3))}function cs(t,e){return eo(ms(t,e),1)}function fs(t,e){return eo(ms(t,e),kt)}function ds(t,e,n){return n=n===it?1:Mu(n),eo(ms(t,e),n)}function ys(t,e){var n=_c(t)?h:ml;return n(t,Cr(e,3))}function vs(t,e){var n=_c(t)?p:bl;return n(t,Cr(e,3))}function gs(t,e,n,o){t=$s(t)?t:oh(t),n=n&&!o?Mu(n):0;var i=t.length;return n<0&&(n=Vp(i+n,0)),bu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&S(t,e,n)>-1}function ms(t,e){var n=_c(t)?y:Wo;return n(t,Cr(e,3))}function bs(t,e,n,o){return null==t?[]:(_c(e)||(e=null==e?[]:[e]),n=o?it:n,_c(n)||(n=null==n?[]:[n]),Zo(t,e,n))}function _s(t,e,n){var o=_c(t)?g:I,i=arguments.length<3;return o(t,Cr(e,4),n,i,ml)}function xs(t,e,n){var o=_c(t)?m:I,i=arguments.length<3;return o(t,Cr(e,4),n,i,bl)}function ws(t,e){var n=_c(t)?c:to;return n(t,Ds(Cr(e,3)))}function Ps(t){var e=_c(t)?An:si;return e(t)}function Ss(t,e,n){e=(n?Kr(t,e,n):e===it)?1:Mu(e);var o=_c(t)?En:ui;return o(t,e)}function Cs(t){var e=_c(t)?In:pi;return e(t)}function Ms(t){if(null==t)return 0;if($s(t))return bu(t)?Q(t):t.length;var e=Il(t);return e==Zt||e==ie?t.size:Uo(t).length}function Ts(t,e,n){var o=_c(t)?b:ci;return n&&Kr(t,e,n)&&(e=it),o(t,Cr(e,3))}function As(t,e){if("function"!=typeof e)throw new dp(ut);return t=Mu(t),function(){if(--t<1)return e.apply(this,arguments)}}function Es(t,e,n){return e=n?it:e,e=t&&null==e?t.length:e,fr(t,St,it,it,it,it,e)}function Is(t,e){var n;if("function"!=typeof e)throw new dp(ut);return t=Mu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=it),n}}function Ls(t,e,n){e=n?it:e;var o=fr(t,_t,it,it,it,it,it,e);return o.placeholder=Ls.placeholder,o}function Ns(t,e,n){e=n?it:e;var o=fr(t,xt,it,it,it,it,it,e);return o.placeholder=Ns.placeholder,o}function Os(t,e,n){function o(e){var n=c,o=f;return c=f=it,m=e,y=t.apply(o,n)}function i(t){return m=t,v=Ol(s,e),b?o(t):y}function r(t){var n=t-g,o=t-m,i=e-n;return _?$p(i,d-o):i}function a(t){var n=t-g,o=t-m;return g===it||n>=e||n<0||_&&o>=d}function s(){var t=uc();return a(t)?u(t):void(v=Ol(s,r(t)))}function u(t){return v=it,x&&c?o(t):(c=f=it,y)}function h(){v!==it&&Cl(v),m=0,c=g=f=v=it}function p(){return v===it?y:u(uc())}function l(){var t=uc(),n=a(t);if(c=arguments,f=this,g=t,n){if(v===it)return i(g);if(_)return v=Ol(s,e),o(g)}return v===it&&(v=Ol(s,e)),y}var c,f,d,y,v,g,m=0,b=!1,_=!1,x=!0;if("function"!=typeof t)throw new dp(ut);return e=Au(e)||0,uu(n)&&(b=!!n.leading,_="maxWait"in n,d=_?Vp(Au(n.maxWait)||0,e):d,x="trailing"in n?!!n.trailing:x),l.cancel=h,l.flush=p,l}function ks(t){return fr(t,Mt)}function Rs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new dp(ut);var n=function(){var o=arguments,i=e?e.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var a=t.apply(this,o);return n.cache=r.set(i,a)||r,a};return n.cache=new(Rs.Cache||cn),n}function Ds(t){if("function"!=typeof t)throw new dp(ut);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Fs(t){return Is(2,t)}function js(t,e){if("function"!=typeof t)throw new dp(ut);return e=e===it?e:Mu(e),ai(t,e)}function Ks(t,e){if("function"!=typeof t)throw new dp(ut);return e=null==e?0:Vp(Mu(e),0),ai(function(n){var o=n[e],i=Ai(n,0,e);return o&&v(i,o),s(t,this,i)})}function Bs(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new dp(ut);return uu(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),Os(t,e,{leading:o,maxWait:e,trailing:i})}function Xs(t){return Es(t,1)}function Us(t,e){return dc(Mi(e),t)}function Ys(){if(!arguments.length)return[];var t=arguments[0];return _c(t)?t:[t]}function Gs(t){return Bn(t,dt)}function Ws(t,e){return e="function"==typeof e?e:it,Bn(t,dt,e)}function zs(t){return Bn(t,ct|dt)}function qs(t,e){return e="function"==typeof e?e:it,Bn(t,ct|dt,e)}function Hs(t,e){return null==e||Un(t,e,Gu(e))}function Vs(t,e){return t===e||t!==t&&e!==e}function $s(t){return null!=t&&su(t.length)&&!ru(t)}function Zs(t){return hu(t)&&$s(t)}function Js(t){return t===!0||t===!1||hu(t)&&lo(t)==Wt}function Qs(t){return hu(t)&&1===t.nodeType&&!gu(t)}function tu(t){if(null==t)return!0;if($s(t)&&(_c(t)||"string"==typeof t||"function"==typeof t.splice||wc(t)||Tc(t)||bc(t)))return!t.length;var e=Il(t);if(e==Zt||e==ie)return!t.size;if(Gr(t))return!Uo(t).length;for(var n in t)if(_p.call(t,n))return!1;return!0}function eu(t,e){return Oo(t,e)}function nu(t,e,n){n="function"==typeof n?n:it;var o=n?n(t,e):it;return o===it?Oo(t,e,it,n):!!o}function ou(t){if(!hu(t))return!1;var e=lo(t);return e==Ht||e==qt||"string"==typeof t.message&&"string"==typeof t.name&&!gu(t)}function iu(t){return"number"==typeof t&&zp(t)}function ru(t){if(!uu(t))return!1;var e=lo(t);return e==Vt||e==$t||e==Gt||e==ne}function au(t){return"number"==typeof t&&t==Mu(t)}function su(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Rt}function uu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function hu(t){return null!=t&&"object"==typeof t}function pu(t,e){return t===e||Do(t,e,Tr(e))}function lu(t,e,n){return n="function"==typeof n?n:it,Do(t,e,Tr(e),n)}function cu(t){return vu(t)&&t!=+t}function fu(t){if(Ll(t))throw new up(st);return Fo(t)}function du(t){return null===t}function yu(t){return null==t}function vu(t){return"number"==typeof t||hu(t)&&lo(t)==Jt}function gu(t){if(!hu(t)||lo(t)!=te)return!1;var e=Lp(t);if(null===e)return!0;var n=_p.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&bp.call(n)==Sp}function mu(t){return au(t)&&t>=-Rt&&t<=Rt}function bu(t){return"string"==typeof t||!_c(t)&&hu(t)&&lo(t)==re}function _u(t){return"symbol"==typeof t||hu(t)&&lo(t)==ae}function xu(t){return t===it}function wu(t){return hu(t)&&Il(t)==ue}function Pu(t){return hu(t)&&lo(t)==he}function Su(t){if(!t)return[];if($s(t))return bu(t)?tt(t):Xi(t);if(Dp&&t[Dp])return W(t[Dp]());var e=Il(t),n=e==Zt?z:e==ie?V:oh;return n(t)}function Cu(t){if(!t)return 0===t?t:0;if(t=Au(t),t===kt||t===-kt){var e=t<0?-1:1;return e*Dt}return t===t?t:0}function Mu(t){var e=Cu(t),n=e%1;return e===e?n?e-n:e:0}function Tu(t){return t?Kn(Mu(t),0,jt):0}function Au(t){if("number"==typeof t)return t;if(_u(t))return Ft;if(uu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=uu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Fe,"");var n=He.test(t);return n||$e.test(t)?io(t.slice(2),n?2:8):qe.test(t)?Ft:+t}function Eu(t){return Ui(t,Wu(t))}function Iu(t){return t?Kn(Mu(t),-Rt,Rt):0===t?t:0}function Lu(t){return null==t?"":gi(t)}function Nu(t,e){var n=gl(t);return null==e?n:Rn(n,e)}function Ou(t,e){return w(t,Cr(e,3),no)}function ku(t,e){return w(t,Cr(e,3),ro)}function Ru(t,e){return null==t?t:_l(t,Cr(e,3),Wu)}function Du(t,e){return null==t?t:xl(t,Cr(e,3),Wu)}function Fu(t,e){return t&&no(t,Cr(e,3))}function ju(t,e){return t&&ro(t,Cr(e,3))}function Ku(t){return null==t?[]:ao(t,Gu(t))}function Bu(t){return null==t?[]:ao(t,Wu(t))}function Xu(t,e,n){var o=null==t?it:uo(t,e);return o===it?n:o}function Uu(t,e){return null!=t&&Nr(t,e,_o)}function Yu(t,e){return null!=t&&Nr(t,e,So)}function Gu(t){return $s(t)?Tn(t):Uo(t)}function Wu(t){return $s(t)?Tn(t,!0):Yo(t)}function zu(t,e){var n={};return e=Cr(e,3),no(t,function(t,o,i){Fn(n,e(t,o,i),t)}),n}function qu(t,e){var n={};return e=Cr(e,3),no(t,function(t,o,i){Fn(n,o,e(t,o,i))}),n}function Hu(t,e){return Vu(t,Ds(Cr(e)))}function Vu(t,e){if(null==t)return{};var n=y(wr(t),function(t){return[t]});return e=Cr(e),Qo(t,n,function(t,n){return e(t,n[0])})}function $u(t,e,n){e=Ti(e,t);var o=-1,i=e.length;for(i||(i=1,t=it);++o<i;){var r=null==t?it:t[oa(e[o])];r===it&&(o=i,r=n),t=ru(r)?r.call(t):r}return t}function Zu(t,e,n){return null==t?t:hi(t,e,n)}function Ju(t,e,n,o){return o="function"==typeof o?o:it,null==t?t:hi(t,e,n,o)}function Qu(t,e,n){var o=_c(t),i=o||wc(t)||Tc(t);if(e=Cr(e,4),null==n){var r=t&&t.constructor;n=i?o?new r:[]:uu(t)&&ru(r)?gl(Lp(t)):{}}return(i?h:no)(t,function(t,o,i){return e(n,t,o,i)}),n}function th(t,e){return null==t||bi(t,e)}function eh(t,e,n){return null==t?t:_i(t,e,Mi(n))}function nh(t,e,n,o){return o="function"==typeof o?o:it,null==t?t:_i(t,e,Mi(n),o)}function oh(t){return null==t?[]:D(t,Gu(t))}function ih(t){return null==t?[]:D(t,Wu(t))}function rh(t,e,n){return n===it&&(n=e,e=it),n!==it&&(n=Au(n),n=n===n?n:0),e!==it&&(e=Au(e),e=e===e?e:0),Kn(Au(t),e,n)}function ah(t,e,n){return e=Cu(e),n===it?(n=e,e=0):n=Cu(n),t=Au(t),Mo(t,e,n)}function sh(t,e,n){if(n&&"boolean"!=typeof n&&Kr(t,e,n)&&(e=n=it),n===it&&("boolean"==typeof e?(n=e,e=it):"boolean"==typeof t&&(n=t,t=it)),t===it&&e===it?(t=0,e=1):(t=Cu(t),e===it?(e=t,t=0):e=Cu(e)),t>e){var o=t;t=e,e=o}if(n||t%1||e%1){var i=Qp();return $p(t+i*(e-t+oo("1e-"+((i+"").length-1))),e)}return oi(t,e)}function uh(t){return Qc(Lu(t).toLowerCase())}function hh(t){return t=Lu(t),t&&t.replace(Je,xo).replace(Gn,"")}function ph(t,e,n){t=Lu(t),e=gi(e);var o=t.length;n=n===it?o:Kn(Mu(n),0,o);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function lh(t){return t=Lu(t),t&&Te.test(t)?t.replace(Ce,wo):t}function ch(t){return t=Lu(t),t&&De.test(t)?t.replace(Re,"\\$&"):t}function fh(t,e,n){t=Lu(t),e=Mu(e);var o=e?Q(t):0;if(!e||o>=e)return t;var i=(e-o)/2;return ar(Yp(i),n)+t+ar(Up(i),n)}function dh(t,e,n){t=Lu(t),e=Mu(e);var o=e?Q(t):0;return e&&o<e?t+ar(e-o,n):t}function yh(t,e,n){t=Lu(t),e=Mu(e);var o=e?Q(t):0;return e&&o<e?ar(e-o,n)+t:t}function vh(t,e,n){return n||null==e?e=0:e&&(e=+e),Jp(Lu(t).replace(je,""),e||0)}function gh(t,e,n){return e=(n?Kr(t,e,n):e===it)?1:Mu(e),ri(Lu(t),e)}function mh(){var t=arguments,e=Lu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function bh(t,e,n){return n&&"number"!=typeof n&&Kr(t,e,n)&&(e=n=it),(n=n===it?jt:n>>>0)?(t=Lu(t),t&&("string"==typeof e||null!=e&&!Cc(e))&&(e=gi(e),!e&&Y(t))?Ai(tt(t),0,n):t.split(e,n)):[]}function _h(t,e,n){return t=Lu(t),n=null==n?0:Kn(Mu(n),0,t.length),e=gi(e),t.slice(n,n+e.length)==e}function xh(t,e,o){var i=n.templateSettings;o&&Kr(t,e,o)&&(e=it),t=Lu(t),e=Nc({},e,i,dr);var r,a,s=Nc({},e.imports,i.imports,dr),u=Gu(s),h=D(s,u),p=0,l=e.interpolate||Qe,c="__p += '",f=cp((e.escape||Qe).source+"|"+l.source+"|"+(l===Ie?We:Qe).source+"|"+(e.evaluate||Qe).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++$n+"]")+"\n";t.replace(f,function(e,n,o,i,s,u){return o||(o=i),c+=t.slice(p,u).replace(tn,X),n&&(r=!0,c+="' +\n__e("+n+") +\n'"),s&&(a=!0,c+="';\n"+s+";\n__p += '"),o&&(c+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),p=u+e.length,e}),c+="';\n";var y=e.variable;y||(c="with (obj) {\n"+c+"\n}\n"),c=(a?c.replace(xe,""):c).replace(we,"$1").replace(Pe,"$1;"),c="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var v=tf(function(){return hp(u,d+"return "+c).apply(it,h)});if(v.source=c,ou(v))throw v;return v}function wh(t){return Lu(t).toLowerCase()}function Ph(t){return Lu(t).toUpperCase()}function Sh(t,e,n){if(t=Lu(t),t&&(n||e===it))return t.replace(Fe,"");if(!t||!(e=gi(e)))return t;var o=tt(t),i=tt(e),r=j(o,i),a=K(o,i)+1;return Ai(o,r,a).join("")}function Ch(t,e,n){if(t=Lu(t),t&&(n||e===it))return t.replace(Ke,"");if(!t||!(e=gi(e)))return t;var o=tt(t),i=K(o,tt(e))+1;return Ai(o,0,i).join("")}function Mh(t,e,n){if(t=Lu(t),t&&(n||e===it))return t.replace(je,"");if(!t||!(e=gi(e)))return t;var o=tt(t),i=j(o,tt(e));return Ai(o,i).join("")}function Th(t,e){var n=Tt,o=At;if(uu(e)){var i="separator"in e?e.separator:i;n="length"in e?Mu(e.length):n,o="omission"in e?gi(e.omission):o}t=Lu(t);var r=t.length;if(Y(t)){var a=tt(t);r=a.length}if(n>=r)return t;var s=n-Q(o);if(s<1)return o;var u=a?Ai(a,0,s).join(""):t.slice(0,s);if(i===it)return u+o;if(a&&(s+=u.length-s),Cc(i)){if(t.slice(s).search(i)){var h,p=u;for(i.global||(i=cp(i.source,Lu(ze.exec(i))+"g")),i.lastIndex=0;h=i.exec(p);)var l=h.index;u=u.slice(0,l===it?s:l)}}else if(t.indexOf(gi(i),s)!=s){var c=u.lastIndexOf(i);c>-1&&(u=u.slice(0,c))}return u+o}function Ah(t){return t=Lu(t),t&&Me.test(t)?t.replace(Se,Po):t}function Eh(t,e,n){return t=Lu(t),e=n?it:e,e===it?G(t)?ot(t):x(t):t.match(e)||[]}function Ih(t){var e=null==t?0:t.length,n=Cr();return t=e?y(t,function(t){if("function"!=typeof t[1])throw new dp(ut);return[n(t[0]),t[1]]}):[],ai(function(n){for(var o=-1;++o<e;){var i=t[o];if(s(i[0],this,n))return s(i[1],this,n)}})}function Lh(t){return Xn(Bn(t,ct))}function Nh(t){return function(){return t}}function Oh(t,e){return null==t||t!==t?e:t}function kh(t){return t}function Rh(t){return Xo("function"==typeof t?t:Bn(t,ct))}function Dh(t){return zo(Bn(t,ct))}function Fh(t,e){return qo(t,Bn(e,ct))}function jh(t,e,n){var o=Gu(e),i=ao(e,o);null!=n||uu(e)&&(i.length||!o.length)||(n=e,e=t,t=this,i=ao(e,Gu(e)));var r=!(uu(n)&&"chain"in n&&!n.chain),a=ru(t);return h(i,function(n){var o=e[n];t[n]=o,a&&(t.prototype[n]=function(){var e=this.__chain__;if(r||e){var n=t(this.__wrapped__),i=n.__actions__=Xi(this.__actions__);return i.push({func:o,args:arguments,thisArg:t}),n.__chain__=e,n}return o.apply(t,v([this.value()],arguments))})}),t}function Kh(){return so._===this&&(so._=Cp),this}function Bh(){}function Xh(t){return t=Mu(t),ai(function(e){return $o(e,t)})}function Uh(t){return Br(t)?A(oa(t)):ti(t)}function Yh(t){return function(e){return null==t?it:uo(t,e)}}function Gh(){return[]}function Wh(){return!1}function zh(){return{}}function qh(){return""}function Hh(){return!0}function Vh(t,e){if(t=Mu(t),t<1||t>Rt)return[];var n=jt,o=$p(t,jt);e=Cr(e),t-=jt;for(var i=O(o,e);++n<t;)e(n);return i}function $h(t){return _c(t)?y(t,oa):_u(t)?[t]:Xi(Rl(Lu(t)))}function Zh(t){var e=++xp;return Lu(t)+e}function Jh(t){return t&&t.length?Hn(t,kh,co):it}function Qh(t,e){return t&&t.length?Hn(t,Cr(e,2),co):it}function tp(t){return T(t,kh)}function ep(t,e){return T(t,Cr(e,2))}function np(t){return t&&t.length?Hn(t,kh,Go):it}function op(t,e){return t&&t.length?Hn(t,Cr(e,2),Go):it}function ip(t){return t&&t.length?N(t,kh):0}function rp(t,e){return t&&t.length?N(t,Cr(e,2)):0}e=null==e?so:Co.defaults(so.Object(),e,Co.pick(so,Vn));var ap=e.Array,sp=e.Date,up=e.Error,hp=e.Function,pp=e.Math,lp=e.Object,cp=e.RegExp,fp=e.String,dp=e.TypeError,yp=ap.prototype,vp=hp.prototype,gp=lp.prototype,mp=e["__core-js_shared__"],bp=vp.toString,_p=gp.hasOwnProperty,xp=0,wp=function(){var t=/[^.]+$/.exec(mp&&mp.keys&&mp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Pp=gp.toString,Sp=bp.call(lp),Cp=so._,Mp=cp("^"+bp.call(_p).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tp=po?e.Buffer:it,Ap=e.Symbol,Ep=e.Uint8Array,Ip=Tp?Tp.allocUnsafe:it,Lp=q(lp.getPrototypeOf,lp),Np=lp.create,Op=gp.propertyIsEnumerable,kp=yp.splice,Rp=Ap?Ap.isConcatSpreadable:it,Dp=Ap?Ap.iterator:it,Fp=Ap?Ap.toStringTag:it,jp=function(){try{var t=Ar(lp,"defineProperty");return t({},"",{}),t}catch(t){}}(),Kp=e.clearTimeout!==so.clearTimeout&&e.clearTimeout,Bp=sp&&sp.now!==so.Date.now&&sp.now,Xp=e.setTimeout!==so.setTimeout&&e.setTimeout,Up=pp.ceil,Yp=pp.floor,Gp=lp.getOwnPropertySymbols,Wp=Tp?Tp.isBuffer:it,zp=e.isFinite,qp=yp.join,Hp=q(lp.keys,lp),Vp=pp.max,$p=pp.min,Zp=sp.now,Jp=e.parseInt,Qp=pp.random,tl=yp.reverse,el=Ar(e,"DataView"),nl=Ar(e,"Map"),ol=Ar(e,"Promise"),il=Ar(e,"Set"),rl=Ar(e,"WeakMap"),al=Ar(lp,"create"),sl=rl&&new rl,ul={},hl=ia(el),pl=ia(nl),ll=ia(ol),cl=ia(il),fl=ia(rl),dl=Ap?Ap.prototype:it,yl=dl?dl.valueOf:it,vl=dl?dl.toString:it,gl=function(){function t(){}return function(e){if(!uu(e))return{};if(Np)return Np(e);t.prototype=e;var n=new t;return t.prototype=it,n}}();n.templateSettings={escape:Ae,evaluate:Ee,interpolate:Ie,variable:"",imports:{_:n}},n.prototype=o.prototype,n.prototype.constructor=n,i.prototype=gl(o.prototype),i.prototype.constructor=i,_.prototype=gl(o.prototype),_.prototype.constructor=_,nt.prototype.clear=Ye,nt.prototype.delete=en,nt.prototype.get=nn,nt.prototype.has=on,nt.prototype.set=rn,an.prototype.clear=sn,an.prototype.delete=un,an.prototype.get=hn,an.prototype.has=pn,an.prototype.set=ln,cn.prototype.clear=fn,cn.prototype.delete=dn,cn.prototype.get=yn,cn.prototype.has=vn,cn.prototype.set=gn,mn.prototype.add=mn.prototype.push=bn,mn.prototype.has=_n,xn.prototype.clear=wn,xn.prototype.delete=Pn,xn.prototype.get=Sn,xn.prototype.has=Cn,xn.prototype.set=Mn;var ml=qi(no),bl=qi(ro,!0),_l=Hi(),xl=Hi(!0),wl=sl?function(t,e){return sl.set(t,e),t}:kh,Pl=jp?function(t,e){return jp(t,"toString",{configurable:!0,enumerable:!1,value:Nh(e),writable:!0})}:kh,Sl=ai,Cl=Kp||function(t){return so.clearTimeout(t)},Ml=il&&1/V(new il([,-0]))[1]==kt?function(t){return new il(t)}:Bh,Tl=sl?function(t){return sl.get(t)}:Bh,Al=Gp?function(t){return null==t?[]:(t=lp(t),c(Gp(t),function(e){return Op.call(t,e)}))}:Gh,El=Gp?function(t){for(var e=[];t;)v(e,Al(t)),t=Lp(t);return e}:Gh,Il=lo;(el&&Il(new el(new ArrayBuffer(1)))!=le||nl&&Il(new nl)!=Zt||ol&&Il(ol.resolve())!=ee||il&&Il(new il)!=ie||rl&&Il(new rl)!=ue)&&(Il=function(t){var e=lo(t),n=e==te?t.constructor:it,o=n?ia(n):"";if(o)switch(o){case hl:return le;case pl:return Zt;case ll:return ee;case cl:return ie;case fl:return ue}return e});var Ll=mp?ru:Wh,Nl=ea(wl),Ol=Xp||function(t,e){return so.setTimeout(t,e)},kl=ea(Pl),Rl=qr(function(t){var e=[];return Oe.test(t)&&e.push(""),t.replace(ke,function(t,n,o,i){e.push(o?i.replace(Ge,"$1"):n||t)}),e}),Dl=ai(function(t,e){return Zs(t)?zn(t,eo(e,1,Zs,!0)):[]}),Fl=ai(function(t,e){var n=Ca(e);return Zs(n)&&(n=it),Zs(t)?zn(t,eo(e,1,Zs,!0),Cr(n,2)):[]}),jl=ai(function(t,e){var n=Ca(e);return Zs(n)&&(n=it),Zs(t)?zn(t,eo(e,1,Zs,!0),it,n):[]}),Kl=ai(function(t){var e=y(t,Ci);return e.length&&e[0]===t[0]?To(e):[]}),Bl=ai(function(t){var e=Ca(t),n=y(t,Ci);return e===Ca(n)?e=it:n.pop(),n.length&&n[0]===t[0]?To(n,Cr(e,2)):[]}),Xl=ai(function(t){var e=Ca(t),n=y(t,Ci);return e="function"==typeof e?e:it,e&&n.pop(),n.length&&n[0]===t[0]?To(n,it,e):[]}),Ul=ai(Aa),Yl=_r(function(t,e){var n=null==t?0:t.length,o=jn(t,e);return ni(t,y(e,function(t){return jr(t,n)?+t:t}).sort(Fi)),o}),Gl=ai(function(t){return mi(eo(t,1,Zs,!0))}),Wl=ai(function(t){var e=Ca(t);return Zs(e)&&(e=it),mi(eo(t,1,Zs,!0),Cr(e,2))}),zl=ai(function(t){var e=Ca(t);return e="function"==typeof e?e:it,mi(eo(t,1,Zs,!0),it,e)}),ql=ai(function(t,e){return Zs(t)?zn(t,e):[]}),Hl=ai(function(t){return Pi(c(t,Zs))}),Vl=ai(function(t){var e=Ca(t);return Zs(e)&&(e=it),Pi(c(t,Zs),Cr(e,2))}),$l=ai(function(t){var e=Ca(t);return e="function"==typeof e?e:it,Pi(c(t,Zs),it,e)}),Zl=ai($a),Jl=ai(function(t){var e=t.length,n=e>1?t[e-1]:it;return n="function"==typeof n?(t.pop(),n):it,Za(t,n)}),Ql=_r(function(t){var e=t.length,n=e?t[0]:0,o=this.__wrapped__,r=function(e){return jn(e,t)};return!(e>1||this.__actions__.length)&&o instanceof _&&jr(n)?(o=o.slice(n,+n+(e?1:0)),o.__actions__.push({func:ns,args:[r],thisArg:it}),new i(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(it),t})):this.thru(r)}),tc=Wi(function(t,e,n){_p.call(t,n)?++t[n]:Fn(t,n,1)}),ec=tr(ya),nc=tr(va),oc=Wi(function(t,e,n){_p.call(t,n)?t[n].push(e):Fn(t,n,[e])}),ic=ai(function(t,e,n){var o=-1,i="function"==typeof e,r=$s(t)?ap(t.length):[];return ml(t,function(t){r[++o]=i?s(e,t,n):Eo(t,e,n)}),r}),rc=Wi(function(t,e,n){Fn(t,n,e)}),ac=Wi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),sc=ai(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Kr(t,e[0],e[1])?e=[]:n>2&&Kr(e[0],e[1],e[2])&&(e=[e[0]]),Zo(t,eo(e,1),[])}),uc=Bp||function(){return so.Date.now()},hc=ai(function(t,e,n){var o=gt;if(n.length){var i=H(n,Sr(hc));o|=wt}return fr(t,o,e,n,i)}),pc=ai(function(t,e,n){var o=gt|mt;if(n.length){var i=H(n,Sr(pc));o|=wt}return fr(e,o,t,n,i)}),lc=ai(function(t,e){return Wn(t,1,e)}),cc=ai(function(t,e,n){return Wn(t,Au(e)||0,n)});Rs.Cache=cn;var fc=Sl(function(t,e){e=1==e.length&&_c(e[0])?y(e[0],R(Cr())):y(eo(e,1),R(Cr()));var n=e.length;return ai(function(o){for(var i=-1,r=$p(o.length,n);++i<r;)o[i]=e[i].call(this,o[i]);return s(t,this,o)})}),dc=ai(function(t,e){var n=H(e,Sr(dc));return fr(t,wt,it,e,n)}),yc=ai(function(t,e){var n=H(e,Sr(yc));return fr(t,Pt,it,e,n)}),vc=_r(function(t,e){return fr(t,Ct,it,it,it,e)}),gc=hr(co),mc=hr(function(t,e){return t>=e}),bc=Io(function(){return arguments}())?Io:function(t){return hu(t)&&_p.call(t,"callee")&&!Op.call(t,"callee")},_c=ap.isArray,xc=fo?R(fo):Lo,wc=Wp||Wh,Pc=yo?R(yo):No,Sc=vo?R(vo):Ro,Cc=go?R(go):jo,Mc=mo?R(mo):Ko,Tc=bo?R(bo):Bo,Ac=hr(Go),Ec=hr(function(t,e){return t<=e}),Ic=zi(function(t,e){if(Gr(e)||$s(e))return void Ui(e,Gu(e),t);for(var n in e)_p.call(e,n)&&Nn(t,n,e[n])}),Lc=zi(function(t,e){Ui(e,Wu(e),t)}),Nc=zi(function(t,e,n,o){Ui(e,Wu(e),t,o)}),Oc=zi(function(t,e,n,o){Ui(e,Gu(e),t,o)}),kc=_r(jn),Rc=ai(function(t){return t.push(it,dr),s(Nc,it,t)}),Dc=ai(function(t){return t.push(it,yr),s(Xc,it,t)}),Fc=or(function(t,e,n){t[e]=n},Nh(kh)),jc=or(function(t,e,n){_p.call(t,e)?t[e].push(n):t[e]=[n]},Cr),Kc=ai(Eo),Bc=zi(function(t,e,n){Ho(t,e,n)}),Xc=zi(function(t,e,n,o){Ho(t,e,n,o)}),Uc=_r(function(t,e){var n={};if(null==t)return n;var o=!1;e=y(e,function(e){return e=Ti(e,t),o||(o=e.length>1),e}),Ui(t,wr(t),n),o&&(n=Bn(n,ct|ft|dt,vr));for(var i=e.length;i--;)bi(n,e[i]);return n}),Yc=_r(function(t,e){return null==t?{}:Jo(t,e)}),Gc=cr(Gu),Wc=cr(Wu),zc=Zi(function(t,e,n){return e=e.toLowerCase(),t+(n?uh(e):e)}),qc=Zi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Hc=Zi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Vc=$i("toLowerCase"),$c=Zi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Zc=Zi(function(t,e,n){return t+(n?" ":"")+Qc(e)}),Jc=Zi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Qc=$i("toUpperCase"),tf=ai(function(t,e){try{return s(t,it,e)}catch(t){return ou(t)?t:new up(t)}
}),ef=_r(function(t,e){return h(e,function(e){e=oa(e),Fn(t,e,hc(t[e],t))}),t}),nf=er(),of=er(!0),rf=ai(function(t,e){return function(n){return Eo(n,t,e)}}),af=ai(function(t,e){return function(n){return Eo(t,n,e)}}),sf=rr(y),uf=rr(l),hf=rr(b),pf=ur(),lf=ur(!0),cf=ir(function(t,e){return t+e},0),ff=lr("ceil"),df=ir(function(t,e){return t/e},1),yf=lr("floor"),vf=ir(function(t,e){return t*e},1),gf=lr("round"),mf=ir(function(t,e){return t-e},0);return n.after=As,n.ary=Es,n.assign=Ic,n.assignIn=Lc,n.assignInWith=Nc,n.assignWith=Oc,n.at=kc,n.before=Is,n.bind=hc,n.bindAll=ef,n.bindKey=pc,n.castArray=Ys,n.chain=ts,n.chunk=sa,n.compact=ua,n.concat=ha,n.cond=Ih,n.conforms=Lh,n.constant=Nh,n.countBy=tc,n.create=Nu,n.curry=Ls,n.curryRight=Ns,n.debounce=Os,n.defaults=Rc,n.defaultsDeep=Dc,n.defer=lc,n.delay=cc,n.difference=Dl,n.differenceBy=Fl,n.differenceWith=jl,n.drop=pa,n.dropRight=la,n.dropRightWhile=ca,n.dropWhile=fa,n.fill=da,n.filter=ls,n.flatMap=cs,n.flatMapDeep=fs,n.flatMapDepth=ds,n.flatten=ga,n.flattenDeep=ma,n.flattenDepth=ba,n.flip=ks,n.flow=nf,n.flowRight=of,n.fromPairs=_a,n.functions=Ku,n.functionsIn=Bu,n.groupBy=oc,n.initial=Pa,n.intersection=Kl,n.intersectionBy=Bl,n.intersectionWith=Xl,n.invert=Fc,n.invertBy=jc,n.invokeMap=ic,n.iteratee=Rh,n.keyBy=rc,n.keys=Gu,n.keysIn=Wu,n.map=ms,n.mapKeys=zu,n.mapValues=qu,n.matches=Dh,n.matchesProperty=Fh,n.memoize=Rs,n.merge=Bc,n.mergeWith=Xc,n.method=rf,n.methodOf=af,n.mixin=jh,n.negate=Ds,n.nthArg=Xh,n.omit=Uc,n.omitBy=Hu,n.once=Fs,n.orderBy=bs,n.over=sf,n.overArgs=fc,n.overEvery=uf,n.overSome=hf,n.partial=dc,n.partialRight=yc,n.partition=ac,n.pick=Yc,n.pickBy=Vu,n.property=Uh,n.propertyOf=Yh,n.pull=Ul,n.pullAll=Aa,n.pullAllBy=Ea,n.pullAllWith=Ia,n.pullAt=Yl,n.range=pf,n.rangeRight=lf,n.rearg=vc,n.reject=ws,n.remove=La,n.rest=js,n.reverse=Na,n.sampleSize=Ss,n.set=Zu,n.setWith=Ju,n.shuffle=Cs,n.slice=Oa,n.sortBy=sc,n.sortedUniq=Ba,n.sortedUniqBy=Xa,n.split=bh,n.spread=Ks,n.tail=Ua,n.take=Ya,n.takeRight=Ga,n.takeRightWhile=Wa,n.takeWhile=za,n.tap=es,n.throttle=Bs,n.thru=ns,n.toArray=Su,n.toPairs=Gc,n.toPairsIn=Wc,n.toPath=$h,n.toPlainObject=Eu,n.transform=Qu,n.unary=Xs,n.union=Gl,n.unionBy=Wl,n.unionWith=zl,n.uniq=qa,n.uniqBy=Ha,n.uniqWith=Va,n.unset=th,n.unzip=$a,n.unzipWith=Za,n.update=eh,n.updateWith=nh,n.values=oh,n.valuesIn=ih,n.without=ql,n.words=Eh,n.wrap=Us,n.xor=Hl,n.xorBy=Vl,n.xorWith=$l,n.zip=Zl,n.zipObject=Ja,n.zipObjectDeep=Qa,n.zipWith=Jl,n.entries=Gc,n.entriesIn=Wc,n.extend=Lc,n.extendWith=Nc,jh(n,n),n.add=cf,n.attempt=tf,n.camelCase=zc,n.capitalize=uh,n.ceil=ff,n.clamp=rh,n.clone=Gs,n.cloneDeep=zs,n.cloneDeepWith=qs,n.cloneWith=Ws,n.conformsTo=Hs,n.deburr=hh,n.defaultTo=Oh,n.divide=df,n.endsWith=ph,n.eq=Vs,n.escape=lh,n.escapeRegExp=ch,n.every=ps,n.find=ec,n.findIndex=ya,n.findKey=Ou,n.findLast=nc,n.findLastIndex=va,n.findLastKey=ku,n.floor=yf,n.forEach=ys,n.forEachRight=vs,n.forIn=Ru,n.forInRight=Du,n.forOwn=Fu,n.forOwnRight=ju,n.get=Xu,n.gt=gc,n.gte=mc,n.has=Uu,n.hasIn=Yu,n.head=xa,n.identity=kh,n.includes=gs,n.indexOf=wa,n.inRange=ah,n.invoke=Kc,n.isArguments=bc,n.isArray=_c,n.isArrayBuffer=xc,n.isArrayLike=$s,n.isArrayLikeObject=Zs,n.isBoolean=Js,n.isBuffer=wc,n.isDate=Pc,n.isElement=Qs,n.isEmpty=tu,n.isEqual=eu,n.isEqualWith=nu,n.isError=ou,n.isFinite=iu,n.isFunction=ru,n.isInteger=au,n.isLength=su,n.isMap=Sc,n.isMatch=pu,n.isMatchWith=lu,n.isNaN=cu,n.isNative=fu,n.isNil=yu,n.isNull=du,n.isNumber=vu,n.isObject=uu,n.isObjectLike=hu,n.isPlainObject=gu,n.isRegExp=Cc,n.isSafeInteger=mu,n.isSet=Mc,n.isString=bu,n.isSymbol=_u,n.isTypedArray=Tc,n.isUndefined=xu,n.isWeakMap=wu,n.isWeakSet=Pu,n.join=Sa,n.kebabCase=qc,n.last=Ca,n.lastIndexOf=Ma,n.lowerCase=Hc,n.lowerFirst=Vc,n.lt=Ac,n.lte=Ec,n.max=Jh,n.maxBy=Qh,n.mean=tp,n.meanBy=ep,n.min=np,n.minBy=op,n.stubArray=Gh,n.stubFalse=Wh,n.stubObject=zh,n.stubString=qh,n.stubTrue=Hh,n.multiply=vf,n.nth=Ta,n.noConflict=Kh,n.noop=Bh,n.now=uc,n.pad=fh,n.padEnd=dh,n.padStart=yh,n.parseInt=vh,n.random=sh,n.reduce=_s,n.reduceRight=xs,n.repeat=gh,n.replace=mh,n.result=$u,n.round=gf,n.runInContext=t,n.sample=Ps,n.size=Ms,n.snakeCase=$c,n.some=Ts,n.sortedIndex=ka,n.sortedIndexBy=Ra,n.sortedIndexOf=Da,n.sortedLastIndex=Fa,n.sortedLastIndexBy=ja,n.sortedLastIndexOf=Ka,n.startCase=Zc,n.startsWith=_h,n.subtract=mf,n.sum=ip,n.sumBy=rp,n.template=xh,n.times=Vh,n.toFinite=Cu,n.toInteger=Mu,n.toLength=Tu,n.toLower=wh,n.toNumber=Au,n.toSafeInteger=Iu,n.toString=Lu,n.toUpper=Ph,n.trim=Sh,n.trimEnd=Ch,n.trimStart=Mh,n.truncate=Th,n.unescape=Ah,n.uniqueId=Zh,n.upperCase=Jc,n.upperFirst=Qc,n.each=ys,n.eachRight=vs,n.first=xa,jh(n,function(){var t={};return no(n,function(e,o){_p.call(n.prototype,o)||(t[o]=e)}),t}(),{chain:!1}),n.VERSION=rt,h(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),h(["drop","take"],function(t,e){_.prototype[t]=function(n){n=n===it?1:Vp(Mu(n),0);var o=this.__filtered__&&!e?new _(this):this.clone();return o.__filtered__?o.__takeCount__=$p(n,o.__takeCount__):o.__views__.push({size:$p(n,jt),type:t+(o.__dir__<0?"Right":"")}),o},_.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),h(["filter","map","takeWhile"],function(t,e){var n=e+1,o=n==Lt||n==Ot;_.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Cr(t,3),type:n}),e.__filtered__=e.__filtered__||o,e}}),h(["head","last"],function(t,e){var n="take"+(e?"Right":"");_.prototype[t]=function(){return this[n](1).value()[0]}}),h(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");_.prototype[t]=function(){return this.__filtered__?new _(this):this[n](1)}}),_.prototype.compact=function(){return this.filter(kh)},_.prototype.find=function(t){return this.filter(t).head()},_.prototype.findLast=function(t){return this.reverse().find(t)},_.prototype.invokeMap=ai(function(t,e){return"function"==typeof t?new _(this):this.map(function(n){return Eo(n,t,e)})}),_.prototype.reject=function(t){return this.filter(Ds(Cr(t)))},_.prototype.slice=function(t,e){t=Mu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new _(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==it&&(e=Mu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},_.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_.prototype.toArray=function(){return this.take(jt)},no(_.prototype,function(t,e){var o=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),a=n[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,u=r?[1]:arguments,h=e instanceof _,p=u[0],l=h||_c(e),c=function(t){var e=a.apply(n,v([t],u));return r&&f?e[0]:e};l&&o&&"function"==typeof p&&1!=p.length&&(h=l=!1);var f=this.__chain__,d=!!this.__actions__.length,y=s&&!f,g=h&&!d;if(!s&&l){e=g?e:new _(this);var m=t.apply(e,u);return m.__actions__.push({func:ns,args:[c],thisArg:it}),new i(m,f)}return y&&g?t.apply(this,u):(m=this.thru(c),y?r?m.value()[0]:m.value():m)})}),h(["pop","push","shift","sort","splice","unshift"],function(t){var e=yp[t],o=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(_c(n)?n:[],t)}return this[o](function(n){return e.apply(_c(n)?n:[],t)})}}),no(_.prototype,function(t,e){var o=n[e];if(o){var i=o.name+"",r=ul[i]||(ul[i]=[]);r.push({name:e,func:o})}}),ul[nr(it,mt).name]=[{name:"wrapper",func:it}],_.prototype.clone=E,_.prototype.reverse=Z,_.prototype.value=et,n.prototype.at=Ql,n.prototype.chain=os,n.prototype.commit=is,n.prototype.next=rs,n.prototype.plant=ss,n.prototype.reverse=us,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=hs,n.prototype.first=n.prototype.head,Dp&&(n.prototype[Dp]=as),n},Co=So();so._=Co,o=function(){return Co}.call(e,n,e,i),!(o!==it&&(i.exports=o))}).call(this)}).call(e,function(){return this}(),n(256)(t))},function(t,e,n){var o=n(16),i=n(81),r=n(64),a=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(o(t),e=r(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t,e,n,o){var i,r=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(i=t,r=t.default);var s="function"==typeof r?r.options:r;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),n&&(s._scopeId=n),o){var u=s.computed||(s.computed={});Object.keys(o).forEach(function(t){var e=o[t];u[t]=function(){return e}})}return{esModule:i,exports:r,options:s}}},function(t,e,n){t.exports=!n(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){/**
	 * vuex v2.4.0
	 * (c) 2017 Evan You
	 * @license MIT
	 */
"use strict";function o(t){S&&(t._devtoolHook=S,S.emit("vuex:init",t),S.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){S.emit("vuex:mutation",t,e)}))}function i(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function r(t){return null!==t&&"object"==typeof t}function a(t){return t&&"function"==typeof t.then}function s(t,e,n){if(e.update(n),n.modules)for(var o in n.modules){if(!e.getChild(o))return;s(t.concat(o),e.getChild(o),n.modules[o])}}function u(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;p(t,n,[],t._modules.root,!0),h(t,n,e)}function h(t,e,n){var o=t._vm;t.getters={};var r=t._wrappedGetters,a={};i(r,function(e,n){a[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var s=A.config.silent;A.config.silent=!0,t._vm=new A({data:{$$state:e},computed:a}),A.config.silent=s,t.strict&&v(t),o&&(n&&t._withCommit(function(){o._data.$$state=null}),A.nextTick(function(){return o.$destroy()}))}function p(t,e,n,o,i){var r=!n.length,a=t._modules.getNamespace(n);if(o.namespaced&&(t._modulesNamespaceMap[a]=o),!r&&!i){var s=g(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit(function(){A.set(s,u,o.state)})}var h=o.context=l(t,a,n);o.forEachMutation(function(e,n){var o=a+n;f(t,o,e,h)}),o.forEachAction(function(e,n){var o=a+n;d(t,o,e,h)}),o.forEachGetter(function(e,n){var o=a+n;y(t,o,e,h)}),o.forEachChild(function(o,r){p(t,e,n.concat(r),o,i)})}function l(t,e,n){var o=""===e,i={dispatch:o?t.dispatch:function(n,o,i){var r=m(n,o,i),a=r.payload,s=r.options,u=r.type;return s&&s.root||(u=e+u),t.dispatch(u,a)},commit:o?t.commit:function(n,o,i){var r=m(n,o,i),a=r.payload,s=r.options,u=r.type;s&&s.root||(u=e+u),t.commit(u,a,s)}};return Object.defineProperties(i,{getters:{get:o?function(){return t.getters}:function(){return c(t,e)}},state:{get:function(){return g(t.state,n)}}}),i}function c(t,e){var n={},o=e.length;return Object.keys(t.getters).forEach(function(i){if(i.slice(0,o)===e){var r=i.slice(o);Object.defineProperty(n,r,{get:function(){return t.getters[i]},enumerable:!0})}}),n}function f(t,e,n,o){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(e){n.call(t,o.state,e)})}function d(t,e,n,o){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(e,i){var r=n.call(t,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:t.getters,rootState:t.state},e,i);return a(r)||(r=Promise.resolve(r)),t._devtoolHook?r.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):r})}function y(t,e,n,o){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(o.state,o.getters,t.state,t.getters)})}function v(t){t._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function g(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function m(t,e,n){return r(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function b(t){A||(A=t,P(A))}function _(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function x(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function w(t,e,n){var o=t._modulesNamespaceMap[n];return o}var P=function(t){function e(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}var n=Number(t.version.split(".")[0]);if(n>=2)t.mixin({beforeCreate:e});else{var o=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[e].concat(t.init):e,o.call(this,t)}}},S="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,C=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},M={namespaced:{}};M.namespaced.get=function(){return!!this._rawModule.namespaced},C.prototype.addChild=function(t,e){this._children[t]=e},C.prototype.removeChild=function(t){delete this._children[t]},C.prototype.getChild=function(t){return this._children[t]},C.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},C.prototype.forEachChild=function(t){i(this._children,t)},C.prototype.forEachGetter=function(t){this._rawModule.getters&&i(this._rawModule.getters,t)},C.prototype.forEachAction=function(t){this._rawModule.actions&&i(this._rawModule.actions,t)},C.prototype.forEachMutation=function(t){this._rawModule.mutations&&i(this._rawModule.mutations,t)},Object.defineProperties(C.prototype,M);var T=function(t){this.register([],t,!1)};T.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},T.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")},"")},T.prototype.update=function(t){s([],this.root,t)},T.prototype.register=function(t,e,n){var o=this;void 0===n&&(n=!0);var r=new C(e,n);if(0===t.length)this.root=r;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],r)}e.modules&&i(e.modules,function(e,i){o.register(t.concat(i),e,n)})},T.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var A,E=function t(e){var n=this;void 0===e&&(e={});var i=e.plugins;void 0===i&&(i=[]);var r=e.strict;void 0===r&&(r=!1);var a=e.state;void 0===a&&(a={}),"function"==typeof a&&(a=a()),this._committing=!1,this._actions=Object.create(null),this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new T(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new A;var s=this,u=this,l=u.dispatch,c=u.commit;this.dispatch=function(t,e){return l.call(s,t,e)},this.commit=function(t,e,n){return c.call(s,t,e,n)},this.strict=r,p(this,a,[],this._modules.root),h(this,a),i.forEach(function(t){return t(n)}),A.config.devtools&&o(this)},I={state:{}};I.state.get=function(){return this._vm._data.$$state},I.state.set=function(t){},E.prototype.commit=function(t,e,n){var o=this,i=m(t,e,n),r=i.type,a=i.payload,s=(i.options,{type:r,payload:a}),u=this._mutations[r];u&&(this._withCommit(function(){u.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(s,o.state)}))},E.prototype.dispatch=function(t,e){var n=m(t,e),o=n.type,i=n.payload,r=this._actions[o];if(r)return r.length>1?Promise.all(r.map(function(t){return t(i)})):r[0](i)},E.prototype.subscribe=function(t){var e=this._subscribers;return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}},E.prototype.watch=function(t,e,n){var o=this;return this._watcherVM.$watch(function(){return t(o.state,o.getters)},e,n)},E.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},E.prototype.registerModule=function(t,e){"string"==typeof t&&(t=[t]),this._modules.register(t,e),p(this,this.state,t,this._modules.get(t)),h(this,this.state)},E.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=g(e.state,t.slice(0,-1));A.delete(n,t[t.length-1])}),u(this)},E.prototype.hotUpdate=function(t){this._modules.update(t),u(this,!0)},E.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(E.prototype,I),"undefined"!=typeof window&&window.Vue&&b(window.Vue);var L=x(function(t,e){var n={};return _(e).forEach(function(e){var o=e.key,i=e.val;n[o]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var o=w(this.$store,"mapState",t);if(!o)return;e=o.context.state,n=o.context.getters}return"function"==typeof i?i.call(this,e,n):e[i]},n[o].vuex=!0}),n}),N=x(function(t,e){var n={};return _(e).forEach(function(e){var o=e.key,i=e.val;i=t+i,n[o]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(!t||w(this.$store,"mapMutations",t))return this.$store.commit.apply(this.$store,[i].concat(e))}}),n}),O=x(function(t,e){var n={};return _(e).forEach(function(e){var o=e.key,i=e.val;i=t+i,n[o]=function(){if(!t||w(this.$store,"mapGetters",t))return this.$store.getters[i]},n[o].vuex=!0}),n}),k=x(function(t,e){var n={};return _(e).forEach(function(e){var o=e.key,i=e.val;i=t+i,n[o]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(!t||w(this.$store,"mapActions",t))return this.$store.dispatch.apply(this.$store,[i].concat(e))}}),n}),R=function(t){return{mapState:L.bind(null,t),mapGetters:O.bind(null,t),mapMutations:N.bind(null,t),mapActions:k.bind(null,t)}},D={Store:E,install:b,version:"2.4.0",mapState:L,mapMutations:N,mapGetters:O,mapActions:k,createNamespacedHelpers:R};t.exports=D},function(t,e,n){t.exports={default:n(149),__esModule:!0}},,,function(t,e,n){var o=n(8),i=n(2),r=n(26),a=n(14),s="prototype",u=function(t,e,n){var h,p,l,c=t&u.F,f=t&u.G,d=t&u.S,y=t&u.P,v=t&u.B,g=t&u.W,m=f?i:i[e]||(i[e]={}),b=m[s],_=f?o:d?o[e]:(o[e]||{})[s];f&&(n=e);for(h in n)p=!c&&_&&void 0!==_[h],p&&h in m||(l=p?_[h]:n[h],m[h]=f&&"function"!=typeof _[h]?n[h]:v&&p?r(l,o):g&&_[h]==l?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e[s]=t[s],e}(l):y&&"function"==typeof l?r(Function.call,l):l,y&&((m.virtual||(m.virtual={}))[h]=l,t&u.R&&b&&!b[h]&&a(b,h,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var o=n(5),i=n(27);t.exports=n(7)?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports={default:n(152),__esModule:!0}},function(t,e,n){var o=n(22);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(55),i=n(37);t.exports=function(t){return o(i(t))}},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(){for(var t,e=0,o=arguments.length,i={};e<o;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new n(i)}function n(t){this._=t}function o(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");if(o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function i(t,e){for(var n,o=0,i=t.length;o<i;++o)if((n=t[o]).name===e)return n.value}function r(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=a,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=n&&t.push({name:e,value:n}),t}var a={value:function(){}};n.prototype=e.prototype={constructor:n,on:function(t,e){var n,a=this._,s=o(t+"",a),u=-1,h=s.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<h;)if(n=(t=s[u]).type)a[n]=r(a[n],t.name,e);else if(null==e)for(n in a)a[n]=r(a[n],t.name,null);return this}for(;++u<h;)if((n=(t=s[u]).type)&&(n=i(a[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var o in e)t[o]=e[o].slice();return new n(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,o,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,n=o.length;r<n;++r)o[r].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}},t.dispatch=e,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(138),r=o(i);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,r.default)(t)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports={}},function(t,e,n){var o=n(87),i=n(53);t.exports=Object.keys||function(t){return o(t,i)}},,function(t,e,n){var o=n(156);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var o=n(37);t.exports=function(t){return Object(o(t))}},function(t,e,n){"use strict";var o=n(179)(!0);n(56)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=o(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){!function(t,o){o(e,n(45))}(this,function(t,e){"use strict";function n(t,e,n,o,i){var r=t*t,a=r*t;return((1-3*t+3*r-a)*e+(4-6*r+3*a)*n+(1+3*t+3*r-3*a)*o+a*i)/6}function o(t,e){return function(n){return t+n*e}}function i(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function r(t,e){var n=e-t;return n?o(t,n>180||n<-180?n-360*Math.round(n/360):n):T(isNaN(t)?e:t)}function a(t){return 1===(t=+t)?s:function(e,n){return n-e?i(e,n,t):T(isNaN(e)?n:e)}}function s(t,e){var n=e-t;return n?o(t,n):T(isNaN(t)?e:t)}function u(t){return function(n){var o,i,r=n.length,a=new Array(r),s=new Array(r),u=new Array(r);for(o=0;o<r;++o)i=e.rgb(n[o]),a[o]=i.r||0,s[o]=i.g||0,u[o]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}function h(t){return function(){return t}}function p(t){return function(e){return t(e)+""}}function l(t){return"none"===t?X:(x||(x=document.createElement("DIV"),w=document.documentElement,P=document.defaultView),x.style.transform=t,t=P.getComputedStyle(w.appendChild(x),null).getPropertyValue("transform"),w.removeChild(x),t=t.slice(7,-1).split(","),U(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function c(t){return null==t?X:(S||(S=document.createElementNS("http://www.w3.org/2000/svg","g")),S.setAttribute("transform",t),(t=S.transform.baseVal.consolidate())?(t=t.matrix,U(t.a,t.b,t.c,t.d,t.e,t.f)):X)}function f(t,e,n,o){function i(t){return t.length?t.pop()+" ":""}function r(t,o,i,r,a,s){if(t!==i||o!==r){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:O(t,i)},{i:u-2,x:O(o,r)})}else(i||r)&&a.push("translate("+i+e+r+n)}function a(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(i(n)+"rotate(",null,o)-2,x:O(t,e)})):e&&n.push(i(n)+"rotate("+e+o)}function s(t,e,n,r){t!==e?r.push({i:n.push(i(n)+"skewX(",null,o)-2,x:O(t,e)}):e&&n.push(i(n)+"skewX("+e+o)}function u(t,e,n,o,r,a){if(t!==n||e!==o){var s=r.push(i(r)+"scale(",null,",",null,")");a.push({i:s-4,x:O(t,n)},{i:s-2,x:O(e,o)})}else 1===n&&1===o||r.push(i(r)+"scale("+n+","+o+")")}return function(e,n){var o=[],i=[];return e=t(e),n=t(n),r(e.translateX,e.translateY,n.translateX,n.translateY,o,i),a(e.rotate,n.rotate,o,i),s(e.skewX,n.skewX,o,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,o,i),e=n=null,function(t){for(var e,n=-1,r=i.length;++n<r;)o[(e=i[n]).i]=e.x(t);return o.join("")}}}function d(t){return((t=Math.exp(t))+1/t)/2}function y(t){return((t=Math.exp(t))-1/t)/2}function v(t){return((t=Math.exp(2*t))-1)/(t+1)}function g(t){return function(n,o){var i=t((n=e.hsl(n)).h,(o=e.hsl(o)).h),r=s(n.s,o.s),a=s(n.l,o.l),u=s(n.opacity,o.opacity);return function(t){return n.h=i(t),n.s=r(t),n.l=a(t),n.opacity=u(t),n+""}}}function m(t,n){var o=s((t=e.lab(t)).l,(n=e.lab(n)).l),i=s(t.a,n.a),r=s(t.b,n.b),a=s(t.opacity,n.opacity);return function(e){return t.l=o(e),t.a=i(e),t.b=r(e),t.opacity=a(e),t+""}}function b(t){return function(n,o){var i=t((n=e.hcl(n)).h,(o=e.hcl(o)).h),r=s(n.c,o.c),a=s(n.l,o.l),u=s(n.opacity,o.opacity);return function(t){return n.h=i(t),n.c=r(t),n.l=a(t),n.opacity=u(t),n+""}}}function _(t){return function n(o){function i(n,i){var r=t((n=e.cubehelix(n)).h,(i=e.cubehelix(i)).h),a=s(n.s,i.s),u=s(n.l,i.l),h=s(n.opacity,i.opacity);return function(t){return n.h=r(t),n.s=a(t),n.l=u(Math.pow(t,o)),n.opacity=h(t),n+""}}return o=+o,i.gamma=n,i}(1)}var x,w,P,S,C=function(t){var e=t.length-1;return function(o){var i=o<=0?o=0:o>=1?(o=1,e-1):Math.floor(o*e),r=t[i],a=t[i+1],s=i>0?t[i-1]:2*r-a,u=i<e-1?t[i+2]:2*a-r;return n((o-i/e)*e,s,r,a,u)}},M=function(t){var e=t.length;return function(o){var i=Math.floor(((o%=1)<0?++o:o)*e),r=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return n((o-i/e)*e,r,a,s,u)}},T=function(t){return function(){return t}},A=function t(n){function o(t,n){var o=i((t=e.rgb(t)).r,(n=e.rgb(n)).r),r=i(t.g,n.g),a=i(t.b,n.b),u=s(t.opacity,n.opacity);return function(e){return t.r=o(e),t.g=r(e),t.b=a(e),t.opacity=u(e),t+""}}var i=a(n);return o.gamma=t,o}(1),E=u(C),I=u(M),L=function(t,e){var n,o=e?e.length:0,i=t?Math.min(o,t.length):0,r=new Array(o),a=new Array(o);for(n=0;n<i;++n)r[n]=j(t[n],e[n]);for(;n<o;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=r[n](t);return a}},N=function(t,e){var n=new Date;return t=+t,e-=t,function(o){return n.setTime(t+e*o),n}},O=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},k=function(t,e){var n,o={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?o[n]=j(t[n],e[n]):i[n]=e[n];return function(t){for(n in o)i[n]=o[n](t);return i}},R=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,D=new RegExp(R.source,"g"),F=function(t,e){var n,o,i,r=R.lastIndex=D.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=R.exec(t))&&(o=D.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,u.push({i:a,x:O(n,o)})),r=D.lastIndex;return r<e.length&&(i=e.slice(r),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?p(u[0].x):h(e):(e=u.length,function(t){for(var n,o=0;o<e;++o)s[(n=u[o]).i]=n.x(t);return s.join("")})},j=function(t,n){var o,i=typeof n;return null==n||"boolean"===i?T(n):("number"===i?O:"string"===i?(o=e.color(n))?(n=o,A):F:n instanceof e.color?A:n instanceof Date?N:Array.isArray(n)?L:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?k:O)(t,n)},K=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},B=180/Math.PI,X={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},U=function(t,e,n,o,i,r){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*o)&&(n-=t*u,o-=e*u),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,u/=s),t*o<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*B,skewX:Math.atan(u)*B,scaleX:a,scaleY:s}},Y=f(l,"px, ","px)","deg)"),G=f(c,", ",")",")"),W=Math.SQRT2,z=2,q=4,H=1e-12,V=function(t,e){var n,o,i=t[0],r=t[1],a=t[2],s=e[0],u=e[1],h=e[2],p=s-i,l=u-r,c=p*p+l*l;if(c<H)o=Math.log(h/a)/W,n=function(t){return[i+t*p,r+t*l,a*Math.exp(W*t*o)]};else{var f=Math.sqrt(c),g=(h*h-a*a+q*c)/(2*a*z*f),m=(h*h-a*a-q*c)/(2*h*z*f),b=Math.log(Math.sqrt(g*g+1)-g),_=Math.log(Math.sqrt(m*m+1)-m);o=(_-b)/W,n=function(t){var e=t*o,n=d(b),s=a/(z*f)*(n*v(W*e+b)-y(b));return[i+s*p,r+s*l,a*n/d(W*e+b)]}}return n.duration=1e3*o,n},$=g(r),Z=g(s),J=b(r),Q=b(s),tt=_(r),et=_(s),nt=function(t,e){for(var n=new Array(e),o=0;o<e;++o)n[o]=t(o/(e-1));return n};t.interpolate=j,t.interpolateArray=L,t.interpolateBasis=C,t.interpolateBasisClosed=M,t.interpolateDate=N,t.interpolateNumber=O,t.interpolateObject=k,t.interpolateRound=K,t.interpolateString=F,t.interpolateTransformCss=Y,t.interpolateTransformSvg=G,t.interpolateZoom=V,t.interpolateRgb=A,t.interpolateRgbBasis=E,t.interpolateRgbBasisClosed=I,t.interpolateHsl=$,t.interpolateHslLong=Z,t.interpolateLab=m,t.interpolateHcl=J,t.interpolateHclLong=Q,t.interpolateCubehelix=tt,t.interpolateCubehelixLong=et,t.quantize=nt,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Q&&e.documentElement.namespaceURI===Q?e.createElement(t):e.createElementNS(n,t)}}function n(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function o(){return new i}function i(){this._="@"+(++ot).toString(36)}function r(t,e,n){return t=a(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function a(e,n,o){return function(i){var r=t.event;t.event=i;try{e.call(this,this.__data__,n,o)}finally{t.event=r}}}function s(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function u(t){return function(){var e=this.__on;if(e){for(var n,o=0,i=-1,r=e.length;o<r;++o)n=e[o],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function h(t,e,n){var o=ut.hasOwnProperty(t.type)?r:a;return function(i,r,a){var s,u=this.__on,h=o(e,r,a);if(u)for(var p=0,l=u.length;p<l;++p)if((s=u[p]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=h,s.capture=n),void(s.value=e);this.addEventListener(t.type,h,n),s={type:t.type,name:t.name,value:e,listener:h,capture:n},u?u.push(s):this.__on=[s]}}function p(e,n,o,i){var r=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(o,i)}finally{t.event=r}}function l(){}function c(){return[]}function f(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function d(t,e,n,o,i,r){for(var a,s=0,u=e.length,h=r.length;s<h;++s)(a=e[s])?(a.__data__=r[s],o[s]=a):n[s]=new f(t,r[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function y(t,e,n,o,i,r,a){var s,u,h,p={},l=e.length,c=r.length,d=new Array(l);for(s=0;s<l;++s)(u=e[s])&&(d[s]=h=wt+a.call(u,u.__data__,s,e),h in p?i[s]=u:p[h]=u);for(s=0;s<c;++s)h=wt+a.call(t,r[s],s,r),(u=p[h])?(o[s]=u,u.__data__=r[s],p[h]=null):n[s]=new f(t,r[s]);for(s=0;s<l;++s)(u=e[s])&&p[d[s]]===u&&(i[s]=u)}function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function g(t){return function(){this.removeAttribute(t)}}function m(t){return function(){this.removeAttributeNS(t.space,t.local)}}function b(t,e){return function(){this.setAttribute(t,e)}}function _(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function x(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function w(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function P(t){return function(){this.style.removeProperty(t)}}function S(t,e,n){return function(){this.style.setProperty(t,e,n)}}function C(t,e,n){return function(){var o=e.apply(this,arguments);null==o?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function M(t,e){return t.style.getPropertyValue(e)||Rt(t).getComputedStyle(t,null).getPropertyValue(e)}function T(t){return function(){delete this[t]}}function A(t,e){return function(){this[t]=e}}function E(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function I(t){return t.trim().split(/^|\s+/)}function L(t){return t.classList||new N(t)}function N(t){this._node=t,this._names=I(t.getAttribute("class")||"")}function O(t,e){for(var n=L(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function k(t,e){for(var n=L(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function R(t){return function(){O(this,t)}}function D(t){return function(){k(this,t)}}function F(t,e){return function(){(e.apply(this,arguments)?O:k)(this,t)}}function j(){this.textContent=""}function K(t){return function(){this.textContent=t}}function B(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function X(){this.innerHTML=""}function U(t){return function(){this.innerHTML=t}}function Y(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function G(){this.nextSibling&&this.parentNode.appendChild(this)}function W(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function z(){return null}function q(){var t=this.parentNode;t&&t.removeChild(this)}function H(t,e,n){var o=Rt(t),i=o.CustomEvent;"function"==typeof i?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function V(t,e){return function(){return H(this,t,e)}}function $(t,e){return function(){return H(this,t,e.apply(this,arguments))}}function Z(t,e){this._groups=t,this._parents=e}function J(){return new Z([[document.documentElement]],Ht)}var Q="http://www.w3.org/1999/xhtml",tt={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},et=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),tt.hasOwnProperty(e)?{space:tt[e],local:t}:t},nt=function(t){var o=et(t);return(o.local?n:e)(o)},ot=0;i.prototype=o.prototype={constructor:i,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var it=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var rt=document.documentElement;if(!rt.matches){var at=rt.webkitMatchesSelector||rt.msMatchesSelector||rt.mozMatchesSelector||rt.oMatchesSelector;it=function(t){return function(){return at.call(this,t)}}}}var st=it,ut={};if(t.event=null,"undefined"!=typeof document){var ht=document.documentElement;"onmouseenter"in ht||(ut={mouseenter:"mouseover",mouseleave:"mouseout"})}var pt=function(t,e,n){var o,i,r=s(t+""),a=r.length;{if(!(arguments.length<2)){for(p=e?h:u,null==n&&(n=!1),o=0;o<a;++o)this.each(p(r[o],e,n));return this}var p=this.node().__on;if(p)for(var l,c=0,f=p.length;c<f;++c)for(o=0,l=p[c];o<a;++o)if((i=r[o]).type===l.type&&i.name===l.name)return l.value}},lt=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},ct=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},ft=function(t){var e=lt();return e.changedTouches&&(e=e.changedTouches[0]),ct(t,e)},dt=function(t){return null==t?l:function(){return this.querySelector(t)}},yt=function(t){"function"!=typeof t&&(t=dt(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a,s=e[i],u=s.length,h=o[i]=new Array(u),p=0;p<u;++p)(r=s[p])&&(a=t.call(r,r.__data__,p,s))&&("__data__"in r&&(a.__data__=r.__data__),h[p]=a);return new Z(o,this._parents)},vt=function(t){return null==t?c:function(){return this.querySelectorAll(t)}},gt=function(t){"function"!=typeof t&&(t=vt(t));for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var a,s=e[r],u=s.length,h=0;h<u;++h)(a=s[h])&&(o.push(t.call(a,a.__data__,h,s)),i.push(a));return new Z(o,i)},mt=function(t){"function"!=typeof t&&(t=st(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a=e[i],s=a.length,u=o[i]=[],h=0;h<s;++h)(r=a[h])&&t.call(r,r.__data__,h,a)&&u.push(r);return new Z(o,this._parents)},bt=function(t){return new Array(t.length)},_t=function(){return new Z(this._enter||this._groups.map(bt),this._parents)};f.prototype={constructor:f,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var xt=function(t){return function(){return t}},wt="$",Pt=function(t,e){if(!t)return f=new Array(this.size()),h=-1,this.each(function(t){f[++h]=t}),f;var n=e?y:d,o=this._parents,i=this._groups;"function"!=typeof t&&(t=xt(t));for(var r=i.length,a=new Array(r),s=new Array(r),u=new Array(r),h=0;h<r;++h){var p=o[h],l=i[h],c=l.length,f=t.call(p,p&&p.__data__,h,o),v=f.length,g=s[h]=new Array(v),m=a[h]=new Array(v),b=u[h]=new Array(c);n(p,l,g,m,b,f,e);for(var _,x,w=0,P=0;w<v;++w)if(_=g[w]){for(w>=P&&(P=w+1);!(x=m[P])&&++P<v;);_._next=x||null}}return a=new Z(a,o),a._enter=s,a._exit=u,a},St=function(){return new Z(this._exit||this._groups.map(bt),this._parents)},Ct=function(t){for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),a=new Array(o),s=0;s<r;++s)for(var u,h=e[s],p=n[s],l=h.length,c=a[s]=new Array(l),f=0;f<l;++f)(u=h[f]||p[f])&&(c[f]=u);for(;s<o;++s)a[s]=e[s];return new Z(a,this._parents)},Mt=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o,i=t[e],r=i.length-1,a=i[r];--r>=0;)(o=i[r])&&(a&&a!==o.nextSibling&&a.parentNode.insertBefore(o,a),a=o);return this},Tt=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=v);for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a,s=n[r],u=s.length,h=i[r]=new Array(u),p=0;p<u;++p)(a=s[p])&&(h[p]=a);h.sort(e)}return new Z(i,this._parents).order()},At=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Et=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},It=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null},Lt=function(){var t=0;return this.each(function(){++t}),t},Nt=function(){return!this.node()},Ot=function(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i,r=e[n],a=0,s=r.length;a<s;++a)(i=r[a])&&t.call(i,i.__data__,a,r);return this},kt=function(t,e){var n=et(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==e?n.local?m:g:"function"==typeof e?n.local?w:x:n.local?_:b)(n,e))},Rt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Dt=function(t,e,n){return arguments.length>1?this.each((null==e?P:"function"==typeof e?C:S)(t,e,null==n?"":n)):M(this.node(),t)},Ft=function(t,e){return arguments.length>1?this.each((null==e?T:"function"==typeof e?E:A)(t,e)):this.node()[t]};N.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var jt=function(t,e){var n=I(t+"");if(arguments.length<2){for(var o=L(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?F:e?R:D)(n,e))},Kt=function(t){return arguments.length?this.each(null==t?j:("function"==typeof t?B:K)(t)):this.node().textContent},Bt=function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?Y:U)(t)):this.node().innerHTML},Xt=function(){return this.each(G)},Ut=function(){return this.each(W)},Yt=function(t){var e="function"==typeof t?t:nt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Gt=function(t,e){var n="function"==typeof t?t:nt(t),o=null==e?z:"function"==typeof e?e:dt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})},Wt=function(){return this.each(q)},zt=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},qt=function(t,e){return this.each(("function"==typeof e?$:V)(t,e))},Ht=[null];Z.prototype=J.prototype={constructor:Z,
select:yt,selectAll:gt,filter:mt,data:Pt,enter:_t,exit:St,merge:Ct,order:Mt,sort:Tt,call:At,nodes:Et,node:It,size:Lt,empty:Nt,each:Ot,attr:kt,style:Dt,property:Ft,classed:jt,text:Kt,html:Bt,raise:Xt,lower:Ut,append:Yt,insert:Gt,remove:Wt,datum:zt,on:pt,dispatch:qt};var Vt=function(t){return"string"==typeof t?new Z([[document.querySelector(t)]],[document.documentElement]):new Z([[t]],Ht)},$t=function(t){return"string"==typeof t?new Z([document.querySelectorAll(t)],[document.documentElement]):new Z([null==t?[]:t],Ht)},Zt=function(t,e,n){arguments.length<3&&(n=e,e=lt().changedTouches);for(var o,i=0,r=e?e.length:0;i<r;++i)if((o=e[i]).identifier===n)return ct(t,o);return null},Jt=function(t,e){null==e&&(e=lt().touches);for(var n=0,o=e?e.length:0,i=new Array(o);n<o;++n)i[n]=ct(t,e[n]);return i};t.creator=nt,t.local=o,t.matcher=st,t.mouse=ft,t.namespace=et,t.namespaces=tt,t.select=Vt,t.selectAll=$t,t.selection=J,t.selector=dt,t.selectorAll=vt,t.style=M,t.touch=Zt,t.touches=Jt,t.window=Rt,t.customEvent=p,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(43),i=n(193),r=n(194),a=n(195),s=n(44),u=n(45),h=n(20),p=n(68),l=n(91),c=n(92),f=n(196),d=n(93),y=n(197),v=n(198),g=n(30),m=n(69),b=n(199),_=n(94),x=n(200),w=n(201),P=n(202),S=n(203),C=n(31),M=n(204),T=n(70),A=n(95),E=n(71),I=n(72),L=n(205),N=n(206),O="4.10.2";e.version=O,Object.keys(o).forEach(function(t){e[t]=o[t]}),Object.keys(i).forEach(function(t){e[t]=i[t]}),Object.keys(r).forEach(function(t){e[t]=r[t]}),Object.keys(a).forEach(function(t){e[t]=a[t]}),Object.keys(s).forEach(function(t){e[t]=s[t]}),Object.keys(u).forEach(function(t){e[t]=u[t]}),Object.keys(h).forEach(function(t){e[t]=h[t]}),Object.keys(p).forEach(function(t){e[t]=p[t]}),Object.keys(l).forEach(function(t){e[t]=l[t]}),Object.keys(c).forEach(function(t){e[t]=c[t]}),Object.keys(f).forEach(function(t){e[t]=f[t]}),Object.keys(d).forEach(function(t){e[t]=d[t]}),Object.keys(y).forEach(function(t){e[t]=y[t]}),Object.keys(v).forEach(function(t){e[t]=v[t]}),Object.keys(g).forEach(function(t){e[t]=g[t]}),Object.keys(m).forEach(function(t){e[t]=m[t]}),Object.keys(b).forEach(function(t){e[t]=b[t]}),Object.keys(_).forEach(function(t){e[t]=_[t]}),Object.keys(x).forEach(function(t){e[t]=x[t]}),Object.keys(w).forEach(function(t){e[t]=w[t]}),Object.keys(P).forEach(function(t){e[t]=P[t]}),Object.keys(S).forEach(function(t){e[t]=S[t]}),Object.keys(C).forEach(function(t){e[t]=C[t]}),Object.keys(M).forEach(function(t){e[t]=M[t]}),Object.keys(T).forEach(function(t){e[t]=T[t]}),Object.keys(A).forEach(function(t){e[t]=A[t]}),Object.keys(E).forEach(function(t){e[t]=E[t]}),Object.keys(I).forEach(function(t){e[t]=I[t]}),Object.keys(L).forEach(function(t){e[t]=L[t]}),Object.keys(N).forEach(function(t){e[t]=N[t]}),Object.defineProperty(e,"event",{get:function(){return C.event}})},function(t,e,n){(function(e,n){function o(){for(;r.next;){r=r.next;var t=r.task;r.task=void 0;var e=r.domain;e&&(r.domain=void 0,e.enter());try{t()}catch(t){if(h)throw e&&e.exit(),setTimeout(o,0),e&&e.enter(),t;setTimeout(function(){throw t},0)}e&&e.exit()}s=!1}function i(t){a=a.next={task:t,domain:h&&e.domain,next:null},s||(s=!0,u())}var r={task:void 0,next:null},a=r,s=!1,u=void 0,h=!1;if("undefined"!=typeof e&&e.nextTick)h=!0,u=function(){e.nextTick(o)};else if("function"==typeof n)u="undefined"!=typeof window?n.bind(window,o):function(){n(o)};else if("undefined"!=typeof MessageChannel){var p=new MessageChannel;p.port1.onmessage=o,u=function(){p.port2.postMessage(0)}}else u=function(){setTimeout(o,0)};t.exports=i}).call(e,n(97),n(231).setImmediate)},,,,function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(5).f,i=n(18),r=n(3)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,r)&&o(t,r,{configurable:!0,value:e})}},function(t,e,n){var o=n(63),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e,n){n(184);for(var o=n(8),i=n(14),r=n(23),a=n(3)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var h=s[u],p=o[h],l=p&&p.prototype;l&&!l[a]&&i(l,a,h),r[h]=r.Array}},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return function(e,n){return a(t(e),n)}}function n(t,e){return[t,e]}function o(t,e,n){var o=(e-t)/Math.max(0,n),i=Math.floor(Math.log(o)/Math.LN10),r=o/Math.pow(10,i);return i>=0?(r>=S?10:r>=C?5:r>=M?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(r>=S?10:r>=C?5:r>=M?2:1)}function i(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),r=o/i;return r>=S?i*=10:r>=C?i*=5:r>=M&&(i*=2),e<t?-i:i}function r(t){return t.length}var a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},s=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,o,i){for(null==o&&(o=0),null==i&&(i=e.length);o<i;){var r=o+i>>>1;t(e[r],n)<0?o=r+1:i=r}return o},right:function(e,n,o,i){for(null==o&&(o=0),null==i&&(i=e.length);o<i;){var r=o+i>>>1;t(e[r],n)>0?i=r:o=r+1}return o}}},u=s(a),h=u.right,p=u.left,l=function(t,e){null==e&&(e=n);for(var o=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);o<i;)a[o]=e(r,r=t[++o]);return a},c=function(t,e,o){var i,r,a,s,u=t.length,h=e.length,p=new Array(u*h);for(null==o&&(o=n),i=a=0;i<u;++i)for(s=t[i],r=0;r<h;++r,++a)p[a]=o(s,e[r]);return p},f=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},d=function(t){return null===t?NaN:+t},y=function(t,e){var n,o,i=t.length,r=0,a=-1,s=0,u=0;if(null==e)for(;++a<i;)isNaN(n=d(t[a]))||(o=n-s,s+=o/++r,u+=o*(n-s));else for(;++a<i;)isNaN(n=d(e(t[a],a,t)))||(o=n-s,s+=o/++r,u+=o*(n-s));if(r>1)return u/(r-1)},v=function(t,e){var n=y(t,e);return n?Math.sqrt(n):n},g=function(t,e){var n,o,i,r=t.length,a=-1;if(null==e){for(;++a<r;)if(null!=(n=t[a])&&n>=n)for(o=i=n;++a<r;)null!=(n=t[a])&&(o>n&&(o=n),i<n&&(i=n))}else for(;++a<r;)if(null!=(n=e(t[a],a,t))&&n>=n)for(o=i=n;++a<r;)null!=(n=e(t[a],a,t))&&(o>n&&(o=n),i<n&&(i=n));return[o,i]},m=Array.prototype,b=m.slice,_=m.map,x=function(t){return function(){return t}},w=function(t){return t},P=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var o=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),r=new Array(i);++o<i;)r[o]=t+o*n;return r},S=Math.sqrt(50),C=Math.sqrt(10),M=Math.sqrt(2),T=function(t,e,n){var i,r,a,s=e<t,u=-1;if(s&&(i=t,t=e,e=i),0===(a=o(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),r=new Array(i=Math.ceil(e-t+1));++u<i;)r[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),r=new Array(i=Math.ceil(t-e+1));++u<i;)r[u]=(t-u)/a;return s&&r.reverse(),r},A=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},E=function(){function t(t){var r,a,s=t.length,u=new Array(s);for(r=0;r<s;++r)u[r]=e(t[r],r,t);var p=n(u),l=p[0],c=p[1],f=o(u,l,c);Array.isArray(f)||(f=i(l,c,f),f=P(Math.ceil(l/f)*f,Math.floor(c/f)*f,f));for(var d=f.length;f[0]<=l;)f.shift(),--d;for(;f[d-1]>c;)f.pop(),--d;var y,v=new Array(d+1);for(r=0;r<=d;++r)y=v[r]=[],y.x0=r>0?f[r-1]:l,y.x1=r<d?f[r]:c;for(r=0;r<s;++r)a=u[r],l<=a&&a<=c&&v[h(f,a,0,d)].push(t[r]);return v}var e=w,n=g,o=A;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:x(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:x([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(o="function"==typeof e?e:x(Array.isArray(e)?b.call(e):e),t):o},t},I=function(t,e,n){if(null==n&&(n=d),o=t.length){if((e=+e)<=0||o<2)return+n(t[0],0,t);if(e>=1)return+n(t[o-1],o-1,t);var o,i=(o-1)*e,r=Math.floor(i),a=+n(t[r],r,t),s=+n(t[r+1],r+1,t);return a+(s-a)*(i-r)}},L=function(t,e,n){return t=_.call(t,d).sort(a),Math.ceil((n-e)/(2*(I(t,.75)-I(t,.25))*Math.pow(t.length,-1/3)))},N=function(t,e,n){return Math.ceil((n-e)/(3.5*v(t)*Math.pow(t.length,-1/3)))},O=function(t,e){var n,o,i=t.length,r=-1;if(null==e){for(;++r<i;)if(null!=(n=t[r])&&n>=n)for(o=n;++r<i;)null!=(n=t[r])&&n>o&&(o=n)}else for(;++r<i;)if(null!=(n=e(t[r],r,t))&&n>=n)for(o=n;++r<i;)null!=(n=e(t[r],r,t))&&n>o&&(o=n);return o},k=function(t,e){var n,o=t.length,i=o,r=-1,a=0;if(null==e)for(;++r<o;)isNaN(n=d(t[r]))?--i:a+=n;else for(;++r<o;)isNaN(n=d(e(t[r],r,t)))?--i:a+=n;if(i)return a/i},R=function(t,e){var n,o=t.length,i=-1,r=[];if(null==e)for(;++i<o;)isNaN(n=d(t[i]))||r.push(n);else for(;++i<o;)isNaN(n=d(e(t[i],i,t)))||r.push(n);return I(r.sort(a),.5)},D=function(t){for(var e,n,o,i=t.length,r=-1,a=0;++r<i;)a+=t[r].length;for(n=new Array(a);--i>=0;)for(o=t[i],e=o.length;--e>=0;)n[--a]=o[e];return n},F=function(t,e){var n,o,i=t.length,r=-1;if(null==e){for(;++r<i;)if(null!=(n=t[r])&&n>=n)for(o=n;++r<i;)null!=(n=t[r])&&o>n&&(o=n)}else for(;++r<i;)if(null!=(n=e(t[r],r,t))&&n>=n)for(o=n;++r<i;)null!=(n=e(t[r],r,t))&&o>n&&(o=n);return o},j=function(t,e){for(var n=e.length,o=new Array(n);n--;)o[n]=t[e[n]];return o},K=function(t,e){if(n=t.length){var n,o,i=0,r=0,s=t[r];for(null==e&&(e=a);++i<n;)(e(o=t[i],s)<0||0!==e(s,s))&&(s=o,r=i);return 0===e(s,s)?r:void 0}},B=function(t,e,n){for(var o,i,r=(null==n?t.length:n)-(e=null==e?0:+e);r;)i=Math.random()*r--|0,o=t[r+e],t[r+e]=t[i+e],t[i+e]=o;return t},X=function(t,e){var n,o=t.length,i=-1,r=0;if(null==e)for(;++i<o;)(n=+t[i])&&(r+=n);else for(;++i<o;)(n=+e(t[i],i,t))&&(r+=n);return r},U=function(t){if(!(i=t.length))return[];for(var e=-1,n=F(t,r),o=new Array(n);++e<n;)for(var i,a=-1,s=o[e]=new Array(i);++a<i;)s[a]=t[a][e];return o},Y=function(){return U(arguments)};t.bisect=h,t.bisectRight=h,t.bisectLeft=p,t.ascending=a,t.bisector=s,t.cross=c,t.descending=f,t.deviation=v,t.extent=g,t.histogram=E,t.thresholdFreedmanDiaconis=L,t.thresholdScott=N,t.thresholdSturges=A,t.max=O,t.mean=k,t.median=R,t.merge=D,t.min=F,t.pairs=l,t.permute=j,t.quantile=I,t.range=P,t.scan=K,t.shuffle=B,t.sum=X,t.ticks=T,t.tickIncrement=o,t.tickStep=i,t.transpose=U,t.variance=y,t.zip=Y,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(){}function n(t,n){var o=new e;if(t instanceof e)t.each(function(t,e){o.set(e,t)});else if(Array.isArray(t)){var i,r=-1,a=t.length;if(null==n)for(;++r<a;)o.set(r,t[r]);else for(;++r<a;)o.set(n(i=t[r],r,t),i)}else if(t)for(var s in t)o.set(s,t[s]);return o}function o(){return{}}function i(t,e,n){t[e]=n}function r(){return n()}function a(t,e,n){t.set(e,n)}function s(){}function u(t,e){var n=new s;if(t instanceof s)t.each(function(t){n.add(t)});else if(t){var o=-1,i=t.length;if(null==e)for(;++o<i;)n.add(t[o]);else for(;++o<i;)n.add(e(t[o],o,t))}return n}var h="$";e.prototype=n.prototype={constructor:e,has:function(t){return h+t in this},get:function(t){return this[h+t]},set:function(t,e){return this[h+t]=e,this},remove:function(t){var e=h+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===h&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===h&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===h&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===h&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===h&&++t;return t},empty:function(){for(var t in this)if(t[0]===h)return!1;return!0},each:function(t){for(var e in this)e[0]===h&&t(this[e],e.slice(1),this)}};var p=function(){function t(e,o,i,r){if(o>=p.length)return null!=s&&e.sort(s),null!=u?u(e):e;for(var a,h,l,c=-1,f=e.length,d=p[o++],y=n(),v=i();++c<f;)(l=y.get(a=d(h=e[c])+""))?l.push(h):y.set(a,[h]);return y.each(function(e,n){r(v,n,t(e,o,i,r))}),v}function e(t,n){if(++n>p.length)return t;var o,i=l[n-1];return null!=u&&n>=p.length?o=t.entries():(o=[],t.each(function(t,i){o.push({key:i,values:e(t,n)})})),null!=i?o.sort(function(t,e){return i(t.key,e.key)}):o}var s,u,h,p=[],l=[];return h={object:function(e){return t(e,0,o,i)},map:function(e){return t(e,0,r,a)},entries:function(n){return e(t(n,0,r,a),0)},key:function(t){return p.push(t),h},sortKeys:function(t){return l[p.length-1]=t,h},sortValues:function(t){return s=t,h},rollup:function(t){return u=t,h}}},l=n.prototype;s.prototype=u.prototype={constructor:s,has:l.has,add:function(t){return t+="",this[h+t]=t,this},remove:l.remove,clear:l.clear,values:l.keys,size:l.size,empty:l.empty,each:l.each};var c=function(t){var e=[];for(var n in t)e.push(n);return e},f=function(t){var e=[];for(var n in t)e.push(t[n]);return e},d=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e};t.nest=p,t.set=u,t.map=n,t.keys=c,t.values=f,t.entries=d,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function n(){}function o(t){var e;return t=(t+"").trim().toLowerCase(),(e=O.exec(t))?(e=parseInt(e[1],16),new u(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=k.exec(t))?i(parseInt(e[1],16)):(e=R.exec(t))?new u(e[1],e[2],e[3],1):(e=D.exec(t))?new u(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=F.exec(t))?r(e[1],e[2],e[3],e[4]):(e=j.exec(t))?r(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=K.exec(t))?h(e[1],e[2]/100,e[3]/100,1):(e=B.exec(t))?h(e[1],e[2]/100,e[3]/100,e[4]):X.hasOwnProperty(t)?i(X[t]):"transparent"===t?new u(NaN,NaN,NaN,0):null}function i(t){return new u(t>>16&255,t>>8&255,255&t,1)}function r(t,e,n,o){return o<=0&&(t=e=n=NaN),new u(t,e,n,o)}function a(t){return t instanceof n||(t=o(t)),t?(t=t.rgb(),new u(t.r,t.g,t.b,t.opacity)):new u}function s(t,e,n,o){return 1===arguments.length?a(t):new u(t,e,n,null==o?1:o)}function u(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}function h(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new c(t,e,n,o)}function p(t){if(t instanceof c)return new c(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=o(t)),!t)return new c;if(t instanceof c)return t;t=t.rgb();var e=t.r/255,i=t.g/255,r=t.b/255,a=Math.min(e,i,r),s=Math.max(e,i,r),u=NaN,h=s-a,p=(s+a)/2;return h?(u=e===s?(i-r)/h+6*(i<r):i===s?(r-e)/h+2:(e-i)/h+4,h/=p<.5?s+a:2-s-a,u*=60):h=p>0&&p<1?0:u,new c(u,h,p,t.opacity)}function l(t,e,n,o){return 1===arguments.length?p(t):new c(t,e,n,null==o?1:o)}function c(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}function f(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function d(t){if(t instanceof v)return new v(t.l,t.a,t.b,t.opacity);if(t instanceof P){var e=t.h*U;return new v(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof u||(t=a(t));var n=_(t.r),o=_(t.g),i=_(t.b),r=g((.4124564*n+.3575761*o+.1804375*i)/W),s=g((.2126729*n+.7151522*o+.072175*i)/z),h=g((.0193339*n+.119192*o+.9503041*i)/q);return new v(116*s-16,500*(r-s),200*(s-h),t.opacity)}function y(t,e,n,o){return 1===arguments.length?d(t):new v(t,e,n,null==o?1:o)}function v(t,e,n,o){this.l=+t,this.a=+e,this.b=+n,this.opacity=+o}function g(t){return t>Z?Math.pow(t,1/3):t/$+H}function m(t){return t>V?t*t*t:$*(t-H)}function b(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function x(t){if(t instanceof P)return new P(t.h,t.c,t.l,t.opacity);t instanceof v||(t=d(t));var e=Math.atan2(t.b,t.a)*Y;return new P(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function w(t,e,n,o){return 1===arguments.length?x(t):new P(t,e,n,null==o?1:o)}function P(t,e,n,o){this.h=+t,this.c=+e,this.l=+n,this.opacity=+o}function S(t){if(t instanceof M)return new M(t.h,t.s,t.l,t.opacity);t instanceof u||(t=a(t));var e=t.r/255,n=t.g/255,o=t.b/255,i=(rt*o+ot*e-it*n)/(rt+ot-it),r=o-i,s=(nt*(n-i)-tt*r)/et,h=Math.sqrt(s*s+r*r)/(nt*i*(1-i)),p=h?Math.atan2(s,r)*Y-120:NaN;return new M(p<0?p+360:p,h,i,t.opacity)}function C(t,e,n,o){return 1===arguments.length?S(t):new M(t,e,n,null==o?1:o)}function M(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}var T=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},A=.7,E=1/A,I="\\s*([+-]?\\d+)\\s*",L="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",N="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O=/^#([0-9a-f]{3})$/,k=/^#([0-9a-f]{6})$/,R=new RegExp("^rgb\\("+[I,I,I]+"\\)$"),D=new RegExp("^rgb\\("+[N,N,N]+"\\)$"),F=new RegExp("^rgba\\("+[I,I,I,L]+"\\)$"),j=new RegExp("^rgba\\("+[N,N,N,L]+"\\)$"),K=new RegExp("^hsl\\("+[L,N,N]+"\\)$"),B=new RegExp("^hsla\\("+[L,N,N,L]+"\\)$"),X={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T(n,o,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),T(u,s,e(n,{brighter:function(t){return t=null==t?E:Math.pow(E,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?A:Math.pow(A,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),T(c,l,e(n,{brighter:function(t){return t=null==t?E:Math.pow(E,t),new c(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?A:Math.pow(A,t),new c(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new u(f(t>=240?t-240:t+120,i,o),f(t,i,o),f(t<120?t+240:t-120,i,o),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var U=Math.PI/180,Y=180/Math.PI,G=18,W=.95047,z=1,q=1.08883,H=4/29,V=6/29,$=3*V*V,Z=V*V*V;T(v,y,e(n,{brighter:function(t){return new v(this.l+G*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new v(this.l-G*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=z*m(t),e=W*m(e),n=q*m(n),new u(b(3.2404542*e-1.5371385*t-.4985314*n),b(-.969266*e+1.8760108*t+.041556*n),b(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),T(P,w,e(n,{brighter:function(t){return new P(this.h,this.c,this.l+G*(null==t?1:t),this.opacity)},darker:function(t){return new P(this.h,this.c,this.l-G*(null==t?1:t),this.opacity)},rgb:function(){return d(this).rgb()}}));var J=-.14861,Q=1.78277,tt=-.29227,et=-.90649,nt=1.97294,ot=nt*et,it=nt*Q,rt=Q*tt-et*J;T(M,C,e(n,{brighter:function(t){return t=null==t?E:Math.pow(E,t),new M(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?A:Math.pow(A,t),new M(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*U,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),o=Math.cos(t),i=Math.sin(t);return new u(255*(e+n*(J*o+Q*i)),255*(e+n*(tt*o+et*i)),255*(e+n*(nt*o)),this.opacity)}})),t.color=o,t.rgb=s,t.hsl=l,t.lab=y,t.hcl=w,t.cubehelix=C,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){"use strict";function o(t){function e(t){return null===u?void p.push(t):void a(function(){var e=u?t.onFulfilled:t.onRejected;if(null===e)return void(u?t.resolve:t.reject)(h);var n;try{n=e(h)}catch(e){return void t.reject(e)}t.resolve(n)})}function n(t){try{if(t===l)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void r(e.bind(t),n,o)}u=!0,h=t,s()}catch(t){o(t)}}function o(t){u=!1,h=t,s()}function s(){for(var t=0,n=p.length;t<n;t++)e(p[t]);p=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");var u=null,h=null,p=[],l=this;this.then=function(t,n){return new l.constructor(function(o,r){e(new i(t,n,o,r))})},r(t,n,o)}function i(t,e,n,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=o}function r(t,e,n){var o=!1;try{t(function(t){o||(o=!0,e(t))},function(t){o||(o=!0,n(t))})}catch(t){if(o)return;o=!0,n(t)}}var a=n(33);t.exports=o},,,,function(t,e,n){t.exports={default:n(150),__esModule:!0}},function(t,e,n){var o=n(52),i=n(3)("toStringTag"),r="Arguments"==o(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:r?o(e):"Object"==(s=o(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var o=n(26),i=n(84),r=n(82),a=n(16),s=n(40),u=n(67),h={},p={},e=t.exports=function(t,e,n,l,c){var f,d,y,v,g=c?function(){return t}:u(t),m=o(n,l,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(r(g)){for(f=s(t.length);f>b;b++)if(v=e?m(a(d=t[b])[0],d[1]):m(t[b]),v===h||v===p)return v}else for(y=g.call(t);!(d=y.next()).done;)if(v=i(y,m,d.value,e),v===h||v===p)return v};e.BREAK=h,e.RETURN=p},function(t,e,n){var o=n(52);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var o=n(57),i=n(13),r=n(89),a=n(14),s=n(18),u=n(23),h=n(169),p=n(39),l=n(176),c=n(3)("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",y="keys",v="values",g=function(){return this};t.exports=function(t,e,n,m,b,_,x){h(n,e,m);var w,P,S,C=function(t){if(!f&&t in E)return E[t];switch(t){case y:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},M=e+" Iterator",T=b==v,A=!1,E=t.prototype,I=E[c]||E[d]||b&&E[b],L=I||C(b),N=b?T?C("entries"):L:void 0,O="Array"==e?E.entries||I:I;if(O&&(S=l(O.call(new t)),S!==Object.prototype&&(p(S,M,!0),o||s(S,c)||a(S,c,g))),T&&I&&I.name!==v&&(A=!0,L=function(){return I.call(this)}),o&&!x||!f&&!A&&E[c]||a(E,c,L),u[e]=L,u[M]=g,b)if(w={values:T?L:C(v),keys:_?L:C(y),entries:N},x)for(P in w)P in E||r(E,P,w[P]);else i(i.P+i.F*(f||A),e,w);return w}},function(t,e){t.exports=!0},function(t,e,n){var o=n(41)("meta"),i=n(22),r=n(18),a=n(5).f,s=0,u=Object.isExtensible||function(){return!0},h=!n(17)(function(){return u(Object.preventExtensions({}))}),p=function(t){a(t,o,{value:{i:"O"+ ++s,w:{}}})},l=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,o)){if(!u(t))return"F";if(!e)return"E";p(t)}return t[o].i},c=function(t,e){if(!r(t,o)){if(!u(t))return!0;if(!e)return!1;p(t)}return t[o].w},f=function(t){return h&&d.NEED&&u(t)&&!r(t,o)&&p(t),t},d=t.exports={KEY:o,NEED:!1,fastKey:l,getWeak:c,onFreeze:f}},function(t,e,n){var o=n(16),i=n(173),r=n(53),a=n(61)("IE_PROTO"),s=function(){},u="prototype",h=function(){var t,e=n(80)("iframe"),o=r.length,i="<",a=">";for(e.style.display="none",n(168).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),h=t.F;o--;)delete h[u][r[o]];return h()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=o(t),n=new s,s[u]=null,n[a]=t):n=h(),void 0===e?n:i(n,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var o=n(62)("keys"),i=n(41);t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var o=n(8),i="__core-js_shared__",r=o[i]||(o[i]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e,n){var o=n(22);t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var o=n(8),i=n(2),r=n(57),a=n(66),s=n(5).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=r?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){e.f=n(3)},function(t,e,n){var o=n(51),i=n(3)("iterator"),r=n(23);t.exports=n(2).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||r[o(t)]}},function(t,e,n){!function(t,o){o(e,n(20),n(31))}(this,function(t,e,n){"use strict";function o(){n.event.stopImmediatePropagation()}function i(t,e){var o=t.document.documentElement,i=n.select(t).on("dragstart.drag",null);e&&(i.on("click.drag",p,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in o?i.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}function r(t,e,n,o,i,r,a,s,u,h){this.target=t,this.type=e,this.subject=n,this.identifier=o,this.active=i,this.x=r,this.y=a,this.dx=s,this.dy=u,this._=h}function a(){return!n.event.button}function s(){return this.parentNode}function u(t){return null==t?{x:n.event.x,y:n.event.y}:t}function h(){return"ontouchstart"in this}var p=function(){n.event.preventDefault(),n.event.stopImmediatePropagation()},l=function(t){var e=t.document.documentElement,o=n.select(t).on("dragstart.drag",p,!0);"onselectstart"in e?o.on("selectstart.drag",p,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},c=function(t){return function(){return t}};r.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var f=function(){function t(t){t.on("mousedown.drag",f).filter(h).on("touchstart.drag",v).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!P&&S.apply(this,arguments)){var t=b("mouse",C.apply(this,arguments),n.mouse,this,arguments);t&&(n.select(n.event.view).on("mousemove.drag",d,!0).on("mouseup.drag",y,!0),l(n.event.view),o(),w=!1,_=n.event.clientX,x=n.event.clientY,t("start"))}}function d(){if(p(),!w){var t=n.event.clientX-_,e=n.event.clientY-x;w=t*t+e*e>I}T.mouse("drag")}function y(){n.select(n.event.view).on("mousemove.drag mouseup.drag",null),i(n.event.view,w),p(),T.mouse("end")}function v(){if(S.apply(this,arguments)){var t,e,i=n.event.changedTouches,r=C.apply(this,arguments),a=i.length;for(t=0;t<a;++t)(e=b(i[t].identifier,r,n.touch,this,arguments))&&(o(),e("start"))}}function g(){var t,e,o=n.event.changedTouches,i=o.length;for(t=0;t<i;++t)(e=T[o[t].identifier])&&(p(),e("drag"))}function m(){var t,e,i=n.event.changedTouches,r=i.length;for(P&&clearTimeout(P),P=setTimeout(function(){P=null},500),t=0;t<r;++t)(e=T[i[t].identifier])&&(o(),e("end"))}function b(e,o,i,a,s){var u,h,p,l=i(o,e),c=A.copy();if(n.customEvent(new r(t,"beforestart",u,e,E,l[0],l[1],0,0,c),function(){return null!=(n.event.subject=u=M.apply(a,s))&&(h=u.x-l[0]||0,p=u.y-l[1]||0,!0)}))return function f(d){var y,v=l;switch(d){case"start":T[e]=f,y=E++;break;case"end":delete T[e],--E;case"drag":l=i(o,e),y=E}n.customEvent(new r(t,d,u,e,y,l[0]+h,l[1]+p,l[0]-v[0],l[1]-v[1],c),c.apply,c,[d,a,s])}}var _,x,w,P,S=a,C=s,M=u,T={},A=e.dispatch("start","drag","end"),E=0,I=0;return t.filter=function(e){return arguments.length?(S="function"==typeof e?e:c(!!e),t):S},t.container=function(e){return arguments.length?(C="function"==typeof e?e:c(e),t):C},t.subject=function(e){return arguments.length?(M="function"==typeof e?e:c(e),t):M},t.on=function(){var e=A.on.apply(A,arguments);return e===A?t:e},t.clickDistance=function(e){return arguments.length?(I=(e=+e)*e,t):Math.sqrt(I)},t};t.drag=f,t.dragDisable=l,t.dragEnable=i,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function n(){return new e}var o=Math.PI,i=2*o,r=1e-6,a=i-r;e.prototype=n.prototype={constructor:e,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,o){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+o)},bezierCurveTo:function(t,e,n,o,i,r){this._+="C"+ +t+","+ +e+","+ +n+","+ +o+","+(this._x1=+i)+","+(this._y1=+r)},arcTo:function(t,e,n,i,a){t=+t,e=+e,n=+n,i=+i,a=+a;var s=this._x1,u=this._y1,h=n-t,p=i-e,l=s-t,c=u-e,f=l*l+c*c;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>r)if(Math.abs(c*h-p*l)>r&&a){var d=n-s,y=i-u,v=h*h+p*p,g=d*d+y*y,m=Math.sqrt(v),b=Math.sqrt(f),_=a*Math.tan((o-Math.acos((v+f-g)/(2*m*b)))/2),x=_/b,w=_/m;Math.abs(x-1)>r&&(this._+="L"+(t+x*l)+","+(e+x*c)),this._+="A"+a+","+a+",0,0,"+ +(c*d>l*y)+","+(this._x1=t+w*h)+","+(this._y1=e+w*p)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,s,u,h){t=+t,e=+e,n=+n;var p=n*Math.cos(s),l=n*Math.sin(s),c=t+p,f=e+l,d=1^h,y=h?s-u:u-s;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+f:(Math.abs(this._x1-c)>r||Math.abs(this._y1-f)>r)&&(this._+="L"+c+","+f),
n&&(y<0&&(y=y%i+i),y>a?this._+="A"+n+","+n+",0,1,"+d+","+(t-p)+","+(e-l)+"A"+n+","+n+",0,1,"+d+","+(this._x1=c)+","+(this._y1=f):y>r&&(this._+="A"+n+","+n+",0,"+ +(y>=o)+","+d+","+(this._x1=t+n*Math.cos(u))+","+(this._y1=e+n*Math.sin(u))))},rect:function(t,e,n,o){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +o+"h"+-n+"Z"},toString:function(){return this._}},t.path=n,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,n,o,a){function s(e){return t(e=new Date(+e)),e}return s.floor=s,s.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(e,o,i){var r=[];if(e=s.ceil(e),i=null==i?1:Math.floor(i),!(e<o&&i>0))return r;do r.push(new Date(+e));while(n(e,i),t(e),e<o);return r},s.filter=function(o){return e(function(e){if(e>=e)for(;t(e),!o(e);)e.setTime(e-1)},function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;n(t,-1),!o(t););else for(;--e>=0;)for(;n(t,1),!o(t););})},o&&(s.count=function(e,n){return i.setTime(+e),r.setTime(+n),t(i),t(r),Math.floor(o(i,r))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t===0}:function(e){return s.count(0,e)%t===0}):s:null}),s}function n(t){return e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*h)/c})}function o(t){return e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/c})}var i=new Date,r=new Date,a=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var s=a.range,u=1e3,h=6e4,p=36e5,l=864e5,c=6048e5,f=e(function(t){t.setTime(Math.floor(t/u)*u)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getUTCSeconds()}),d=f.range,y=e(function(t){t.setTime(Math.floor(t/h)*h)},function(t,e){t.setTime(+t+e*h)},function(t,e){return(e-t)/h},function(t){return t.getMinutes()}),v=y.range,g=e(function(t){var e=t.getTimezoneOffset()*h%p;e<0&&(e+=p),t.setTime(Math.floor((+t-e)/p)*p+e)},function(t,e){t.setTime(+t+e*p)},function(t,e){return(e-t)/p},function(t){return t.getHours()}),m=g.range,b=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*h)/l},function(t){return t.getDate()-1}),_=b.range,x=n(0),w=n(1),P=n(2),S=n(3),C=n(4),M=n(5),T=n(6),A=x.range,E=w.range,I=P.range,L=S.range,N=C.range,O=M.range,k=T.range,R=e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),D=R.range,F=e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});F.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var j=F.range,K=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*h)},function(t,e){return(e-t)/h},function(t){return t.getUTCMinutes()}),B=K.range,X=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*p)},function(t,e){return(e-t)/p},function(t){return t.getUTCHours()}),U=X.range,Y=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/l},function(t){return t.getUTCDate()-1}),G=Y.range,W=o(0),z=o(1),q=o(2),H=o(3),V=o(4),$=o(5),Z=o(6),J=W.range,Q=z.range,tt=q.range,et=H.range,nt=V.range,ot=$.range,it=Z.range,rt=e(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),at=rt.range,st=e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});st.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ut=st.range;t.timeInterval=e,t.timeMillisecond=a,t.timeMilliseconds=s,t.utcMillisecond=a,t.utcMilliseconds=s,t.timeSecond=f,t.timeSeconds=d,t.utcSecond=f,t.utcSeconds=d,t.timeMinute=y,t.timeMinutes=v,t.timeHour=g,t.timeHours=m,t.timeDay=b,t.timeDays=_,t.timeWeek=x,t.timeWeeks=A,t.timeSunday=x,t.timeSundays=A,t.timeMonday=w,t.timeMondays=E,t.timeTuesday=P,t.timeTuesdays=I,t.timeWednesday=S,t.timeWednesdays=L,t.timeThursday=C,t.timeThursdays=N,t.timeFriday=M,t.timeFridays=O,t.timeSaturday=T,t.timeSaturdays=k,t.timeMonth=R,t.timeMonths=D,t.timeYear=F,t.timeYears=j,t.utcMinute=K,t.utcMinutes=B,t.utcHour=X,t.utcHours=U,t.utcDay=Y,t.utcDays=G,t.utcWeek=W,t.utcWeeks=J,t.utcSunday=W,t.utcSundays=J,t.utcMonday=z,t.utcMondays=Q,t.utcTuesday=q,t.utcTuesdays=tt,t.utcWednesday=H,t.utcWednesdays=et,t.utcThursday=V,t.utcThursdays=nt,t.utcFriday=$,t.utcFridays=ot,t.utcSaturday=Z,t.utcSaturdays=it,t.utcMonth=rt,t.utcMonths=at,t.utcYear=st,t.utcYears=ut,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(){return g||(_(n),g=b.now()+m)}function n(){g=0}function o(){this._call=this._time=this._next=null}function i(t,e,n){var i=new o;return i.restart(t,e,n),i}function r(){e(),++c;for(var t,n=p;n;)(t=g-n._time)>=0&&n._call.call(null,t),n=n._next;--c}function a(){g=(v=b.now())+m,c=f=0;try{r()}finally{c=0,u(),g=0}}function s(){var t=b.now(),e=t-v;e>y&&(m-=e,v=t)}function u(){for(var t,e,n=p,o=1/0;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:p=e);l=t,h(o)}function h(t){if(!c){f&&(f=clearTimeout(f));var e=t-g;e>24?(t<1/0&&(f=setTimeout(a,t-b.now()-m)),d&&(d=clearInterval(d))):(d||(v=b.now(),d=setInterval(s,y)),c=1,_(a))}}var p,l,c=0,f=0,d=0,y=1e3,v=0,g=0,m=0,b="object"==typeof performance&&performance.now?performance:Date,_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};o.prototype=i.prototype={constructor:o,restart:function(t,n,o){if("function"!=typeof t)throw new TypeError("callback is not a function");o=(null==o?e():+o)+(null==n?0:+n),this._next||l===this||(l?l._next=this:p=this,l=this),this._call=t,this._time=o,h()},stop:function(){this._call&&(this._call=null,this._time=1/0,h())}};var x=function(t,e,n){var i=new o;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},w=function(t,n,i){var r=new o,a=n;return null==n?(r.restart(t,n,i),r):(n=+n,i=null==i?e():+i,r.restart(function e(o){o+=a,r.restart(e,a+=n,i),t(o)},n,i),r)};t.now=e,t.timer=i,t.timerFlush=r,t.timeout=x,t.interval=w,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,o){o(e,n(31),n(20),n(71),n(30),n(45),n(92))}(this,function(t,e,n,o,i,r,a){"use strict";function s(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Y)throw new Error("too late");return n}function u(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>W)throw new Error("too late");return n}function h(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function p(t,e,n){function i(t){n.state=G,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}function r(i){var p,l,c,f;if(n.state!==G)return s();for(p in h)if(f=h[p],f.name===n.name){if(f.state===z)return o.timeout(r);f.state===q?(f.state=V,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete h[p]):+p<e&&(f.state=V,f.timer.stop(),delete h[p])}if(o.timeout(function(){n.state===z&&(n.state=q,n.timer.restart(a,n.delay,n.time),a(i))}),n.state=W,n.on.call("start",t,t.__data__,n.index,n.group),n.state===W){for(n.state=z,u=new Array(c=n.tween.length),p=0,l=-1;p<c;++p)(f=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(u[++l]=f);u.length=l+1}}function a(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=H,1),i=-1,r=u.length;++i<r;)u[i].call(null,o);n.state===H&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=V,n.timer.stop(),delete h[e];for(var o in h)return;delete t.__transition}var u,h=t.__transition;h[e]=n,n.timer=o.timer(i,0,n.time)}function l(t,e){var n,o;return function(){var i=u(this,t),r=i.tween;if(r!==n){o=n=r;for(var a=0,s=o.length;a<s;++a)if(o[a].name===e){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function c(t,e,n){var o,i;if("function"!=typeof n)throw new Error;return function(){var r=u(this,t),a=r.tween;if(a!==o){i=(o=a).slice();for(var s={name:e,value:n},h=0,p=i.length;h<p;++h)if(i[h].name===e){i[h]=s;break}h===p&&i.push(s)}r.tween=i}}function f(t,e,n){var o=t._id;return t.each(function(){var t=u(this,o);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return h(t,o).value[e]}}function d(t){return function(){this.removeAttribute(t)}}function y(t){return function(){this.removeAttributeNS(t.space,t.local)}}function v(t,e,n){var o,i;return function(){var r=this.getAttribute(t);return r===n?null:r===o?i:i=e(o=r,n)}}function g(t,e,n){var o,i;return function(){var r=this.getAttributeNS(t.space,t.local);return r===n?null:r===o?i:i=e(o=r,n)}}function m(t,e,n){var o,i,r;return function(){var a,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t),a===s?null:a===o&&s===i?r:r=e(o=a,i=s))}}function b(t,e,n){var o,i,r;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===s?null:a===o&&s===i?r:r=e(o=a,i=s))}}function _(t,e){function n(){var n=this,o=e.apply(n,arguments);return o&&function(e){n.setAttributeNS(t.space,t.local,o(e))}}return n._value=e,n}function x(t,e){function n(){var n=this,o=e.apply(n,arguments);return o&&function(e){n.setAttribute(t,o(e))}}return n._value=e,n}function w(t,e){return function(){s(this,t).delay=+e.apply(this,arguments)}}function P(t,e){return e=+e,function(){s(this,t).delay=e}}function S(t,e){return function(){u(this,t).duration=+e.apply(this,arguments)}}function C(t,e){return e=+e,function(){u(this,t).duration=e}}function M(t,e){if("function"!=typeof e)throw new Error;return function(){u(this,t).ease=e}}function T(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function A(t,e,n){var o,i,r=T(e)?s:u;return function(){var a=r(this,t),s=a.on;s!==o&&(i=(o=s).copy()).on(e,n),a.on=i}}function E(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function I(t,n){var o,i,r;return function(){var a=e.style(this,t),s=(this.style.removeProperty(t),e.style(this,t));return a===s?null:a===o&&s===i?r:r=n(o=a,i=s)}}function L(t){return function(){this.style.removeProperty(t)}}function N(t,n,o){var i,r;return function(){var a=e.style(this,t);return a===o?null:a===i?r:r=n(i=a,o)}}function O(t,n,o){var i,r,a;return function(){var s=e.style(this,t),u=o(this);return null==u&&(this.style.removeProperty(t),u=e.style(this,t)),s===u?null:s===i&&u===r?a:a=n(i=s,r=u)}}function k(t,e,n){function o(){var o=this,i=e.apply(o,arguments);return i&&function(e){o.style.setProperty(t,i(e),n)}}return o._value=e,o}function R(t){return function(){this.textContent=t}}function D(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function F(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function j(t){return e.selection().transition(t)}function K(){return++mt}function B(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return _t.time=o.now(),_t;return n}var X=n.dispatch("start","end","interrupt"),U=[],Y=0,G=1,W=2,z=3,q=4,H=5,V=6,$=function(t,e,n,o,i,r){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};p(t,n,{name:e,index:o,group:i,on:X,tween:U,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Y})},Z=function(t,e){var n,o,i,r=t.__transition,a=!0;if(r){e=null==e?null:e+"";for(i in r)(n=r[i]).name===e?(o=n.state>W&&n.state<H,n.state=V,n.timer.stop(),o&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete r[i]):a=!1;a&&delete t.__transition}},J=function(t){return this.each(function(){Z(this,t)})},Q=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o,i=h(this.node(),n).tween,r=0,a=i.length;r<a;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((null==e?l:c)(n,t,e))},tt=function(t,e){var n;return("number"==typeof e?i.interpolateNumber:e instanceof r.color?i.interpolateRgb:(n=r.color(e))?(e=n,i.interpolateRgb):i.interpolateString)(t,e)},et=function(t,n){var o=e.namespace(t),r="transform"===o?i.interpolateTransformSvg:tt;return this.attrTween(t,"function"==typeof n?(o.local?b:m)(o,r,f(this,"attr."+t,n)):null==n?(o.local?y:d)(o):(o.local?g:v)(o,r,n+""))},nt=function(t,n){var o="attr."+t;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==n)return this.tween(o,null);if("function"!=typeof n)throw new Error;var i=e.namespace(t);return this.tween(o,(i.local?_:x)(i,n))},ot=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?w:P)(e,t)):h(this.node(),e).delay},it=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?S:C)(e,t)):h(this.node(),e).duration},rt=function(t){var e=this._id;return arguments.length?this.each(M(e,t)):h(this.node(),e).ease},at=function(t){"function"!=typeof t&&(t=e.matcher(t));for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r)for(var a,s=n[r],u=s.length,h=i[r]=[],p=0;p<u;++p)(a=s[p])&&t.call(a,a.__data__,p,s)&&h.push(a);return new F(i,this._parents,this._name,this._id)},st=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),a=new Array(o),s=0;s<r;++s)for(var u,h=e[s],p=n[s],l=h.length,c=a[s]=new Array(l),f=0;f<l;++f)(u=h[f]||p[f])&&(c[f]=u);for(;s<o;++s)a[s]=e[s];return new F(a,this._parents,this._name,this._id)},ut=function(t,e){var n=this._id;return arguments.length<2?h(this.node(),n).on.on(t):this.each(A(n,t,e))},ht=function(){return this.on("end.remove",E(this._id))},pt=function(t){var n=this._name,o=this._id;"function"!=typeof t&&(t=e.selector(t));for(var i=this._groups,r=i.length,a=new Array(r),s=0;s<r;++s)for(var u,p,l=i[s],c=l.length,f=a[s]=new Array(c),d=0;d<c;++d)(u=l[d])&&(p=t.call(u,u.__data__,d,l))&&("__data__"in u&&(p.__data__=u.__data__),f[d]=p,$(f[d],n,o,d,f,h(u,o)));return new F(a,this._parents,n,o)},lt=function(t){var n=this._name,o=this._id;"function"!=typeof t&&(t=e.selectorAll(t));for(var i=this._groups,r=i.length,a=[],s=[],u=0;u<r;++u)for(var p,l=i[u],c=l.length,f=0;f<c;++f)if(p=l[f]){for(var d,y=t.call(p,p.__data__,f,l),v=h(p,o),g=0,m=y.length;g<m;++g)(d=y[g])&&$(d,n,o,g,y,v);a.push(y),s.push(p)}return new F(a,s,n,o)},ct=e.selection.prototype.constructor,ft=function(){return new ct(this._groups,this._parents)},dt=function(t,e,n){var o="transform"==(t+="")?i.interpolateTransformCss:tt;return null==e?this.styleTween(t,I(t,o)).on("end.style."+t,L(t)):this.styleTween(t,"function"==typeof e?O(t,o,f(this,"style."+t,e)):N(t,o,e+""),n)},yt=function(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==e)return this.tween(o,null);if("function"!=typeof e)throw new Error;return this.tween(o,k(t,e,null==n?"":n))},vt=function(t){return this.tween("text","function"==typeof t?D(f(this,"text",t)):R(null==t?"":t+""))},gt=function(){for(var t=this._name,e=this._id,n=K(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a,s=o[r],u=s.length,p=0;p<u;++p)if(a=s[p]){var l=h(a,e);$(a,t,n,p,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new F(o,this._parents,t,n)},mt=0,bt=e.selection.prototype;F.prototype=j.prototype={constructor:F,select:pt,selectAll:lt,filter:at,merge:st,selection:ft,transition:gt,call:bt.call,nodes:bt.nodes,node:bt.node,size:bt.size,empty:bt.empty,each:bt.each,on:ut,attr:et,attrTween:nt,style:dt,styleTween:yt,text:vt,remove:ht,tween:Q,delay:ot,duration:it,ease:rt};var _t={time:null,delay:0,duration:250,ease:a.easeCubicInOut},xt=function(t){var e,n;t instanceof F?(e=t._id,t=t._name):(e=K(),(n=_t).time=o.now(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var s,u=i[a],h=u.length,p=0;p<h;++p)(s=u[p])&&$(s,t,e,p,u,n||B(s,e));return new F(i,this._parents,t,e)};e.selection.prototype.interrupt=J,e.selection.prototype.transition=xt;var wt=[null],Pt=function(t,e){var n,o,i=t.__transition;if(i){e=null==e?null:e+"";for(o in i)if((n=i[o]).state>G&&n.name===e)return new F([[t]],wt,e,+o)}return null};t.transition=j,t.active=Pt,t.interrupt=Z,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){(function(e){/*!
	 * Vue.js v2.4.2
	 * (c) 2014-2017 Evan You
	 * Released under the MIT License.
	 */
"use strict";function n(t){return void 0===t||null===t}function o(t){return void 0!==t&&null!==t}function i(t){return t===!0}function r(t){return t===!1}function a(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Object]"===Hi.call(t)}function h(t){return"[object RegExp]"===Hi.call(t)}function p(t){var e=parseFloat(t);return e>=0&&Math.floor(e)===e&&isFinite(t)}function l(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function c(t){var e=parseFloat(t);return isNaN(e)?t:e}function f(t,e){for(var n=Object.create(null),o=t.split(","),i=0;i<o.length;i++)n[o[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function d(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function y(t,e){return Zi.call(t,e)}function v(t){var e=Object.create(null);return function(n){var o=e[n];return o||(e[n]=t(n))}}function g(t,e){function n(n){var o=arguments.length;return o?o>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function m(t,e){e=e||0;for(var n=t.length-e,o=new Array(n);n--;)o[n]=t[n+e];return o}function b(t,e){for(var n in e)t[n]=e[n];return t}function _(t){for(var e={},n=0;n<t.length;n++)t[n]&&b(e,t[n]);return e}function x(t,e,n){}function w(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}function P(t,e){if(t===e)return!0;var n=s(t),o=s(e);if(!n||!o)return!n&&!o&&String(t)===String(e);try{var i=Array.isArray(t),r=Array.isArray(e);if(i&&r)return t.length===e.length&&t.every(function(t,n){return P(t,e[n])});if(i||r)return!1;var a=Object.keys(t),u=Object.keys(e);return a.length===u.length&&a.every(function(n){return P(t[n],e[n])})}catch(t){return!1}}function S(t,e){for(var n=0;n<t.length;n++)if(P(t[n],e))return n;return-1}function C(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function M(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function T(t,e,n,o){Object.defineProperty(t,e,{value:n,enumerable:!!o,writable:!0,configurable:!0})}function A(t){if(!pr.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}function E(t,e,n){if(ur.errorHandler)ur.errorHandler.call(null,t,e,n);else{if(!fr||"undefined"==typeof console)throw t;console.error(t)}}function I(t){return"function"==typeof t&&/native code/.test(t.toString())}function L(t){Lr.target&&Nr.push(Lr.target),Lr.target=t}function N(){Lr.target=Nr.pop()}function O(t,e,n){t.__proto__=e}function k(t,e,n){for(var o=0,i=n.length;o<i;o++){var r=n[o];T(t,r,e[r])}}function R(t,e){if(s(t)){var n;return y(t,"__ob__")&&t.__ob__ instanceof Fr?n=t.__ob__:Dr.shouldConvert&&!Mr()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Fr(t)),e&&n&&n.vmCount++,n}}function D(t,e,n,o,i){var r=new Lr,a=Object.getOwnPropertyDescriptor(t,e);if(!a||a.configurable!==!1){var s=a&&a.get,u=a&&a.set,h=!i&&R(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return Lr.target&&(r.depend(),h&&h.dep.depend(),Array.isArray(e)&&K(e)),e},set:function(e){var o=s?s.call(t):n;e===o||e!==e&&o!==o||(u?u.call(t,e):n=e,h=!i&&R(e),r.notify())}})}}function F(t,e,n){if(Array.isArray(t)&&p(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(y(t,e))return t[e]=n,n;var o=t.__ob__;return t._isVue||o&&o.vmCount?n:o?(D(o.value,e,n),o.dep.notify(),n):(t[e]=n,n)}function j(t,e){if(Array.isArray(t)&&p(e))return void t.splice(e,1);var n=t.__ob__;t._isVue||n&&n.vmCount||y(t,e)&&(delete t[e],n&&n.dep.notify())}function K(t){for(var e=void 0,n=0,o=t.length;n<o;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&K(e)}function B(t,e){if(!e)return t;for(var n,o,i,r=Object.keys(e),a=0;a<r.length;a++)n=r[a],o=t[n],i=e[n],y(t,n)?u(o)&&u(i)&&B(o,i):F(t,n,i);return t}function X(t,e,n){return n?t||e?function(){var o="function"==typeof e?e.call(n):e,i="function"==typeof t?t.call(n):void 0;return o?B(o,i):i}:void 0:e?t?function(){return B("function"==typeof e?e.call(this):e,"function"==typeof t?t.call(this):t)}:e:t}function U(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function Y(t,e){var n=Object.create(t||null);return e?b(n,e):n}function G(t){var e=t.props;if(e){var n,o,i,r={};if(Array.isArray(e))for(n=e.length;n--;)o=e[n],"string"==typeof o&&(i=Qi(o),r[i]={type:null});else if(u(e))for(var a in e)o=e[a],i=Qi(a),r[i]=u(o)?o:{type:o};t.props=r}}function W(t){var e=t.inject;if(Array.isArray(e))for(var n=t.inject={},o=0;o<e.length;o++)n[e[o]]=e[o]}function z(t){var e=t.directives;if(e)for(var n in e){var o=e[n];"function"==typeof o&&(e[n]={bind:o,update:o})}}function q(t,e,n){function o(o){var i=jr[o]||Kr;u[o]=i(t[o],e[o],n,o)}"function"==typeof e&&(e=e.options),G(e),W(e),z(e);var i=e.extends;if(i&&(t=q(t,i,n)),e.mixins)for(var r=0,a=e.mixins.length;r<a;r++)t=q(t,e.mixins[r],n);var s,u={};for(s in t)o(s);for(s in e)y(t,s)||o(s);return u}function H(t,e,n,o){if("string"==typeof n){var i=t[e];if(y(i,n))return i[n];var r=Qi(n);if(y(i,r))return i[r];var a=tr(r);if(y(i,a))return i[a];var s=i[n]||i[r]||i[a];return s}}function V(t,e,n,o){var i=e[t],r=!y(n,t),a=n[t];if(J(Boolean,i.type)&&(r&&!y(i,"default")?a=!1:J(String,i.type)||""!==a&&a!==nr(t)||(a=!0)),void 0===a){a=$(o,i,t);var s=Dr.shouldConvert;Dr.shouldConvert=!0,R(a),Dr.shouldConvert=s}return a}function $(t,e,n){if(y(e,"default")){var o=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof o&&"Function"!==Z(e.type)?o.call(t):o}}function Z(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function J(t,e){if(!Array.isArray(e))return Z(e)===Z(t);for(var n=0,o=e.length;n<o;n++)if(Z(e[n])===Z(t))return!0;return!1}function Q(t){return new Br(void 0,void 0,void 0,String(t))}function tt(t){var e=new Br(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.isCloned=!0,e}function et(t){for(var e=t.length,n=new Array(e),o=0;o<e;o++)n[o]=tt(t[o]);return n}function nt(t){function e(){var t=arguments,n=e.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var o=n.slice(),i=0;i<o.length;i++)o[i].apply(null,t)}return e.fns=t,e}function ot(t,e,o,i,r){var a,s,u,h;for(a in t)s=t[a],u=e[a],h=Gr(a),n(s)||(n(u)?(n(s.fns)&&(s=t[a]=nt(s)),o(h.name,s,h.once,h.capture,h.passive)):s!==u&&(u.fns=s,t[a]=u));for(a in e)n(t[a])&&(h=Gr(a),i(h.name,e[a],h.capture))}function it(t,e,r){function a(){r.apply(this,arguments),d(s.fns,a)}var s,u=t[e];n(u)?s=nt([a]):o(u.fns)&&i(u.merged)?(s=u,s.fns.push(a)):s=nt([u,a]),s.merged=!0,t[e]=s}function rt(t,e,i){var r=e.options.props;if(!n(r)){var a={},s=t.attrs,u=t.props;if(o(s)||o(u))for(var h in r){var p=nr(h);at(a,u,h,p,!0)||at(a,s,h,p,!1)}return a}}function at(t,e,n,i,r){if(o(e)){if(y(e,n))return t[n]=e[n],r||delete e[n],!0;if(y(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function st(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function ut(t){return a(t)?[Q(t)]:Array.isArray(t)?pt(t):void 0}function ht(t){return o(t)&&o(t.text)&&r(t.isComment)}function pt(t,e){var r,s,u,h=[];for(r=0;r<t.length;r++)s=t[r],n(s)||"boolean"==typeof s||(u=h[h.length-1],Array.isArray(s)?h.push.apply(h,pt(s,(e||"")+"_"+r)):a(s)?ht(u)?u.text+=String(s):""!==s&&h.push(Q(s)):ht(s)&&ht(u)?h[h.length-1]=Q(u.text+s.text):(i(t._isVList)&&o(s.tag)&&n(s.key)&&o(e)&&(s.key="__vlist"+e+"_"+r+"__"),h.push(s)));return h}function lt(t,e){return t.__esModule&&t.default&&(t=t.default),s(t)?e.extend(t):t}function ct(t,e,n,o,i){var r=Yr();return r.asyncFactory=t,r.asyncMeta={data:e,context:n,children:o,tag:i},r}function ft(t,e,r){if(i(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;if(i(t.loading)&&o(t.loadingComp))return t.loadingComp;if(!o(t.contexts)){var a=t.contexts=[r],u=!0,h=function(){for(var t=0,e=a.length;t<e;t++)a[t].$forceUpdate()},p=C(function(n){t.resolved=lt(n,e),u||h()}),l=C(function(e){o(t.errorComp)&&(t.error=!0,h())}),c=t(p,l);return s(c)&&("function"==typeof c.then?n(t.resolved)&&c.then(p,l):o(c.component)&&"function"==typeof c.component.then&&(c.component.then(p,l),o(c.error)&&(t.errorComp=lt(c.error,e)),o(c.loading)&&(t.loadingComp=lt(c.loading,e),0===c.delay?t.loading=!0:setTimeout(function(){n(t.resolved)&&n(t.error)&&(t.loading=!0,h())},c.delay||200)),o(c.timeout)&&setTimeout(function(){n(t.resolved)&&l(null)},c.timeout))),u=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(r)}function dt(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(o(n)&&o(n.componentOptions))return n}}function yt(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&mt(t,e)}function vt(t,e,n){n?Ur.$once(t,e):Ur.$on(t,e)}function gt(t,e){Ur.$off(t,e)}function mt(t,e,n){Ur=t,ot(e,n||{},vt,gt,t)}function bt(t){var e=/^hook:/;t.prototype.$on=function(t,n){var o=this,i=this;if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)o.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){function n(){o.$off(t,n),e.apply(o,arguments)}var o=this;return n.fn=e,o.$on(t,n),o},t.prototype.$off=function(t,e){var n=this,o=this;if(!arguments.length)return o._events=Object.create(null),o;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return o}var a=o._events[t];if(!a)return o;if(1===arguments.length)return o._events[t]=null,o;for(var s,u=a.length;u--;)if(s=a[u],s===e||s.fn===e){a.splice(u,1);break}return o},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?m(n):n;for(var o=m(arguments,1),i=0,r=n.length;i<r;i++)try{n[i].apply(e,o)}catch(n){E(n,e,'event handler for "'+t+'"')}}return e}}function _t(t,e){var n={};if(!t)return n;for(var o=[],i=0,r=t.length;i<r;i++){var a=t[i];if(a.context!==e&&a.functionalContext!==e||!a.data||null==a.data.slot)o.push(a);else{var s=a.data.slot,u=n[s]||(n[s]=[]);"template"===a.tag?u.push.apply(u,a.children):u.push(a)}}return o.every(xt)||(n.default=o),n}function xt(t){return t.isComment||" "===t.text}function wt(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?wt(t[n],e):e[t[n].key]=t[n].fn;return e}function Pt(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function St(t){t.prototype._update=function(t,e){var n=this;n._isMounted&&It(n,"beforeUpdate");var o=n.$el,i=n._vnode,r=Wr;Wr=n,n._vnode=t,i?n.$el=n.__patch__(i,t):(n.$el=n.__patch__(n.$el,t,e,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),Wr=r,o&&(o.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){It(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||d(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),It(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null)}}}function Ct(t,e,n){t.$el=e,t.$options.render||(t.$options.render=Yr),It(t,"beforeMount");var o;return o=function(){t._update(t._render(),n)},t._watcher=new Qr(t,o,x),n=!1,null==t.$vnode&&(t._isMounted=!0,It(t,"mounted")),t}function Mt(t,e,n,o,i){var r=!!(i||t.$options._renderChildren||o.data.scopedSlots||t.$scopedSlots!==hr);if(t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o),t.$options._renderChildren=i,t.$attrs=o.data&&o.data.attrs,t.$listeners=n,e&&t.$options.props){Dr.shouldConvert=!1;for(var a=t._props,s=t.$options._propKeys||[],u=0;u<s.length;u++){var h=s[u];a[h]=V(h,t.$options.props,e,t)}Dr.shouldConvert=!0,t.$options.propsData=e}if(n){var p=t.$options._parentListeners;t.$options._parentListeners=n,mt(t,n,p)}r&&(t.$slots=_t(i,o.context),t.$forceUpdate())}function Tt(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function At(t,e){if(e){if(t._directInactive=!1,Tt(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)At(t.$children[n]);It(t,"activated")}}function Et(t,e){if(!(e&&(t._directInactive=!0,Tt(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Et(t.$children[n]);It(t,"deactivated")}}function It(t,e){var n=t.$options[e];if(n)for(var o=0,i=n.length;o<i;o++)try{n[o].call(t)}catch(n){E(n,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e)}function Lt(){Zr=zr.length=qr.length=0,Hr={},Vr=$r=!1}function Nt(){$r=!0;var t,e;for(zr.sort(function(t,e){return t.id-e.id}),Zr=0;Zr<zr.length;Zr++)t=zr[Zr],e=t.id,Hr[e]=null,t.run();var n=qr.slice(),o=zr.slice();Lt(),Rt(n),Ot(o),Tr&&ur.devtools&&Tr.emit("flush")}function Ot(t){for(var e=t.length;e--;){var n=t[e],o=n.vm;o._watcher===n&&o._isMounted&&It(o,"updated")}}function kt(t){t._inactive=!1,qr.push(t)}function Rt(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,At(t[e],!0)}function Dt(t){var e=t.id;if(null==Hr[e]){if(Hr[e]=!0,$r){for(var n=zr.length-1;n>Zr&&zr[n].id>t.id;)n--;zr.splice(n+1,0,t)}else zr.push(t);Vr||(Vr=!0,Er(Nt))}}function Ft(t){ta.clear(),jt(t,ta)}function jt(t,e){var n,o,i=Array.isArray(t);if((i||s(t))&&Object.isExtensible(t)){if(t.__ob__){var r=t.__ob__.dep.id;if(e.has(r))return;e.add(r)}if(i)for(n=t.length;n--;)jt(t[n],e);else for(o=Object.keys(t),n=o.length;n--;)jt(t[o[n]],e)}}function Kt(t,e,n){ea.get=function(){return this[e][n]},ea.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ea)}function Bt(t){t._watchers=[];var e=t.$options;e.props&&Xt(t,e.props),e.methods&&qt(t,e.methods),e.data?Ut(t):R(t._data={},!0),e.computed&&Gt(t,e.computed),e.watch&&e.watch!==xr&&Ht(t,e.watch)}function Xt(t,e){var n=t.$options.propsData||{},o=t._props={},i=t.$options._propKeys=[],r=!t.$parent;Dr.shouldConvert=r;var a=function(r){i.push(r);var a=V(r,e,n,t);D(o,r,a),r in t||Kt(t,"_props",r)};for(var s in e)a(s);Dr.shouldConvert=!0}function Ut(t){var e=t.$options.data;e=t._data="function"==typeof e?Yt(e,t):e||{},u(e)||(e={});for(var n=Object.keys(e),o=t.$options.props,i=(t.$options.methods,n.length);i--;){var r=n[i];o&&y(o,r)||M(r)||Kt(t,"_data",r)}R(e,!0)}function Yt(t,e){try{return t.call(e)}catch(t){return E(t,e,"data()"),{}}}function Gt(t,e){var n=t._computedWatchers=Object.create(null);for(var o in e){var i=e[o],r="function"==typeof i?i:i.get;n[o]=new Qr(t,r||x,x,na),o in t||Wt(t,o,i)}}function Wt(t,e,n){"function"==typeof n?(ea.get=zt(e),ea.set=x):(ea.get=n.get?n.cache!==!1?zt(e):n.get:x,ea.set=n.set?n.set:x),Object.defineProperty(t,e,ea)}function zt(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),Lr.target&&e.depend(),e.value}}function qt(t,e){t.$options.props;for(var n in e)t[n]=null==e[n]?x:g(e[n],t)}function Ht(t,e){for(var n in e){var o=e[n];if(Array.isArray(o))for(var i=0;i<o.length;i++)Vt(t,n,o[i]);else Vt(t,n,o)}}function Vt(t,e,n,o){return u(n)&&(o=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,o)}function $t(t){var e={};e.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=F,t.prototype.$delete=j,t.prototype.$watch=function(t,e,n){var o=this;if(u(e))return Vt(o,t,e,n);n=n||{},n.user=!0;var i=new Qr(o,t,e,n);return n.immediate&&e.call(o,i.value),function(){i.teardown()}}}function Zt(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}function Jt(t){var e=Qt(t.$options.inject,t);e&&(Dr.shouldConvert=!1,Object.keys(e).forEach(function(n){D(t,n,e[n])}),Dr.shouldConvert=!0)}function Qt(t,e){if(t){for(var n=Object.create(null),o=Ar?Reflect.ownKeys(t):Object.keys(t),i=0;i<o.length;i++)for(var r=o[i],a=t[r],s=e;s;){if(s._provided&&a in s._provided){n[r]=s._provided[a];break}s=s.$parent}return n}}function te(t,e,n,i,r){var a={},s=t.options.props;if(o(s))for(var u in s)a[u]=V(u,s,e||{});else o(n.attrs)&&ee(a,n.attrs),o(n.props)&&ee(a,n.props);var h=Object.create(i),p=function(t,e,n,o){return se(h,t,e,n,o,!0)},l=t.options.render.call(null,p,{data:n,props:a,children:r,parent:i,listeners:n.on||{},injections:Qt(t.options.inject,i),slots:function(){return _t(r,i)}});return l instanceof Br&&(l.functionalContext=i,l.functionalOptions=t.options,n.slot&&((l.data||(l.data={})).slot=n.slot)),l}function ee(t,e){for(var n in e)t[Qi(n)]=e[n]}function ne(t,e,r,a,u){if(!n(t)){var h=r.$options._base;if(s(t)&&(t=h.extend(t)),"function"==typeof t){var p;if(n(t.cid)&&(p=t,t=ft(p,h,r),void 0===t))return ct(p,e,r,a,u);e=e||{},Se(t),o(e.model)&&ae(t.options,e);var l=rt(e,t,u);if(i(t.options.functional))return te(t,l,e,r,a);var c=e.on;if(e.on=e.nativeOn,i(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}ie(e);var d=t.options.name||u,y=new Br("vue-component-"+t.cid+(d?"-"+d:""),e,void 0,void 0,void 0,r,{Ctor:t,propsData:l,listeners:c,tag:u,children:a},p);return y}}}function oe(t,e,n,i){var r=t.componentOptions,a={_isComponent:!0,parent:e,propsData:r.propsData,_componentTag:r.tag,_parentVnode:t,_parentListeners:r.listeners,_renderChildren:r.children,_parentElm:n||null,_refElm:i||null},s=t.data.inlineTemplate;return o(s)&&(a.render=s.render,a.staticRenderFns=s.staticRenderFns),new r.Ctor(a)}function ie(t){t.hook||(t.hook={});for(var e=0;e<ia.length;e++){var n=ia[e],o=t.hook[n],i=oa[n];t.hook[n]=o?re(i,o):i}}function re(t,e){return function(n,o,i,r){t(n,o,i,r),e(n,o,i,r)}}function ae(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var r=e.on||(e.on={});o(r[i])?r[i]=[e.model.callback].concat(r[i]):r[i]=e.model.callback}function se(t,e,n,o,r,s){return(Array.isArray(n)||a(n))&&(r=o,o=n,n=void 0),i(s)&&(r=aa),ue(t,e,n,o,r)}function ue(t,e,n,i,r){if(o(n)&&o(n.__ob__))return Yr();if(o(n)&&o(n.is)&&(e=n.is),!e)return Yr();Array.isArray(i)&&"function"==typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),r===aa?i=ut(i):r===ra&&(i=st(i));var a,s;if("string"==typeof e){var u;s=ur.getTagNamespace(e),a=ur.isReservedTag(e)?new Br(ur.parsePlatformTagName(e),n,i,void 0,void 0,t):o(u=H(t.$options,"components",e))?ne(u,n,t,i,e):new Br(e,n,i,void 0,void 0,t)}else a=ne(e,n,t,i);return o(a)?(s&&he(a,s),a):Yr()}function he(t,e){if(t.ns=e,"foreignObject"!==t.tag&&o(t.children))for(var i=0,r=t.children.length;i<r;i++){var a=t.children[i];o(a.tag)&&n(a.ns)&&he(a,e)}}function pe(t,e){var n,i,r,a,u;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(s(t))for(a=Object.keys(t),n=new Array(a.length),i=0,r=a.length;i<r;i++)u=a[i],n[i]=e(t[u],u,i);return o(n)&&(n._isVList=!0),n}function le(t,e,n,o){var i=this.$scopedSlots[t];if(i)return n=n||{},o&&(n=b(b({},o),n)),i(n)||e;var r=this.$slots[t];return r||e}function ce(t){return H(this.$options,"filters",t,!0)||ir}function fe(t,e,n){var o=ur.keyCodes[e]||n;return Array.isArray(o)?o.indexOf(t)===-1:o!==t}function de(t,e,n,o,i){if(n)if(s(n)){Array.isArray(n)&&(n=_(n));var r,a=function(a){if("class"===a||"style"===a||$i(a))r=t;else{var s=t.attrs&&t.attrs.type;r=o||ur.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}if(!(a in r)&&(r[a]=n[a],i)){var u=t.on||(t.on={});u["update:"+a]=function(t){n[a]=t}}};for(var u in n)a(u)}else;return t}function ye(t,e){var n=this._staticTrees[t];return n&&!e?Array.isArray(n)?et(n):tt(n):(n=this._staticTrees[t]=this.$options.staticRenderFns[t].call(this._renderProxy),ge(n,"__static__"+t,!1),n)}function ve(t,e,n){return ge(t,"__once__"+e+(n?"_"+n:""),!0),t}function ge(t,e,n){if(Array.isArray(t))for(var o=0;o<t.length;o++)t[o]&&"string"!=typeof t[o]&&me(t[o],e+"_"+o,n);else me(t,e,n)}function me(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function be(t,e){if(e)if(u(e)){var n=t.on=t.on?b({},t.on):{};for(var o in e){var i=n[o],r=e[o];n[o]=i?[].concat(r,i):r}}else;return t}function _e(t){t._vnode=null,t._staticTrees=null;var e=t.$vnode=t.$options._parentVnode,n=e&&e.context;t.$slots=_t(t.$options._renderChildren,n),t.$scopedSlots=hr,t._c=function(e,n,o,i){return se(t,e,n,o,i,!1)},t.$createElement=function(e,n,o,i){return se(t,e,n,o,i,!0)};var o=e&&e.data;D(t,"$attrs",o&&o.attrs,null,!0),D(t,"$listeners",t.$options._parentListeners,null,!0)}function xe(t){t.prototype.$nextTick=function(t){return Er(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,o=e.staticRenderFns,i=e._parentVnode;if(t._isMounted)for(var r in t.$slots)t.$slots[r]=et(t.$slots[r]);t.$scopedSlots=i&&i.data.scopedSlots||hr,o&&!t._staticTrees&&(t._staticTrees=[]),t.$vnode=i;var a;try{a=n.call(t._renderProxy,t.$createElement)}catch(e){E(e,t,"render function"),a=t._vnode}return a instanceof Br||(a=Yr()),a.parent=i,a},t.prototype._o=ve,t.prototype._n=c,t.prototype._s=l,t.prototype._l=pe,t.prototype._t=le,t.prototype._q=P,t.prototype._i=S,t.prototype._m=ye,t.prototype._f=ce,t.prototype._k=fe,t.prototype._b=de,t.prototype._v=Q,t.prototype._e=Yr,t.prototype._u=wt,t.prototype._g=be}function we(t){t.prototype._init=function(t){var e=this;e._uid=sa++;e._isVue=!0,t&&t._isComponent?Pe(e,t):e.$options=q(Se(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Pt(e),yt(e),_e(e),It(e,"beforeCreate"),Jt(e),Bt(e),Zt(e),It(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Pe(t,e){var n=t.$options=Object.create(t.constructor.options);n.parent=e.parent,n.propsData=e.propsData,n._parentVnode=e._parentVnode,n._parentListeners=e._parentListeners,n._renderChildren=e._renderChildren,n._componentTag=e._componentTag,n._parentElm=e._parentElm,n._refElm=e._refElm,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Se(t){var e=t.options;if(t.super){var n=Se(t.super),o=t.superOptions;if(n!==o){t.superOptions=n;var i=Ce(t);i&&b(t.extendOptions,i),e=t.options=q(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Ce(t){var e,n=t.options,o=t.extendOptions,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=Me(n[r],o[r],i[r]));return e}function Me(t,e,n){if(Array.isArray(t)){var o=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var i=0;i<t.length;i++)(e.indexOf(t[i])>=0||n.indexOf(t[i])<0)&&o.push(t[i]);return o}return t}function Te(t){this._init(t)}function Ae(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=m(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}function Ee(t){t.mixin=function(t){return this.options=q(this.options,t),this}}function Ie(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,o=n.cid,i=t._Ctor||(t._Ctor={});if(i[o])return i[o];var r=t.name||n.options.name,a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=q(n.options,t),a.super=n,a.options.props&&Le(a),a.options.computed&&Ne(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,ar.forEach(function(t){a[t]=n[t]}),r&&(a.options.components[r]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=b({},a.options),i[o]=a,a}}function Le(t){var e=t.options.props;for(var n in e)Kt(t.prototype,"_props",n)}function Ne(t){var e=t.options.computed;for(var n in e)Wt(t.prototype,n,e[n])}function Oe(t){ar.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function ke(t){return t&&(t.Ctor.options.name||t.tag)}function Re(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function De(t,e,n){for(var o in t){var i=t[o];if(i){var r=ke(i.componentOptions);r&&!n(r)&&(i!==e&&Fe(i),t[o]=null)}}}function Fe(t){t&&t.componentInstance.$destroy()}function je(t){var e={};e.get=function(){return ur},Object.defineProperty(t,"config",e),t.util={warn:lr,extend:b,mergeOptions:q,defineReactive:D},t.set=F,t.delete=j,t.nextTick=Er,t.options=Object.create(null),ar.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,b(t.options.components,pa),Ae(t),Ee(t),Ie(t),Oe(t)}function Ke(t){for(var e=t.data,n=t,i=t;o(i.componentInstance);)i=i.componentInstance._vnode,i.data&&(e=Be(i.data,e));for(;o(n=n.parent);)n.data&&(e=Be(e,n.data));return Xe(e.staticClass,e.class)}function Be(t,e){return{staticClass:Ue(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function Xe(t,e){return o(t)||o(e)?Ue(t,Ye(e)):""}function Ue(t,e){return t?e?t+" "+e:t:e||""}function Ye(t){return Array.isArray(t)?Ge(t):s(t)?We(t):"string"==typeof t?t:""}function Ge(t){for(var e,n="",i=0,r=t.length;i<r;i++)o(e=Ye(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function We(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function ze(t){return La(t)?"svg":"math"===t?"math":void 0}function qe(t){if(!fr)return!0;if(Oa(t))return!1;if(t=t.toLowerCase(),null!=ka[t])return ka[t];var e=document.createElement(t);return t.indexOf("-")>-1?ka[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ka[t]=/HTMLUnknownElement/.test(e.toString())}function He(t){if("string"==typeof t){var e=document.querySelector(t);return e?e:document.createElement("div")}return t}function Ve(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function $e(t,e){return document.createElementNS(Ea[t],e)}function Ze(t){return document.createTextNode(t)}function Je(t){return document.createComment(t)}function Qe(t,e,n){t.insertBefore(e,n)}function tn(t,e){t.removeChild(e)}function en(t,e){t.appendChild(e)}function nn(t){return t.parentNode}function on(t){return t.nextSibling}function rn(t){return t.tagName}function an(t,e){t.textContent=e}function sn(t,e,n){t.setAttribute(e,n)}function un(t,e){var n=t.data.ref;if(n){var o=t.context,i=t.componentInstance||t.elm,r=o.$refs;e?Array.isArray(r[n])?d(r[n],i):r[n]===i&&(r[n]=void 0):t.data.refInFor?Array.isArray(r[n])?r[n].indexOf(i)<0&&r[n].push(i):r[n]=[i]:r[n]=i}}function hn(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&pn(t,e)||i(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&n(e.asyncFactory.error))}function pn(t,e){if("input"!==t.tag)return!0;var n,i=o(n=t.data)&&o(n=n.attrs)&&n.type,r=o(n=e.data)&&o(n=n.attrs)&&n.type;return i===r}function ln(t,e,n){var i,r,a={};for(i=e;i<=n;++i)r=t[i].key,o(r)&&(a[r]=i);return a}function cn(t){function e(t){return new Br(I.tagName(t).toLowerCase(),{},[],void 0,t)}function r(t,e){function n(){0===--n.listeners&&s(t)}return n.listeners=e,n}function s(t){var e=I.parentNode(t);o(e)&&I.removeChild(e,t)}function u(t,e,n,r,a){if(t.isRootInsert=!a,!h(t,e,n,r)){var s=t.data,u=t.children,p=t.tag;o(p)?(t.elm=t.ns?I.createElementNS(t.ns,p):I.createElement(p,t),g(t),d(t,u,e),o(s)&&v(t,e),c(n,t.elm,r)):i(t.isComment)?(t.elm=I.createComment(t.text),c(n,t.elm,r)):(t.elm=I.createTextNode(t.text),c(n,t.elm,r))}}function h(t,e,n,r){var a=t.data;if(o(a)){var s=o(t.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(t,!1,n,r),o(t.componentInstance))return p(t,e),i(s)&&l(t,e,n,r),!0}}function p(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,y(t)?(v(t,e),g(t)):(un(t),e.push(t))}function l(t,e,n,i){for(var r,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,o(r=a.data)&&o(r=r.transition)){for(r=0;r<A.activate.length;++r)A.activate[r](Fa,a);e.push(a);break}c(n,t.elm,i)}function c(t,e,n){o(t)&&(o(n)?n.parentNode===t&&I.insertBefore(t,e,n):I.appendChild(t,e))}function d(t,e,n){if(Array.isArray(e))for(var o=0;o<e.length;++o)u(e[o],n,t.elm,null,!0);else a(t.text)&&I.appendChild(t.elm,I.createTextNode(t.text))}function y(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return o(t.tag)}function v(t,e){for(var n=0;n<A.create.length;++n)A.create[n](Fa,t);M=t.data.hook,o(M)&&(o(M.create)&&M.create(Fa,t),o(M.insert)&&e.push(t))}function g(t){for(var e,n=t;n;)o(e=n.context)&&o(e=e.$options._scopeId)&&I.setAttribute(t.elm,e,""),n=n.parent;o(e=Wr)&&e!==t.context&&o(e=e.$options._scopeId)&&I.setAttribute(t.elm,e,"")}function m(t,e,n,o,i,r){for(;o<=i;++o)u(n[o],r,t,e)}function b(t){var e,n,i=t.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(t),e=0;e<A.destroy.length;++e)A.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)b(t.children[n])}function _(t,e,n,i){for(;n<=i;++n){var r=e[n];o(r)&&(o(r.tag)?(x(r),b(r)):s(r.elm))}}function x(t,e){if(o(e)||o(t.data)){var n,i=A.remove.length+1;for(o(e)?e.listeners+=i:e=r(t.elm,i),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&x(n,e),n=0;n<A.remove.length;++n)A.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else s(t.elm)}function w(t,e,i,r,a){for(var s,h,p,l,c=0,f=0,d=e.length-1,y=e[0],v=e[d],g=i.length-1,b=i[0],x=i[g],w=!a;c<=d&&f<=g;)n(y)?y=e[++c]:n(v)?v=e[--d]:hn(y,b)?(P(y,b,r),y=e[++c],b=i[++f]):hn(v,x)?(P(v,x,r),v=e[--d],x=i[--g]):hn(y,x)?(P(y,x,r),w&&I.insertBefore(t,y.elm,I.nextSibling(v.elm)),y=e[++c],x=i[--g]):hn(v,b)?(P(v,b,r),w&&I.insertBefore(t,v.elm,y.elm),v=e[--d],b=i[++f]):(n(s)&&(s=ln(e,c,d)),h=o(b.key)?s[b.key]:null,n(h)?(u(b,r,t,y.elm),b=i[++f]):(p=e[h],hn(p,b)?(P(p,b,r),e[h]=void 0,w&&I.insertBefore(t,p.elm,y.elm),b=i[++f]):(u(b,r,t,y.elm),b=i[++f])));c>d?(l=n(i[g+1])?null:i[g+1].elm,m(t,l,i,f,g,r)):f>g&&_(t,e,c,d)}function P(t,e,r,a){if(t!==e){var s=e.elm=t.elm;if(i(t.isAsyncPlaceholder))return void(o(e.asyncFactory.resolved)?C(t.elm,e,r):e.isAsyncPlaceholder=!0);if(i(e.isStatic)&&i(t.isStatic)&&e.key===t.key&&(i(e.isCloned)||i(e.isOnce)))return void(e.componentInstance=t.componentInstance);var u,h=e.data;o(h)&&o(u=h.hook)&&o(u=u.prepatch)&&u(t,e);var p=t.children,l=e.children;if(o(h)&&y(e)){for(u=0;u<A.update.length;++u)A.update[u](t,e);o(u=h.hook)&&o(u=u.update)&&u(t,e)}n(e.text)?o(p)&&o(l)?p!==l&&w(s,p,l,r,a):o(l)?(o(t.text)&&I.setTextContent(s,""),m(s,null,l,0,l.length-1,r)):o(p)?_(s,p,0,p.length-1):o(t.text)&&I.setTextContent(s,""):t.text!==e.text&&I.setTextContent(s,e.text),o(h)&&o(u=h.hook)&&o(u=u.postpatch)&&u(t,e)}}function S(t,e,n){if(i(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}function C(t,e,n){if(i(e.isComment)&&o(e.asyncFactory))return e.elm=t,e.isAsyncPlaceholder=!0,!0;e.elm=t;var r=e.tag,a=e.data,s=e.children;if(o(a)&&(o(M=a.hook)&&o(M=M.init)&&M(e,!0),o(M=e.componentInstance)))return p(e,n),!0;if(o(r)){if(o(s))if(t.hasChildNodes()){for(var u=!0,h=t.firstChild,l=0;l<s.length;l++){if(!h||!C(h,s[l],n)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else d(e,s,n);if(o(a))for(var c in a)if(!L(c)){v(e,n);break}}else t.data!==e.text&&(t.data=e.text);return!0}var M,T,A={},E=t.modules,I=t.nodeOps;for(M=0;M<ja.length;++M)for(A[ja[M]]=[],T=0;T<E.length;++T)o(E[T][ja[M]])&&A[ja[M]].push(E[T][ja[M]]);var L=f("attrs,style,class,staticClass,staticStyle,key");return function(t,r,a,s,h,p){if(n(r))return void(o(t)&&b(t));var l=!1,c=[];if(n(t))l=!0,u(r,c,h,p);else{var f=o(t.nodeType);if(!f&&hn(t,r))P(t,r,c,s);else{if(f){if(1===t.nodeType&&t.hasAttribute(rr)&&(t.removeAttribute(rr),a=!0),i(a)&&C(t,r,c))return S(r,c,!0),t;t=e(t)}var d=t.elm,v=I.parentNode(d);if(u(r,c,d._leaveCb?null:v,I.nextSibling(d)),
o(r.parent)){for(var g=r.parent;g;)g.elm=r.elm,g=g.parent;if(y(r))for(var m=0;m<A.create.length;++m)A.create[m](Fa,r.parent)}o(v)?_(v,[t],0,0):o(t.tag)&&b(t)}}return S(r,c,l),r.elm}}function fn(t,e){(t.data.directives||e.data.directives)&&dn(t,e)}function dn(t,e){var n,o,i,r=t===Fa,a=e===Fa,s=yn(t.data.directives,t.context),u=yn(e.data.directives,e.context),h=[],p=[];for(n in u)o=s[n],i=u[n],o?(i.oldValue=o.value,gn(i,"update",e,t),i.def&&i.def.componentUpdated&&p.push(i)):(gn(i,"bind",e,t),i.def&&i.def.inserted&&h.push(i));if(h.length){var l=function(){for(var n=0;n<h.length;n++)gn(h[n],"inserted",e,t)};r?it(e.data.hook||(e.data.hook={}),"insert",l):l()}if(p.length&&it(e.data.hook||(e.data.hook={}),"postpatch",function(){for(var n=0;n<p.length;n++)gn(p[n],"componentUpdated",e,t)}),!r)for(n in s)u[n]||gn(s[n],"unbind",t,t,a)}function yn(t,e){var n=Object.create(null);if(!t)return n;var o,i;for(o=0;o<t.length;o++)i=t[o],i.modifiers||(i.modifiers=Ba),n[vn(i)]=i,i.def=H(e.$options,"directives",i.name,!0);return n}function vn(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function gn(t,e,n,o,i){var r=t.def&&t.def[e];if(r)try{r(n.elm,t,n,o,i)}catch(o){E(o,n.context,"directive "+t.name+" "+e+" hook")}}function mn(t,e){var i=e.componentOptions;if(!(o(i)&&i.Ctor.options.inheritAttrs===!1||n(t.data.attrs)&&n(e.data.attrs))){var r,a,s,u=e.elm,h=t.data.attrs||{},p=e.data.attrs||{};o(p.__ob__)&&(p=e.data.attrs=b({},p));for(r in p)a=p[r],s=h[r],s!==a&&bn(u,r,a);vr&&p.value!==h.value&&bn(u,"value",p.value);for(r in h)n(p[r])&&(Ma(r)?u.removeAttributeNS(Ca,Ta(r)):Pa(r)||u.removeAttribute(r))}}function bn(t,e,n){Sa(e)?Aa(n)?t.removeAttribute(e):t.setAttribute(e,e):Pa(e)?t.setAttribute(e,Aa(n)||"false"===n?"false":"true"):Ma(e)?Aa(n)?t.removeAttributeNS(Ca,Ta(e)):t.setAttributeNS(Ca,e,n):Aa(n)?t.removeAttribute(e):t.setAttribute(e,n)}function _n(t,e){var i=e.elm,r=e.data,a=t.data;if(!(n(r.staticClass)&&n(r.class)&&(n(a)||n(a.staticClass)&&n(a.class)))){var s=Ke(e),u=i._transitionClasses;o(u)&&(s=Ue(s,Ye(u))),s!==i._prevClass&&(i.setAttribute("class",s),i._prevClass=s)}}function xn(t){function e(){(a||(a=[])).push(t.slice(d,i).trim()),d=i+1}var n,o,i,r,a,s=!1,u=!1,h=!1,p=!1,l=0,c=0,f=0,d=0;for(i=0;i<t.length;i++)if(o=n,n=t.charCodeAt(i),s)39===n&&92!==o&&(s=!1);else if(u)34===n&&92!==o&&(u=!1);else if(h)96===n&&92!==o&&(h=!1);else if(p)47===n&&92!==o&&(p=!1);else if(124!==n||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||l||c||f){switch(n){case 34:u=!0;break;case 39:s=!0;break;case 96:h=!0;break;case 40:f++;break;case 41:f--;break;case 91:c++;break;case 93:c--;break;case 123:l++;break;case 125:l--}if(47===n){for(var y=i-1,v=void 0;y>=0&&(v=t.charAt(y)," "===v);y--);v&&Ga.test(v)||(p=!0)}}else void 0===r?(d=i+1,r=t.slice(0,i).trim()):e();if(void 0===r?r=t.slice(0,i).trim():0!==d&&e(),a)for(i=0;i<a.length;i++)r=wn(r,a[i]);return r}function wn(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var o=e.slice(0,n),i=e.slice(n+1);return'_f("'+o+'")('+t+","+i}function Pn(t){console.error("[Vue compiler]: "+t)}function Sn(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function Cn(t,e,n){(t.props||(t.props=[])).push({name:e,value:n})}function Mn(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n})}function Tn(t,e,n,o,i,r){(t.directives||(t.directives=[])).push({name:e,rawName:n,value:o,arg:i,modifiers:r})}function An(t,e,n,o,i,r){o&&o.capture&&(delete o.capture,e="!"+e),o&&o.once&&(delete o.once,e="~"+e),o&&o.passive&&(delete o.passive,e="&"+e);var a;o&&o.native?(delete o.native,a=t.nativeEvents||(t.nativeEvents={})):a=t.events||(t.events={});var s={value:n,modifiers:o},u=a[e];Array.isArray(u)?i?u.unshift(s):u.push(s):u?a[e]=i?[s,u]:[u,s]:a[e]=s}function En(t,e,n){var o=In(t,":"+e)||In(t,"v-bind:"+e);if(null!=o)return xn(o);if(n!==!1){var i=In(t,e);if(null!=i)return JSON.stringify(i)}}function In(t,e){var n;if(null!=(n=t.attrsMap[e]))for(var o=t.attrsList,i=0,r=o.length;i<r;i++)if(o[i].name===e){o.splice(i,1);break}return n}function Ln(t,e,n){var o=n||{},i=o.number,r=o.trim,a="$$v",s=a;r&&(s="(typeof "+a+" === 'string'? "+a+".trim(): "+a+")"),i&&(s="_n("+s+")");var u=Nn(e,s);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ("+a+") {"+u+"}"}}function Nn(t,e){var n=On(t);return null===n.idx?t+"="+e:"$set("+n.exp+", "+n.idx+", "+e+")"}function On(t){if(ca=t,la=ca.length,da=ya=va=0,t.indexOf("[")<0||t.lastIndexOf("]")<la-1)return{exp:t,idx:null};for(;!Rn();)fa=kn(),Dn(fa)?jn(fa):91===fa&&Fn(fa);return{exp:t.substring(0,ya),idx:t.substring(ya+1,va)}}function kn(){return ca.charCodeAt(++da)}function Rn(){return da>=la}function Dn(t){return 34===t||39===t}function Fn(t){var e=1;for(ya=da;!Rn();)if(t=kn(),Dn(t))jn(t);else if(91===t&&e++,93===t&&e--,0===e){va=da;break}}function jn(t){for(var e=t;!Rn()&&(t=kn(),t!==e););}function Kn(t,e,n){ga=n;var o=e.value,i=e.modifiers,r=t.tag,a=t.attrsMap.type;if(t.component)return Ln(t,o,i),!1;if("select"===r)Un(t,o,i);else if("input"===r&&"checkbox"===a)Bn(t,o,i);else if("input"===r&&"radio"===a)Xn(t,o,i);else if("input"===r||"textarea"===r)Yn(t,o,i);else if(!ur.isReservedTag(r))return Ln(t,o,i),!1;return!0}function Bn(t,e,n){var o=n&&n.number,i=En(t,"value")||"null",r=En(t,"true-value")||"true",a=En(t,"false-value")||"false";Cn(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===r?":("+e+")":":_q("+e+","+r+")")),An(t,za,"var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+r+"):("+a+");if(Array.isArray($$a)){var $$v="+(o?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+e+"=$$a.concat($$v))}else{$$i>-1&&("+e+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+Nn(e,"$$c")+"}",null,!0)}function Xn(t,e,n){var o=n&&n.number,i=En(t,"value")||"null";i=o?"_n("+i+")":i,Cn(t,"checked","_q("+e+","+i+")"),An(t,za,Nn(e,i),null,!0)}function Un(t,e,n){var o=n&&n.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(o?"_n(val)":"val")+"})",r="$event.target.multiple ? $$selectedVal : $$selectedVal[0]",a="var $$selectedVal = "+i+";";a=a+" "+Nn(e,r),An(t,"change",a,null,!0)}function Yn(t,e,n){var o=t.attrsMap.type,i=n||{},r=i.lazy,a=i.number,s=i.trim,u=!r&&"range"!==o,h=r?"change":"range"===o?Wa:"input",p="$event.target.value";s&&(p="$event.target.value.trim()"),a&&(p="_n("+p+")");var l=Nn(e,p);u&&(l="if($event.target.composing)return;"+l),Cn(t,"value","("+e+")"),An(t,h,l,null,!0),(s||a)&&An(t,"blur","$forceUpdate()")}function Gn(t){var e;o(t[Wa])&&(e=yr?"change":"input",t[e]=[].concat(t[Wa],t[e]||[]),delete t[Wa]),o(t[za])&&(e=_r?"click":"change",t[e]=[].concat(t[za],t[e]||[]),delete t[za])}function Wn(t,e,n,o,i){if(n){var r=e,a=ma;e=function(n){var i=1===arguments.length?r(n):r.apply(null,arguments);null!==i&&zn(t,e,o,a)}}ma.addEventListener(t,e,wr?{capture:o,passive:i}:o)}function zn(t,e,n,o){(o||ma).removeEventListener(t,e,n)}function qn(t,e){if(!n(t.data.on)||!n(e.data.on)){var o=e.data.on||{},i=t.data.on||{};ma=e.elm,Gn(o),ot(o,i,Wn,zn,e.context)}}function Hn(t,e){if(!n(t.data.domProps)||!n(e.data.domProps)){var i,r,a=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};o(u.__ob__)&&(u=e.data.domProps=b({},u));for(i in s)n(u[i])&&(a[i]="");for(i in u)if(r=u[i],"textContent"!==i&&"innerHTML"!==i||(e.children&&(e.children.length=0),r!==s[i]))if("value"===i){a._value=r;var h=n(r)?"":String(r);Vn(a,e,h)&&(a.value=h)}else a[i]=r}}function Vn(t,e,n){return!t.composing&&("option"===e.tag||$n(t,n)||Zn(t,n))}function $n(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}function Zn(t,e){var n=t.value,i=t._vModifiers;return o(i)&&i.number?c(n)!==c(e):o(i)&&i.trim?n.trim()!==e.trim():n!==e}function Jn(t){var e=Qn(t.style);return t.staticStyle?b(t.staticStyle,e):e}function Qn(t){return Array.isArray(t)?_(t):"string"==typeof t?Va(t):t}function to(t,e){var n,o={};if(e)for(var i=t;i.componentInstance;)i=i.componentInstance._vnode,i.data&&(n=Jn(i.data))&&b(o,n);(n=Jn(t.data))&&b(o,n);for(var r=t;r=r.parent;)r.data&&(n=Jn(r.data))&&b(o,n);return o}function eo(t,e){var i=e.data,r=t.data;if(!(n(i.staticStyle)&&n(i.style)&&n(r.staticStyle)&&n(r.style))){var a,s,u=e.elm,h=r.staticStyle,p=r.normalizedStyle||r.style||{},l=h||p,c=Qn(e.data.style)||{};e.data.normalizedStyle=o(c.__ob__)?b({},c):c;var f=to(e,!0);for(s in l)n(f[s])&&Ja(u,s,"");for(s in f)a=f[s],a!==l[s]&&Ja(u,s,null==a?"":a)}}function no(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function oo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",o=" "+e+" ";n.indexOf(o)>=0;)n=n.replace(o," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function io(t){if(t){if("object"==typeof t){var e={};return t.css!==!1&&b(e,ns(t.name||"v")),b(e,t),e}return"string"==typeof t?ns(t):void 0}}function ro(t){ps(function(){ps(t)})}function ao(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),no(t,e))}function so(t,e){t._transitionClasses&&d(t._transitionClasses,e),oo(t,e)}function uo(t,e,n){var o=ho(t,e),i=o.type,r=o.timeout,a=o.propCount;if(!i)return n();var s=i===is?ss:hs,u=0,h=function(){t.removeEventListener(s,p),n()},p=function(e){e.target===t&&++u>=a&&h()};setTimeout(function(){u<a&&h()},r+1),t.addEventListener(s,p)}function ho(t,e){var n,o=window.getComputedStyle(t),i=o[as+"Delay"].split(", "),r=o[as+"Duration"].split(", "),a=po(i,r),s=o[us+"Delay"].split(", "),u=o[us+"Duration"].split(", "),h=po(s,u),p=0,l=0;e===is?a>0&&(n=is,p=a,l=r.length):e===rs?h>0&&(n=rs,p=h,l=u.length):(p=Math.max(a,h),n=p>0?a>h?is:rs:null,l=n?n===is?r.length:u.length:0);var c=n===is&&ls.test(o[as+"Property"]);return{type:n,timeout:p,propCount:l,hasTransform:c}}function po(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return lo(e)+lo(t[n])}))}function lo(t){return 1e3*Number(t.slice(0,-1))}function co(t,e){var i=t.elm;o(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var r=io(t.data.transition);if(!n(r)&&!o(i._enterCb)&&1===i.nodeType){for(var a=r.css,u=r.type,h=r.enterClass,p=r.enterToClass,l=r.enterActiveClass,f=r.appearClass,d=r.appearToClass,y=r.appearActiveClass,v=r.beforeEnter,g=r.enter,m=r.afterEnter,b=r.enterCancelled,_=r.beforeAppear,x=r.appear,w=r.afterAppear,P=r.appearCancelled,S=r.duration,M=Wr,T=Wr.$vnode;T&&T.parent;)T=T.parent,M=T.context;var A=!M._isMounted||!t.isRootInsert;if(!A||x||""===x){var E=A&&f?f:h,I=A&&y?y:l,L=A&&d?d:p,N=A?_||v:v,O=A&&"function"==typeof x?x:g,k=A?w||m:m,R=A?P||b:b,D=c(s(S)?S.enter:S),F=a!==!1&&!vr,j=vo(O),K=i._enterCb=C(function(){F&&(so(i,L),so(i,I)),K.cancelled?(F&&so(i,E),R&&R(i)):k&&k(i),i._enterCb=null});t.data.show||it(t.data.hook||(t.data.hook={}),"insert",function(){var e=i.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),O&&O(i,K)}),N&&N(i),F&&(ao(i,E),ao(i,I),ro(function(){ao(i,L),so(i,E),K.cancelled||j||(yo(D)?setTimeout(K,D):uo(i,u,K))})),t.data.show&&(e&&e(),O&&O(i,K)),F||j||K()}}}function fo(t,e){function i(){P.cancelled||(t.data.show||((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),d&&d(r),_&&(ao(r,p),ao(r,f),ro(function(){ao(r,l),so(r,p),P.cancelled||x||(yo(w)?setTimeout(P,w):uo(r,h,P))})),y&&y(r,P),_||x||P())}var r=t.elm;o(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var a=io(t.data.transition);if(n(a))return e();if(!o(r._leaveCb)&&1===r.nodeType){var u=a.css,h=a.type,p=a.leaveClass,l=a.leaveToClass,f=a.leaveActiveClass,d=a.beforeLeave,y=a.leave,v=a.afterLeave,g=a.leaveCancelled,m=a.delayLeave,b=a.duration,_=u!==!1&&!vr,x=vo(y),w=c(s(b)?b.leave:b),P=r._leaveCb=C(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),_&&(so(r,l),so(r,f)),P.cancelled?(_&&so(r,p),g&&g(r)):(e(),v&&v(r)),r._leaveCb=null});m?m(i):i()}}function yo(t){return"number"==typeof t&&!isNaN(t)}function vo(t){if(n(t))return!1;var e=t.fns;return o(e)?vo(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function go(t,e){e.data.show!==!0&&co(e)}function mo(t,e,n){var o=e.value,i=t.multiple;if(!i||Array.isArray(o)){for(var r,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)r=S(o,bo(a))>-1,a.selected!==r&&(a.selected=r);else if(P(bo(a),o))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function bo(t){return"_value"in t?t._value:t.value}function _o(t){t.target.composing=!0}function xo(t){t.target.composing&&(t.target.composing=!1,wo(t.target,"input"))}function wo(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Po(t){return!t.componentInstance||t.data&&t.data.transition?t:Po(t.componentInstance._vnode)}function So(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?So(dt(e.children)):t}function Co(t){var e={},n=t.$options;for(var o in n.propsData)e[o]=t[o];var i=n._parentListeners;for(var r in i)e[Qi(r)]=i[r];return e}function Mo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function To(t){for(;t=t.parent;)if(t.data.transition)return!0}function Ao(t,e){return e.key===t.key&&e.tag===t.tag}function Eo(t){return t.isComment&&t.asyncFactory}function Io(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Lo(t){t.data.newPos=t.elm.getBoundingClientRect()}function No(t){var e=t.data.pos,n=t.data.newPos,o=e.left-n.left,i=e.top-n.top;if(o||i){t.data.moved=!0;var r=t.elm.style;r.transform=r.WebkitTransform="translate("+o+"px,"+i+"px)",r.transitionDuration="0s"}}function Oo(t,e){var n=document.createElement("div");return n.innerHTML='<div a="'+t+'"/>',n.innerHTML.indexOf(e)>0}function ko(t,e){var n=e?Es(e):Ts;if(n.test(t)){for(var o,i,r=[],a=n.lastIndex=0;o=n.exec(t);){i=o.index,i>a&&r.push(JSON.stringify(t.slice(a,i)));var s=xn(o[1].trim());r.push("_s("+s+")"),a=i+o[0].length}return a<t.length&&r.push(JSON.stringify(t.slice(a))),r.join("+")}}function Ro(t,e){var n=(e.warn||Pn,In(t,"class"));n&&(t.staticClass=JSON.stringify(n));var o=En(t,"class",!1);o&&(t.classBinding=o)}function Do(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}function Fo(t,e){var n=(e.warn||Pn,In(t,"style"));if(n){t.staticStyle=JSON.stringify(Va(n))}var o=En(t,"style",!1);o&&(t.styleBinding=o)}function jo(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}function Ko(t,e){e.value&&Cn(t,"textContent","_s("+e.value+")")}function Bo(t,e){e.value&&Cn(t,"innerHTML","_s("+e.value+")")}function Xo(t,e){var n=e?cu:lu;return t.replace(n,function(t){return pu[t]})}function Uo(t,e){function n(e){c+=e,t=t.substring(e)}function o(){var e=t.match(Ws);if(e){var o={tagName:e[1],attrs:[],start:c};n(e[0].length);for(var i,r;!(i=t.match(zs))&&(r=t.match(Us));)n(r[0].length),o.attrs.push(r);if(i)return o.unarySlash=i[1],n(i[0].length),o.end=c,o}}function i(t){var n=t.tagName,o=t.unarySlash;h&&("p"===s&&Ds(n)&&r(s),l(n)&&s===n&&r(n));for(var i=p(n)||!!o,a=t.attrs.length,c=new Array(a),f=0;f<a;f++){var d=t.attrs[f];Zs&&d[0].indexOf('""')===-1&&(""===d[3]&&delete d[3],""===d[4]&&delete d[4],""===d[5]&&delete d[5]);var y=d[3]||d[4]||d[5]||"";c[f]={name:d[1],value:Xo(y,e.shouldDecodeNewlines)}}i||(u.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:c}),s=n),e.start&&e.start(n,c,i,t.start,t.end)}function r(t,n,o){var i,r;if(null==n&&(n=c),null==o&&(o=c),t&&(r=t.toLowerCase()),t)for(i=u.length-1;i>=0&&u[i].lowerCasedTag!==r;i--);else i=0;if(i>=0){for(var a=u.length-1;a>=i;a--)e.end&&e.end(u[a].tag,n,o);u.length=i,s=i&&u[i-1].tag}else"br"===r?e.start&&e.start(t,[],!0,n,o):"p"===r&&(e.start&&e.start(t,[],!1,n,o),e.end&&e.end(t,n,o))}for(var a,s,u=[],h=e.expectHTML,p=e.isUnaryTag||or,l=e.canBeLeftOpenTag||or,c=0;t;){if(a=t,s&&uu(s)){var f=0,d=s.toLowerCase(),y=hu[d]||(hu[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i")),v=t.replace(y,function(t,n,o){return f=o.length,uu(d)||"noscript"===d||(n=n.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),du(d,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""});c+=t.length-v.length,t=v,r(d,c-f,c)}else{var g=t.indexOf("<");if(0===g){if(Vs.test(t)){var m=t.indexOf("-->");if(m>=0){e.shouldKeepComment&&e.comment(t.substring(4,m)),n(m+3);continue}}if($s.test(t)){var b=t.indexOf("]>");if(b>=0){n(b+2);continue}}var _=t.match(Hs);if(_){n(_[0].length);continue}var x=t.match(qs);if(x){var w=c;n(x[0].length),r(x[1],w,c);continue}var P=o();if(P){i(P),du(s,t)&&n(1);continue}}var S=void 0,C=void 0,M=void 0;if(g>=0){for(C=t.slice(g);!(qs.test(C)||Ws.test(C)||Vs.test(C)||$s.test(C)||(M=C.indexOf("<",1),M<0));)g+=M,C=t.slice(g);S=t.substring(0,g),n(g)}g<0&&(S=t,t=""),e.chars&&S&&e.chars(S)}if(t===a){e.chars&&e.chars(t);break}}r()}function Yo(t,e){function n(t){t.pre&&(s=!1),ou(t.tag)&&(u=!1)}Js=e.warn||Pn,ou=e.isPreTag||or,iu=e.mustUseProp||or,ru=e.getTagNamespace||or,tu=Sn(e.modules,"transformNode"),eu=Sn(e.modules,"preTransformNode"),nu=Sn(e.modules,"postTransformNode"),Qs=e.delimiters;var o,i,r=[],a=e.preserveWhitespace!==!1,s=!1,u=!1;return Uo(t,{warn:Js,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldKeepComment:e.comments,start:function(t,a,h){function p(t){}var l=i&&i.ns||ru(t);yr&&"svg"===l&&(a=ui(a));var c={type:1,tag:t,attrsList:a,attrsMap:ri(a),parent:i,children:[]};l&&(c.ns=l),si(c)&&!Mr()&&(c.forbidden=!0);for(var f=0;f<eu.length;f++)eu[f](c,e);if(s||(Go(c),c.pre&&(s=!0)),ou(c.tag)&&(u=!0),s)Wo(c);else{Ho(c),Vo(c),Qo(c),zo(c),c.plain=!c.key&&!a.length,qo(c),ti(c),ei(c);for(var d=0;d<tu.length;d++)tu[d](c,e);ni(c)}if(o?r.length||o.if&&(c.elseif||c.else)&&(p(c),Jo(o,{exp:c.elseif,block:c})):(o=c,p(o)),i&&!c.forbidden)if(c.elseif||c.else)$o(c,i);else if(c.slotScope){i.plain=!1;var y=c.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[y]=c}else i.children.push(c),c.parent=i;h?n(c):(i=c,r.push(c));for(var v=0;v<nu.length;v++)nu[v](c,e)},end:function(){var t=r[r.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!u&&t.children.pop(),r.length-=1,i=r[r.length-1],n(t)},chars:function(t){if(i&&(!yr||"textarea"!==i.tag||i.attrsMap.placeholder!==t)){var e=i.children;if(t=u||t.trim()?ai(i)?t:wu(t):a&&e.length?" ":""){var n;!s&&" "!==t&&(n=ko(t,Qs))?e.push({type:2,expression:n,text:t}):" "===t&&e.length&&" "===e[e.length-1].text||e.push({type:3,text:t})}}},comment:function(t){i.children.push({type:3,text:t,isComment:!0})}}),o}function Go(t){null!=In(t,"v-pre")&&(t.pre=!0)}function Wo(t){var e=t.attrsList.length;if(e)for(var n=t.attrs=new Array(e),o=0;o<e;o++)n[o]={name:t.attrsList[o].name,value:JSON.stringify(t.attrsList[o].value)};else t.pre||(t.plain=!0)}function zo(t){var e=En(t,"key");e&&(t.key=e)}function qo(t){var e=En(t,"ref");e&&(t.ref=e,t.refInFor=oi(t))}function Ho(t){var e;if(e=In(t,"v-for")){var n=e.match(gu);if(!n)return;t.for=n[2].trim();var o=n[1].trim(),i=o.match(mu);i?(t.alias=i[1].trim(),t.iterator1=i[2].trim(),i[3]&&(t.iterator2=i[3].trim())):t.alias=o}}function Vo(t){var e=In(t,"v-if");if(e)t.if=e,Jo(t,{exp:e,block:t});else{null!=In(t,"v-else")&&(t.else=!0);var n=In(t,"v-else-if");n&&(t.elseif=n)}}function $o(t,e){var n=Zo(e.children);n&&n.if&&Jo(n,{exp:t.elseif,block:t})}function Zo(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}function Jo(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function Qo(t){var e=In(t,"v-once");null!=e&&(t.once=!0)}function ti(t){if("slot"===t.tag)t.slotName=En(t,"name");else{var e=En(t,"slot");e&&(t.slotTarget='""'===e?'"default"':e),"template"===t.tag&&(t.slotScope=In(t,"scope"))}}function ei(t){var e;(e=En(t,"is"))&&(t.component=e),null!=In(t,"inline-template")&&(t.inlineTemplate=!0)}function ni(t){var e,n,o,i,r,a,s,u=t.attrsList;for(e=0,n=u.length;e<n;e++)if(o=i=u[e].name,r=u[e].value,vu.test(o))if(t.hasBindings=!0,a=ii(o),a&&(o=o.replace(xu,"")),_u.test(o))o=o.replace(_u,""),r=xn(r),s=!1,a&&(a.prop&&(s=!0,o=Qi(o),"innerHtml"===o&&(o="innerHTML")),a.camel&&(o=Qi(o)),a.sync&&An(t,"update:"+Qi(o),Nn(r,"$event"))),s||!t.component&&iu(t.tag,t.attrsMap.type,o)?Cn(t,o,r):Mn(t,o,r);else if(yu.test(o))o=o.replace(yu,""),An(t,o,r,a,!1,Js);else{o=o.replace(vu,"");var h=o.match(bu),p=h&&h[1];p&&(o=o.slice(0,-(p.length+1))),Tn(t,o,i,r,p,a)}else{Mn(t,o,JSON.stringify(r))}}function oi(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}function ii(t){var e=t.match(xu);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}function ri(t){for(var e={},n=0,o=t.length;n<o;n++)e[t[n].name]=t[n].value;return e}function ai(t){return"script"===t.tag||"style"===t.tag}function si(t){return"style"===t.tag||"script"===t.tag&&(!t.attrsMap.type||"text/javascript"===t.attrsMap.type)}function ui(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];Pu.test(o.name)||(o.name=o.name.replace(Su,""),e.push(o))}return e}function hi(t,e){t&&(au=Cu(e.staticKeys||""),su=e.isReservedTag||or,li(t),ci(t,!1))}function pi(t){return f("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))}function li(t){if(t.static=fi(t),1===t.type){if(!su(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var o=t.children[e];li(o),o.static||(t.static=!1)}if(t.ifConditions)for(var i=1,r=t.ifConditions.length;i<r;i++){var a=t.ifConditions[i].block;li(a),a.static||(t.static=!1)}}}function ci(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,o=t.children.length;n<o;n++)ci(t.children[n],e||!!t.for);if(t.ifConditions)for(var i=1,r=t.ifConditions.length;i<r;i++)ci(t.ifConditions[i].block,e)}}function fi(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||Vi(t.tag)||!su(t.tag)||di(t)||!Object.keys(t).every(au))))}function di(t){for(;t.parent;){if(t=t.parent,"template"!==t.tag)return!1;if(t.for)return!0}return!1}function yi(t,e,n){var o=e?"nativeOn:{":"on:{";for(var i in t){var r=t[i];o+='"'+i+'":'+vi(i,r)+","}return o.slice(0,-1)+"}"}function vi(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return vi(t,e)}).join(",")+"]";var n=Tu.test(e.value),o=Mu.test(e.value);if(e.modifiers){var i="",r="",a=[];for(var s in e.modifiers)Iu[s]?(r+=Iu[s],Au[s]&&a.push(s)):a.push(s);a.length&&(i+=gi(a)),r&&(i+=r);var u=n?e.value+"($event)":o?"("+e.value+")($event)":e.value;return"function($event){"+i+u+"}"}return n||o?e.value:"function($event){"+e.value+"}"}function gi(t){return"if(!('button' in $event)&&"+t.map(mi).join("&&")+")return null;"}function mi(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=Au[t];return"_k($event.keyCode,"+JSON.stringify(t)+(n?","+JSON.stringify(n):"")+")"}function bi(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}}function _i(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}}function xi(t,e){var n=new Nu(e),o=t?wi(t,n):'_c("div")';return{render:"with(this){return "+o+"}",staticRenderFns:n.staticRenderFns}}function wi(t,e){if(t.staticRoot&&!t.staticProcessed)return Pi(t,e);if(t.once&&!t.onceProcessed)return Si(t,e);if(t.for&&!t.forProcessed)return Ti(t,e);if(t.if&&!t.ifProcessed)return Ci(t,e);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return Bi(t,e);var n;if(t.component)n=Xi(t.component,t,e);else{var o=t.plain?void 0:Ai(t,e),i=t.inlineTemplate?null:ki(t,e,!0);n="_c('"+t.tag+"'"+(o?","+o:"")+(i?","+i:"")+")"}for(var r=0;r<e.transforms.length;r++)n=e.transforms[r](t,n);return n}return ki(t,e)||"void 0"}function Pi(t,e){return t.staticProcessed=!0,e.staticRenderFns.push("with(this){return "+wi(t,e)+"}"),"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Si(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Ci(t,e);if(t.staticInFor){for(var n="",o=t.parent;o;){if(o.for){n=o.key;break}o=o.parent}return n?"_o("+wi(t,e)+","+e.onceId++ +(n?","+n:"")+")":wi(t,e)}return Pi(t,e)}function Ci(t,e,n,o){return t.ifProcessed=!0,Mi(t.ifConditions.slice(),e,n,o)}function Mi(t,e,n,o){function i(t){return n?n(t,e):t.once?Si(t,e):wi(t,e)}if(!t.length)return o||"_e()";var r=t.shift();return r.exp?"("+r.exp+")?"+i(r.block)+":"+Mi(t,e,n,o):""+i(r.block)}function Ti(t,e,n,o){var i=t.for,r=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(o||"_l")+"(("+i+"),function("+r+a+s+"){return "+(n||wi)(t,e)+"})"}function Ai(t,e){var n="{",o=Ei(t,e);o&&(n+=o+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:{"+Ui(t.attrs)+"},"),t.props&&(n+="domProps:{"+Ui(t.props)+"},"),t.events&&(n+=yi(t.events,!1,e.warn)+","),t.nativeEvents&&(n+=yi(t.nativeEvents,!0,e.warn)+","),t.slotTarget&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=Li(t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var r=Ii(t,e);r&&(n+=r+",")}return n=n.replace(/,$/,"")+"}",t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Ei(t,e){var n=t.directives;if(n){var o,i,r,a,s="directives:[",u=!1;for(o=0,i=n.length;o<i;o++){r=n[o],a=!0;var h=e.directives[r.name];h&&(a=!!h(t,r,e.warn)),a&&(u=!0,s+='{name:"'+r.name+'",rawName:"'+r.rawName+'"'+(r.value?",value:("+r.value+"),expression:"+JSON.stringify(r.value):"")+(r.arg?',arg:"'+r.arg+'"':"")+(r.modifiers?",modifiers:"+JSON.stringify(r.modifiers):"")+"},")}return u?s.slice(0,-1)+"]":void 0}}function Ii(t,e){var n=t.children[0];if(1===n.type){var o=xi(n,e.options);return"inlineTemplate:{render:function(){"+o.render+"},staticRenderFns:["+o.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}function Li(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(n){return Ni(n,t[n],e)}).join(",")+"])"}function Ni(t,e,n){return e.for&&!e.forProcessed?Oi(t,e,n):"{key:"+t+",fn:function("+String(e.attrsMap.scope)+"){return "+("template"===e.tag?ki(e,n)||"void 0":wi(e,n))+"}}"}function Oi(t,e,n){var o=e.for,i=e.alias,r=e.iterator1?","+e.iterator1:"",a=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+o+"),function("+i+r+a+"){return "+Ni(t,e,n)+"})"}function ki(t,e,n,o,i){var r=t.children;if(r.length){var a=r[0];if(1===r.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag)return(o||wi)(a,e);var s=n?Ri(r,e.maybeComponent):0,u=i||Fi;return"["+r.map(function(t){return u(t,e)}).join(",")+"]"+(s?","+s:"")}}function Ri(t,e){for(var n=0,o=0;o<t.length;o++){var i=t[o];if(1===i.type){if(Di(i)||i.ifConditions&&i.ifConditions.some(function(t){return Di(t.block)})){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}function Di(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function Fi(t,e){return 1===t.type?wi(t,e):3===t.type&&t.isComment?Ki(t):ji(t)}function ji(t){return"_v("+(2===t.type?t.expression:Yi(JSON.stringify(t.text)))+")"}function Ki(t){return"_e("+JSON.stringify(t.text)+")"}function Bi(t,e){var n=t.slotName||'"default"',o=ki(t,e),i="_t("+n+(o?","+o:""),r=t.attrs&&"{"+t.attrs.map(function(t){return Qi(t.name)+":"+t.value}).join(",")+"}",a=t.attrsMap["v-bind"];return!r&&!a||o||(i+=",null"),r&&(i+=","+r),a&&(i+=(r?"":",null")+","+a),i+")"}function Xi(t,e,n){var o=e.inlineTemplate?null:ki(e,n,!0);return"_c("+t+","+Ai(e,n)+(o?","+o:"")+")"}function Ui(t){for(var e="",n=0;n<t.length;n++){var o=t[n];e+='"'+o.name+'":'+Yi(o.value)+","}return e.slice(0,-1)}function Yi(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Gi(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),x}}function Wi(t){var e=Object.create(null);return function(n,o,i){o=o||{};var r=o.delimiters?String(o.delimiters)+n:n;if(e[r])return e[r];var a=t(n,o),s={},u=[];return s.render=Gi(a.render,u),s.staticRenderFns=a.staticRenderFns.map(function(t){return Gi(t,u)}),e[r]=s}}function zi(t){return function(e){function n(n,o){var i=Object.create(e),r=[],a=[];if(i.warn=function(t,e){(e?a:r).push(t)},o){o.modules&&(i.modules=(e.modules||[]).concat(o.modules)),o.directives&&(i.directives=b(Object.create(e.directives),o.directives));for(var s in o)"modules"!==s&&"directives"!==s&&(i[s]=o[s])}var u=t(n,i);return u.errors=r,u.tips=a,u}return{compile:n,compileToFunctions:Wi(n)}}}function qi(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}var Hi=Object.prototype.toString,Vi=f("slot,component",!0),$i=f("key,ref,slot,is"),Zi=Object.prototype.hasOwnProperty,Ji=/-(\w)/g,Qi=v(function(t){return t.replace(Ji,function(t,e){return e?e.toUpperCase():""})}),tr=v(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),er=/([^-])([A-Z])/g,nr=v(function(t){return t.replace(er,"$1-$2").replace(er,"$1-$2").toLowerCase()}),or=function(t,e,n){return!1},ir=function(t){return t},rr="data-server-rendered",ar=["component","directive","filter"],sr=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],ur={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:or,isReservedAttr:or,isUnknownElement:or,getTagNamespace:x,parsePlatformTagName:ir,mustUseProp:or,_lifecycleHooks:sr},hr=Object.freeze({}),pr=/[^\w.$]/,lr=x,cr="__proto__"in{},fr="undefined"!=typeof window,dr=fr&&window.navigator.userAgent.toLowerCase(),yr=dr&&/msie|trident/.test(dr),vr=dr&&dr.indexOf("msie 9.0")>0,gr=dr&&dr.indexOf("edge/")>0,mr=dr&&dr.indexOf("android")>0,br=dr&&/iphone|ipad|ipod|ios/.test(dr),_r=dr&&/chrome\/\d+/.test(dr)&&!gr,xr={}.watch,wr=!1;if(fr)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){wr=!0}}),window.addEventListener("test-passive",null,Pr)}catch(t){}var Sr,Cr,Mr=function(){return void 0===Sr&&(Sr=!fr&&"undefined"!=typeof e&&"server"===e.process.env.VUE_ENV),Sr},Tr=fr&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Ar="undefined"!=typeof Symbol&&I(Symbol)&&"undefined"!=typeof Reflect&&I(Reflect.ownKeys),Er=function(){function t(){o=!1;var t=n.slice(0);n.length=0;for(var e=0;e<t.length;e++)t[e]()}var e,n=[],o=!1;if("undefined"!=typeof Promise&&I(Promise)){var i=Promise.resolve(),r=function(t){console.error(t)};e=function(){i.then(t).catch(r),br&&setTimeout(x)}}else if("undefined"==typeof MutationObserver||!I(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())e=function(){setTimeout(t,0)};else{var a=1,s=new MutationObserver(t),u=document.createTextNode(String(a));s.observe(u,{characterData:!0}),e=function(){a=(a+1)%2,u.data=String(a)}}return function(t,i){var r;if(n.push(function(){if(t)try{t.call(i)}catch(t){E(t,i,"nextTick")}else r&&r(i)}),o||(o=!0,e()),!t&&"undefined"!=typeof Promise)return new Promise(function(t,e){r=t})}}();Cr="undefined"!=typeof Set&&I(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return this.set[t]===!0},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Ir=0,Lr=function(){this.id=Ir++,this.subs=[];
};Lr.prototype.addSub=function(t){this.subs.push(t)},Lr.prototype.removeSub=function(t){d(this.subs,t)},Lr.prototype.depend=function(){Lr.target&&Lr.target.addDep(this)},Lr.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},Lr.target=null;var Nr=[],Or=Array.prototype,kr=Object.create(Or);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Or[t];T(kr,t,function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];var i,r=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&a.observeArray(i),a.dep.notify(),r})});var Rr=Object.getOwnPropertyNames(kr),Dr={shouldConvert:!0},Fr=function(t){if(this.value=t,this.dep=new Lr,this.vmCount=0,T(t,"__ob__",this),Array.isArray(t)){var e=cr?O:k;e(t,kr,Rr),this.observeArray(t)}else this.walk(t)};Fr.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)D(t,e[n],t[e[n]])},Fr.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)R(t[e])};var jr=ur.optionMergeStrategies;jr.data=function(t,e,n){return n?X(t,e,n):e&&"function"!=typeof e?t:X.call(this,t,e)},sr.forEach(function(t){jr[t]=U}),ar.forEach(function(t){jr[t+"s"]=Y}),jr.watch=function(t,e){if(t===xr&&(t=void 0),e===xr&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var n={};b(n,t);for(var o in e){var i=n[o],r=e[o];i&&!Array.isArray(i)&&(i=[i]),n[o]=i?i.concat(r):Array.isArray(r)?r:[r]}return n},jr.props=jr.methods=jr.inject=jr.computed=function(t,e){if(!t)return e;var n=Object.create(null);return b(n,t),e&&b(n,e),n},jr.provide=X;var Kr=function(t,e){return void 0===e?t:e},Br=function(t,e,n,o,i,r,a,s){this.tag=t,this.data=e,this.children=n,this.text=o,this.elm=i,this.ns=void 0,this.context=r,this.functionalContext=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Xr={child:{}};Xr.child.get=function(){return this.componentInstance},Object.defineProperties(Br.prototype,Xr);var Ur,Yr=function(t){void 0===t&&(t="");var e=new Br;return e.text=t,e.isComment=!0,e},Gr=v(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var o="!"===t.charAt(0);return t=o?t.slice(1):t,{name:t,once:n,capture:o,passive:e}}),Wr=null,zr=[],qr=[],Hr={},Vr=!1,$r=!1,Zr=0,Jr=0,Qr=function(t,e,n,o){this.vm=t,t._watchers.push(this),o?(this.deep=!!o.deep,this.user=!!o.user,this.lazy=!!o.lazy,this.sync=!!o.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Jr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Cr,this.newDepIds=new Cr,this.expression="","function"==typeof e?this.getter=e:(this.getter=A(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Qr.prototype.get=function(){L(this);var t,e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;E(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Ft(t),N(),this.cleanupDeps()}return t},Qr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Qr.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var n=t.deps[e];t.newDepIds.has(n.id)||n.removeSub(t)}var o=this.depIds;this.depIds=this.newDepIds,this.newDepIds=o,this.newDepIds.clear(),o=this.deps,this.deps=this.newDeps,this.newDeps=o,this.newDeps.length=0},Qr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Dt(this)},Qr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){E(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Qr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Qr.prototype.depend=function(){for(var t=this,e=this.deps.length;e--;)t.deps[e].depend()},Qr.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||d(this.vm._watchers,this);for(var e=this.deps.length;e--;)t.deps[e].removeSub(t);this.active=!1}};var ta=new Cr,ea={enumerable:!0,configurable:!0,get:x,set:x},na={lazy:!0},oa={init:function(t,e,n,o){if(!t.componentInstance||t.componentInstance._isDestroyed){var i=t.componentInstance=oe(t,Wr,n,o);i.$mount(e?t.elm:void 0,e)}else if(t.data.keepAlive){var r=t;oa.prepatch(r,r)}},prepatch:function(t,e){var n=e.componentOptions,o=e.componentInstance=t.componentInstance;Mt(o,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,It(n,"mounted")),t.data.keepAlive&&(e._isMounted?kt(n):At(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Et(e,!0):e.$destroy())}},ia=Object.keys(oa),ra=1,aa=2,sa=0;we(Te),$t(Te),bt(Te),St(Te),xe(Te);var ua=[String,RegExp,Array],ha={name:"keep-alive",abstract:!0,props:{include:ua,exclude:ua},created:function(){this.cache=Object.create(null)},destroyed:function(){var t=this;for(var e in t.cache)Fe(t.cache[e])},watch:{include:function(t){De(this.cache,this._vnode,function(e){return Re(t,e)})},exclude:function(t){De(this.cache,this._vnode,function(e){return!Re(t,e)})}},render:function(){var t=dt(this.$slots.default),e=t&&t.componentOptions;if(e){var n=ke(e);if(n&&(this.include&&!Re(this.include,n)||this.exclude&&Re(this.exclude,n)))return t;var o=null==t.key?e.Ctor.cid+(e.tag?"::"+e.tag:""):t.key;this.cache[o]?t.componentInstance=this.cache[o].componentInstance:this.cache[o]=t,t.data.keepAlive=!0}return t}},pa={KeepAlive:ha};je(Te),Object.defineProperty(Te.prototype,"$isServer",{get:Mr}),Object.defineProperty(Te.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Te.version="2.4.2";var la,ca,fa,da,ya,va,ga,ma,ba,_a=f("style,class"),xa=f("input,textarea,option,select"),wa=function(t,e,n){return"value"===n&&xa(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Pa=f("contenteditable,draggable,spellcheck"),Sa=f("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Ca="http://www.w3.org/1999/xlink",Ma=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ta=function(t){return Ma(t)?t.slice(6,t.length):""},Aa=function(t){return null==t||t===!1},Ea={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ia=f("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),La=f("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Na=function(t){return"pre"===t},Oa=function(t){return Ia(t)||La(t)},ka=Object.create(null),Ra=Object.freeze({createElement:Ve,createElementNS:$e,createTextNode:Ze,createComment:Je,insertBefore:Qe,removeChild:tn,appendChild:en,parentNode:nn,nextSibling:on,tagName:rn,setTextContent:an,setAttribute:sn}),Da={create:function(t,e){un(e)},update:function(t,e){t.data.ref!==e.data.ref&&(un(t,!0),un(e))},destroy:function(t){un(t,!0)}},Fa=new Br("",{},[]),ja=["create","activate","update","remove","destroy"],Ka={create:fn,update:fn,destroy:function(t){fn(t,Fa)}},Ba=Object.create(null),Xa=[Da,Ka],Ua={create:mn,update:mn},Ya={create:_n,update:_n},Ga=/[\w).+\-_$\]]/,Wa="__r",za="__c",qa={create:qn,update:qn},Ha={create:Hn,update:Hn},Va=v(function(t){var e={},n=/;(?![^(]*\))/g,o=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(o);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}),$a=/^--/,Za=/\s*!important$/,Ja=function(t,e,n){if($a.test(e))t.style.setProperty(e,n);else if(Za.test(n))t.style.setProperty(e,n.replace(Za,""),"important");else{var o=ts(e);if(Array.isArray(n))for(var i=0,r=n.length;i<r;i++)t.style[o]=n[i];else t.style[o]=n}},Qa=["Webkit","Moz","ms"],ts=v(function(t){if(ba=ba||document.createElement("div").style,t=Qi(t),"filter"!==t&&t in ba)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Qa.length;n++){var o=Qa[n]+e;if(o in ba)return o}}),es={create:eo,update:eo},ns=v(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),os=fr&&!vr,is="transition",rs="animation",as="transition",ss="transitionend",us="animation",hs="animationend";os&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(as="WebkitTransition",ss="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(us="WebkitAnimation",hs="webkitAnimationEnd"));var ps=fr&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,ls=/\b(transform|all)(,|$)/,cs=fr?{create:go,activate:go,remove:function(t,e){t.data.show!==!0?fo(t,e):e()}}:{},fs=[Ua,Ya,qa,Ha,es,cs],ds=fs.concat(Xa),ys=cn({nodeOps:Ra,modules:ds}),vs=f("text,number,password,search,email,tel,url");vr&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&wo(t,"input")});var gs={inserted:function(t,e,n){if("select"===n.tag){var o=function(){mo(t,e,n.context)};o(),(yr||gr)&&setTimeout(o,0),t._vOptions=[].map.call(t.options,bo)}else("textarea"===n.tag||vs(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("change",xo),mr||(t.addEventListener("compositionstart",_o),t.addEventListener("compositionend",xo)),vr&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){mo(t,e,n.context);var o=t._vOptions,i=t._vOptions=[].map.call(t.options,bo);i.some(function(t,e){return!P(t,o[e])})&&wo(t,"change")}}},ms={bind:function(t,e,n){var o=e.value;n=Po(n);var i=n.data&&n.data.transition,r=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;o&&i?(n.data.show=!0,co(n,function(){t.style.display=r})):t.style.display=o?r:"none"},update:function(t,e,n){var o=e.value,i=e.oldValue;if(o!==i){n=Po(n);var r=n.data&&n.data.transition;r?(n.data.show=!0,o?co(n,function(){t.style.display=t.__vOriginalDisplay}):fo(n,function(){t.style.display="none"})):t.style.display=o?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,o,i){i||(t.style.display=t.__vOriginalDisplay)}},bs={model:gs,show:ms},_s={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},xs={name:"transition",props:_s,abstract:!0,render:function(t){var e=this,n=this.$options._renderChildren;if(n&&(n=n.filter(function(t){return t.tag||Eo(t)}),n.length)){var o=this.mode,i=n[0];if(To(this.$vnode))return i;var r=So(i);if(!r)return i;if(this._leaving)return Mo(t,i);var s="__transition-"+this._uid+"-";r.key=null==r.key?r.isComment?s+"comment":s+r.tag:a(r.key)?0===String(r.key).indexOf(s)?r.key:s+r.key:r.key;var u=(r.data||(r.data={})).transition=Co(this),h=this._vnode,p=So(h);if(r.data.directives&&r.data.directives.some(function(t){return"show"===t.name})&&(r.data.show=!0),p&&p.data&&!Ao(r,p)&&!Eo(p)){var l=p&&(p.data.transition=b({},u));if("out-in"===o)return this._leaving=!0,it(l,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Mo(t,i);if("in-out"===o){if(Eo(r))return h;var c,f=function(){c()};it(u,"afterEnter",f),it(u,"enterCancelled",f),it(l,"delayLeave",function(t){c=t})}}return i}}},ws=b({tag:String,moveClass:String},_s);delete ws.mode;var Ps={props:ws,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),o=this.prevChildren=this.children,i=this.$slots.default||[],r=this.children=[],a=Co(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))r.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(o){for(var h=[],p=[],l=0;l<o.length;l++){var c=o[l];c.data.transition=a,c.data.pos=c.elm.getBoundingClientRect(),n[c.key]?h.push(c):p.push(c)}this.kept=t(e,null,h),this.removed=p}return t(e,null,r)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";if(t.length&&this.hasMove(t[0].elm,e)){t.forEach(Io),t.forEach(Lo),t.forEach(No);var n=document.body;n.offsetHeight;t.forEach(function(t){if(t.data.moved){var n=t.elm,o=n.style;ao(n,e),o.transform=o.WebkitTransform=o.transitionDuration="",n.addEventListener(ss,n._moveCb=function t(o){o&&!/transform$/.test(o.propertyName)||(n.removeEventListener(ss,t),n._moveCb=null,so(n,e))})}})}},methods:{hasMove:function(t,e){if(!os)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){oo(n,t)}),no(n,e),n.style.display="none",this.$el.appendChild(n);var o=ho(n);return this.$el.removeChild(n),this._hasMove=o.hasTransform}}},Ss={Transition:xs,TransitionGroup:Ps};Te.config.mustUseProp=wa,Te.config.isReservedTag=Oa,Te.config.isReservedAttr=_a,Te.config.getTagNamespace=ze,Te.config.isUnknownElement=qe,b(Te.options.directives,bs),b(Te.options.components,Ss),Te.prototype.__patch__=fr?ys:x,Te.prototype.$mount=function(t,e){return t=t&&fr?He(t):void 0,Ct(this,t,e)},setTimeout(function(){ur.devtools&&Tr&&Tr.emit("init",Te)},0);var Cs,Ms=!!fr&&Oo("\n","&#10;"),Ts=/\{\{((?:.|\n)+?)\}\}/g,As=/[-.*+?^${}()|[\]\/\\]/g,Es=v(function(t){var e=t[0].replace(As,"\\$&"),n=t[1].replace(As,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}),Is={staticKeys:["staticClass"],transformNode:Ro,genData:Do},Ls={staticKeys:["staticStyle"],transformNode:Fo,genData:jo},Ns=[Is,Ls],Os={model:Kn,text:Ko,html:Bo},ks=f("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Rs=f("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Ds=f("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Fs={expectHTML:!0,modules:Ns,directives:Os,isPreTag:Na,isUnaryTag:ks,mustUseProp:wa,canBeLeftOpenTag:Rs,isReservedTag:Oa,getTagNamespace:ze,staticKeys:w(Ns)},js={decode:function(t){return Cs=Cs||document.createElement("div"),Cs.innerHTML=t,Cs.textContent}},Ks=/([^\s"'<>\/=]+)/,Bs=/(?:=)/,Xs=[/"([^"]*)"+/.source,/'([^']*)'+/.source,/([^\s"'=<>`]+)/.source],Us=new RegExp("^\\s*"+Ks.source+"(?:\\s*("+Bs.source+")\\s*(?:"+Xs.join("|")+"))?"),Ys="[a-zA-Z_][\\w\\-\\.]*",Gs="((?:"+Ys+"\\:)?"+Ys+")",Ws=new RegExp("^<"+Gs),zs=/^\s*(\/?)>/,qs=new RegExp("^<\\/"+Gs+"[^>]*>"),Hs=/^<!DOCTYPE [^>]+>/i,Vs=/^<!--/,$s=/^<!\[/,Zs=!1;"x".replace(/x(.)?/g,function(t,e){Zs=""===e});var Js,Qs,tu,eu,nu,ou,iu,ru,au,su,uu=f("script,style,textarea",!0),hu={},pu={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n"},lu=/&(?:lt|gt|quot|amp);/g,cu=/&(?:lt|gt|quot|amp|#10);/g,fu=f("pre,textarea",!0),du=function(t,e){return t&&fu(t)&&"\n"===e[0]},yu=/^@|^v-on:/,vu=/^v-|^@|^:/,gu=/(.*?)\s+(?:in|of)\s+(.*)/,mu=/\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/,bu=/:(.*)$/,_u=/^:|^v-bind:/,xu=/\.[^.]+/g,wu=v(js.decode),Pu=/^xmlns:NS\d+/,Su=/^NS\d+:/,Cu=v(pi),Mu=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,Tu=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,Au={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Eu=function(t){return"if("+t+")return null;"},Iu={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Eu("$event.target !== $event.currentTarget"),ctrl:Eu("!$event.ctrlKey"),shift:Eu("!$event.shiftKey"),alt:Eu("!$event.altKey"),meta:Eu("!$event.metaKey"),left:Eu("'button' in $event && $event.button !== 0"),middle:Eu("'button' in $event && $event.button !== 1"),right:Eu("'button' in $event && $event.button !== 2")},Lu={on:bi,bind:_i,cloak:x},Nu=function(t){this.options=t,this.warn=t.warn||Pn,this.transforms=Sn(t.modules,"transformCode"),this.dataGenFns=Sn(t.modules,"genData"),this.directives=b(b({},Lu),t.directives);var e=t.isReservedTag||or;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]},Ou=(new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),zi(function(t,e){var n=Yo(t.trim(),e);hi(n,e);var o=xi(n,e);return{ast:n,render:o.render,staticRenderFns:o.staticRenderFns}})),ku=Ou(Fs),Ru=ku.compileToFunctions,Du=v(function(t){var e=He(t);return e&&e.innerHTML}),Fu=Te.prototype.$mount;Te.prototype.$mount=function(t,e){if(t=t&&He(t),t===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var o=n.template;if(o)if("string"==typeof o)"#"===o.charAt(0)&&(o=Du(o));else{if(!o.nodeType)return this;o=o.innerHTML}else t&&(o=qi(t));if(o){var i=Ru(o,{shouldDecodeNewlines:Ms,delimiters:n.delimiters,comments:n.comments},this),r=i.render,a=i.staticRenderFns;n.render=r,n.staticRenderFns=a}}return Fu.call(this,t,e)},Te.compile=Ru,t.exports=Te}).call(e,function(){return this}())},,,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(141),r=o(i);e.default=function(t,e,n){return e in t?(0,r.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(140),r=o(i),a=n(139),s=o(a);e.default=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var a,u=(0,s.default)(t);!(o=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e){t.exports=function(t,e,n,o){if(!(t instanceof e)||void 0!==o&&o in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var o=n(22),i=n(8).document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},function(t,e,n){t.exports=!n(7)&&!n(17)(function(){return 7!=Object.defineProperty(n(80)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(23),i=n(3)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||r[i]===t)}},function(t,e,n){var o=n(52);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,n){var o=n(16);t.exports=function(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&o(r.call(t)),e}}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var o=n(87),i=n(53).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},function(t,e,n){var o=n(18),i=n(19),r=n(159)(!1),a=n(61)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,h=[];for(n in s)n!=a&&o(s,n)&&h.push(n);for(;e.length>u;)o(s,n=e[u++])&&(~r(h,n)||h.push(n));return h}},function(t,e,n){var o=n(14);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:o(t,i,e[i]);return t}},function(t,e,n){t.exports=n(14)},function(t,e){},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function n(t,n){var o=e(t);return function(e,i){return n(o(e),i,t)}}function o(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var o in t)o in e||n.push(e[o]=o)}),n}var i={},r={},a=34,s=10,u=13,h=function(t){function h(t,o){var i,r,a=p(t,function(t,a){return i?i(t,a-1):(r=t,void(i=o?n(t,o):e(t)))});return a.columns=r,a}function p(t,e){function n(){if(f)return r;if(d)return d=!1,i;var e,n,o=l;if(t.charCodeAt(o)===a){for(;l++<p&&t.charCodeAt(l)!==a||t.charCodeAt(++l)===a;);return(e=l)>=p?f=!0:(n=t.charCodeAt(l++))===s?d=!0:n===u&&(d=!0,t.charCodeAt(l)===s&&++l),t.slice(o+1,e-1).replace(/""/g,'"')}for(;l<p;){if((n=t.charCodeAt(e=l++))===s)d=!0;else if(n===u)d=!0,t.charCodeAt(l)===s&&++l;else if(n!==v)continue;return t.slice(o,e)}return f=!0,t.slice(o,p)}var o,h=[],p=t.length,l=0,c=0,f=p<=0,d=!1;for(t.charCodeAt(p-1)===s&&--p,t.charCodeAt(p-1)===u&&--p;(o=n())!==r;){for(var y=[];o!==i&&o!==r;)y.push(o),o=n();e&&null==(y=e(y,c++))||h.push(y)}return h}function l(e,n){return null==n&&(n=o(e)),[n.map(d).join(t)].concat(e.map(function(e){return n.map(function(t){return d(e[t])}).join(t)})).join("\n")}function c(t){return t.map(f).join("\n")}function f(e){return e.map(d).join(t)}function d(t){return null==t?"":y.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var y=new RegExp('["'+t+"\n\r]"),v=t.charCodeAt(0);return{parse:h,parseRows:p,format:l,formatRows:c}},p=h(","),l=p.parse,c=p.parseRows,f=p.format,d=p.formatRows,y=h("\t"),v=y.parse,g=y.parseRows,m=y.format,b=y.formatRows;t.dsvFormat=h,t.csvParse=l,t.csvParseRows=c,t.csvFormat=f,t.csvFormatRows=d,t.tsvParse=v,t.tsvParseRows=g,t.tsvFormat=m,t.tsvFormatRows=b,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return+t}function n(t){return t*t}function o(t){return t*(2-t)}function i(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function r(t){return t*t*t}function a(t){return--t*t*t+1}function s(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function u(t){return 1-Math.cos(t*C)}function h(t){return Math.sin(t*C)}function p(t){return(1-Math.cos(S*t))/2}function l(t){return Math.pow(2,10*t-10)}function c(t){return 1-Math.pow(2,-10*t)}function f(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function d(t){return 1-Math.sqrt(1-t*t)}function y(t){return Math.sqrt(1- --t*t)}function v(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function g(t){return 1-m(1-t)}function m(t){return(t=+t)<M?R*t*t:t<A?R*(t-=T)*t+E:t<L?R*(t-=I)*t+N:R*(t-=O)*t+k}function b(t){return((t*=2)<=1?1-m(1-t):m(t-1)+1)/2}var _=3,x=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(_),w=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(_),P=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(_),S=Math.PI,C=S/2,M=4/11,T=6/11,A=8/11,E=.75,I=9/11,L=10/11,N=.9375,O=21/22,k=63/64,R=1/M/M,D=1.70158,F=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(D),j=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(D),K=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(D),B=2*Math.PI,X=1,U=.3,Y=function t(e,n){function o(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=B);return o.amplitude=function(e){return t(e,n*B)},o.period=function(n){return t(e,n)},o}(X,U),G=function t(e,n){function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=B);return o.amplitude=function(e){return t(e,n*B)},o.period=function(n){return t(e,n)},o}(X,U),W=function t(e,n){function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=B);return o.amplitude=function(e){return t(e,n*B)},o.period=function(n){return t(e,n)},o}(X,U);t.easeLinear=e,t.easeQuad=i,t.easeQuadIn=n,t.easeQuadOut=o,t.easeQuadInOut=i,t.easeCubic=s,t.easeCubicIn=r,t.easeCubicOut=a,t.easeCubicInOut=s,t.easePoly=P,t.easePolyIn=x,t.easePolyOut=w,t.easePolyInOut=P,t.easeSin=p,t.easeSinIn=u,t.easeSinOut=h,t.easeSinInOut=p,t.easeExp=f,t.easeExpIn=l,t.easeExpOut=c,t.easeExpInOut=f,t.easeCircle=v,t.easeCircleIn=d,t.easeCircleOut=y,t.easeCircleInOut=v,t.easeBounce=m,t.easeBounceIn=g,t.easeBounceOut=m,t.easeBounceInOut=b,t.easeBack=K,t.easeBackIn=F,t.easeBackOut=j,t.easeBackInOut=K,t.easeElastic=G,t.easeElasticIn=Y,t.easeElasticOut=G,t.easeElasticInOut=W,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return new n(t)}function n(t){if(!(e=f.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",o=e[2]||">",i=e[3]||"-",r=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],h=e[8]&&+e[8].slice(1),p=e[9]||"";"n"===p?(u=!0,p="g"):c[p]||(p=""),(a||"0"===n&&"="===o)&&(a=!0,n="0",o="="),this.fill=n,this.align=o,this.sign=i,this.symbol=r,this.zero=a,this.width=s,this.comma=u,this.precision=h,this.type=p}function o(e){return d=g(e),t.format=d.format,t.formatPrefix=d.formatPrefix,d}var i,r=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]},a=function(t){return t=r(Math.abs(t)),t?t[1]:NaN},s=function(t,e){return function(n,o){for(var i=n.length,r=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>o&&(s=Math.max(1,o-u)),r.push(n.substring(i-=s,i+s)),!((u+=s+1)>o));)s=t[a=(a+1)%t.length];return r.reverse().join(e)}},u=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},h=function(t,e){t=t.toPrecision(e);t:for(var n,o=t.length,i=1,r=-1;i<o;++i)switch(t[i]){case".":r=n=i;break;case"0":0===r&&(r=i),n=i;break;case"e":break t;default:r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(n+1):t},p=function(t,e){var n=r(t,e);if(!n)return t+"";var o=n[0],a=n[1],s=a-(i=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,u=o.length;return s===u?o:s>u?o+new Array(s-u+1).join("0"):s>0?o.slice(0,s)+"."+o.slice(s):"0."+new Array(1-s).join("0")+r(t,Math.max(0,e+s-1))[0]},l=function(t,e){var n=r(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")},c={"":h,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return l(100*t,e)},r:l,s:p,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},f=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;e.prototype=n.prototype,n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var d,y=function(t){return t},v=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],g=function(t){function n(t){function n(t){var e,n,u,h=_,c=x;if("c"===b)c=w(t)+c,t="";else{t=+t;var f=t<0;if(t=w(Math.abs(t),m),f&&0===+t&&(f=!1),h=(f?"("===s?s:"-":"-"===s||"("===s?"":s)+h,c=c+("s"===b?v[8+i/3]:"")+(f&&"("===s?")":""),P)for(e=-1,n=t.length;++e<n;)if(u=t.charCodeAt(e),48>u||u>57){c=(46===u?p+t.slice(e+1):t.slice(e))+c,t=t.slice(0,e);break}}g&&!d&&(t=r(t,1/0));var S=h.length+t.length+c.length,C=S<y?new Array(y-S+1).join(o):"";switch(g&&d&&(t=r(C+t,C.length?y-c.length:1/0),C=""),a){case"<":t=h+t+c+C;break;case"=":t=h+C+t+c;break;case"^":t=C.slice(0,S=C.length>>1)+h+t+c+C.slice(S);break;default:t=C+h+t+c}return l(t)}t=e(t);var o=t.fill,a=t.align,s=t.sign,u=t.symbol,d=t.zero,y=t.width,g=t.comma,m=t.precision,b=t.type,_="$"===u?h[0]:"#"===u&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===u?h[1]:/[%p]/.test(b)?f:"",w=c[b],P=!b||/[defgprs%]/.test(b);return m=null==m?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),n.toString=function(){return t+""},n}function o(t,o){var i=n((t=e(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(a(o)/3))),s=Math.pow(10,-r),u=v[8+r/3];return function(t){return i(s*t)+u}}var r=t.grouping&&t.thousands?s(t.grouping,t.thousands):y,h=t.currency,p=t.decimal,l=t.numerals?u(t.numerals):y,f=t.percent||"%";return{format:n,formatPrefix:o}};o({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var m=function(t){return Math.max(0,-a(Math.abs(t)))},b=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(a(e)/3)))-a(Math.abs(t)))},_=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,a(e)-a(t))+1};t.formatDefaultLocale=o,t.formatLocale=g,t.formatSpecifier=e,t.precisionFixed=m,t.precisionPrefix=b,t.precisionRound=_,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,e,n,o){if(isNaN(e)||isNaN(n))return t;var i,r,a,s,u,h,p,l,c,f=t._root,d={data:o},y=t._x0,v=t._y0,g=t._x1,m=t._y1;if(!f)return t._root=d,t;for(;f.length;)if((h=e>=(r=(y+g)/2))?y=r:g=r,(p=n>=(a=(v+m)/2))?v=a:m=a,i=f,!(f=f[l=p<<1|h]))return i[l]=d,t;if(s=+t._x.call(null,f.data),u=+t._y.call(null,f.data),e===s&&n===u)return d.next=f,i?i[l]=d:t._root=d,t;do i=i?i[l]=new Array(4):t._root=new Array(4),(h=e>=(r=(y+g)/2))?y=r:g=r,(p=n>=(a=(v+m)/2))?v=a:m=a;while((l=p<<1|h)===(c=(u>=a)<<1|s>=r));return i[c]=f,i[l]=d,t}function n(t){var n,o,i,r,a=t.length,s=new Array(a),u=new Array(a),h=1/0,p=1/0,l=-(1/0),c=-(1/0);for(o=0;o<a;++o)isNaN(i=+this._x.call(null,n=t[o]))||isNaN(r=+this._y.call(null,n))||(s[o]=i,u[o]=r,i<h&&(h=i),i>l&&(l=i),r<p&&(p=r),r>c&&(c=r));for(l<h&&(h=this._x0,l=this._x1),c<p&&(p=this._y0,c=this._y1),this.cover(h,p).cover(l,c),o=0;o<a;++o)e(this,s[o],u[o],t[o]);return this}function o(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function i(t){return t[0]}function r(t){return t[1]}function a(t,e,n){var o=new s(null==e?i:e,null==n?r:n,NaN,NaN,NaN,NaN);return null==t?o:o.addAll(t)}function s(t,e,n,o,i,r){this._x=t,this._y=e,this._x0=n,this._y0=o,this._x1=i,this._y1=r,this._root=void 0}function u(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var h=function(t){var n=+this._x.call(null,t),o=+this._y.call(null,t);return e(this.cover(n,o),n,o,t)},p=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,o=this._y0,i=this._x1,r=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,r=(o=Math.floor(e))+1;else{if(!(n>t||t>i||o>e||e>r))return this;var a,s,u=i-n,h=this._root;switch(s=(e<(o+r)/2)<<1|t<(n+i)/2){case 0:do a=new Array(4),a[s]=h,h=a;while(u*=2,i=n+u,r=o+u,t>i||e>r);break;case 1:do a=new Array(4),a[s]=h,h=a;while(u*=2,n=i-u,r=o+u,n>t||e>r);break;case 2:do a=new Array(4),a[s]=h,h=a;while(u*=2,i=n+u,o=r-u,t>i||o>e);break;case 3:do a=new Array(4),a[s]=h,h=a;while(u*=2,n=i-u,o=r-u,n>t||o>e)}this._root&&this._root.length&&(this._root=h);
}return this._x0=n,this._y0=o,this._x1=i,this._y1=r,this},l=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},c=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},f=function(t,e,n,o,i){this.node=t,this.x0=e,this.y0=n,this.x1=o,this.y1=i},d=function(t,e,n){var o,i,r,a,s,u,h,p=this._x0,l=this._y0,c=this._x1,d=this._y1,y=[],v=this._root;for(v&&y.push(new f(v,p,l,c,d)),null==n?n=1/0:(p=t-n,l=e-n,c=t+n,d=e+n,n*=n);u=y.pop();)if(!(!(v=u.node)||(i=u.x0)>c||(r=u.y0)>d||(a=u.x1)<p||(s=u.y1)<l))if(v.length){var g=(i+a)/2,m=(r+s)/2;y.push(new f(v[3],g,m,a,s),new f(v[2],i,m,g,s),new f(v[1],g,r,a,m),new f(v[0],i,r,g,m)),(h=(e>=m)<<1|t>=g)&&(u=y[y.length-1],y[y.length-1]=y[y.length-1-h],y[y.length-1-h]=u)}else{var b=t-+this._x.call(null,v.data),_=e-+this._y.call(null,v.data),x=b*b+_*_;if(x<n){var w=Math.sqrt(n=x);p=t-w,l=e-w,c=t+w,d=e+w,o=v.data}}return o},y=function(t){if(isNaN(r=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,o,i,r,a,s,u,h,p,l,c,f=this._root,d=this._x0,y=this._y0,v=this._x1,g=this._y1;if(!f)return this;if(f.length)for(;;){if((h=r>=(s=(d+v)/2))?d=s:v=s,(p=a>=(u=(y+g)/2))?y=u:g=u,e=f,!(f=f[l=p<<1|h]))return this;if(!f.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,c=l)}for(;f.data!==t;)if(o=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,o?(i?o.next=i:delete o.next,this):e?(i?e[l]=i:delete e[l],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[c]=f:this._root=f),this):(this._root=i,this)},v=function(){return this._root},g=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},m=function(t){var e,n,o,i,r,a,s=[],u=this._root;for(u&&s.push(new f(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,o=e.x0,i=e.y0,r=e.x1,a=e.y1)&&u.length){var h=(o+r)/2,p=(i+a)/2;(n=u[3])&&s.push(new f(n,h,p,r,a)),(n=u[2])&&s.push(new f(n,o,p,h,a)),(n=u[1])&&s.push(new f(n,h,i,r,p)),(n=u[0])&&s.push(new f(n,o,i,h,p))}return this},b=function(t){var e,n=[],o=[];for(this._root&&n.push(new f(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var r,a=e.x0,s=e.y0,u=e.x1,h=e.y1,p=(a+u)/2,l=(s+h)/2;(r=i[0])&&n.push(new f(r,a,s,p,l)),(r=i[1])&&n.push(new f(r,p,s,u,l)),(r=i[2])&&n.push(new f(r,a,l,p,h)),(r=i[3])&&n.push(new f(r,p,l,u,h))}o.push(e)}for(;e=o.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},_=function(t){return arguments.length?(this._x=t,this):this._x},x=function(t){return arguments.length?(this._y=t,this):this._y},w=a.prototype=s.prototype;w.copy=function(){var t,e,n=new s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),o=this._root;if(!o)return n;if(!o.length)return n._root=u(o),n;for(t=[{source:o,target:n._root=new Array(4)}];o=t.pop();)for(var i=0;i<4;++i)(e=o.source[i])&&(e.length?t.push({source:e,target:o.target[i]=new Array(4)}):o.target[i]=u(e));return n},w.add=h,w.addAll=n,w.cover=p,w.data=l,w.extent=c,w.find=d,w.remove=y,w.removeAll=o,w.root=v,w.size=g,w.visit=m,w.visitAfter=b,w.x=_,w.y=x,t.quadtree=a,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,o){o(e,n(70))}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function o(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function r(t){function e(t,e){return function(n){var o,i,r,a=[],s=-1,u=0,h=t.length;for(n instanceof Date||(n=new Date(+n));++s<h;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=ot[o=t.charAt(++s)])?o=t.charAt(++s):i="e"===o?" ":"0",(r=e[o])&&(o=r(n,i)),a.push(o),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function r(t,e){return function(n){var r=i(1900),s=a(r,t,n+="",0);if(s!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var u="Z"in r?o(i(r.y)).getUTCDay():e(i(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(u+5)%7:r.w+7*r.U-(u+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,o(r)):e(r)}}function a(t,e,n,o){for(var i,r,a=0,s=e.length,u=n.length;a<s;){if(o>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),r=Ft[i in ot?e.charAt(a++):i],!r||(o=r(t,n,o))<0)return-1}else if(i!=n.charCodeAt(o++))return-1}return o}function s(t,e,n){var o=Ct.exec(e.slice(n));return o?(t.p=Mt[o[0].toLowerCase()],n+o[0].length):-1}function Q(t,e,n){var o=Et.exec(e.slice(n));return o?(t.w=It[o[0].toLowerCase()],n+o[0].length):-1}function tt(t,e,n){var o=Tt.exec(e.slice(n));return o?(t.w=At[o[0].toLowerCase()],n+o[0].length):-1}function et(t,e,n){var o=Ot.exec(e.slice(n));return o?(t.m=kt[o[0].toLowerCase()],n+o[0].length):-1}function nt(t,e,n){var o=Lt.exec(e.slice(n));return o?(t.m=Nt[o[0].toLowerCase()],n+o[0].length):-1}function it(t,e,n){return a(t,gt,e,n)}function rt(t,e,n){return a(t,mt,e,n)}function at(t,e,n){return a(t,bt,e,n)}function st(t){return wt[t.getDay()]}function ut(t){return xt[t.getDay()]}function ht(t){return St[t.getMonth()]}function pt(t){return Pt[t.getMonth()]}function lt(t){return _t[+(t.getHours()>=12)]}function ct(t){return wt[t.getUTCDay()]}function ft(t){return xt[t.getUTCDay()]}function dt(t){return St[t.getUTCMonth()]}function yt(t){return Pt[t.getUTCMonth()]}function vt(t){return _t[+(t.getUTCHours()>=12)]}var gt=t.dateTime,mt=t.date,bt=t.time,_t=t.periods,xt=t.days,wt=t.shortDays,Pt=t.months,St=t.shortMonths,Ct=u(_t),Mt=h(_t),Tt=u(xt),At=h(xt),Et=u(wt),It=h(wt),Lt=u(Pt),Nt=h(Pt),Ot=u(St),kt=h(St),Rt={a:st,A:ut,b:ht,B:pt,c:null,d:S,e:S,H:C,I:M,j:T,L:A,m:E,M:I,p:lt,S:L,U:N,w:O,W:k,x:null,X:null,y:R,Y:D,Z:F,"%":J},Dt={a:ct,A:ft,b:dt,B:yt,c:null,d:j,e:j,H:K,I:B,j:X,L:U,m:Y,M:G,p:vt,S:W,U:z,w:q,W:H,x:null,X:null,y:V,Y:$,Z:Z,"%":J},Ft={a:Q,A:tt,b:et,B:nt,c:it,d:g,e:g,H:b,I:b,j:m,L:w,m:v,M:_,p:s,S:x,U:l,w:p,W:c,x:rt,X:at,y:d,Y:f,Z:y,"%":P};return Rt.x=e(mt,Rt),Rt.X=e(bt,Rt),Rt.c=e(gt,Rt),Dt.x=e(mt,Dt),Dt.X=e(bt,Dt),Dt.c=e(gt,Dt),{format:function(t){var n=e(t+="",Rt);return n.toString=function(){return t},n},parse:function(t){var e=r(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",Dt);return n.toString=function(){return t},n},utcParse:function(t){var e=r(t,o);return e.toString=function(){return t},e}}}function a(t,e,n){var o=t<0?"-":"",i=(o?-t:t)+"",r=i.length;return o+(r<n?new Array(n-r+1).join(e)+i:i)}function s(t){return t.replace(at,"\\$&")}function u(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function h(t){for(var e={},n=-1,o=t.length;++n<o;)e[t[n].toLowerCase()]=n;return e}function p(t,e,n){var o=it.exec(e.slice(n,n+1));return o?(t.w=+o[0],n+o[0].length):-1}function l(t,e,n){var o=it.exec(e.slice(n));return o?(t.U=+o[0],n+o[0].length):-1}function c(t,e,n){var o=it.exec(e.slice(n));return o?(t.W=+o[0],n+o[0].length):-1}function f(t,e,n){var o=it.exec(e.slice(n,n+4));return o?(t.y=+o[0],n+o[0].length):-1}function d(t,e,n){var o=it.exec(e.slice(n,n+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1}function y(t,e,n){var o=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1}function v(t,e,n){var o=it.exec(e.slice(n,n+2));return o?(t.m=o[0]-1,n+o[0].length):-1}function g(t,e,n){var o=it.exec(e.slice(n,n+2));return o?(t.d=+o[0],n+o[0].length):-1}function m(t,e,n){var o=it.exec(e.slice(n,n+3));return o?(t.m=0,t.d=+o[0],n+o[0].length):-1}function b(t,e,n){var o=it.exec(e.slice(n,n+2));return o?(t.H=+o[0],n+o[0].length):-1}function _(t,e,n){var o=it.exec(e.slice(n,n+2));return o?(t.M=+o[0],n+o[0].length):-1}function x(t,e,n){var o=it.exec(e.slice(n,n+2));return o?(t.S=+o[0],n+o[0].length):-1}function w(t,e,n){var o=it.exec(e.slice(n,n+3));return o?(t.L=+o[0],n+o[0].length):-1}function P(t,e,n){var o=rt.exec(e.slice(n,n+1));return o?n+o[0].length:-1}function S(t,e){return a(t.getDate(),e,2)}function C(t,e){return a(t.getHours(),e,2)}function M(t,e){return a(t.getHours()%12||12,e,2)}function T(t,n){return a(1+e.timeDay.count(e.timeYear(t),t),n,3)}function A(t,e){return a(t.getMilliseconds(),e,3)}function E(t,e){return a(t.getMonth()+1,e,2)}function I(t,e){return a(t.getMinutes(),e,2)}function L(t,e){return a(t.getSeconds(),e,2)}function N(t,n){return a(e.timeSunday.count(e.timeYear(t),t),n,2)}function O(t){return t.getDay()}function k(t,n){return a(e.timeMonday.count(e.timeYear(t),t),n,2)}function R(t,e){return a(t.getFullYear()%100,e,2)}function D(t,e){return a(t.getFullYear()%1e4,e,4)}function F(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+a(e/60|0,"0",2)+a(e%60,"0",2)}function j(t,e){return a(t.getUTCDate(),e,2)}function K(t,e){return a(t.getUTCHours(),e,2)}function B(t,e){return a(t.getUTCHours()%12||12,e,2)}function X(t,n){return a(1+e.utcDay.count(e.utcYear(t),t),n,3)}function U(t,e){return a(t.getUTCMilliseconds(),e,3)}function Y(t,e){return a(t.getUTCMonth()+1,e,2)}function G(t,e){return a(t.getUTCMinutes(),e,2)}function W(t,e){return a(t.getUTCSeconds(),e,2)}function z(t,n){return a(e.utcSunday.count(e.utcYear(t),t),n,2)}function q(t){return t.getUTCDay()}function H(t,n){return a(e.utcMonday.count(e.utcYear(t),t),n,2)}function V(t,e){return a(t.getUTCFullYear()%100,e,2)}function $(t,e){return a(t.getUTCFullYear()%1e4,e,4)}function Z(){return"+0000"}function J(){return"%"}function Q(e){return nt=r(e),t.timeFormat=nt.format,t.timeParse=nt.parse,t.utcFormat=nt.utcFormat,t.utcParse=nt.utcParse,nt}function tt(t){return t.toISOString()}function et(t){var e=new Date(t);return isNaN(e)?null:e}var nt,ot={"-":"",_:" ",0:"0"},it=/^\s*\d+/,rt=/^%/,at=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Q({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var st="%Y-%m-%dT%H:%M:%S.%LZ",ut=Date.prototype.toISOString?tt:t.utcFormat(st),ht=+new Date("2000-01-01T00:00:00.000Z")?et:t.utcParse(st);t.timeFormatDefaultLocale=Q,t.timeFormatLocale=r,t.isoFormat=ut,t.isoParse=ht,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){var o,i;!function(r,a){o=a,i="function"==typeof o?o.call(e,n,e,t):o,!(void 0!==i&&(t.exports=i))}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},o=n[t]=n[t]||[];return o.indexOf(e)==-1&&o.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{},o=n[t]=n[t]||{};return o[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var o=n.indexOf(e);return o!=-1&&n.splice(o,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var o=this._onceEvents&&this._onceEvents[t],i=0;i<n.length;i++){var r=n[i],a=o&&o[r];a&&(this.off(t,r),delete o[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(p===setTimeout)return setTimeout(t,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(t,0);try{return p(t,0)}catch(e){try{return p.call(null,t,0)}catch(e){return p.call(this,t,0)}}}function r(t){if(l===clearTimeout)return clearTimeout(t);if((l===o||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){y&&f&&(y=!1,f.length?d=f.concat(d):v=-1,d.length&&s())}function s(){if(!y){var t=i(a);y=!0;for(var e=d.length;e;){for(f=d,d=[];++v<e;)f&&f[v].run();v=-1,e=d.length}f=null,y=!1,r(t)}}function u(t,e){this.fun=t,this.array=e}function h(){}var p,l,c=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:n}catch(t){p=n}try{l="function"==typeof clearTimeout?clearTimeout:o}catch(t){l=o}}();var f,d=[],y=!1,v=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||y||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=h,c.addListener=h,c.once=h,c.off=h,c.removeListener=h,c.removeAllListeners=h,c.emit=h,c.prependListener=h,c.prependOnceListener=h,c.listeners=function(t){return[]},c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports={default:n(146),__esModule:!0}},function(t,e,n){t.exports={default:n(147),__esModule:!0}},function(t,e,n){t.exports={default:n(148),__esModule:!0}},function(t,e,n){t.exports={default:n(151),__esModule:!0}},function(t,e,n){t.exports={default:n(153),__esModule:!0}},function(t,e,n){t.exports={default:n(154),__esModule:!0}},function(t,e,n){t.exports={default:n(155),__esModule:!0}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(144),r=o(i),a=n(143),s=o(a),u="function"==typeof s.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===u(r.default)?function(t){return"undefined"==typeof t?"undefined":u(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":"undefined"==typeof t?"undefined":u(t)}},function(t,e,n){n(29),n(183),t.exports=n(2).Array.from},function(t,e,n){n(42),n(29),t.exports=n(181)},function(t,e,n){n(42),n(29),t.exports=n(182)},function(t,e,n){var o=n(2),i=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){n(185),t.exports=n(2).Object.assign},function(t,e,n){n(186);var o=n(2).Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},function(t,e,n){n(187),t.exports=n(2).Object.keys},function(t,e,n){n(90),n(29),n(42),n(188),n(190),t.exports=n(2).Set},function(t,e,n){n(189),n(90),n(191),n(192),t.exports=n(2).Symbol},function(t,e,n){n(29),n(42),t.exports=n(66).f("iterator")},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(){}},function(t,e,n){var o=n(54);t.exports=function(t,e){var n=[];return o(t,!1,n.push,n,e),n}},function(t,e,n){var o=n(19),i=n(40),r=n(180);t.exports=function(t){return function(e,n,a){var s,u=o(e),h=i(u.length),p=r(a,h);if(t&&n!=n){for(;h>p;)if(s=u[p++],s!=s)return!0}else for(;h>p;p++)if((t||p in u)&&u[p]===n)return t||p||0;return!t&&-1}}},function(t,e,n){var o=n(26),i=n(55),r=n(28),a=n(40),s=n(162);t.exports=function(t,e){var n=1==t,u=2==t,h=3==t,p=4==t,l=6==t,c=5==t||l,f=e||s;return function(e,s,d){for(var y,v,g=r(e),m=i(g),b=o(s,d,3),_=a(m.length),x=0,w=n?f(e,_):u?f(e,0):void 0;_>x;x++)if((c||x in m)&&(y=m[x],v=b(y,x,g),t))if(n)w[x]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return x;case 2:w.push(y)}else if(p)return!1;return l?-1:h||p?p:w}}},function(t,e,n){var o=n(22),i=n(83),r=n(3)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),o(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){var o=n(161);t.exports=function(t,e){return new(o(t))(e)}},function(t,e,n){"use strict";var o=n(5).f,i=n(59),r=n(88),a=n(26),s=n(79),u=n(37),h=n(54),p=n(56),l=n(85),c=n(178),f=n(7),d=n(58).fastKey,y=f?"_s":"size",v=function(t,e){var n,o=d(e);if("F"!==o)return t._i[o];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,p){var l=t(function(t,o){s(t,l,e,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=o&&h(o,n,t[p],t)});return r(l.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var e=this,n=v(e,t);if(n){var o=n.n,i=n.p;delete e._i[n.i],n.r=!0,i&&(i.n=o),o&&(o.p=i),e._f==n&&(e._f=o),e._l==n&&(e._l=i),e[y]--}return!!n},forEach:function(t){s(this,l,"forEach");for(var e,n=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!v(this,t)}}),f&&o(l.prototype,"size",{get:function(){return u(this[y])}}),l},def:function(t,e,n){var o,i,r=v(t,e);return r?r.v=n:(t._l=r={i:i=d(e,!0),k:e,v:n,p:o=t._l,n:void 0,r:!1},t._f||(t._f=r),o&&(o.n=r),t[y]++,"F"!==i&&(t._i[i]=r)),t},getEntry:v,setStrong:function(t,e,n){p(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),c(e)}}},function(t,e,n){var o=n(51),i=n(158);t.exports=function(t){return function(){if(o(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){"use strict";var o=n(8),i=n(13),r=n(58),a=n(17),s=n(14),u=n(88),h=n(54),p=n(79),l=n(22),c=n(39),f=n(5).f,d=n(160)(0),y=n(7);t.exports=function(t,e,n,v,g,m){var b=o[t],_=b,x=g?"set":"add",w=_&&_.prototype,P={};return y&&"function"==typeof _&&(m||w.forEach&&!a(function(){(new _).entries().next()}))?(_=e(function(e,n){p(e,_,t,"_c"),e._c=new b,void 0!=n&&h(n,g,e[x],e)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!m||"clear"!=t)&&s(_.prototype,t,function(n,o){if(p(this,_,t),!e&&m&&!l(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,o);return e?this:i})}),"size"in w&&f(_.prototype,"size",{get:function(){return this._c.size}})):(_=v.getConstructor(e,t,g,x),u(_.prototype,n),r.NEED=!0),c(_,t),P[t]=_,i(i.G+i.W+i.F,P),m||v.setStrong(_,t,g),_}},function(t,e,n){"use strict";var o=n(5),i=n(27);t.exports=function(t,e,n){e in t?o.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var o=n(24),i=n(60),r=n(38);t.exports=function(t){var e=o(t),n=i.f;if(n)for(var a,s=n(t),u=r.f,h=0;s.length>h;)u.call(t,a=s[h++])&&e.push(a);return e}},function(t,e,n){t.exports=n(8).document&&document.documentElement},function(t,e,n){"use strict";var o=n(59),i=n(27),r=n(39),a={};n(14)(a,n(3)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(a,{next:i(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var o=n(3)("iterator"),i=!1;try{var r=[7][o]();r.return=function(){i=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r=[7],a=r[o]();a.next=function(){return{done:n=!0}},r[o]=function(){return a},t(r)}catch(t){}return n}},function(t,e,n){var o=n(24),i=n(19);t.exports=function(t,e){for(var n,r=i(t),a=o(r),s=a.length,u=0;s>u;)if(r[n=a[u++]]===e)return n}},function(t,e,n){"use strict";var o=n(24),i=n(60),r=n(38),a=n(28),s=n(55),u=Object.assign;t.exports=!u||n(17)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=o})?function(t,e){for(var n=a(t),u=arguments.length,h=1,p=i.f,l=r.f;u>h;)for(var c,f=s(arguments[h++]),d=p?o(f).concat(p(f)):o(f),y=d.length,v=0;y>v;)l.call(f,c=d[v++])&&(n[c]=f[c]);return n}:u},function(t,e,n){var o=n(5),i=n(16),r=n(24);t.exports=n(7)?Object.defineProperties:function(t,e){i(t);for(var n,a=r(e),s=a.length,u=0;s>u;)o.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var o=n(38),i=n(27),r=n(19),a=n(64),s=n(18),u=n(81),h=Object.getOwnPropertyDescriptor;e.f=n(7)?h:function(t,e){if(t=r(t),e=a(e,!0),u)try{return h(t,e)}catch(t){}if(s(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var o=n(19),i=n(86).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?s(t):i(o(t))}},function(t,e,n){var o=n(18),i=n(28),r=n(61)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),o(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var o=n(13),i=n(2),r=n(17);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),o(o.S+o.F*r(function(){n(1)}),"Object",a)}},function(t,e,n){"use strict";var o=n(8),i=n(2),r=n(5),a=n(7),s=n(3)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:o[t];a&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var o=n(63),i=n(37);t.exports=function(t){return function(e,n){var r,a,s=String(i(e)),u=o(n),h=s.length;return u<0||u>=h?t?"":void 0:(r=s.charCodeAt(u),r<55296||r>56319||u+1===h||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):r:t?s.slice(u,u+2):(r-55296<<10)+(a-56320)+65536)}}},function(t,e,n){var o=n(63),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),t<0?i(t+e,0):r(t,e)}},function(t,e,n){var o=n(16),i=n(67);t.exports=n(2).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return o(e.call(t))}},function(t,e,n){var o=n(51),i=n(3)("iterator"),r=n(23);t.exports=n(2).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||r.hasOwnProperty(o(e))}},function(t,e,n){"use strict";var o=n(26),i=n(13),r=n(28),a=n(84),s=n(82),u=n(40),h=n(166),p=n(67);i(i.S+i.F*!n(170)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,l,c=r(t),f="function"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:void 0,v=void 0!==y,g=0,m=p(c);if(v&&(y=o(y,d>2?arguments[2]:void 0,2)),void 0==m||f==Array&&s(m))for(e=u(c.length),n=new f(e);e>g;g++)h(n,g,v?y(c[g],g):c[g]);else for(l=m.call(c),n=new f;!(i=l.next()).done;g++)h(n,g,v?a(l,y,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){"use strict";var o=n(157),i=n(85),r=n(23),a=n(19);t.exports=n(56)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var o=n(13);o(o.S+o.F,"Object",{assign:n(172)})},function(t,e,n){var o=n(13);o(o.S+o.F*!n(7),"Object",{defineProperty:n(5).f})},function(t,e,n){var o=n(28),i=n(24);n(177)("keys",function(){return function(t){return i(o(t))}})},function(t,e,n){"use strict";var o=n(163);t.exports=n(165)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return o.def(this,t=0===t?0:t,t)}},o)},function(t,e,n){"use strict";var o=n(8),i=n(18),r=n(7),a=n(13),s=n(89),u=n(58).KEY,h=n(17),p=n(62),l=n(39),c=n(41),f=n(3),d=n(66),y=n(65),v=n(171),g=n(167),m=n(83),b=n(16),_=n(19),x=n(64),w=n(27),P=n(59),S=n(175),C=n(174),M=n(5),T=n(24),A=C.f,E=M.f,I=S.f,L=o.Symbol,N=o.JSON,O=N&&N.stringify,k="prototype",R=f("_hidden"),D=f("toPrimitive"),F={}.propertyIsEnumerable,j=p("symbol-registry"),K=p("symbols"),B=p("op-symbols"),X=Object[k],U="function"==typeof L,Y=o.QObject,G=!Y||!Y[k]||!Y[k].findChild,W=r&&h(function(){return 7!=P(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=A(X,e);o&&delete X[e],E(t,e,n),o&&t!==X&&E(X,e,o)}:E,z=function(t){var e=K[t]=P(L[k]);return e._k=t,e},q=U&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},H=function(t,e,n){return t===X&&H(B,e,n),b(t),e=x(e,!0),b(n),i(K,e)?(n.enumerable?(i(t,R)&&t[R][e]&&(t[R][e]=!1),n=P(n,{enumerable:w(0,!1)})):(i(t,R)||E(t,R,w(1,{})),t[R][e]=!0),W(t,e,n)):E(t,e,n)},V=function(t,e){b(t);for(var n,o=g(e=_(e)),i=0,r=o.length;r>i;)H(t,n=o[i++],e[n]);return t},$=function(t,e){return void 0===e?P(t):V(P(t),e)},Z=function(t){var e=F.call(this,t=x(t,!0));return!(this===X&&i(K,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(K,t)||i(this,R)&&this[R][t])||e)},J=function(t,e){if(t=_(t),e=x(e,!0),t!==X||!i(K,e)||i(B,e)){var n=A(t,e);return!n||!i(K,e)||i(t,R)&&t[R][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=I(_(t)),o=[],r=0;n.length>r;)i(K,e=n[r++])||e==R||e==u||o.push(e);return o},tt=function(t){for(var e,n=t===X,o=I(n?B:_(t)),r=[],a=0;o.length>a;)!i(K,e=o[a++])||n&&!i(X,e)||r.push(K[e]);return r};U||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(n){this===X&&e.call(B,n),i(this,R)&&i(this[R],t)&&(this[R][t]=!1),W(this,t,w(1,n))};return r&&G&&W(X,t,{configurable:!0,set:e}),z(t)},s(L[k],"toString",function(){return this._k}),C.f=J,M.f=H,n(86).f=S.f=Q,n(38).f=Z,n(60).f=tt,r&&!n(57)&&s(X,"propertyIsEnumerable",Z,!0),d.f=function(t){return z(f(t))}),a(a.G+a.W+a.F*!U,{Symbol:L});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)f(et[nt++]);for(var et=T(f.store),nt=0;et.length>nt;)y(et[nt++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=L(t)},keyFor:function(t){if(q(t))return v(j,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!U,"Object",{create:$,defineProperty:H,defineProperties:V,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:tt}),N&&a(a.S+a.F*(!U||h(function(){var t=L();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!q(t)){for(var e,n,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);return e=o[1],"function"==typeof e&&(n=e),!n&&m(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!q(e))return e}),o[1]=e,O.apply(N,o)}}}),L[k][D]||n(14)(L[k],D,L[k].valueOf),l(L,"Symbol"),l(Math,"Math",!0),l(o.JSON,"JSON",!0)},function(t,e,n){var o=n(13);o(o.P+o.R,"Set",{toJSON:n(164)("Set")})},function(t,e,n){n(65)("asyncIterator")},function(t,e,n){n(65)("observable")},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return"translate("+(t+.5)+",0)"}function n(t){return"translate(0,"+(t+.5)+")"}function o(t){return function(e){return+t(e)}}function i(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function r(){return!this.__axis}function a(t,a){function s(e){var n=null==h?a.ticks?a.ticks.apply(a,u):a.domain():h,s=null==p?a.tickFormat?a.tickFormat.apply(a,u):c:p,l=Math.max(m,0)+_,S=a.range(),C=+S[0]+.5,M=+S[S.length-1]+.5,T=(a.bandwidth?i:o)(a.copy()),A=e.selection?e.selection():e,E=A.selectAll(".domain").data([null]),I=A.selectAll(".tick").data(n,a).order(),L=I.exit(),N=I.enter().append("g").attr("class","tick"),O=I.select("line"),k=I.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),I=I.merge(N),O=O.merge(N.append("line").attr("stroke","#000").attr(w+"2",x*m)),k=k.merge(N.append("text").attr("fill","#000").attr(w,x*l).attr("dy",t===f?"0em":t===y?"0.71em":"0.32em")),e!==A&&(E=E.transition(e),I=I.transition(e),O=O.transition(e),k=k.transition(e),L=L.transition(e).attr("opacity",g).attr("transform",function(t){return isFinite(t=T(t))?P(t):this.getAttribute("transform")}),N.attr("opacity",g).attr("transform",function(t){var e=this.parentNode.__axis;return P(e&&isFinite(e=e(t))?e:T(t))})),L.remove(),E.attr("d",t===v||t==d?"M"+x*b+","+C+"H0.5V"+M+"H"+x*b:"M"+C+","+x*b+"V0.5H"+M+"V"+x*b),I.attr("opacity",1).attr("transform",function(t){return P(T(t))}),O.attr(w+"2",x*m),k.attr(w,x*l).text(s),A.filter(r).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===d?"start":t===v?"end":"middle"),A.each(function(){this.__axis=T})}var u=[],h=null,p=null,m=6,b=6,_=3,x=t===f||t===v?-1:1,w=t===v||t===d?"x":"y",P=t===f||t===y?e:n;return s.scale=function(t){return arguments.length?(a=t,s):a},s.ticks=function(){return u=l.call(arguments),s},s.tickArguments=function(t){return arguments.length?(u=null==t?[]:l.call(t),s):u.slice()},s.tickValues=function(t){return arguments.length?(h=null==t?null:l.call(t),s):h&&h.slice()},s.tickFormat=function(t){return arguments.length?(p=t,s):p},s.tickSize=function(t){return arguments.length?(m=b=+t,s):m},s.tickSizeInner=function(t){return arguments.length?(m=+t,s):m},s.tickSizeOuter=function(t){return arguments.length?(b=+t,s):b},s.tickPadding=function(t){return arguments.length?(_=+t,s):_},s}function s(t){return a(f,t)}function u(t){return a(d,t)}function h(t){return a(y,t)}function p(t){return a(v,t)}var l=Array.prototype.slice,c=function(t){return t},f=1,d=2,y=3,v=4,g=1e-6;t.axisTop=s,t.axisRight=u,t.axisBottom=h,t.axisLeft=p,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,o){o(e,n(20),n(68),n(30),n(31),n(72))}(this,function(t,e,n,o,i,r){"use strict";function a(){i.event.stopImmediatePropagation()}function s(t){return{type:t}}function u(){return!i.event.button}function h(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function p(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function l(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function c(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function f(){return y(P)}function d(){return y(S)}function y(t){function c(e){var n=e.property("__brush",L).selectAll(".overlay").data([s("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",M.overlay).merge(n).each(function(){var t=p(this).extent;i.select(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([s("selection")]).enter().append("rect").attr("class","selection").attr("cursor",M.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var o=e.selectAll(".handle").data(t.handles,function(t){return t.type});o.exit().remove(),o.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return M[t.type]}),e.each(f).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",C)}function f(){var t=i.select(this),e=p(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-D/2:e[0][0]-D/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-D/2:e[0][1]-D/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+D:D}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+D:D})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(t,e){return t.__brush.emitter||new y(t,e)}function y(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function C(){function e(){var t=i.mouse(X);!Q||K||B||(Math.abs(t[0]-et[0])>Math.abs(t[1]-et[1])?B=!0:K=!0),et=t,j=!0,m(),o()}function o(){var t;switch(D=et[0]-tt[0],F=et[1]-tt[1],Y){case _:case b:G&&(D=Math.max(V-c,Math.min(Z-C,D)),y=c+D,L=C+D),
W&&(F=Math.max($-v,Math.min(J-O,F)),g=v+F,R=O+F);break;case x:G<0?(D=Math.max(V-c,Math.min(Z-c,D)),y=c+D,L=C):G>0&&(D=Math.max(V-C,Math.min(Z-C,D)),y=c,L=C+D),W<0?(F=Math.max($-v,Math.min(J-v,F)),g=v+F,R=O):W>0&&(F=Math.max($-O,Math.min(J-O,F)),g=v,R=O+F);break;case w:G&&(y=Math.max(V,Math.min(Z,c-D*G)),L=Math.max(V,Math.min(Z,C+D*G))),W&&(g=Math.max($,Math.min(J,v-F*W)),R=Math.max($,Math.min(J,O+F*W)))}L<y&&(G*=-1,t=c,c=C,C=t,t=y,y=L,L=t,U in T&&it.attr("cursor",M[U=T[U]])),R<g&&(W*=-1,t=v,v=O,O=t,t=g,g=R,R=t,U in A&&it.attr("cursor",M[U=A[U]])),z.selection&&(H=z.selection),K&&(y=H[0][0],L=H[1][0]),B&&(g=H[0][1],R=H[1][1]),H[0][0]===y&&H[0][1]===g&&H[1][0]===L&&H[1][1]===R||(z.selection=[[y,g],[L,R]],f.call(X),nt.brush())}function s(){if(a(),i.event.touches){if(i.event.touches.length)return;N&&clearTimeout(N),N=setTimeout(function(){N=null},500),ot.on("touchmove.brush touchend.brush touchcancel.brush",null)}else n.dragEnable(i.event.view,j),rt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ot.attr("pointer-events","all"),it.attr("cursor",M.overlay),z.selection&&(H=z.selection),l(H)&&(z.selection=null,f.call(X)),nt.end()}function u(){switch(i.event.keyCode){case 16:Q=G&&W;break;case 18:Y===x&&(G&&(C=L-D*G,c=y+D*G),W&&(O=R-F*W,v=g+F*W),Y=w,o());break;case 32:Y!==x&&Y!==w||(G<0?C=L-D:G>0&&(c=y-D),W<0?O=R-F:W>0&&(v=g-F),Y=_,it.attr("cursor",M.selection),o());break;default:return}m()}function h(){switch(i.event.keyCode){case 16:Q&&(K=B=Q=!1,o());break;case 18:Y===w&&(G<0?C=L:G>0&&(c=y),W<0?O=R:W>0&&(v=g),Y=x,o());break;case 32:Y===_&&(i.event.altKey?(G&&(C=L-D*G,c=y+D*G),W&&(O=R-F*W,v=g+F*W),Y=w):(G<0?C=L:G>0&&(c=y),W<0?O=R:W>0&&(v=g),Y=x),it.attr("cursor",M[U]),o());break;default:return}m()}if(i.event.touches){if(i.event.changedTouches.length<i.event.touches.length)return m()}else if(N)return;if(k.apply(this,arguments)){var c,y,v,g,C,L,O,R,D,F,j,K,B,X=this,U=i.event.target.__data__.type,Y="selection"===(i.event.metaKey?U="overlay":U)?b:i.event.altKey?w:x,G=t===S?null:E[U],W=t===P?null:I[U],z=p(X),q=z.extent,H=z.selection,V=q[0][0],$=q[0][1],Z=q[1][0],J=q[1][1],Q=G&&W&&i.event.shiftKey,tt=i.mouse(X),et=tt,nt=d(X,arguments).beforestart();"overlay"===U?z.selection=H=[[c=t===S?V:tt[0],v=t===P?$:tt[1]],[C=t===S?Z:c,O=t===P?J:v]]:(c=H[0][0],v=H[0][1],C=H[1][0],O=H[1][1]),y=c,g=v,L=C,R=O;var ot=i.select(X).attr("pointer-events","none"),it=ot.selectAll(".overlay").attr("cursor",M[U]);if(i.event.touches)ot.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",s,!0);else{var rt=i.select(i.event.view).on("keydown.brush",u,!0).on("keyup.brush",h,!0).on("mousemove.brush",e,!0).on("mouseup.brush",s,!0);n.dragDisable(i.event.view)}a(),r.interrupt(X),f.call(X),nt.start()}}function L(){var e=this.__brush||{selection:null};return e.extent=O.apply(this,arguments),e.dim=t,e}var N,O=h,k=u,R=e.dispatch(c,"start","brush","end"),D=6;return c.move=function(e,n){e.selection?e.on("start.brush",function(){d(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){d(this,arguments).end()}).tween("brush",function(){function e(t){r.selection=1===t&&l(u)?null:h(t),f.call(i),a.brush()}var i=this,r=i.__brush,a=d(i,arguments),s=r.selection,u=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),h=o.interpolate(s,u);return s&&u?e:e(1)}):e.each(function(){var e=this,o=arguments,i=e.__brush,a=t.input("function"==typeof n?n.apply(e,o):n,i.extent),s=d(e,o).beforestart();r.interrupt(e),i.selection=null==a||l(a)?null:a,f.call(e),s.start().brush().end()})},y.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){i.customEvent(new g(c,e,t.output(this.state.selection)),R.apply,R,[e,this.that,this.args])}},c.extent=function(t){return arguments.length?(O="function"==typeof t?t:v([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),c):O},c.filter=function(t){return arguments.length?(k="function"==typeof t?t:v(!!t),c):k},c.handleSize=function(t){return arguments.length?(D=+t,c):D},c.on=function(){var t=R.on.apply(R,arguments);return t===R?c:t},c}var v=function(t){return function(){return t}},g=function(t,e,n){this.target=t,this.type=e,this.selection=n},m=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},b={name:"drag"},_={name:"space"},x={name:"handle"},w={name:"center"},P={name:"x",handles:["e","w"].map(s),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},S={name:"y",handles:["n","s"].map(s),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},C={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(s),input:function(t){return t},output:function(t){return t}},M={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},T={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},A={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},E={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},I={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},L=function(){return y(C)};t.brush=L,t.brushX=f,t.brushY=d,t.brushSelection=c,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,o){o(e,n(43),n(69))}(this,function(t,e,n){"use strict";function o(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function i(t){return t.source}function r(t){return t.target}function a(t){return t.radius}function s(t){return t.startAngle}function u(t){return t.endAngle}var h=Math.cos,p=Math.sin,l=Math.PI,c=l/2,f=2*l,d=Math.max,y=function(){function t(t){var o,s,u,h,p,l,c=t.length,y=[],v=e.range(c),g=[],m=[],b=m.groups=new Array(c),_=new Array(c*c);for(o=0,p=-1;++p<c;){for(s=0,l=-1;++l<c;)s+=t[p][l];y.push(s),g.push(e.range(c)),o+=s}for(i&&v.sort(function(t,e){return i(y[t],y[e])}),r&&g.forEach(function(e,n){e.sort(function(e,o){return r(t[n][e],t[n][o])})}),o=d(0,f-n*c)/o,h=o?n:f/c,s=0,p=-1;++p<c;){for(u=s,l=-1;++l<c;){var x=v[p],w=g[x][l],P=t[x][w],S=s,C=s+=P*o;_[w*c+x]={index:x,subindex:w,startAngle:S,endAngle:C,value:P}}b[x]={index:x,startAngle:u,endAngle:s,value:y[x]},s+=h}for(p=-1;++p<c;)for(l=p-1;++l<c;){var M=_[l*c+p],T=_[p*c+l];(M.value||T.value)&&m.push(M.value<T.value?{source:T,target:M}:{source:M,target:T})}return a?m.sort(a):m}var n=0,i=null,r=null,a=null;return t.padAngle=function(e){return arguments.length?(n=d(0,e),t):n},t.sortGroups=function(e){return arguments.length?(i=e,t):i},t.sortSubgroups=function(e){return arguments.length?(r=e,t):r},t.sortChords=function(e){return arguments.length?(null==e?a=null:(a=o(e))._=e,t):a&&a._},t},v=Array.prototype.slice,g=function(t){return function(){return t}},m=function(){function t(){var t,i=v.call(arguments),r=e.apply(this,i),a=o.apply(this,i),s=+l.apply(this,(i[0]=r,i)),u=f.apply(this,i)-c,g=d.apply(this,i)-c,m=s*h(u),b=s*p(u),_=+l.apply(this,(i[0]=a,i)),x=f.apply(this,i)-c,w=d.apply(this,i)-c;if(y||(y=t=n.path()),y.moveTo(m,b),y.arc(0,0,s,u,g),u===x&&g===w||(y.quadraticCurveTo(0,0,_*h(x),_*p(x)),y.arc(0,0,_,x,w)),y.quadraticCurveTo(0,0,m,b),y.closePath(),t)return y=null,t+""||null}var e=i,o=r,l=a,f=s,d=u,y=null;return t.radius=function(e){return arguments.length?(l="function"==typeof e?e:g(+e),t):l},t.startAngle=function(e){return arguments.length?(f="function"==typeof e?e:g(+e),t):f},t.endAngle=function(e){return arguments.length?(d="function"==typeof e?e:g(+e),t):d},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(o=e,t):o},t.context=function(e){return arguments.length?(y=null==e?null:e,t):y},t};t.chord=y,t.ribbon=m,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,o){o(e,n(94),n(44),n(20),n(71))}(this,function(t,e,n,o,i){"use strict";function r(t){return t.x+t.vx}function a(t){return t.y+t.vy}function s(t){return t.index}function u(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function h(t){return t.x}function p(t){return t.y}var l=function(t,e){function n(){var n,i,r=o.length,a=0,s=0;for(n=0;n<r;++n)i=o[n],a+=i.x,s+=i.y;for(a=a/r-t,s=s/r-e,n=0;n<r;++n)i=o[n],i.x-=a,i.y-=s}var o;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){o=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},c=function(t){return function(){return t}},f=function(){return 1e-6*(Math.random()-.5)},d=function(t){function n(){function t(t,e,n,o,i){var r=t.data,a=t.r,s=y+a;{if(!r)return e>c+s||o<c-s||n>d+s||i<d-s;if(r.index>l.index){var u=c-r.x-r.vx,p=d-r.y-r.vy,g=u*u+p*p;g<s*s&&(0===u&&(u=f(),g+=u*u),0===p&&(p=f(),g+=p*p),g=(s-(g=Math.sqrt(g)))/g*h,l.vx+=(u*=g)*(s=(a*=a)/(v+a)),l.vy+=(p*=g)*s,r.vx-=u*(s=1-s),r.vy-=p*s)}}}for(var n,i,l,c,d,y,v,g=s.length,m=0;m<p;++m)for(i=e.quadtree(s,r,a).visitAfter(o),n=0;n<g;++n)l=s[n],y=u[l.index],v=y*y,c=l.x+l.vx,d=l.y+l.vy,i.visit(t)}function o(t){if(t.data)return t.r=u[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function i(){if(s){var e,n,o=s.length;for(u=new Array(o),e=0;e<o;++e)n=s[e],u[n.index]=+t(n,e,s)}}var s,u,h=1,p=1;return"function"!=typeof t&&(t=c(null==t?1:+t)),n.initialize=function(t){s=t,i()},n.iterations=function(t){return arguments.length?(p=+t,n):p},n.strength=function(t){return arguments.length?(h=+t,n):h},n.radius=function(e){return arguments.length?(t="function"==typeof e?e:c(+e),i(),n):t},n},y=function(t){function e(t){return 1/Math.min(d[t.source.index],d[t.target.index])}function o(e){for(var n=0,o=t.length;n<b;++n)for(var i,r,a,s,u,l,c,d=0;d<o;++d)i=t[d],r=i.source,a=i.target,s=a.x+a.vx-r.x-r.vx||f(),u=a.y+a.vy-r.y-r.vy||f(),l=Math.sqrt(s*s+u*u),l=(l-p[d])/l*e*h[d],s*=l,u*=l,a.vx-=s*(c=y[d]),a.vy-=u*c,r.vx+=s*(c=1-c),r.vy+=u*c}function i(){if(l){var e,o,i=l.length,s=t.length,c=n.map(l,v);for(e=0,d=new Array(i);e<s;++e)o=t[e],o.index=e,"object"!=typeof o.source&&(o.source=u(c,o.source)),"object"!=typeof o.target&&(o.target=u(c,o.target)),d[o.source.index]=(d[o.source.index]||0)+1,d[o.target.index]=(d[o.target.index]||0)+1;for(e=0,y=new Array(s);e<s;++e)o=t[e],y[e]=d[o.source.index]/(d[o.source.index]+d[o.target.index]);h=new Array(s),r(),p=new Array(s),a()}}function r(){if(l)for(var e=0,n=t.length;e<n;++e)h[e]=+g(t[e],e,t)}function a(){if(l)for(var e=0,n=t.length;e<n;++e)p[e]=+m(t[e],e,t)}var h,p,l,d,y,v=s,g=e,m=c(30),b=1;return null==t&&(t=[]),o.initialize=function(t){l=t,i()},o.links=function(e){return arguments.length?(t=e,i(),o):t},o.id=function(t){return arguments.length?(v=t,o):v},o.iterations=function(t){return arguments.length?(b=+t,o):b},o.strength=function(t){return arguments.length?(g="function"==typeof t?t:c(+t),r(),o):g},o.distance=function(t){return arguments.length?(m="function"==typeof t?t:c(+t),a(),o):m},o},v=10,g=Math.PI*(3-Math.sqrt(5)),m=function(t){function e(){r(),m.call("tick",u),h<p&&(y.stop(),m.call("end",u))}function r(){var e,n,o=t.length;for(h+=(c-h)*l,d.each(function(t){t(h)}),e=0;e<o;++e)n=t[e],null==n.fx?n.x+=n.vx*=f:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=f:(n.y=n.fy,n.vy=0)}function a(){for(var e,n=0,o=t.length;n<o;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var i=v*Math.sqrt(n),r=n*g;e.x=i*Math.cos(r),e.y=i*Math.sin(r)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function s(e){return e.initialize&&e.initialize(t),e}var u,h=1,p=.001,l=1-Math.pow(p,1/300),c=0,f=.6,d=n.map(),y=i.timer(e),m=o.dispatch("tick","end");return null==t&&(t=[]),a(),u={tick:r,restart:function(){return y.restart(e),u},stop:function(){return y.stop(),u},nodes:function(e){return arguments.length?(t=e,a(),d.each(s),u):t},alpha:function(t){return arguments.length?(h=+t,u):h},alphaMin:function(t){return arguments.length?(p=+t,u):p},alphaDecay:function(t){return arguments.length?(l=+t,u):+l},alphaTarget:function(t){return arguments.length?(c=+t,u):c},velocityDecay:function(t){return arguments.length?(f=1-t,u):1-f},force:function(t,e){return arguments.length>1?(null==e?d.remove(t):d.set(t,s(e)),u):d.get(t)},find:function(e,n,o){var i,r,a,s,u,h=0,p=t.length;for(null==o?o=1/0:o*=o,h=0;h<p;++h)s=t[h],i=e-s.x,r=n-s.y,a=i*i+r*r,a<o&&(u=s,o=a);return u},on:function(t,e){return arguments.length>1?(m.on(t,e),u):m.on(t)}}},b=function(){function t(t){var n,u=r.length,l=e.quadtree(r,h,p).visitAfter(o);for(s=t,n=0;n<u;++n)a=r[n],l.visit(i)}function n(){if(r){var t,e,n=r.length;for(u=new Array(n),t=0;t<n;++t)e=r[t],u[e.index]=+l(e,t,r)}}function o(t){var e,n,o,i,r,a=0;if(t.length){for(o=i=r=0;r<4;++r)(e=t[r])&&(n=e.value)&&(a+=n,o+=n*e.x,i+=n*e.y);t.x=o/a,t.y=i/a}else{e=t,e.x=e.data.x,e.y=e.data.y;do a+=u[e.data.index];while(e=e.next)}t.value=a}function i(t,e,n,o){if(!t.value)return!0;var i=t.x-a.x,r=t.y-a.y,h=o-e,p=i*i+r*r;if(h*h/v<p)return p<y&&(0===i&&(i=f(),p+=i*i),0===r&&(r=f(),p+=r*r),p<d&&(p=Math.sqrt(d*p)),a.vx+=i*t.value*s/p,a.vy+=r*t.value*s/p),!0;if(!(t.length||p>=y)){(t.data!==a||t.next)&&(0===i&&(i=f(),p+=i*i),0===r&&(r=f(),p+=r*r),p<d&&(p=Math.sqrt(d*p)));do t.data!==a&&(h=u[t.data.index]*s/p,a.vx+=i*h,a.vy+=r*h);while(t=t.next)}}var r,a,s,u,l=c(-30),d=1,y=1/0,v=.81;return t.initialize=function(t){r=t,n()},t.strength=function(e){return arguments.length?(l="function"==typeof e?e:c(+e),n(),t):l},t.distanceMin=function(e){return arguments.length?(d=e*e,t):Math.sqrt(d)},t.distanceMax=function(e){return arguments.length?(y=e*e,t):Math.sqrt(y)},t.theta=function(e){return arguments.length?(v=e*e,t):Math.sqrt(v)},t},_=function(t){function e(t){for(var e,n=0,a=o.length;n<a;++n)e=o[n],e.vx+=(r[n]-e.x)*i[n]*t}function n(){if(o){var e,n=o.length;for(i=new Array(n),r=new Array(n),e=0;e<n;++e)i[e]=isNaN(r[e]=+t(o[e],e,o))?0:+a(o[e],e,o)}}var o,i,r,a=c(.1);return"function"!=typeof t&&(t=c(null==t?0:+t)),e.initialize=function(t){o=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:c(+t),n(),e):a},e.x=function(o){return arguments.length?(t="function"==typeof o?o:c(+o),n(),e):t},e},x=function(t){function e(t){for(var e,n=0,a=o.length;n<a;++n)e=o[n],e.vy+=(r[n]-e.y)*i[n]*t}function n(){if(o){var e,n=o.length;for(i=new Array(n),r=new Array(n),e=0;e<n;++e)i[e]=isNaN(r[e]=+t(o[e],e,o))?0:+a(o[e],e,o)}}var o,i,r,a=c(.1);return"function"!=typeof t&&(t=c(null==t?0:+t)),e.initialize=function(t){o=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:c(+t),n(),e):a},e.y=function(o){return arguments.length?(t="function"==typeof o?o:c(+o),n(),e):t},e};t.forceCenter=l,t.forceCollide=d,t.forceLink=y,t.forceManyBody=b,t.forceSimulation=m,t.forceX=_,t.forceY=x,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,o){o(e,n(43))}(this,function(t,e){"use strict";function n(){this.reset()}function o(t,e,n){var o=t.s=e+n,i=o-e,r=o-i;t.t=e-r+(n-i)}function i(t){return t>1?0:t<-1?Ue:Math.acos(t)}function r(t){return t>1?Ye:t<-1?-Ye:Math.asin(t)}function a(t){return(t=nn(t/2))*t}function s(){}function u(t,e){t&&un.hasOwnProperty(t.type)&&un[t.type](t,e)}function h(t,e,n){var o,i=-1,r=t.length-n;for(e.lineStart();++i<r;)o=t[i],e.point(o[0],o[1],o[2]);e.lineEnd()}function p(t,e){var n=-1,o=t.length;for(e.polygonStart();++n<o;)h(t[n],e,1);e.polygonEnd()}function l(){cn.point=f}function c(){d(ue,he)}function f(t,e){cn.point=d,ue=t,he=e,t*=qe,e*=qe,pe=t,le=Ze(e=e/2+Ge),ce=nn(e)}function d(t,e){t*=qe,e*=qe,e=e/2+Ge;var n=t-pe,o=n>=0?1:-1,i=o*n,r=Ze(e),a=nn(e),s=ce*a,u=le*r+s*Ze(i),h=s*o*nn(i);pn.add($e(h,u)),pe=t,le=r,ce=a}function y(t){return[$e(t[1],t[0]),r(t[2])]}function v(t){var e=t[0],n=t[1],o=Ze(n);return[o*Ze(e),o*nn(e),nn(n)]}function g(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function m(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function b(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function x(t){var e=rn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function w(t,e){xe.push(we=[fe=t,ye=t]),e<de&&(de=e),e>ve&&(ve=e)}function P(t,e){var n=v([t*qe,e*qe]);if(_e){var o=m(_e,n),i=[o[1],-o[0],0],r=m(i,o);x(r),r=y(r);var a,s=t-ge,u=s>0?1:-1,h=r[0]*ze*u,p=He(s)>180;p^(u*ge<h&&h<u*t)?(a=r[1]*ze,a>ve&&(ve=a)):(h=(h+360)%360-180,p^(u*ge<h&&h<u*t)?(a=-r[1]*ze,a<de&&(de=a)):(e<de&&(de=e),e>ve&&(ve=e))),p?t<ge?E(fe,t)>E(fe,ye)&&(ye=t):E(t,ye)>E(fe,ye)&&(fe=t):ye>=fe?(t<fe&&(fe=t),t>ye&&(ye=t)):t>ge?E(fe,t)>E(fe,ye)&&(ye=t):E(t,ye)>E(fe,ye)&&(fe=t)}else xe.push(we=[fe=t,ye=t]);e<de&&(de=e),e>ve&&(ve=e),_e=n,ge=t}function S(){yn.point=P}function C(){we[0]=fe,we[1]=ye,yn.point=w,_e=null}function M(t,e){if(_e){var n=t-ge;dn.add(He(n)>180?n+(n>0?360:-360):n)}else me=t,be=e;cn.point(t,e),P(t,e)}function T(){cn.lineStart()}function A(){M(me,be),cn.lineEnd(),He(dn)>Be&&(fe=-(ye=180)),we[0]=fe,we[1]=ye,_e=null}function E(t,e){return(e-=t)<0?e+360:e}function I(t,e){return t[0]-e[0]}function L(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function N(t,e){t*=qe,e*=qe;var n=Ze(e);O(n*Ze(t),n*nn(t),nn(e))}function O(t,e,n){++Pe,Ce+=(t-Ce)/Pe,Me+=(e-Me)/Pe,Te+=(n-Te)/Pe}function k(){gn.point=R}function R(t,e){t*=qe,e*=qe;var n=Ze(e);De=n*Ze(t),Fe=n*nn(t),je=nn(e),gn.point=D,O(De,Fe,je)}function D(t,e){t*=qe,e*=qe;var n=Ze(e),o=n*Ze(t),i=n*nn(t),r=nn(e),a=$e(rn((a=Fe*r-je*i)*a+(a=je*o-De*r)*a+(a=De*i-Fe*o)*a),De*o+Fe*i+je*r);Se+=a,Ae+=a*(De+(De=o)),Ee+=a*(Fe+(Fe=i)),Ie+=a*(je+(je=r)),O(De,Fe,je)}function F(){gn.point=N}function j(){gn.point=B}function K(){X(ke,Re),gn.point=N}function B(t,e){ke=t,Re=e,t*=qe,e*=qe,gn.point=X;var n=Ze(e);De=n*Ze(t),Fe=n*nn(t),je=nn(e),O(De,Fe,je)}function X(t,e){t*=qe,e*=qe;var n=Ze(e),o=n*Ze(t),i=n*nn(t),a=nn(e),s=Fe*a-je*i,u=je*o-De*a,h=De*i-Fe*o,p=rn(s*s+u*u+h*h),l=r(p),c=p&&-l/p;Le+=c*s,Ne+=c*u,Oe+=c*h,Se+=l,Ae+=l*(De+(De=o)),Ee+=l*(Fe+(Fe=i)),Ie+=l*(je+(je=a)),O(De,Fe,je)}function U(t,e){return[t>Ue?t-We:t<-Ue?t+We:t,e]}function Y(t,e,n){return(t%=We)?e||n?_n(W(t),z(e,n)):W(t):e||n?z(e,n):U}function G(t){return function(e,n){return e+=t,[e>Ue?e-We:e<-Ue?e+We:e,n]}}function W(t){var e=G(t);return e.invert=G(-t),e}function z(t,e){function n(t,e){var n=Ze(e),u=Ze(t)*n,h=nn(t)*n,p=nn(e),l=p*o+u*i;return[$e(h*a-l*s,u*o-p*i),r(l*a+h*s)]}var o=Ze(t),i=nn(t),a=Ze(e),s=nn(e);return n.invert=function(t,e){var n=Ze(e),u=Ze(t)*n,h=nn(t)*n,p=nn(e),l=p*a-h*s;return[$e(h*a+p*s,u*o+l*i),r(l*o-u*i)]},n}function q(t,e,n,o,i,r){if(n){var a=Ze(e),s=nn(e),u=o*n;null==i?(i=e+o*We,r=e-u/2):(i=H(a,i),r=H(a,r),(o>0?i<r:i>r)&&(i+=o*We));for(var h,p=i;o>0?p>r:p<r;p-=u)h=y([a,-s*Ze(p),-s*nn(p)]),t.point(h[0],h[1])}}function H(t,e){e=v(e),e[0]-=t,x(e);var n=i(-e[1]);return((-e[2]<0?-n:n)+We-Be)%We}function V(t,e,n,o){this.x=t,this.z=e,this.o=n,this.e=o,this.v=!1,this.n=this.p=null}function $(t){if(e=t.length){for(var e,n,o=0,i=t[0];++o<e;)i.n=n=t[o],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Z(t,n,o,i){function r(e,r){return t<=e&&e<=o&&n<=r&&r<=i}function a(e,r,a,u){var p=0,l=0;if(null==e||(p=s(e,a))!==(l=s(r,a))||h(e,r)<0^a>0){do u.point(0===p||3===p?t:o,p>1?i:n);while((p=(p+a+4)%4)!==l)}else u.point(r[0],r[1])}function s(e,i){return He(e[0]-t)<Be?i>0?0:3:He(e[0]-o)<Be?i>0?2:1:He(e[1]-n)<Be?i>0?1:0:i>0?3:2}function u(t,e){return h(t.x,e.x)}function h(t,e){var n=s(t,1),o=s(e,1);return n!==o?n-o:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function h(t,e){r(t,e)&&T.point(t,e)}function p(){for(var e=0,n=0,o=g.length;n<o;++n)for(var r,a,s=g[n],u=1,h=s.length,p=s[0],l=p[0],c=p[1];u<h;++u)r=l,a=c,p=s[u],l=p[0],c=p[1],a<=i?c>i&&(l-r)*(i-a)>(c-a)*(t-r)&&++e:c<=i&&(l-r)*(i-a)<(c-a)*(t-r)&&--e;return e}function l(){T=A,v=[],g=[],M=!0}function c(){var t=p(),n=M&&t,o=(v=e.merge(v)).length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),o&&Fn(v,u,t,a,s),s.polygonEnd()),T=s,v=g=m=null}function f(){E.point=y,g&&g.push(m=[]),C=!0,S=!1,w=P=NaN}function d(){v&&(y(b,_),x&&S&&A.rejoin(),v.push(A.result())),E.point=h,S&&T.lineEnd()}function y(e,a){var s=r(e,a);if(g&&m.push([e,a]),C)b=e,_=a,x=s,C=!1,s&&(T.lineStart(),T.point(e,a));else if(s&&S)T.point(e,a);else{var u=[w=Math.max(Kn,Math.min(jn,w)),P=Math.max(Kn,Math.min(jn,P))],h=[e=Math.max(Kn,Math.min(jn,e)),a=Math.max(Kn,Math.min(jn,a))];Rn(u,h,t,n,o,i)?(S||(T.lineStart(),T.point(u[0],u[1])),T.point(h[0],h[1]),s||T.lineEnd(),M=!1):s&&(T.lineStart(),T.point(e,a),M=!1)}w=e,P=a,S=s}var v,g,m,b,_,x,w,P,S,C,M,T=s,A=kn(),E={point:h,lineStart:f,lineEnd:d,polygonStart:l,polygonEnd:c};return E}}function J(){Gn.point=tt,Gn.lineEnd=Q}function Q(){Gn.point=Gn.lineEnd=s}function tt(t,e){t*=qe,e*=qe,xn=t,wn=nn(e),Pn=Ze(e),Gn.point=et}function et(t,e){t*=qe,e*=qe;var n=nn(e),o=Ze(e),i=He(t-xn),r=Ze(i),a=nn(i),s=o*a,u=Pn*n-wn*o*r,h=wn*n+Pn*o*r;Yn.add($e(rn(s*s+u*u),h)),xn=t,wn=n,Pn=o}function nt(t,e){return!(!t||!$n.hasOwnProperty(t.type))&&$n[t.type](t,e)}function ot(t,e){return 0===Hn(t,e)}function it(t,e){var n=Hn(t[0],t[1]),o=Hn(t[0],e),i=Hn(e,t[1]);return o+i<=n+Be}function rt(t,e){return!!Un(t.map(at),st(e))}function at(t){return t=t.map(st),t.pop(),t}function st(t){return[t[0]*qe,t[1]*qe]}function ut(t,n,o){var i=e.range(t,n-Be,o).concat(n);return function(t){return i.map(function(e){return[t,e]})}}function ht(t,n,o){var i=e.range(t,n-Be,o).concat(n);return function(t){return i.map(function(e){return[e,t]})}}function pt(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return e.range(Je(a/g)*g,r,g).map(f).concat(e.range(Je(p/m)*m,h,m).map(d)).concat(e.range(Je(i/y)*y,o,y).filter(function(t){return He(t%g)>Be}).map(l)).concat(e.range(Je(u/v)*v,s,v).filter(function(t){return He(t%m)>Be}).map(c))}var o,i,r,a,s,u,h,p,l,c,f,d,y=10,v=y,g=90,m=360,b=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(a).concat(d(h).slice(1),f(r).reverse().slice(1),d(p).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],p=+e[0][1],h=+e[1][1],a>r&&(e=a,a=r,r=e),p>h&&(e=p,p=h,h=e),t.precision(b)):[[a,p],[r,h]]},t.extentMinor=function(e){return arguments.length?(i=+e[0][0],o=+e[1][0],u=+e[0][1],s=+e[1][1],i>o&&(e=i,i=o,o=e),u>s&&(e=u,u=s,s=e),t.precision(b)):[[i,u],[o,s]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(g=+e[0],m=+e[1],t):[g,m]},t.stepMinor=function(e){return arguments.length?(y=+e[0],v=+e[1],t):[y,v]},t.precision=function(e){return arguments.length?(b=+e,l=ut(u,s,90),c=ht(i,o,b),f=ut(p,h,90),d=ht(a,r,b),t):b},t.extentMajor([[-180,-90+Be],[180,90-Be]]).extentMinor([[-180,-80-Be],[180,80+Be]])}function lt(){return pt()()}function ct(){no.point=ft}function ft(t,e){no.point=dt,Sn=Mn=t,Cn=Tn=e}function dt(t,e){eo.add(Tn*t-Mn*e),Mn=t,Tn=e}function yt(){dt(Sn,Cn)}function vt(t,e){t<oo&&(oo=t),t>ro&&(ro=t),e<io&&(io=e),e>ao&&(ao=e)}function gt(t,e){uo+=t,ho+=e,++po}function mt(){mo.point=bt}function bt(t,e){mo.point=_t,gt(In=t,Ln=e)}function _t(t,e){var n=t-In,o=e-Ln,i=rn(n*n+o*o);lo+=i*(In+t)/2,co+=i*(Ln+e)/2,fo+=i,gt(In=t,Ln=e)}function xt(){mo.point=gt}function wt(){mo.point=St}function Pt(){Ct(An,En)}function St(t,e){mo.point=Ct,gt(An=In=t,En=Ln=e)}function Ct(t,e){var n=t-In,o=e-Ln,i=rn(n*n+o*o);lo+=i*(In+t)/2,co+=i*(Ln+e)/2,fo+=i,i=Ln*t-In*e,yo+=i*(In+t),vo+=i*(Ln+e),go+=3*i,gt(In=t,Ln=e)}function Mt(t){this._context=t}function Tt(t,e){Co.point=At,_o=wo=t,xo=Po=e}function At(t,e){wo-=t,Po-=e,So.add(rn(wo*wo+Po*Po)),wo=t,Po=e}function Et(){this._string=[]}function It(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Lt(t){return t.length>1}function Nt(t,e){return((t=t.x)[0]<0?t[1]-Ye-Be:Ye-t[1])-((e=e.x)[0]<0?e[1]-Ye-Be:Ye-e[1])}function Ot(t){var e,n=NaN,o=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(r,a){var s=r>0?Ue:-Ue,u=He(r-n);He(u-Ue)<Be?(t.point(n,o=(o+a)/2>0?Ye:-Ye),t.point(i,o),t.lineEnd(),t.lineStart(),t.point(s,o),t.point(r,o),e=0):i!==s&&u>=Ue&&(He(n-i)<Be&&(n-=i*Be),He(r-s)<Be&&(r-=s*Be),o=kt(n,o,r,a),t.point(i,o),t.lineEnd(),t.lineStart(),t.point(s,o),e=0),t.point(n=r,o=a),i=s},lineEnd:function(){t.lineEnd(),n=o=NaN},clean:function(){return 2-e}}}function kt(t,e,n,o){var i,r,a=nn(t-n);return He(a)>Be?Ve((nn(e)*(r=Ze(o))*nn(n)-nn(o)*(i=Ze(e))*nn(t))/(i*r*a)):(e+o)/2}function Rt(t,e,n,o){var i;if(null==t)i=n*Ye,o.point(-Ue,i),o.point(0,i),o.point(Ue,i),o.point(Ue,0),o.point(Ue,-i),o.point(0,-i),o.point(-Ue,-i),o.point(-Ue,0),o.point(-Ue,i);else if(He(t[0]-e[0])>Be){var r=t[0]<e[0]?Ue:-Ue;i=n*r/2,o.point(-r,i),o.point(0,i),o.point(r,i)}else o.point(e[0],e[1])}function Dt(t){return function(e){var n=new Ft;for(var o in t)n[o]=t[o];return n.stream=e,n}}function Ft(){}function jt(t,e,n){var o=e[1][0]-e[0][0],i=e[1][1]-e[0][1],r=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),hn(n,t.stream(so));var a=so.result(),s=Math.min(o/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+e[0][0]+(o-s*(a[1][0]+a[0][0]))/2,h=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=r&&t.clipExtent(r),t.scale(150*s).translate([u,h])}function Kt(t,e,n){return jt(t,[[0,0],e],n)}function Bt(t){return Dt({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Xt(t,e){function n(o,i,a,s,u,h,p,l,c,f,d,y,v,g){var m=p-o,b=l-i,_=m*m+b*b;if(_>4*e&&v--){var x=s+f,w=u+d,P=h+y,S=rn(x*x+w*w+P*P),C=r(P/=S),M=He(He(P)-1)<Be||He(a-c)<Be?(a+c)/2:$e(w,x),T=t(M,C),A=T[0],E=T[1],I=A-o,L=E-i,N=b*I-m*L;(N*N/_>e||He((m*I+b*L)/_-.5)>.3||s*f+u*d+h*y<No)&&(n(o,i,a,s,u,h,A,E,M,x/=S,w/=S,P,v,g),g.point(A,E),n(A,E,M,x,w,P,p,l,c,f,d,y,v,g))}}return function(e){function o(n,o){n=t(n,o),e.point(n[0],n[1])}function i(){m=NaN,P.point=r,e.lineStart()}function r(o,i){var r=v([o,i]),a=t(o,i);n(m,b,g,_,x,w,m=a[0],b=a[1],g=o,_=r[0],x=r[1],w=r[2],Lo,e),e.point(m,b)}function a(){P.point=o,e.lineEnd()}function s(){i(),P.point=u,P.lineEnd=h}function u(t,e){r(p=t,e),l=m,c=b,f=_,d=x,y=w,P.point=r}function h(){n(m,b,g,_,x,w,l,c,p,f,d,y,Lo,e),P.lineEnd=a,a()}var p,l,c,f,d,y,g,m,b,_,x,w,P={point:o,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),P.lineStart=s},polygonEnd:function(){e.polygonEnd(),P.lineStart=i}};return P}}function Ut(t){return Yt(function(){return t})()}function Yt(t){function e(t){return t=p(t[0]*qe,t[1]*qe),[t[0]*v+s,u-t[1]*v]}function n(t){return t=p.invert((t[0]-s)/v,(u-t[1])/v),t&&[t[0]*ze,t[1]*ze]}function o(t,e){return t=a(t,e),[t[0]*v+s,u-t[1]*v]}function i(){p=_n(h=Y(x,w,P),a);var t=a(b,_);return s=g-t[0]*v,u=m+t[1]*v,r()}function r(){return d=y=null,e}var a,s,u,h,p,l,c,f,d,y,v=150,g=480,m=250,b=0,_=0,x=0,w=0,P=0,S=null,C=Ao,M=null,T=Qn,A=.5,E=Oo(o,A);return e.stream=function(t){return d&&y===t?d:d=ko(C(h,E(T(y=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?Eo(S=t*qe,6*qe):(S=null,Ao),r()):S*ze},e.clipExtent=function(t){return arguments.length?(T=null==t?(M=l=c=f=null,Qn):Z(M=+t[0][0],l=+t[0][1],c=+t[1][0],f=+t[1][1]),r()):null==M?null:[[M,l],[c,f]]},e.scale=function(t){return arguments.length?(v=+t,i()):v},e.translate=function(t){return arguments.length?(g=+t[0],m=+t[1],i()):[g,m]},e.center=function(t){return arguments.length?(b=t[0]%360*qe,_=t[1]%360*qe,i()):[b*ze,_*ze]},e.rotate=function(t){return arguments.length?(x=t[0]%360*qe,w=t[1]%360*qe,P=t.length>2?t[2]%360*qe:0,i()):[x*ze,w*ze,P*ze]},e.precision=function(t){return arguments.length?(E=Oo(o,A=t*t),r()):rn(A)},e.fitExtent=function(t,n){return jt(e,t,n)},e.fitSize=function(t,n){return Kt(e,t,n)},function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function Gt(t){var e=0,n=Ue/3,o=Yt(t),i=o(e,n);return i.parallels=function(t){return arguments.length?o(e=t[0]*qe,n=t[1]*qe):[e*ze,n*ze]},i}function Wt(t){function e(t,e){return[t*n,nn(e)/n]}var n=Ze(t);return e.invert=function(t,e){return[t/n,r(e*n)]},e}function zt(t,e){function n(t,e){var n=rn(a-2*i*nn(e))/i;return[n*nn(t*=i),s-n*Ze(t)]}var o=nn(t),i=(o+nn(e))/2;if(He(i)<Be)return Wt(t);var a=1+o*(2*i-o),s=rn(a)/i;return n.invert=function(t,e){var n=s-e;return[$e(t,He(n))/i*on(n),r((a-(t*t+n*n)*i*i)/(2*i))]},n}function qt(t){var e=t.length;return{point:function(n,o){for(var i=-1;++i<e;)t[i].point(n,o)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Ht(t){return function(e,n){var o=Ze(e),i=Ze(n),r=t(o*i);return[r*i*nn(e),r*nn(n)]}}function Vt(t){return function(e,n){var o=rn(e*e+n*n),i=t(o),a=nn(i),s=Ze(i);return[$e(e*a,o*s),r(o&&n*a/o)]}}function $t(t,e){return[t,tn(an((Ye+e)/2))]}function Zt(t){function e(){var e=Ue*s(),a=r(Nn(r.rotate()).invert([0,0]));return h(null==p?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===$t?[[Math.max(a[0]-e,p),n],[Math.min(a[0]+e,o),i]]:[[p,Math.max(a[1]-e,n)],[o,Math.min(a[1]+e,i)]])}var n,o,i,r=Ut(t),a=r.center,s=r.scale,u=r.translate,h=r.clipExtent,p=null;return r.scale=function(t){return arguments.length?(s(t),e()):s()},r.translate=function(t){return arguments.length?(u(t),e()):u()},r.center=function(t){return arguments.length?(a(t),e()):a()},r.clipExtent=function(t){return arguments.length?(null==t?p=n=o=i=null:(p=+t[0][0],n=+t[0][1],o=+t[1][0],i=+t[1][1]),e()):null==p?null:[[p,n],[o,i]]},e()}function Jt(t){return an((Ye+t)/2)}function Qt(t,e){function n(t,e){r>0?e<-Ye+Be&&(e=-Ye+Be):e>Ye-Be&&(e=Ye-Be);var n=r/en(Jt(e),i);return[n*nn(i*t),r-n*Ze(i*t)]}var o=Ze(t),i=t===e?nn(t):tn(o/Ze(e))/tn(Jt(e)/Jt(t)),r=o*en(Jt(t),i)/i;return i?(n.invert=function(t,e){var n=r-e,o=on(i)*rn(t*t+n*n);return[$e(t,He(n))/i*on(n),2*Ve(en(r/o,1/i))-Ye]},n):$t}function te(t,e){return[t,e]}function ee(t,e){function n(t,e){var n=r-e,o=i*t;return[n*nn(o),r-n*Ze(o)]}var o=Ze(t),i=t===e?nn(t):(o-Ze(e))/(e-t),r=o/i+t;return He(i)<Be?te:(n.invert=function(t,e){var n=r-e;return[$e(t,He(n))/i*on(n),r-on(i)*rn(t*t+n*n)]},n)}function ne(t,e){var n=Ze(e),o=Ze(t)*n;return[n*nn(t)/o,nn(e)/o]}function oe(t,e,n,o){return 1===t&&1===e&&0===n&&0===o?Qn:Dt({point:function(i,r){this.stream.point(i*t+n,r*e+o)}})}function ie(t,e){return[Ze(e)*nn(t),nn(e)]}function re(t,e){var n=Ze(e),o=1+Ze(t)*n;return[n*nn(t)/o,nn(e)/o]}function ae(t,e){return[tn(an((Ye+e)/2)),-t]}var se=function(){return new n};n.prototype={constructor:n,reset:function(){this.s=this.t=0},add:function(t){o(Ke,t,this.t),o(this,Ke.s,this.s),this.s?this.t+=Ke.t:this.s=Ke.t},valueOf:function(){return this.s}};var ue,he,pe,le,ce,fe,de,ye,ve,ge,me,be,_e,xe,we,Pe,Se,Ce,Me,Te,Ae,Ee,Ie,Le,Ne,Oe,ke,Re,De,Fe,je,Ke=new n,Be=1e-6,Xe=1e-12,Ue=Math.PI,Ye=Ue/2,Ge=Ue/4,We=2*Ue,ze=180/Ue,qe=Ue/180,He=Math.abs,Ve=Math.atan,$e=Math.atan2,Ze=Math.cos,Je=Math.ceil,Qe=Math.exp,tn=Math.log,en=Math.pow,nn=Math.sin,on=Math.sign||function(t){return t>0?1:t<0?-1:0},rn=Math.sqrt,an=Math.tan,sn={Feature:function(t,e){u(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,o=-1,i=n.length;++o<i;)u(n[o].geometry,e)}},un={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)t=n[o],e.point(t[0],t[1],t[2])},LineString:function(t,e){h(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)h(n[o],e,0)},Polygon:function(t,e){p(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)p(n[o],e)},GeometryCollection:function(t,e){for(var n=t.geometries,o=-1,i=n.length;++o<i;)u(n[o],e)}},hn=function(t,e){t&&sn.hasOwnProperty(t.type)?sn[t.type](t,e):u(t,e)},pn=se(),ln=se(),cn={point:s,lineStart:s,lineEnd:s,polygonStart:function(){
pn.reset(),cn.lineStart=l,cn.lineEnd=c},polygonEnd:function(){var t=+pn;ln.add(t<0?We+t:t),this.lineStart=this.lineEnd=this.point=s},sphere:function(){ln.add(We)}},fn=function(t){return ln.reset(),hn(t,cn),2*ln},dn=se(),yn={point:w,lineStart:S,lineEnd:C,polygonStart:function(){yn.point=M,yn.lineStart=T,yn.lineEnd=A,dn.reset(),cn.polygonStart()},polygonEnd:function(){cn.polygonEnd(),yn.point=w,yn.lineStart=S,yn.lineEnd=C,pn<0?(fe=-(ye=180),de=-(ve=90)):dn>Be?ve=90:dn<-Be&&(de=-90),we[0]=fe,we[1]=ye}},vn=function(t){var e,n,o,i,r,a,s;if(ve=ye=-(fe=de=1/0),xe=[],hn(t,yn),n=xe.length){for(xe.sort(I),e=1,o=xe[0],r=[o];e<n;++e)i=xe[e],L(o,i[0])||L(o,i[1])?(E(o[0],i[1])>E(o[0],o[1])&&(o[1]=i[1]),E(i[0],o[1])>E(o[0],o[1])&&(o[0]=i[0])):r.push(o=i);for(a=-(1/0),n=r.length-1,e=0,o=r[n];e<=n;o=i,++e)i=r[e],(s=E(o[1],i[0]))>a&&(a=s,fe=i[0],ye=o[1])}return xe=we=null,fe===1/0||de===1/0?[[NaN,NaN],[NaN,NaN]]:[[fe,de],[ye,ve]]},gn={sphere:s,point:N,lineStart:k,lineEnd:F,polygonStart:function(){gn.lineStart=j,gn.lineEnd=K},polygonEnd:function(){gn.lineStart=k,gn.lineEnd=F}},mn=function(t){Pe=Se=Ce=Me=Te=Ae=Ee=Ie=Le=Ne=Oe=0,hn(t,gn);var e=Le,n=Ne,o=Oe,i=e*e+n*n+o*o;return i<Xe&&(e=Ae,n=Ee,o=Ie,Se<Be&&(e=Ce,n=Me,o=Te),i=e*e+n*n+o*o,i<Xe)?[NaN,NaN]:[$e(n,e)*ze,r(o/rn(i))*ze]},bn=function(t){return function(){return t}},_n=function(t,e){function n(n,o){return n=t(n,o),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,o){return n=e.invert(n,o),n&&t.invert(n[0],n[1])}),n};U.invert=U;var xn,wn,Pn,Sn,Cn,Mn,Tn,An,En,In,Ln,Nn=function(t){function e(e){return e=t(e[0]*qe,e[1]*qe),e[0]*=ze,e[1]*=ze,e}return t=Y(t[0]*qe,t[1]*qe,t.length>2?t[2]*qe:0),e.invert=function(e){return e=t.invert(e[0]*qe,e[1]*qe),e[0]*=ze,e[1]*=ze,e},e},On=function(){function t(t,e){n.push(t=o(t,e)),t[0]*=ze,t[1]*=ze}function e(){var t=i.apply(this,arguments),e=r.apply(this,arguments)*qe,u=a.apply(this,arguments)*qe;return n=[],o=Y(-t[0]*qe,-t[1]*qe,0).invert,q(s,e,u,1),t={type:"Polygon",coordinates:[n]},n=o=null,t}var n,o,i=bn([0,0]),r=bn(90),a=bn(6),s={point:t};return e.center=function(t){return arguments.length?(i="function"==typeof t?t:bn([+t[0],+t[1]]),e):i},e.radius=function(t){return arguments.length?(r="function"==typeof t?t:bn(+t),e):r},e.precision=function(t){return arguments.length?(a="function"==typeof t?t:bn(+t),e):a},e},kn=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:s,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Rn=function(t,e,n,o,i,r){var a,s=t[0],u=t[1],h=e[0],p=e[1],l=0,c=1,f=h-s,d=p-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}if(a=o-u,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>l&&(l=a)}if(a=r-u,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=s+l*f,t[1]=u+l*d),c<1&&(e[0]=s+c*f,e[1]=u+c*d),!0}}}}},Dn=function(t,e){return He(t[0]-e[0])<Be&&He(t[1]-e[1])<Be},Fn=function(t,e,n,o,i){var r,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,o=t[0],a=t[e];if(Dn(o,a)){for(i.lineStart(),r=0;r<e;++r)i.point((o=t[r])[0],o[1]);return void i.lineEnd()}s.push(n=new V(o,t,null,!0)),u.push(n.o=new V(o,null,n,!1)),s.push(n=new V(a,t,null,!1)),u.push(n.o=new V(a,null,n,!0))}}),s.length){for(u.sort(e),$(s),$(u),r=0,a=u.length;r<a;++r)u[r].e=n=!n;for(var h,p,l=s[0];;){for(var c=l,f=!0;c.v;)if((c=c.n)===l)return;h=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(f)for(r=0,a=h.length;r<a;++r)i.point((p=h[r])[0],p[1]);else o(c.x,c.n.x,1,i);c=c.n}else{if(f)for(h=c.p.z,r=h.length-1;r>=0;--r)i.point((p=h[r])[0],p[1]);else o(c.x,c.p.x,-1,i);c=c.p}c=c.o,h=c.z,f=!f}while(!c.v);i.lineEnd()}}},jn=1e9,Kn=-jn,Bn=function(){var t,e,n,o=0,i=0,r=960,a=500;return n={stream:function(n){return t&&e===n?t:t=Z(o,i,r,a)(e=n)},extent:function(s){return arguments.length?(o=+s[0][0],i=+s[0][1],r=+s[1][0],a=+s[1][1],t=e=null,n):[[o,i],[r,a]]}}},Xn=se(),Un=function(t,e){var n=e[0],o=e[1],i=[nn(n),-Ze(n),0],a=0,s=0;Xn.reset();for(var u=0,h=t.length;u<h;++u)if(l=(p=t[u]).length)for(var p,l,c=p[l-1],f=c[0],d=c[1]/2+Ge,y=nn(d),g=Ze(d),b=0;b<l;++b,f=w,y=S,g=C,c=_){var _=p[b],w=_[0],P=_[1]/2+Ge,S=nn(P),C=Ze(P),M=w-f,T=M>=0?1:-1,A=T*M,E=A>Ue,I=y*S;if(Xn.add($e(I*T*nn(A),g*C+I*Ze(A))),a+=E?M+T*We:M,E^f>=n^w>=n){var L=m(v(c),v(_));x(L);var N=m(i,L);x(N);var O=(E^M>=0?-1:1)*r(N[2]);(o>O||o===O&&(L[0]||L[1]))&&(s+=E^M>=0?1:-1)}}return(a<-Be||a<Be&&Xn<-Be)^1&s},Yn=se(),Gn={sphere:s,point:s,lineStart:J,lineEnd:s,polygonStart:s,polygonEnd:s},Wn=function(t){return Yn.reset(),hn(t,Gn),+Yn},zn=[null,null],qn={type:"LineString",coordinates:zn},Hn=function(t,e){return zn[0]=t,zn[1]=e,Wn(qn)},Vn={Feature:function(t,e){return nt(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,o=-1,i=n.length;++o<i;)if(nt(n[o].geometry,e))return!0;return!1}},$n={Sphere:function(){return!0},Point:function(t,e){return ot(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)if(ot(n[o],e))return!0;return!1},LineString:function(t,e){return it(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)if(it(n[o],e))return!0;return!1},Polygon:function(t,e){return rt(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)if(rt(n[o],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,o=-1,i=n.length;++o<i;)if(nt(n[o],e))return!0;return!1}},Zn=function(t,e){return(t&&Vn.hasOwnProperty(t.type)?Vn[t.type]:nt)(t,e)},Jn=function(t,e){var n=t[0]*qe,o=t[1]*qe,i=e[0]*qe,s=e[1]*qe,u=Ze(o),h=nn(o),p=Ze(s),l=nn(s),c=u*Ze(n),f=u*nn(n),d=p*Ze(i),y=p*nn(i),v=2*r(rn(a(s-o)+u*p*a(i-n))),g=nn(v),m=v?function(t){var e=nn(t*=v)/g,n=nn(v-t)/g,o=n*c+e*d,i=n*f+e*y,r=n*h+e*l;return[$e(i,o)*ze,$e(r,rn(o*o+i*i))*ze]}:function(){return[n*ze,o*ze]};return m.distance=v,m},Qn=function(t){return t},to=se(),eo=se(),no={point:s,lineStart:s,lineEnd:s,polygonStart:function(){no.lineStart=ct,no.lineEnd=yt},polygonEnd:function(){no.lineStart=no.lineEnd=no.point=s,to.add(He(eo)),eo.reset()},result:function(){var t=to/2;return to.reset(),t}},oo=1/0,io=oo,ro=-oo,ao=ro,so={point:vt,lineStart:s,lineEnd:s,polygonStart:s,polygonEnd:s,result:function(){var t=[[oo,io],[ro,ao]];return ro=ao=-(io=oo=1/0),t}},uo=0,ho=0,po=0,lo=0,co=0,fo=0,yo=0,vo=0,go=0,mo={point:gt,lineStart:mt,lineEnd:xt,polygonStart:function(){mo.lineStart=wt,mo.lineEnd=Pt},polygonEnd:function(){mo.point=gt,mo.lineStart=mt,mo.lineEnd=xt},result:function(){var t=go?[yo/go,vo/go]:fo?[lo/fo,co/fo]:po?[uo/po,ho/po]:[NaN,NaN];return uo=ho=po=lo=co=fo=yo=vo=go=0,t}};Mt.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,We)}},result:s};var bo,_o,xo,wo,Po,So=se(),Co={point:s,lineStart:function(){Co.point=Tt},lineEnd:function(){bo&&At(_o,xo),Co.point=s},polygonStart:function(){bo=!0},polygonEnd:function(){bo=null},result:function(){var t=+So;return So.reset(),t}};Et.prototype={_radius:4.5,_circle:It(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=It(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Mo=function(t,e){function n(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),hn(t,o(i))),i.result()}var o,i,r=4.5;return n.area=function(t){return hn(t,o(no)),no.result()},n.measure=function(t){return hn(t,o(Co)),Co.result()},n.bounds=function(t){return hn(t,o(so)),so.result()},n.centroid=function(t){return hn(t,o(mo)),mo.result()},n.projection=function(e){return arguments.length?(o=null==e?(t=null,Qn):(t=e).stream,n):t},n.context=function(t){return arguments.length?(i=null==t?(e=null,new Et):new Mt(e=t),"function"!=typeof r&&i.pointRadius(r),n):e},n.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),n):r},n.projection(t).context(e)},To=function(t,n,o,i){return function(r,a){function s(e,n){var o=r(e,n);t(e=o[0],n=o[1])&&a.point(e,n)}function u(t,e){var n=r(t,e);g.point(n[0],n[1])}function h(){w.point=u,g.lineStart()}function p(){w.point=s,g.lineEnd()}function l(t,e){v.push([t,e]);var n=r(t,e);_.point(n[0],n[1])}function c(){_.lineStart(),v=[]}function f(){l(v[0][0],v[0][1]),_.lineEnd();var t,e,n,o,i=_.clean(),r=b.result(),s=r.length;if(v.pop(),d.push(v),v=null,s)if(1&i){if(n=r[0],(e=n.length-1)>0){for(x||(a.polygonStart(),x=!0),a.lineStart(),t=0;t<e;++t)a.point((o=n[t])[0],o[1]);a.lineEnd()}}else s>1&&2&i&&r.push(r.pop().concat(r.shift())),y.push(r.filter(Lt))}var d,y,v,g=n(a),m=r.invert(i[0],i[1]),b=kn(),_=n(b),x=!1,w={point:s,lineStart:h,lineEnd:p,polygonStart:function(){w.point=l,w.lineStart=c,w.lineEnd=f,y=[],d=[]},polygonEnd:function(){w.point=s,w.lineStart=h,w.lineEnd=p,y=e.merge(y);var t=Un(d,m);y.length?(x||(a.polygonStart(),x=!0),Fn(y,Nt,t,o,a)):t&&(x||(a.polygonStart(),x=!0),a.lineStart(),o(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),y=d=null},sphere:function(){a.polygonStart(),a.lineStart(),o(null,null,1,a),a.lineEnd(),a.polygonEnd()}};return w}},Ao=To(function(){return!0},Ot,Rt,[-Ue,-Ye]),Eo=function(t,e){function n(n,o,i,r){q(r,t,e,i,n,o)}function o(t,e){return Ze(t)*Ze(e)>s}function i(t){var e,n,i,s,p;return{lineStart:function(){s=i=!1,p=1},point:function(l,c){var f,d=[l,c],y=o(l,c),v=u?y?0:a(l,c):y?a(l+(l<0?Ue:-Ue),c):0;if(!e&&(s=i=y)&&t.lineStart(),y!==i&&(f=r(e,d),(!f||Dn(e,f)||Dn(d,f))&&(d[0]+=Be,d[1]+=Be,y=o(d[0],d[1]))),y!==i)p=0,y?(t.lineStart(),f=r(d,e),t.point(f[0],f[1])):(f=r(e,d),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(h&&e&&u^y){var g;v&n||!(g=r(d,e,!0))||(p=0,u?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!y||e&&Dn(e,d)||t.point(d[0],d[1]),e=d,i=y,n=v},lineEnd:function(){i&&t.lineEnd(),e=null},clean:function(){return p|(s&&i)<<1}}}function r(t,e,n){var o=v(t),i=v(e),r=[1,0,0],a=m(o,i),u=g(a,a),h=a[0],p=u-h*h;if(!p)return!n&&t;var l=s*u/p,c=-s*h/p,f=m(r,a),d=_(r,l),x=_(a,c);b(d,x);var w=f,P=g(d,w),S=g(w,w),C=P*P-S*(g(d,d)-1);if(!(C<0)){var M=rn(C),T=_(w,(-P-M)/S);if(b(T,d),T=y(T),!n)return T;var A,E=t[0],I=e[0],L=t[1],N=e[1];I<E&&(A=E,E=I,I=A);var O=I-E,k=He(O-Ue)<Be,R=k||O<Be;if(!k&&N<L&&(A=L,L=N,N=A),R?k?L+N>0^T[1]<(He(T[0]-E)<Be?L:N):L<=T[1]&&T[1]<=N:O>Ue^(E<=T[0]&&T[0]<=I)){var D=_(w,(-P+M)/S);return b(D,d),[T,y(D)]}}}function a(e,n){var o=u?t:Ue-t,i=0;return e<-o?i|=1:e>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}var s=Ze(t),u=s>0,h=He(s)>Be;return To(o,i,n,u?[0,-t]:[-Ue,t-Ue])},Io=function(t){return{stream:Dt(t)}};Ft.prototype={constructor:Ft,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Lo=16,No=Ze(30*qe),Oo=function(t,e){return+e?Xt(t,e):Bt(t)},ko=Dt({point:function(t,e){this.stream.point(t*qe,e*qe)}}),Ro=function(){return Gt(zt).scale(155.424).center([0,33.6442])},Do=function(){return Ro().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},Fo=function(){function t(t){var e=t[0],n=t[1];return s=null,i.point(e,n),s||(r.point(e,n),s)||(a.point(e,n),s)}function e(){return n=o=null,t}var n,o,i,r,a,s,u=Do(),h=Ro().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=Ro().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){s=[t,e]}};return t.invert=function(t){var e=u.scale(),n=u.translate(),o=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&o>=-.425&&o<-.214?h:i>=.166&&i<.234&&o>=-.214&&o<-.115?p:u).invert(t)},t.stream=function(t){return n&&o===t?n:n=qt([u.stream(o=t),h.stream(t),p.stream(t)])},t.precision=function(t){return arguments.length?(u.precision(t),h.precision(t),p.precision(t),e()):u.precision()},t.scale=function(e){return arguments.length?(u.scale(e),h.scale(.35*e),p.scale(e),t.translate(u.translate())):u.scale()},t.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),o=+t[0],s=+t[1];return i=u.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(l),r=h.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+Be,s+.12*n+Be],[o-.214*n-Be,s+.234*n-Be]]).stream(l),a=p.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+Be,s+.166*n+Be],[o-.115*n-Be,s+.234*n-Be]]).stream(l),e()},t.fitExtent=function(e,n){return jt(t,e,n)},t.fitSize=function(e,n){return Kt(t,e,n)},t.scale(1070)},jo=Ht(function(t){return rn(2/(1+t))});jo.invert=Vt(function(t){return 2*r(t/2)});var Ko=function(){return Ut(jo).scale(124.75).clipAngle(179.999)},Bo=Ht(function(t){return(t=i(t))&&t/nn(t)});Bo.invert=Vt(function(t){return t});var Xo=function(){return Ut(Bo).scale(79.4188).clipAngle(179.999)};$t.invert=function(t,e){return[t,2*Ve(Qe(e))-Ye]};var Uo=function(){return Zt($t).scale(961/We)},Yo=function(){return Gt(Qt).scale(109.5).parallels([30,30])};te.invert=te;var Go=function(){return Ut(te).scale(152.63)},Wo=function(){return Gt(ee).scale(131.154).center([0,13.9389])};ne.invert=Vt(Ve);var zo=function(){return Ut(ne).scale(144.049).clipAngle(60)},qo=function(){function t(){return i=r=null,a}var e,n,o,i,r,a,s=1,u=0,h=0,p=1,l=1,c=Qn,f=null,d=Qn;return a={stream:function(t){return i&&r===t?i:i=c(d(r=t))},clipExtent:function(i){return arguments.length?(d=null==i?(f=e=n=o=null,Qn):Z(f=+i[0][0],e=+i[0][1],n=+i[1][0],o=+i[1][1]),t()):null==f?null:[[f,e],[n,o]]},scale:function(e){return arguments.length?(c=oe((s=+e)*p,s*l,u,h),t()):s},translate:function(e){return arguments.length?(c=oe(s*p,s*l,u=+e[0],h=+e[1]),t()):[u,h]},reflectX:function(e){return arguments.length?(c=oe(s*(p=e?-1:1),s*l,u,h),t()):p<0},reflectY:function(e){return arguments.length?(c=oe(s*p,s*(l=e?-1:1),u,h),t()):l<0},fitExtent:function(t,e){return jt(a,t,e)},fitSize:function(t,e){return Kt(a,t,e)}}};ie.invert=Vt(r);var Ho=function(){return Ut(ie).scale(249.5).clipAngle(90+Be)};re.invert=Vt(function(t){return 2*Ve(t)});var Vo=function(){return Ut(re).scale(250).clipAngle(142)};ae.invert=function(t,e){return[-e,2*Ve(Qe(t))-Ye]};var $o=function(){var t=Zt(ae),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};t.geoArea=fn,t.geoBounds=vn,t.geoCentroid=mn,t.geoCircle=On,t.geoClipExtent=Bn,t.geoContains=Zn,t.geoDistance=Hn,t.geoGraticule=pt,t.geoGraticule10=lt,t.geoInterpolate=Jn,t.geoLength=Wn,t.geoPath=Mo,t.geoAlbers=Do,t.geoAlbersUsa=Fo,t.geoAzimuthalEqualArea=Ko,t.geoAzimuthalEqualAreaRaw=jo,t.geoAzimuthalEquidistant=Xo,t.geoAzimuthalEquidistantRaw=Bo,t.geoConicConformal=Yo,t.geoConicConformalRaw=Qt,t.geoConicEqualArea=Ro,t.geoConicEqualAreaRaw=zt,t.geoConicEquidistant=Wo,t.geoConicEquidistantRaw=ee,t.geoEquirectangular=Go,t.geoEquirectangularRaw=te,t.geoGnomonic=zo,t.geoGnomonicRaw=ne,t.geoIdentity=qo,t.geoProjection=Ut,t.geoProjectionMutator=Yt,t.geoMercator=Uo,t.geoMercatorRaw=$t,t.geoOrthographic=Ho,t.geoOrthographicRaw=ie,t.geoStereographic=Vo,t.geoStereographicRaw=re,t.geoTransverseMercator=$o,t.geoTransverseMercatorRaw=ae,t.geoRotation=Nn,t.geoStream=hn,t.geoTransform=Io,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,e){return t.parent===e.parent?1:2}function n(t){return t.reduce(o,0)/t.length}function o(t,e){return t+e.x}function i(t){return 1+t.reduce(r,0)}function r(t,e){return Math.max(t,e.y)}function a(t){for(var e;e=t.children;)t=e[0];return t}function s(t){for(var e;e=t.children;)t=e[e.length-1];return t}function u(t){var e=0,n=t.children,o=n&&n.length;if(o)for(;--o>=0;)e+=n[o].value;else e=1;t.value=e}function h(t,e){if(t===e)return t;var n=t.ancestors(),o=e.ancestors(),i=null;for(t=n.pop(),e=o.pop();t===e;)i=t,t=n.pop(),e=o.pop();return i}function p(t,e){var n,o,i,r,a,s=new y(t),u=+t.value&&(s.value=t.value),h=[s];for(null==e&&(e=c);n=h.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),r=a-1;r>=0;--r)h.push(o=n.children[r]=new y(i[r])),o.parent=n,o.depth=n.depth+1;return s.eachBefore(d)}function l(){return p(this).eachBefore(f)}function c(t){return t.children}function f(t){t.data=t.data.data}function d(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function y(t){this.data=t,this.depth=this.height=0,this.parent=null}function v(t){for(var e,n,o=t.length;o;)n=Math.random()*o--|0,e=t[o],t[o]=t[n],t[n]=e;return t}function g(t,e){var n,o;if(_(e,t))return[e];for(n=0;n<t.length;++n)if(m(e,t[n])&&_(P(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(o=n+1;o<t.length;++o)if(m(P(t[n],t[o]),e)&&m(P(t[n],e),t[o])&&m(P(t[o],e),t[n])&&_(S(t[n],t[o],e),t))return[t[n],t[o],e];throw new Error}function m(t,e){var n=t.r-e.r,o=e.x-t.x,i=e.y-t.y;return n<0||n*n<o*o+i*i}function b(t,e){var n=t.r-e.r+1e-6,o=e.x-t.x,i=e.y-t.y;return n>0&&n*n>o*o+i*i}function _(t,e){for(var n=0;n<e.length;++n)if(!b(t,e[n]))return!1;return!0}function x(t){switch(t.length){case 1:return w(t[0]);case 2:return P(t[0],t[1]);case 3:return S(t[0],t[1],t[2])}}function w(t){return{x:t.x,y:t.y,r:t.r}}function P(t,e){var n=t.x,o=t.y,i=t.r,r=e.x,a=e.y,s=e.r,u=r-n,h=a-o,p=s-i,l=Math.sqrt(u*u+h*h);return{x:(n+r+u/l*p)/2,y:(o+a+h/l*p)/2,r:(l+i+s)/2}}function S(t,e,n){var o=t.x,i=t.y,r=t.r,a=e.x,s=e.y,u=e.r,h=n.x,p=n.y,l=n.r,c=o-a,f=o-h,d=i-s,y=i-p,v=u-r,g=l-r,m=o*o+i*i-r*r,b=m-a*a-s*s+u*u,_=m-h*h-p*p+l*l,x=f*d-c*y,w=(d*_-y*b)/(2*x)-o,P=(y*v-d*g)/x,S=(f*b-c*_)/(2*x)-i,C=(c*g-f*v)/x,M=P*P+C*C-1,T=2*(r+w*P+S*C),A=w*w+S*S-r*r,E=-(M?(T+Math.sqrt(T*T-4*M*A))/(2*M):A/T);return{x:o+w+P*E,y:i+S+C*E,r:E}}function C(t,e,n){var o=t.x,i=t.y,r=e.r+n.r,a=t.r+n.r,s=e.x-o,u=e.y-i,h=s*s+u*u;if(h){var p=.5+((a*=a)-(r*=r))/(2*h),l=Math.sqrt(Math.max(0,2*r*(a+h)-(a-=h)*a-r*r))/(2*h);n.x=o+p*s+l*u,n.y=i+p*u-l*s}else n.x=o+a,n.y=i}function M(t,e){var n=e.x-t.x,o=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+o*o}function T(t){var e=t._,n=t.next._,o=e.r+n.r,i=(e.x*n.r+n.x*e.r)/o,r=(e.y*n.r+n.y*e.r)/o;return i*i+r*r}function A(t){this._=t,this.next=null,this.previous=null}function E(t){if(!(i=t.length))return 0;var e,n,o,i,r,a,s,u,h,p,l;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;C(n,e,o=t[2]),e=new A(e),n=new A(n),o=new A(o),e.next=o.previous=n,n.next=e.previous=o,o.next=n.previous=e;t:for(s=3;s<i;++s){C(e._,n._,o=t[s]),o=new A(o),u=n.next,h=e.previous,p=n._.r,l=e._.r;do if(p<=l){if(M(u._,o._)){n=u,e.next=n,n.previous=e,--s;continue t}p+=u._.r,u=u.next}else{if(M(h._,o._)){e=h,e.next=n,n.previous=e,--s;continue t}l+=h._.r,h=h.previous}while(u!==h.next);for(o.previous=e,o.next=n,e.next=n.previous=n=o,r=T(e);(o=o.next)!==n;)(a=T(o))<r&&(e=o,r=a);n=e.next}for(e=[n._],o=n;(o=o.next)!==n;)e.push(o._);for(o=st(e),s=0;s<i;++s)e=t[s],e.x-=o.x,e.y-=o.y;return o.r}function I(t){return null==t?null:L(t)}function L(t){if("function"!=typeof t)throw new Error;return t}function N(){return 0}function O(t){return Math.sqrt(t.value)}function k(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function R(t,e){return function(n){if(o=n.children){var o,i,r,a=o.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)o[i].r+=s;if(r=E(o),s)for(i=0;i<a;++i)o[i].r-=s;n.r=r+s}}}function D(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function F(t){return t.id}function j(t){return t.parentId}function K(t,e){return t.parent===e.parent?1:2}function B(t){var e=t.children;return e?e[0]:t.t}function X(t){var e=t.children;return e?e[e.length-1]:t.t}function U(t,e,n){var o=n/(e.i-t.i);e.c-=o,e.s+=n,t.c+=o,e.z+=n,e.m+=n}function Y(t){for(var e,n=0,o=0,i=t.children,r=i.length;--r>=0;)e=i[r],e.z+=n,e.m+=n,n+=e.s+(o+=e.c)}function G(t,e,n){return t.a.parent===e.parent?t.a:n}function W(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function z(t){for(var e,n,o,i,r,a=new W(t,0),s=[a];e=s.pop();)if(o=e._.children)for(e.children=new Array(r=o.length),i=r-1;i>=0;--i)s.push(n=e.children[i]=new W(o[i],i)),n.parent=e;return(a.parent=new W(null,0)).children=[a],a}function q(t,e,n,o,i,r){for(var a,s,u,h,p,l,c,f,d,y,v,g=[],m=e.children,b=0,_=0,x=m.length,w=e.value;b<x;){u=i-n,h=r-o;do p=m[_++].value;while(!p&&_<x);for(l=c=p,y=Math.max(h/u,u/h)/(w*t),v=p*p*y,d=Math.max(c/v,v/l);_<x;++_){if(p+=s=m[_].value,s<l&&(l=s),s>c&&(c=s),v=p*p*y,f=Math.max(c/v,v/l),f>d){p-=s;break}d=f}g.push(a={value:p,dice:u<h,children:m.slice(b,_)}),a.dice?ct(a,n,o,i,w?o+=h*p/w:r):bt(a,n,o,w?n+=u*p/w:i,r),w-=p,b=_}return g}var H=function(){function t(t){var e,p=0;t.eachAfter(function(t){var r=t.children;r?(t.x=n(r),t.y=i(r)):(t.x=e?p+=o(t,e):0,t.y=0,e=t)});var l=a(t),c=s(t),f=l.x-o(l,c)/2,d=c.x+o(c,l)/2;return t.eachAfter(h?function(e){e.x=(e.x-t.x)*r,e.y=(t.y-e.y)*u}:function(e){e.x=(e.x-f)/(d-f)*r,e.y=(1-(t.y?e.y/t.y:1))*u})}var o=e,r=1,u=1,h=!1;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(h=!1,r=+e[0],u=+e[1],t):h?null:[r,u]},t.nodeSize=function(e){return arguments.length?(h=!0,r=+e[0],u=+e[1],t):h?[r,u]:null},t},V=function(){return this.eachAfter(u)},$=function(t){var e,n,o,i,r=this,a=[r];do for(e=a.reverse(),a=[];r=e.pop();)if(t(r),n=r.children)for(o=0,i=n.length;o<i;++o)a.push(n[o]);while(a.length);return this},Z=function(t){for(var e,n,o=this,i=[o];o=i.pop();)if(t(o),e=o.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},J=function(t){for(var e,n,o,i=this,r=[i],a=[];i=r.pop();)if(a.push(i),e=i.children)for(n=0,o=e.length;n<o;++n)r.push(e[n]);for(;i=a.pop();)t(i);return this},Q=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,o=e.children,i=o&&o.length;--i>=0;)n+=o[i].value;e.value=n})},tt=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},et=function(t){for(var e=this,n=h(e,t),o=[e];e!==n;)e=e.parent,o.push(e);for(var i=o.length;t!==n;)o.splice(i,0,t),t=t.parent;return o},nt=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},ot=function(){var t=[];return this.each(function(e){t.push(e)}),t},it=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},rt=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e};y.prototype=p.prototype={constructor:y,count:V,each:$,eachAfter:J,eachBefore:Z,sum:Q,sort:tt,path:et,ancestors:nt,descendants:ot,leaves:it,links:rt,copy:l};var at=Array.prototype.slice,st=function(t){for(var e,n,o=0,i=(t=v(at.call(t))).length,r=[];o<i;)e=t[o],n&&b(n,e)?++o:(n=x(r=g(r,e)),o=0);return n},ut=function(t){return E(t),t},ht=function(t){return function(){return t}},pt=function(){function t(t){return t.x=n/2,t.y=o/2,e?t.eachBefore(k(e)).eachAfter(R(i,.5)).eachBefore(D(1)):t.eachBefore(k(O)).eachAfter(R(N,1)).eachAfter(R(i,t.r/Math.min(n,o))).eachBefore(D(Math.min(n,o)/(2*t.r))),t}var e=null,n=1,o=1,i=N;return t.radius=function(n){return arguments.length?(e=I(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],o=+e[1],t):[n,o]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:ht(+e),t):i},t},lt=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},ct=function(t,e,n,o,i){for(var r,a=t.children,s=-1,u=a.length,h=t.value&&(o-e)/t.value;++s<u;)r=a[s],r.y0=n,r.y1=i,r.x0=e,r.x1=e+=r.value*h},ft=function(){function t(t){var a=t.height+1;return t.x0=t.y0=i,t.x1=n,t.y1=o/a,t.eachBefore(e(o,a)),r&&t.eachBefore(lt),t}function e(t,e){return function(n){n.children&&ct(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var o=n.x0,r=n.y0,a=n.x1-i,s=n.y1-i;a<o&&(o=a=(o+a)/2),s<r&&(r=s=(r+s)/2),n.x0=o,n.y0=r,n.x1=a,n.y1=s}}var n=1,o=1,i=0,r=!1;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(n=+e[0],o=+e[1],t):[n,o]},t.padding=function(e){return arguments.length?(i=+e,t):i},t},dt="$",yt={depth:-1},vt={},gt=function(){function t(t){var o,i,r,a,s,u,h,p=t.length,l=new Array(p),c={};for(i=0;i<p;++i)o=t[i],s=l[i]=new y(o),null!=(u=e(o,i,t))&&(u+="")&&(h=dt+(s.id=u),c[h]=h in c?vt:s);for(i=0;i<p;++i)if(s=l[i],u=n(t[i],i,t),null!=u&&(u+="")){if(a=c[dt+u],!a)throw new Error("missing: "+u);if(a===vt)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(r)throw new Error("multiple roots");r=s}if(!r)throw new Error("no root");if(r.parent=yt,r.eachBefore(function(t){t.depth=t.parent.depth+1,--p}).eachBefore(d),r.parent=null,p>0)throw new Error("cycle");return r}var e=F,n=j;return t.id=function(n){return arguments.length?(e=L(n),t):e},t.parentId=function(e){return arguments.length?(n=L(e),t):n},t};W.prototype=Object.create(y.prototype);var mt=function(){function t(t){var o=z(t);if(o.eachAfter(e),o.parent.m=-o.z,o.eachBefore(n),u)t.eachBefore(i);else{var h=t,p=t,l=t;t.eachBefore(function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>l.depth&&(l=t)});var c=h===p?1:r(h,p)/2,f=c-h.x,d=a/(p.x+c+f),y=s/(l.depth||1);t.eachBefore(function(t){t.x=(t.x+f)*d,t.y=t.depth*y})}return t}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){Y(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+r(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+r(t._,i._));t.parent.A=o(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var o,i=t,a=t,s=e,u=i.parent.children[0],h=i.m,p=a.m,l=s.m,c=u.m;s=X(s),i=B(i),s&&i;)u=B(u),a=X(a),a.a=t,o=s.z+l-i.z-h+r(s._,i._),o>0&&(U(G(s,t,n),t,o),h+=o,p+=o),l+=s.m,h+=i.m,c+=u.m,p+=a.m;s&&!X(a)&&(a.t=s,a.m+=l-p),i&&!B(u)&&(u.t=i,u.m+=h-c,n=t)}return n}function i(t){t.x*=a,t.y=t.depth*s}var r=K,a=1,s=1,u=null;return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(u=!1,a=+e[0],s=+e[1],t):u?null:[a,s]},t.nodeSize=function(e){return arguments.length?(u=!0,a=+e[0],s=+e[1],t):u?[a,s]:null},t},bt=function(t,e,n,o,i){for(var r,a=t.children,s=-1,u=a.length,h=t.value&&(i-n)/t.value;++s<u;)r=a[s],r.x0=e,r.x1=o,r.y0=n,r.y1=n+=r.value*h},_t=(1+Math.sqrt(5))/2,xt=function t(e){function n(t,n,o,i,r){q(e,t,n,o,i,r)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(_t),wt=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=r,t.eachBefore(e),a=[0],o&&t.eachBefore(lt),t}function e(t){var e=a[t.depth],o=t.x0+e,i=t.y0+e,r=t.x1-e,c=t.y1-e;r<o&&(o=r=(o+r)/2),c<i&&(i=c=(i+c)/2),t.x0=o,t.y0=i,t.x1=r,t.y1=c,t.children&&(e=a[t.depth+1]=s(t)/2,o+=l(t)-e,i+=u(t)-e,r-=h(t)-e,c-=p(t)-e,r<o&&(o=r=(o+r)/2),c<i&&(i=c=(i+c)/2),n(t,o,i,r,c))}var n=xt,o=!1,i=1,r=1,a=[0],s=N,u=N,h=N,p=N,l=N;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(i=+e[0],r=+e[1],t):[i,r]},t.tile=function(e){return arguments.length?(n=L(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:ht(+e),t):s},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:ht(+e),t):u},t.paddingRight=function(e){return arguments.length?(h="function"==typeof e?e:ht(+e),t):h},t.paddingBottom=function(e){return arguments.length?(p="function"==typeof e?e:ht(+e),t):p},t.paddingLeft=function(e){return arguments.length?(l="function"==typeof e?e:ht(+e),t):l},t},Pt=function(t,e,n,o,i){function r(t,e,n,o,i,a,s){if(t>=e-1){var h=u[t];return h.x0=o,h.y0=i,h.x1=a,h.y1=s,void 0}for(var l=p[t],c=n/2+l,f=t+1,d=e-1;f<d;){var y=f+d>>>1;p[y]<c?f=y+1:d=y}c-p[f-1]<p[f]-c&&t+1<f&&--f;var v=p[f]-l,g=n-v;if(a-o>s-i){var m=(o*g+a*v)/n;r(t,f,v,o,i,m,s),r(f,e,g,m,i,a,s)}else{var b=(i*g+s*v)/n;r(t,f,v,o,i,a,b),r(f,e,g,o,b,a,s)}}var a,s,u=t.children,h=u.length,p=new Array(h+1);for(p[0]=s=a=0;a<h;++a)p[a+1]=s+=u[a].value;r(0,h,t.value,e,n,o,i)},St=function(t,e,n,o,i){(1&t.depth?bt:ct)(t,e,n,o,i)},Ct=function t(e){function n(t,n,o,i,r){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,h,p,l=-1,c=a.length,f=t.value;++l<c;){for(s=a[l],u=s.children,h=s.value=0,p=u.length;h<p;++h)s.value+=u[h].value;s.dice?ct(s,n,o,i,o+=(r-o)*s.value/f):bt(s,n,o,n+=(i-n)*s.value/f,r),f-=s.value}else t._squarify=a=q(e,t,n,o,i,r),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(_t);t.cluster=H,t.hierarchy=p,t.pack=pt,t.packSiblings=ut,t.packEnclose=st,t.partition=ft,t.stratify=gt,t.tree=mt,t.treemap=wt,t.treemapBinary=Pt,t.treemapDice=ct,t.treemapSlice=bt,t.treemapSliceDice=St,t.treemapSquarify=xt,t.treemapResquarify=Ct,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,e){return t[0]-e[0]||t[1]-e[1]}function n(t){for(var e=t.length,n=[0,1],o=2,i=2;i<e;++i){for(;o>1&&r(t[n[o-2]],t[n[o-1]],t[i])<=0;)--o;n[o++]=i}return n.slice(0,o)}var o=function(t){for(var e,n=-1,o=t.length,i=t[o-1],r=0;++n<o;)e=i,i=t[n],r+=e[1]*i[0]-e[0]*i[1];return r/2},i=function(t){for(var e,n,o=-1,i=t.length,r=0,a=0,s=t[i-1],u=0;++o<i;)e=s,s=t[o],u+=n=e[0]*s[1]-s[0]*e[1],r+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return u*=3,[r/u,a/u]},r=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])},a=function(t){if((i=t.length)<3)return null;var o,i,r=new Array(i),a=new Array(i);for(o=0;o<i;++o)r[o]=[+t[o][0],+t[o][1],o];for(r.sort(e),o=0;o<i;++o)a[o]=[r[o][0],-r[o][1]];var s=n(r),u=n(a),h=u[0]===s[0],p=u[u.length-1]===s[s.length-1],l=[];for(o=s.length-1;o>=0;--o)l.push(t[r[s[o]][2]]);for(o=+h;o<u.length-p;++o)l.push(t[r[u[o]][2]]);return l},s=function(t,e){for(var n,o,i=t.length,r=t[i-1],a=e[0],s=e[1],u=r[0],h=r[1],p=!1,l=0;l<i;++l)r=t[l],n=r[0],o=r[1],o>s!=h>s&&a<(u-n)*(s-o)/(h-o)+n&&(p=!p),u=n,h=o;return p},u=function(t){for(var e,n,o=-1,i=t.length,r=t[i-1],a=r[0],s=r[1],u=0;++o<i;)e=a,n=s,r=t[o],a=r[0],s=r[1],e-=a,n-=s,u+=Math.sqrt(e*e+n*n);return u};t.polygonArea=o,t.polygonCentroid=i,t.polygonHull=a,t.polygonContains=s,t.polygonLength=u,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function n(t){if(!t._start)try{o(t)}catch(e){if(t._tasks[t._ended+t._active-1])r(t,e);else if(!t._data)throw e}}function o(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],o=n.length-1,r=n[o];n[o]=i(t,e),--t._waiting,++t._active,n=r.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||h)}}function i(t,e){return function(o,i){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=o?r(t,o):(t._data[e]=i,t._waiting?n(t):a(t))))}}function r(t,e){var n,o=t._tasks.length;for(t._error=e,
t._data=void 0,t._waiting=NaN;--o>=0;)if((n=t._tasks[o])&&(t._tasks[o]=null,n.abort))try{n.abort()}catch(t){}t._active=NaN,a(t)}function a(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function s(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new e(t)}var u=[].slice,h={};e.prototype=s.prototype={constructor:e,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=u.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),n(this),this},abort:function(){return null==this._error&&r(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},a(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,a(this),this}},t.queue=s,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";var e=function(){return Math.random()},n=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(e),o=function t(e){function n(t,n){var o,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var r;if(null!=o)r=o,o=null;else do o=2*e()-1,r=2*e()-1,i=o*o+r*r;while(!i||i>1);return t+n*r*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(e),i=function t(e){function n(){var t=o.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(e),r=function t(e){function n(t){return function(){for(var n=0,o=0;o<t;++o)n+=e();return n}}return n.source=t,n}(e),a=function t(e){function n(t){var n=r.source(e)(t);return function(){return n()/t}}return n.source=t,n}(e),s=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(e);t.randomUniform=n,t.randomNormal=o,t.randomLogNormal=i,t.randomBates=a,t.randomIrwinHall=r,t.randomExponential=s,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){"use strict";function o(t){return function(e,n){t(null==e?n:null)}}function i(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function r(t,e){return function(n){return t(n.responseText,e)}}var a=n(257).XMLHttpRequest;Object.defineProperty(e,"__esModule",{value:!0});var s=n(44),u=n(20),h=n(91),p=function(t,e){function n(t){var e,n=d.status;if(!n&&i(d)||n>=200&&n<300||304===n){if(p)try{e=p.call(r,d)}catch(t){return void c.call("error",r,t)}else e=d;c.call("load",r,e)}else c.call("error",r,t)}var r,h,p,l,c=u.dispatch("beforesend","progress","load","error"),f=s.map(),d=new a,y=null,v=null,g=0;if("undefined"==typeof XDomainRequest||"withCredentials"in d||!/^(http(s)?:)?\/\//.test(t)||(d=new XDomainRequest),"onload"in d?d.onload=d.onerror=d.ontimeout=n:d.onreadystatechange=function(t){d.readyState>3&&n(t)},d.onprogress=function(t){c.call("progress",r,t)},r={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?f.get(t):(null==e?f.remove(t):f.set(t,e+""),r)},mimeType:function(t){return arguments.length?(h=null==t?null:t+"",r):h},responseType:function(t){return arguments.length?(l=t,r):l},timeout:function(t){return arguments.length?(g=+t,r):g},user:function(t){return arguments.length<1?y:(y=null==t?null:t+"",r)},password:function(t){return arguments.length<1?v:(v=null==t?null:t+"",r)},response:function(t){return p=t,r},get:function(t,e){return r.send("GET",t,e)},post:function(t,e){return r.send("POST",t,e)},send:function(e,n,i){return d.open(e,t,!0,y,v),null==h||f.has("accept")||f.set("accept",h+",*/*"),d.setRequestHeader&&f.each(function(t,e){d.setRequestHeader(e,t)}),null!=h&&d.overrideMimeType&&d.overrideMimeType(h),null!=l&&(d.responseType=l),g>0&&(d.timeout=g),null==i&&"function"==typeof n&&(i=n,n=null),null!=i&&1===i.length&&(i=o(i)),null!=i&&r.on("error",i).on("load",function(t){i(null,t)}),c.call("beforesend",r,d),d.send(null==n?null:n),r},abort:function(){return d.abort(),r},on:function(){var t=c.on.apply(c,arguments);return t===c?r:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return r.get(e)}return r},l=function(t,e){return function(n,o){var i=p(n).mimeType(t).response(e);if(null!=o){if("function"!=typeof o)throw new Error("invalid callback: "+o);return i.get(o)}return i}},c=l("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),f=l("application/json",function(t){return JSON.parse(t.responseText)}),d=l("text/plain",function(t){return t.responseText}),y=l("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),v=function(t,e){return function(n,o,i){arguments.length<3&&(i=o,o=null);var a=p(n).mimeType(t);return a.row=function(t){return arguments.length?a.response(r(e,o=t)):o},a.row(o),i?a.get(i):a}},g=v("text/csv",h.csvParse),m=v("text/tab-separated-values",h.tsvParse);e.request=p,e.html=c,e.json=f,e.text=d,e.xml=y,e.csv=g,e.tsv=m},function(t,e,n){!function(t,o){o(e,n(43),n(44),n(30),n(93),n(70),n(95),n(45))}(this,function(t,e,n,o,i,r,a,s){"use strict";function u(t){function e(e){var n=e+"",a=o.get(n);if(!a){if(r!==Y)return r;o.set(n,a=i.push(e))}return t[(a-1)%t.length]}var o=n.map(),i=[],r=Y;return t=null==t?[]:U.call(t),e.domain=function(t){if(!arguments.length)return i.slice();i=[],o=n.map();for(var r,a,s=-1,u=t.length;++s<u;)o.has(a=(r=t[s])+"")||o.set(a,i.push(r));return e},e.range=function(n){return arguments.length?(t=U.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(r=t,e):r},e.copy=function(){return u().domain(i).range(t).unknown(r)},e}function h(){function t(){var t=r().length,i=s[1]<s[0],u=s[i-0],h=s[1-i];n=(h-u)/Math.max(1,t-l+2*c),p&&(n=Math.floor(n)),u+=(h-u-n*(t-l))*f,o=n*(1-l),p&&(u=Math.round(u),o=Math.round(o));var d=e.range(t).map(function(t){return u+n*t});return a(i?d.reverse():d)}var n,o,i=u().unknown(void 0),r=i.domain,a=i.range,s=[0,1],p=!1,l=0,c=0,f=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(r(e),t()):r()},i.range=function(e){return arguments.length?(s=[+e[0],+e[1]],t()):s.slice()},i.rangeRound=function(e){return s=[+e[0],+e[1]],p=!0,t()},i.bandwidth=function(){return o},i.step=function(){return n},i.round=function(e){return arguments.length?(p=!!e,t()):p},i.padding=function(e){return arguments.length?(l=c=Math.max(0,Math.min(1,e)),t()):l},i.paddingInner=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),t()):l},i.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),t()):c},i.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),t()):f},i.copy=function(){return h().domain(r()).range(s).round(p).paddingInner(l).paddingOuter(c).align(f)},t()}function p(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return p(e())},t}function l(){return p(h().paddingInner(1))}function c(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:G(e)}function f(t){return function(e,n){var o=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:o(t)}}}function d(t){return function(e,n){var o=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:o(t)}}}function y(t,e,n,o){var i=t[0],r=t[1],a=e[0],s=e[1];return r<i?(i=n(r,i),a=o(s,a)):(i=n(i,r),a=o(a,s)),function(t){return a(i(t))}}function v(t,n,o,i){var r=Math.min(t.length,n.length)-1,a=new Array(r),s=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)a[u]=o(t[u],t[u+1]),s[u]=i(n[u],n[u+1]);return function(n){var o=e.bisect(t,n,1,r)-1;return s[o](a[o](n))}}function g(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function m(t,e){function n(){return r=Math.min(u.length,h.length)>2?v:y,a=s=null,i}function i(e){return(a||(a=r(u,h,l?f(t):t,p)))(+e)}var r,a,s,u=z,h=z,p=o.interpolate,l=!1;return i.invert=function(t){return(s||(s=r(h,u,c,l?d(e):e)))(+t)},i.domain=function(t){return arguments.length?(u=X.call(t,W),n()):u.slice()},i.range=function(t){return arguments.length?(h=U.call(t),n()):h.slice()},i.rangeRound=function(t){return h=U.call(t),p=o.interpolateRound,n()},i.clamp=function(t){return arguments.length?(l=!!t,n()):l},i.interpolate=function(t){return arguments.length?(p=t,n()):p},n()}function b(t){var n=t.domain;return t.ticks=function(t){var o=n();return e.ticks(o[0],o[o.length-1],null==t?10:t)},t.tickFormat=function(t,e){return q(n(),t,e)},t.nice=function(o){null==o&&(o=10);var i,r=n(),a=0,s=r.length-1,u=r[a],h=r[s];return h<u&&(i=u,u=h,h=i,i=a,a=s,s=i),i=e.tickIncrement(u,h,o),i>0?(u=Math.floor(u/i)*i,h=Math.ceil(h/i)*i,i=e.tickIncrement(u,h,o)):i<0&&(u=Math.ceil(u*i)/i,h=Math.floor(h*i)/i,i=e.tickIncrement(u,h,o)),i>0?(r[a]=Math.floor(u/i)*i,r[s]=Math.ceil(h/i)*i,n(r)):i<0&&(r[a]=Math.ceil(u*i)/i,r[s]=Math.floor(h*i)/i,n(r)),t},t}function _(){var t=m(c,o.interpolateNumber);return t.copy=function(){return g(t,_())},b(t)}function x(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=X.call(n,W),t):e.slice()},t.copy=function(){return x().domain(e)},b(t)}function w(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:G(e)}function P(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function S(t){return isFinite(t)?+("1e"+t):t<0?0:t}function C(t){return 10===t?S:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function M(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function T(t){return function(e){return-t(-e)}}function A(){function t(){return a=M(r),s=C(r),o()[0]<0&&(a=T(a),s=T(s)),n}var n=m(w,P).domain([1,10]),o=n.domain,r=10,a=M(10),s=C(10);return n.base=function(e){return arguments.length?(r=+e,t()):r},n.domain=function(e){return arguments.length?(o(e),t()):o()},n.ticks=function(t){var n,i=o(),u=i[0],h=i[i.length-1];(n=h<u)&&(f=u,u=h,h=f);var p,l,c,f=a(u),d=a(h),y=null==t?10:+t,v=[];if(!(r%1)&&d-f<y){if(f=Math.round(f)-1,d=Math.round(d)+1,u>0){for(;f<d;++f)for(l=1,p=s(f);l<r;++l)if(c=p*l,!(c<u)){if(c>h)break;v.push(c)}}else for(;f<d;++f)for(l=r-1,p=s(f);l>=1;--l)if(c=p*l,!(c<u)){if(c>h)break;v.push(c)}}else v=e.ticks(f,d,Math.min(d-f,y)).map(s);return n?v.reverse():v},n.tickFormat=function(t,e){if(null==e&&(e=10===r?".0e":","),"function"!=typeof e&&(e=i.format(e)),t===1/0)return e;null==t&&(t=10);var o=Math.max(1,r*t/n.ticks().length);return function(t){var n=t/s(Math.round(a(t)));return n*r<r-.5&&(n*=r),n<=o?e(t):""}},n.nice=function(){return o(H(o(),{floor:function(t){return s(Math.floor(a(t)))},ceil:function(t){return s(Math.ceil(a(t)))}}))},n.copy=function(){return g(n,A().base(r))},n}function E(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function I(){function t(t,e){return(e=E(e,n)-(t=E(t,n)))?function(o){return(E(o,n)-t)/e}:G(e)}function e(t,e){return e=E(e,n)-(t=E(t,n)),function(o){return E(t+e*o,1/n)}}var n=1,o=m(t,e),i=o.domain;return o.exponent=function(t){return arguments.length?(n=+t,i(i())):n},o.copy=function(){return g(o,I().exponent(n))},b(o)}function L(){return I().exponent(.5)}function N(){function t(){var t=0,a=Math.max(1,i.length);for(r=new Array(a-1);++t<a;)r[t-1]=e.quantile(o,t/a);return n}function n(t){if(!isNaN(t=+t))return i[e.bisect(r,t)]}var o=[],i=[],r=[];return n.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[e>0?r[e-1]:o[0],e<r.length?r[e]:o[o.length-1]]},n.domain=function(n){if(!arguments.length)return o.slice();o=[];for(var i,r=0,a=n.length;r<a;++r)i=n[r],null==i||isNaN(i=+i)||o.push(i);return o.sort(e.ascending),t()},n.range=function(e){return arguments.length?(i=U.call(e),t()):i.slice()},n.quantiles=function(){return r.slice()},n.copy=function(){return N().domain(o).range(i)},n}function O(){function t(t){if(t<=t)return s[e.bisect(a,t,0,r)]}function n(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*i-(e-r)*o)/(r+1);return t}var o=0,i=1,r=1,a=[.5],s=[0,1];return t.domain=function(t){return arguments.length?(o=+t[0],i=+t[1],n()):[o,i]},t.range=function(t){return arguments.length?(r=(s=U.call(t)).length-1,n()):s.slice()},t.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[o,a[0]]:e>=r?[a[r-1],i]:[a[e-1],a[e]]},t.copy=function(){return O().domain([o,i]).range(s)},b(t)}function k(){function t(t){if(t<=t)return o[e.bisect(n,t,0,i)]}var n=[.5],o=[0,1],i=1;return t.domain=function(e){return arguments.length?(n=U.call(e),i=Math.min(n.length,o.length-1),t):n.slice()},t.range=function(e){return arguments.length?(o=U.call(e),i=Math.min(n.length,o.length-1),t):o.slice()},t.invertExtent=function(t){var e=o.indexOf(t);return[n[e-1],n[e]]},t.copy=function(){return k().domain(n).range(o)},t}function R(t){return new Date(t)}function D(t){return t instanceof Date?+t:+new Date(+t)}function F(t,n,i,r,a,s,u,h,p){function l(e){return(u(e)<e?b:s(e)<e?_:a(e)<e?x:r(e)<e?w:n(e)<e?i(e)<e?P:S:t(e)<e?C:M)(e)}function f(n,o,i,r){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-o)/n,s=e.bisector(function(t){return t[2]}).right(T,a);s===T.length?(r=e.tickStep(o/et,i/et,n),n=t):s?(s=T[a/T[s-1][2]<T[s][2]/a?s-1:s],r=s[1],n=s[0]):(r=e.tickStep(o,i,n),n=h)}return null==r?n:n.every(r)}var d=m(c,o.interpolateNumber),y=d.invert,v=d.domain,b=p(".%L"),_=p(":%S"),x=p("%I:%M"),w=p("%I %p"),P=p("%a %d"),S=p("%b %d"),C=p("%B"),M=p("%Y"),T=[[u,1,V],[u,5,5*V],[u,15,15*V],[u,30,30*V],[s,1,$],[s,5,5*$],[s,15,15*$],[s,30,30*$],[a,1,Z],[a,3,3*Z],[a,6,6*Z],[a,12,12*Z],[r,1,J],[r,2,2*J],[i,1,Q],[n,1,tt],[n,3,3*tt],[t,1,et]];return d.invert=function(t){return new Date(y(t))},d.domain=function(t){return arguments.length?v(X.call(t,D)):v().map(R)},d.ticks=function(t,e){var n,o=v(),i=o[0],r=o[o.length-1],a=r<i;return a&&(n=i,i=r,r=n),n=f(t,i,r,e),n=n?n.range(i,r+1):[],a?n.reverse():n},d.tickFormat=function(t,e){return null==e?l:p(e)},d.nice=function(t,e){var n=v();return(t=f(t,n[0],n[n.length-1],e))?v(H(n,t)):d},d.copy=function(){return g(d,F(t,n,i,r,a,s,u,h,p))},d}function j(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function K(t){function e(e){var r=(e-n)/(o-n);return t(i?Math.max(0,Math.min(1,r)):r)}var n=0,o=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],o=+t[1],e):[n,o]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return K(t).domain([n,o]).clamp(i)},b(e)}var B=Array.prototype,X=B.map,U=B.slice,Y={name:"implicit"},G=function(t){return function(){return t}},W=function(t){return+t},z=[0,1],q=function(t,n,o){var r,a=t[0],s=t[t.length-1],u=e.tickStep(a,s,null==n?10:n);switch(o=i.formatSpecifier(null==o?",f":o),o.type){case"s":var h=Math.max(Math.abs(a),Math.abs(s));return null!=o.precision||isNaN(r=i.precisionPrefix(u,h))||(o.precision=r),i.formatPrefix(o,h);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(r=i.precisionRound(u,Math.max(Math.abs(a),Math.abs(s))))||(o.precision=r-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(r=i.precisionFixed(u))||(o.precision=r-2*("%"===o.type))}return i.format(o)},H=function(t,e){t=t.slice();var n,o=0,i=t.length-1,r=t[o],a=t[i];return a<r&&(n=o,o=i,i=n,n=r,r=a,a=n),t[o]=e.floor(r),t[i]=e.ceil(a),t},V=1e3,$=60*V,Z=60*$,J=24*Z,Q=7*J,tt=30*J,et=365*J,nt=function(){return F(r.timeYear,r.timeMonth,r.timeWeek,r.timeDay,r.timeHour,r.timeMinute,r.timeSecond,r.timeMillisecond,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},ot=function(){return F(r.utcYear,r.utcMonth,r.utcWeek,r.utcDay,r.utcHour,r.utcMinute,r.utcSecond,r.utcMillisecond,a.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},it=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},rt=it("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),at=it("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),st=it("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),ut=it("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ht=o.interpolateCubehelixLong(s.cubehelix(300,.5,0),s.cubehelix(-240,.5,1)),pt=o.interpolateCubehelixLong(s.cubehelix(-100,.75,.35),s.cubehelix(80,1.5,.8)),lt=o.interpolateCubehelixLong(s.cubehelix(260,.75,.35),s.cubehelix(80,1.5,.8)),ct=s.cubehelix(),ft=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ct.h=360*t-100,ct.s=1.5-1.5*e,ct.l=.8-.9*e,ct+""},dt=j(it("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),yt=j(it("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),vt=j(it("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),gt=j(it("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.scaleBand=h,t.scalePoint=l,t.scaleIdentity=x,t.scaleLinear=_,t.scaleLog=A,t.scaleOrdinal=u,t.scaleImplicit=Y,t.scalePow=I,t.scaleSqrt=L,t.scaleQuantile=N,t.scaleQuantize=O,t.scaleThreshold=k,t.scaleTime=nt,t.scaleUtc=ot,t.schemeCategory10=rt,t.schemeCategory20b=at,t.schemeCategory20c=st,t.schemeCategory20=ut,t.interpolateCubehelixDefault=ht,t.interpolateRainbow=ft,t.interpolateWarm=pt,t.interpolateCool=lt,t.interpolateViridis=dt,t.interpolateMagma=yt,t.interpolateInferno=vt,t.interpolatePlasma=gt,t.scaleSequential=K,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,o){o(e,n(69))}(this,function(t,e){"use strict";function n(t){return t>1?0:t<-1?lt:Math.acos(t)}function o(t){return t>=1?ct:t<=-1?-ct:Math.asin(t)}function i(t){return t.innerRadius}function r(t){return t.outerRadius}function a(t){return t.startAngle}function s(t){return t.endAngle}function u(t){return t&&t.padAngle}function h(t,e,n,o,i,r,a,s){var u=n-t,h=o-e,p=a-i,l=s-r,c=(p*(e-r)-l*(t-i))/(l*u-p*h);return[t+c*u,e+c*h]}function p(t,e,n,o,i,r,a){var s=t-n,u=e-o,h=(a?r:-r)/ht(s*s+u*u),p=h*u,l=-h*s,c=t+p,f=e+l,d=n+p,y=o+l,v=(c+d)/2,g=(f+y)/2,m=d-c,b=y-f,_=m*m+b*b,x=i-r,w=c*y-d*f,P=(b<0?-1:1)*ht(at(0,x*x*_-w*w)),S=(w*b-m*P)/_,C=(-w*m-b*P)/_,M=(w*b+m*P)/_,T=(-w*m+b*P)/_,A=S-v,E=C-g,I=M-v,L=T-g;return A*A+E*E>I*I+L*L&&(S=M,C=T),{cx:S,cy:C,x01:-p,y01:-l,x11:S*(i/x-1),y11:C*(i/x-1)}}function l(t){this._context=t}function c(t){return t[0]}function f(t){return t[1]}function d(t){this._curve=t}function y(t){function e(e){return new d(t(e))}return e._curve=t,e}function v(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(y(t)):e()._curve},t}function g(t){return t.source}function m(t){return t.target}function b(t){function n(){var n,u=Ct.call(arguments),h=o.apply(this,u),p=i.apply(this,u);if(s||(s=n=e.path()),t(s,+r.apply(this,(u[0]=h,u)),+a.apply(this,u),+r.apply(this,(u[0]=p,u)),+a.apply(this,u)),n)return s=null,n+""||null}var o=g,i=m,r=c,a=f,s=null;return n.source=function(t){return arguments.length?(o=t,n):o},n.target=function(t){return arguments.length?(i=t,n):i},n.x=function(t){return arguments.length?(r="function"==typeof t?t:nt(+t),n):r},n.y=function(t){return arguments.length?(a="function"==typeof t?t:nt(+t),n):a},n.context=function(t){return arguments.length?(s=null==t?null:t,n):s},n}function _(t,e,n,o,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+o)/2,n,e,i,o,i)}function x(t,e,n,o,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,o,n,o,i)}function w(t,e,n,o,i){var r=St(e,n),a=St(e,n=(n+i)/2),s=St(o,n),u=St(o,i);t.moveTo(r[0],r[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function P(){return b(_)}function S(){return b(x)}function C(){var t=b(w);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function M(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function T(t){this._context=t}function A(t){this._context=t}function E(t){this._context=t}function I(t,e){this._basis=new T(t),this._beta=e}function L(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function N(t,e){this._context=t,this._k=(1-e)/6}function O(t,e){this._context=t,this._k=(1-e)/6}function k(t,e){this._context=t,this._k=(1-e)/6}function R(t,e,n){var o=t._x1,i=t._y1,r=t._x2,a=t._y2;if(t._l01_a>pt){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);o=(o*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>pt){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);r=(r*h+t._x1*t._l23_2a-e*t._l12_2a)/p,a=(a*h+t._y1*t._l23_2a-n*t._l12_2a)/p}t._context.bezierCurveTo(o,i,r,a,t._x2,t._y2)}function D(t,e){this._context=t,this._alpha=e}function F(t,e){this._context=t,this._alpha=e}function j(t,e){this._context=t,this._alpha=e}function K(t){this._context=t}function B(t){return t<0?-1:1}function X(t,e,n){var o=t._x1-t._x0,i=e-t._x1,r=(t._y1-t._y0)/(o||i<0&&-0),a=(n-t._y1)/(i||o<0&&-0),s=(r*i+a*o)/(o+i);return(B(r)+B(a))*Math.min(Math.abs(r),Math.abs(a),.5*Math.abs(s))||0}function U(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Y(t,e,n){var o=t._x0,i=t._y0,r=t._x1,a=t._y1,s=(r-o)/3;t._context.bezierCurveTo(o+s,i+s*e,r-s,a-s*n,r,a)}function G(t){this._context=t}function W(t){this._context=new z(t)}function z(t){this._context=t}function q(t){return new G(t)}function H(t){return new W(t)}function V(t){this._context=t}function $(t){var e,n,o=t.length-1,i=new Array(o),r=new Array(o),a=new Array(o);for(i[0]=0,r[0]=2,a[0]=t[0]+2*t[1],e=1;e<o-1;++e)i[e]=1,r[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[o-1]=2,r[o-1]=7,a[o-1]=8*t[o-1]+t[o],e=1;e<o;++e)n=i[e]/r[e-1],r[e]-=n,a[e]-=n*a[e-1];for(i[o-1]=a[o-1]/r[o-1],e=o-2;e>=0;--e)i[e]=(a[e]-i[e+1])/r[e];for(r[o-1]=(t[o]+i[o-1])/2,e=0;e<o-1;++e)r[e]=2*t[e+1]-i[e+1];return[i,r]}function Z(t,e){this._context=t,this._t=e}function J(t){return new Z(t,0)}function Q(t){return new Z(t,1)}function tt(t,e){return t[e]}function et(t){for(var e,n=0,o=-1,i=t.length;++o<i;)(e=+t[o][1])&&(n+=e);return n}var nt=function(t){return function(){return t}},ot=Math.abs,it=Math.atan2,rt=Math.cos,at=Math.max,st=Math.min,ut=Math.sin,ht=Math.sqrt,pt=1e-12,lt=Math.PI,ct=lt/2,ft=2*lt,dt=function(){function t(){var t,i,r=+l.apply(this,arguments),a=+c.apply(this,arguments),s=y.apply(this,arguments)-ct,u=v.apply(this,arguments)-ct,b=ot(u-s),_=u>s;if(m||(m=t=e.path()),a<r&&(i=a,a=r,r=i),a>pt)if(b>ft-pt)m.moveTo(a*rt(s),a*ut(s)),m.arc(0,0,a,s,u,!_),r>pt&&(m.moveTo(r*rt(u),r*ut(u)),m.arc(0,0,r,u,s,_));else{var x,w,P=s,S=u,C=s,M=u,T=b,A=b,E=g.apply(this,arguments)/2,I=E>pt&&(d?+d.apply(this,arguments):ht(r*r+a*a)),L=st(ot(a-r)/2,+f.apply(this,arguments)),N=L,O=L;if(I>pt){var k=o(I/r*ut(E)),R=o(I/a*ut(E));(T-=2*k)>pt?(k*=_?1:-1,C+=k,M-=k):(T=0,C=M=(s+u)/2),(A-=2*R)>pt?(R*=_?1:-1,P+=R,S-=R):(A=0,P=S=(s+u)/2)}var D=a*rt(P),F=a*ut(P),j=r*rt(M),K=r*ut(M);if(L>pt){var B=a*rt(S),X=a*ut(S),U=r*rt(C),Y=r*ut(C);if(b<lt){var G=T>pt?h(D,F,U,Y,B,X,j,K):[j,K],W=D-G[0],z=F-G[1],q=B-G[0],H=X-G[1],V=1/ut(n((W*q+z*H)/(ht(W*W+z*z)*ht(q*q+H*H)))/2),$=ht(G[0]*G[0]+G[1]*G[1]);N=st(L,(r-$)/(V-1)),O=st(L,(a-$)/(V+1))}}A>pt?O>pt?(x=p(U,Y,D,F,a,O,_),w=p(B,X,j,K,a,O,_),m.moveTo(x.cx+x.x01,x.cy+x.y01),O<L?m.arc(x.cx,x.cy,O,it(x.y01,x.x01),it(w.y01,w.x01),!_):(m.arc(x.cx,x.cy,O,it(x.y01,x.x01),it(x.y11,x.x11),!_),m.arc(0,0,a,it(x.cy+x.y11,x.cx+x.x11),it(w.cy+w.y11,w.cx+w.x11),!_),m.arc(w.cx,w.cy,O,it(w.y11,w.x11),it(w.y01,w.x01),!_))):(m.moveTo(D,F),m.arc(0,0,a,P,S,!_)):m.moveTo(D,F),r>pt&&T>pt?N>pt?(x=p(j,K,B,X,r,-N,_),w=p(D,F,U,Y,r,-N,_),m.lineTo(x.cx+x.x01,x.cy+x.y01),N<L?m.arc(x.cx,x.cy,N,it(x.y01,x.x01),it(w.y01,w.x01),!_):(m.arc(x.cx,x.cy,N,it(x.y01,x.x01),it(x.y11,x.x11),!_),m.arc(0,0,r,it(x.cy+x.y11,x.cx+x.x11),it(w.cy+w.y11,w.cx+w.x11),_),m.arc(w.cx,w.cy,N,it(w.y11,w.x11),it(w.y01,w.x01),!_))):m.arc(0,0,r,M,C,_):m.lineTo(j,K)}else m.moveTo(0,0);if(m.closePath(),t)return m=null,t+""||null}var l=i,c=r,f=nt(0),d=null,y=a,v=s,g=u,m=null;return t.centroid=function(){var t=(+l.apply(this,arguments)+ +c.apply(this,arguments))/2,e=(+y.apply(this,arguments)+ +v.apply(this,arguments))/2-lt/2;return[rt(e)*t,ut(e)*t]},t.innerRadius=function(e){return arguments.length?(l="function"==typeof e?e:nt(+e),t):l},t.outerRadius=function(e){return arguments.length?(c="function"==typeof e?e:nt(+e),t):c},t.cornerRadius=function(e){return arguments.length?(f="function"==typeof e?e:nt(+e),t):f},t.padRadius=function(e){return arguments.length?(d=null==e?null:"function"==typeof e?e:nt(+e),t):d},t.startAngle=function(e){return arguments.length?(y="function"==typeof e?e:nt(+e),t):y},t.endAngle=function(e){return arguments.length?(v="function"==typeof e?e:nt(+e),t):v},t.padAngle=function(e){return arguments.length?(g="function"==typeof e?e:nt(+e),t):g},t.context=function(e){return arguments.length?(m=null==e?null:e,t):m},t};l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var yt=function(t){return new l(t)},vt=function(){function t(t){var u,h,p,l=t.length,c=!1;for(null==r&&(s=a(p=e.path())),u=0;u<=l;++u)!(u<l&&i(h=t[u],u,t))===c&&((c=!c)?s.lineStart():s.lineEnd()),c&&s.point(+n(h,u,t),+o(h,u,t));if(p)return s=null,p+""||null}var n=c,o=f,i=nt(!0),r=null,a=yt,s=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:nt(+e),t):n},t.y=function(e){return arguments.length?(o="function"==typeof e?e:nt(+e),t):o},t.defined=function(e){return arguments.length?(i="function"==typeof e?e:nt(!!e),
t):i},t.curve=function(e){return arguments.length?(a=e,null!=r&&(s=a(r)),t):a},t.context=function(e){return arguments.length?(null==e?r=s=null:s=a(r=e),t):r},t},gt=function(){function t(t){var n,l,c,f,d,y=t.length,v=!1,g=new Array(y),m=new Array(y);for(null==u&&(p=h(d=e.path())),n=0;n<=y;++n){if(!(n<y&&s(f=t[n],n,t))===v)if(v=!v)l=n,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),c=n-1;c>=l;--c)p.point(g[c],m[c]);p.lineEnd(),p.areaEnd()}v&&(g[n]=+o(f,n,t),m[n]=+r(f,n,t),p.point(i?+i(f,n,t):g[n],a?+a(f,n,t):m[n]))}if(d)return p=null,d+""||null}function n(){return vt().defined(s).curve(h).context(u)}var o=c,i=null,r=nt(0),a=f,s=nt(!0),u=null,h=yt,p=null;return t.x=function(e){return arguments.length?(o="function"==typeof e?e:nt(+e),i=null,t):o},t.x0=function(e){return arguments.length?(o="function"==typeof e?e:nt(+e),t):o},t.x1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:nt(+e),t):i},t.y=function(e){return arguments.length?(r="function"==typeof e?e:nt(+e),a=null,t):r},t.y0=function(e){return arguments.length?(r="function"==typeof e?e:nt(+e),t):r},t.y1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:nt(+e),t):a},t.lineX0=t.lineY0=function(){return n().x(o).y(r)},t.lineY1=function(){return n().x(o).y(a)},t.lineX1=function(){return n().x(i).y(r)},t.defined=function(e){return arguments.length?(s="function"==typeof e?e:nt(!!e),t):s},t.curve=function(e){return arguments.length?(h=e,null!=u&&(p=h(u)),t):h},t.context=function(e){return arguments.length?(null==e?u=p=null:p=h(u=e),t):u},t},mt=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},bt=function(t){return t},_t=function(){function t(t){var s,u,h,p,l,c=t.length,f=0,d=new Array(c),y=new Array(c),v=+i.apply(this,arguments),g=Math.min(ft,Math.max(-ft,r.apply(this,arguments)-v)),m=Math.min(Math.abs(g)/c,a.apply(this,arguments)),b=m*(g<0?-1:1);for(s=0;s<c;++s)(l=y[d[s]=s]=+e(t[s],s,t))>0&&(f+=l);for(null!=n?d.sort(function(t,e){return n(y[t],y[e])}):null!=o&&d.sort(function(e,n){return o(t[e],t[n])}),s=0,h=f?(g-c*b)/f:0;s<c;++s,v=p)u=d[s],l=y[u],p=v+(l>0?l*h:0)+b,y[u]={data:t[u],index:s,value:l,startAngle:v,endAngle:p,padAngle:m};return y}var e=bt,n=mt,o=null,i=nt(0),r=nt(ft),a=nt(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:nt(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,o=null,t):n},t.sort=function(e){return arguments.length?(o=e,n=null,t):o},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:nt(+e),t):i},t.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:nt(+e),t):r},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:nt(+e),t):a},t},xt=y(yt);d.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var wt=function(){return v(vt().curve(xt))},Pt=function(){var t=gt().curve(xt),e=t.curve,n=t.lineX0,o=t.lineX1,i=t.lineY0,r=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return v(n())},delete t.lineX0,t.lineEndAngle=function(){return v(o())},delete t.lineX1,t.lineInnerRadius=function(){return v(i())},delete t.lineY0,t.lineOuterRadius=function(){return v(r())},delete t.lineY1,t.curve=function(t){return arguments.length?e(y(t)):e()._curve},t},St=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},Ct=Array.prototype.slice,Mt={draw:function(t,e){var n=Math.sqrt(e/lt);t.moveTo(n,0),t.arc(0,0,n,0,ft)}},Tt={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},At=Math.sqrt(1/3),Et=2*At,It={draw:function(t,e){var n=Math.sqrt(e/Et),o=n*At;t.moveTo(0,-n),t.lineTo(o,0),t.lineTo(0,n),t.lineTo(-o,0),t.closePath()}},Lt=.8908130915292852,Nt=Math.sin(lt/10)/Math.sin(7*lt/10),Ot=Math.sin(ft/10)*Nt,kt=-Math.cos(ft/10)*Nt,Rt={draw:function(t,e){var n=Math.sqrt(e*Lt),o=Ot*n,i=kt*n;t.moveTo(0,-n),t.lineTo(o,i);for(var r=1;r<5;++r){var a=ft*r/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*o-u*i,u*o+s*i)}t.closePath()}},Dt={draw:function(t,e){var n=Math.sqrt(e),o=-n/2;t.rect(o,o,n,n)}},Ft=Math.sqrt(3),jt={draw:function(t,e){var n=-Math.sqrt(e/(3*Ft));t.moveTo(0,2*n),t.lineTo(-Ft*n,-n),t.lineTo(Ft*n,-n),t.closePath()}},Kt=-.5,Bt=Math.sqrt(3)/2,Xt=1/Math.sqrt(12),Ut=3*(Xt/2+1),Yt={draw:function(t,e){var n=Math.sqrt(e/Ut),o=n/2,i=n*Xt,r=o,a=n*Xt+n,s=-r,u=a;t.moveTo(o,i),t.lineTo(r,a),t.lineTo(s,u),t.lineTo(Kt*o-Bt*i,Bt*o+Kt*i),t.lineTo(Kt*r-Bt*a,Bt*r+Kt*a),t.lineTo(Kt*s-Bt*u,Bt*s+Kt*u),t.lineTo(Kt*o+Bt*i,Kt*i-Bt*o),t.lineTo(Kt*r+Bt*a,Kt*a-Bt*r),t.lineTo(Kt*s+Bt*u,Kt*u-Bt*s),t.closePath()}},Gt=[Mt,Tt,It,Dt,Rt,jt,Yt],Wt=function(){function t(){var t;if(i||(i=t=e.path()),n.apply(this,arguments).draw(i,+o.apply(this,arguments)),t)return i=null,t+""||null}var n=nt(Mt),o=nt(64),i=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:nt(e),t):n},t.size=function(e){return arguments.length?(o="function"==typeof e?e:nt(+e),t):o},t.context=function(e){return arguments.length?(i=null==e?null:e,t):i},t},zt=function(){};T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:M(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:M(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var qt=function(t){return new T(t)};A.prototype={areaStart:zt,areaEnd:zt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:M(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Ht=function(t){return new A(t)};E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,o=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,o):this._context.moveTo(n,o);break;case 3:this._point=4;default:M(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Vt=function(t){return new E(t)};I.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var o,i=t[0],r=e[0],a=t[n]-i,s=e[n]-r,u=-1;++u<=n;)o=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+o*a),this._beta*e[u]+(1-this._beta)*(r+o*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var $t=function t(e){function n(t){return 1===e?new T(t):new I(t,e)}return n.beta=function(e){return t(+e)},n}(.85);N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:L(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:L(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Zt=function t(e){function n(t){return new N(t,e)}return n.tension=function(e){return t(+e)},n}(0);O.prototype={areaStart:zt,areaEnd:zt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:L(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Jt=function t(e){function n(t){return new O(t,e)}return n.tension=function(e){return t(+e)},n}(0);k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:L(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Qt=function t(e){function n(t){return new k(t,e)}return n.tension=function(e){return t(+e)},n}(0);D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:R(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var te=function t(e){function n(t){return e?new D(t,e):new N(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);F.prototype={areaStart:zt,areaEnd:zt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:R(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ee=function t(e){function n(t){return e?new F(t,e):new O(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+o*o,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:R(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ne=function t(e){function n(t){return e?new j(t,e):new k(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);K.prototype={areaStart:zt,areaEnd:zt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var oe=function(t){return new K(t)};G.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Y(this,this._t0,U(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Y(this,U(this,n=X(this,t,e)),n);break;default:Y(this,this._t0,n=X(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(W.prototype=Object.create(G.prototype)).point=function(t,e){G.prototype.point.call(this,e,t)},z.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,o,i,r){this._context.bezierCurveTo(e,t,o,n,r,i)}},V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var o=$(t),i=$(e),r=0,a=1;a<n;++r,++a)this._context.bezierCurveTo(o[0][r],i[0][r],o[1][r],i[1][r],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ie=function(t){return new V(t)};Z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var re=function(t){return new Z(t,.5)},ae=function(t,e){if((i=t.length)>1)for(var n,o,i,r=1,a=t[e[0]],s=a.length;r<i;++r)for(o=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(o[n][1])?o[n][0]:o[n][1]},se=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},ue=function(){function t(t){var r,a,s=e.apply(this,arguments),u=t.length,h=s.length,p=new Array(h);for(r=0;r<h;++r){for(var l,c=s[r],f=p[r]=new Array(u),d=0;d<u;++d)f[d]=l=[0,+i(t[d],c,d,t)],l.data=t[d];f.key=c}for(r=0,a=n(p);r<h;++r)p[a[r]].index=r;return o(p,a),p}var e=nt([]),n=se,o=ae,i=tt;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:nt(Ct.call(n)),t):e},t.value=function(e){return arguments.length?(i="function"==typeof e?e:nt(+e),t):i},t.order=function(e){return arguments.length?(n=null==e?se:"function"==typeof e?e:nt(Ct.call(e)),t):n},t.offset=function(e){return arguments.length?(o=null==e?ae:e,t):o},t},he=function(t,e){if((o=t.length)>0){for(var n,o,i,r=0,a=t[0].length;r<a;++r){for(i=n=0;n<o;++n)i+=t[n][r][1]||0;if(i)for(n=0;n<o;++n)t[n][r][1]/=i}ae(t,e)}},pe=function(t,e){if((s=t.length)>1)for(var n,o,i,r,a,s,u=0,h=t[e[0]].length;u<h;++u)for(r=a=0,n=0;n<s;++n)(i=(o=t[e[n]][u])[1]-o[0])>=0?(o[0]=r,o[1]=r+=i):i<0?(o[1]=a,o[0]=a+=i):o[0]=r},le=function(t,e){if((n=t.length)>0){for(var n,o=0,i=t[e[0]],r=i.length;o<r;++o){for(var a=0,s=0;a<n;++a)s+=t[a][o][1]||0;i[o][1]+=i[o][0]=-s/2}ae(t,e)}},ce=function(t,e){if((i=t.length)>0&&(o=(n=t[e[0]]).length)>0){for(var n,o,i,r=0,a=1;a<o;++a){for(var s=0,u=0,h=0;s<i;++s){for(var p=t[e[s]],l=p[a][1]||0,c=p[a-1][1]||0,f=(l-c)/2,d=0;d<s;++d){var y=t[e[d]],v=y[a][1]||0,g=y[a-1][1]||0;f+=v-g}u+=l,h+=f*l}n[a-1][1]+=n[a-1][0]=r,u&&(r-=h/u)}n[a-1][1]+=n[a-1][0]=r,ae(t,e)}},fe=function(t){var e=t.map(et);return se(t).sort(function(t,n){return e[t]-e[n]})},de=function(t){return fe(t).reverse()},ye=function(t){var e,n,o=t.length,i=t.map(et),r=se(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],h=[];for(e=0;e<o;++e)n=r[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],h.push(n));return h.reverse().concat(u)},ve=function(t){return se(t).reverse()};t.arc=dt,t.area=gt,t.line=vt,t.pie=_t,t.areaRadial=Pt,t.radialArea=Pt,t.lineRadial=wt,t.radialLine=wt,t.pointRadial=St,t.linkHorizontal=P,t.linkVertical=S,t.linkRadial=C,t.symbol=Wt,t.symbols=Gt,t.symbolCircle=Mt,t.symbolCross=Tt,t.symbolDiamond=It,t.symbolSquare=Dt,t.symbolStar=Rt,t.symbolTriangle=jt,t.symbolWye=Yt,t.curveBasisClosed=Ht,t.curveBasisOpen=Vt,t.curveBasis=qt,t.curveBundle=$t,t.curveCardinalClosed=Jt,t.curveCardinalOpen=Qt,t.curveCardinal=Zt,t.curveCatmullRomClosed=ee,t.curveCatmullRomOpen=ne,t.curveCatmullRom=te,t.curveLinearClosed=oe,t.curveLinear=yt,t.curveMonotoneX=q,t.curveMonotoneY=H,t.curveNatural=ie,t.curveStep=re,t.curveStepAfter=Q,t.curveStepBefore=J,t.stack=ue,t.stackOffsetExpand=he,t.stackOffsetDiverging=pe,t.stackOffsetNone=ae,t.stackOffsetSilhouette=le,t.stackOffsetWiggle=ce,t.stackOrderAscending=fe,t.stackOrderDescending=de,t.stackOrderInsideOut=ye,t.stackOrderNone=se,t.stackOrderReverse=ve,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return t[0]}function n(t){return t[1]}function o(){this._=null}function i(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function r(t,e){var n=e,o=e.R,i=n.U;i?i.L===n?i.L=o:i.R=o:t._=o,o.U=i,n.U=o,n.R=o.L,n.R&&(n.R.U=n),o.L=n}function a(t,e){var n=e,o=e.L,i=n.U;i?i.L===n?i.L=o:i.R=o:t._=o,o.U=i,n.U=o,n.L=o.R,n.L&&(n.L.U=n),o.R=n}function s(t){for(;t.L;)t=t.L;return t}function u(t,e,n,o){var i=[null,null],r=j.push(i)-1;return i.left=t,i.right=e,n&&p(i,t,e,n),o&&p(i,e,t,o),D[t.index].halfedges.push(r),D[e.index].halfedges.push(r),i}function h(t,e,n){var o=[e,n];return o.left=t,o}function p(t,e,n,o){t[0]||t[1]?t.left===n?t[1]=o:t[0]=o:(t[0]=o,t.left=e,t.right=n)}function l(t,e,n,o,i){var r,a=t[0],s=t[1],u=a[0],h=a[1],p=s[0],l=s[1],c=0,f=1,d=p-u,y=l-h;if(r=e-u,d||!(r>0)){if(r/=d,d<0){if(r<c)return;r<f&&(f=r)}else if(d>0){if(r>f)return;r>c&&(c=r)}if(r=o-u,d||!(r<0)){if(r/=d,d<0){if(r>f)return;r>c&&(c=r)}else if(d>0){if(r<c)return;r<f&&(f=r)}if(r=n-h,y||!(r>0)){if(r/=y,y<0){if(r<c)return;r<f&&(f=r)}else if(y>0){if(r>f)return;r>c&&(c=r)}if(r=i-h,y||!(r<0)){if(r/=y,y<0){if(r>f)return;r>c&&(c=r)}else if(y>0){if(r<c)return;r<f&&(f=r)}return!(c>0||f<1)||(c>0&&(t[0]=[u+c*d,h+c*y]),f<1&&(t[1]=[u+f*d,h+f*y]),!0)}}}}}function c(t,e,n,o,i){var r=t[1];if(r)return!0;var a,s,u=t[0],h=t.left,p=t.right,l=h[0],c=h[1],f=p[0],d=p[1],y=(l+f)/2,v=(c+d)/2;if(d===c){if(y<e||y>=o)return;if(l>f){if(u){if(u[1]>=i)return}else u=[y,n];r=[y,i]}else{if(u){if(u[1]<n)return}else u=[y,i];r=[y,n]}}else if(a=(l-f)/(d-c),s=v-a*y,a<-1||a>1)if(l>f){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];r=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];r=[(n-s)/a,n]}else if(c<d){if(u){if(u[0]>=o)return}else u=[e,a*e+s];r=[o,a*o+s]}else{if(u){if(u[0]<e)return}else u=[o,a*o+s];r=[e,a*e+s]}return t[0]=u,t[1]=r,!0}function f(t,e,n,o){for(var i,r=j.length;r--;)c(i=j[r],t,e,n,o)&&l(i,t,e,n,o)&&(Math.abs(i[0][0]-i[1][0])>X||Math.abs(i[0][1]-i[1][1])>X)||delete j[r]}function d(t){return D[t.index]={site:t,halfedges:[]}}function y(t,e){var n=t.site,o=e.left,i=e.right;return n===i&&(i=o,o=n),i?Math.atan2(i[1]-o[1],i[0]-o[0]):(n===o?(o=e[1],i=e[0]):(o=e[0],i=e[1]),Math.atan2(o[0]-i[0],i[1]-o[1]))}function v(t,e){return e[+(e.left!==t.site)]}function g(t,e){return e[+(e.left===t.site)]}function m(){for(var t,e,n,o,i=0,r=D.length;i<r;++i)if((t=D[i])&&(o=(e=t.halfedges).length)){var a=new Array(o),s=new Array(o);for(n=0;n<o;++n)a[n]=n,s[n]=y(t,j[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<o;++n)s[n]=e[a[n]];for(n=0;n<o;++n)e[n]=s[n]}}function b(t,e,n,o){var i,r,a,s,u,p,l,c,f,d,y,m,b=D.length,_=!0;for(i=0;i<b;++i)if(r=D[i]){for(a=r.site,u=r.halfedges,s=u.length;s--;)j[u[s]]||u.splice(s,1);for(s=0,p=u.length;s<p;)d=g(r,j[u[s]]),y=d[0],m=d[1],l=v(r,j[u[++s%p]]),c=l[0],f=l[1],(Math.abs(y-c)>X||Math.abs(m-f)>X)&&(u.splice(s,0,j.push(h(a,d,Math.abs(y-t)<X&&o-m>X?[t,Math.abs(c-t)<X?f:o]:Math.abs(m-o)<X&&n-y>X?[Math.abs(f-o)<X?c:n,o]:Math.abs(y-n)<X&&m-e>X?[n,Math.abs(c-n)<X?f:e]:Math.abs(m-e)<X&&y-t>X?[Math.abs(f-e)<X?c:t,e]:null))-1),++p);p&&(_=!1)}if(_){var x,w,P,S=1/0;for(i=0,_=null;i<b;++i)(r=D[i])&&(a=r.site,x=a[0]-t,w=a[1]-e,P=x*x+w*w,P<S&&(S=P,_=r));if(_){var C=[t,e],M=[t,o],T=[n,o],A=[n,e];_.halfedges.push(j.push(h(a=_.site,C,M))-1,j.push(h(a,M,T))-1,j.push(h(a,T,A))-1,j.push(h(a,A,C))-1)}}for(i=0;i<b;++i)(r=D[i])&&(r.halfedges.length||delete D[i])}function _(){i(this),this.x=this.y=this.arc=this.site=this.cy=null}function x(t){var e=t.P,n=t.N;if(e&&n){var o=e.site,i=t.site,r=n.site;if(o!==r){var a=i[0],s=i[1],u=o[0]-a,h=o[1]-s,p=r[0]-a,l=r[1]-s,c=2*(u*l-h*p);if(!(c>=-U)){var f=u*u+h*h,d=p*p+l*l,y=(l*f-h*d)/c,v=(u*d-p*f)/c,g=K.pop()||new _;g.arc=t,g.site=i,g.x=y+a,g.y=(g.cy=v+s)+Math.sqrt(y*y+v*v),t.circle=g;for(var m=null,b=F._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}F.insert(m,g),m||(k=g)}}}}function w(t){var e=t.circle;e&&(e.P||(k=e.N),F.remove(e),K.push(e),i(e),t.circle=null)}function P(){i(this),this.edge=this.site=this.circle=null}function S(t){var e=B.pop()||new P;return e.site=t,e}function C(t){w(t),R.remove(t),B.push(t),i(t)}function M(t){var e=t.circle,n=e.x,o=e.cy,i=[n,o],r=t.P,a=t.N,s=[t];C(t);for(var h=r;h.circle&&Math.abs(n-h.circle.x)<X&&Math.abs(o-h.circle.cy)<X;)r=h.P,s.unshift(h),C(h),h=r;s.unshift(h),w(h);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<X&&Math.abs(o-l.circle.cy)<X;)a=l.N,s.push(l),C(l),l=a;s.push(l),w(l);var c,f=s.length;for(c=1;c<f;++c)l=s[c],h=s[c-1],p(l.edge,h.site,l.site,i);h=s[0],l=s[f-1],l.edge=u(h.site,l.site,null,i),x(h),x(l)}function T(t){for(var e,n,o,i,r=t[0],a=t[1],s=R._;s;)if(o=A(s,a)-r,o>X)s=s.L;else{if(i=r-E(s,a),!(i>X)){o>-X?(e=s.P,n=s):i>-X?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}d(t);var h=S(t);if(R.insert(e,h),e||n){if(e===n)return w(e),n=S(e.site),R.insert(h,n),h.edge=n.edge=u(e.site,h.site),x(e),void x(n);if(!n)return void(h.edge=u(e.site,h.site));w(e),w(n);var l=e.site,c=l[0],f=l[1],y=t[0]-c,v=t[1]-f,g=n.site,m=g[0]-c,b=g[1]-f,_=2*(y*b-v*m),P=y*y+v*v,C=m*m+b*b,M=[(b*P-v*C)/_+c,(y*C-m*P)/_+f];p(n.edge,l,g,M),h.edge=u(l,t,null,M),n.edge=u(t,g,null,M),x(e),x(n)}}function A(t,e){var n=t.site,o=n[0],i=n[1],r=i-e;if(!r)return o;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n[0],u=n[1],h=u-e;if(!h)return s;var p=s-o,l=1/r-1/h,c=p/h;return l?(-c+Math.sqrt(c*c-2*l*(p*p/(-2*h)-u+h/2+i-r/2)))/l+o:(o+s)/2}function E(t,e){var n=t.N;if(n)return A(n,e);var o=t.site;return o[1]===e?o[0]:1/0}function I(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function L(t,e){return e[1]-t[1]||e[0]-t[0]}function N(t,e){var n,i,r,a=t.sort(L).pop();for(j=[],D=new Array(t.length),R=new o,F=new o;;)if(r=k,a&&(!r||a[1]<r.y||a[1]===r.y&&a[0]<r.x))a[0]===n&&a[1]===i||(T(a),n=a[0],i=a[1]),a=t.pop();else{if(!r)break;M(r.arc)}if(m(),e){var s=+e[0][0],u=+e[0][1],h=+e[1][0],p=+e[1][1];f(s,u,h,p),b(s,u,h,p)}this.edges=j,this.cells=D,R=F=j=D=null}var O=function(t){return function(){return t}};o.prototype={constructor:o,insert:function(t,e){var n,o,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=s(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)o=n.U,n===o.L?(i=o.R,i&&i.C?(n.C=i.C=!1,o.C=!0,t=o):(t===n.R&&(r(this,n),t=n,n=t.U),n.C=!1,o.C=!0,a(this,o))):(i=o.L,i&&i.C?(n.C=i.C=!1,o.C=!0,t=o):(t===n.L&&(a(this,n),t=n,n=t.U),n.C=!1,o.C=!0,r(this,o))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,o,i=t.U,u=t.L,h=t.R;if(n=u?h?s(h):u:h,i?i.L===t?i.L=n:i.R=n:this._=n,u&&h?(o=n.C,n.C=t.C,n.L=u,u.U=n,n!==h?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=h,h.U=n):(n.U=i,i=n,t=n.R)):(o=t.C,t=n),t&&(t.U=i),!o){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,r(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,a(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,r(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,a(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,r(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,a(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var k,R,D,F,j,K=[],B=[],X=1e-6,U=1e-12;N.prototype={constructor:N,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return v(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,o){if(r=(i=n.halfedges).length)for(var i,r,a,s=n.site,u=-1,h=e[i[r-1]],p=h.left===s?h.right:h.left;++u<r;)a=p,h=e[i[u]],p=h.left===s?h.right:h.left,a&&p&&o<a.index&&o<p.index&&I(s,a,p)<0&&t.push([s.data,a.data,p.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var o,i,r=this,a=r._found||0,s=r.cells.length;!(i=r.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],h=e-i.site[1],p=u*u+h*h;do i=r.cells[o=a],a=null,i.halfedges.forEach(function(n){var o=r.edges[n],s=o.left;if(s!==i.site&&s||(s=o.right)){var u=t-s[0],h=e-s[1],l=u*u+h*h;l<p&&(p=l,a=s.index)}});while(null!==a);return r._found=o,null==n||p<=n*n?i.site:null}};var Y=function(){function t(t){return new N(t.map(function(e,n){var r=[Math.round(o(e,n,t)/X)*X,Math.round(i(e,n,t)/X)*X];return r.index=n,r.data=e,r}),r)}var o=e,i=n,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(e){return arguments.length?(o="function"==typeof e?e:O(+e),t):o},t.y=function(e){return arguments.length?(i="function"==typeof e?e:O(+e),t):i},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t};t.voronoi=Y,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,o){o(e,n(20),n(68),n(30),n(31),n(72))}(this,function(t,e,n,o,i,r){"use strict";function a(t,e,n){this.target=t,this.type=e,this.transform=n}function s(t,e,n){this.k=t,this.x=e,this.y=n}function u(t){return t.__zoom||v}function h(){i.event.stopImmediatePropagation()}function p(){return!i.event.button}function l(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function c(){return this.__zoom||v}function f(){return-i.event.deltaY*(i.event.deltaMode?120:1)/500}function d(){return"ontouchstart"in this}var y=function(t){return function(){return t}};s.prototype={constructor:s,scale:function(t){return 1===t?this:new s(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new s(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var v=new s(1,0,0);u.prototype=s.prototype;var g=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},m=function(){function t(t){t.property("__zoom",c).on("wheel.zoom",S).on("mousedown.zoom",C).on("dblclick.zoom",M).filter(d).on("touchstart.zoom",T).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(t,e){return e=Math.max(R,Math.min(D,e)),e===t.k?t:new s(e,t.x,t.y)}function m(t,e,n){var o=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return o===t.x&&i===t.y?t:new s(t.k,o,i)}function b(t,e){var n=t.invertX(e[0][0])-F,o=t.invertX(e[1][0])-j,i=t.invertY(e[0][1])-K,r=t.invertY(e[1][1])-B;return t.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r))}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=this,o=arguments,i=w(t,o),r=O.apply(t,o),a=n||_(r),u=Math.max(r[1][0]-r[0][0],r[1][1]-r[0][1]),h=t.__zoom,p="function"==typeof e?e.apply(t,o):e,l=U(h.invert(a).concat(u/h.k),p.invert(a).concat(u/p.k));return function(t){if(1===t)t=p;else{var e=l(t),n=u/e[2];t=new s(n,a[0]-e[0]*n,a[1]-e[1]*n)}i.zoom(null,t);
}})}function w(t,e){for(var n,o=0,i=Y.length;o<i;++o)if((n=Y[o]).that===t)return n;return new P(t,e)}function P(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=O.apply(t,e)}function S(){function t(){e.wheel=null,e.end()}if(N.apply(this,arguments)){var e=w(this,arguments),n=this.__zoom,o=Math.max(R,Math.min(D,n.k*Math.pow(2,k.apply(this,arguments)))),a=i.mouse(this);if(e.wheel)e.mouse[0][0]===a[0]&&e.mouse[0][1]===a[1]||(e.mouse[1]=n.invert(e.mouse[0]=a)),clearTimeout(e.wheel);else{if(n.k===o)return;e.mouse=[a,n.invert(a)],r.interrupt(this),e.start()}g(),e.wheel=setTimeout(t,z),e.zoom("mouse",b(m(u(n,o),e.mouse[0],e.mouse[1]),e.extent))}}function C(){function t(){if(g(),!o.moved){var t=i.event.clientX-u,e=i.event.clientY-p;o.moved=t*t+e*e>q}o.zoom("mouse",b(m(o.that.__zoom,o.mouse[0]=i.mouse(o.that),o.mouse[1]),o.extent))}function e(){a.on("mousemove.zoom mouseup.zoom",null),n.dragEnable(i.event.view,o.moved),g(),o.end()}if(!L&&N.apply(this,arguments)){var o=w(this,arguments),a=i.select(i.event.view).on("mousemove.zoom",t,!0).on("mouseup.zoom",e,!0),s=i.mouse(this),u=i.event.clientX,p=i.event.clientY;n.dragDisable(i.event.view),h(),o.mouse=[s,this.__zoom.invert(s)],r.interrupt(this),o.start()}}function M(){if(N.apply(this,arguments)){var e=this.__zoom,n=i.mouse(this),o=e.invert(n),r=e.k*(i.event.shiftKey?.5:2),a=b(m(u(e,r),n,o),O.apply(this,arguments));g(),X>0?i.select(this).transition().duration(X).call(x,a,n):i.select(this).call(t.transform,a)}}function T(){if(N.apply(this,arguments)){var t,e,n,o,a=w(this,arguments),s=i.event.changedTouches,u=s.length;for(h(),e=0;e<u;++e)n=s[e],o=i.touch(this,s,n.identifier),o=[o,this.__zoom.invert(o),n.identifier],a.touch0?a.touch1||(a.touch1=o):(a.touch0=o,t=!0);return I&&(I=clearTimeout(I),!a.touch1)?(a.end(),o=i.select(this).on("dblclick.zoom"),void(o&&o.apply(this,arguments))):void(t&&(I=setTimeout(function(){I=null},W),r.interrupt(this),a.start()))}}function A(){var t,e,n,o,r=w(this,arguments),a=i.event.changedTouches,s=a.length;for(g(),I&&(I=clearTimeout(I)),t=0;t<s;++t)e=a[t],n=i.touch(this,a,e.identifier),r.touch0&&r.touch0[2]===e.identifier?r.touch0[0]=n:r.touch1&&r.touch1[2]===e.identifier&&(r.touch1[0]=n);if(e=r.that.__zoom,r.touch1){var h=r.touch0[0],p=r.touch0[1],l=r.touch1[0],c=r.touch1[1],f=(f=l[0]-h[0])*f+(f=l[1]-h[1])*f,d=(d=c[0]-p[0])*d+(d=c[1]-p[1])*d;e=u(e,Math.sqrt(f/d)),n=[(h[0]+l[0])/2,(h[1]+l[1])/2],o=[(p[0]+c[0])/2,(p[1]+c[1])/2]}else{if(!r.touch0)return;n=r.touch0[0],o=r.touch0[1]}r.zoom("touch",b(m(e,n,o),r.extent))}function E(){var t,e,n=w(this,arguments),o=i.event.changedTouches,r=o.length;for(h(),L&&clearTimeout(L),L=setTimeout(function(){L=null},W),t=0;t<r;++t)e=o[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}var I,L,N=p,O=l,k=f,R=0,D=1/0,F=-D,j=D,K=F,B=j,X=250,U=o.interpolateZoom,Y=[],G=e.dispatch("start","zoom","end"),W=500,z=150,q=0;return t.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",c),t!==n?x(t,e):n.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},t.scaleBy=function(e,n){t.scaleTo(e,function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e})},t.scaleTo=function(e,n){t.transform(e,function(){var t=O.apply(this,arguments),e=this.__zoom,o=_(t),i=e.invert(o),r="function"==typeof n?n.apply(this,arguments):n;return b(m(u(e,r),o,i),t)})},t.translateBy=function(e,n,o){t.transform(e,function(){return b(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof o?o.apply(this,arguments):o),O.apply(this,arguments))})},t.translateTo=function(e,n,o){t.transform(e,function(){var t=O.apply(this,arguments),e=this.__zoom,i=_(t);return b(v.translate(i[0],i[1]).scale(e.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof o?-o.apply(this,arguments):-o),t)})},P.prototype={start:function(){return 1===++this.active&&(this.index=Y.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(Y.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){i.customEvent(new a(t,e,this.that.__zoom),G.apply,G,[e,this.that,this.args])}},t.wheelDelta=function(e){return arguments.length?(k="function"==typeof e?e:y(+e),t):k},t.filter=function(e){return arguments.length?(N="function"==typeof e?e:y(!!e),t):N},t.extent=function(e){return arguments.length?(O="function"==typeof e?e:y([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),t):O},t.scaleExtent=function(e){return arguments.length?(R=+e[0],D=+e[1],t):[R,D]},t.translateExtent=function(e){return arguments.length?(F=+e[0][0],j=+e[1][0],K=+e[0][1],B=+e[1][1],t):[[F,K],[j,B]]},t.duration=function(e){return arguments.length?(X=+e,t):X},t.interpolate=function(e){return arguments.length?(U=e,t):U},t.on=function(){var e=G.on.apply(G,arguments);return e===G?t:e},t.clickDistance=function(e){return arguments.length?(q=(e=+e)*e,t):Math.sqrt(q)},t};t.zoom=m,t.zoomTransform=u,t.zoomIdentity=v,Object.defineProperty(t,"__esModule",{value:!0})})},,,,,,,,,,,,,function(t,e,n){function o(t,e,n,o){o?(e(o),n&&n(o)):(t(s),n&&n(void 0,s))}var i,r=n(229),a=n(225),s=null,u=[];window.$$mapsCB=function(){s=google.maps;for(var t=0,e=u.length;t<e;t++)o.apply(void 0,u[t])},t.exports=function(t,e,n){return i=t||i,"function"==typeof e&&(n=e,e=[]),function(){return new a(function(t,a){if(i){if(s)o(t,a,n);else if(u.push([t,a,n]),1==u.length){var h="";"string"==typeof i?h="&key="+i:"object"==typeof i&&(h="&"+Object.keys(i).map(function(t){return t+"="+encodeURIComponent(i[t])}).join("&"));var p="https://maps.googleapis.com/maps/api/js?v=3&callback=$$mapsCB"+h;Array.isArray(e)&&e.length>0&&(p+="&libraries="+e.join(",")),r(p)}}else o(t,a,n,new Error("No API key passed to require('google-maps-api')"))})}}},function(t,e,n){var o,i;!function(r,a){o=[n(96),n(233)],i=function(t,e){return a(r,t,e)}.apply(e,o),!(void 0!==i&&(t.exports=i))}(window,function(t,e,n){function o(t,e){if(t=s(t),!t)throw"Bad element for Huebee: "+t;this.anchor=t,this.options={},this.option(o.defaults),this.option(e),this.create()}function i(){for(var t=document.querySelectorAll("[data-huebee]"),e=0;e<t.length;e++){var n,i=t[e],r=i.getAttribute("data-huebee");try{n=r&&JSON.parse(r)}catch(t){x&&x.error("Error parsing data-huebee on "+i.className+": "+t);continue}new o(i,n)}}function r(t){S.clearRect(0,0,1,1),S.fillStyle="#010203",S.fillStyle=t,S.fillRect(0,0,1,1);var e=S.getImageData(0,0,1,1).data;if(e=[e[0],e[1],e[2],e[3]],"1,2,3,255"!=e.join(",")){var n=p.apply(this,e);return{color:t.trim(),hue:n[0],sat:n[1],lum:n[2]}}}function a(t,e){for(var n in e)t[n]=e[n];return t}function s(t){return"string"==typeof t&&(t=document.querySelector(t)),t}function u(t,e,n){var o=h(t,e,n);return l(o)}function h(t,e,n){var o,i,r=(1-Math.abs(2*n-1))*e,a=t/60,s=r*(1-Math.abs(a%2-1));switch(Math.floor(a)){case 0:o=[r,s,0];break;case 1:o=[s,r,0];break;case 2:o=[0,r,s];break;case 3:o=[0,s,r];break;case 4:o=[s,0,r];break;case 5:o=[r,0,s];break;default:o=[0,0,0]}return i=n-r/2,o=o.map(function(t){return t+i})}function p(t,e,n){t/=255,e/=255,n/=255;var o,i=Math.max(t,e,n),r=Math.min(t,e,n),a=i-r,s=.5*(i+r),u=0===a?0:a/(1-Math.abs(2*s-1));0===a?o=0:i===t?o=(e-n)/a%6:i===e?o=(n-t)/a+2:i===n&&(o=(t-e)/a+4);var h=60*o;return[h,parseFloat(u),parseFloat(s)]}function l(t){var e=t.map(function(t){t=Math.round(255*t);var e=t.toString(16).toUpperCase();return e=e.length<2?"0"+e:e});return"#"+e.join("")}function c(t){return"#"+t[1]+t[3]+t[5]}o.defaults={hues:12,hue0:0,shades:5,saturations:3,notation:"shortHex",setText:!0,setBGColor:!0};var f=o.prototype=Object.create(e.prototype);f.option=function(t){this.options=a(this.options,t)};var d=0,y={};f.create=function(){function t(t){t.target==o&&t.preventDefault()}var e=this.guid=++d;this.anchor.huebeeGUID=e,y[e]=this,this.setBGElems=this.getSetElems(this.options.setBGColor),this.setTextElems=this.getSetElems(this.options.setText),this.outsideCloseIt=this.outsideClose.bind(this),this.onDocKeydown=this.docKeydown.bind(this),this.closeIt=this.close.bind(this),this.openIt=this.open.bind(this),this.onElemTransitionend=this.elemTransitionend.bind(this),this.isInputAnchor="INPUT"==this.anchor.nodeName,this.options.staticOpen||(this.anchor.addEventListener("click",this.openIt),this.anchor.addEventListener("focus",this.openIt)),this.isInputAnchor&&this.anchor.addEventListener("input",this.inputInput.bind(this));var n=this.element=document.createElement("div");n.className="huebee ",n.className+=this.options.staticOpen?"is-static-open ":"is-hidden ",n.className+=this.options.className||"";var o=this.container=document.createElement("div");if(o.className="huebee__container",o.addEventListener("mousedown",t),o.addEventListener("touchstart",t),this.createCanvas(),this.cursor=document.createElement("div"),this.cursor.className="huebee__cursor is-hidden",o.appendChild(this.cursor),this.createCloseButton(),n.appendChild(o),!this.options.staticOpen){var i=getComputedStyle(this.anchor.parentNode);"relative"!=i.position&&"absolute"!=i.position&&(this.anchor.parentNode.style.position="relative")}var r=this.options.hues,a=this.options.customColors,s=a&&a.length;this.satY=s?Math.ceil(s/r)+1:0,this.updateColors(),this.setAnchorColor(),this.options.staticOpen&&this.open()},f.getSetElems=function(t){return t===!0?[this.anchor]:"string"==typeof t?document.querySelectorAll(t):void 0},f.createCanvas=function(){var t=this.canvas=document.createElement("canvas");t.className="huebee__canvas",this.ctx=t.getContext("2d");var e=this.canvasPointer=new n;e._bindStartEvent(t),e.on("pointerDown",this.canvasPointerDown.bind(this)),e.on("pointerMove",this.canvasPointerMove.bind(this)),this.container.appendChild(t)};var v="http://www.w3.org/2000/svg";f.createCloseButton=function(){if(!this.options.staticOpen){var t=document.createElementNS(v,"svg");t.setAttribute("class","huebee__close-button"),t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("width","24"),t.setAttribute("height","24");var e=document.createElementNS(v,"path");e.setAttribute("d","M 7,7 L 17,17 M 17,7 L 7,17"),e.setAttribute("class","huebee__close-button__x"),t.appendChild(e),t.addEventListener("click",this.closeIt),this.container.appendChild(t)}},f.updateColors=function(){this.swatches={},this.colorGrid={},this.updateColorModer();var t=this.options.shades,e=this.options.saturations,n=this.options.hues,o=this.options.customColors;if(o&&o.length){var i=0;o.forEach(function(t){var e=i%n,o=Math.floor(i/n),a=r(t);a&&(this.addSwatch(a,e,o),i++)}.bind(this))}for(var a=0;a<e;a++){var s=1-a/e,u=t*a+this.satY;this.updateSaturationGrid(a,s,u)}for(a=0;a<t+2;a++){var h=1-a/(t+1),p=this.colorModer(0,0,h),l=r(p);this.addSwatch(l,n+1,a)}},f.updateSaturationGrid=function(t,e,n){for(var o=this.options.shades,i=this.options.hues,a=this.options.hue0,s=0;s<o;s++)for(var u=0;u<i;u++){var h=Math.round(360*u/i+a)%360,p=1-(s+1)/(o+1),l=this.colorModer(h,e,p),c=r(l),f=s+n;this.addSwatch(c,u,f)}},f.addSwatch=function(t,e,n){this.swatches[e+","+n]=t,this.colorGrid[t.color.toUpperCase()]={x:e,y:n}};var g={hsl:function(t,e,n){return e=Math.round(100*e),n=Math.round(100*n),"hsl("+t+", "+e+"%, "+n+"%)"},hex:u,shortHex:function(t,e,n){var o=u(t,e,n);return c(o)}};f.updateColorModer=function(){this.colorModer=g[this.options.notation]||g.shortHex},f.renderColors=function(){var t=2*this.gridSize;for(var e in this.swatches){var n=this.swatches[e],o=e.split(","),i=o[0],r=o[1];this.ctx.fillStyle=n.color,this.ctx.fillRect(i*t,r*t,t,t)}},f.setAnchorColor=function(){this.isInputAnchor&&this.setColor(this.anchor.value)};var m=document.documentElement;f.open=function(){if(!this.isOpen){var t=this.anchor,e=this.element;this.options.staticOpen||(e.style.left=t.offsetLeft+"px",e.style.top=t.offsetTop+t.offsetHeight+"px"),this.bindOpenEvents(!0),e.removeEventListener("transitionend",this.onElemTransitionend),t.parentNode.insertBefore(e,t.nextSibling);var n=getComputedStyle(e).transitionDuration;this.hasTransition=n&&"none"!=n&&parseFloat(n),this.isOpen=!0,this.updateSizes(),this.renderColors(),this.setAnchorColor();e.offsetHeight;e.classList.remove("is-hidden")}},f.bindOpenEvents=function(t){if(!this.options.staticOpen){var e=(t?"add":"remove")+"EventListener";m[e]("mousedown",this.outsideCloseIt),m[e]("touchstart",this.outsideCloseIt),document[e]("focusin",this.outsideCloseIt),document[e]("keydown",this.onDocKeydown),this.anchor[e]("blur",this.closeIt)}},f.updateSizes=function(){var t=this.options.hues,e=this.options.shades,n=this.options.saturations;this.cursorBorder=parseInt(getComputedStyle(this.cursor).borderTopWidth,10),this.gridSize=Math.round(this.cursor.offsetWidth-2*this.cursorBorder),this.canvasOffset={x:this.canvas.offsetLeft,y:this.canvas.offsetTop};var o=Math.max(e*n+this.satY,e+2),i=this.gridSize*(t+2);this.canvas.width=2*i,this.canvas.style.width=i+"px",this.canvas.height=this.gridSize*o*2},f.outsideClose=function(t){var e=this.anchor.contains(t.target),n=this.element.contains(t.target);e||n||this.close()};var b={13:!0,27:!0};f.docKeydown=function(t){b[t.keyCode]&&this.close()};var _="string"==typeof m.style.transform;f.close=function(){this.isOpen&&(_&&this.hasTransition?this.element.addEventListener("transitionend",this.onElemTransitionend):this.remove(),this.element.classList.add("is-hidden"),this.bindOpenEvents(!1),this.isOpen=!1)},f.remove=function(){var t=this.element.parentNode;t.contains(this.element)&&t.removeChild(this.element)},f.elemTransitionend=function(t){t.target==this.element&&(this.element.removeEventListener("transitionend",this.onElemTransitionend),this.remove())},f.inputInput=function(){this.setColor(this.anchor.value)},f.canvasPointerDown=function(t,e){t.preventDefault(),this.updateOffset(),this.canvasPointerChange(e)},f.updateOffset=function(){var e=this.canvas.getBoundingClientRect();this.offset={x:e.left+t.pageXOffset,y:e.top+t.pageYOffset}},f.canvasPointerMove=function(t,e){this.canvasPointerChange(e)},f.canvasPointerChange=function(t){var e=Math.round(t.pageX-this.offset.x),n=Math.round(t.pageY-this.offset.y),o=this.gridSize,i=Math.floor(e/o),r=Math.floor(n/o),a=this.swatches[i+","+r];this.setSwatch(a)},f.setColor=function(t){var e=r(t);this.setSwatch(e)},f.setSwatch=function(t){var e=t&&t.color;if(t){var n=e==this.color;this.color=e,this.hue=t.hue,this.sat=t.sat,this.lum=t.lum;var o=this.lum-.15*Math.cos((this.hue+70)/180*Math.PI);this.isLight=o>.5;var i=this.colorGrid[e.toUpperCase()];this.updateCursor(i),this.setTexts(),this.setBackgrounds(),n||this.emitEvent("change",[e,t.hue,t.sat,t.lum])}},f.setTexts=function(){if(this.setTextElems)for(var t=0;t<this.setTextElems.length;t++){var e=this.setTextElems[t],n="INPUT"==e.nodeName?"value":"textContent";e[n]=this.color}},f.setBackgrounds=function(){if(this.setBGElems)for(var t=this.isLight?"#222":"white",e=0;e<this.setBGElems.length;e++){var n=this.setBGElems[e];n.style.backgroundColor=this.color,n.style.color=t}},f.updateCursor=function(t){if(this.isOpen){var e=t?"remove":"add";if(this.cursor.classList[e]("is-hidden"),t){var n=this.gridSize,o=this.canvasOffset,i=this.cursorBorder;this.cursor.style.left=t.x*n+o.x-i+"px",this.cursor.style.top=t.y*n+o.y-i+"px"}}};var x=t.console,w=document.readyState;"complete"==w||"interactive"==w?i():document.addEventListener("DOMContentLoaded",i),o.data=function(t){t=s(t);var e=t&&t.huebeeGUID;return e&&y[e]};var P=document.createElement("canvas");P.width=P.height=1;var S=P.getContext("2d");return o})},function(t,e){"use strict";function n(t,e,n){ie.biginteger_used=1,null!=t&&("number"==typeof t&&"undefined"==typeof e?this.fromInt(t):"number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function o(){return new n(null)}function i(t,e,n,o,i,r){for(;--r>=0;){var a=e*this[t++]+n[o]+i;i=Math.floor(a/67108864),n[o++]=67108863&a}return i}function r(t,e,n,o,i,r){for(var a=32767&e,s=e>>15;--r>=0;){var u=32767&this[t],h=this[t++]>>15,p=s*u+h*a;u=a*u+((32767&p)<<15)+n[o]+(1073741823&i),i=(u>>>30)+(p>>>15)+s*h+(i>>>30),n[o++]=1073741823&u}return i}function a(t,e,n,o,i,r){for(var a=16383&e,s=e>>14;--r>=0;){var u=16383&this[t],h=this[t++]>>14,p=s*u+h*a;u=a*u+((16383&p)<<14)+n[o]+i,i=(u>>28)+(p>>14)+s*h,n[o++]=268435455&u}return i}function s(t){return ye.charAt(t)}function u(t,e){var n=ve[t.charCodeAt(e)];return null==n?-1:n}function h(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function p(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function l(t){var e=o();return e.fromInt(t),e}function c(t,e){var o;if(16==e)o=4;else if(8==e)o=3;else if(256==e)o=8;else if(2==e)o=1;else if(32==e)o=5;else{if(4!=e)return void this.fromRadix(t,e);o=2}this.t=0,this.s=0;for(var i=t.length,r=!1,a=0;--i>=0;){var s=8==o?255&t[i]:u(t,i);s<0?"-"==t.charAt(i)&&(r=!0):(r=!1,0==a?this[this.t++]=s:a+o>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,a+=o,a>=this.DB&&(a-=this.DB))}8==o&&0!=(128&t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),r&&n.ZERO.subTo(this,this)}function f(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function d(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,o=(1<<e)-1,i=!1,r="",a=this.t,u=this.DB-a*this.DB%e;if(a-- >0)for(u<this.DB&&(n=this[a]>>u)>0&&(i=!0,r=s(n));a>=0;)u<e?(n=(this[a]&(1<<u)-1)<<e-u,n|=this[--a]>>(u+=this.DB-e)):(n=this[a]>>(u-=e)&o,u<=0&&(u+=this.DB,--a)),n>0&&(i=!0),i&&(r+=s(n));return i?r:"0"}function y(){var t=o();return n.ZERO.subTo(this,t),t}function v(){return this.s<0?this.negate():this}function g(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function m(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function b(){return this.t<=0?0:this.DB*(this.t-1)+m(this[this.t-1]^this.s&this.DM)}function _(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function x(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function w(t,e){var n,o=t%this.DB,i=this.DB-o,r=(1<<i)-1,a=Math.floor(t/this.DB),s=this.s<<o&this.DM;for(n=this.t-1;n>=0;--n)e[n+a+1]=this[n]>>i|s,s=(this[n]&r)<<o;for(n=a-1;n>=0;--n)e[n]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function P(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return void(e.t=0);var o=t%this.DB,i=this.DB-o,r=(1<<o)-1;e[0]=this[n]>>o;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&r)<<i,e[a-n]=this[a]>>o;o>0&&(e[this.t-n-1]|=(this.s&r)<<i),e.t=this.t-n,e.clamp()}function S(t,e){for(var n=0,o=0,i=Math.min(t.t,this.t);n<i;)o+=this[n]-t[n],e[n++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;n<this.t;)o+=this[n],e[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<t.t;)o-=t[n],e[n++]=o&this.DM,o>>=this.DB;o-=t.s}e.s=o<0?-1:0,o<-1?e[n++]=this.DV+o:o>0&&(e[n++]=o),e.t=n,e.clamp()}function C(t,e){var o=this.abs(),i=t.abs(),r=o.t;for(e.t=r+i.t;--r>=0;)e[r]=0;for(r=0;r<i.t;++r)e[r+o.t]=o.am(0,i[r],e,r,0,o.t);e.s=0,e.clamp(),this.s!=t.s&&n.ZERO.subTo(e,e)}function M(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var o=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,o,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function T(t,e,i){var r=t.abs();if(!(r.t<=0)){var a=this.abs();if(a.t<r.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=o());var s=o(),u=this.s,h=t.s,p=this.DB-m(r[r.t-1]);p>0?(r.lShiftTo(p,s),a.lShiftTo(p,i)):(r.copyTo(s),a.copyTo(i));var l=s.t,c=s[l-1];if(0!=c){var f=c*(1<<this.F1)+(l>1?s[l-2]>>this.F2:0),d=this.FV/f,y=(1<<this.F1)/f,v=1<<this.F2,g=i.t,b=g-l,_=null==e?o():e;for(s.dlShiftTo(b,_),i.compareTo(_)>=0&&(i[i.t++]=1,i.subTo(_,i)),n.ONE.dlShiftTo(l,_),_.subTo(s,s);s.t<l;)s[s.t++]=0;for(;--b>=0;){var x=i[--g]==c?this.DM:Math.floor(i[g]*d+(i[g-1]+v)*y);if((i[g]+=s.am(0,x,i,b,0,l))<x)for(s.dlShiftTo(b,_),i.subTo(_,i);i[g]<--x;)i.subTo(_,i)}null!=e&&(i.drShiftTo(l,e),u!=h&&n.ZERO.subTo(e,e)),i.t=l,i.clamp(),p>0&&i.rShiftTo(p,i),u<0&&n.ZERO.subTo(i,i)}}}function A(t){var e=o();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(n.ZERO)>0&&t.subTo(e,e),e}function E(t){this.m=t}function I(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function L(t){return t}function N(t){t.divRemTo(this.m,null,t)}function O(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function k(t,e){t.squareTo(e),this.reduce(e)}function R(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function D(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function F(t){var e=o();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(n.ZERO)>0&&this.m.subTo(e,e),e}function j(t){var e=o();return t.copyTo(e),this.reduce(e),e}function K(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],o=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,o,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function B(t,e){t.squareTo(e),this.reduce(e)}function X(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function U(){return 0==(this.t>0?1&this[0]:this.s)}function Y(t,e){if(t>4294967295||t<1)return n.ONE;var i=o(),r=o(),a=e.convert(this),s=m(t)-1;for(a.copyTo(i);--s>=0;)if(e.sqrTo(i,r),(t&1<<s)>0)e.mulTo(r,a,i);else{var u=i;i=r,r=u}return e.revert(i)}function G(t,e){var n;return n=t<256||e.isEven()?new E(e):new D(e),this.exp(t,n)}function W(){var t=o();return this.copyTo(t),t}function z(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function q(){return 0==this.t?this.s:this[0]<<24>>24}function H(){return 0==this.t?this.s:this[0]<<16>>16}function V(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function $(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Z(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=l(n),r=o(),a=o(),s="";for(this.divRemTo(i,r,a);r.signum()>0;)s=(n+a.intValue()).toString(t).substr(1)+s,r.divRemTo(i,r,a);return a.intValue().toString(t)+s}function J(t,e){this.fromInt(0),null==e&&(e=10);for(var o=this.chunkSize(e),i=Math.pow(e,o),r=!1,a=0,s=0,h=0;h<t.length;++h){var p=u(t,h);p<0?"-"==t.charAt(h)&&0==this.signum()&&(r=!0):(s=e*s+p,++a>=o&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),r&&n.ZERO.subTo(this,this)}function Q(t,e,o){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,o),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),st,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var i=new Array,r=7&t;i.length=(t>>3)+1,e.nextBytes(i),r>0?i[0]&=(1<<r)-1:i[0]=0,this.fromString(i,256)}}function tt(){var t=this.t,e=new Array;e[0]=this.s;var n,o=this.DB-t*this.DB%8,i=0;if(t-- >0)for(o<this.DB&&(n=this[t]>>o)!=(this.s&this.DM)>>o&&(e[i++]=n|this.s<<this.DB-o);t>=0;)o<8?(n=(this[t]&(1<<o)-1)<<8-o,n|=this[--t]>>(o+=this.DB-8)):(n=this[t]>>(o-=8)&255,o<=0&&(o+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function et(t){return 0==this.compareTo(t)}function nt(t){return this.compareTo(t)<0?this:t}function ot(t){return this.compareTo(t)>0?this:t}function it(t,e,n){var o,i,r=Math.min(t.t,this.t);for(o=0;o<r;++o)n[o]=e(this[o],t[o]);if(t.t<this.t){for(i=t.s&this.DM,o=r;o<this.t;++o)n[o]=e(this[o],i);n.t=this.t}else{for(i=this.s&this.DM,o=r;o<t.t;++o)n[o]=e(i,t[o]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()}function rt(t,e){return t&e}function at(t){var e=o();return this.bitwiseTo(t,rt,e),e}function st(t,e){return t|e}function ut(t){var e=o();return this.bitwiseTo(t,st,e),e}function ht(t,e){return t^e}function pt(t){var e=o();return this.bitwiseTo(t,ht,e),e}function lt(t,e){return t&~e}function ct(t){var e=o();return this.bitwiseTo(t,lt,e),e}function ft(){for(var t=o(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function dt(t){var e=o();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function yt(t){var e=o();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function vt(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function gt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+vt(this[t]);return this.s<0?this.t*this.DB:-1}function mt(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function bt(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=mt(this[n]^e);return t}function _t(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function xt(t,e){var o=n.ONE.shiftLeft(t);return this.bitwiseTo(o,e,o),o}function wt(t){return this.changeBit(t,st)}function Pt(t){return this.changeBit(t,lt)}function St(t){return this.changeBit(t,ht)}function Ct(t,e){for(var n=0,o=0,i=Math.min(t.t,this.t);n<i;)o+=this[n]+t[n],e[n++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;n<this.t;)o+=this[n],e[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<t.t;)o+=t[n],e[n++]=o&this.DM,o>>=this.DB;o+=t.s}e.s=o<0?-1:0,o>0?e[n++]=o:o<-1&&(e[n++]=this.DV+o),e.t=n,e.clamp()}function Mt(t){var e=o();return this.addTo(t,e),e}function Tt(t){var e=o();return this.subTo(t,e),e}function At(t){var e=o();return this.multiplyTo(t,e),e}function Et(){var t=o();return this.squareTo(t),t}function It(t){var e=o();return this.divRemTo(t,e,null),e}function Lt(t){var e=o();return this.divRemTo(t,null,e),e}function Nt(t){var e=o(),n=o();return this.divRemTo(t,e,n),new Array(e,n)}function Ot(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function kt(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Rt(){}function Dt(t){return t}function Ft(t,e,n){t.multiplyTo(e,n)}function jt(t,e){t.squareTo(e)}function Kt(t){return this.exp(t,new Rt)}function Bt(t,e,n){var o=Math.min(this.t+t.t,e);for(n.s=0,n.t=o;o>0;)n[--o]=0;var i;for(i=n.t-this.t;o<i;++o)n[o+this.t]=this.am(0,t[o],n,o,0,this.t);for(i=Math.min(t.t,e);o<i;++o)this.am(0,t[o],n,o,0,e-o);n.clamp()}function Xt(t,e,n){--e;var o=n.t=this.t+t.t-e;for(n.s=0;--o>=0;)n[o]=0;for(o=Math.max(e-this.t,0);o<t.t;++o)n[this.t+o-e]=this.am(e-o,t[o],n,0,0,this.t+o-e);n.clamp(),n.drShiftTo(1,n)}function Ut(t){this.r2=o(),this.q3=o(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Yt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=o();return t.copyTo(e),this.reduce(e),e}function Gt(t){return t}function Wt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function zt(t,e){t.squareTo(e),this.reduce(e)}function qt(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function Ht(t,e){var n,i,r=t.bitLength(),a=l(1);if(r<=0)return a;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new E(e):e.isEven()?new Ut(e):new D(e);var s=new Array,u=3,h=n-1,p=(1<<n)-1;if(s[1]=i.convert(this),n>1){var c=o();for(i.sqrTo(s[1],c);u<=p;)s[u]=o(),i.mulTo(c,s[u-2],s[u]),u+=2}var f,d,y=t.t-1,v=!0,g=o();for(r=m(t[y])-1;y>=0;){for(r>=h?f=t[y]>>r-h&p:(f=(t[y]&(1<<r+1)-1)<<h-r,y>0&&(f|=t[y-1]>>this.DB+r-h)),u=n;0==(1&f);)f>>=1,--u;if((r-=u)<0&&(r+=this.DB,--y),v)s[f].copyTo(a),v=!1;else{for(;u>1;)i.sqrTo(a,g),i.sqrTo(g,a),u-=2;u>0?i.sqrTo(a,g):(d=a,a=g,g=d),i.mulTo(g,s[f],a)}for(;y>=0&&0==(t[y]&1<<r);)i.sqrTo(a,g),d=a,a=g,g=d,--r<0&&(r=this.DB-1,--y)}return i.revert(a)}function Vt(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var o=e;e=n,n=o}var i=e.getLowestSetBit(),r=n.getLowestSetBit();if(r<0)return e;for(i<r&&(r=i),r>0&&(e.rShiftTo(r,e),n.rShiftTo(r,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return r>0&&n.lShiftTo(r,n),n}function $t(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var o=this.t-1;o>=0;--o)n=(e*n+this[o])%t;return n}function Zt(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return n.ZERO;for(var o=t.clone(),i=this.clone(),r=l(1),a=l(0),s=l(0),u=l(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),e?(r.isEven()&&a.isEven()||(r.addTo(this,r),a.subTo(t,a)),r.rShiftTo(1,r)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),e?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(t,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);o.compareTo(i)>=0?(o.subTo(i,o),e&&r.subTo(s,r),a.subTo(u,a)):(i.subTo(o,i),e&&s.subTo(r,s),u.subTo(a,u))}return 0!=i.compareTo(n.ONE)?n.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u}function Jt(t){var e,n=this.abs();if(1==n.t&&n[0]<=ge[ge.length-1]){for(e=0;e<ge.length;++e)if(n[0]==ge[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<ge.length;){for(var o=ge[e],i=e+1;i<ge.length&&o<me;)o*=ge[i++];for(o=n.modInt(o);e<i;)if(o%ge[e++]==0)return!1}return n.millerRabin(t)}function Qt(t){var e=this.subtract(n.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var r=e.shiftRight(i);t=t+1>>1,t>ge.length&&(t=ge.length);for(var a=o(),s=0;s<t;++s){a.fromInt(ge[Math.floor(Math.random()*ge.length)]);var u=a.modPow(r,this);if(0!=u.compareTo(n.ONE)&&0!=u.compareTo(e)){for(var h=1;h++<i&&0!=u.compareTo(e);)if(u=u.modPowInt(2,this),0==u.compareTo(n.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0}var te=!1,ee=!1,ne=!0,oe=!1,ie={},re=!1;"undefined"!=typeof t&&t.exports?(t.exports=ie,re=!0):"undefined"!=typeof document?window.ClipperLib=ie:self.ClipperLib=ie;var ae;if(re){var se="chrome";ae="Netscape"}else{var se=navigator.userAgent.toString().toLowerCase();ae=navigator.appName}var ue={};se.indexOf("chrome")!=-1&&se.indexOf("chromium")==-1?ue.chrome=1:ue.chrome=0,se.indexOf("chromium")!=-1?ue.chromium=1:ue.chromium=0,se.indexOf("safari")!=-1&&se.indexOf("chrome")==-1&&se.indexOf("chromium")==-1?ue.safari=1:ue.safari=0,se.indexOf("firefox")!=-1?ue.firefox=1:ue.firefox=0,se.indexOf("firefox/17")!=-1?ue.firefox17=1:ue.firefox17=0,se.indexOf("firefox/15")!=-1?ue.firefox15=1:ue.firefox15=0,se.indexOf("firefox/3")!=-1?ue.firefox3=1:ue.firefox3=0,se.indexOf("opera")!=-1?ue.opera=1:ue.opera=0,se.indexOf("msie 10")!=-1?ue.msie10=1:ue.msie10=0,se.indexOf("msie 9")!=-1?ue.msie9=1:ue.msie9=0,se.indexOf("msie 8")!=-1?ue.msie8=1:ue.msie8=0,se.indexOf("msie 7")!=-1?ue.msie7=1:ue.msie7=0,se.indexOf("msie ")!=-1?ue.msie=1:ue.msie=0,ie.biginteger_used=null;var he,pe=0xdeadbeefcafe,le=15715070==(16777215&pe);
le&&"Microsoft Internet Explorer"==ae?(n.prototype.am=r,he=30):le&&"Netscape"!=ae?(n.prototype.am=i,he=26):(n.prototype.am=a,he=28),n.prototype.DB=he,n.prototype.DM=(1<<he)-1,n.prototype.DV=1<<he;var ce=52;n.prototype.FV=Math.pow(2,ce),n.prototype.F1=ce-he,n.prototype.F2=2*he-ce;var fe,de,ye="0123456789abcdefghijklmnopqrstuvwxyz",ve=new Array;for(fe="0".charCodeAt(0),de=0;de<=9;++de)ve[fe++]=de;for(fe="a".charCodeAt(0),de=10;de<36;++de)ve[fe++]=de;for(fe="A".charCodeAt(0),de=10;de<36;++de)ve[fe++]=de;E.prototype.convert=I,E.prototype.revert=L,E.prototype.reduce=N,E.prototype.mulTo=O,E.prototype.sqrTo=k,D.prototype.convert=F,D.prototype.revert=j,D.prototype.reduce=K,D.prototype.mulTo=X,D.prototype.sqrTo=B,n.prototype.copyTo=h,n.prototype.fromInt=p,n.prototype.fromString=c,n.prototype.clamp=f,n.prototype.dlShiftTo=_,n.prototype.drShiftTo=x,n.prototype.lShiftTo=w,n.prototype.rShiftTo=P,n.prototype.subTo=S,n.prototype.multiplyTo=C,n.prototype.squareTo=M,n.prototype.divRemTo=T,n.prototype.invDigit=R,n.prototype.isEven=U,n.prototype.exp=Y,n.prototype.toString=d,n.prototype.negate=y,n.prototype.abs=v,n.prototype.compareTo=g,n.prototype.bitLength=b,n.prototype.mod=A,n.prototype.modPowInt=G,n.ZERO=l(0),n.ONE=l(1),Rt.prototype.convert=Dt,Rt.prototype.revert=Dt,Rt.prototype.mulTo=Ft,Rt.prototype.sqrTo=jt,Ut.prototype.convert=Yt,Ut.prototype.revert=Gt,Ut.prototype.reduce=Wt,Ut.prototype.mulTo=qt,Ut.prototype.sqrTo=zt;var ge=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],me=(1<<26)/ge[ge.length-1];n.prototype.chunkSize=V,n.prototype.toRadix=Z,n.prototype.fromRadix=J,n.prototype.fromNumber=Q,n.prototype.bitwiseTo=it,n.prototype.changeBit=xt,n.prototype.addTo=Ct,n.prototype.dMultiply=Ot,n.prototype.dAddOffset=kt,n.prototype.multiplyLowerTo=Bt,n.prototype.multiplyUpperTo=Xt,n.prototype.modInt=$t,n.prototype.millerRabin=Qt,n.prototype.clone=W,n.prototype.intValue=z,n.prototype.byteValue=q,n.prototype.shortValue=H,n.prototype.signum=$,n.prototype.toByteArray=tt,n.prototype.equals=et,n.prototype.min=nt,n.prototype.max=ot,n.prototype.and=at,n.prototype.or=ut,n.prototype.xor=pt,n.prototype.andNot=ct,n.prototype.not=ft,n.prototype.shiftLeft=dt,n.prototype.shiftRight=yt,n.prototype.getLowestSetBit=gt,n.prototype.bitCount=bt,n.prototype.testBit=_t,n.prototype.setBit=wt,n.prototype.clearBit=Pt,n.prototype.flipBit=St,n.prototype.add=Mt,n.prototype.subtract=Tt,n.prototype.multiply=At,n.prototype.divide=It,n.prototype.remainder=Lt,n.prototype.divideAndRemainder=Nt,n.prototype.modPow=Ht,n.prototype.modInverse=Zt,n.prototype.pow=Kt,n.prototype.gcd=Vt,n.prototype.isProbablePrime=Jt,n.prototype.square=Et;var be=n;if(be.prototype.IsNegative=function(){return this.compareTo(be.ZERO)==-1},be.op_Equality=function(t,e){return 0==t.compareTo(e)},be.op_Inequality=function(t,e){return 0!=t.compareTo(e)},be.op_GreaterThan=function(t,e){return t.compareTo(e)>0},be.op_LessThan=function(t,e){return t.compareTo(e)<0},be.op_Addition=function(t,e){return new be(t).add(new be(e))},be.op_Subtraction=function(t,e){return new be(t).subtract(new be(e))},be.Int128Mul=function(t,e){return new be(t).multiply(new be(e))},be.op_Division=function(t,e){return t.divide(e)},be.prototype.ToDouble=function(){return parseFloat(this.toString())},"undefined"==typeof _e)var _e=function(t,e){var n;if("undefined"==typeof Object.getOwnPropertyNames){for(n in e.prototype)"undefined"!=typeof t.prototype[n]&&t.prototype[n]!=Object.prototype[n]||(t.prototype[n]=e.prototype[n]);for(n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);t.$baseCtor=e}else{for(var o=Object.getOwnPropertyNames(e.prototype),i=0;i<o.length;i++)"undefined"==typeof Object.getOwnPropertyDescriptor(t.prototype,o[i])&&Object.defineProperty(t.prototype,o[i],Object.getOwnPropertyDescriptor(e.prototype,o[i]));for(n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);t.$baseCtor=e}};ie.Path=function(){return[]},ie.Paths=function(){return[]},ie.DoublePoint=function(){var t=arguments;this.X=0,this.Y=0,1==t.length?(this.X=t[0].X,this.Y=t[0].Y):2==t.length&&(this.X=t[0],this.Y=t[1])},ie.DoublePoint0=function(){this.X=0,this.Y=0},ie.DoublePoint1=function(t){this.X=t.X,this.Y=t.Y},ie.DoublePoint2=function(t,e){this.X=t,this.Y=e},ie.PolyNode=function(){this.m_Parent=null,this.m_polygon=new ie.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},ie.PolyNode.prototype.IsHoleNode=function(){for(var t=!0,e=this.m_Parent;null!==e;)t=!t,e=e.m_Parent;return t},ie.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},ie.PolyNode.prototype.Contour=function(){return this.m_polygon},ie.PolyNode.prototype.AddChild=function(t){var e=this.m_Childs.length;this.m_Childs.push(t),t.m_Parent=this,t.m_Index=e},ie.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},ie.PolyNode.prototype.GetNextSiblingUp=function(){return null===this.m_Parent?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},ie.PolyNode.prototype.Childs=function(){return this.m_Childs},ie.PolyNode.prototype.Parent=function(){return this.m_Parent},ie.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},ie.PolyTree=function(){this.m_AllPolys=[],ie.PolyNode.call(this)},ie.PolyTree.prototype.Clear=function(){for(var t=0,e=this.m_AllPolys.length;t<e;t++)this.m_AllPolys[t]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},ie.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},ie.PolyTree.prototype.Total=function(){return this.m_AllPolys.length},_e(ie.PolyTree,ie.PolyNode),ie.Math_Abs_Int64=ie.Math_Abs_Int32=ie.Math_Abs_Double=function(t){return Math.abs(t)},ie.Math_Max_Int32_Int32=function(t,e){return Math.max(t,e)},ue.msie||ue.opera||ue.safari?ie.Cast_Int32=function(t){return 0|t}:ie.Cast_Int32=function(t){return~~t},ue.chrome?ie.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):~~t}:ue.firefox&&"function"==typeof Number.toInteger?ie.Cast_Int64=function(t){return Number.toInteger(t)}:ue.msie7||ue.msie8?ie.Cast_Int64=function(t){return parseInt(t,10)}:ue.msie?ie.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):0|t}:ie.Cast_Int64=function(t){return t<0?Math.ceil(t):Math.floor(t)},ie.Clear=function(t){t.length=0},ie.PI=3.141592653589793,ie.PI2=6.283185307179586,ie.IntPoint=function(){var t=arguments,e=t.length;if(this.X=0,this.Y=0,ee)if(this.Z=0,3==e)this.X=t[0],this.Y=t[1],this.Z=t[2];else if(2==e)this.X=t[0],this.Y=t[1],this.Z=0;else if(1==e)if(t[0]instanceof ie.DoublePoint){var n=t[0];this.X=ie.Clipper.Round(n.X),this.Y=ie.Clipper.Round(n.Y),this.Z=0}else{var o=t[0];"undefined"==typeof o.Z&&(o.Z=0),this.X=o.X,this.Y=o.Y,this.Z=o.Z}else this.X=0,this.Y=0,this.Z=0;else if(2==e)this.X=t[0],this.Y=t[1];else if(1==e)if(t[0]instanceof ie.DoublePoint){var n=t[0];this.X=ie.Clipper.Round(n.X),this.Y=ie.Clipper.Round(n.Y)}else{var o=t[0];this.X=o.X,this.Y=o.Y}else this.X=0,this.Y=0},ie.IntPoint.op_Equality=function(t,e){return t.X==e.X&&t.Y==e.Y},ie.IntPoint.op_Inequality=function(t,e){return t.X!=e.X||t.Y!=e.Y},ee?(ie.IntPoint0=function(){this.X=0,this.Y=0,this.Z=0},ie.IntPoint1=function(t){this.X=t.X,this.Y=t.Y,this.Z=t.Z},ie.IntPoint1dp=function(t){this.X=ie.Clipper.Round(t.X),this.Y=ie.Clipper.Round(t.Y),this.Z=0},ie.IntPoint2=function(t,e){this.X=t,this.Y=e,this.Z=0},ie.IntPoint3=function(t,e,n){this.X=t,this.Y=e,this.Z=n}):(ie.IntPoint0=function(){this.X=0,this.Y=0},ie.IntPoint1=function(t){this.X=t.X,this.Y=t.Y},ie.IntPoint1dp=function(t){this.X=ie.Clipper.Round(t.X),this.Y=ie.Clipper.Round(t.Y)},ie.IntPoint2=function(t,e){this.X=t,this.Y=e}),ie.IntRect=function(){var t=arguments,e=t.length;4==e?(this.left=t[0],this.top=t[1],this.right=t[2],this.bottom=t[3]):1==e?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},ie.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},ie.IntRect1=function(t){this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom},ie.IntRect4=function(t,e,n,o){this.left=t,this.top=e,this.right=n,this.bottom=o},ie.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},ie.PolyType={ptSubject:0,ptClip:1},ie.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},ie.JoinType={jtSquare:0,jtRound:1,jtMiter:2},ie.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},oe&&(ie.EndType_={etSquare:0,etRound:1,etButt:2,etClosed:3}),ie.EdgeSide={esLeft:0,esRight:1},ie.Direction={dRightToLeft:0,dLeftToRight:1},ie.TEdge=function(){this.Bot=new ie.IntPoint,this.Curr=new ie.IntPoint,this.Top=new ie.IntPoint,this.Delta=new ie.IntPoint,this.Dx=0,this.PolyTyp=ie.PolyType.ptSubject,this.Side=ie.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},ie.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new ie.IntPoint},ie.MyIntersectNodeSort=function(){},ie.MyIntersectNodeSort.Compare=function(t,e){return e.Pt.Y-t.Pt.Y},ie.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},ie.Scanbeam=function(){this.Y=0,this.Next=null},ie.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},ie.OutPt=function(){this.Idx=0,this.Pt=new ie.IntPoint,this.Next=null,this.Prev=null},ie.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new ie.IntPoint},ie.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},ie.ClipperBase.horizontal=-9007199254740992,ie.ClipperBase.Skip=-2,ie.ClipperBase.Unassigned=-1,ie.ClipperBase.tolerance=1e-20,te?(ie.ClipperBase.loRange=46340,ie.ClipperBase.hiRange=46340):(ie.ClipperBase.loRange=47453132,ie.ClipperBase.hiRange=0xfffffffffffff),ie.ClipperBase.near_zero=function(t){return t>-ie.ClipperBase.tolerance&&t<ie.ClipperBase.tolerance},ie.ClipperBase.IsHorizontal=function(t){return 0===t.Delta.Y},ie.ClipperBase.prototype.PointIsVertex=function(t,e){var n=e;do{if(ie.IntPoint.op_Equality(n.Pt,t))return!0;n=n.Next}while(n!=e);return!1},ie.ClipperBase.prototype.PointOnLineSegment=function(t,e,n,o){return o?t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&be.op_Equality(be.Int128Mul(t.X-e.X,n.Y-e.Y),be.Int128Mul(n.X-e.X,t.Y-e.Y)):t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&(t.X-e.X)*(n.Y-e.Y)==(n.X-e.X)*(t.Y-e.Y)},ie.ClipperBase.prototype.PointOnPolygon=function(t,e,n){for(var o=e;;){if(this.PointOnLineSegment(t,o.Pt,o.Next.Pt,n))return!0;if(o=o.Next,o==e)break}return!1},ie.ClipperBase.prototype.SlopesEqual=ie.ClipperBase.SlopesEqual=function(){var t,e,n,o,i,r,a,s=arguments,u=s.length;return 3==u?(t=s[0],e=s[1],a=s[2],a?be.op_Equality(be.Int128Mul(t.Delta.Y,e.Delta.X),be.Int128Mul(t.Delta.X,e.Delta.Y)):ie.Cast_Int64(t.Delta.Y*e.Delta.X)==ie.Cast_Int64(t.Delta.X*e.Delta.Y)):4==u?(n=s[0],o=s[1],i=s[2],a=s[3],a?be.op_Equality(be.Int128Mul(n.Y-o.Y,o.X-i.X),be.Int128Mul(n.X-o.X,o.Y-i.Y)):ie.Cast_Int64((n.Y-o.Y)*(o.X-i.X))-ie.Cast_Int64((n.X-o.X)*(o.Y-i.Y))===0):(n=s[0],o=s[1],i=s[2],r=s[3],a=s[4],a?be.op_Equality(be.Int128Mul(n.Y-o.Y,i.X-r.X),be.Int128Mul(n.X-o.X,i.Y-r.Y)):ie.Cast_Int64((n.Y-o.Y)*(i.X-r.X))-ie.Cast_Int64((n.X-o.X)*(i.Y-r.Y))===0)},ie.ClipperBase.SlopesEqual3=function(t,e,n){return n?be.op_Equality(be.Int128Mul(t.Delta.Y,e.Delta.X),be.Int128Mul(t.Delta.X,e.Delta.Y)):ie.Cast_Int64(t.Delta.Y*e.Delta.X)==ie.Cast_Int64(t.Delta.X*e.Delta.Y)},ie.ClipperBase.SlopesEqual4=function(t,e,n,o){return o?be.op_Equality(be.Int128Mul(t.Y-e.Y,e.X-n.X),be.Int128Mul(t.X-e.X,e.Y-n.Y)):ie.Cast_Int64((t.Y-e.Y)*(e.X-n.X))-ie.Cast_Int64((t.X-e.X)*(e.Y-n.Y))===0},ie.ClipperBase.SlopesEqual5=function(t,e,n,o,i){return i?be.op_Equality(be.Int128Mul(t.Y-e.Y,n.X-o.X),be.Int128Mul(t.X-e.X,n.Y-o.Y)):ie.Cast_Int64((t.Y-e.Y)*(n.X-o.X))-ie.Cast_Int64((t.X-e.X)*(n.Y-o.Y))===0},ie.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var t=0,e=this.m_edges.length;t<e;++t){for(var n=0,o=this.m_edges[t].length;n<o;++n)this.m_edges[t][n]=null;ie.Clear(this.m_edges[t])}ie.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},ie.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;null!==this.m_MinimaList;){var t=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=t}this.m_CurrentLM=null},ie.ClipperBase.prototype.RangeTest=function(t,e){e.Value?(t.X>ie.ClipperBase.hiRange||t.Y>ie.ClipperBase.hiRange||-t.X>ie.ClipperBase.hiRange||-t.Y>ie.ClipperBase.hiRange)&&ie.Error("Coordinate outside allowed range in RangeTest()."):(t.X>ie.ClipperBase.loRange||t.Y>ie.ClipperBase.loRange||-t.X>ie.ClipperBase.loRange||-t.Y>ie.ClipperBase.loRange)&&(e.Value=!0,this.RangeTest(t,e))},ie.ClipperBase.prototype.InitEdge=function(t,e,n,o){t.Next=e,t.Prev=n,t.Curr.X=o.X,t.Curr.Y=o.Y,t.OutIdx=-1},ie.ClipperBase.prototype.InitEdge2=function(t,e){t.Curr.Y>=t.Next.Curr.Y?(t.Bot.X=t.Curr.X,t.Bot.Y=t.Curr.Y,t.Top.X=t.Next.Curr.X,t.Top.Y=t.Next.Curr.Y):(t.Top.X=t.Curr.X,t.Top.Y=t.Curr.Y,t.Bot.X=t.Next.Curr.X,t.Bot.Y=t.Next.Curr.Y),this.SetDx(t),t.PolyTyp=e},ie.ClipperBase.prototype.FindNextLocMin=function(t){for(var e;;){for(;ie.IntPoint.op_Inequality(t.Bot,t.Prev.Bot)||ie.IntPoint.op_Equality(t.Curr,t.Top);)t=t.Next;if(t.Dx!=ie.ClipperBase.horizontal&&t.Prev.Dx!=ie.ClipperBase.horizontal)break;for(;t.Prev.Dx==ie.ClipperBase.horizontal;)t=t.Prev;for(e=t;t.Dx==ie.ClipperBase.horizontal;)t=t.Next;if(t.Top.Y!=t.Prev.Bot.Y){e.Prev.Bot.X<t.Bot.X&&(t=e);break}}return t},ie.ClipperBase.prototype.ProcessBound=function(t,e){var n,o,i=t,r=t;if(t.Dx==ie.ClipperBase.horizontal&&(o=e?t.Prev.Bot.X:t.Next.Bot.X,t.Bot.X!=o&&this.ReverseHorizontal(t)),r.OutIdx!=ie.ClipperBase.Skip)if(e){for(;r.Top.Y==r.Next.Bot.Y&&r.Next.OutIdx!=ie.ClipperBase.Skip;)r=r.Next;if(r.Dx==ie.ClipperBase.horizontal&&r.Next.OutIdx!=ie.ClipperBase.Skip){for(n=r;n.Prev.Dx==ie.ClipperBase.horizontal;)n=n.Prev;n.Prev.Top.X==r.Next.Top.X?e||(r=n.Prev):n.Prev.Top.X>r.Next.Top.X&&(r=n.Prev)}for(;t!=r;)t.NextInLML=t.Next,t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),t=t.Next;t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),r=r.Next}else{for(;r.Top.Y==r.Prev.Bot.Y&&r.Prev.OutIdx!=ie.ClipperBase.Skip;)r=r.Prev;if(r.Dx==ie.ClipperBase.horizontal&&r.Prev.OutIdx!=ie.ClipperBase.Skip){for(n=r;n.Next.Dx==ie.ClipperBase.horizontal;)n=n.Next;n.Next.Top.X==r.Prev.Top.X?e||(r=n.Next):n.Next.Top.X>r.Prev.Top.X&&(r=n.Next)}for(;t!=r;)t.NextInLML=t.Prev,t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),t=t.Prev;t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),r=r.Prev}if(r.OutIdx==ie.ClipperBase.Skip){if(t=r,e){for(;t.Top.Y==t.Next.Bot.Y;)t=t.Next;for(;t!=r&&t.Dx==ie.ClipperBase.horizontal;)t=t.Prev}else{for(;t.Top.Y==t.Prev.Bot.Y;)t=t.Prev;for(;t!=r&&t.Dx==ie.ClipperBase.horizontal;)t=t.Next}if(t==r)r=e?t.Next:t.Prev;else{t=e?r.Next:r.Prev;var a=new ie.LocalMinima;a.Next=null,a.Y=t.Bot.Y,a.LeftBound=null,a.RightBound=t,a.RightBound.WindDelta=0,r=this.ProcessBound(a.RightBound,e),this.InsertLocalMinima(a)}}return r},ie.ClipperBase.prototype.AddPath=function(t,e,n){ne?n||e!=ie.PolyType.ptClip||ie.Error("AddPath: Open paths must be subject."):n||ie.Error("AddPath: Open paths have been disabled.");var o=t.length-1;if(n)for(;o>0&&ie.IntPoint.op_Equality(t[o],t[0]);)--o;for(;o>0&&ie.IntPoint.op_Equality(t[o],t[o-1]);)--o;if(n&&o<2||!n&&o<1)return!1;for(var i=new Array,r=0;r<=o;r++)i.push(new ie.TEdge);var a=!0;i[1].Curr.X=t[1].X,i[1].Curr.Y=t[1].Y;var s={Value:this.m_UseFullRange};this.RangeTest(t[0],s),this.m_UseFullRange=s.Value,s.Value=this.m_UseFullRange,this.RangeTest(t[o],s),this.m_UseFullRange=s.Value,this.InitEdge(i[0],i[1],i[o],t[0]),this.InitEdge(i[o],i[0],i[o-1],t[o]);for(var r=o-1;r>=1;--r)s.Value=this.m_UseFullRange,this.RangeTest(t[r],s),this.m_UseFullRange=s.Value,this.InitEdge(i[r],i[r+1],i[r-1],t[r]);for(var u=i[0],h=u,p=u;;)if(ie.IntPoint.op_Equality(h.Curr,h.Next.Curr)){if(h==h.Next)break;h==u&&(u=h.Next),h=this.RemoveEdge(h),p=h}else{if(h.Prev==h.Next)break;if(!n||!ie.ClipperBase.SlopesEqual(h.Prev.Curr,h.Curr,h.Next.Curr,this.m_UseFullRange)||this.PreserveCollinear&&this.Pt2IsBetweenPt1AndPt3(h.Prev.Curr,h.Curr,h.Next.Curr)){if(h=h.Next,h==p)break}else h==u&&(u=h.Next),h=this.RemoveEdge(h),h=h.Prev,p=h}if(!n&&h==h.Next||n&&h.Prev==h.Next)return!1;n||(this.m_HasOpenPaths=!0,u.Prev.OutIdx=ie.ClipperBase.Skip);h=u;do this.InitEdge2(h,e),h=h.Next,a&&h.Curr.Y!=u.Curr.Y&&(a=!1);while(h!=u);if(a){if(n)return!1;h.Prev.OutIdx=ie.ClipperBase.Skip,h.Prev.Bot.X<h.Prev.Top.X&&this.ReverseHorizontal(h.Prev);var l=new ie.LocalMinima;for(l.Next=null,l.Y=h.Bot.Y,l.LeftBound=null,l.RightBound=h,l.RightBound.Side=ie.EdgeSide.esRight,l.RightBound.WindDelta=0;h.Next.OutIdx!=ie.ClipperBase.Skip;)h.NextInLML=h.Next,h.Bot.X!=h.Prev.Top.X&&this.ReverseHorizontal(h),h=h.Next;return this.InsertLocalMinima(l),this.m_edges.push(i),!0}this.m_edges.push(i);for(var c,f=null;h=this.FindNextLocMin(h),h!=f;){null==f&&(f=h);var l=new ie.LocalMinima;l.Next=null,l.Y=h.Bot.Y,h.Dx<h.Prev.Dx?(l.LeftBound=h.Prev,l.RightBound=h,c=!1):(l.LeftBound=h,l.RightBound=h.Prev,c=!0),l.LeftBound.Side=ie.EdgeSide.esLeft,l.RightBound.Side=ie.EdgeSide.esRight,n?l.LeftBound.Next==l.RightBound?l.LeftBound.WindDelta=-1:l.LeftBound.WindDelta=1:l.LeftBound.WindDelta=0,l.RightBound.WindDelta=-l.LeftBound.WindDelta,h=this.ProcessBound(l.LeftBound,c);var d=this.ProcessBound(l.RightBound,!c);l.LeftBound.OutIdx==ie.ClipperBase.Skip?l.LeftBound=null:l.RightBound.OutIdx==ie.ClipperBase.Skip&&(l.RightBound=null),this.InsertLocalMinima(l),c||(h=d)}return!0},ie.ClipperBase.prototype.AddPaths=function(t,e,n){for(var o=!1,i=0,r=t.length;i<r;++i)this.AddPath(t[i],e,n)&&(o=!0);return o},ie.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(t,e,n){return!(ie.IntPoint.op_Equality(t,n)||ie.IntPoint.op_Equality(t,e)||ie.IntPoint.op_Equality(n,e))&&(t.X!=n.X?e.X>t.X==e.X<n.X:e.Y>t.Y==e.Y<n.Y)},ie.ClipperBase.prototype.RemoveEdge=function(t){t.Prev.Next=t.Next,t.Next.Prev=t.Prev;var e=t.Next;return t.Prev=null,e},ie.ClipperBase.prototype.SetDx=function(t){t.Delta.X=t.Top.X-t.Bot.X,t.Delta.Y=t.Top.Y-t.Bot.Y,0===t.Delta.Y?t.Dx=ie.ClipperBase.horizontal:t.Dx=t.Delta.X/t.Delta.Y},ie.ClipperBase.prototype.InsertLocalMinima=function(t){if(null===this.m_MinimaList)this.m_MinimaList=t;else if(t.Y>=this.m_MinimaList.Y)t.Next=this.m_MinimaList,this.m_MinimaList=t;else{for(var e=this.m_MinimaList;null!==e.Next&&t.Y<e.Next.Y;)e=e.Next;t.Next=e.Next,e.Next=t}},ie.ClipperBase.prototype.PopLocalMinima=function(){null!==this.m_CurrentLM&&(this.m_CurrentLM=this.m_CurrentLM.Next)},ie.ClipperBase.prototype.ReverseHorizontal=function(t){var e=t.Top.X;t.Top.X=t.Bot.X,t.Bot.X=e,ee&&(e=t.Top.Z,t.Top.Z=t.Bot.Z,t.Bot.Z=e)},ie.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,null!=this.m_CurrentLM)for(var t=this.m_MinimaList;null!=t;){var e=t.LeftBound;null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=ie.EdgeSide.esLeft,e.OutIdx=ie.ClipperBase.Unassigned),e=t.RightBound,null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=ie.EdgeSide.esRight,e.OutIdx=ie.ClipperBase.Unassigned),t=t.Next}},ie.Clipper=function(t){"undefined"==typeof t&&(t=0),this.m_PolyOuts=null,this.m_ClipType=ie.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=ie.PolyFillType.pftEvenOdd,this.m_SubjFillType=ie.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,ie.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=ie.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=0!==(1&t),this.StrictlySimple=0!==(2&t),this.PreserveCollinear=0!==(4&t),ee&&(this.ZFillFunction=null)},ie.Clipper.ioReverseSolution=1,ie.Clipper.ioStrictlySimple=2,ie.Clipper.ioPreserveCollinear=4,ie.Clipper.prototype.Clear=function(){0!==this.m_edges.length&&(this.DisposeAllPolyPts(),ie.ClipperBase.prototype.Clear.call(this))},ie.Clipper.prototype.DisposeScanbeamList=function(){for(;null!==this.m_Scanbeam;){var t=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=t}},ie.Clipper.prototype.Reset=function(){ie.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var t=this.m_MinimaList;null!==t;)this.InsertScanbeam(t.Y),t=t.Next},ie.Clipper.prototype.InsertScanbeam=function(t){if(null===this.m_Scanbeam)this.m_Scanbeam=new ie.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=t;else if(t>this.m_Scanbeam.Y){var e=new ie.Scanbeam;e.Y=t,e.Next=this.m_Scanbeam,this.m_Scanbeam=e}else{for(var n=this.m_Scanbeam;null!==n.Next&&t<=n.Next.Y;)n=n.Next;if(t==n.Y)return;var e=new ie.Scanbeam;e.Y=t,e.Next=n.Next,n.Next=e}},ie.Clipper.prototype.Execute=function(){var t=arguments,e=t.length,n=t[1]instanceof ie.PolyTree;if(4==e&&!n){var o=t[0],i=t[1],r=t[2],a=t[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&ie.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,ie.Clear(i),this.m_SubjFillType=r,this.m_ClipFillType=a,this.m_ClipType=o,this.m_UsingPolyTree=!1;try{var s=this.ExecuteInternal();s&&this.BuildResult(i)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return s}if(4==e&&n){var o=t[0],u=t[1],r=t[2],a=t[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=r,this.m_ClipFillType=a,this.m_ClipType=o,this.m_UsingPolyTree=!0;try{var s=this.ExecuteInternal();s&&this.BuildResult2(u)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return s}if(2==e&&!n){var o=t[0],i=t[1];return this.Execute(o,i,ie.PolyFillType.pftEvenOdd,ie.PolyFillType.pftEvenOdd)}if(2==e&&n){var o=t[0],u=t[1];return this.Execute(o,u,ie.PolyFillType.pftEvenOdd,ie.PolyFillType.pftEvenOdd)}},ie.Clipper.prototype.FixHoleLinkage=function(t){if(null!==t.FirstLeft&&(t.IsHole==t.FirstLeft.IsHole||null===t.FirstLeft.Pts)){for(var e=t.FirstLeft;null!==e&&(e.IsHole==t.IsHole||null===e.Pts);)e=e.FirstLeft;t.FirstLeft=e}},ie.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),null===this.m_CurrentLM)return!1;var t=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(t),ie.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),null===this.m_Scanbeam)break;var e=this.PopScanbeam();if(!this.ProcessIntersections(t,e))return!1;this.ProcessEdgesAtTopOfScanbeam(e),t=e}while(null!==this.m_Scanbeam||null!==this.m_CurrentLM);for(var n=0,o=this.m_PolyOuts.length;n<o;n++){var i=this.m_PolyOuts[n];null===i.Pts||i.IsOpen||(i.IsHole^this.ReverseSolution)==this.Area(i)>0&&this.ReversePolyPtLinks(i.Pts)}this.JoinCommonEdges();for(var n=0,o=this.m_PolyOuts.length;n<o;n++){var i=this.m_PolyOuts[n];null===i.Pts||i.IsOpen||this.FixupOutPolygon(i)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{ie.Clear(this.m_Joins),ie.Clear(this.m_GhostJoins)}},ie.Clipper.prototype.PopScanbeam=function(){var t=this.m_Scanbeam.Y,e=this.m_Scanbeam;return this.m_Scanbeam=this.m_Scanbeam.Next,e=null,t},ie.Clipper.prototype.DisposeAllPolyPts=function(){for(var t=0,e=this.m_PolyOuts.length;t<e;++t)this.DisposeOutRec(t);ie.Clear(this.m_PolyOuts)},ie.Clipper.prototype.DisposeOutRec=function(t){var e=this.m_PolyOuts[t];null!==e.Pts&&this.DisposeOutPts(e.Pts),e=null,this.m_PolyOuts[t]=null},ie.Clipper.prototype.DisposeOutPts=function(t){if(null!==t){var e=null;for(t.Prev.Next=null;null!==t;)e=t,t=t.Next,e=null}},ie.Clipper.prototype.AddJoin=function(t,e,n){var o=new ie.Join;o.OutPt1=t,o.OutPt2=e,o.OffPt.X=n.X,o.OffPt.Y=n.Y,this.m_Joins.push(o)},ie.Clipper.prototype.AddGhostJoin=function(t,e){var n=new ie.Join;n.OutPt1=t,n.OffPt.X=e.X,n.OffPt.Y=e.Y,this.m_GhostJoins.push(n)},ee&&(ie.Clipper.prototype.SetZ=function(t,e){t.Z=0,null!==this.ZFillFunction&&(e.OutIdx<0?this.ZFillFunction(e.Bot,e.Top,t):this.ZFillFunction(e.Top,e.Bot,t))}),ie.Clipper.prototype.InsertLocalMinimaIntoAEL=function(t){for(;null!==this.m_CurrentLM&&this.m_CurrentLM.Y==t;){var e=this.m_CurrentLM.LeftBound,n=this.m_CurrentLM.RightBound;this.PopLocalMinima();var o=null;if(null===e?(this.InsertEdgeIntoAEL(n,null),this.SetWindingCount(n),this.IsContributing(n)&&(o=this.AddOutPt(n,n.Bot))):null==n?(this.InsertEdgeIntoAEL(e,null),this.SetWindingCount(e),this.IsContributing(e)&&(o=this.AddOutPt(e,e.Bot)),this.InsertScanbeam(e.Top.Y)):(this.InsertEdgeIntoAEL(e,null),this.InsertEdgeIntoAEL(n,e),this.SetWindingCount(e),n.WindCnt=e.WindCnt,n.WindCnt2=e.WindCnt2,this.IsContributing(e)&&(o=this.AddLocalMinPoly(e,n,e.Bot)),this.InsertScanbeam(e.Top.Y)),null!=n&&(ie.ClipperBase.IsHorizontal(n)?this.AddEdgeToSEL(n):this.InsertScanbeam(n.Top.Y)),null!=e&&null!=n){if(null!==o&&ie.ClipperBase.IsHorizontal(n)&&this.m_GhostJoins.length>0&&0!==n.WindDelta)for(var i=0,r=this.m_GhostJoins.length;i<r;i++){var a=this.m_GhostJoins[i];this.HorzSegmentsOverlap(a.OutPt1.Pt,a.OffPt,n.Bot,n.Top)&&this.AddJoin(a.OutPt1,o,a.OffPt)}if(e.OutIdx>=0&&null!==e.PrevInAEL&&e.PrevInAEL.Curr.X==e.Bot.X&&e.PrevInAEL.OutIdx>=0&&ie.ClipperBase.SlopesEqual(e.PrevInAEL,e,this.m_UseFullRange)&&0!==e.WindDelta&&0!==e.PrevInAEL.WindDelta){var s=this.AddOutPt(e.PrevInAEL,e.Bot);this.AddJoin(o,s,e.Top)}if(e.NextInAEL!=n){if(n.OutIdx>=0&&n.PrevInAEL.OutIdx>=0&&ie.ClipperBase.SlopesEqual(n.PrevInAEL,n,this.m_UseFullRange)&&0!==n.WindDelta&&0!==n.PrevInAEL.WindDelta){var s=this.AddOutPt(n.PrevInAEL,n.Bot);this.AddJoin(o,s,n.Top)}var u=e.NextInAEL;if(null!==u)for(;u!=n;)this.IntersectEdges(n,u,e.Curr,!1),u=u.NextInAEL}}}},ie.Clipper.prototype.InsertEdgeIntoAEL=function(t,e){if(null===this.m_ActiveEdges)t.PrevInAEL=null,t.NextInAEL=null,this.m_ActiveEdges=t;else if(null===e&&this.E2InsertsBeforeE1(this.m_ActiveEdges,t))t.PrevInAEL=null,t.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=t,this.m_ActiveEdges=t;else{for(null===e&&(e=this.m_ActiveEdges);null!==e.NextInAEL&&!this.E2InsertsBeforeE1(e.NextInAEL,t);)e=e.NextInAEL;t.NextInAEL=e.NextInAEL,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=t),t.PrevInAEL=e,e.NextInAEL=t}},ie.Clipper.prototype.E2InsertsBeforeE1=function(t,e){return e.Curr.X==t.Curr.X?e.Top.Y>t.Top.Y?e.Top.X<ie.Clipper.TopX(t,e.Top.Y):t.Top.X>ie.Clipper.TopX(e,t.Top.Y):e.Curr.X<t.Curr.X},ie.Clipper.prototype.IsEvenOddFillType=function(t){return t.PolyTyp==ie.PolyType.ptSubject?this.m_SubjFillType==ie.PolyFillType.pftEvenOdd:this.m_ClipFillType==ie.PolyFillType.pftEvenOdd},ie.Clipper.prototype.IsEvenOddAltFillType=function(t){return t.PolyTyp==ie.PolyType.ptSubject?this.m_ClipFillType==ie.PolyFillType.pftEvenOdd:this.m_SubjFillType==ie.PolyFillType.pftEvenOdd},ie.Clipper.prototype.IsContributing=function(t){var e,n;switch(t.PolyTyp==ie.PolyType.ptSubject?(e=this.m_SubjFillType,n=this.m_ClipFillType):(e=this.m_ClipFillType,n=this.m_SubjFillType),e){case ie.PolyFillType.pftEvenOdd:if(0===t.WindDelta&&1!=t.WindCnt)return!1;break;case ie.PolyFillType.pftNonZero:if(1!=Math.abs(t.WindCnt))return!1;break;case ie.PolyFillType.pftPositive:if(1!=t.WindCnt)return!1;break;default:if(t.WindCnt!=-1)return!1}switch(this.m_ClipType){case ie.ClipType.ctIntersection:switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case ie.ClipType.ctUnion:switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}case ie.ClipType.ctDifference:if(t.PolyTyp==ie.PolyType.ptSubject)switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}else switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case ie.ClipType.ctXor:if(0!==t.WindDelta)return!0;switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}}return!0},ie.Clipper.prototype.SetWindingCount=function(t){for(var e=t.PrevInAEL;null!==e&&(e.PolyTyp!=t.PolyTyp||0===e.WindDelta);)e=e.PrevInAEL;if(null===e)t.WindCnt=0===t.WindDelta?1:t.WindDelta,t.WindCnt2=0,e=this.m_ActiveEdges;else if(0===t.WindDelta&&this.m_ClipType!=ie.ClipType.ctUnion)t.WindCnt=1,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;else if(this.IsEvenOddFillType(t)){if(0===t.WindDelta){for(var n=!0,o=e.PrevInAEL;null!==o;)o.PolyTyp==e.PolyTyp&&0!==o.WindDelta&&(n=!n),o=o.PrevInAEL;t.WindCnt=n?0:1}else t.WindCnt=t.WindDelta;t.WindCnt2=e.WindCnt2,e=e.NextInAEL}else e.WindCnt*e.WindDelta<0?Math.abs(e.WindCnt)>1?e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta:t.WindCnt=0===t.WindDelta?1:t.WindDelta:0===t.WindDelta?t.WindCnt=e.WindCnt<0?e.WindCnt-1:e.WindCnt+1:e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;if(this.IsEvenOddAltFillType(t))for(;e!=t;)0!==e.WindDelta&&(t.WindCnt2=0===t.WindCnt2?1:0),e=e.NextInAEL;else for(;e!=t;)t.WindCnt2+=e.WindDelta,e=e.NextInAEL},ie.Clipper.prototype.AddEdgeToSEL=function(t){null===this.m_SortedEdges?(this.m_SortedEdges=t,t.PrevInSEL=null,t.NextInSEL=null):(t.NextInSEL=this.m_SortedEdges,t.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=t,this.m_SortedEdges=t)},ie.Clipper.prototype.CopyAELToSEL=function(){var t=this.m_ActiveEdges;for(this.m_SortedEdges=t;null!==t;)t.PrevInSEL=t.PrevInAEL,t.NextInSEL=t.NextInAEL,t=t.NextInAEL},ie.Clipper.prototype.SwapPositionsInAEL=function(t,e){if(t.NextInAEL!=t.PrevInAEL&&e.NextInAEL!=e.PrevInAEL){if(t.NextInAEL==e){var n=e.NextInAEL;null!==n&&(n.PrevInAEL=t);var o=t.PrevInAEL;null!==o&&(o.NextInAEL=e),e.PrevInAEL=o,e.NextInAEL=t,t.PrevInAEL=e,t.NextInAEL=n}else if(e.NextInAEL==t){var n=t.NextInAEL;null!==n&&(n.PrevInAEL=e);var o=e.PrevInAEL;null!==o&&(o.NextInAEL=t),t.PrevInAEL=o,t.NextInAEL=e,e.PrevInAEL=t,e.NextInAEL=n}else{var n=t.NextInAEL,o=t.PrevInAEL;t.NextInAEL=e.NextInAEL,null!==t.NextInAEL&&(t.NextInAEL.PrevInAEL=t),t.PrevInAEL=e.PrevInAEL,null!==t.PrevInAEL&&(t.PrevInAEL.NextInAEL=t),e.NextInAEL=n,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=e),e.PrevInAEL=o,null!==e.PrevInAEL&&(e.PrevInAEL.NextInAEL=e)}null===t.PrevInAEL?this.m_ActiveEdges=t:null===e.PrevInAEL&&(this.m_ActiveEdges=e)}},ie.Clipper.prototype.SwapPositionsInSEL=function(t,e){if(!(null===t.NextInSEL&&null===t.PrevInSEL||null===e.NextInSEL&&null===e.PrevInSEL)){if(t.NextInSEL==e){
var n=e.NextInSEL;null!==n&&(n.PrevInSEL=t);var o=t.PrevInSEL;null!==o&&(o.NextInSEL=e),e.PrevInSEL=o,e.NextInSEL=t,t.PrevInSEL=e,t.NextInSEL=n}else if(e.NextInSEL==t){var n=t.NextInSEL;null!==n&&(n.PrevInSEL=e);var o=e.PrevInSEL;null!==o&&(o.NextInSEL=t),t.PrevInSEL=o,t.NextInSEL=e,e.PrevInSEL=t,e.NextInSEL=n}else{var n=t.NextInSEL,o=t.PrevInSEL;t.NextInSEL=e.NextInSEL,null!==t.NextInSEL&&(t.NextInSEL.PrevInSEL=t),t.PrevInSEL=e.PrevInSEL,null!==t.PrevInSEL&&(t.PrevInSEL.NextInSEL=t),e.NextInSEL=n,null!==e.NextInSEL&&(e.NextInSEL.PrevInSEL=e),e.PrevInSEL=o,null!==e.PrevInSEL&&(e.PrevInSEL.NextInSEL=e)}null===t.PrevInSEL?this.m_SortedEdges=t:null===e.PrevInSEL&&(this.m_SortedEdges=e)}},ie.Clipper.prototype.AddLocalMaxPoly=function(t,e,n){this.AddOutPt(t,n),0==e.WindDelta&&this.AddOutPt(e,n),t.OutIdx==e.OutIdx?(t.OutIdx=-1,e.OutIdx=-1):t.OutIdx<e.OutIdx?this.AppendPolygon(t,e):this.AppendPolygon(e,t)},ie.Clipper.prototype.AddLocalMinPoly=function(t,e,n){var o,i,r;if(ie.ClipperBase.IsHorizontal(e)||t.Dx>e.Dx?(o=this.AddOutPt(t,n),e.OutIdx=t.OutIdx,t.Side=ie.EdgeSide.esLeft,e.Side=ie.EdgeSide.esRight,i=t,r=i.PrevInAEL==e?e.PrevInAEL:i.PrevInAEL):(o=this.AddOutPt(e,n),t.OutIdx=e.OutIdx,t.Side=ie.EdgeSide.esRight,e.Side=ie.EdgeSide.esLeft,i=e,r=i.PrevInAEL==t?t.PrevInAEL:i.PrevInAEL),null!==r&&r.OutIdx>=0&&ie.Clipper.TopX(r,n.Y)==ie.Clipper.TopX(i,n.Y)&&ie.ClipperBase.SlopesEqual(i,r,this.m_UseFullRange)&&0!==i.WindDelta&&0!==r.WindDelta){var a=this.AddOutPt(r,n);this.AddJoin(o,a,i.Top)}return o},ie.Clipper.prototype.CreateOutRec=function(){var t=new ie.OutRec;return t.Idx=-1,t.IsHole=!1,t.IsOpen=!1,t.FirstLeft=null,t.Pts=null,t.BottomPt=null,t.PolyNode=null,this.m_PolyOuts.push(t),t.Idx=this.m_PolyOuts.length-1,t},ie.Clipper.prototype.AddOutPt=function(t,e){var n=t.Side==ie.EdgeSide.esLeft;if(t.OutIdx<0){var o=this.CreateOutRec();o.IsOpen=0===t.WindDelta;var i=new ie.OutPt;return o.Pts=i,i.Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,i.Next=i,i.Prev=i,o.IsOpen||this.SetHoleState(t,o),ee&&(ie.IntPoint.op_Equality(e,t.Bot)?(i.Pt.X=t.Bot.X,i.Pt.Y=t.Bot.Y,i.Pt.Z=t.Bot.Z):ie.IntPoint.op_Equality(e,t.Top)?(i.Pt.X=t.Top.X,i.Pt.Y=t.Top.Y,i.Pt.Z=t.Top.Z):this.SetZ(i.Pt,t)),t.OutIdx=o.Idx,i}var o=this.m_PolyOuts[t.OutIdx],r=o.Pts;if(n&&ie.IntPoint.op_Equality(e,r.Pt))return r;if(!n&&ie.IntPoint.op_Equality(e,r.Prev.Pt))return r.Prev;var i=new ie.OutPt;return i.Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,i.Next=r,i.Prev=r.Prev,i.Prev.Next=i,r.Prev=i,n&&(o.Pts=i),ee&&(ie.IntPoint.op_Equality(e,t.Bot)?(i.Pt.X=t.Bot.X,i.Pt.Y=t.Bot.Y,i.Pt.Z=t.Bot.Z):ie.IntPoint.op_Equality(e,t.Top)?(i.Pt.X=t.Top.X,i.Pt.Y=t.Top.Y,i.Pt.Z=t.Top.Z):this.SetZ(i.Pt,t)),i},ie.Clipper.prototype.SwapPoints=function(t,e){var n=new ie.IntPoint(t.Value);t.Value.X=e.Value.X,t.Value.Y=e.Value.Y,e.Value.X=n.X,e.Value.Y=n.Y},ie.Clipper.prototype.HorzSegmentsOverlap=function(t,e,n,o){return t.X>n.X==t.X<o.X||(e.X>n.X==e.X<o.X||(n.X>t.X==n.X<e.X||(o.X>t.X==o.X<e.X||(t.X==n.X&&e.X==o.X||t.X==o.X&&e.X==n.X))))},ie.Clipper.prototype.InsertPolyPtBetween=function(t,e,n){var o=new ie.OutPt;return o.Pt.X=n.X,o.Pt.Y=n.Y,e==t.Next?(t.Next=o,e.Prev=o,o.Next=e,o.Prev=t):(e.Next=o,t.Prev=o,o.Next=t,o.Prev=e),o},ie.Clipper.prototype.SetHoleState=function(t,e){for(var n=!1,o=t.PrevInAEL;null!==o;)o.OutIdx>=0&&0!=o.WindDelta&&(n=!n,null===e.FirstLeft&&(e.FirstLeft=this.m_PolyOuts[o.OutIdx])),o=o.PrevInAEL;n&&(e.IsHole=!0)},ie.Clipper.prototype.GetDx=function(t,e){return t.Y==e.Y?ie.ClipperBase.horizontal:(e.X-t.X)/(e.Y-t.Y)},ie.Clipper.prototype.FirstIsBottomPt=function(t,e){for(var n=t.Prev;ie.IntPoint.op_Equality(n.Pt,t.Pt)&&n!=t;)n=n.Prev;var o=Math.abs(this.GetDx(t.Pt,n.Pt));for(n=t.Next;ie.IntPoint.op_Equality(n.Pt,t.Pt)&&n!=t;)n=n.Next;var i=Math.abs(this.GetDx(t.Pt,n.Pt));for(n=e.Prev;ie.IntPoint.op_Equality(n.Pt,e.Pt)&&n!=e;)n=n.Prev;var r=Math.abs(this.GetDx(e.Pt,n.Pt));for(n=e.Next;ie.IntPoint.op_Equality(n.Pt,e.Pt)&&n!=e;)n=n.Next;var a=Math.abs(this.GetDx(e.Pt,n.Pt));return o>=r&&o>=a||i>=r&&i>=a},ie.Clipper.prototype.GetBottomPt=function(t){for(var e=null,n=t.Next;n!=t;)n.Pt.Y>t.Pt.Y?(t=n,e=null):n.Pt.Y==t.Pt.Y&&n.Pt.X<=t.Pt.X&&(n.Pt.X<t.Pt.X?(e=null,t=n):n.Next!=t&&n.Prev!=t&&(e=n)),n=n.Next;if(null!==e)for(;e!=n;)for(this.FirstIsBottomPt(n,e)||(t=e),e=e.Next;ie.IntPoint.op_Inequality(e.Pt,t.Pt);)e=e.Next;return t},ie.Clipper.prototype.GetLowermostRec=function(t,e){null===t.BottomPt&&(t.BottomPt=this.GetBottomPt(t.Pts)),null===e.BottomPt&&(e.BottomPt=this.GetBottomPt(e.Pts));var n=t.BottomPt,o=e.BottomPt;return n.Pt.Y>o.Pt.Y?t:n.Pt.Y<o.Pt.Y?e:n.Pt.X<o.Pt.X?t:n.Pt.X>o.Pt.X?e:n.Next==n?e:o.Next==o?t:this.FirstIsBottomPt(n,o)?t:e},ie.Clipper.prototype.Param1RightOfParam2=function(t,e){do if(t=t.FirstLeft,t==e)return!0;while(null!==t);return!1},ie.Clipper.prototype.GetOutRec=function(t){for(var e=this.m_PolyOuts[t];e!=this.m_PolyOuts[e.Idx];)e=this.m_PolyOuts[e.Idx];return e},ie.Clipper.prototype.AppendPolygon=function(t,e){var n,o=this.m_PolyOuts[t.OutIdx],i=this.m_PolyOuts[e.OutIdx];n=this.Param1RightOfParam2(o,i)?i:this.Param1RightOfParam2(i,o)?o:this.GetLowermostRec(o,i);var r,a=o.Pts,s=a.Prev,u=i.Pts,h=u.Prev;t.Side==ie.EdgeSide.esLeft?(e.Side==ie.EdgeSide.esLeft?(this.ReversePolyPtLinks(u),u.Next=a,a.Prev=u,s.Next=h,h.Prev=s,o.Pts=h):(h.Next=a,a.Prev=h,u.Prev=s,s.Next=u,o.Pts=u),r=ie.EdgeSide.esLeft):(e.Side==ie.EdgeSide.esRight?(this.ReversePolyPtLinks(u),s.Next=h,h.Prev=s,u.Next=a,a.Prev=u):(s.Next=u,u.Prev=s,a.Prev=h,h.Next=a),r=ie.EdgeSide.esRight),o.BottomPt=null,n==i&&(i.FirstLeft!=o&&(o.FirstLeft=i.FirstLeft),o.IsHole=i.IsHole),i.Pts=null,i.BottomPt=null,i.FirstLeft=o;var p=t.OutIdx,l=e.OutIdx;t.OutIdx=-1,e.OutIdx=-1;for(var c=this.m_ActiveEdges;null!==c;){if(c.OutIdx==l){c.OutIdx=p,c.Side=r;break}c=c.NextInAEL}i.Idx=o.Idx},ie.Clipper.prototype.ReversePolyPtLinks=function(t){if(null!==t){var e,n;e=t;do n=e.Next,e.Next=e.Prev,e.Prev=n,e=n;while(e!=t)}},ie.Clipper.SwapSides=function(t,e){var n=t.Side;t.Side=e.Side,e.Side=n},ie.Clipper.SwapPolyIndexes=function(t,e){var n=t.OutIdx;t.OutIdx=e.OutIdx,e.OutIdx=n},ie.Clipper.prototype.IntersectEdges=function(t,e,n,o){var i=!o&&null===t.NextInLML&&t.Top.X==n.X&&t.Top.Y==n.Y,r=!o&&null===e.NextInLML&&e.Top.X==n.X&&e.Top.Y==n.Y,a=t.OutIdx>=0,s=e.OutIdx>=0;if(ne&&(0===t.WindDelta||0===e.WindDelta))return 0===t.WindDelta&&0===e.WindDelta?(i||r)&&a&&s&&this.AddLocalMaxPoly(t,e,n):t.PolyTyp==e.PolyTyp&&t.WindDelta!=e.WindDelta&&this.m_ClipType==ie.ClipType.ctUnion?0===t.WindDelta?s&&(this.AddOutPt(t,n),a&&(t.OutIdx=-1)):a&&(this.AddOutPt(e,n),s&&(e.OutIdx=-1)):t.PolyTyp!=e.PolyTyp&&(0!==t.WindDelta||1!=Math.abs(e.WindCnt)||this.m_ClipType==ie.ClipType.ctUnion&&0!==e.WindCnt2?0!==e.WindDelta||1!=Math.abs(t.WindCnt)||this.m_ClipType==ie.ClipType.ctUnion&&0!==t.WindCnt2||(this.AddOutPt(e,n),s&&(e.OutIdx=-1)):(this.AddOutPt(t,n),a&&(t.OutIdx=-1))),i&&(t.OutIdx<0?this.DeleteFromAEL(t):ie.Error("Error intersecting polylines")),void(r&&(e.OutIdx<0?this.DeleteFromAEL(e):ie.Error("Error intersecting polylines")));if(t.PolyTyp==e.PolyTyp)if(this.IsEvenOddFillType(t)){var u=t.WindCnt;t.WindCnt=e.WindCnt,e.WindCnt=u}else t.WindCnt+e.WindDelta===0?t.WindCnt=-t.WindCnt:t.WindCnt+=e.WindDelta,e.WindCnt-t.WindDelta===0?e.WindCnt=-e.WindCnt:e.WindCnt-=t.WindDelta;else this.IsEvenOddFillType(e)?t.WindCnt2=0===t.WindCnt2?1:0:t.WindCnt2+=e.WindDelta,this.IsEvenOddFillType(t)?e.WindCnt2=0===e.WindCnt2?1:0:e.WindCnt2-=t.WindDelta;var h,p,l,c;t.PolyTyp==ie.PolyType.ptSubject?(h=this.m_SubjFillType,l=this.m_ClipFillType):(h=this.m_ClipFillType,l=this.m_SubjFillType),e.PolyTyp==ie.PolyType.ptSubject?(p=this.m_SubjFillType,c=this.m_ClipFillType):(p=this.m_ClipFillType,c=this.m_SubjFillType);var f,d;switch(h){case ie.PolyFillType.pftPositive:f=t.WindCnt;break;case ie.PolyFillType.pftNegative:f=-t.WindCnt;break;default:f=Math.abs(t.WindCnt)}switch(p){case ie.PolyFillType.pftPositive:d=e.WindCnt;break;case ie.PolyFillType.pftNegative:d=-e.WindCnt;break;default:d=Math.abs(e.WindCnt)}if(a&&s)i||r||0!==f&&1!=f||0!==d&&1!=d||t.PolyTyp!=e.PolyTyp&&this.m_ClipType!=ie.ClipType.ctXor?this.AddLocalMaxPoly(t,e,n):(this.AddOutPt(t,n),this.AddOutPt(e,n),ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e));else if(a)0!==d&&1!=d||(this.AddOutPt(t,n),ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e));else if(s)0!==f&&1!=f||(this.AddOutPt(e,n),ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e));else if(!(0!==f&&1!=f||0!==d&&1!=d||i||r)){var y,v;switch(l){case ie.PolyFillType.pftPositive:y=t.WindCnt2;break;case ie.PolyFillType.pftNegative:y=-t.WindCnt2;break;default:y=Math.abs(t.WindCnt2)}switch(c){case ie.PolyFillType.pftPositive:v=e.WindCnt2;break;case ie.PolyFillType.pftNegative:v=-e.WindCnt2;break;default:v=Math.abs(e.WindCnt2)}if(t.PolyTyp!=e.PolyTyp)this.AddLocalMinPoly(t,e,n);else if(1==f&&1==d)switch(this.m_ClipType){case ie.ClipType.ctIntersection:y>0&&v>0&&this.AddLocalMinPoly(t,e,n);break;case ie.ClipType.ctUnion:y<=0&&v<=0&&this.AddLocalMinPoly(t,e,n);break;case ie.ClipType.ctDifference:(t.PolyTyp==ie.PolyType.ptClip&&y>0&&v>0||t.PolyTyp==ie.PolyType.ptSubject&&y<=0&&v<=0)&&this.AddLocalMinPoly(t,e,n);break;case ie.ClipType.ctXor:this.AddLocalMinPoly(t,e,n)}else ie.Clipper.SwapSides(t,e)}i!=r&&(i&&t.OutIdx>=0||r&&e.OutIdx>=0)&&(ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e)),i&&this.DeleteFromAEL(t),r&&this.DeleteFromAEL(e)},ie.Clipper.prototype.DeleteFromAEL=function(t){var e=t.PrevInAEL,n=t.NextInAEL;null===e&&null===n&&t!=this.m_ActiveEdges||(null!==e?e.NextInAEL=n:this.m_ActiveEdges=n,null!==n&&(n.PrevInAEL=e),t.NextInAEL=null,t.PrevInAEL=null)},ie.Clipper.prototype.DeleteFromSEL=function(t){var e=t.PrevInSEL,n=t.NextInSEL;null===e&&null===n&&t!=this.m_SortedEdges||(null!==e?e.NextInSEL=n:this.m_SortedEdges=n,null!==n&&(n.PrevInSEL=e),t.NextInSEL=null,t.PrevInSEL=null)},ie.Clipper.prototype.UpdateEdgeIntoAEL=function(t){null===t.NextInLML&&ie.Error("UpdateEdgeIntoAEL: invalid call");var e=t.PrevInAEL,n=t.NextInAEL;return t.NextInLML.OutIdx=t.OutIdx,null!==e?e.NextInAEL=t.NextInLML:this.m_ActiveEdges=t.NextInLML,null!==n&&(n.PrevInAEL=t.NextInLML),t.NextInLML.Side=t.Side,t.NextInLML.WindDelta=t.WindDelta,t.NextInLML.WindCnt=t.WindCnt,t.NextInLML.WindCnt2=t.WindCnt2,t=t.NextInLML,t.Curr.X=t.Bot.X,t.Curr.Y=t.Bot.Y,t.PrevInAEL=e,t.NextInAEL=n,ie.ClipperBase.IsHorizontal(t)||this.InsertScanbeam(t.Top.Y),t},ie.Clipper.prototype.ProcessHorizontals=function(t){for(var e=this.m_SortedEdges;null!==e;)this.DeleteFromSEL(e),this.ProcessHorizontal(e,t),e=this.m_SortedEdges},ie.Clipper.prototype.GetHorzDirection=function(t,e){t.Bot.X<t.Top.X?(e.Left=t.Bot.X,e.Right=t.Top.X,e.Dir=ie.Direction.dLeftToRight):(e.Left=t.Top.X,e.Right=t.Bot.X,e.Dir=ie.Direction.dRightToLeft)},ie.Clipper.prototype.PrepareHorzJoins=function(t,e){var n=this.m_PolyOuts[t.OutIdx].Pts;t.Side!=ie.EdgeSide.esLeft&&(n=n.Prev),e&&(ie.IntPoint.op_Equality(n.Pt,t.Top)?this.AddGhostJoin(n,t.Bot):this.AddGhostJoin(n,t.Top))},ie.Clipper.prototype.ProcessHorizontal=function(t,e){var n={Dir:null,Left:null,Right:null};this.GetHorzDirection(t,n);for(var o=n.Dir,i=n.Left,r=n.Right,a=t,s=null;null!==a.NextInLML&&ie.ClipperBase.IsHorizontal(a.NextInLML);)a=a.NextInLML;for(null===a.NextInLML&&(s=this.GetMaximaPair(a));;){for(var u=t==a,h=this.GetNextInAEL(t,o);null!==h&&!(h.Curr.X==t.Top.X&&null!==t.NextInLML&&h.Dx<t.NextInLML.Dx);){var p=this.GetNextInAEL(h,o);if(o==ie.Direction.dLeftToRight&&h.Curr.X<=r||o==ie.Direction.dRightToLeft&&h.Curr.X>=i){if(t.OutIdx>=0&&0!=t.WindDelta&&this.PrepareHorzJoins(t,e),h==s&&u)return o==ie.Direction.dLeftToRight?this.IntersectEdges(t,h,h.Top,!1):this.IntersectEdges(h,t,h.Top,!1),void(s.OutIdx>=0&&ie.Error("ProcessHorizontal error"));if(o==ie.Direction.dLeftToRight){var l=new ie.IntPoint(h.Curr.X,t.Curr.Y);this.IntersectEdges(t,h,l,!0)}else{var l=new ie.IntPoint(h.Curr.X,t.Curr.Y);this.IntersectEdges(h,t,l,!0)}this.SwapPositionsInAEL(t,h)}else if(o==ie.Direction.dLeftToRight&&h.Curr.X>=r||o==ie.Direction.dRightToLeft&&h.Curr.X<=i)break;h=p}if(t.OutIdx>=0&&0!==t.WindDelta&&this.PrepareHorzJoins(t,e),null===t.NextInLML||!ie.ClipperBase.IsHorizontal(t.NextInLML))break;t=this.UpdateEdgeIntoAEL(t),t.OutIdx>=0&&this.AddOutPt(t,t.Bot);var n={Dir:o,Left:i,Right:r};this.GetHorzDirection(t,n),o=n.Dir,i=n.Left,r=n.Right}if(null!==t.NextInLML)if(t.OutIdx>=0){var c=this.AddOutPt(t,t.Top);if(t=this.UpdateEdgeIntoAEL(t),0===t.WindDelta)return;var f=t.PrevInAEL,p=t.NextInAEL;if(null!==f&&f.Curr.X==t.Bot.X&&f.Curr.Y==t.Bot.Y&&0!==f.WindDelta&&f.OutIdx>=0&&f.Curr.Y>f.Top.Y&&ie.ClipperBase.SlopesEqual(t,f,this.m_UseFullRange)){var d=this.AddOutPt(f,t.Bot);this.AddJoin(c,d,t.Top)}else if(null!==p&&p.Curr.X==t.Bot.X&&p.Curr.Y==t.Bot.Y&&0!==p.WindDelta&&p.OutIdx>=0&&p.Curr.Y>p.Top.Y&&ie.ClipperBase.SlopesEqual(t,p,this.m_UseFullRange)){var d=this.AddOutPt(p,t.Bot);this.AddJoin(c,d,t.Top)}}else t=this.UpdateEdgeIntoAEL(t);else null!==s?s.OutIdx>=0?(o==ie.Direction.dLeftToRight?this.IntersectEdges(t,s,t.Top,!1):this.IntersectEdges(s,t,t.Top,!1),s.OutIdx>=0&&ie.Error("ProcessHorizontal error")):(this.DeleteFromAEL(t),this.DeleteFromAEL(s)):(t.OutIdx>=0&&this.AddOutPt(t,t.Top),this.DeleteFromAEL(t))},ie.Clipper.prototype.GetNextInAEL=function(t,e){return e==ie.Direction.dLeftToRight?t.NextInAEL:t.PrevInAEL},ie.Clipper.prototype.IsMinima=function(t){return null!==t&&t.Prev.NextInLML!=t&&t.Next.NextInLML!=t},ie.Clipper.prototype.IsMaxima=function(t,e){return null!==t&&t.Top.Y==e&&null===t.NextInLML},ie.Clipper.prototype.IsIntermediate=function(t,e){return t.Top.Y==e&&null!==t.NextInLML},ie.Clipper.prototype.GetMaximaPair=function(t){var e=null;return ie.IntPoint.op_Equality(t.Next.Top,t.Top)&&null===t.Next.NextInLML?e=t.Next:ie.IntPoint.op_Equality(t.Prev.Top,t.Top)&&null===t.Prev.NextInLML&&(e=t.Prev),null===e||e.OutIdx!=-2&&(e.NextInAEL!=e.PrevInAEL||ie.ClipperBase.IsHorizontal(e))?e:null},ie.Clipper.prototype.ProcessIntersections=function(t,e){if(null==this.m_ActiveEdges)return!0;try{if(this.BuildIntersectList(t,e),0==this.m_IntersectList.length)return!0;if(1!=this.m_IntersectList.length&&!this.FixupIntersectionOrder())return!1;this.ProcessIntersectList()}catch(t){this.m_SortedEdges=null,this.m_IntersectList.length=0,ie.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},ie.Clipper.prototype.BuildIntersectList=function(t,e){if(null!==this.m_ActiveEdges){var n=this.m_ActiveEdges;for(this.m_SortedEdges=n;null!==n;)n.PrevInSEL=n.PrevInAEL,n.NextInSEL=n.NextInAEL,n.Curr.X=ie.Clipper.TopX(n,e),n=n.NextInAEL;for(var o=!0;o&&null!==this.m_SortedEdges;){for(o=!1,n=this.m_SortedEdges;null!==n.NextInSEL;){var i=n.NextInSEL,r=new ie.IntPoint;if(n.Curr.X>i.Curr.X){!this.IntersectPoint(n,i,r)&&n.Curr.X>i.Curr.X+1&&ie.Error("Intersection error"),r.Y>t&&(r.Y=t,Math.abs(n.Dx)>Math.abs(i.Dx)?r.X=ie.Clipper.TopX(i,t):r.X=ie.Clipper.TopX(n,t));var a=new ie.IntersectNode;a.Edge1=n,a.Edge2=i,a.Pt.X=r.X,a.Pt.Y=r.Y,this.m_IntersectList.push(a),this.SwapPositionsInSEL(n,i),o=!0}else n=i}if(null===n.PrevInSEL)break;n.PrevInSEL.NextInSEL=null}this.m_SortedEdges=null}},ie.Clipper.prototype.EdgesAdjacent=function(t){return t.Edge1.NextInSEL==t.Edge2||t.Edge1.PrevInSEL==t.Edge2},ie.Clipper.IntersectNodeSort=function(t,e){return e.Pt.Y-t.Pt.Y},ie.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var t=this.m_IntersectList.length,e=0;e<t;e++){if(!this.EdgesAdjacent(this.m_IntersectList[e])){for(var n=e+1;n<t&&!this.EdgesAdjacent(this.m_IntersectList[n]);)n++;if(n==t)return!1;var o=this.m_IntersectList[e];this.m_IntersectList[e]=this.m_IntersectList[n],this.m_IntersectList[n]=o}this.SwapPositionsInSEL(this.m_IntersectList[e].Edge1,this.m_IntersectList[e].Edge2)}return!0},ie.Clipper.prototype.ProcessIntersectList=function(){for(var t=0,e=this.m_IntersectList.length;t<e;t++){var n=this.m_IntersectList[t];this.IntersectEdges(n.Edge1,n.Edge2,n.Pt,!0),this.SwapPositionsInAEL(n.Edge1,n.Edge2)}this.m_IntersectList.length=0};var xe=function(t){return t<0?Math.ceil(t-.5):Math.round(t)},we=function(t){return t<0?Math.ceil(t-.5):Math.floor(t+.5)},Pe=function(t){return t<0?-Math.round(Math.abs(t)):Math.round(t)},Se=function(t){return t<0?(t-=.5,t<-2147483648?Math.ceil(t):0|t):(t+=.5,t>2147483647?Math.floor(t):0|t)};ue.msie?ie.Clipper.Round=xe:ue.chromium?ie.Clipper.Round=Pe:ue.safari?ie.Clipper.Round=Se:ie.Clipper.Round=we,ie.Clipper.TopX=function(t,e){return e==t.Top.Y?t.Top.X:t.Bot.X+ie.Clipper.Round(t.Dx*(e-t.Bot.Y))},ie.Clipper.prototype.IntersectPoint=function(t,e,n){n.X=0,n.Y=0;var o,i;if(ie.ClipperBase.SlopesEqual(t,e,this.m_UseFullRange)||t.Dx==e.Dx)return e.Bot.Y>t.Bot.Y?(n.X=e.Bot.X,n.Y=e.Bot.Y):(n.X=t.Bot.X,n.Y=t.Bot.Y),!1;if(0===t.Delta.X)n.X=t.Bot.X,ie.ClipperBase.IsHorizontal(e)?n.Y=e.Bot.Y:(i=e.Bot.Y-e.Bot.X/e.Dx,n.Y=ie.Clipper.Round(n.X/e.Dx+i));else if(0===e.Delta.X)n.X=e.Bot.X,ie.ClipperBase.IsHorizontal(t)?n.Y=t.Bot.Y:(o=t.Bot.Y-t.Bot.X/t.Dx,n.Y=ie.Clipper.Round(n.X/t.Dx+o));else{o=t.Bot.X-t.Bot.Y*t.Dx,i=e.Bot.X-e.Bot.Y*e.Dx;var r=(i-o)/(t.Dx-e.Dx);n.Y=ie.Clipper.Round(r),Math.abs(t.Dx)<Math.abs(e.Dx)?n.X=ie.Clipper.Round(t.Dx*r+o):n.X=ie.Clipper.Round(e.Dx*r+i)}if(n.Y<t.Top.Y||n.Y<e.Top.Y){if(t.Top.Y>e.Top.Y)return n.Y=t.Top.Y,n.X=ie.Clipper.TopX(e,t.Top.Y),n.X<t.Top.X;n.Y=e.Top.Y,Math.abs(t.Dx)<Math.abs(e.Dx)?n.X=ie.Clipper.TopX(t,n.Y):n.X=ie.Clipper.TopX(e,n.Y)}return!0},ie.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(t){for(var e=this.m_ActiveEdges;null!==e;){var n=this.IsMaxima(e,t);if(n){var o=this.GetMaximaPair(e);n=null===o||!ie.ClipperBase.IsHorizontal(o)}if(n){var i=e.PrevInAEL;this.DoMaxima(e),e=null===i?this.m_ActiveEdges:i.NextInAEL}else{if(this.IsIntermediate(e,t)&&ie.ClipperBase.IsHorizontal(e.NextInLML)?(e=this.UpdateEdgeIntoAEL(e),e.OutIdx>=0&&this.AddOutPt(e,e.Bot),this.AddEdgeToSEL(e)):(e.Curr.X=ie.Clipper.TopX(e,t),e.Curr.Y=t),this.StrictlySimple){var i=e.PrevInAEL;if(e.OutIdx>=0&&0!==e.WindDelta&&null!==i&&i.OutIdx>=0&&i.Curr.X==e.Curr.X&&0!==i.WindDelta){var r=this.AddOutPt(i,e.Curr),a=this.AddOutPt(e,e.Curr);this.AddJoin(r,a,e.Curr)}}e=e.NextInAEL}}for(this.ProcessHorizontals(!0),e=this.m_ActiveEdges;null!==e;){if(this.IsIntermediate(e,t)){var r=null;e.OutIdx>=0&&(r=this.AddOutPt(e,e.Top)),e=this.UpdateEdgeIntoAEL(e);var i=e.PrevInAEL,s=e.NextInAEL;if(null!==i&&i.Curr.X==e.Bot.X&&i.Curr.Y==e.Bot.Y&&null!==r&&i.OutIdx>=0&&i.Curr.Y>i.Top.Y&&ie.ClipperBase.SlopesEqual(e,i,this.m_UseFullRange)&&0!==e.WindDelta&&0!==i.WindDelta){var a=this.AddOutPt(i,e.Bot);this.AddJoin(r,a,e.Top)}else if(null!==s&&s.Curr.X==e.Bot.X&&s.Curr.Y==e.Bot.Y&&null!==r&&s.OutIdx>=0&&s.Curr.Y>s.Top.Y&&ie.ClipperBase.SlopesEqual(e,s,this.m_UseFullRange)&&0!==e.WindDelta&&0!==s.WindDelta){var a=this.AddOutPt(s,e.Bot);this.AddJoin(r,a,e.Top)}}e=e.NextInAEL}},ie.Clipper.prototype.DoMaxima=function(t){var e=this.GetMaximaPair(t);if(null===e)return t.OutIdx>=0&&this.AddOutPt(t,t.Top),void this.DeleteFromAEL(t);for(var n=t.NextInAEL,o=!0;null!==n&&n!=e;)this.IntersectEdges(t,n,t.Top,!0),this.SwapPositionsInAEL(t,n),n=t.NextInAEL;t.OutIdx==-1&&e.OutIdx==-1?(this.DeleteFromAEL(t),this.DeleteFromAEL(e)):t.OutIdx>=0&&e.OutIdx>=0?this.IntersectEdges(t,e,t.Top,!1):o&&0===t.WindDelta?(t.OutIdx>=0&&(this.AddOutPt(t,t.Top),t.OutIdx=-1),this.DeleteFromAEL(t),e.OutIdx>=0&&(this.AddOutPt(e,t.Top),e.OutIdx=-1),this.DeleteFromAEL(e)):ie.Error("DoMaxima error")},ie.Clipper.ReversePaths=function(t){for(var e=0,n=t.length;e<n;e++)t[e].reverse()},ie.Clipper.Orientation=function(t){return ie.Clipper.Area(t)>=0},ie.Clipper.prototype.PointCount=function(t){if(null===t)return 0;var e=0,n=t;do e++,n=n.Next;while(n!=t);return e},ie.Clipper.prototype.BuildResult=function(t){ie.Clear(t);for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var o=this.m_PolyOuts[e];if(null!==o.Pts){var i=o.Pts.Prev,r=this.PointCount(i);if(!(r<2)){for(var a=new Array(r),s=0;s<r;s++)a[s]=i.Pt,i=i.Prev;t.push(a)}}}},ie.Clipper.prototype.BuildResult2=function(t){t.Clear();for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var o=this.m_PolyOuts[e],i=this.PointCount(o.Pts);if(!(o.IsOpen&&i<2||!o.IsOpen&&i<3)){this.FixHoleLinkage(o);var r=new ie.PolyNode;t.m_AllPolys.push(r),o.PolyNode=r,r.m_polygon.length=i;for(var a=o.Pts.Prev,s=0;s<i;s++)r.m_polygon[s]=a.Pt,a=a.Prev}}for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var o=this.m_PolyOuts[e];null!==o.PolyNode&&(o.IsOpen?(o.PolyNode.IsOpen=!0,t.AddChild(o.PolyNode)):null!==o.FirstLeft&&null!=o.FirstLeft.PolyNode?o.FirstLeft.PolyNode.AddChild(o.PolyNode):t.AddChild(o.PolyNode))}},ie.Clipper.prototype.FixupOutPolygon=function(t){var e=null;t.BottomPt=null;for(var n=t.Pts;;){if(n.Prev==n||n.Prev==n.Next)return this.DisposeOutPts(n),void(t.Pts=null);if(ie.IntPoint.op_Equality(n.Pt,n.Next.Pt)||ie.IntPoint.op_Equality(n.Pt,n.Prev.Pt)||ie.ClipperBase.SlopesEqual(n.Prev.Pt,n.Pt,n.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(n.Prev.Pt,n.Pt,n.Next.Pt))){e=null;var o=n;n.Prev.Next=n.Next,n.Next.Prev=n.Prev,n=n.Prev,o=null}else{if(n==e)break;null===e&&(e=n),n=n.Next}}t.Pts=n},ie.Clipper.prototype.DupOutPt=function(t,e){var n=new ie.OutPt;return n.Pt.X=t.Pt.X,n.Pt.Y=t.Pt.Y,n.Idx=t.Idx,e?(n.Next=t.Next,n.Prev=t,t.Next.Prev=n,t.Next=n):(n.Prev=t.Prev,n.Next=t,t.Prev.Next=n,t.Prev=n),n},ie.Clipper.prototype.GetOverlap=function(t,e,n,o,i){return t<e?n<o?(i.Left=Math.max(t,n),i.Right=Math.min(e,o)):(i.Left=Math.max(t,o),i.Right=Math.min(e,n)):n<o?(i.Left=Math.max(e,n),i.Right=Math.min(t,o)):(i.Left=Math.max(e,o),i.Right=Math.min(t,n)),i.Left<i.Right},ie.Clipper.prototype.JoinHorz=function(t,e,n,o,i,r){var a=t.Pt.X>e.Pt.X?ie.Direction.dRightToLeft:ie.Direction.dLeftToRight,s=n.Pt.X>o.Pt.X?ie.Direction.dRightToLeft:ie.Direction.dLeftToRight;if(a==s)return!1;if(a==ie.Direction.dLeftToRight){for(;t.Next.Pt.X<=i.X&&t.Next.Pt.X>=t.Pt.X&&t.Next.Pt.Y==i.Y;)t=t.Next;r&&t.Pt.X!=i.X&&(t=t.Next),e=this.DupOutPt(t,!r),ie.IntPoint.op_Inequality(e.Pt,i)&&(t=e,t.Pt.X=i.X,t.Pt.Y=i.Y,e=this.DupOutPt(t,!r))}else{for(;t.Next.Pt.X>=i.X&&t.Next.Pt.X<=t.Pt.X&&t.Next.Pt.Y==i.Y;)t=t.Next;r||t.Pt.X==i.X||(t=t.Next),e=this.DupOutPt(t,r),ie.IntPoint.op_Inequality(e.Pt,i)&&(t=e,t.Pt.X=i.X,t.Pt.Y=i.Y,e=this.DupOutPt(t,r))}if(s==ie.Direction.dLeftToRight){for(;n.Next.Pt.X<=i.X&&n.Next.Pt.X>=n.Pt.X&&n.Next.Pt.Y==i.Y;)n=n.Next;r&&n.Pt.X!=i.X&&(n=n.Next),o=this.DupOutPt(n,!r),ie.IntPoint.op_Inequality(o.Pt,i)&&(n=o,n.Pt.X=i.X,n.Pt.Y=i.Y,o=this.DupOutPt(n,!r))}else{for(;n.Next.Pt.X>=i.X&&n.Next.Pt.X<=n.Pt.X&&n.Next.Pt.Y==i.Y;)n=n.Next;r||n.Pt.X==i.X||(n=n.Next),o=this.DupOutPt(n,r),ie.IntPoint.op_Inequality(o.Pt,i)&&(n=o,n.Pt.X=i.X,n.Pt.Y=i.Y,o=this.DupOutPt(n,r))}return a==ie.Direction.dLeftToRight==r?(t.Prev=n,n.Next=t,e.Next=o,o.Prev=e):(t.Next=n,n.Prev=t,e.Prev=o,o.Next=e),!0},ie.Clipper.prototype.JoinPoints=function(t,e,n){var o=t.OutPt1,i=new ie.OutPt,r=t.OutPt2,a=new ie.OutPt,s=t.OutPt1.Pt.Y==t.OffPt.Y;if(s&&ie.IntPoint.op_Equality(t.OffPt,t.OutPt1.Pt)&&ie.IntPoint.op_Equality(t.OffPt,t.OutPt2.Pt)){for(i=t.OutPt1.Next;i!=o&&ie.IntPoint.op_Equality(i.Pt,t.OffPt);)i=i.Next;var u=i.Pt.Y>t.OffPt.Y;for(a=t.OutPt2.Next;a!=r&&ie.IntPoint.op_Equality(a.Pt,t.OffPt);)a=a.Next;var h=a.Pt.Y>t.OffPt.Y;return u!=h&&(u?(i=this.DupOutPt(o,!1),a=this.DupOutPt(r,!0),o.Prev=r,r.Next=o,i.Next=a,a.Prev=i,t.OutPt1=o,t.OutPt2=i,!0):(i=this.DupOutPt(o,!0),a=this.DupOutPt(r,!1),o.Next=r,r.Prev=o,i.Prev=a,a.Next=i,t.OutPt1=o,t.OutPt2=i,!0))}if(s){for(i=o;o.Prev.Pt.Y==o.Pt.Y&&o.Prev!=i&&o.Prev!=r;)o=o.Prev;for(;i.Next.Pt.Y==i.Pt.Y&&i.Next!=o&&i.Next!=r;)i=i.Next;if(i.Next==o||i.Next==r)return!1;for(a=r;r.Prev.Pt.Y==r.Pt.Y&&r.Prev!=a&&r.Prev!=i;)r=r.Prev;for(;a.Next.Pt.Y==a.Pt.Y&&a.Next!=r&&a.Next!=o;)a=a.Next;if(a.Next==r||a.Next==o)return!1;var p={Left:null,Right:null};if(!this.GetOverlap(o.Pt.X,i.Pt.X,r.Pt.X,a.Pt.X,p))return!1;var l,c=p.Left,f=p.Right,d=new ie.IntPoint;return o.Pt.X>=c&&o.Pt.X<=f?(d.X=o.Pt.X,d.Y=o.Pt.Y,l=o.Pt.X>i.Pt.X):r.Pt.X>=c&&r.Pt.X<=f?(d.X=r.Pt.X,d.Y=r.Pt.Y,l=r.Pt.X>a.Pt.X):i.Pt.X>=c&&i.Pt.X<=f?(d.X=i.Pt.X,d.Y=i.Pt.Y,l=i.Pt.X>o.Pt.X):(d.X=a.Pt.X,d.Y=a.Pt.Y,l=a.Pt.X>r.Pt.X),t.OutPt1=o,t.OutPt2=r,this.JoinHorz(o,i,r,a,d,l)}for(i=o.Next;ie.IntPoint.op_Equality(i.Pt,o.Pt)&&i!=o;)i=i.Next;var y=i.Pt.Y>o.Pt.Y||!ie.ClipperBase.SlopesEqual(o.Pt,i.Pt,t.OffPt,this.m_UseFullRange);if(y){for(i=o.Prev;ie.IntPoint.op_Equality(i.Pt,o.Pt)&&i!=o;)i=i.Prev;if(i.Pt.Y>o.Pt.Y||!ie.ClipperBase.SlopesEqual(o.Pt,i.Pt,t.OffPt,this.m_UseFullRange))return!1}for(a=r.Next;ie.IntPoint.op_Equality(a.Pt,r.Pt)&&a!=r;)a=a.Next;var v=a.Pt.Y>r.Pt.Y||!ie.ClipperBase.SlopesEqual(r.Pt,a.Pt,t.OffPt,this.m_UseFullRange);if(v){for(a=r.Prev;ie.IntPoint.op_Equality(a.Pt,r.Pt)&&a!=r;)a=a.Prev;if(a.Pt.Y>r.Pt.Y||!ie.ClipperBase.SlopesEqual(r.Pt,a.Pt,t.OffPt,this.m_UseFullRange))return!1}return i!=o&&a!=r&&i!=a&&(e!=n||y!=v)&&(y?(i=this.DupOutPt(o,!1),a=this.DupOutPt(r,!0),o.Prev=r,r.Next=o,i.Next=a,a.Prev=i,t.OutPt1=o,t.OutPt2=i,!0):(i=this.DupOutPt(o,!0),a=this.DupOutPt(r,!1),o.Next=r,r.Prev=o,i.Prev=a,a.Next=i,t.OutPt1=o,t.OutPt2=i,!0))},ie.Clipper.GetBounds=function(t){for(var e=0,n=t.length;e<n&&0==t[e].length;)e++;if(e==n)return new ie.IntRect(0,0,0,0);var o=new ie.IntRect;for(o.left=t[e][0].X,o.right=o.left,o.top=t[e][0].Y,o.bottom=o.top;e<n;e++)for(var i=0,r=t[e].length;i<r;i++)t[e][i].X<o.left?o.left=t[e][i].X:t[e][i].X>o.right&&(o.right=t[e][i].X),t[e][i].Y<o.top?o.top=t[e][i].Y:t[e][i].Y>o.bottom&&(o.bottom=t[e][i].Y);return o},ie.Clipper.prototype.GetBounds2=function(t){var e=t,n=new ie.IntRect;for(n.left=t.Pt.X,n.right=t.Pt.X,n.top=t.Pt.Y,n.bottom=t.Pt.Y,t=t.Next;t!=e;)t.Pt.X<n.left&&(n.left=t.Pt.X),t.Pt.X>n.right&&(n.right=t.Pt.X),t.Pt.Y<n.top&&(n.top=t.Pt.Y),t.Pt.Y>n.bottom&&(n.bottom=t.Pt.Y),t=t.Next;return n},ie.Clipper.PointInPolygon=function(t,e){var n=0,o=e.length;if(o<3)return 0;for(var i=e[0],r=1;r<=o;++r){var a=r==o?e[0]:e[r];if(a.Y==t.Y&&(a.X==t.X||i.Y==t.Y&&a.X>t.X==i.X<t.X))return-1;if(i.Y<t.Y!=a.Y<t.Y)if(i.X>=t.X)if(a.X>t.X)n=1-n;else{var s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y);if(0==s)return-1;s>0==a.Y>i.Y&&(n=1-n)}else if(a.X>t.X){var s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y);if(0==s)return-1;s>0==a.Y>i.Y&&(n=1-n)}i=a}return n},ie.Clipper.prototype.PointInPolygon=function(t,e){for(var n=0,o=e;;){var i=e.Pt.X,r=e.Pt.Y,a=e.Next.Pt.X,s=e.Next.Pt.Y;if(s==t.Y&&(a==t.X||r==t.Y&&a>t.X==i<t.X))return-1;if(r<t.Y!=s<t.Y)if(i>=t.X)if(a>t.X)n=1-n;else{var u=(i-t.X)*(s-t.Y)-(a-t.X)*(r-t.Y);if(0==u)return-1;u>0==s>r&&(n=1-n)}else if(a>t.X){var u=(i-t.X)*(s-t.Y)-(a-t.X)*(r-t.Y);if(0==u)return-1;u>0==s>r&&(n=1-n)}if(e=e.Next,o==e)break}return n},ie.Clipper.prototype.Poly2ContainsPoly1=function(t,e){var n=t;do{var o=this.PointInPolygon(n.Pt,e);if(o>=0)return 0!=o;n=n.Next}while(n!=t);return!0},ie.Clipper.prototype.FixupFirstLefts1=function(t,e){for(var n=0,o=this.m_PolyOuts.length;n<o;n++){var i=this.m_PolyOuts[n];null!==i.Pts&&i.FirstLeft==t&&this.Poly2ContainsPoly1(i.Pts,e.Pts)&&(i.FirstLeft=e)}},ie.Clipper.prototype.FixupFirstLefts2=function(t,e){for(var n=0,o=this.m_PolyOuts,i=o.length,r=o[n];n<i;n++,r=o[n])r.FirstLeft==t&&(r.FirstLeft=e)},ie.Clipper.ParseFirstLeft=function(t){for(;null!=t&&null==t.Pts;)t=t.FirstLeft;return t},ie.Clipper.prototype.JoinCommonEdges=function(){for(var t=0,e=this.m_Joins.length;t<e;t++){var n=this.m_Joins[t],o=this.GetOutRec(n.OutPt1.Idx),i=this.GetOutRec(n.OutPt2.Idx);if(null!=o.Pts&&null!=i.Pts){var r;if(r=o==i?o:this.Param1RightOfParam2(o,i)?i:this.Param1RightOfParam2(i,o)?o:this.GetLowermostRec(o,i),this.JoinPoints(n,o,i))if(o==i){if(o.Pts=n.OutPt1,o.BottomPt=null,i=this.CreateOutRec(),i.Pts=n.OutPt2,this.UpdateOutPtIdxs(i),this.m_UsingPolyTree)for(var a=0,s=this.m_PolyOuts.length;a<s-1;a++){var u=this.m_PolyOuts[a];null!=u.Pts&&ie.Clipper.ParseFirstLeft(u.FirstLeft)==o&&u.IsHole!=o.IsHole&&this.Poly2ContainsPoly1(u.Pts,n.OutPt2)&&(u.FirstLeft=i)}this.Poly2ContainsPoly1(i.Pts,o.Pts)?(i.IsHole=!o.IsHole,i.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(i,o),(i.IsHole^this.ReverseSolution)==this.Area(i)>0&&this.ReversePolyPtLinks(i.Pts)):this.Poly2ContainsPoly1(o.Pts,i.Pts)?(i.IsHole=o.IsHole,o.IsHole=!i.IsHole,i.FirstLeft=o.FirstLeft,o.FirstLeft=i,this.m_UsingPolyTree&&this.FixupFirstLefts2(o,i),(o.IsHole^this.ReverseSolution)==this.Area(o)>0&&this.ReversePolyPtLinks(o.Pts)):(i.IsHole=o.IsHole,i.FirstLeft=o.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(o,i))}else i.Pts=null,i.BottomPt=null,i.Idx=o.Idx,o.IsHole=r.IsHole,r==i&&(o.FirstLeft=i.FirstLeft),i.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(i,o)}}},ie.Clipper.prototype.UpdateOutPtIdxs=function(t){var e=t.Pts;do e.Idx=t.Idx,e=e.Prev;while(e!=t.Pts)},ie.Clipper.prototype.DoSimplePolygons=function(){for(var t=0;t<this.m_PolyOuts.length;){var e=this.m_PolyOuts[t++],n=e.Pts;if(null!==n)do{for(var o=n.Next;o!=e.Pts;){if(ie.IntPoint.op_Equality(n.Pt,o.Pt)&&o.Next!=n&&o.Prev!=n){var i=n.Prev,r=o.Prev;n.Prev=r,r.Next=n,o.Prev=i,i.Next=o,e.Pts=n;var a=this.CreateOutRec();a.Pts=o,this.UpdateOutPtIdxs(a),this.Poly2ContainsPoly1(a.Pts,e.Pts)?(a.IsHole=!e.IsHole,a.FirstLeft=e):this.Poly2ContainsPoly1(e.Pts,a.Pts)?(a.IsHole=e.IsHole,e.IsHole=!a.IsHole,a.FirstLeft=e.FirstLeft,e.FirstLeft=a):(a.IsHole=e.IsHole,a.FirstLeft=e.FirstLeft),o=n}o=o.Next}n=n.Next}while(n!=e.Pts)}},ie.Clipper.Area=function(t){var e=t.length;if(e<3)return 0;for(var n=0,o=0,i=e-1;o<e;++o)n+=(t[i].X+t[o].X)*(t[i].Y-t[o].Y),i=o;return.5*-n},ie.Clipper.prototype.Area=function(t){var e=t.Pts;if(null==e)return 0;var n=0;do n+=(e.Prev.Pt.X+e.Pt.X)*(e.Prev.Pt.Y-e.Pt.Y),e=e.Next;while(e!=t.Pts);return.5*n},oe&&(ie.Clipper.OffsetPaths=function(t,e,n,o,i){var r=new ie.Paths,a=new ie.ClipperOffset(i,i);return a.AddPaths(t,n,o),a.Execute(r,e),r}),ie.Clipper.SimplifyPolygon=function(t,e){var n=new Array,o=new ie.Clipper(0);return o.StrictlySimple=!0,o.AddPath(t,ie.PolyType.ptSubject,!0),o.Execute(ie.ClipType.ctUnion,n,e,e),n},ie.Clipper.SimplifyPolygons=function(t,e){"undefined"==typeof e&&(e=ie.PolyFillType.pftEvenOdd);var n=new Array,o=new ie.Clipper(0);return o.StrictlySimple=!0,o.AddPaths(t,ie.PolyType.ptSubject,!0),o.Execute(ie.ClipType.ctUnion,n,e,e),n},ie.Clipper.DistanceSqrd=function(t,e){var n=t.X-e.X,o=t.Y-e.Y;return n*n+o*o},ie.Clipper.DistanceFromLineSqrd=function(t,e,n){var o=e.Y-n.Y,i=n.X-e.X,r=o*e.X+i*e.Y;return r=o*t.X+i*t.Y-r,r*r/(o*o+i*i)},ie.Clipper.SlopesNearCollinear=function(t,e,n,o){return ie.Clipper.DistanceFromLineSqrd(e,t,n)<o},ie.Clipper.PointsAreClose=function(t,e,n){var o=t.X-e.X,i=t.Y-e.Y;return o*o+i*i<=n},ie.Clipper.ExcludeOp=function(t){var e=t.Prev;return e.Next=t.Next,t.Next.Prev=e,e.Idx=0,e},ie.Clipper.CleanPolygon=function(t,e){"undefined"==typeof e&&(e=1.415);var n=t.length;if(0==n)return new Array;for(var o=new Array(n),i=0;i<n;++i)o[i]=new ie.OutPt;for(var i=0;i<n;++i)o[i].Pt=t[i],o[i].Next=o[(i+1)%n],o[i].Next.Prev=o[i],o[i].Idx=0;for(var r=e*e,a=o[0];0==a.Idx&&a.Next!=a.Prev;)ie.Clipper.PointsAreClose(a.Pt,a.Prev.Pt,r)?(a=ie.Clipper.ExcludeOp(a),n--):ie.Clipper.PointsAreClose(a.Prev.Pt,a.Next.Pt,r)?(ie.Clipper.ExcludeOp(a.Next),a=ie.Clipper.ExcludeOp(a),n-=2):ie.Clipper.SlopesNearCollinear(a.Prev.Pt,a.Pt,a.Next.Pt,r)?(a=ie.Clipper.ExcludeOp(a),n--):(a.Idx=1,a=a.Next);n<3&&(n=0);for(var s=new Array(n),i=0;i<n;++i)s[i]=new ie.IntPoint(a.Pt),a=a.Next;return o=null,s},ie.Clipper.CleanPolygons=function(t,e){for(var n=new Array(t.length),o=0,i=t.length;o<i;o++)n[o]=ie.Clipper.CleanPolygon(t[o],e);return n},ie.Clipper.Minkowski=function(t,e,n,o){var i=o?1:0,r=t.length,a=e.length,s=new Array;if(n)for(var u=0;u<a;u++){for(var h=new Array(r),p=0,l=t.length,c=t[p];p<l;p++,c=t[p])h[p]=new ie.IntPoint(e[u].X+c.X,e[u].Y+c.Y);s.push(h)}else for(var u=0;u<a;u++){for(var h=new Array(r),p=0,l=t.length,c=t[p];p<l;p++,c=t[p])h[p]=new ie.IntPoint(e[u].X-c.X,e[u].Y-c.Y);s.push(h)}for(var f=new Array,u=0;u<a-1+i;u++)for(var p=0;p<r;p++){var d=new Array;d.push(s[u%a][p%r]),d.push(s[(u+1)%a][p%r]),d.push(s[(u+1)%a][(p+1)%r]),d.push(s[u%a][(p+1)%r]),ie.Clipper.Orientation(d)||d.reverse(),
f.push(d)}var y=new ie.Clipper(0);return y.AddPaths(f,ie.PolyType.ptSubject,!0),y.Execute(ie.ClipType.ctUnion,s,ie.PolyFillType.pftNonZero,ie.PolyFillType.pftNonZero),s},ie.Clipper.MinkowskiSum=function(){var t=arguments,e=t.length;if(3==e){var n=t[0],o=t[1],i=t[2];return ie.Clipper.Minkowski(n,o,!0,i)}if(4==e){for(var r,n=t[0],a=t[1],s=t[2],i=t[3],u=new ie.Clipper,h=0,p=a.length;h<p;++h){var r=ie.Clipper.Minkowski(n,a[h],!0,i);u.AddPaths(r,ie.PolyType.ptSubject,!0)}i&&u.AddPaths(a,ie.PolyType.ptClip,!0);var l=new ie.Paths;return u.Execute(ie.ClipType.ctUnion,l,s,s),l}},ie.Clipper.MinkowskiDiff=function(t,e,n){return ie.Clipper.Minkowski(t,e,!1,n)},ie.Clipper.PolyTreeToPaths=function(t){var e=new Array;return ie.Clipper.AddPolyNodeToPaths(t,ie.Clipper.NodeType.ntAny,e),e},ie.Clipper.AddPolyNodeToPaths=function(t,e,n){var o=!0;switch(e){case ie.Clipper.NodeType.ntOpen:return;case ie.Clipper.NodeType.ntClosed:o=!t.IsOpen}t.m_polygon.length>0&&o&&n.push(t.m_polygon);for(var i=0,r=t.Childs(),a=r.length,s=r[i];i<a;i++,s=r[i])ie.Clipper.AddPolyNodeToPaths(s,e,n)},ie.Clipper.OpenPathsFromPolyTree=function(t){for(var e=new ie.Paths,n=0,o=t.ChildCount();n<o;n++)t.Childs()[n].IsOpen&&e.push(t.Childs()[n].m_polygon);return e},ie.Clipper.ClosedPathsFromPolyTree=function(t){var e=new ie.Paths;return ie.Clipper.AddPolyNodeToPaths(t,ie.Clipper.NodeType.ntClosed,e),e},_e(ie.Clipper,ie.ClipperBase),ie.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},ie.ClipperOffset=function(t,e){"undefined"==typeof t&&(t=2),"undefined"==typeof e&&(e=ie.ClipperOffset.def_arc_tolerance),this.m_destPolys=new ie.Paths,this.m_srcPoly=new ie.Path,this.m_destPoly=new ie.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new ie.IntPoint,this.m_polyNodes=new ie.PolyNode,this.MiterLimit=t,this.ArcTolerance=e,this.m_lowest.X=-1},ie.ClipperOffset.two_pi=6.28318530717959,ie.ClipperOffset.def_arc_tolerance=.25,ie.ClipperOffset.prototype.Clear=function(){ie.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},ie.ClipperOffset.Round=ie.Clipper.Round,ie.ClipperOffset.prototype.AddPath=function(t,e,n){var o=t.length-1;if(!(o<0)){var i=new ie.PolyNode;if(i.m_jointype=e,i.m_endtype=n,n==ie.EndType.etClosedLine||n==ie.EndType.etClosedPolygon)for(;o>0&&ie.IntPoint.op_Equality(t[0],t[o]);)o--;i.m_polygon.push(t[0]);for(var r=0,a=0,s=1;s<=o;s++)ie.IntPoint.op_Inequality(i.m_polygon[r],t[s])&&(r++,i.m_polygon.push(t[s]),(t[s].Y>i.m_polygon[a].Y||t[s].Y==i.m_polygon[a].Y&&t[s].X<i.m_polygon[a].X)&&(a=r));if(!(n==ie.EndType.etClosedPolygon&&r<2||n!=ie.EndType.etClosedPolygon&&r<0)&&(this.m_polyNodes.AddChild(i),n==ie.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new ie.IntPoint(0,a);else{var u=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(i.m_polygon[a].Y>u.Y||i.m_polygon[a].Y==u.Y&&i.m_polygon[a].X<u.X)&&(this.m_lowest=new ie.IntPoint(this.m_polyNodes.ChildCount()-1,a))}}},ie.ClipperOffset.prototype.AddPaths=function(t,e,n){for(var o=0,i=t.length;o<i;o++)this.AddPath(t[o],e,n)},ie.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!ie.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];(e.m_endtype==ie.EndType.etClosedPolygon||e.m_endtype==ie.EndType.etClosedLine&&ie.Clipper.Orientation(e.m_polygon))&&e.m_polygon.reverse()}else for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];e.m_endtype!=ie.EndType.etClosedLine||ie.Clipper.Orientation(e.m_polygon)||e.m_polygon.reverse()}},ie.ClipperOffset.GetUnitNormal=function(t,e){var n=e.X-t.X,o=e.Y-t.Y;if(0==n&&0==o)return new ie.DoublePoint(0,0);var i=1/Math.sqrt(n*n+o*o);return n*=i,o*=i,new ie.DoublePoint(o,-n)},ie.ClipperOffset.prototype.DoOffset=function(t){if(this.m_destPolys=new Array,this.m_delta=t,ie.ClipperBase.near_zero(t))for(var e=0;e<this.m_polyNodes.ChildCount();e++){var n=this.m_polyNodes.Childs()[e];n.m_endtype==ie.EndType.etClosedPolygon&&this.m_destPolys.push(n.m_polygon)}else{this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var o;o=this.ArcTolerance<=0?ie.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(t)*ie.ClipperOffset.def_arc_tolerance?Math.abs(t)*ie.ClipperOffset.def_arc_tolerance:this.ArcTolerance;var i=3.14159265358979/Math.acos(1-o/Math.abs(t));this.m_sin=Math.sin(ie.ClipperOffset.two_pi/i),this.m_cos=Math.cos(ie.ClipperOffset.two_pi/i),this.m_StepsPerRad=i/ie.ClipperOffset.two_pi,t<0&&(this.m_sin=-this.m_sin);for(var e=0;e<this.m_polyNodes.ChildCount();e++){var n=this.m_polyNodes.Childs()[e];this.m_srcPoly=n.m_polygon;var r=this.m_srcPoly.length;if(!(0==r||t<=0&&(r<3||n.m_endtype!=ie.EndType.etClosedPolygon)))if(this.m_destPoly=new Array,1!=r){this.m_normals.length=0;for(var a=0;a<r-1;a++)this.m_normals.push(ie.ClipperOffset.GetUnitNormal(this.m_srcPoly[a],this.m_srcPoly[a+1]));if(n.m_endtype==ie.EndType.etClosedLine||n.m_endtype==ie.EndType.etClosedPolygon?this.m_normals.push(ie.ClipperOffset.GetUnitNormal(this.m_srcPoly[r-1],this.m_srcPoly[0])):this.m_normals.push(new ie.DoublePoint(this.m_normals[r-2])),n.m_endtype==ie.EndType.etClosedPolygon){for(var s=r-1,a=0;a<r;a++)s=this.OffsetPoint(a,s,n.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(n.m_endtype==ie.EndType.etClosedLine){for(var s=r-1,a=0;a<r;a++)s=this.OffsetPoint(a,s,n.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var u=this.m_normals[r-1],a=r-1;a>0;a--)this.m_normals[a]=new ie.DoublePoint(-this.m_normals[a-1].X,-this.m_normals[a-1].Y);this.m_normals[0]=new ie.DoublePoint(-u.X,-u.Y),s=0;for(var a=r-1;a>=0;a--)s=this.OffsetPoint(a,s,n.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var s=0,a=1;a<r-1;++a)s=this.OffsetPoint(a,s,n.m_jointype);var h;if(n.m_endtype==ie.EndType.etOpenButt){var a=r-1;h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[a].X+this.m_normals[a].X*t),ie.ClipperOffset.Round(this.m_srcPoly[a].Y+this.m_normals[a].Y*t)),this.m_destPoly.push(h),h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[a].X-this.m_normals[a].X*t),ie.ClipperOffset.Round(this.m_srcPoly[a].Y-this.m_normals[a].Y*t)),this.m_destPoly.push(h)}else{var a=r-1;s=r-2,this.m_sinA=0,this.m_normals[a]=new ie.DoublePoint(-this.m_normals[a].X,-this.m_normals[a].Y),n.m_endtype==ie.EndType.etOpenSquare?this.DoSquare(a,s):this.DoRound(a,s)}for(var a=r-1;a>0;a--)this.m_normals[a]=new ie.DoublePoint(-this.m_normals[a-1].X,-this.m_normals[a-1].Y);this.m_normals[0]=new ie.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y),s=r-1;for(var a=s-1;a>0;--a)s=this.OffsetPoint(a,s,n.m_jointype);n.m_endtype==ie.EndType.etOpenButt?(h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*t)),this.m_destPoly.push(h),h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*t)),this.m_destPoly.push(h)):(s=1,this.m_sinA=0,n.m_endtype==ie.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}else{if(n.m_jointype==ie.JoinType.jtRound)for(var p=1,l=0,a=1;a<=i;a++){this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X+p*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y+l*t)));var c=p;p=p*this.m_cos-this.m_sin*l,l=c*this.m_sin+l*this.m_cos}else for(var p=-1,l=-1,a=0;a<4;++a)this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X+p*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y+l*t))),p<0?p=1:l<0?l=1:p=-1;this.m_destPolys.push(this.m_destPoly)}}}},ie.ClipperOffset.prototype.Execute=function(){var t=arguments,e=t[0]instanceof ie.PolyTree;if(e){var n=t[0],o=t[1];n.Clear(),this.FixOrientations(),this.DoOffset(o);var i=new ie.Clipper(0);if(i.AddPaths(this.m_destPolys,ie.PolyType.ptSubject,!0),o>0)i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftPositive,ie.PolyFillType.pftPositive);else{var r=ie.Clipper.GetBounds(this.m_destPolys),a=new ie.Path;if(a.push(new ie.IntPoint(r.left-10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.top-10)),a.push(new ie.IntPoint(r.left-10,r.top-10)),i.AddPath(a,ie.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftNegative,ie.PolyFillType.pftNegative),1==n.ChildCount()&&n.Childs()[0].ChildCount()>0){var s=n.Childs()[0];n.Childs()[0]=s.Childs()[0];for(var u=1;u<s.ChildCount();u++)n.AddChild(s.Childs()[u])}else n.Clear()}}else{var n=t[0],o=t[1];ie.Clear(n),this.FixOrientations(),this.DoOffset(o);var i=new ie.Clipper(0);if(i.AddPaths(this.m_destPolys,ie.PolyType.ptSubject,!0),o>0)i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftPositive,ie.PolyFillType.pftPositive);else{var r=ie.Clipper.GetBounds(this.m_destPolys),a=new ie.Path;a.push(new ie.IntPoint(r.left-10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.top-10)),a.push(new ie.IntPoint(r.left-10,r.top-10)),i.AddPath(a,ie.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftNegative,ie.PolyFillType.pftNegative),n.length>0&&n.splice(0,1)}}},ie.ClipperOffset.prototype.OffsetPoint=function(t,e,n){if(this.m_sinA=this.m_normals[e].X*this.m_normals[t].Y-this.m_normals[t].X*this.m_normals[e].Y,this.m_sinA<5e-5&&this.m_sinA>-5e-5)return e;if(this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1),this.m_sinA*this.m_delta<0)this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),this.m_destPoly.push(new ie.IntPoint(this.m_srcPoly[t])),this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)));else switch(n){case ie.JoinType.jtMiter:var o=1+(this.m_normals[t].X*this.m_normals[e].X+this.m_normals[t].Y*this.m_normals[e].Y);o>=this.m_miterLim?this.DoMiter(t,e,o):this.DoSquare(t,e);break;case ie.JoinType.jtSquare:this.DoSquare(t,e);break;case ie.JoinType.jtRound:this.DoRound(t,e)}return e=t},ie.ClipperOffset.prototype.DoSquare=function(t,e){var n=Math.tan(Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y)/4);this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[e].X-this.m_normals[e].Y*n)),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[e].Y+this.m_normals[e].X*n)))),this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[t].X+this.m_normals[t].Y*n)),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[t].Y-this.m_normals[t].X*n))))},ie.ClipperOffset.prototype.DoMiter=function(t,e,n){var o=this.m_delta/n;this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+(this.m_normals[e].X+this.m_normals[t].X)*o),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+(this.m_normals[e].Y+this.m_normals[t].Y)*o)))},ie.ClipperOffset.prototype.DoRound=function(t,e){for(var n,o=Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y),i=ie.Cast_Int32(ie.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(o))),r=this.m_normals[e].X,a=this.m_normals[e].Y,s=0;s<i;++s)this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+r*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+a*this.m_delta))),n=r,r=r*this.m_cos-this.m_sin*a,a=n*this.m_sin+a*this.m_cos;this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)))},ie.Error=function(t){try{throw new Error(t)}catch(t){alert(t.message)}},ie.JS={},ie.JS.AreaOfPolygon=function(t,e){return e||(e=1),ie.Clipper.Area(t)/(e*e)},ie.JS.AreaOfPolygons=function(t,e){e||(e=1);for(var n=0,o=0;o<t.length;o++)n+=ie.Clipper.Area(t[o]);return n/(e*e)},ie.JS.BoundsOfPath=function(t,e){return ie.JS.BoundsOfPaths([t],e)},ie.JS.BoundsOfPaths=function(t,e){e||(e=1);var n=ie.Clipper.GetBounds(t);return n.left/=e,n.bottom/=e,n.right/=e,n.top/=e,n},ie.JS.Clean=function(t,e){if(!(t instanceof Array))return[];var n=t[0]instanceof Array,t=ie.JS.Clone(t);if("number"!=typeof e||null===e)return ie.Error("Delta is not a number in Clean()."),t;if(0===t.length||1==t.length&&0===t[0].length||e<0)return t;n||(t=[t]);for(var o,i,r,a,s,u,h,p=t.length,l=[],c=0;c<p;c++)if(i=t[c],o=i.length,0!==o)if(o<3)r=i,l.push(r);else{for(r=i,a=e*e,s=i[0],u=1,h=1;h<o;h++)(i[h].X-s.X)*(i[h].X-s.X)+(i[h].Y-s.Y)*(i[h].Y-s.Y)<=a||(r[u]=i[h],s=i[h],u++);s=i[u-1],(i[0].X-s.X)*(i[0].X-s.X)+(i[0].Y-s.Y)*(i[0].Y-s.Y)<=a&&u--,u<o&&r.splice(u,o-u),r.length&&l.push(r)}return!n&&l.length?l=l[0]:n||0!==l.length?n&&0===l.length&&(l=[[]]):l=[],l},ie.JS.Clone=function(t){if(!(t instanceof Array))return[];if(0===t.length)return[];if(1==t.length&&0===t[0].length)return[[]];var e=t[0]instanceof Array;e||(t=[t]);var n,o,i,r,a=t.length,s=new Array(a);for(o=0;o<a;o++){for(n=t[o].length,r=new Array(n),i=0;i<n;i++)r[i]={X:t[o][i].X,Y:t[o][i].Y};s[o]=r}return e||(s=s[0]),s},ie.JS.Lighten=function(t,e){if(!(t instanceof Array))return[];if("number"!=typeof e||null===e)return ie.Error("Tolerance is not a number in Lighten()."),ie.JS.Clone(t);if(0===t.length||1==t.length&&0===t[0].length||e<0)return ie.JS.Clone(t);t[0]instanceof Array||(t=[t]);var n,o,i,r,a,s,u,h,p,l,c,f,d,y,v,g,m,b=t.length,_=e*e,x=[];for(n=0;n<b;n++)if(i=t[n],s=i.length,0!=s){for(r=0;r<1e6;r++){for(a=[],s=i.length,i[s-1].X!=i[0].X||i[s-1].Y!=i[0].Y?(f=1,i.push({X:i[0].X,Y:i[0].Y}),s=i.length):f=0,c=[],o=0;o<s-2;o++)u=i[o],p=i[o+1],h=i[o+2],g=u.X,m=u.Y,d=h.X-g,y=h.Y-m,0===d&&0===y||(v=((p.X-g)*d+(p.Y-m)*y)/(d*d+y*y),v>1?(g=h.X,m=h.Y):v>0&&(g+=d*v,m+=y*v)),d=p.X-g,y=p.Y-m,l=d*d+y*y,l<=_&&(c[o+1]=1,o++);for(a.push({X:i[0].X,Y:i[0].Y}),o=1;o<s-1;o++)c[o]||a.push({X:i[o].X,Y:i[o].Y});if(a.push({X:i[s-1].X,Y:i[s-1].Y}),f&&i.pop(),!c.length)break;i=a}s=a.length,a[s-1].X==a[0].X&&a[s-1].Y==a[0].Y&&a.pop(),a.length>2&&x.push(a)}return!t[0]instanceof Array&&(x=x[0]),"undefined"==typeof x&&(x=[[]]),x},ie.JS.PerimeterOfPath=function(t,e,n){if("undefined"==typeof t)return 0;var o,i,r=Math.sqrt,a=0,s=0,u=0,h=0,p=0,l=t.length;if(l<2)return 0;for(e&&(t[l]=t[0],l++);--l;)o=t[l],s=o.X,u=o.Y,i=t[l-1],h=i.X,p=i.Y,a+=r((s-h)*(s-h)+(u-p)*(u-p));return e&&t.pop(),a/n},ie.JS.PerimeterOfPaths=function(t,e,n){n||(n=1);for(var o=0,i=0;i<t.length;i++)o+=ie.JS.PerimeterOfPath(t[i],e,n);return o},ie.JS.ScaleDownPath=function(t,e){var n,o;for(e||(e=1),n=t.length;n--;)o=t[n],o.X=o.X/e,o.Y=o.Y/e},ie.JS.ScaleDownPaths=function(t,e){var n,o,i;Math.round;for(e||(e=1),n=t.length;n--;)for(o=t[n].length;o--;)i=t[n][o],i.X=i.X/e,i.Y=i.Y/e},ie.JS.ScaleUpPath=function(t,e){var n,o,i=Math.round;for(e||(e=1),n=t.length;n--;)o=t[n],o.X=i(o.X*e),o.Y=i(o.Y*e)},ie.JS.ScaleUpPaths=function(t,e){var n,o,i,r=Math.round;for(e||(e=1),n=t.length;n--;)for(o=t[n].length;o--;)i=t[n][o],i.X=r(i.X*e),i.Y=r(i.Y*e)},ie.ExPolygons=function(){return[]},ie.ExPolygon=function(){this.outer=null,this.holes=null},ie.JS.AddOuterPolyNodeToExPolygons=function(t,e){var n=new ie.ExPolygon;n.outer=t.Contour();var o=t.Childs(),i=o.length;n.holes=new Array(i);var r,a,s,u,h,p;for(s=0;s<i;s++)for(r=o[s],n.holes[s]=r.Contour(),u=0,h=r.Childs(),p=h.length;u<p;u++)a=h[u],ie.JS.AddOuterPolyNodeToExPolygons(a,e);e.push(n)},ie.JS.ExPolygonsToPaths=function(t){var e,n,o,i,r=new ie.Paths;for(e=0,o=t.length;e<o;e++)for(r.push(t[e].outer),n=0,i=t[e].holes.length;n<i;n++)r.push(t[e].holes[n]);return r},ie.JS.PolyTreeToExPolygons=function(t){var e,n,o,i,r=new ie.ExPolygons;for(n=0,o=t.Childs(),i=o.length;n<i;n++)e=o[n],ie.JS.AddOuterPolyNodeToExPolygons(e,r);return r},t.exports=ie},function(t,e,n){(function(o){/*
	 * Konva JavaScript Framework v1.6.8
	 * http://konvajs.github.io/
	 * Licensed under the MIT or GPL Version 2 licenses.
	 * Date: Sat Aug 19 2017
	 *
	 * Original work Copyright (C) 2011 - 2013 by Eric Rowell (KineticJS)
	 * Modified work Copyright (C) 2014 - 2017 by Anton Lavrenov (Konva)
	 *
	 * @license
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 *
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 *
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 */
!function(e){"use strict";var o=Math.PI/180,i={version:"1.6.8",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:0,angleDeg:!0,showWarnings:!0,Filters:{},isDragging:function(){var t=i.DD;return!!t&&t.isDragging},isDragReady:function(){var t=i.DD;return!!t&&!!t.node},_addId:function(t,e){void 0!==e&&(this.ids[e]=t)},_removeId:function(t){void 0!==t&&delete this.ids[t]},_addName:function(t,e){e&&(this.names[e]||(this.names[e]=[]),this.names[e].push(t))},_removeName:function(t,e){if(t){var n=this.names[t];if(n){for(var o=0;o<n.length;o++){var i=n[o];i._id===e&&n.splice(o,1)}0===n.length&&delete this.names[t]}}},getAngle:function(t){return this.angleDeg?t*o:t},_detectIE:function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("trident/");if(n>0){var o=t.indexOf("rv:");return parseInt(t.substring(o+3,t.indexOf(".",o)),10)}var i=t.indexOf("edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)},_parseUA:function(t){var e=t.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],o=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),r=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:i._detectIE(e),mobile:o,ieMobile:r}},UA:void 0},r="undefined"!=typeof e?e:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{};if(i.UA=i._parseUA(r.navigator&&r.navigator.userAgent||""),r.Konva&&console.error("Konva instance is already exist in current eviroment. Please use only one instance."),r.Konva=i,i.global=r,r.window&&r.window.document)i.document=r.window.document,i.window=r.window;else{var a=n(258),s=n(259).JSDOM;i.window=new s("<!DOCTYPE html><html><head></head><body></body></html>").window,i.document=i.window.document,i.window.Image=a.Image,i._nodeCanvas=a,i.isNode=!0}return void(t.exports=i)}("undefined"!=typeof o?o:window),function(){"use strict";Konva.Collection=function(){var t=[].slice.call(arguments),e=t.length,n=0;for(this.length=e;n<e;n++)this[n]=t[n];return this},Konva.Collection.prototype=[],Konva.Collection.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},Konva.Collection.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;t<n;t++)e.push(this[t]);return e},Konva.Collection.toCollection=function(t){var e,n=new Konva.Collection,o=t.length;for(e=0;e<o;e++)n.push(t[e]);return n},Konva.Collection._mapMethod=function(t){Konva.Collection.prototype[t]=function(){var e,n=this.length,o=[].slice.call(arguments);for(e=0;e<n;e++)this[e][t].apply(this[e],o);return this}},Konva.Collection.mapMethods=function(t){var e=t.prototype;for(var n in e)Konva.Collection._mapMethod(n)},Konva.Transform=function(t){this.m=t&&t.slice()||[1,0,0,1,0,0]},Konva.Transform.prototype={copy:function(){return new Konva.Transform(this.m)},point:function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},translate:function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},scale:function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),o=this.m[0]*e+this.m[2]*n,i=this.m[1]*e+this.m[3]*n,r=this.m[0]*-n+this.m[2]*e,a=this.m[1]*-n+this.m[3]*e;return this.m[0]=o,this.m[1]=i,this.m[2]=r,this.m[3]=a,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(t,e){var n=this.m[0]+this.m[2]*e,o=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,r=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=o,this.m[2]=i,this.m[3]=r,this},multiply:function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],o=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],r=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=o,this.m[3]=i,this.m[4]=r,this.m[5]=a,this},invert:function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,o=-this.m[2]*t,i=this.m[0]*t,r=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=o,this.m[3]=i,this.m[4]=r,this.m[5]=a,this},getMatrix:function(){return this.m},setAbsolutePosition:function(t,e){var n=this.m[0],o=this.m[1],i=this.m[2],r=this.m[3],a=this.m[4],s=this.m[5],u=(n*(e-s)-o*(t-a))/(n*r-o*i),h=(t-a-i*u)/n;return this.translate(h,u)}};var t="2d",n="[object Array]",o="[object Number]",i="[object String]",r=Math.PI/180,a=180/Math.PI,s="#",u="",h="0",p="Konva warning: ",l="Konva error: ",c="rgb(",f={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},d=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Konva.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return Object.prototype.toString.call(t)===n},_isNumber:function(t){return Object.prototype.toString.call(t)===o},_isString:function(t){return Object.prototype.toString.call(t)===i},_throttle:function(t,e,n){var o,i,r,a=null,s=0,u=n||{},h=function(){s=u.leading===!1?0:(new Date).getTime(),a=null,r=t.apply(o,i),o=i=null};return function(){var n=(new Date).getTime();s||u.leading!==!1||(s=n);var p=e-(n-s);return o=this,i=arguments,p<=0?(clearTimeout(a),a=null,s=n,r=t.apply(o,i),o=i=null):a||u.trailing===!1||(a=setTimeout(h,p)),r}},_hasMethods:function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&this._isFunction(t[e])&&n.push(e);return n.length>0},isValidSelector:function(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},createCanvasElement:function(){var t=Konva.isNode?new Konva._nodeCanvas:Konva.document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},isBrowser:function(){return"object"!=typeof e},_isInDocument:function(t){for(;t=t.parentNode;)if(t==Konva.document)return!0;return!1},_simplifyArray:function(t){var e,n,o=[],i=t.length,r=Konva.Util;for(e=0;e<i;e++)n=t[e],r._isNumber(n)?n=Math.round(1e3*n)/1e3:r._isString(n)||(n=n.toString()),o.push(n);return o},_getImage:function(e,n){var o,i;if(e)if(this._isElement(e))n(e);else if(this._isString(e))o=new Konva.window.Image,o.onload=function(){n(o)},o.src=e;else if(e.data){i=Konva.Util.createCanvasElement(),i.width=e.width,i.height=e.height;var r=i.getContext(t);r.putImageData(e,0,0),this._getImage(i.toDataURL(),n)}else n(null);else n(null)},_getRGBAString:function(t){var e=t.red||0,n=t.green||0,o=t.blue||0,i=t.alpha||1;return["rgba(",e,",",n,",",o,",",i,")"].join(u)},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace(s,u);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t=h+t;return s+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in f?(e=f[t],{r:e[0],g:e[1],b:e[2]}):t[0]===s?this._hexToRgb(t.substring(1)):t.substr(0,4)===c?(e=d.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",Konva.Util._namedColorToRBA(t)||Konva.Util._hex3ColorToRGBA(t)||Konva.Util._hex6ColorToRGBA(t)||Konva.Util._rgbColorToRGBA(t)||Konva.Util._rgbaColorToRGBA(t)},_namedColorToRBA:function(t){var e=f[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){t=t.match(/rgb\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){t=t.match(/rgba\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_merge:function(t,e){var n=this._clone(e);for(var o in t)this._isObject(t[o])?n[o]=this._merge(t[o],n[o]):n[o]=t[o];return n},cloneObject:function(t){var e={};for(var n in t)this._isObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*r},_radToDeg:function(t){return t*a},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error(l+t)},error:function(t){console.error(l+t)},warn:function(t){Konva.global.console&&console.warn&&Konva.showWarnings&&console.warn(p+t)},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var o=t.prototype;t.prototype=new n;for(var i in o)o.hasOwnProperty(i)&&(t.prototype[i]=o[i]);t.__super__=e.prototype,t.super=e},addMethods:function(t,e){var n;for(n in e)t.prototype[n]=e[n]},_getControlPoints:function(t,e,n,o,i,r,a){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(o-e,2)),u=Math.sqrt(Math.pow(i-n,2)+Math.pow(r-o,2)),h=a*s/(s+u),p=a*u/(s+u),l=n-h*(i-t),c=o-h*(r-e),f=n+p*(i-t),d=o+p*(r-e);return[l,c,f,d]},_expandPoints:function(t,e){var n,o,i=t.length,r=[];for(n=2;n<i-2;n+=2)o=Konva.Util._getControlPoints(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],e),r.push(o[0]),r.push(o[1]),r.push(t[n]),r.push(t[n+1]),r.push(o[2]),r.push(o[3]);return r},_removeLastLetter:function(t){return t.substring(0,t.length-1)},each:function(t,e){for(var n in t)e(n,t[n])},_getProjectionToSegment:function(t,e,n,o,i,r){var a,s,u,h=(t-n)*(t-n)+(e-o)*(e-o);if(0==h)a=t,s=e,u=(i-n)*(i-n)+(r-o)*(r-o);else{var p=((i-t)*(n-t)+(r-e)*(o-e))/h;p<0?(a=t,s=e,u=(t-i)*(t-i)+(e-r)*(e-r)):p>1?(a=n,s=o,u=(n-i)*(n-i)+(o-r)*(o-r)):(a=t+p*(n-t),s=e+p*(o-e),u=(a-i)*(a-i)+(s-r)*(s-r))}return[a,s,u]},_getProjectionToLine:function(t,e,n){var o=Konva.Util.cloneObject(t),i=Number.MAX_VALUE;return e.forEach(function(r,a){if(n||a!==e.length-1){var s=e[(a+1)%e.length],u=Konva.Util._getProjectionToSegment(r.x,r.y,s.x,s.y,t.x,t.y),h=u[0],p=u[1],l=u[2];l<i&&(o.x=h,o.y=p,i=l)}}),o},_prepareArrayForTween:function(t,e,n){var o,i=[],r=[];if(t.length>e.length){var a=e;e=t,t=a}for(o=0;o<t.length;o+=2)i.push({x:t[o],y:t[o+1]});for(o=0;o<e.length;o+=2)r.push({x:e[o],y:e[o+1]});var s=[];return r.forEach(function(t){var e=Konva.Util._getProjectionToLine(t,i,n);s.push(e.x),s.push(e.y)}),s},_prepareToStringify:function(t){var e;t.visitedByCircularReferenceRemoval=!0;for(var n in t)if(t.hasOwnProperty(n)&&t[n]&&"object"==typeof t[n])if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||Konva.Util._isElement(t[n])){if(!e.configurable)return null;delete t[n]}else if(null===Konva.Util._prepareToStringify(t[n])){if(!e.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t}}}(),function(){"use strict";var t=Konva.Util.createCanvasElement(),e=t.getContext("2d"),n=function(){var t=Konva.window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/n}();Konva.Canvas=function(t){this.init(t)},Konva.Canvas.prototype={init:function(t){var e=t||{},o=e.pixelRatio||Konva.pixelRatio||n;this.pixelRatio=o,this._canvas=Konva.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},setWidth:function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio,n=this.getContext()._context;n.scale(e,e)},setHeight:function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio,n=this.getContext()._context;n.scale(e,e)},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(t,e){this.setWidth(t),this.setHeight(e)},toDataURL:function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return Konva.Util.warn("Unable to get data URL. "+t.message),""}}}},Konva.SceneCanvas=function(t){var e=t||{},n=e.width||0,o=e.height||0;Konva.Canvas.call(this,e),this.context=new Konva.SceneContext(this),this.setSize(n,o)},Konva.Util.extend(Konva.SceneCanvas,Konva.Canvas),Konva.HitCanvas=function(t){var e=t||{},n=e.width||0,o=e.height||0;Konva.Canvas.call(this,e),this.context=new Konva.HitContext(this),this.setSize(n,o),this.hitCanvas=!0},Konva.Util.extend(Konva.HitCanvas,Konva.Canvas)}(),function(){"use strict";var t=",",e="(",n=")",o="([",i="])",r=";",a="()",s="=",u=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],h=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation"];Konva.Context=function(t){this.init(t)},Konva.Context.prototype={init:function(t){this.canvas=t,this._context=t._canvas.getContext("2d"),Konva.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(t){t.getFillEnabled()&&this._fill(t)},strokeShape:function(t){t.getStrokeEnabled()&&this._stroke(t)},fillStrokeShape:function(t){var e=t.getFillEnabled();e&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},getTrace:function(u){var h,p,l,c,f=this.traceArr,d=f.length,y="";for(h=0;h<d;h++)p=f[h],l=p.method,l?(c=p.args,y+=l,y+=u?a:Konva.Util._isArray(c[0])?o+c.join(t)+i:e+c.join(t)+n):(y+=p.property,u||(y+=s+p.val)),y+=r;return y},clearTrace:function(){this.traceArr=[]},_trace:function(t){var e,n=this.traceArr;n.push(t),e=n.length,e>=Konva.traceArrMax&&n.shift()},reset:function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},getCanvas:function(){return this.canvas},clear:function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},_applyLineCap:function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},_applyOpacity:function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},_applyLineJoin:function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},setAttr:function(t,e){this._context[t]=e},arc:function(){var t=arguments;this._context.arc(t[0],t[1],t[2],t[3],t[4],t[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var t=arguments;this._context.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},clearRect:function(){var t=arguments;this._context.clearRect(t[0],t[1],t[2],t[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var t=arguments;return 2===t.length?this._context.createImageData(t[0],t[1]):1===t.length?this._context.createImageData(t[0]):void 0},createLinearGradient:function(){var t=arguments;return this._context.createLinearGradient(t[0],t[1],t[2],t[3])},createPattern:function(){var t=arguments;return this._context.createPattern(t[0],t[1])},createRadialGradient:function(){var t=arguments;return this._context.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5])},drawImage:function(){var t=arguments,e=this._context;3===t.length?e.drawImage(t[0],t[1],t[2]):5===t.length?e.drawImage(t[0],t[1],t[2],t[3],t[4]):9===t.length&&e.drawImage(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},isPointInPath:function(t,e){return this._context.isPointInPath(t,e)},fill:function(){this._context.fill()},fillRect:function(t,e,n,o){this._context.fillRect(t,e,n,o)},strokeRect:function(t,e,n,o){this._context.strokeRect(t,e,n,o)},fillText:function(){var t=arguments;this._context.fillText(t[0],t[1],t[2])},measureText:function(t){return this._context.measureText(t)},getImageData:function(){var t=arguments;return this._context.getImageData(t[0],t[1],t[2],t[3])},lineTo:function(){var t=arguments;this._context.lineTo(t[0],t[1])},moveTo:function(){var t=arguments;this._context.moveTo(t[0],t[1])},rect:function(){var t=arguments;this._context.rect(t[0],t[1],t[2],t[3])},putImageData:function(){var t=arguments;this._context.putImageData(t[0],t[1],t[2])},quadraticCurveTo:function(){var t=arguments;this._context.quadraticCurveTo(t[0],t[1],t[2],t[3])},restore:function(){this._context.restore()},rotate:function(){var t=arguments;this._context.rotate(t[0])},save:function(){this._context.save()},scale:function(){var t=arguments;this._context.scale(t[0],t[1])},setLineDash:function(){var t=arguments,e=this._context;this._context.setLineDash?e.setLineDash(t[0]):"mozDash"in e?e.mozDash=t[0]:"webkitLineDash"in e&&(e.webkitLineDash=t[0])},getLineDash:function(){return this._context.getLineDash()},setTransform:function(){var t=arguments;this._context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},stroke:function(){this._context.stroke()},strokeText:function(){var t=arguments;this._context.strokeText(t[0],t[1],t[2])},transform:function(){var t=arguments;this._context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(){var t=arguments;this._context.translate(t[0],t[1])},_enableTrace:function(){var t,e,n=this,o=u.length,i=Konva.Util._simplifyArray,r=this.setAttr,a=function(t){var o,r=n[t];n[t]=function(){return e=i(Array.prototype.slice.call(arguments,0)),o=r.apply(n,arguments),n._trace({method:t,args:e}),o}};for(t=0;t<o;t++)a(u[t]);n.setAttr=function(){r.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}}},h.forEach(function(t){Object.defineProperty(Konva.Context.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}),Konva.SceneContext=function(t){Konva.Context.call(this,t)},Konva.SceneContext.prototype={_fillColor:function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},_fillPattern:function(t){var e=t.getFillPatternX(),n=t.getFillPatternY(),o=t.getFillPatternScale(),i=Konva.getAngle(t.getFillPatternRotation()),r=t.getFillPatternOffset();(e||n)&&this.translate(e||0,n||0),i&&this.rotate(i),o&&this.scale(o.x,o.y),r&&this.translate(-1*r.x,-1*r.y),this.setAttr("fillStyle",this.createPattern(t.getFillPatternImage(),t.getFillPatternRepeat()||"repeat")),this.fill()},_fillLinearGradient:function(t){var e=t.getFillLinearGradientStartPoint(),n=t.getFillLinearGradientEndPoint(),o=t.getFillLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,n.x,n.y);if(o){for(var r=0;r<o.length;r+=2)i.addColorStop(o[r],o[r+1]);this.setAttr("fillStyle",i),t._fillFunc(this)}},_fillRadialGradient:function(t){for(var e=t.getFillRadialGradientStartPoint(),n=t.getFillRadialGradientEndPoint(),o=t.getFillRadialGradientStartRadius(),i=t.getFillRadialGradientEndRadius(),r=t.getFillRadialGradientColorStops(),a=this.createRadialGradient(e.x,e.y,o,n.x,n.y,i),s=0;s<r.length;s+=2)a.addColorStop(r[s],r[s+1]);this.setAttr("fillStyle",a),this.fill()},_fill:function(t){var e=t.fill(),n=t.getFillPatternImage(),o=t.getFillLinearGradientColorStops(),i=t.getFillRadialGradientColorStops(),r=t.getFillPriority();e&&"color"===r?this._fillColor(t):n&&"pattern"===r?this._fillPattern(t):o&&"linear-gradient"===r?this._fillLinearGradient(t):i&&"radial-gradient"===r?this._fillRadialGradient(t):e?this._fillColor(t):n?this._fillPattern(t):o?this._fillLinearGradient(t):i&&this._fillRadialGradient(t)},_stroke:function(t){var e=t.dash(),n=t.getStrokeScaleEnabled()||t instanceof Konva.Text;t.hasStroke()&&(n||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.stroke()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t._strokeFunc(this),n||this.restore())},_applyShadow:function(t){var e=Konva.Util,n=e.get(t.getShadowRGBA(),"black"),o=e.get(t.getShadowBlur(),5),i=e.get(t.getShadowOffset(),{x:0,y:0}),r=t.getAbsoluteScale(),a=this.canvas.getPixelRatio(),s=r.x*a,u=r.y*a;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",o*a*Math.min(Math.abs(s),Math.abs(u))),this.setAttr("shadowOffsetX",i.x*s),this.setAttr("shadowOffsetY",i.y*u)},_applyGlobalCompositeOperation:function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)}},Konva.Util.extend(Konva.SceneContext,Konva.Context),Konva.HitContext=function(t){Konva.Context.call(this,t)},Konva.HitContext.prototype={_fill:function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},_stroke:function(t){if(t.hasStroke()&&t.strokeHitEnabled()){var e=t.getStrokeScaleEnabled()||t instanceof Konva.Text;e||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}}},Konva.Util.extend(Konva.HitContext,Konva.Context)}(),function(){"use strict";var t="get",e="set";Konva.Factory={addGetterSetter:function(t,e,n,o,i){this.addGetter(t,e,n),this.addSetter(t,e,o,i),this.addOverloadedGetterSetter(t,e)},addGetter:function(e,n,o){var i=t+Konva.Util._capitalize(n);e.prototype[i]=function(){var t=this.attrs[n];return void 0===t?o:t}},addSetter:function(t,n,o,i){var r=e+Konva.Util._capitalize(n);t.prototype[r]=function(t){return o&&(t=o.call(this,t)),this._setAttr(n,t),i&&i.call(this),this}},addComponentsGetterSetter:function(n,o,i,r,a){var s,u,h=i.length,p=Konva.Util._capitalize,l=t+p(o),c=e+p(o);n.prototype[l]=function(){var t={};for(s=0;s<h;s++)u=i[s],t[u]=this.getAttr(o+p(u));return t},n.prototype[c]=function(t){var e,n=this.attrs[o];r&&(t=r.call(this,t));for(e in t)t.hasOwnProperty(e)&&this._setAttr(o+p(e),t[e]);return this._fireChangeEvent(o,n,t),a&&a.call(this),this},this.addOverloadedGetterSetter(n,o)},addOverloadedGetterSetter:function(n,o){var i=Konva.Util._capitalize(o),r=e+i,a=t+i;n.prototype[o]=function(){return arguments.length?(this[r](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter:function(e,n,o,i){var r=t+Konva.Util._capitalize(n),a=n+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[r]=function(){Konva.Util.error(a);var t=this.attrs[n];return void 0===t?o:t},this.addSetter(e,n,i,function(){Konva.Util.error(a)}),this.addOverloadedGetterSetter(e,n)},backCompat:function(t,e){Konva.Util.each(e,function(e,n){var o=t.prototype[n];t.prototype[e]=function(){o.apply(this,arguments),Konva.Util.error(e+" method is deprecated and will be removed soon. Use "+n+" instead")}})},afterSetFilter:function(){this._filterUpToDate=!1}},Konva.Validators={RGBComponent:function(t){return t>255?255:t<0?0:Math.round(t)},alphaComponent:function(t){return t>1?1:t<1e-4?1e-4:t}}}(),function(t){"use strict";var e="absoluteOpacity",n="absoluteTransform",o="absoluteScale",i="Change",r="children",a=".",s="",u="get",h="id",p="konva",l="listening",c="mouseenter",f="mouseleave",d="name",y="set",v="Shape",g=" ",m="stage",b="transform",_="Stage",x="visible",w=["id"],P=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(g),S=["scaleXChange.konva","scaleYChange.konva"].join(g);t.Node=function(t){this._init(t)},t.Util.addMethods(t.Node,{_init:function(i){var r=this;this._id=t.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this._isUnderCache=!1,this.setAttrs(i),this.on(P,function(){this._clearCache(b),r._clearSelfAndDescendantCache(n)}),this.on(S,function(){r._clearSelfAndDescendantCache(o)}),this.on("visibleChange.konva",function(){r._clearSelfAndDescendantCache(x)}),this.on("listeningChange.konva",function(){r._clearSelfAndDescendantCache(l)}),this.on("opacityChange.konva",function(){r._clearSelfAndDescendantCache(e)})},_clearCache:function(t){t?delete this._cache[t]:this._cache={}},_getCache:function(t,e){var n=this._cache[t];return void 0===n&&(this._cache[t]=e.call(this)),this._cache[t]},_clearSelfAndDescendantCache:function(t){this._clearCache(t),this.children&&this.getChildren().each(function(e){e._clearSelfAndDescendantCache(t)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(n){var i=n||{},r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}),a=i.width||r.width,s=i.height||r.height,u=i.pixelRatio,h=i.x||r.x,p=i.y||r.y,l=i.offset||0,c=i.drawBorder||!1;if(!a||!s)throw new Error("Width or height of caching configuration equals 0.");a+=2*l,s+=2*l,h-=l,p-=l;var f=new t.SceneCanvas({pixelRatio:u,width:a,height:s}),d=new t.SceneCanvas({pixelRatio:u,width:a,height:s}),y=new t.HitCanvas({pixelRatio:1,width:a,height:s}),v=f.getContext(),g=y.getContext();return y.isCache=!0,this.clearCache(),v.save(),g.save(),v.translate(-h,-p),g.translate(-h,-p),this._isUnderCache=!0,this._clearSelfAndDescendantCache(e),this._clearSelfAndDescendantCache(o),this.drawScene(f,this,!0),this.drawHit(y,this,!0),this._isUnderCache=!1,v.restore(),g.restore(),c&&(v.save(),v.beginPath(),v.rect(0,0,a,s),v.closePath(),v.setAttr("strokeStyle","red"),v.setAttr("lineWidth",5),v.stroke(),v.restore()),this._cache.canvas={scene:f,filter:d,hit:y,x:h,y:p},this},getClientRect:function(){throw new Error('abstract "getClientRect" method call')},_transformedRect:function(t,e){var n,o,i,r,a=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=this.getAbsoluteTransform(e);return a.forEach(function(t){var e=s.point(t);void 0===n&&(n=i=e.x,o=r=e.y),n=Math.min(n,e.x),o=Math.min(o,e.y),i=Math.max(i,e.x),r=Math.max(r,e.y)}),{x:n,y:o,width:i-n,height:r-o}},_drawCachedSceneCanvas:function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this),t.translate(this._cache.canvas.x,this._cache.canvas.y);var e=this._getCachedSceneCanvas(),n=e.pixelRatio;t.drawImage(e._canvas,0,0,e.width/n,e.height/n),t.restore()},_drawCachedHitCanvas:function(t){var e=this._cache.canvas,n=e.hit;t.save(),t.translate(this._cache.canvas.x,this._cache.canvas.y),t.drawImage(n._canvas,0,0),t.restore()},_getCachedSceneCanvas:function(){var e,n,o,i,r=this.filters(),a=this._cache.canvas,s=a.scene,u=a.filter,h=u.getContext();if(r){if(!this._filterUpToDate){var p=s.pixelRatio;try{for(e=r.length,h.clear(),h.drawImage(s._canvas,0,0,s.getWidth()/p,s.getHeight()/p),n=h.getImageData(0,0,u.getWidth(),u.getHeight()),o=0;o<e;o++)i=r[o],"function"==typeof i?(i.call(this,n),h.putImageData(n,0,0)):t.Util.error("Filter should be type of function, but got "+typeof i+" insted. Please check correct filters")}catch(e){t.Util.error("Unable to apply filter. "+e.message)}this._filterUpToDate=!0}return u}return s},on:function(t,e){if(3===arguments.length)return this._delegate.apply(this,arguments);var n,o,i,r,u,h=t.split(g),p=h.length;for(n=0;n<p;n++)o=h[n],i=o.split(a),r=i[0],u=i[1]||s,this.eventListeners[r]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:u,handler:e});return this},off:function(t){var e,n,o,i,r,s,u=(t||"").split(g),h=u.length;if(!t)for(n in this.eventListeners)this._off(n);for(e=0;e<h;e++)if(o=u[e],i=o.split(a),r=i[0],s=i[1],r)this.eventListeners[r]&&this._off(r,s);else for(n in this.eventListeners)this._off(n,s);return this},dispatchEvent:function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},addEventListener:function(t,e){return this.on(t,function(t){e.call(this,t.evt)}),this},removeEventListener:function(t){return this.off(t),this},_delegate:function(e,n,o){var i=this;this.on(e,function(e){for(var r=e.target.findAncestors(n,!0,i),a=0;a<r.length;a++)e=t.Util.cloneObject(e),
e.currentTarget=r[a],o.call(r[a],e)})},remove:function(){var t=this.getParent();return t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(n),this._clearSelfAndDescendantCache(x),this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(e),this},destroy:function(){t._removeId(this.getId());for(var e=(this.getName()||"").split(/\s/g),n=0;n<e.length;n++){var o=e[n];t._removeName(o,this._id)}return this.remove(),this},getAttr:function(e){var n=u+t.Util._capitalize(e);return t.Util._isFunction(this[n])?this[n]():this.attrs[e]},getAncestors:function(){for(var e=this.getParent(),n=new t.Collection;e;)n.push(e),e=e.getParent();return n},getAttrs:function(){return this.attrs||{}},setAttrs:function(e){var n,o;if(!e)return this;for(n in e)n!==r&&(o=y+t.Util._capitalize(n),t.Util._isFunction(this[o])?this[o](e[n]):this._setAttr(n,e[n]));return this},isListening:function(){return this._getCache(l,this._isListening)},_isListening:function(){var t=this.getListening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},isVisible:function(){return this._getCache(x,this._isVisible)},_isVisible:function(){var t=this.getVisible(),e=this.getParent();return"inherit"===t?!e||e.isVisible():t},shouldDrawHit:function(t){var e=this.getLayer();return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isListening()&&this.isVisible()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){function t(u){for(e=[],n=u.length,o=0;o<n;o++)i=u[o],s++,i.nodeType!==v&&(e=e.concat(i.getChildren().toArray())),i._id===a._id&&(o=n);e.length>0&&e[0].getDepth()<=r&&t(e)}var e,n,o,i,r=this.getDepth(),a=this,s=0;return a.nodeType!==_&&t(a.getStage().getChildren()),s},getDepth:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},setPosition:function(t){return this.setX(t.x),this.setY(t.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(e){var n=this.getAbsoluteTransform(e).getMatrix(),o=new t.Transform,i=this.offset();return o.m=n.slice(),o.translate(i.x,i.y),o.getTranslation()},setAbsolutePosition:function(t){var e,n=this._clearTransform();return this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,e=this.getAbsoluteTransform(),e.invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(n),this},_setTransform:function(t){var e;for(e in t)this.attrs[e]=t[e];this._clearCache(b),this._clearSelfAndDescendantCache(n)},_clearTransform:function(){var t={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(b),this._clearSelfAndDescendantCache(n),t},move:function(t){var e=t.x,n=t.y,o=this.getX(),i=this.getY();return void 0!==e&&(o+=e),void 0!==n&&(i+=n),this.setPosition({x:o,y:i}),this},_eachAncestorReverse:function(t,e){var n,o,i=[],r=this.getParent();if(e&&e._id===this._id)return t(this),!0;for(i.unshift(this);r&&(!e||r._id!==e._id);)i.unshift(r),r=r.parent;for(n=i.length,o=0;o<n;o++)t(i[o])},rotate:function(t){return this.setRotation(this.getRotation()+t),this},moveToTop:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},moveUp:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)},moveDown:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)},moveToBottom:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},setZIndex:function(e){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),!1;var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this},getAbsoluteOpacity:function(){return this._getCache(e,this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var t=this.getOpacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=this.getParent().getAbsoluteOpacity()),t},moveTo:function(t){return this.getParent()!==t&&((this.__originalRemove||this.remove).call(this),t.add(this)),this},toObject:function(){var e,n,o,i,r={},a=this.getAttrs();r.attrs={};for(e in a)n=a[e],o=this[e],delete a[e],i=o?o.call(this):null,a[e]=n,i!==n&&(r.attrs[e]=n);return r.className=this.getClassName(),t.Util._prepareToStringify(r)},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},findAncestors:function(t,e,n){var o=[];e&&this._isMatch(t)&&o.push(this);for(var i=this.parent;i;){if(i===n)return o;i._isMatch(t)&&o.push(i),i=i.parent}return o},findAncestor:function(t,e,n){return this.findAncestors(t,e,n)[0]},_isMatch:function(e){if(!e)return!1;var n,o,i=e.replace(/ /g,"").split(","),r=i.length;for(n=0;n<r;n++)if(o=i[n],t.Util.isValidSelector(o)||(t.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),"#"===o.charAt(0)){if(this.id()===o.slice(1))return!0}else if("."===o.charAt(0)){if(this.hasName(o.slice(1)))return!0}else if(0!==this._get(o).length)return!0;return!1},getLayer:function(){var t=this.getParent();return t?t.getLayer():null},getStage:function(){return this._getCache(m,this._getStage)},_getStage:function(){var t=this.getParent();return t?t.getStage():void 0},fire:function(t,e,n){return e=e||{},e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this},getAbsoluteTransform:function(t){return t?this._getAbsoluteTransform(t):this._getCache(n,this._getAbsoluteTransform)},_getAbsoluteTransform:function(e){var n,o,i=new t.Transform;return this._eachAncestorReverse(function(t){n=t.transformsEnabled(),o=t.getTransform(),"all"===n?i.multiply(o):"position"===n&&i.translate(t.x(),t.y())},e),i},getAbsoluteScale:function(t){return t?this._getAbsoluteScale(t):this._getCache(o,this._getAbsoluteScale)},_getAbsoluteScale:function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var n=1,o=1;return this._eachAncestorReverse(function(t){n*=t.scaleX(),o*=t.scaleY()},t),{x:n,y:o}},getTransform:function(){return this._getCache(b,this._getTransform)},_getTransform:function(){var e=new t.Transform,n=this.getX(),o=this.getY(),i=t.getAngle(this.getRotation()),r=this.getScaleX(),a=this.getScaleY(),s=this.getSkewX(),u=this.getSkewY(),h=this.getOffsetX(),p=this.getOffsetY();return 0===n&&0===o||e.translate(n,o),0!==i&&e.rotate(i),0===s&&0===u||e.skew(s,u),1===r&&1===a||e.scale(r,a),0===h&&0===p||e.translate(-1*h,-1*p),e},clone:function(e){var n,o,i,r,a,s=t.Util.cloneObject(this.attrs);for(var u in w){var h=w[u];delete s[h]}for(n in e)s[n]=e[n];var l=new this.constructor(s);for(n in this.eventListeners)for(o=this.eventListeners[n],i=o.length,r=0;r<i;r++)a=o[r],a.name.indexOf(p)<0&&(l.eventListeners[n]||(l.eventListeners[n]=[]),l.eventListeners[n].push(a));return l},_toKonvaCanvas:function(e){e=e||{};var n=this.getStage(),o=e.x||0,i=e.y||0,r=e.pixelRatio||1,a=new t.SceneCanvas({width:e.width||this.getWidth()||(n?n.getWidth():0),height:e.height||this.getHeight()||(n?n.getHeight():0),pixelRatio:r}),s=a.getContext();return s.save(),(o||i)&&s.translate(-1*o,-1*i),this.drawScene(a),s.restore(),a},toCanvas:function(t){return this._toKonvaCanvas(t)._canvas},toDataURL:function(t){t=t||{};var e=t.mimeType||null,n=t.quality||null;return this._toKonvaCanvas(t).toDataURL(e,n)},toImage:function(e){if(!e||!e.callback)throw"callback required for toImage method config argument";t.Util._getImage(this.toDataURL(e),function(t){e.callback(t)})},setSize:function(t){return this.setWidth(t.width),this.setHeight(t.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():t.dragDistance},_get:function(t){return this.className===t||this.nodeType===t?[this]:[]},_off:function(t,e){var n,o,i=this.eventListeners[t];for(n=0;n<i.length;n++)if(o=i[n].name,!("konva"===o&&"konva"!==e||e&&o!==e)){if(i.splice(n,1),0===i.length){delete this.eventListeners[t];break}n--}},_fireChangeEvent:function(t,e,n){this._fire(t+i,{oldVal:e,newVal:n})},setId:function(e){var n=this.getId();return t._removeId(n),t._addId(this,e),this._setAttr(h,e),this},setName:function(e){var n,o,i=(this.getName()||"").split(/\s/g),r=(e||"").split(/\s/g);for(o=0;o<i.length;o++)n=i[o],r.indexOf(n)===-1&&n&&t._removeName(n,this._id);for(o=0;o<r.length;o++)n=r[o],i.indexOf(n)===-1&&n&&t._addName(this,n);return this._setAttr(d,e),this},addName:function(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.setName(n)}return this},hasName:function(t){var e=(this.name()||"").split(/\s/g);return e.indexOf(t)!==-1},removeName:function(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return n!==-1&&(e.splice(n,1),this.setName(e.join(" "))),this},setAttr:function(e,n){var o=y+t.Util._capitalize(e),i=this[o];return t.Util._isFunction(i)?i.call(this,n):this._setAttr(e,n),this},_setAttr:function(t,e){var n;n=this.attrs[t],n!==e&&(void 0===e||null===e?delete this.attrs[t]:this.attrs[t]=e,this._fireChangeEvent(t,n,e))},_setComponentAttr:function(t,e,n){var o;void 0!==n&&(o=this.attrs[t],o||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,o,n))},_fireAndBubble:function(t,e,n){var o=!0;if(e&&this.nodeType===v&&(e.target=this),t===c&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))?o=!1:t===f&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))&&(o=!1),o){this._fire(t,e);var i=(t===c||t===f)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!i&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n.parent):this._fireAndBubble.call(this.parent,t,e))}},_fire:function(t,e){var n,o=this.eventListeners[t];if(e=e||{},e.currentTarget=this,e.type=t,o)for(n=0;n<o.length;n++)o[n].handler.call(this,e)},draw:function(){return this.drawScene(),this.drawHit(),this}}),t.Node.create=function(e,n){return t.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)},t.Node._createNode=function(e,n){var o,i,r,a=t.Node.prototype.getClassName.call(e),s=e.children;if(n&&(e.attrs.container=n),o=new t[a](e.attrs),s)for(i=s.length,r=0;r<i;r++)o.add(this._createNode(s[r]));return o},t.Factory.addOverloadedGetterSetter(t.Node,"position"),t.Factory.addGetterSetter(t.Node,"x",0),t.Factory.addGetterSetter(t.Node,"y",0),t.Factory.addGetterSetter(t.Node,"globalCompositeOperation","source-over"),t.Factory.addGetterSetter(t.Node,"opacity",1),t.Factory.addGetter(t.Node,"name"),t.Factory.addOverloadedGetterSetter(t.Node,"name"),t.Factory.addGetter(t.Node,"id"),t.Factory.addOverloadedGetterSetter(t.Node,"id"),t.Factory.addGetterSetter(t.Node,"rotation",0),t.Factory.addComponentsGetterSetter(t.Node,"scale",["x","y"]),t.Factory.addGetterSetter(t.Node,"scaleX",1),t.Factory.addGetterSetter(t.Node,"scaleY",1),t.Factory.addComponentsGetterSetter(t.Node,"skew",["x","y"]),t.Factory.addGetterSetter(t.Node,"skewX",0),t.Factory.addGetterSetter(t.Node,"skewY",0),t.Factory.addComponentsGetterSetter(t.Node,"offset",["x","y"]),t.Factory.addGetterSetter(t.Node,"offsetX",0),t.Factory.addGetterSetter(t.Node,"offsetY",0),t.Factory.addSetter(t.Node,"dragDistance"),t.Factory.addOverloadedGetterSetter(t.Node,"dragDistance"),t.Factory.addSetter(t.Node,"width",0),t.Factory.addOverloadedGetterSetter(t.Node,"width"),t.Factory.addSetter(t.Node,"height",0),t.Factory.addOverloadedGetterSetter(t.Node,"height"),t.Factory.addGetterSetter(t.Node,"listening","inherit"),t.Factory.addGetterSetter(t.Node,"preventDefault",!0),t.Factory.addGetterSetter(t.Node,"filters",void 0,function(t){return this._filterUpToDate=!1,t}),t.Factory.addGetterSetter(t.Node,"visible","inherit"),t.Factory.addGetterSetter(t.Node,"transformsEnabled","all"),t.Factory.addOverloadedGetterSetter(t.Node,"size"),t.Factory.backCompat(t.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),t.Collection.mapMethods(t.Node)}(Konva),function(){"use strict";Konva.Filters.Grayscale=function(t){var e,n,o=t.data,i=o.length;for(e=0;e<i;e+=4)n=.34*o[e]+.5*o[e+1]+.16*o[e+2],o[e]=n,o[e+1]=n,o[e+2]=n}}(),function(){"use strict";Konva.Filters.Brighten=function(t){var e,n=255*this.brightness(),o=t.data,i=o.length;for(e=0;e<i;e+=4)o[e]+=n,o[e+1]+=n,o[e+2]+=n},Konva.Factory.addGetterSetter(Konva.Node,"brightness",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Invert=function(t){var e,n=t.data,o=n.length;for(e=0;e<o;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}}(),function(){"use strict";function t(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function e(e,i){var r,a,s,u,h,p,l,c,f,d,y,v,g,m,b,_,x,w,P,S,C,M,T,A,E=e.data,I=e.width,L=e.height,N=i+i+1,O=I-1,k=L-1,R=i+1,D=R*(R+1)/2,F=new t,j=null,K=F,B=null,X=null,U=n[i],Y=o[i];for(s=1;s<N;s++)K=K.next=new t,s===R&&(j=K);for(K.next=F,l=p=0,a=0;a<L;a++){for(_=x=w=P=c=f=d=y=0,v=R*(S=E[p]),g=R*(C=E[p+1]),m=R*(M=E[p+2]),b=R*(T=E[p+3]),c+=D*S,f+=D*C,d+=D*M,y+=D*T,K=F,s=0;s<R;s++)K.r=S,K.g=C,K.b=M,K.a=T,K=K.next;for(s=1;s<R;s++)u=p+((O<s?O:s)<<2),c+=(K.r=S=E[u])*(A=R-s),f+=(K.g=C=E[u+1])*A,d+=(K.b=M=E[u+2])*A,y+=(K.a=T=E[u+3])*A,_+=S,x+=C,w+=M,P+=T,K=K.next;for(B=F,X=j,r=0;r<I;r++)E[p+3]=T=y*U>>Y,0!==T?(T=255/T,E[p]=(c*U>>Y)*T,E[p+1]=(f*U>>Y)*T,E[p+2]=(d*U>>Y)*T):E[p]=E[p+1]=E[p+2]=0,c-=v,f-=g,d-=m,y-=b,v-=B.r,g-=B.g,m-=B.b,b-=B.a,u=l+((u=r+i+1)<O?u:O)<<2,_+=B.r=E[u],x+=B.g=E[u+1],w+=B.b=E[u+2],P+=B.a=E[u+3],c+=_,f+=x,d+=w,y+=P,B=B.next,v+=S=X.r,g+=C=X.g,m+=M=X.b,b+=T=X.a,_-=S,x-=C,w-=M,P-=T,X=X.next,p+=4;l+=I}for(r=0;r<I;r++){for(x=w=P=_=f=d=y=c=0,p=r<<2,v=R*(S=E[p]),g=R*(C=E[p+1]),m=R*(M=E[p+2]),b=R*(T=E[p+3]),c+=D*S,f+=D*C,d+=D*M,y+=D*T,K=F,s=0;s<R;s++)K.r=S,K.g=C,K.b=M,K.a=T,K=K.next;for(h=I,s=1;s<=i;s++)p=h+r<<2,c+=(K.r=S=E[p])*(A=R-s),f+=(K.g=C=E[p+1])*A,d+=(K.b=M=E[p+2])*A,y+=(K.a=T=E[p+3])*A,_+=S,x+=C,w+=M,P+=T,K=K.next,s<k&&(h+=I);for(p=r,B=F,X=j,a=0;a<L;a++)u=p<<2,E[u+3]=T=y*U>>Y,T>0?(T=255/T,E[u]=(c*U>>Y)*T,E[u+1]=(f*U>>Y)*T,E[u+2]=(d*U>>Y)*T):E[u]=E[u+1]=E[u+2]=0,c-=v,f-=g,d-=m,y-=b,v-=B.r,g-=B.g,m-=B.b,b-=B.a,u=r+((u=a+R)<k?u:k)*I<<2,c+=_+=B.r=E[u],f+=x+=B.g=E[u+1],d+=w+=B.b=E[u+2],y+=P+=B.a=E[u+3],B=B.next,v+=S=X.r,g+=C=X.g,m+=M=X.b,b+=T=X.a,_-=S,x-=C,w-=M,P-=T,X=X.next,p+=I}}var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Konva.Filters.Blur=function(t){var n=Math.round(this.blurRadius());n>0&&e(t,n)},Konva.Factory.addGetterSetter(Konva.Node,"blurRadius",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";function t(t,e,n){var o=4*(n*t.width+e),i=[];return i.push(t.data[o++],t.data[o++],t.data[o++],t.data[o++]),i}function e(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function n(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function o(o,i){var r=t(o,0,0),a=t(o,o.width-1,0),s=t(o,0,o.height-1),u=t(o,o.width-1,o.height-1),h=i||10;if(e(r,a)<h&&e(a,u)<h&&e(u,s)<h&&e(s,r)<h){for(var p=n([a,r,u,s]),l=[],c=0;c<o.width*o.height;c++){var f=e(p,[o.data[4*c],o.data[4*c+1],o.data[4*c+2]]);l[c]=f<h?0:255}return l}}function i(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function r(t,e,n){for(var o=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(o.length)),r=Math.floor(i/2),a=[],s=0;s<n;s++)for(var u=0;u<e;u++){for(var h=s*e+u,p=0,l=0;l<i;l++)for(var c=0;c<i;c++){var f=s+l-r,d=u+c-r;if(f>=0&&f<n&&d>=0&&d<e){var y=f*e+d,v=o[l*i+c];p+=t[y]*v}}a[h]=2040===p?255:0}return a}function a(t,e,n){for(var o=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(o.length)),r=Math.floor(i/2),a=[],s=0;s<n;s++)for(var u=0;u<e;u++){for(var h=s*e+u,p=0,l=0;l<i;l++)for(var c=0;c<i;c++){var f=s+l-r,d=u+c-r;if(f>=0&&f<n&&d>=0&&d<e){var y=f*e+d,v=o[l*i+c];p+=t[y]*v}}a[h]=p>=1020?255:0}return a}function s(t,e,n){for(var o=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(o.length)),r=Math.floor(i/2),a=[],s=0;s<n;s++)for(var u=0;u<e;u++){for(var h=s*e+u,p=0,l=0;l<i;l++)for(var c=0;c<i;c++){var f=s+l-r,d=u+c-r;if(f>=0&&f<n&&d>=0&&d<e){var y=f*e+d,v=o[l*i+c];p+=t[y]*v}}a[h]=p}return a}Konva.Filters.Mask=function(t){var e=this.threshold(),n=o(t,e);return n&&(n=r(n,t.width,t.height),n=a(n,t.width,t.height),n=s(n,t.width,t.height),i(t,n)),t},Konva.Factory.addGetterSetter(Konva.Node,"threshold",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.RGB=function(t){var e,n,o=t.data,i=o.length,r=this.red(),a=this.green(),s=this.blue();for(e=0;e<i;e+=4)n=(.34*o[e]+.5*o[e+1]+.16*o[e+2])/255,o[e]=n*r,o[e+1]=n*a,o[e+2]=n*s,o[e+3]=o[e+3]},Konva.Factory.addGetterSetter(Konva.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"blue",0,Konva.Validators.RGBComponent,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.RGBA=function(t){var e,n,o=t.data,i=o.length,r=this.red(),a=this.green(),s=this.blue(),u=this.alpha();for(e=0;e<i;e+=4)n=1-u,o[e]=r*u+o[e]*n,o[e+1]=a*u+o[e+1]*n,o[e+2]=s*u+o[e+2]*n},Konva.Factory.addGetterSetter(Konva.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"blue",0,Konva.Validators.RGBComponent,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t})}(),function(){"use strict";Konva.Filters.HSV=function(t){var e,n,o,i,r,a=t.data,s=a.length,u=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),p=Math.abs(this.hue()+360)%360,l=u*h*Math.cos(p*Math.PI/180),c=u*h*Math.sin(p*Math.PI/180),f=.299*u+.701*l+.167*c,d=.587*u-.587*l+.33*c,y=.114*u-.114*l-.497*c,v=.299*u-.299*l-.328*c,g=.587*u+.413*l+.035*c,m=.114*u-.114*l+.293*c,b=.299*u-.3*l+1.25*c,_=.587*u-.586*l-1.05*c,x=.114*u+.886*l-.2*c;for(e=0;e<s;e+=4)n=a[e+0],o=a[e+1],i=a[e+2],r=a[e+3],a[e+0]=f*n+d*o+y*i,a[e+1]=v*n+g*o+m*i,a[e+2]=b*n+_*o+x*i,a[e+3]=r},Konva.Factory.addGetterSetter(Konva.Node,"hue",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"saturation",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"value",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Factory.addGetterSetter(Konva.Node,"hue",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"saturation",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"luminance",0,null,Konva.Factory.afterSetFilter),Konva.Filters.HSL=function(t){var e,n,o,i,r,a=t.data,s=a.length,u=1,h=Math.pow(2,this.saturation()),p=Math.abs(this.hue()+360)%360,l=127*this.luminance(),c=u*h*Math.cos(p*Math.PI/180),f=u*h*Math.sin(p*Math.PI/180),d=.299*u+.701*c+.167*f,y=.587*u-.587*c+.33*f,v=.114*u-.114*c-.497*f,g=.299*u-.299*c-.328*f,m=.587*u+.413*c+.035*f,b=.114*u-.114*c+.293*f,_=.299*u-.3*c+1.25*f,x=.587*u-.586*c-1.05*f,w=.114*u+.886*c-.2*f;for(e=0;e<s;e+=4)n=a[e+0],o=a[e+1],i=a[e+2],r=a[e+3],a[e+0]=d*n+y*o+v*i+l,a[e+1]=g*n+m*o+b*i+l,a[e+2]=_*n+x*o+w*i+l,a[e+3]=r}}(),function(){"use strict";Konva.Filters.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),o=this.embossDirection(),i=this.embossBlend(),r=0,a=0,s=t.data,u=t.width,h=t.height,p=4*u,l=h;switch(o){case"top-left":r=-1,a=-1;break;case"top":r=-1,a=0;break;case"top-right":r=-1,a=1;break;case"right":r=0,a=1;break;case"bottom-right":r=1,a=1;break;case"bottom":r=1,a=0;break;case"bottom-left":r=1,a=-1;break;case"left":r=0,a=-1;break;default:Konva.Util.error("Unknown emboss direction: "+o)}do{var c=(l-1)*p,f=r;l+f<1&&(f=0),l+f>h&&(f=0);var d=(l-1+f)*u*4,y=u;do{var v=c+4*(y-1),g=a;y+g<1&&(g=0),y+g>u&&(g=0);var m=d+4*(y-1+g),b=s[v]-s[m],_=s[v+1]-s[m+1],x=s[v+2]-s[m+2],w=b,P=w>0?w:-w,S=_>0?_:-_,C=x>0?x:-x;if(S>P&&(w=_),C>P&&(w=x),w*=e,i){var M=s[v]+w,T=s[v+1]+w,A=s[v+2]+w;s[v]=M>255?255:M<0?0:M,s[v+1]=T>255?255:T<0?0:T,s[v+2]=A>255?255:A<0?0:A}else{var E=n-w;E<0?E=0:E>255&&(E=255),s[v]=s[v+1]=s[v+2]=E}}while(--y)}while(--l)},Konva.Factory.addGetterSetter(Konva.Node,"embossStrength",.5,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossWhiteLevel",.5,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossDirection","top-left",null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossBlend",!1,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";function t(t,e,n,o,i){var r,a=n-e,s=i-o;return 0===a?o+s/2:0===s?o:(r=(t-e)/a,r=s*r+o)}Konva.Filters.Enhance=function(e){var n,o,i,r,a=e.data,s=a.length,u=a[0],h=u,p=a[1],l=p,c=a[2],f=c,d=this.enhance();if(0!==d){for(r=0;r<s;r+=4)n=a[r+0],n<u?u=n:n>h&&(h=n),o=a[r+1],o<p?p=o:o>l&&(l=o),i=a[r+2],i<c?c=i:i>f&&(f=i);h===u&&(h=255,u=0),l===p&&(l=255,p=0),f===c&&(f=255,c=0);var y,v,g,m,b,_,x,w,P;for(d>0?(v=h+d*(255-h),g=u-d*(u-0),b=l+d*(255-l),_=p-d*(p-0),w=f+d*(255-f),P=c-d*(c-0)):(y=.5*(h+u),v=h+d*(h-y),g=u+d*(u-y),m=.5*(l+p),b=l+d*(l-m),_=p+d*(p-m),x=.5*(f+c),w=f+d*(f-x),P=c+d*(c-x)),r=0;r<s;r+=4)a[r+0]=t(a[r+0],u,h,g,v),a[r+1]=t(a[r+1],p,l,_,b),a[r+2]=t(a[r+2],c,f,P,w)}},Konva.Factory.addGetterSetter(Konva.Node,"enhance",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,o=t.data,i=o.length,r=255/n;for(e=0;e<i;e+=1)o[e]=Math.floor(o[e]/r)*r},Konva.Factory.addGetterSetter(Konva.Node,"levels",.5,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Noise=function(t){var e,n=255*this.noise(),o=t.data,i=o.length,r=n/2;for(e=0;e<i;e+=4)o[e+0]+=r-2*r*Math.random(),o[e+1]+=r-2*r*Math.random(),o[e+2]+=r-2*r*Math.random()},Konva.Factory.addGetterSetter(Konva.Node,"noise",.2,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Pixelate=function(t){var e,n,o,i,r,a,s,u,h,p,l,c,f,d,y=Math.ceil(this.pixelSize()),v=t.width,g=t.height,m=Math.ceil(v/y),b=Math.ceil(g/y);if(t=t.data,y<=0)return void Konva.Util.error("pixelSize value can not be <= 0");for(c=0;c<m;c+=1)for(f=0;f<b;f+=1){for(i=0,r=0,a=0,s=0,u=c*y,h=u+y,p=f*y,l=p+y,d=0,e=u;e<h;e+=1)if(!(e>=v))for(n=p;n<l;n+=1)n>=g||(o=4*(v*n+e),i+=t[o+0],r+=t[o+1],a+=t[o+2],s+=t[o+3],d+=1);for(i/=d,r/=d,a/=d,e=u;e<h;e+=1)if(!(e>=v))for(n=p;n<l;n+=1)n>=g||(o=4*(v*n+e),t[o+0]=i,t[o+1]=r,t[o+2]=a,t[o+3]=s)}},Konva.Factory.addGetterSetter(Konva.Node,"pixelSize",8,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Threshold=function(t){var e,n=255*this.threshold(),o=t.data,i=o.length;for(e=0;e<i;e+=1)o[e]=o[e]<n?0:255},Konva.Factory.addGetterSetter(Konva.Node,"threshold",.5,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";/**
	     * Sepia Filter
	     * Based on: Pixastic Lib - Sepia filter - v0.1.0
	     * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
	     * @function
	     * @name Sepia
	     * @memberof Konva.Filters
	     * @param {Object} imageData
	     * @author Jacob Seidelin <jseidelin@nihilogic.dk>
	     * @license MPL v1.1 [http://www.pixastic.com/lib/license.txt]
	     * @example
	     * node.cache();
	     * node.filters([Konva.Filters.Sepia]);
	     */
Konva.Filters.Sepia=function(t){var e,n,o,i,r,a,s,u,h,p=t.data,l=t.width,c=t.height,f=4*l;do{e=(c-1)*f,n=l;do o=e+4*(n-1),i=p[o],r=p[o+1],a=p[o+2],s=.393*i+.769*r+.189*a,u=.349*i+.686*r+.168*a,h=.272*i+.534*r+.131*a,p[o]=s>255?255:s,p[o+1]=u>255?255:u,p[o+2]=h>255?255:h,p[o+3]=p[o+3];while(--n)}while(--c)}}(),function(){"use strict";Konva.Filters.Solarize=function(t){var e=t.data,n=t.width,o=t.height,i=4*n,r=o;do{var a=(r-1)*i,s=n;do{var u=a+4*(s-1),h=e[u],p=e[u+1],l=e[u+2];h>127&&(h=255-h),p>127&&(p=255-p),l>127&&(l=255-l),e[u]=h,e[u+1]=p,e[u+2]=l}while(--s)}while(--r)}}(),function(){"use strict";var t=function(t,e,n){var o,i,r,a,s=t.data,u=e.data,h=t.width,p=t.height,l=n.polarCenterX||h/2,c=n.polarCenterY||p/2,f=0,d=0,y=0,v=0,g=Math.sqrt(l*l+c*c);i=h-l,r=p-c,a=Math.sqrt(i*i+r*r),g=a>g?a:g;var m,b,_,x,w=p,P=h,S=360/P*Math.PI/180;for(b=0;b<P;b+=1)for(_=Math.sin(b*S),x=Math.cos(b*S),m=0;m<w;m+=1)i=Math.floor(l+g*m/w*x),r=Math.floor(c+g*m/w*_),o=4*(r*h+i),f=s[o+0],d=s[o+1],y=s[o+2],v=s[o+3],o=4*(b+m*h),u[o+0]=f,u[o+1]=d,u[o+2]=y,u[o+3]=v},e=function(t,e,n){var o,i,r,a,s,u,h=t.data,p=e.data,l=t.width,c=t.height,f=n.polarCenterX||l/2,d=n.polarCenterY||c/2,y=0,v=0,g=0,m=0,b=Math.sqrt(f*f+d*d);i=l-f,r=c-d,u=Math.sqrt(i*i+r*r),b=u>b?u:b;var _,x,w,P,S=c,C=l,M=n.polarRotation||0;for(i=0;i<l;i+=1)for(r=0;r<c;r+=1)a=i-f,s=r-d,_=Math.sqrt(a*a+s*s)*S/b,x=(180*Math.atan2(s,a)/Math.PI+360+M)%360,x=x*C/360,w=Math.floor(x),P=Math.floor(_),o=4*(P*l+w),y=h[o+0],v=h[o+1],g=h[o+2],m=h[o+3],o=4*(r*l+i),p[o+0]=y,p[o+1]=v,p[o+2]=g,p[o+3]=m},n=Konva.Util.createCanvasElement();Konva.Filters.Kaleidoscope=function(o){var i,r,a,s,u,h,p,l,c,f,d=o.width,y=o.height,v=Math.round(this.kaleidoscopePower()),g=Math.round(this.kaleidoscopeAngle()),m=Math.floor(d*(g%360)/360);if(!(v<1)){n.width=d,n.height=y;var b=n.getContext("2d").getImageData(0,0,d,y);t(o,b,{polarCenterX:d/2,polarCenterY:y/2});for(var _=d/Math.pow(2,v);_<=8;)_*=2,v-=1;_=Math.ceil(_);var x=_,w=0,P=x,S=1;for(m+_>d&&(w=x,P=0,S=-1),r=0;r<y;r+=1)for(i=w;i!==P;i+=S)a=Math.round(i+m)%d,c=4*(d*r+a),u=b.data[c+0],h=b.data[c+1],p=b.data[c+2],l=b.data[c+3],f=4*(d*r+i),b.data[f+0]=u,b.data[f+1]=h,b.data[f+2]=p,b.data[f+3]=l;for(r=0;r<y;r+=1)for(x=Math.floor(_),s=0;s<v;s+=1){for(i=0;i<x+1;i+=1)c=4*(d*r+i),u=b.data[c+0],h=b.data[c+1],p=b.data[c+2],l=b.data[c+3],f=4*(d*r+2*x-i-1),b.data[f+0]=u,b.data[f+1]=h,b.data[f+2]=p,b.data[f+3]=l;x*=2}e(b,o,{polarRotation:0})}},Konva.Factory.addGetterSetter(Konva.Node,"kaleidoscopePower",2,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"kaleidoscopeAngle",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Container=function(t){this.__init(t)},Konva.Util.addMethods(Konva.Container,{__init:function(t){this.children=new Konva.Collection,Konva.Node.call(this,t)},getChildren:function(t){if(!t)return this.children;var e=new Konva.Collection;return this.children.each(function(n){t(n)&&e.push(n)}),e},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){for(var t,e=Konva.Collection.toCollection(this.children),n=0;n<e.length;n++)t=e[n],delete t.parent,t.index=0,t.remove();return e=null,this.children=new Konva.Collection,this},destroyChildren:function(){for(var t,e=Konva.Collection.toCollection(this.children),n=0;n<e.length;n++)t=e[n],delete t.parent,t.index=0,t.destroy();return e=null,this.children=new Konva.Collection,this},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}if(t.getParent())return t.moveTo(this),this;var n=this.children;return this._validateAdd(t),t.index=n.length,t.parent=this,n.push(t),this._fire("add",{child:t}),Konva.DD&&t.isDragging()&&Konva.DD.anim.setLayers(t.getLayer()),this},destroy:function(){return this.hasChildren()&&this.destroyChildren(),Konva.Node.prototype.destroy.call(this),this},find:function(t){var e,n,o,i,r,a,s,u=[],h=t.replace(/ /g,"").split(","),p=h.length;for(e=0;e<p;e++)if(o=h[e],Konva.Util.isValidSelector(o)||(Konva.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Konva.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Konva.Util.warn("Konva is awesome, right?")),"#"===o.charAt(0))r=this._getNodeById(o.slice(1)),r&&u.push(r);else if("."===o.charAt(0))i=this._getNodesByName(o.slice(1)),u=u.concat(i);else for(a=this.getChildren(),s=a.length,n=0;n<s;n++)u=u.concat(a[n]._get(o));return Konva.Collection.toCollection(u)},findOne:function(t){return this.find(t)[0]},_getNodeById:function(t){var e=Konva.ids[t];return void 0!==e&&this.isAncestorOf(e)?e:null},_getNodesByName:function(t){var e=Konva.names[t]||[];return this._getDescendants(e)},_get:function(t){for(var e=Konva.Node.prototype._get.call(this,t),n=this.getChildren(),o=n.length,i=0;i<o;i++)e=e.concat(n[i]._get(t));return e},toObject:function(){var t=Konva.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,o=0;o<n;o++){var i=e[o];t.children.push(i.toObject())}return t},_getDescendants:function(t){for(var e=[],n=t.length,o=0;o<n;o++){var i=t[o];this.isAncestorOf(i)&&e.push(i)}return e},isAncestorOf:function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},clone:function(t){var e=Konva.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},getAllIntersections:function(t){var e=[];return this.find("Shape").each(function(n){n.isVisible()&&n.intersects(t)&&e.push(n)}),e},_setChildrenIndices:function(){this.children.each(function(t,e){t.index=e})},drawScene:function(t,e,n){var o=this.getLayer(),i=t||o&&o.getCanvas(),r=i&&i.getContext(),a=this._cache.canvas,s=a&&a.scene;return this.isVisible()&&(!n&&s?(r.save(),o._applyTransform(this,r,e),this._drawCachedSceneCanvas(r),r.restore()):this._drawChildren(i,"drawScene",e,!1,n)),this},drawHit:function(t,e,n){var o=this.getLayer(),i=t||o&&o.hitCanvas,r=i&&i.getContext(),a=this._cache.canvas,s=a&&a.hit;return this.shouldDrawHit(i)&&(o&&o.clearHitCache(),!n&&s?(r.save(),o._applyTransform(this,r,e),this._drawCachedHitCanvas(r),r.restore()):this._drawChildren(i,"drawHit",e)),this},_drawChildren:function(t,e,n,o,i){var r,a,s=this.getLayer(),u=t&&t.getContext(),h=this.getClipWidth(),p=this.getClipHeight(),l=this.getClipFunc(),c=h&&p||l;if(c&&s){u.save();var f=this.getAbsoluteTransform(n),d=f.getMatrix();u.transform(d[0],d[1],d[2],d[3],d[4],d[5]),u.beginPath(),l?l.call(this,u,this):(r=this.getClipX(),a=this.getClipY(),u.rect(r,a,h,p)),u.clip(),d=f.copy().invert().getMatrix(),u.transform(d[0],d[1],d[2],d[3],d[4],d[5])}this.children.each(function(r){r[e](t,n,o,i)}),c&&u.restore()},shouldDrawHit:function(t){var e=this.getLayer(),n=Konva.DD,o=n&&Konva.isDragging()&&Konva.DD.anim.getLayers().indexOf(e)!==-1;return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isVisible()&&!o},getClientRect:function(t){t=t||{};var e,n,o,i,r=t.skipTransform,a=t.relativeTo,s={x:0,y:0,width:0,height:0},u=this;return this.children.each(function(t){if(t.isVisible()){var r=t.getClientRect({relativeTo:u});void 0===e?(e=r.x,n=r.y,o=r.x+r.width,i=r.y+r.height):(e=Math.min(e,r.x),n=Math.min(n,r.y),o=Math.max(o,r.x+r.width),i=Math.max(i,r.y+r.height))}}),0!==this.children.length&&(s={x:e,y:n,width:o-e,height:i-n}),r?s:this._transformedRect(s,a)}}),Konva.Util.extend(Konva.Container,Konva.Node),Konva.Container.prototype.get=Konva.Container.prototype.find,Konva.Factory.addComponentsGetterSetter(Konva.Container,"clip",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Container,"clipX"),Konva.Factory.addGetterSetter(Konva.Container,"clipY"),Konva.Factory.addGetterSetter(Konva.Container,"clipWidth"),Konva.Factory.addGetterSetter(Konva.Container,"clipHeight"),Konva.Factory.addGetterSetter(Konva.Container,"clipFunc"),Konva.Collection.mapMethods(Konva.Container)}(),function(t){"use strict";function e(t){t.fill()}function n(t){t.stroke()}function o(t){t.fill()}function i(t){t.stroke()}function r(){this._clearCache(s)}function a(){this._clearCache(u)}var s="hasShadow",u="shadowRGBA";t.Shape=function(t){this.__init(t)},t.Util.addMethods(t.Shape,{__init:function(s){this.nodeType="Shape",this._fillFunc=e,this._strokeFunc=n,this._fillFuncHit=o,this._strokeFuncHit=i;for(var u,h=t.shapes;;)if(u=t.Util.getRandomColor(),u&&!(u in h))break;this.colorKey=u,h[u]=this,t.Node.call(this,s),this.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",r),this.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",a)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(s,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},getShadowRGBA:function(){return this._getCache(u,this._getShadowRGBA)},_getShadowRGBA:function(){if(this.hasShadow()){var e=t.Util.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.getShadowOpacity()||1)+")"}},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return this.strokeEnabled()&&!!this.stroke()},intersects:function(t){var e,n=this.getStage(),o=n.bufferHitCanvas;return o.getContext().clear(),this.drawHit(o),e=o.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data,e[3]>0},destroy:function(){return t.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],this},_useBufferCanvas:function(t){return!t&&this.perfectDrawEnabled()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()||this.perfectDrawEnabled()&&this.hasShadow()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()},getSelfRect:function(){var t=this.getSize();return{x:this._centroid?Math.round(-t.width/2):0,y:this._centroid?Math.round(-t.height/2):0,width:t.width,height:t.height}},getClientRect:function(t){t=t||{};var e=t.skipTransform,n=t.relativeTo,o=this.getSelfRect(),i=this.hasStroke()&&this.strokeWidth()||0,r=o.width+i,a=o.height+i,s=this.hasShadow()?this.shadowOffsetX():0,u=this.hasShadow()?this.shadowOffsetY():0,h=r+Math.abs(s),p=a+Math.abs(u),l=this.hasShadow()&&this.shadowBlur()||0,c=h+2*l,f=p+2*l,d=0;Math.round(i/2)!==i/2&&(d=1);var y={width:c+d,height:f+d,x:-Math.round(i/2+l)+Math.min(s,0)+o.x,y:-Math.round(i/2+l)+Math.min(u,0)+o.y};return e?y:this._transformedRect(y,n)},drawScene:function(t,e,n,o){var i,r,a,s=this.getLayer(),u=t||s.getCanvas(),h=u.getContext(),p=this._cache.canvas,l=this.sceneFunc(),c=this.hasShadow(),f=this.hasStroke();if(!this.isVisible())return this;if(p)return h.save(),s._applyTransform(this,h,e),this._drawCachedSceneCanvas(h),h.restore(),this;if(!l)return this;if(h.save(),this._useBufferCanvas(n)&&!o){if(i=this.getStage(),r=i.bufferCanvas,a=r.getContext(),a.clear(),a.save(),a._applyLineJoin(this),!n)if(s)s._applyTransform(this,a,e);else{var d=this.getAbsoluteTransform(e).getMatrix();h.transform(d[0],d[1],d[2],d[3],d[4],d[5])}l.call(this,a),a.restore();var y=r.pixelRatio;c&&!u.hitCanvas?(h.save(),h._applyShadow(this),h._applyOpacity(this),h._applyGlobalCompositeOperation(this),h.drawImage(r._canvas,0,0,r.width/y,r.height/y),h.restore()):(h._applyOpacity(this),h._applyGlobalCompositeOperation(this),h.drawImage(r._canvas,0,0,r.width/y,r.height/y))}else{if(h._applyLineJoin(this),!n)if(s)s._applyTransform(this,h,e);else{var v=this.getAbsoluteTransform(e).getMatrix();h.transform(v[0],v[1],v[2],v[3],v[4],v[5])}c&&f&&!u.hitCanvas?(h.save(),n||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),h._applyShadow(this),l.call(this,h),h.restore(),this.hasFill()&&this.getShadowForStrokeEnabled()&&l.call(this,h)):c&&!u.hitCanvas?(h.save(),n||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),h._applyShadow(this),l.call(this,h),h.restore()):(n||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),l.call(this,h))}return h.restore(),this},drawHit:function(t,e,n){var o=this.getLayer(),i=t||o.hitCanvas,r=i.getContext(),a=this.hitFunc()||this.sceneFunc(),s=this._cache.canvas,u=s&&s.hit;if(!this.shouldDrawHit(i))return this;if(o&&o.clearHitCache(),u)return r.save(),o._applyTransform(this,r,e),this._drawCachedHitCanvas(r),r.restore(),this;if(!a)return this;if(r.save(),r._applyLineJoin(this),!n)if(o)o._applyTransform(this,r,e);else{var h=this.getAbsoluteTransform(e).getMatrix();r.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return a.call(this,r),r.restore(),this},drawHitFromCache:function(e){var n,o,i,r,a,s,u=e||0,h=this._cache.canvas,p=this._getCachedSceneCanvas(),l=h.hit,c=l.getContext(),f=l.getWidth(),d=l.getHeight();c.clear(),c.drawImage(p._canvas,0,0,f,d);try{for(n=c.getImageData(0,0,f,d),o=n.data,i=o.length,r=t.Util._hexToRgb(this.colorKey),a=0;a<i;a+=4)s=o[a+3],s>u?(o[a]=r.r,o[a+1]=r.g,o[a+2]=r.b,o[a+3]=255):o[a+3]=0;c.putImageData(n,0,0)}catch(e){t.Util.error("Unable to draw hit graph from cached scene canvas. "+e.message)}return this}}),t.Util.extend(t.Shape,t.Node),t.Factory.addGetterSetter(t.Shape,"stroke"),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeRed",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeGreen",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeBlue",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeAlpha",1,t.Validators.alphaComponent),t.Factory.addGetterSetter(t.Shape,"strokeWidth",2),t.Factory.addGetterSetter(t.Shape,"strokeHitEnabled",!0),t.Factory.addGetterSetter(t.Shape,"perfectDrawEnabled",!0),t.Factory.addGetterSetter(t.Shape,"shadowForStrokeEnabled",!0),t.Factory.addGetterSetter(t.Shape,"lineJoin"),t.Factory.addGetterSetter(t.Shape,"lineCap"),t.Factory.addGetterSetter(t.Shape,"sceneFunc"),t.Factory.addGetterSetter(t.Shape,"hitFunc"),t.Factory.addGetterSetter(t.Shape,"dash"),t.Factory.addGetterSetter(t.Shape,"dashOffset",0),t.Factory.addGetterSetter(t.Shape,"shadowColor"),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowRed",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowGreen",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowBlue",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowAlpha",1,t.Validators.alphaComponent),t.Factory.addGetterSetter(t.Shape,"shadowBlur"),t.Factory.addGetterSetter(t.Shape,"shadowOpacity"),t.Factory.addComponentsGetterSetter(t.Shape,"shadowOffset",["x","y"]),t.Factory.addGetterSetter(t.Shape,"shadowOffsetX",0),t.Factory.addGetterSetter(t.Shape,"shadowOffsetY",0),t.Factory.addGetterSetter(t.Shape,"fillPatternImage"),t.Factory.addGetterSetter(t.Shape,"fill"),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillRed",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillGreen",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillBlue",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillAlpha",1,t.Validators.alphaComponent),t.Factory.addGetterSetter(t.Shape,"fillPatternX",0),t.Factory.addGetterSetter(t.Shape,"fillPatternY",0),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientColorStops"),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientStartRadius",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientEndRadius",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientColorStops"),t.Factory.addGetterSetter(t.Shape,"fillPatternRepeat","repeat"),t.Factory.addGetterSetter(t.Shape,"fillEnabled",!0),t.Factory.addGetterSetter(t.Shape,"strokeEnabled",!0),t.Factory.addGetterSetter(t.Shape,"shadowEnabled",!0),t.Factory.addGetterSetter(t.Shape,"dashEnabled",!0),t.Factory.addGetterSetter(t.Shape,"strokeScaleEnabled",!0),t.Factory.addGetterSetter(t.Shape,"fillPriority","color"),t.Factory.addComponentsGetterSetter(t.Shape,"fillPatternOffset",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillPatternOffsetX",0),t.Factory.addGetterSetter(t.Shape,"fillPatternOffsetY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillPatternScale",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillPatternScaleX",1),t.Factory.addGetterSetter(t.Shape,"fillPatternScaleY",1),t.Factory.addComponentsGetterSetter(t.Shape,"fillLinearGradientStartPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientStartPointX",0),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientStartPointY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillLinearGradientEndPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientEndPointX",0),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientEndPointY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillRadialGradientStartPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientStartPointX",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientStartPointY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillRadialGradientEndPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientEndPointX",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientEndPointY",0),t.Factory.addGetterSetter(t.Shape,"fillPatternRotation",0),t.Factory.backCompat(t.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),t.Collection.mapMethods(t.Shape)}(Konva),function(){"use strict";function t(t,e){t.content.addEventListener(e,function(n){t[j+e](n)},!1)}var e="Stage",n="string",o="px",i="mouseout",r="mouseleave",a="mouseover",s="mouseenter",u="mousemove",h="mousedown",p="mouseup",l="contextmenu",c="click",f="dblclick",d="touchstart",y="touchend",v="tap",g="dbltap",m="touchmove",b="wheel",_="contentMouseout",x="contentMouseover",w="contentMousemove",P="contentMousedown",S="contentMouseup",C="contentContextmenu",M="contentClick",T="contentDblclick",A="contentTouchstart",E="contentTouchend",I="contentDbltap",L="contentTap",N="contentTouchmove",O="contentWheel",k="div",R="relative",D="konvajs-content",F=" ",j="_",K="container",B="",X=[h,u,p,i,d,m,y,a,b,l],U=X.length;Konva.Stage=function(t){this.___init(t)},Konva.Util.addMethods(Konva.Stage,{___init:function(t){this.nodeType=e,Konva.Container.call(this,t),this._id=Konva.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,Konva.stages.push(this)},_validateAdd:function(t){"Layer"!==t.getType()&&Konva.Util.throw("You may only add layers to the stage.")},setContainer:function(t){if(typeof t===n){if("."===t.charAt(0)){var e=t.slice(1);t=Konva.document.getElementsByClassName(e)[0]}else{var o;o="#"!==t.charAt(0)?t:t.slice(1),t=Konva.document.getElementById(o)}if(!t)throw"Can not find container in document with id "+o}return this._setAttr(K,t),this},shouldDrawHit:function(){return!0},draw:function(){return Konva.Node.prototype.draw.call(this),this},setHeight:function(t){return Konva.Node.prototype.setHeight.call(this,t),this._resizeDOM(),this},setWidth:function(t){return Konva.Node.prototype.setWidth.call(this,t),this._resizeDOM(),this},clear:function(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this},clone:function(t){return t||(t={}),t.container=Konva.document.createElement(k),Konva.Container.prototype.clone.call(this,t)},destroy:function(){var t=this.content;Konva.Container.prototype.destroy.call(this),t&&Konva.Util._isInDocument(t)&&this.getContainer().removeChild(t);var e=Konva.stages.indexOf(this);return e>-1&&Konva.stages.splice(e,1),this},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(t){t=t||{};var e=t.mimeType||null,n=t.quality||null,o=t.x||0,i=t.y||0,r=new Konva.SceneCanvas({width:t.width||this.getWidth(),height:t.height||this.getHeight(),pixelRatio:t.pixelRatio}),a=r.getContext()._context,s=this.children;(o||i)&&a.translate(-1*o,-1*i),s.each(function(t){var e=t.getCanvas().getWidth(),n=t.getCanvas().getHeight(),o=t.getCanvas().getPixelRatio();a.drawImage(t.getCanvas()._canvas,0,0,e/o,n/o)});var u=r.toDataURL(e,n);return t.callback&&t.callback(u),u},toImage:function(t){var e=t.callback;t.callback=function(t){Konva.Util._getImage(t,function(t){e(t)})},this.toDataURL(t)},getIntersection:function(t,e){var n,o,i=this.getChildren(),r=i.length,a=r-1;for(n=a;n>=0;n--)if(o=i[n].getIntersection(t,e))return o;return null},_resizeDOM:function(){if(this.content){var t,e,n=this.getWidth(),i=this.getHeight(),r=this.getChildren(),a=r.length;for(this.content.style.width=n+o,this.content.style.height=i+o,this.bufferCanvas.setSize(n,i),this.bufferHitCanvas.setSize(n,i),t=0;t<a;t++)e=r[t],e.setSize(n,i),e.batchDraw()}},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return Konva.Container.prototype.add.call(this,t),t._setCanvasSize(this.width(),this.height()),t.draw(),this.content.appendChild(t.canvas._canvas),this},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){for(var e=0;e<U;e++)t(this,X[e])},_mouseover:function(t){Konva.UA.mobile||(this._setPointerPosition(t),this._fire(x,{evt:t}))},_mouseout:function(t){if(!Konva.UA.mobile){this._setPointerPosition(t);var e=this.targetShape;e&&!Konva.isDragging()&&(e._fireAndBubble(i,{evt:t}),e._fireAndBubble(r,{evt:t}),this.targetShape=null),this.pointerPos=void 0,this._fire(_,{evt:t})}},_mousemove:function(t){if(Konva.UA.ieMobile)return this._touchmove(t);if(("undefined"!=typeof t.movementX||"undefined"!=typeof t.movementY)&&0===t.movementY&&0===t.movementX)return null;if(Konva.UA.mobile)return null;this._setPointerPosition(t);var e;Konva.isDragging()||(e=this.getIntersection(this.getPointerPosition()),e&&e.isListening()?Konva.isDragging()||this.targetShape&&this.targetShape._id===e._id?e._fireAndBubble(u,{evt:t}):(this.targetShape&&(this.targetShape._fireAndBubble(i,{evt:t},e),this.targetShape._fireAndBubble(r,{evt:t},e)),e._fireAndBubble(a,{evt:t},this.targetShape),e._fireAndBubble(s,{evt:t},this.targetShape),this.targetShape=e):this.targetShape&&!Konva.isDragging()&&(this.targetShape._fireAndBubble(i,{evt:t}),this.targetShape._fireAndBubble(r,{evt:t}),this.targetShape=null),this._fire(w,{evt:t})),t.preventDefault&&t.preventDefault()},_mousedown:function(t){if(Konva.UA.ieMobile)return this._touchstart(t);if(!Konva.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());Konva.listenClickTap=!0,e&&e.isListening()&&(this.clickStartShape=e,e._fireAndBubble(h,{evt:t})),this._fire(P,{evt:t})}t.preventDefault&&t.preventDefault()},_mouseup:function(t){if(Konva.UA.ieMobile)return this._touchend(t);if(!Konva.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=this.clickStartShape,o=this.clickEndShape,i=!1,r=Konva.DD;Konva.inDblClickWindow?(i=!0,Konva.inDblClickWindow=!1):r&&r.justDragged?r&&(r.justDragged=!1):Konva.inDblClickWindow=!0,setTimeout(function(){Konva.inDblClickWindow=!1},Konva.dblClickWindow),e&&e.isListening()&&(this.clickEndShape=e,e._fireAndBubble(p,{evt:t}),Konva.listenClickTap&&n&&n._id===e._id&&(e._fireAndBubble(c,{evt:t}),i&&o&&o._id===e._id&&e._fireAndBubble(f,{evt:t}))),this._fire(S,{evt:t}),Konva.listenClickTap&&(this._fire(M,{evt:t}),i&&this._fire(T,{evt:t})),Konva.listenClickTap=!1}t.preventDefault&&t.preventDefault()},_contextmenu:function(t){this._fire(C,{evt:t})},_touchstart:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());Konva.listenClickTap=!0,e&&e.isListening()&&(this.tapStartShape=e,e._fireAndBubble(d,{evt:t}),e.isListening()&&e.preventDefault()&&t.preventDefault&&t.preventDefault()),this._fire(A,{evt:t})},_touchend:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=!1;Konva.inDblClickWindow?(n=!0,Konva.inDblClickWindow=!1):Konva.inDblClickWindow=!0,setTimeout(function(){Konva.inDblClickWindow=!1},Konva.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble(y,{evt:t}),Konva.listenClickTap&&this.tapStartShape&&e._id===this.tapStartShape._id&&(e._fireAndBubble(v,{evt:t}),n&&e._fireAndBubble(g,{evt:t})),e.isListening()&&e.preventDefault()&&t.preventDefault&&t.preventDefault()),this._fire(E,{evt:t}),Konva.listenClickTap&&(this._fire(L,{evt:t}),n&&this._fire(I,{evt:t})),Konva.listenClickTap=!1},_touchmove:function(t){this._setPointerPosition(t);var e,n=Konva.DD;Konva.isDragging()||(e=this.getIntersection(this.getPointerPosition()),e&&e.isListening()&&(e._fireAndBubble(m,{evt:t}),e.isListening()&&e.preventDefault()&&t.preventDefault&&t.preventDefault()),this._fire(N,{evt:t})),n&&Konva.isDragging()&&Konva.DD.node.preventDefault()&&t.preventDefault()},_wheel:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()&&e._fireAndBubble(b,{evt:t}),this._fire(O,{evt:t})},_setPointerPosition:function(t){var e=this._getContentPosition(),n=null,o=null;if(t=t?t:window.event,void 0!==t.touches){if(t.touches.length>0){var i=t.touches[0];n=i.clientX-e.left,o=i.clientY-e.top}}else n=t.clientX-e.left,o=t.clientY-e.top;null!==n&&null!==o&&(this.pointerPos={x:n,y:o})},_getContentPosition:function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},_buildDOM:function(){var t=this.getContainer();if(!t){if(Konva.Util.isBrowser())throw"Stage has no container. A container is required.";t=Konva.document.createElement(k)}t.innerHTML=B,this.content=Konva.document.createElement(k),this.content.style.position=R,this.content.className=D,this.content.setAttribute("role","presentation"),t.appendChild(this.content),this.bufferCanvas=new Konva.SceneCanvas,this.bufferHitCanvas=new Konva.HitCanvas({pixelRatio:1}),this._resizeDOM()},_onContent:function(t,e){var n,o,i=t.split(F),r=i.length;for(n=0;n<r;n++)o=i[n],this.content.addEventListener(o,e,!1)},cache:function(){Konva.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),Konva.Util.extend(Konva.Stage,Konva.Container),Konva.Factory.addGetter(Konva.Stage,"container"),Konva.Factory.addOverloadedGetterSetter(Konva.Stage,"container")}(),function(){"use strict";Konva.BaseLayer=function(t){this.___init(t)},Konva.Util.addMethods(Konva.BaseLayer,{___init:function(t){this.nodeType="Layer",Konva.Container.call(this,t)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(t){return this.getContext().clear(t),this},clearHitCache:function(){this._hitImageData=void 0},setZIndex:function(t){Konva.Node.prototype.setZIndex.call(this,t);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),t<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[t+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){Konva.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),this},moveUp:function(){var t=Konva.Node.prototype.moveUp.call(this);if(!t)return this;var e=this.getStage();return e?(e.content.removeChild(this.getCanvas()._canvas),this.index<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas),this):this},moveDown:function(){if(Konva.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}}return this},moveToBottom:function(){if(Konva.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}}return this},getLayer:function(){return this},remove:function(){var t=this.getCanvas()._canvas;return Konva.Node.prototype.remove.call(this),t&&t.parentNode&&Konva.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},getStage:function(){return this.parent},setSize:function(t,e){return this.canvas.setSize(t,e),this},getWidth:function(){if(this.parent)return this.parent.getWidth()},setWidth:function(){Konva.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},getHeight:function(){if(this.parent)return this.parent.getHeight()},setHeight:function(){Konva.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},_applyTransform:function(t,e,n){var o=t.getAbsoluteTransform(n).getMatrix();e.transform(o[0],o[1],o[2],o[3],o[4],o[5])}}),Konva.Util.extend(Konva.BaseLayer,Konva.Container),Konva.Factory.addGetterSetter(Konva.BaseLayer,"clearBeforeDraw",!0),Konva.Collection.mapMethods(Konva.BaseLayer)}(),function(){"use strict";var t="#",e="beforeDraw",n="draw",o=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}],i=o.length;Konva.Layer=function(t){this.____init(t)},Konva.Util.addMethods(Konva.Layer,{____init:function(t){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,this.hitCanvas=new Konva.HitCanvas({pixelRatio:1}),Konva.BaseLayer.call(this,t)},_setCanvasSize:function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&Konva.Util.throw("You may only add groups and shapes to a layer.")},getIntersection:function(t,e){var n,r,a,s;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var u=1,h=!1;;){for(r=0;r<i;r++){if(a=o[r],n=this._getIntersection({x:t.x+a.x*u,y:t.y+a.y*u}),s=n.shape,s&&e)return s.findAncestor(e,!0);if(s)return s;if(h=!!n.antialiased,!n.antialiased)break}if(!h)return null;u+=1}},_getImageData:function(t,e){var n=this.hitCanvas.width||1,o=this.hitCanvas.height||1,i=Math.round(e)*n+Math.round(t);return this._hitImageData||(this._hitImageData=this.hitCanvas.context.getImageData(0,0,n,o)),[this._hitImageData.data[4*i+0],this._hitImageData.data[4*i+1],this._hitImageData.data[4*i+2],this._hitImageData.data[4*i+3]]},_getIntersection:function(e){var n,o,i=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*i),Math.round(e.y*i),1,1).data,a=r[3];return 255===a?(n=Konva.Util._rgbToHex(r[0],r[1],r[2]),o=Konva.shapes[t+n],o?{shape:o}:{antialiased:!0}):a>0?{antialiased:!0}:{}},drawScene:function(t,o){var i=this.getLayer(),r=t||i&&i.getCanvas();return this._fire(e,{node:this}),this.getClearBeforeDraw()&&r.getContext().clear(),Konva.Container.prototype.drawScene.call(this,r,o),this._fire(n,{node:this}),this},drawHit:function(t,e){var n=this.getLayer(),o=t||n&&n.hitCanvas;return n&&n.getClearBeforeDraw()&&n.getHitCanvas().getContext().clear(),Konva.Container.prototype.drawHit.call(this,o,e),this.imageData=null,this},clear:function(t){return Konva.BaseLayer.prototype.clear.call(this,t),this.getHitCanvas().getContext().clear(t),this.imageData=null,this},setVisible:function(t){return Konva.Node.prototype.setVisible.call(this,t),t?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){
return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),this},setSize:function(t,e){return Konva.BaseLayer.prototype.setSize.call(this,t,e),this.hitCanvas.setSize(t,e),this}}),Konva.Util.extend(Konva.Layer,Konva.BaseLayer),Konva.Factory.addGetterSetter(Konva.Layer,"hitGraphEnabled",!0),Konva.Collection.mapMethods(Konva.Layer)}(),function(){"use strict";Konva.FastLayer=function(t){this.____init(t)},Konva.Util.addMethods(Konva.FastLayer,{____init:function(t){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,Konva.BaseLayer.call(this,t)},_validateAdd:function(t){var e=t.getType();"Shape"!==e&&Konva.Util.throw("You may only add shapes to a fast layer.")},_setCanvasSize:function(t,e){this.canvas.setSize(t,e)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(t){var e=this.getLayer(),n=t||e&&e.getCanvas();return this.getClearBeforeDraw()&&n.getContext().clear(),Konva.Container.prototype.drawScene.call(this,n),this},draw:function(){return this.drawScene(),this},setVisible:function(t){return Konva.Node.prototype.setVisible.call(this,t),t?this.getCanvas()._canvas.style.display="block":this.getCanvas()._canvas.style.display="none",this}}),Konva.Util.extend(Konva.FastLayer,Konva.BaseLayer),Konva.Collection.mapMethods(Konva.FastLayer)}(),function(){"use strict";Konva.Group=function(t){this.___init(t)},Konva.Util.addMethods(Konva.Group,{___init:function(t){this.nodeType="Group",Konva.Container.call(this,t)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&Konva.Util.throw("You may only add groups and shapes to groups.")}}),Konva.Util.extend(Konva.Group,Konva.Container),Konva.Collection.mapMethods(Konva.Group)}(),function(t){"use strict";function e(t){setTimeout(t,1e3/60)}function n(){return i.apply(t.global,arguments)}var o=function(){return t.global.performance&&t.global.performance.now?function(){return t.global.performance.now()}:function(){return(new Date).getTime()}}(),i=function(){return t.global.requestAnimationFrame||t.global.webkitRequestAnimationFrame||t.global.mozRequestAnimationFrame||t.global.oRequestAnimationFrame||t.global.msRequestAnimationFrame||e}();t.Animation=function(e,n){var i=t.Animation;this.func=e,this.setLayers(n),this.id=i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:o()}},t.Animation.prototype={setLayers:function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},getLayers:function(){return this.layers},addLayer:function(t){var e,n=this.layers,o=n.length;for(e=0;e<o;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0},isRunning:function(){var e,n=t.Animation,o=n.animations,i=o.length;for(e=0;e<i;e++)if(o[e].id===this.id)return!0;return!1},start:function(){var e=t.Animation;return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=o(),e._addAnimation(this),this},stop:function(){return t.Animation._removeAnimation(this),this},_updateFrameObject:function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},t.Animation.animations=[],t.Animation.animIdCounter=0,t.Animation.animRunning=!1,t.Animation._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t.Animation._removeAnimation=function(t){var e,n=t.id,o=this.animations,i=o.length;for(e=0;e<i;e++)if(o[e].id===n){this.animations.splice(e,1);break}},t.Animation._runFrames=function(){var t,e,n,i,r,a,s,u,h,p={},l=this.animations;for(i=0;i<l.length;i++)if(t=l[i],e=t.layers,n=t.func,t._updateFrameObject(o()),a=e.length,h=!n||n.call(t,t.frame)!==!1)for(r=0;r<a;r++)s=e[r],void 0!==s._id&&(p[s._id]=s);for(u in p)p.hasOwnProperty(u)&&p[u].draw()},t.Animation._animationLoop=function(){var e=t.Animation;e.animations.length?(e._runFrames(),n(e._animationLoop)):e.animRunning=!1},t.Animation._handleAnimation=function(){this.animRunning||(this.animRunning=!0,n(this._animationLoop))},t.BaseLayer.prototype.batchDraw=function(){var e=this,n=t.Animation;return this.batchAnim||(this.batchAnim=new n(function(){e.batchAnim.stop()},this)),this.batchAnim.isRunning()||this.batchAnim.start(),this},t.Stage.prototype.batchDraw=function(){return this.getChildren().each(function(t){t.batchDraw()}),this}}(Konva),function(){"use strict";var t={node:1,duration:1,easing:1,onFinish:1,yoyo:1},e=1,n=2,o=3,i=0,r=["fill","stroke","shadowColor"],a=function(t,e,n,o,i,r,a){this.prop=t,this.propFunc=e,this.begin=o,this._pos=o,this.duration=r,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()};a.prototype={fire:function(t){var e=this[t];e&&e()},setTime:function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},getTime:function(){return this._time},setPosition:function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},getPosition:function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},play:function(){this.state=n,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=o,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var t=this.getTimer()-this._startTime;this.state===n?this.setTime(t):this.state===o&&this.setTime(this.duration-t)},pause:function(){this.state=e,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},Konva.Tween=function(e){var n,o,r=this,s=e.node,u=s._id,h=e.easing||Konva.Easings.Linear,p=!!e.yoyo;n="undefined"==typeof e.duration?1:0===e.duration?.001:e.duration,this.node=s,this._id=i++;var l=s.getLayer()||(s instanceof Konva.Stage?s.getLayers():null);l||Konva.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Konva.Animation(function(){r.tween.onEnterFrame()},l),this.tween=new a(o,function(t){r._tweenFunc(t)},h,0,1,1e3*n,p),this._addListeners(),Konva.Tween.attrs[u]||(Konva.Tween.attrs[u]={}),Konva.Tween.attrs[u][this._id]||(Konva.Tween.attrs[u][this._id]={}),Konva.Tween.tweens[u]||(Konva.Tween.tweens[u]={});for(o in e)void 0===t[o]&&this._addAttr(o,e[o]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset},Konva.Tween.attrs={},Konva.Tween.tweens={},Konva.Tween.prototype={_addAttr:function(t,e){var n,o,i,a,s,u,h,p=this.node,l=p._id;if(i=Konva.Tween.tweens[l][t],i&&delete Konva.Tween.attrs[l][i][t],n=p.getAttr(t),Konva.Util._isArray(e))for(o=[],s=Math.max(e.length,n.length),"points"===t&&e.length!==n.length&&(e.length>n.length?(h=n,n=Konva.Util._prepareArrayForTween(n,e,p.closed())):(u=e,e=Konva.Util._prepareArrayForTween(e,n,p.closed()))),a=0;a<s;a++)o.push(e[a]-n[a]);else if(r.indexOf(t)!==-1){n=Konva.Util.colorToRGBA(n);var c=Konva.Util.colorToRGBA(e);o={r:c.r-n.r,g:c.g-n.g,b:c.b-n.b,a:c.a-n.a}}else o=e-n;Konva.Tween.attrs[l][this._id][t]={start:n,diff:o,end:e,trueEnd:u,trueStart:h},Konva.Tween.tweens[l][t]=this._id},_tweenFunc:function(t){var e,n,o,i,a,s,u,h,p=this.node,l=Konva.Tween.attrs[p._id][this._id];for(e in l){if(n=l[e],o=n.start,i=n.diff,h=n.end,Konva.Util._isArray(o))for(a=[],u=Math.max(o.length,h.length),s=0;s<u;s++)a.push((o[s]||0)+i[s]*t);else a=r.indexOf(e)!==-1?"rgba("+Math.round(o.r+i.r*t)+","+Math.round(o.g+i.g*t)+","+Math.round(o.b+i.b*t)+","+(o.a+i.a*t)+")":o+i*t;p.setAttr(e,a)}},_addListeners:function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){var e=t.node,n=Konva.Tween.attrs[e._id][t._id];n.points&&n.points.trueEnd&&e.points(n.points.trueEnd),t.onFinish&&t.onFinish.call(t)},this.tween.onReset=function(){var e=t.node,n=Konva.Tween.attrs[e._id][t._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),t.onReset&&t.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){return this.tween.reset(),this},seek:function(t){return this.tween.seek(1e3*t),this},pause:function(){return this.tween.pause(),this},finish:function(){return this.tween.finish(),this},destroy:function(){var t,e=this.node._id,n=this._id,o=Konva.Tween.tweens[e];this.pause();for(t in o)delete Konva.Tween.tweens[e][t];delete Konva.Tween.attrs[e][n]}},Konva.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()};var n=new Konva.Tween(t);n.play()},Konva.Easings={BackEaseIn:function(t,e,n,o){var i=1.70158;return n*(t/=o)*t*((i+1)*t-i)+e},BackEaseOut:function(t,e,n,o){var i=1.70158;return n*((t=t/o-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut:function(t,e,n,o){var i=1.70158;return(t/=o/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn:function(t,e,n,o,i,r){var a=0;return 0===t?e:1===(t/=o)?e+n:(r||(r=.3*o),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r))+e)},ElasticEaseOut:function(t,e,n,o,i,r){var a=0;return 0===t?e:1===(t/=o)?e+n:(r||(r=.3*o),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*o-a)*(2*Math.PI)/r)+n+e)},ElasticEaseInOut:function(t,e,n,o,i,r){var a=0;return 0===t?e:2===(t/=o/2)?e+n:(r||(r=o*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r)*.5+n+e)},BounceEaseOut:function(t,e,n,o){return(t/=o)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,n,o){return n-Konva.Easings.BounceEaseOut(o-t,0,n,o)+e},BounceEaseInOut:function(t,e,n,o){return t<o/2?.5*Konva.Easings.BounceEaseIn(2*t,0,n,o)+e:.5*Konva.Easings.BounceEaseOut(2*t-o,0,n,o)+.5*n+e},EaseIn:function(t,e,n,o){return n*(t/=o)*t+e},EaseOut:function(t,e,n,o){return-n*(t/=o)*(t-2)+e},EaseInOut:function(t,e,n,o){return(t/=o/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,o){return n*(t/=o)*t*t*t*t+e},StrongEaseOut:function(t,e,n,o){return n*((t=t/o-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,o){return(t/=o/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,o){return n*t/o+e}}}(),function(){"use strict";Konva.DD={anim:new Konva.Animation(function(){var t=this.dirty;return this.dirty=!1,t}),isDragging:!1,justDragged:!1,offset:{x:0,y:0},node:null,_drag:function(t){var e=Konva.DD,n=e.node;if(n){if(!e.isDragging){var o=n.getStage().getPointerPosition(),i=n.dragDistance(),r=Math.max(Math.abs(o.x-e.startPointerPos.x),Math.abs(o.y-e.startPointerPos.y));if(r<i)return}n.getStage()._setPointerPosition(t),n._setDragPosition(t),e.isDragging||(e.isDragging=!0,n.fire("dragstart",{type:"dragstart",target:n,evt:t},!0)),n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)}},_endDragBefore:function(t){var e,n=Konva.DD,o=n.node;o&&(e=o.getLayer(),n.anim.stop(),n.isDragging&&(n.isDragging=!1,n.justDragged=!0,Konva.listenClickTap=!1,t&&(t.dragEndNode=o)),delete n.node,(o.getLayer()||e||o instanceof Konva.Stage)&&(e||o).draw())},_endDragAfter:function(t){t=t||{};var e=t.dragEndNode;t&&e&&e.fire("dragend",{type:"dragend",target:e,evt:t},!0)}},Konva.Node.prototype.startDrag=function(){var t=Konva.DD,e=this.getStage(),n=this.getLayer(),o=e.getPointerPosition(),i=this.getAbsolutePosition();o&&(t.node&&t.node.stopDrag(),t.node=this,t.startPointerPos=o,t.offset.x=o.x-i.x,t.offset.y=o.y-i.y,t.anim.setLayers(n||this.getLayers()),t.anim.start(),this._setDragPosition())},Konva.Node.prototype._setDragPosition=function(t){var e=Konva.DD,n=this.getStage().getPointerPosition(),o=this.getDragBoundFunc();if(n){var i={x:n.x-e.offset.x,y:n.y-e.offset.y};void 0!==o&&(i=o.call(this,i,t)),this.setAbsolutePosition(i),this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(e.anim.dirty=!0),this._lastPos=i}},Konva.Node.prototype.stopDrag=function(){var t=Konva.DD,e={};t._endDragBefore(e),t._endDragAfter(e)},Konva.Node.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()};var t=Konva.Node.prototype.remove;Konva.Node.prototype.__originalRemove=t,Konva.Node.prototype.remove=function(){var e=Konva.DD;e.node&&e.node._id===this._id&&this.stopDrag(),t.call(this)},Konva.Node.prototype.isDragging=function(){var t=Konva.DD;return!(!t.node||t.node._id!==this._id||!t.isDragging)},Konva.Node.prototype._listenDrag=function(){var t=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.konva contentTouchstart.konva",function(e){Konva.DD.node||t.startDrag(e)}):this.on("mousedown.konva touchstart.konva",function(e){1!==e.evt.button&&2!==e.evt.button&&(Konva.DD.node||t.startDrag(e))})},Konva.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage(),e=Konva.DD;t&&e.node&&e.node._id===this._id&&e.node.stopDrag()}},Konva.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.konva"),this.off("contentTouchstart.konva")):(this.off("mousedown.konva"),this.off("touchstart.konva"))},Konva.Factory.addGetterSetter(Konva.Node,"dragBoundFunc"),Konva.Factory.addGetter(Konva.Node,"draggable",!1),Konva.Factory.addOverloadedGetterSetter(Konva.Node,"draggable");var e=Konva.document.documentElement;e.addEventListener("mouseup",Konva.DD._endDragBefore,!0),e.addEventListener("touchend",Konva.DD._endDragBefore,!0),e.addEventListener("mousemove",Konva.DD._drag),e.addEventListener("touchmove",Konva.DD._drag),e.addEventListener("mouseup",Konva.DD._endDragAfter,!1),e.addEventListener("touchend",Konva.DD._endDragAfter,!1)}(),function(){"use strict";Konva.Rect=function(t){this.___init(t)},Konva.Rect.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getCornerRadius(),n=this.getWidth(),o=this.getHeight();t.beginPath(),e?(e=Math.min(e,n/2,o/2),t.moveTo(e,0),t.lineTo(n-e,0),t.arc(n-e,e,e,3*Math.PI/2,0,!1),t.lineTo(n,o-e),t.arc(n-e,o-e,e,0,Math.PI/2,!1),t.lineTo(e,o),t.arc(e,o-e,e,Math.PI/2,Math.PI,!1),t.lineTo(0,e),t.arc(e,e,e,Math.PI,3*Math.PI/2,!1)):t.rect(0,0,n,o),t.closePath(),t.fillStrokeShape(this)}},Konva.Util.extend(Konva.Rect,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Rect,"cornerRadius",0),Konva.Collection.mapMethods(Konva.Rect)}(),function(){"use strict";var t=2*Math.PI-1e-4,e="Circle";Konva.Circle=function(t){this.___init(t)},Konva.Circle.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className=e,this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getRadius(),0,t,!1),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},Konva.Util.extend(Konva.Circle,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Circle,"radius",0),Konva.Factory.addOverloadedGetterSetter(Konva.Circle,"radius"),Konva.Collection.mapMethods(Konva.Circle)}(),function(){"use strict";var t=2*Math.PI-1e-4,e="Ellipse";Konva.Ellipse=function(t){this.___init(t)},Konva.Ellipse.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className=e,this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var n=this.getRadiusX(),o=this.getRadiusY();e.beginPath(),e.save(),n!==o&&e.scale(1,o/n),e.arc(0,0,n,0,t,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadiusX()},getHeight:function(){return 2*this.getRadiusY()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.setRadius({x:t/2})},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.setRadius({y:t/2})}},Konva.Util.extend(Konva.Ellipse,Konva.Shape),Konva.Factory.addComponentsGetterSetter(Konva.Ellipse,"radius",["x","y"]),Konva.Factory.addGetterSetter(Konva.Ellipse,"radiusX",0),Konva.Factory.addGetterSetter(Konva.Ellipse,"radiusY",0),Konva.Collection.mapMethods(Konva.Ellipse)}(),function(){"use strict";var t=2*Math.PI-1e-4;Konva.Ring=function(t){this.___init(t)},Konva.Ring.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Ring",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getInnerRadius(),0,t,!1),e.moveTo(this.getOuterRadius(),0),e.arc(0,0,this.getOuterRadius(),t,0,!0),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setOuterRadius:function(t){this._setAttr("outerRadius",t),this.setWidth(2*t),this.setHeight(2*t)}},Konva.Util.extend(Konva.Ring,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Ring,"innerRadius",0),Konva.Factory.addGetter(Konva.Ring,"outerRadius",0),Konva.Factory.addOverloadedGetterSetter(Konva.Ring,"outerRadius"),Konva.Collection.mapMethods(Konva.Ring)}(),function(){"use strict";Konva.Wedge=function(t){this.___init(t)},Konva.Wedge.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Wedge",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,Konva.getAngle(this.getAngle()),this.getClockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},Konva.Util.extend(Konva.Wedge,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Wedge,"radius",0),Konva.Factory.addGetterSetter(Konva.Wedge,"angle",0),Konva.Factory.addGetterSetter(Konva.Wedge,"clockwise",!1),Konva.Factory.backCompat(Konva.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Konva.Collection.mapMethods(Konva.Wedge)}(),function(){"use strict";Konva.Arc=function(t){this.___init(t)},Konva.Arc.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Arc",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.getOuterRadius(),0,e,n),t.arc(0,0,this.getInnerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.getOuterRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.getOuterRadius()!==t/2&&this.setOuterRadius(t/2)}},Konva.Util.extend(Konva.Arc,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Arc,"innerRadius",0),Konva.Factory.addGetterSetter(Konva.Arc,"outerRadius",0),Konva.Factory.addGetterSetter(Konva.Arc,"angle",0),Konva.Factory.addGetterSetter(Konva.Arc,"clockwise",!1),Konva.Collection.mapMethods(Konva.Arc)}(),function(){"use strict";var t="Image";Konva.Image=function(t){this.___init(t)},Konva.Image.prototype={___init:function(e){Konva.Shape.call(this,e),this.className=t,this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()&&this.getStage()},_sceneFunc:function(t){var e,n,o,i=this.getWidth(),r=this.getHeight(),a=this.getImage();a&&(e=this.getCropWidth(),n=this.getCropHeight(),o=e&&n?[a,this.getCropX(),this.getCropY(),e,n,0,0,i,r]:[a,0,0,i,r]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,i,r),t.closePath(),t.fillStrokeShape(this)),a&&t.drawImage.apply(t,o)},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){var t=this.getImage();return this.attrs.width||(t?t.width:0)},getHeight:function(){var t=this.getImage();return this.attrs.height||(t?t.height:0)}},Konva.Util.extend(Konva.Image,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Image,"image"),Konva.Factory.addComponentsGetterSetter(Konva.Image,"crop",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Image,"cropX",0),Konva.Factory.addGetterSetter(Konva.Image,"cropY",0),Konva.Factory.addGetterSetter(Konva.Image,"cropWidth",0),Konva.Factory.addGetterSetter(Konva.Image,"cropHeight",0),Konva.Collection.mapMethods(Konva.Image),Konva.Image.fromURL=function(t,e){var n=new Image;n.onload=function(){var t=new Konva.Image({image:n});e(t)},n.src=t}}(),function(){"use strict";function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var n="auto",o="center",i="justify",r="Change.konva",a="2d",s="-",u="",h="left",p="text",l="Text",c="middle",f="normal",d="px ",y=" ",v="right",g="word",m="char",b="none",_=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","lineHeight","text","width","height","wrap","letterSpacing"],x=_.length,w=Konva.Util.createCanvasElement().getContext(a);Konva.Text=function(t){this.___init(t)},Konva.Text.prototype={___init:function(n){n=n||{},n.fillLinearGradientColorStops||n.fillRadialGradientColorStops||(n.fill=n.fill||"black"),Konva.Shape.call(this,n),this._fillFunc=t,this._strokeFunc=e,this.className=l;for(var o=0;o<x;o++)this.on(_[o]+r,this._setTextData);this._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e,n=this.getPadding(),r=this.getTextHeight(),a=this.getLineHeight()*r,s=this.textArr,u=s.length,p=this.getAlign(),l=this.getWidth(),f=this.getLetterSpacing(),d=this.textDecoration(),y=this.fill(),g=this.fontSize();for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",c),t.setAttr("textAlign",h),t.save(),n?(t.translate(n,0),t.translate(0,n+r/2)):t.translate(0,r/2),e=0;e<u;e++){var m=s[e],b=m.text,_=m.width;if(t.save(),p===v?t.translate(l-_-2*n,0):p===o&&t.translate((l-_-2*n)/2,0),d.indexOf("underline")!==-1&&(t.save(),t.beginPath(),t.moveTo(0,Math.round(a/2)),t.lineTo(Math.round(_),Math.round(a/2)),t.lineWidth=g/15,t.strokeStyle=y,t.stroke(),t.restore()),d.indexOf("line-through")!==-1&&(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(Math.round(_),0),t.lineWidth=g/15,t.strokeStyle=y,t.stroke(),t.restore()),0!==f||p===i)for(var x=b.split(" ").length-1,w=0;w<b.length;w++){var P=b[w];" "===P&&e!==u-1&&p===i&&t.translate(Math.floor((l-_)/x),0),this.partialText=P,t.fillStrokeShape(this),t.translate(Math.round(this._getTextSize(P).width)+f,0)}else this.partialText=b,t.fillStrokeShape(this);t.restore(),t.translate(0,a)}t.restore()},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},setText:function(t){var e=Konva.Util._isString(t)?t:(t||"").toString();return this._setAttr(p,e),this},getWidth:function(){var t=this.attrs.width===n||void 0===this.attrs.width;return t?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){var t=this.attrs.height===n||void 0===this.attrs.height;return t?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(t){var e,n=w,o=this.getFontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:parseInt(o,10)}},_getContextFont:function(){return Konva.UA.isIE?this.getFontStyle()+y+this.getFontSize()+d+this.getFontFamily():this.getFontStyle()+y+this.getFontVariant()+y+this.getFontSize()+d+this.getFontFamily()},_addTextLine:function(t){this.align()===i&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},_getTextWidth:function(t){var e=this.getLetterSpacing(),n=t.length;return w.measureText(t).width+(n?e*(n-1):0)},_setTextData:function(){var t=this.getText().split("\n"),e=+this.getFontSize(),o=0,i=this.getLineHeight()*e,r=this.attrs.width,a=this.attrs.height,u=r!==n,h=a!==n,p=this.getPadding(),l=r-2*p,c=a-2*p,f=0,d=this.getWrap(),v=d!==b,g=d!==m&&v;this.textArr=[],w.save(),w.font=this._getContextFont();for(var _=0,x=t.length;_<x;++_){var P=t[_],S=this._getTextWidth(P);if(u&&S>l)for(;P.length>0;){for(var C=0,M=P.length,T="",A=0;C<M;){var E=C+M>>>1,I=P.slice(0,E+1),L=this._getTextWidth(I);L<=l?(C=E+1,T=I,A=L):M=E}if(!T)break;if(g){var N=Math.max(T.lastIndexOf(y),T.lastIndexOf(s))+1;N>0&&(C=N,T=T.slice(0,C),A=this._getTextWidth(T))}if(this._addTextLine(T),o=Math.max(o,A),f+=i,!v||h&&f+i>c)break;if(P=P.slice(C),P.length>0&&(S=this._getTextWidth(P),S<=l)){this._addTextLine(P),f+=i,o=Math.max(o,S);break}}else this._addTextLine(P),f+=i,o=Math.max(o,S);if(h&&f+i>c)break}w.restore(),this.textHeight=e,this.textWidth=o}},Konva.Util.extend(Konva.Text,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Text,"fontFamily","Arial"),Konva.Factory.addGetterSetter(Konva.Text,"fontSize",12),Konva.Factory.addGetterSetter(Konva.Text,"fontStyle",f),Konva.Factory.addGetterSetter(Konva.Text,"fontVariant",f),Konva.Factory.addGetterSetter(Konva.Text,"padding",0),Konva.Factory.addGetterSetter(Konva.Text,"align",h),Konva.Factory.addGetterSetter(Konva.Text,"lineHeight",1),Konva.Factory.addGetterSetter(Konva.Text,"wrap",g),Konva.Factory.addGetterSetter(Konva.Text,"letterSpacing",0),Konva.Factory.addGetter(Konva.Text,"text",u),Konva.Factory.addOverloadedGetterSetter(Konva.Text,"text"),Konva.Factory.addGetterSetter(Konva.Text,"textDecoration",u),Konva.Collection.mapMethods(Konva.Text)}(),function(){"use strict";Konva.Line=function(t){this.___init(t)},Konva.Line.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Line",this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,o,i=this.getPoints(),r=i.length,a=this.getTension(),s=this.getClosed(),u=this.getBezier();if(r){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==a&&r>4){for(e=this.getTensionPoints(),n=e.length,o=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);o<n-2;)t.bezierCurveTo(e[o++],e[o++],e[o++],e[o++],e[o++],e[o++]);s||t.quadraticCurveTo(e[n-2],e[n-1],i[r-2],i[r-1])}else if(u)for(o=2;o<r;)t.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);else for(o=2;o<r;o+=2)t.lineTo(i[o],i[o+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():Konva.Util._expandPoints(this.getPoints(),this.getTension())},_getTensionPointsClosed:function(){var t=this.getPoints(),e=t.length,n=this.getTension(),o=Konva.Util,i=o._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),r=o._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),a=Konva.Util._expandPoints(t,n),s=[i[2],i[3]].concat(a).concat([r[0],r[1],t[e-2],t[e-1],r[2],r[3],i[0],i[1],t[0],t[1]]);return s},getWidth:function(){return this.getSelfRect().width},getHeight:function(){return this.getSelfRect().height},getSelfRect:function(){var t;t=0!==this.getTension()?this._getTensionPoints():this.getPoints();for(var e,n,o=t[0],i=t[0],r=t[1],a=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],o=Math.min(o,e),i=Math.max(i,e),r=Math.min(r,n),a=Math.max(a,n);return{x:Math.round(o),y:Math.round(r),width:Math.round(i-o),height:Math.round(a-r)}}},Konva.Util.extend(Konva.Line,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Line,"closed",!1),Konva.Factory.addGetterSetter(Konva.Line,"bezier",!1),Konva.Factory.addGetterSetter(Konva.Line,"tension",0),Konva.Factory.addGetterSetter(Konva.Line,"points",[]),Konva.Collection.mapMethods(Konva.Line)}(),function(){"use strict";Konva.Sprite=function(t){this.___init(t)},Konva.Sprite.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Sprite",this._updated=!0;var e=this;this.anim=new Konva.Animation(function(){var t=e._updated;return e._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),o=4*n,i=this.getAnimations()[e],r=this.frameOffsets(),a=i[o+0],s=i[o+1],u=i[o+2],h=i[o+3],p=this.getImage();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,u,h),t.closePath(),t.fillStrokeShape(this)),p)if(r){var l=r[e],c=2*n;t.drawImage(p,a,s,u,h,l[c+0],l[c+1],u,h)}else t.drawImage(p,a,s,u,h,0,0,u,h)},_hitFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),o=4*n,i=this.getAnimations()[e],r=this.frameOffsets(),a=i[o+2],s=i[o+3];if(t.beginPath(),r){var u=r[e],h=2*n;t.rect(u[h+0],u[h+1],a,s)}else t.rect(0,0,a,s);t.closePath(),t.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_setInterval:function(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.getFrameRate())},start:function(){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},isRunning:function(){return this.anim.isRunning()},_updateIndex:function(){var t=this.frameIndex(),e=this.getAnimation(),n=this.getAnimations(),o=n[e],i=o.length/4;t<i-1?this.frameIndex(t+1):this.frameIndex(0)}},Konva.Util.extend(Konva.Sprite,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Sprite,"animation"),Konva.Factory.addGetterSetter(Konva.Sprite,"animations"),Konva.Factory.addGetterSetter(Konva.Sprite,"frameOffsets"),Konva.Factory.addGetterSetter(Konva.Sprite,"image"),Konva.Factory.addGetterSetter(Konva.Sprite,"frameIndex",0),Konva.Factory.addGetterSetter(Konva.Sprite,"frameRate",17),Konva.Factory.backCompat(Konva.Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Konva.Collection.mapMethods(Konva.Sprite)}(),function(){"use strict";Konva.Path=function(t){this.___init(t)},Konva.Path.prototype={___init:function(t){this.dataArray=[];var e=this;Konva.Shape.call(this,t),this.className="Path",this.dataArray=Konva.Path.parsePathData(this.getData()),this.on("dataChange.konva",function(){e.dataArray=Konva.Path.parsePathData(this.getData())}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.dataArray;t.beginPath();for(var n=0;n<e.length;n++){var o=e[n].command,i=e[n].points;switch(o){case"L":t.lineTo(i[0],i[1]);break;case"M":t.moveTo(i[0],i[1]);break;case"C":t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"Q":t.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case"A":var r=i[0],a=i[1],s=i[2],u=i[3],h=i[4],p=i[5],l=i[6],c=i[7],f=s>u?s:u,d=s>u?1:s/u,y=s>u?u/s:1;t.translate(r,a),t.rotate(l),t.scale(d,y),t.arc(0,0,f,h,h+p,1-c),t.scale(1/d,1/y),
t.rotate(-l),t.translate(-r,-a);break;case"z":t.closePath()}}t.fillStrokeShape(this)},getSelfRect:function(){var t=[];this.dataArray.forEach(function(e){t=t.concat(e.points)});for(var e,n,o=t[0],i=t[0],r=t[1],a=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],o=Math.min(o,e),i=Math.max(i,e),r=Math.min(r,n),a=Math.max(a,n);return{x:Math.round(o),y:Math.round(r),width:Math.round(i-o),height:Math.round(a-r)}}},Konva.Util.extend(Konva.Path,Konva.Shape),Konva.Path.getLineLength=function(t,e,n,o){return Math.sqrt((n-t)*(n-t)+(o-e)*(o-e))},Konva.Path.getPointOnLine=function(t,e,n,o,i,r,a){void 0===r&&(r=e),void 0===a&&(a=n);var s=(i-n)/(o-e+1e-8),u=Math.sqrt(t*t/(1+s*s));o<e&&(u*=-1);var h,p=s*u;if(o===e)h={x:r,y:a+p};else if((a-n)/(r-e+1e-8)===s)h={x:r+u,y:a+p};else{var l,c,f=this.getLineLength(e,n,o,i);if(f<1e-8)return;var d=(r-e)*(o-e)+(a-n)*(i-n);d/=f*f,l=e+d*(o-e),c=n+d*(i-n);var y=this.getLineLength(r,a,l,c),v=Math.sqrt(t*t-y*y);u=Math.sqrt(v*v/(1+s*s)),o<e&&(u*=-1),p=s*u,h={x:l+u,y:c+p}}return h},Konva.Path.getPointOnCubicBezier=function(t,e,n,o,i,r,a,s,u){function h(t){return t*t*t}function p(t){return 3*t*t*(1-t)}function l(t){return 3*t*(1-t)*(1-t)}function c(t){return(1-t)*(1-t)*(1-t)}var f=s*h(t)+r*p(t)+o*l(t)+e*c(t),d=u*h(t)+a*p(t)+i*l(t)+n*c(t);return{x:f,y:d}},Konva.Path.getPointOnQuadraticBezier=function(t,e,n,o,i,r,a){function s(t){return t*t}function u(t){return 2*t*(1-t)}function h(t){return(1-t)*(1-t)}var p=r*s(t)+o*u(t)+e*h(t),l=a*s(t)+i*u(t)+n*h(t);return{x:p,y:l}},Konva.Path.getPointOnEllipticalArc=function(t,e,n,o,i,r){var a=Math.cos(r),s=Math.sin(r),u={x:n*Math.cos(i),y:o*Math.sin(i)};return{x:t+(u.x*a-u.y*s),y:e+(u.x*s+u.y*a)}},Konva.Path.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var o=0;o<n.length;o++)e=e.replace(new RegExp(n[o],"g"),"|"+n[o]);var i=e.split("|"),r=[],a=0,s=0;for(o=1;o<i.length;o++){var u=i[o],h=u.charAt(0);u=u.slice(1),u=u.replace(new RegExp(",-","g"),"-"),u=u.replace(new RegExp("-","g"),",-"),u=u.replace(new RegExp("e,-","g"),"e-");var p=u.split(",");p.length>0&&""===p[0]&&p.shift();for(var l=0;l<p.length;l++)p[l]=parseFloat(p[l]);for(;p.length>0&&!isNaN(p[0]);){var c,f,d,y,v,g,m,b,_,x,w=null,P=[],S=a,C=s;switch(h){case"l":a+=p.shift(),s+=p.shift(),w="L",P.push(a,s);break;case"L":a=p.shift(),s=p.shift(),P.push(a,s);break;case"m":var M=p.shift(),T=p.shift();if(a+=M,s+=T,w="M",r.length>2&&"z"===r[r.length-1].command)for(var A=r.length-2;A>=0;A--)if("M"===r[A].command){a=r[A].points[0]+M,s=r[A].points[1]+T;break}P.push(a,s),h="l";break;case"M":a=p.shift(),s=p.shift(),w="M",P.push(a,s),h="L";break;case"h":a+=p.shift(),w="L",P.push(a,s);break;case"H":a=p.shift(),w="L",P.push(a,s);break;case"v":s+=p.shift(),w="L",P.push(a,s);break;case"V":s=p.shift(),w="L",P.push(a,s);break;case"C":P.push(p.shift(),p.shift(),p.shift(),p.shift()),a=p.shift(),s=p.shift(),P.push(a,s);break;case"c":P.push(a+p.shift(),s+p.shift(),a+p.shift(),s+p.shift()),a+=p.shift(),s+=p.shift(),w="C",P.push(a,s);break;case"S":f=a,d=s,c=r[r.length-1],"C"===c.command&&(f=a+(a-c.points[2]),d=s+(s-c.points[3])),P.push(f,d,p.shift(),p.shift()),a=p.shift(),s=p.shift(),w="C",P.push(a,s);break;case"s":f=a,d=s,c=r[r.length-1],"C"===c.command&&(f=a+(a-c.points[2]),d=s+(s-c.points[3])),P.push(f,d,a+p.shift(),s+p.shift()),a+=p.shift(),s+=p.shift(),w="C",P.push(a,s);break;case"Q":P.push(p.shift(),p.shift()),a=p.shift(),s=p.shift(),P.push(a,s);break;case"q":P.push(a+p.shift(),s+p.shift()),a+=p.shift(),s+=p.shift(),w="Q",P.push(a,s);break;case"T":f=a,d=s,c=r[r.length-1],"Q"===c.command&&(f=a+(a-c.points[0]),d=s+(s-c.points[1])),a=p.shift(),s=p.shift(),w="Q",P.push(f,d,a,s);break;case"t":f=a,d=s,c=r[r.length-1],"Q"===c.command&&(f=a+(a-c.points[0]),d=s+(s-c.points[1])),a+=p.shift(),s+=p.shift(),w="Q",P.push(f,d,a,s);break;case"A":y=p.shift(),v=p.shift(),g=p.shift(),m=p.shift(),b=p.shift(),_=a,x=s,a=p.shift(),s=p.shift(),w="A",P=this.convertEndpointToCenterParameterization(_,x,a,s,m,b,y,v,g);break;case"a":y=p.shift(),v=p.shift(),g=p.shift(),m=p.shift(),b=p.shift(),_=a,x=s,a+=p.shift(),s+=p.shift(),w="A",P=this.convertEndpointToCenterParameterization(_,x,a,s,m,b,y,v,g)}r.push({command:w||h,points:P,start:{x:S,y:C},pathLength:this.calcLength(S,C,w||h,P)})}"z"!==h&&"Z"!==h||r.push({command:"z",points:[],start:void 0,pathLength:0})}return r},Konva.Path.calcLength=function(t,e,n,o){var i,r,a,s,u=Konva.Path;switch(n){case"L":return u.getLineLength(t,e,o[0],o[1]);case"C":for(i=0,r=u.getPointOnCubicBezier(0,t,e,o[0],o[1],o[2],o[3],o[4],o[5]),s=.01;s<=1;s+=.01)a=u.getPointOnCubicBezier(s,t,e,o[0],o[1],o[2],o[3],o[4],o[5]),i+=u.getLineLength(r.x,r.y,a.x,a.y),r=a;return i;case"Q":for(i=0,r=u.getPointOnQuadraticBezier(0,t,e,o[0],o[1],o[2],o[3]),s=.01;s<=1;s+=.01)a=u.getPointOnQuadraticBezier(s,t,e,o[0],o[1],o[2],o[3]),i+=u.getLineLength(r.x,r.y,a.x,a.y),r=a;return i;case"A":i=0;var h=o[4],p=o[5],l=o[4]+p,c=Math.PI/180;if(Math.abs(h-l)<c&&(c=Math.abs(h-l)),r=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],h,0),p<0)for(s=h-c;s>l;s-=c)a=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],s,0),i+=u.getLineLength(r.x,r.y,a.x,a.y),r=a;else for(s=h+c;s<l;s+=c)a=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],s,0),i+=u.getLineLength(r.x,r.y,a.x,a.y),r=a;return a=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],l,0),i+=u.getLineLength(r.x,r.y,a.x,a.y)}return 0},Konva.Path.convertEndpointToCenterParameterization=function(t,e,n,o,i,r,a,s,u){var h=u*(Math.PI/180),p=Math.cos(h)*(t-n)/2+Math.sin(h)*(e-o)/2,l=-1*Math.sin(h)*(t-n)/2+Math.cos(h)*(e-o)/2,c=p*p/(a*a)+l*l/(s*s);c>1&&(a*=Math.sqrt(c),s*=Math.sqrt(c));var f=Math.sqrt((a*a*(s*s)-a*a*(l*l)-s*s*(p*p))/(a*a*(l*l)+s*s*(p*p)));i===r&&(f*=-1),isNaN(f)&&(f=0);var d=f*a*l/s,y=f*-s*p/a,v=(t+n)/2+Math.cos(h)*d-Math.sin(h)*y,g=(e+o)/2+Math.sin(h)*d+Math.cos(h)*y,m=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(m(t)*m(e))},_=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},x=_([1,0],[(p-d)/a,(l-y)/s]),w=[(p-d)/a,(l-y)/s],P=[(-1*p-d)/a,(-1*l-y)/s],S=_(w,P);return b(w,P)<=-1&&(S=Math.PI),b(w,P)>=1&&(S=0),0===r&&S>0&&(S-=2*Math.PI),1===r&&S<0&&(S+=2*Math.PI),[v,g,a,s,x,S,h,r]},Konva.Factory.addGetterSetter(Konva.Path,"data"),Konva.Collection.mapMethods(Konva.Path)}(),function(){"use strict";function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var n="",o="normal";Konva.TextPath=function(t){this.___init(t)},Konva.TextPath.prototype={___init:function(n){var o=this;this.dummyCanvas=Konva.Util.createCanvasElement(),this.dataArray=[],Konva.Shape.call(this,n),this._fillFunc=t,this._strokeFunc=e,this._fillFuncHit=t,this._strokeFuncHit=e,this.className="TextPath",this.dataArray=Konva.Path.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){o.dataArray=Konva.Path.parsePathData(this.attrs.data),o._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva",o._setTextData),o._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.getTextBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),o=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(var r=0;r<i.length;r++){t.save();var a=i[r].p0;t.translate(a.x,a.y),t.rotate(i[r].rotation),this.partialText=i[r].text,t.fillStrokeShape(this),"underline"===e&&(0===r&&t.moveTo(0,o/2+1),t.lineTo(o,o/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=o/20,t.stroke()),t.restore()},_hitFunc:function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var o=0;o<e.length;o++){var i=e[o].p1;t.lineTo(i.x,i.y)}t.setAttr("lineWidth",this.getFontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(t){Konva.Text.prototype.setText.call(this,t)},_getTextSize:function(t){var e=this.dummyCanvas,n=e.getContext("2d");n.save(),n.font=this._getContextFont();var o=n.measureText(t);return n.restore(),{width:o.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var t=this,e=this._getTextSize(this.attrs.text),n=this.getLetterSpacing(),o=this.align();this.textWidth=e.width,this.textHeight=e.height;var i=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var r=0,a=0;a<t.dataArray.length;a++)t.dataArray[a].pathLength>0&&(r+=t.dataArray[a].pathLength);var s=0;"center"===o&&(s=Math.max(0,r/2-i/2)),"right"===o&&(s=Math.max(0,r-i));for(var u,h,p,l=this.getText().split(""),c=this.getText().split(" ").length-1,f=-1,d=0,y=function(){d=0;for(var e=t.dataArray,n=f+1;n<e.length;n++){if(e[n].pathLength>0)return f=n,e[n];"M"===e[n].command&&(u={x:e[n].points[0],y:e[n].points[1]})}return{}},v=function(e){var a=t._getTextSize(e).width+n;" "===e&&"justify"===o&&(a+=(r-i)/c);var s=0,l=0;for(h=void 0;Math.abs(a-s)/a>.01&&l<25;){l++;for(var f=s;void 0===p;)p=y(),p&&f+p.pathLength<a&&(f+=p.pathLength,p=void 0);if(p==={}||void 0===u)return;var v=!1;switch(p.command){case"L":Konva.Path.getLineLength(u.x,u.y,p.points[0],p.points[1])>a?h=Konva.Path.getPointOnLine(a,u.x,u.y,p.points[0],p.points[1],u.x,u.y):p=void 0;break;case"A":var g=p.points[4],m=p.points[5],b=p.points[4]+m;0===d?d=g+1e-8:a>s?d+=Math.PI/180*m/Math.abs(m):d-=Math.PI/360*m/Math.abs(m),(m<0&&d<b||m>=0&&d>b)&&(d=b,v=!0),h=Konva.Path.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],d,p.points[6]);break;case"C":0===d?d=a>p.pathLength?1e-8:a/p.pathLength:a>s?d+=(a-s)/p.pathLength:d-=(s-a)/p.pathLength,d>1&&(d=1,v=!0),h=Konva.Path.getPointOnCubicBezier(d,p.start.x,p.start.y,p.points[0],p.points[1],p.points[2],p.points[3],p.points[4],p.points[5]);break;case"Q":0===d?d=a/p.pathLength:a>s?d+=(a-s)/p.pathLength:d-=(s-a)/p.pathLength,d>1&&(d=1,v=!0),h=Konva.Path.getPointOnQuadraticBezier(d,p.start.x,p.start.y,p.points[0],p.points[1],p.points[2],p.points[3])}void 0!==h&&(s=Konva.Path.getLineLength(u.x,u.y,h.x,h.y)),v&&(v=!1,p=void 0)}},g="C",m=t._getTextSize(g).width+n,b=0;b<s/m&&(v(g),void 0!==u&&void 0!==h);b++)u=h;for(var _=0;_<l.length&&(v(l[_]),void 0!==u&&void 0!==h);_++){var x=Konva.Path.getLineLength(u.x,u.y,h.x,h.y),w=0,P=Konva.Path.getPointOnLine(w+x/2,u.x,u.y,h.x,h.y),S=Math.atan2(h.y-u.y,h.x-u.x);this.glyphInfo.push({transposeX:P.x,transposeY:P.y,text:l[_],rotation:S,p0:u,p1:h}),u=h}},getSelfRect:function(){var t=[];this.glyphInfo.forEach(function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)});for(var e,n,o=t[0],i=t[0],r=t[0],a=t[0],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],o=Math.min(o,e),i=Math.max(i,e),r=Math.min(r,n),a=Math.max(a,n);var u=this.fontSize();return{x:Math.round(o)-u/2,y:Math.round(r)-u/2,width:Math.round(i-o)+u,height:Math.round(a-r)+u}}},Konva.TextPath.prototype._getContextFont=Konva.Text.prototype._getContextFont,Konva.Util.extend(Konva.TextPath,Konva.Shape),Konva.Factory.addGetterSetter(Konva.TextPath,"fontFamily","Arial"),Konva.Factory.addGetterSetter(Konva.TextPath,"fontSize",12),Konva.Factory.addGetterSetter(Konva.TextPath,"fontStyle",o),Konva.Factory.addGetterSetter(Konva.TextPath,"align","left"),Konva.Factory.addGetterSetter(Konva.TextPath,"letterSpacing",0),Konva.Factory.addGetterSetter(Konva.TextPath,"textBaseline","middle"),Konva.Factory.addGetterSetter(Konva.TextPath,"fontVariant",o),Konva.Factory.addGetter(Konva.TextPath,"text",n),Konva.Factory.addGetterSetter(Konva.TextPath,"textDecoration",null),Konva.Collection.mapMethods(Konva.TextPath)}(),function(){"use strict";Konva.RegularPolygon=function(t){this.___init(t)},Konva.RegularPolygon.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="RegularPolygon",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,o,i=this.attrs.sides,r=this.attrs.radius;for(t.beginPath(),t.moveTo(0,0-r),e=1;e<i;e++)n=r*Math.sin(2*e*Math.PI/i),o=-1*r*Math.cos(2*e*Math.PI/i),t.lineTo(n,o);t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},Konva.Util.extend(Konva.RegularPolygon,Konva.Shape),Konva.Factory.addGetterSetter(Konva.RegularPolygon,"radius",0),Konva.Factory.addGetterSetter(Konva.RegularPolygon,"sides",0),Konva.Collection.mapMethods(Konva.RegularPolygon)}(),function(){"use strict";Konva.Star=function(t){this.___init(t)},Konva.Star.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Star",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.innerRadius(),n=this.outerRadius(),o=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var i=1;i<2*o;i++){var r=i%2===0?n:e,a=r*Math.sin(i*Math.PI/o),s=-1*r*Math.cos(i*Math.PI/o);t.lineTo(a,s)}t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)}},Konva.Util.extend(Konva.Star,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Star,"numPoints",5),Konva.Factory.addGetterSetter(Konva.Star,"innerRadius",0),Konva.Factory.addGetterSetter(Konva.Star,"outerRadius",0),Konva.Collection.mapMethods(Konva.Star)}(),function(){"use strict";var t=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],e="Change.konva",n="none",o="up",i="right",r="down",a="left",s="Label",u=t.length;Konva.Label=function(t){this.____init(t)},Konva.Label.prototype={____init:function(t){var e=this;Konva.Group.call(this,t),this.className=s,this.on("add.konva",function(t){e._addListeners(t.child),e._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(n){var o,i=this,r=function(){i._sync()};for(o=0;o<u;o++)n.on(t[o]+e,r)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var t,e,n,s,u,h,p,l=this.getText(),c=this.getTag();if(l&&c){switch(t=l.getWidth(),e=l.getHeight(),n=c.getPointerDirection(),s=c.getPointerWidth(),p=c.getPointerHeight(),u=0,h=0,n){case o:u=t/2,h=-1*p;break;case i:u=t+s,h=e/2;break;case r:u=t/2,h=e+p;break;case a:u=-1*s,h=e/2}c.setAttrs({x:-1*u,y:-1*h,width:t,height:e}),l.setAttrs({x:-1*u,y:-1*h})}}},Konva.Util.extend(Konva.Label,Konva.Group),Konva.Collection.mapMethods(Konva.Label),Konva.Tag=function(t){this.___init(t)},Konva.Tag.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Tag",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getWidth(),n=this.getHeight(),s=this.getPointerDirection(),u=this.getPointerWidth(),h=this.getPointerHeight(),p=Math.min(this.getCornerRadius(),e/2,n/2);t.beginPath(),p?t.moveTo(p,0):t.moveTo(0,0),s===o&&(t.lineTo((e-u)/2,0),t.lineTo(e/2,-1*h),t.lineTo((e+u)/2,0)),p?(t.lineTo(e-p,0),t.arc(e-p,p,p,3*Math.PI/2,0,!1)):t.lineTo(e,0),s===i&&(t.lineTo(e,(n-h)/2),t.lineTo(e+u,n/2),t.lineTo(e,(n+h)/2)),p?(t.lineTo(e,n-p),t.arc(e-p,n-p,p,0,Math.PI/2,!1)):t.lineTo(e,n),s===r&&(t.lineTo((e+u)/2,n),t.lineTo(e/2,n+h),t.lineTo((e-u)/2,n)),p?(t.lineTo(p,n),t.arc(p,n-p,p,Math.PI/2,Math.PI,!1)):t.lineTo(0,n),s===a&&(t.lineTo(0,(n+h)/2),t.lineTo(-1*u,n/2),t.lineTo(0,(n-h)/2)),p&&(t.lineTo(0,p),t.arc(p,p,p,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)},getSelfRect:function(){var t=0,e=0,n=this.getPointerWidth(),s=this.getPointerHeight(),u=this.pointerDirection(),h=this.getWidth(),p=this.getHeight();return u===o?(e-=s,p+=s):u===r?p+=s:u===a?(t-=1.5*n,h+=n):u===i&&(h+=1.5*n),{x:t,y:e,width:h,height:p}}},Konva.Util.extend(Konva.Tag,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Tag,"pointerDirection",n),Konva.Factory.addGetterSetter(Konva.Tag,"pointerWidth",0),Konva.Factory.addGetterSetter(Konva.Tag,"pointerHeight",0),Konva.Factory.addGetterSetter(Konva.Tag,"cornerRadius",0),Konva.Collection.mapMethods(Konva.Tag)}(),function(){"use strict";Konva.Arrow=function(t){this.____init(t)},Konva.Arrow.prototype={____init:function(t){Konva.Line.call(this,t),this.className="Arrow"},_sceneFunc:function(t){Konva.Line.prototype._sceneFunc.apply(this,arguments);var e=2*Math.PI,n=this.points(),o=n.length,i=n[o-2]-n[o-4],r=n[o-1]-n[o-3],a=(Math.atan2(r,i)+e)%e,s=this.pointerLength(),u=this.pointerWidth();t.save(),t.beginPath(),t.translate(n[o-2],n[o-1]),t.rotate(a),t.moveTo(0,0),t.lineTo(-s,u/2),t.lineTo(-s,-u/2),t.closePath(),t.restore(),this.pointerAtBeginning()&&(t.save(),t.translate(n[0],n[1]),i=n[2]-n[0],r=n[3]-n[1],t.rotate((Math.atan2(-r,-i)+e)%e),t.moveTo(0,0),t.lineTo(-s,u/2),t.lineTo(-s,-u/2),t.closePath(),t.restore()),t.fillStrokeShape(this)}},Konva.Util.extend(Konva.Arrow,Konva.Line),Konva.Factory.addGetterSetter(Konva.Arrow,"pointerLength",10),Konva.Factory.addGetterSetter(Konva.Arrow,"pointerWidth",10),Konva.Factory.addGetterSetter(Konva.Arrow,"pointerAtBeginning",!1),Konva.Collection.mapMethods(Konva.Arrow)}()}).call(e,function(){return this}())},function(t,e){!function(n,o){"object"==typeof e?t.exports=o():"function"==typeof define&&define.amd?define([],o):n.ol=o()}(this,function(){function t(t,e){var n=Av;t=t.split("."),n=n||Ev,t[0]in n||!n.execScript||n.execScript("var "+t[0]);for(var o;t.length&&(o=t.shift());)t.length||void 0===e?n=n[o]&&n[o]!==Object.prototype[o]?n[o]:n[o]={}:n[o]=e}function e(t,e){return t>e?1:t<e?-1:0}function n(t,e){return 0<=t.indexOf(e)}function o(t,e,n){var o=t.length;if(t[0]<=e)return 0;if(!(e<=t[o-1]))if(0<n){for(n=1;n<o;++n)if(t[n]<e)return n-1}else if(0>n){for(n=1;n<o;++n)if(t[n]<=e)return n}else for(n=1;n<o;++n){if(t[n]==e)return n;if(t[n]<e)return t[n-1]-e<e-t[n]?n-1:n}return o-1}function i(t,e){var n=Array.isArray(e)?e:[e],o=n.length;for(e=0;e<o;e++)t[t.length]=n[e]}function r(t,e){for(var n,o=t.length>>>0,i=0;i<o;i++)if(n=t[i],e(n,i,t))return n;return null}function a(t,e){var n=t.length;if(n!==e.length)return!1;for(var o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}function s(t){var e,n=Mr,o=t.length,i=Array(t.length);for(e=0;e<o;e++)i[e]={index:e,value:t[e]};for(i.sort(function(t,e){return n(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=i[e].value}function u(t,e){var n;return t.every(function(o,i){return n=i,!e(o,i,t)})?-1:n}function h(t,n){var o=n||e;return t.every(function(e,n){return!n||(e=o(t[n-1],e),!(0<e||0===e))})}function p(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function l(){}function c(t){return t.ip||(t.ip=++Iv)}function f(t){this.message="Assertion failed. See https://openlayers.org/en/v4.3.1/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function d(t,e){if(!t)throw new f(e)}function y(t,e,n,o){this.ca=t,this.da=e,this.ea=n,this.ha=o}function v(t,e,n){return t.ca<=e&&e<=t.da&&t.ea<=n&&n<=t.ha}function g(t,e){return t.ca==e.ca&&t.ea==e.ea&&t.da==e.da&&t.ha==e.ha}function m(t,e){return t.ca<=e.da&&t.da>=e.ca&&t.ea<=e.ha&&t.ha>=e.ea}function b(t,e,n){return Math.min(Math.max(t,e),n)}function _(t){return d(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function x(t,e,n,o,i,r){var a=i-n,s=r-o;if(a||s){var u=((t-n)*a+(e-o)*s)/(a*a+s*s);1<u?(n=i,o=r):0<u&&(n+=a*u,o+=s*u)}return w(t,e,n,o)}function w(t,e,n,o){return t=n-t,e=o-e,t*t+e*e}function P(t){return t*Math.PI/180}function S(t,e){return t%=e,0>t*e?t+e:t}function C(t,e,n){return t+n*(e-t)}function M(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function T(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function A(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function E(t){for(var e=F(),n=0,o=t.length;n<o;++n)G(e,t[n]);return e}function I(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function L(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function N(t,e,n){return e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,t=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,e*e+t*t}function O(t,e){return R(t,e[0],e[1])}function k(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function R(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function D(t,e){var n=t[1],o=t[2],i=t[3],r=e[0];e=e[1];var a=0;return r<t[0]?a|=16:r>o&&(a|=4),e<n?a|=8:e>i&&(a|=2),a||(a=1),a}function F(){return[1/0,1/0,-(1/0),-(1/0)]}function j(t,e,n,o,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=o,i):[t,e,n,o]}function K(t){return j(1/0,1/0,-(1/0),-(1/0),t)}function B(t,e){var n=t[0];return t=t[1],j(n,t,n,t,e)}function X(t,e,n,o,i){return i=K(i),W(i,t,e,n,o)}function U(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Y(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function G(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function W(t,e,n,o,i){for(;n<o;n+=i){var r=t,a=e[n],s=e[n+1];r[0]=Math.min(r[0],a),r[1]=Math.min(r[1],s),r[2]=Math.max(r[2],a),r[3]=Math.max(r[3],s)}return t}function z(t,e,n){var o;return(o=e.call(n,H(t)))||(o=e.call(n,V(t)))||(o=e.call(n,et(t)))?o:!!(o=e.call(n,tt(t)))&&o}function q(t){var e=0;return it(t)||(e=nt(t)*J(t)),e}function H(t){return[t[0],t[1]]}function V(t){return[t[2],t[1]]}function $(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Z(t,e,n,o,i){var r=e*o[0]/2;o=e*o[1]/2,e=Math.cos(n);var a=Math.sin(n);n=r*e,r*=a,e*=o;var s=o*a,u=t[0],h=t[1];t=u-n+s,o=u-n-s,a=u+n-s,n=u+n+s,s=h-r-e,u=h-r+e;var p=h+r+e;return r=h+r-e,j(Math.min(t,o,a,n),Math.min(s,u,p,r),Math.max(t,o,a,n),Math.max(s,u,p,r),i)}function J(t){return t[3]-t[1]}function Q(t,e,n){return n=n?n:F(),ot(t,e)&&(n[0]=t[0]>e[0]?t[0]:e[0],n[1]=t[1]>e[1]?t[1]:e[1],n[2]=t[2]<e[2]?t[2]:e[2],n[3]=t[3]<e[3]?t[3]:e[3]),n}function tt(t){return[t[0],t[3]]}function et(t){return[t[2],t[3]]}function nt(t){return t[2]-t[0]}function ot(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function it(t){return t[2]<t[0]||t[3]<t[1]}function rt(t,e){var n=(t[2]-t[0])/2*(e-1);e=(t[3]-t[1])/2*(e-1),t[0]-=n,t[2]+=n,t[1]-=e,t[3]+=e}function at(t,e,n){t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],e(t,t,2);var o=[t[0],t[2],t[4],t[6]],i=[t[1],t[3],t[5],t[7]];return e=Math.min.apply(null,o),t=Math.min.apply(null,i),o=Math.max.apply(null,o),i=Math.max.apply(null,i),j(e,t,o,i,n)}function st(t){for(var e in t)delete t[e]}function ut(t){var e,n=[];for(e in t)n.push(t[e]);return n}function ht(t){for(var e in t)return!1;return!e}function pt(t){this.radius=t}function lt(t){this.pb=t.code,this.b=t.units,this.i=void 0!==t.extent?t.extent:null,this.g=void 0!==t.worldExtent?t.worldExtent:null,this.a=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.c=void 0!==t.global&&t.global,this.f=!(!this.c||!this.i),this.l=t.getPointResolution,this.j=null,this.o=t.metersPerUnit;var e=t.code,n=kv||window.proj4;"function"==typeof n&&(e=n.defs(e),void 0!==e&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.a=e.axis),void 0===t.metersPerUnit&&(this.o=e.to_meter),void 0===t.units&&(this.b=e.units)))}function ct(t){lt.call(this,{code:t,units:"m",extent:Dv,global:!0,worldExtent:Fv,getPointResolution:function(t,e){return t/Lv(e[1]/6378137)}})}function ft(t,e,n){var o=t.length;n=1<n?n:2,void 0===e&&(e=2<n?t.slice():Array(o));for(var i=0;i<o;i+=n){e[i]=Rv*t[i]/180;var r=6378137*Math.log(Math.tan(Math.PI*(t[i+1]+90)/360));r>Rv?r=Rv:r<-Rv&&(r=-Rv),e[i+1]=r}return e}function dt(t,e,n){var o=t.length;n=1<n?n:2,void 0===e&&(e=2<n?t.slice():Array(o));for(var i=0;i<o;i+=n)e[i]=180*t[i]/Rv,e[i+1]=360*Math.atan(Math.exp(t[i+1]/6378137))/Math.PI-90;return e}function yt(t,e){lt.call(this,{code:t,units:"degrees",extent:Kv,axisOrientation:e,global:!0,metersPerUnit:Bv,worldExtent:Kv})}function vt(t,e,n){t=t.pb,e=e.pb,t in Yv||(Yv[t]={}),Yv[t][e]=n}function gt(t,e){var n;return t in Yv&&e in Yv[t]&&(n=Yv[t][e]),n}function mt(t,e,n,o){t=Ct(t);var i=t.l;return i?e=i(e,n):"degrees"==t.b&&!o||"degrees"==o||(i=At(t,Ct("EPSG:4326")),e=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2],e=i(e,e,2),e=(Gv.b(e.slice(0,2),e.slice(2,4))+Gv.b(e.slice(4,6),e.slice(6,8)))/2,t=o?Ov[o]:t.Nc(),void 0!==t&&(e/=t)),e}function bt(t){t.forEach(xt),t.forEach(function(e){t.forEach(function(t){e!==t&&vt(e,t,It)})})}function _t(){Xv.forEach(function(t){jv.forEach(function(e){vt(t,e,ft),vt(e,t,dt)})})}function xt(t){Uv[t.pb]=t,vt(t,t,It)}function wt(t){return t?"string"==typeof t?Ct(t):t:Ct("EPSG:3857")}function Pt(t,e,n,o){t=Ct(t),e=Ct(e),vt(t,e,St(n)),vt(e,t,St(o))}function St(t){return function(e,n,o){var i=e.length;o=void 0!==o?o:2,n=void 0!==n?n:Array(i);var r;for(r=0;r<i;r+=o){var a=t([e[r],e[r+1]]);for(n[r]=a[0],n[r+1]=a[1],a=o-1;2<=a;--a)n[r+a]=e[r+a]}return n}}function Ct(t){var e=null;if(t instanceof lt)e=t;else if("string"==typeof t&&(e=Uv[t]||null,!e)){var n=kv||window.proj4;"function"==typeof n&&void 0!==n.defs(t)&&(e=new lt({code:t}),xt(e))}return e}function Mt(t,e){if(t===e)return!0;var n=t.b===e.b;return t.pb===e.pb?n:At(t,e)===It&&n}function Tt(t,e){return t=Ct(t),e=Ct(e),At(t,e)}function At(t,e){var n=t.pb,o=e.pb,i=gt(n,o);if(!i){var r=kv||window.proj4;if("function"==typeof r){var a=r.defs(n),s=r.defs(o);void 0!==a&&void 0!==s&&(a===s?bt([e,t]):(i=r(o,n),Pt(e,t,i.forward,i.inverse)),i=gt(n,o))}}return i||(i=Et),i}function Et(t,e){if(void 0!==e&&t!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];t=e}return t}function It(t,e){if(void 0!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];t=e}else t=t.slice();return t}function Lt(t,e,n){return Tt(e,n)(t,void 0,t.length)}function Nt(t,e,n){return e=Tt(e,n),at(t,e)}function Ot(){bt(jv),bt(Xv),_t()}function kt(t,e,n,o){return void 0!==o?(o[0]=t,o[1]=e,o[2]=n,o):[t,e,n]}function Rt(t){var e,n=t[0],o=Array(n),i=1<<n-1;for(e=0;e<n;++e){var r=48;t[1]&i&&(r+=1),t[2]&i&&(r+=2),o[e]=String.fromCharCode(r),i>>=1}return o.join("")}function Dt(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.b=t.resolutions,d(h(this.b,function(t,e){return e-t}),17),this.maxZoom=this.b.length-1,this.f=void 0!==t.origin?t.origin:null,this.c=null,void 0!==t.origins&&(this.c=t.origins,d(this.c.length==this.b.length,20));var e=t.extent;void 0===e||this.f||this.c||(this.f=tt(e)),d(!this.f&&this.c||this.f&&!this.c,18),this.i=null,void 0!==t.tileSizes&&(this.i=t.tileSizes,d(this.i.length==this.b.length,19)),this.g=void 0!==t.tileSize?t.tileSize:this.i?null:256,d(!this.g&&this.i||this.g&&!this.i,22),this.v=void 0!==e?e:null,this.a=null,this.j=[0,0],void 0!==t.sizes?this.a=t.sizes.map(function(t){return new y(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):e&&Yt(this,e)}function Ft(t,e,n,o,i){for(i=t.Fa(e,i),e=e[0]-1;e>=t.minZoom;){if(n.call(null,e,Bt(t,i,e,o)))return!0;--e}return!1}function jt(t,e,n,o){return e[0]<t.maxZoom?(o=t.Fa(e,o),Bt(t,o,e[0]+1,n)):null}function Kt(t,e,n,o){Ut(t,e[0],e[1],n,!1,Wv);var i=Wv[1],r=Wv[2];return Ut(t,e[2],e[3],n,!0,Wv),t=Wv[1],e=Wv[2],void 0!==o?(o.ca=i,o.da=t,o.ea=r,o.ha=e):o=new y(i,t,r,e),o}function Bt(t,e,n,o){return Kt(t,e,t.Ca(n),o)}function Xt(t,e){var n=t.Sc(e[0]),o=t.Ca(e[0]);return t=A(t.eb(e[0]),t.j),[n[0]+(e[1]+.5)*t[0]*o,n[1]+(e[2]+.5)*t[1]*o]}function Ut(t,e,n,o,i,r){var a=t.uc(o),s=o/t.Ca(a),u=t.Sc(a);return t=A(t.eb(a),t.j),e=s*Math.floor((e-u[0])/o+(i?.5:0))/t[0],n=s*Math.floor((n-u[1])/o+(i?0:.5))/t[1],i?(e=Math.ceil(e)-1,n=Math.ceil(n)-1):(e=Math.floor(e),n=Math.floor(n)),kt(a,e,n,r)}function Yt(t,e){for(var n=t.b.length,o=Array(n),i=t.minZoom;i<n;++i)o[i]=Bt(t,e,i);t.a=o}function Gt(t){var e=t.j;return e||(e=qt(t),t.j=e),e}function Wt(t){var e={};return Nv(e,t?t:{}),void 0===e.extent&&(e.extent=Ct("EPSG:3857").G()),e.resolutions=zt(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new Dt(e)}function zt(t,e,n){e=void 0!==e?e:42;var o=J(t);for(t=nt(t),n=A(void 0!==n?n:256),n=Math.max(t/n[0],o/n[1]),e+=1,o=Array(e),t=0;t<e;++t)o[t]=n/Math.pow(2,t);return o}function qt(t,e,n){return t=Ht(t),e=zt(t,e,n),new Dt({extent:t,origin:tt(t),resolutions:e,tileSize:n})}function Ht(t){t=Ct(t);var e=t.G();return e||(t=180*Ov.degrees/t.Nc(),e=j(-t,-t,t,t)),e}function Vt(t){this.b=t.html,this.a=t.tileRanges?t.tileRanges:null}function $t(t){return function(e){if(e)return[b(e[0],t[0],t[2]),b(e[1],t[1],t[3])]}}function Zt(t){return t}function Jt(t){function e(e){var n=t.listener,o=t.rh||t.target;return t.th&&ae(t),n.call(o,e)}return t.sh=e}function Qt(t,e,n,o){for(var i,r=0,a=t.length;r<a;++r)if(i=t[r],i.listener===e&&i.rh===n)return o&&(i.deleteIndex=r),i}function te(t,e){return(t=t.jb)?t[e]:void 0}function ee(t){var e=t.jb;return e||(e=t.jb={}),e}function ne(t,e){var n=te(t,e);if(n){for(var o=0,i=n.length;o<i;++o)t.removeEventListener(e,n[o].sh),st(n[o]);n.length=0,(n=t.jb)&&(delete n[e],Object.keys(n).length||delete t.jb)}}function oe(t,e,n,o,i){var r=ee(t),a=r[e];return a||(a=r[e]=[]),(r=Qt(a,n,o,!1))?i||(r.th=!1):(r={rh:o,th:!!i,listener:n,target:t,type:e},t.addEventListener(e,Jt(r)),a.push(r)),r}function ie(t,e,n,o){return oe(t,e,n,o,!0)}function re(t,e,n,o){(t=te(t,e))&&(n=Qt(t,n,o,!0))&&ae(n)}function ae(t){if(t&&t.target){t.target.removeEventListener(t.type,t.sh);var e=te(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),e.length||ne(t.target,t.type)}st(t)}}function se(t){var e,n=ee(t);for(e in n)ne(t,e)}function ue(){}function he(t){t.mc||(t.mc=!0,t.ka())}function pe(t){this.type=t,this.target=null}function le(t){t.stopPropagation()}function ce(){this.Va={},this.qa={},this.pa={}}function fe(t,e){return e?e in t.pa:0<Object.keys(t.pa).length}function de(){ce.call(this),this.f=0}function ye(t){de.call(this),c(this),this.R={},void 0!==t&&this.H(t)}function ve(t){return zv.hasOwnProperty(t)?zv[t]:zv[t]="change:"+t}function ge(t,e,n){var o=ve(e);t.b(new me(o,e,n)),t.b(new me("propertychange",e,n))}function me(t,e,n){pe.call(this,t),this.key=e,this.oldValue=n}function be(t,e){if(ye.call(this),this.c=!!(e||{}).unique,this.a=t?t:[],this.c)for(t=0,e=this.a.length;t<e;++t)xe(this,this.a[t],t);_e(this)}function _e(t){t.set(qv,t.a.length)}function xe(t,e,n){for(var o=0,i=t.a.length;o<i;++o)if(t.a[o]===e&&o!==n)throw new f(58)}function we(t,e){pe.call(this,t),this.element=e}function Pe(t){return Array.isArray(t)?t:$v(t)}function Se(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var o=t[2];o!=(0|o)&&(o=o+.5|0),t="rgba("+e+","+n+","+o+","+(void 0===t[3]?1:t[3])+")"}return t}function Ce(t){var e=[];return e[0]=b(t[0]+.5|0,0,255),e[1]=b(t[1]+.5|0,0,255),e[2]=b(t[2]+.5|0,0,255),e[3]=b(t[3],0,1),e}function Me(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:Se(t)}function Te(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function Ae(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Ee(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ie(t){ye.call(this),this.element=t.element?t.element:null,this.a=this.S=null,this.v=[],this.render=t.render?t.render:l,t.target&&this.i(t.target)}function Le(t){t=t?t:{},this.I=document.createElement("UL"),this.u=document.createElement("LI"),this.I.appendChild(this.u),this.u.style.display="none",this.c=void 0===t.collapsed||t.collapsed,this.l=void 0===t.collapsible||t.collapsible,this.l||(this.c=!1);var e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",o=void 0!==t.collapseLabel?t.collapseLabel:"»";"string"==typeof o?(this.D=document.createElement("span"),this.D.textContent=o):this.D=o,o=void 0!==t.label?t.label:"i","string"==typeof o?(this.B=document.createElement("span"),
this.B.textContent=o):this.B=o;var i=this.l&&!this.c?this.D:this.B;o=document.createElement("button"),o.setAttribute("type","button"),o.title=n,o.appendChild(i),oe(o,"click",this.jn,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control"+(this.c&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),n.appendChild(this.I),n.appendChild(o),Ie.call(this,{element:n,render:t.render?t.render:Ne,target:t.target}),this.C=!0,this.o={},this.j={},this.U={}}function Ne(t){if(t=t.frameState){var e,n,o,i,r,a=t.layerStatesArray,s=Nv({},t.attributions),u={},h={},p=t.viewState.projection,l=0;for(e=a.length;l<e;l++)if(i=a[l].layer.ia()){var f=c(i).toString();if(r=i.j){var d=0;for(n=r.length;d<n;d++){var v=r[d],g=c(v).toString();if(!(g in s)){if(o=t.usedTiles[f]){var b=i.Ta(p);t:{var _,x=void 0,w=v,P=b,C=p;if(w.a){for(x in o)if(x in w.a){b=o[x];var M=0;for(_=w.a[x].length;M<_;++M){var T=w.a[x][M];if(m(T,b)){x=!0;break t}var A=Bt(P,Ht(C),parseInt(x,10)),E=A.da-A.ca+1;if((b.ca<A.ca||b.da>A.da)&&(m(T,new y(S(b.ca,E),S(b.da,E),b.ea,b.ha))||b.da-b.ca+1>E&&m(T,A))){x=!0;break t}}}x=!1}else x=!0}}else x=!1;x?(g in u&&delete u[g],x=v.b,x in h||(h[x]=!0,s[g]=v)):u[g]=v}}}}e=[s,u],l=e[0],e=e[1];for(var I in this.o)I in l?(this.j[I]||(this.o[I].style.display="",this.j[I]=!0),delete l[I]):I in e?(this.j[I]&&(this.o[I].style.display="none",delete this.j[I]),delete e[I]):(Ee(this.o[I]),delete this.o[I],delete this.j[I]);for(I in l)d=document.createElement("LI"),d.innerHTML=l[I].b,this.I.appendChild(d),this.o[I]=d,this.j[I]=!0;for(I in e)d=document.createElement("LI"),d.innerHTML=e[I].b,d.style.display="none",this.I.appendChild(d),this.o[I]=d;I=!ht(this.j)||!ht(t.logos),this.C!=I&&(this.element.style.display=I?"":"none",this.C=I),I&&ht(this.j)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only"),t=t.logos,I=this.U;for(N in I)N in t||(Ee(I[N]),delete I[N]);for(var L in t)if(e=t[L],e instanceof HTMLElement&&(this.u.appendChild(e),I[L]=e),!(L in I)){var N=new Image;N.src=L,""===e?l=N:(l=document.createElement("a"),l.href=e,l.appendChild(N)),this.u.appendChild(l),I[L]=l}this.u.style.display=ht(t)?"none":""}else this.C&&(this.element.style.display="none",this.C=!1)}function Oe(t){t.element.classList.toggle("ol-collapsed"),t.c?Ae(t.D,t.B):Ae(t.B,t.D),t.c=!t.c}function ke(t){return Math.pow(t,3)}function Re(t){return 1-ke(1-t)}function De(t){return 3*t*t-2*t*t*t}function Fe(t){return t}function je(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"⇧";this.c=null,"string"==typeof n?(this.c=document.createElement("span"),this.c.className="ol-compass",this.c.textContent=n):(this.c=n,this.c.classList.add("ol-compass"));var o=t.tipLabel?t.tipLabel:"Reset rotation";n=document.createElement("button"),n.className=e+"-reset",n.setAttribute("type","button"),n.title=o,n.appendChild(this.c),oe(n,"click",je.prototype.D,this),o=document.createElement("div"),o.className=e+" ol-unselectable ol-control",o.appendChild(n),e=t.render?t.render:Ke,this.l=t.resetNorth?t.resetNorth:void 0,Ie.call(this,{element:o,render:e,target:t.target}),this.o=void 0!==t.duration?t.duration:250,this.j=void 0===t.autoHide||t.autoHide,this.u=void 0,this.j&&this.element.classList.add("ol-hidden")}function Ke(t){if(t=t.frameState){if(t=t.viewState.rotation,t!=this.u){var e="rotate("+t+"rad)";if(this.j){var n=this.element.classList.contains("ol-hidden");n||t?n&&t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.c.style.msTransform=e,this.c.style.webkitTransform=e,this.c.style.transform=e}this.u=t}}function Be(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,o=void 0!==t.zoomInLabel?t.zoomInLabel:"+",i=void 0!==t.zoomOutLabel?t.zoomOutLabel:"−",r=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",a=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",s=document.createElement("button");s.className=e+"-in",s.setAttribute("type","button"),s.title=r,s.appendChild("string"==typeof o?document.createTextNode(o):o),oe(s,"click",Be.prototype.j.bind(this,n)),o=document.createElement("button"),o.className=e+"-out",o.setAttribute("type","button"),o.title=a,o.appendChild("string"==typeof i?document.createTextNode(i):i),oe(o,"click",Be.prototype.j.bind(this,-n)),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(s),n.appendChild(o),Ie.call(this,{element:n,target:t.target}),this.c=void 0!==t.duration?t.duration:250}function Xe(t){t=t?t:{};var e=new be;return(void 0!==t.zoom?t.zoom:1)&&e.push(new Be(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new je(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new Le(t.attributionOptions)),e}function Ue(t){t=t?t:{},this.c=void 0!==t.className?t.className:"ol-full-screen";var e=void 0!==t.label?t.label:"⤢";this.l="string"==typeof e?document.createTextNode(e):e,e=void 0!==t.labelActive?t.labelActive:"×",this.o="string"==typeof e?document.createTextNode(e):e;var n=t.tipLabel?t.tipLabel:"Toggle full-screen";e=document.createElement("button"),e.className=this.c+"-"+Ge(),e.setAttribute("type","button"),e.title=n,e.appendChild(this.l),oe(e,"click",this.B,this),n=document.createElement("div"),n.className=this.c+" ol-unselectable ol-control "+(Ye()?"":"ol-unsupported"),n.appendChild(e),Ie.call(this,{element:n,target:t.target}),this.D=void 0!==t.keys&&t.keys,this.j=t.source}function Ye(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function Ge(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function We(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}function ze(t){t=t?t:{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",Ie.call(this,{element:e,render:t.render?t.render:qe,target:t.target}),oe(this,ve(Jv),this.mn,this),t.coordinateFormat&&this.uj(t.coordinateFormat),t.projection&&this.ji(t.projection),this.u=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.o=e.innerHTML,this.l=this.j=this.c=null}function qe(t){t=t.frameState,t?this.c!=t.viewState.projection&&(this.c=t.viewState.projection,this.j=null):this.c=null,He(this,this.l)}function He(t,e){var n=t.u;if(e&&t.c){if(!t.j){var o=t.ii();t.j=o?At(t.c,o):Et}(e=t.a.Xa(e))&&(t.j(e,e),n=(n=t.Fh())?n(e):e.toString())}t.o&&n==t.o||(t.element.innerHTML=n,t.o=n)}function Ve(t,e,n){pe.call(this,t),this.map=e,this.frameState=void 0!==n?n:null}function $e(t,e,n,o,i){Ve.call(this,t,e,i),this.originalEvent=n,this.pixel=e.Ge(n),this.coordinate=e.Xa(this.pixel),this.dragging=void 0!==o&&o}function Ze(t,e){var n,o,i=ng.length;for(o=0;o<i;++o)try{if(n=t.getContext(ng[o],e))return n}catch(t){}return null}function Je(t,e,n,o,i){$e.call(this,t,e,n.b,o,i),this.b=n}function Qe(t,e){this.b=t,this.i=e}function tn(t){Qe.call(this,t,{mousedown:this.tm,mousemove:this.um,mouseup:this.xm,mouseover:this.wm,mouseout:this.vm}),this.a=t.f,this.f=[]}function en(t,e){t=t.f;var n=e.clientX;e=e.clientY;for(var o,i=0,r=t.length;i<r&&(o=t[i]);i++){var a=Math.abs(e-o[1]);if(25>=Math.abs(n-o[0])&&25>=a)return!0}return!1}function nn(t){var e=mn(t,t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function on(t){Qe.call(this,t,{MSPointerDown:this.Cm,MSPointerMove:this.Dm,MSPointerUp:this.Gm,MSPointerOut:this.Em,MSPointerOver:this.Fm,MSPointerCancel:this.Bm,MSGotPointerCapture:this.zm,MSLostPointerCapture:this.Am}),this.a=t.f,this.f=["","unavailable","touch","pen","mouse"]}function rn(t,e){var n=e;return"number"==typeof e.pointerType&&(n=mn(e,e),n.pointerType=t.f[e.pointerType]),n}function an(t){Qe.call(this,t,{pointerdown:this.vp,pointermove:this.wp,pointerup:this.zp,pointerout:this.xp,pointerover:this.yp,pointercancel:this.up,gotpointercapture:this.Gl,lostpointercapture:this.sm})}function sn(t,e,n){pe.call(this,t),this.b=e,t=n?n:{},this.buttons=un(t),this.pressure=hn(t,this.buttons),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.ctrlKey="ctrlKey"in t&&t.ctrlKey,this.altKey="altKey"in t&&t.altKey,this.shiftKey="shiftKey"in t&&t.shiftKey,this.metaKey="metaKey"in t&&t.metaKey,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.tiltX="tiltX"in t?t.tiltX:0,this.tiltY="tiltY"in t?t.tiltY:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function un(t){if(t.buttons||_g)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function hn(t,e){var n=0;return n=t.pressure?t.pressure:e?.5:0}function pn(t,e){Qe.call(this,t,{touchstart:this.Fq,touchmove:this.Eq,touchend:this.Dq,touchcancel:this.Cq}),this.a=t.f,this.j=e,this.f=void 0,this.g=0,this.c=void 0}function ln(t,e,n){return e=mn(e,n),e.pointerId=n.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.g,e.button=0,e.buttons=1,e.width=n.webkitRadiusX||n.radiusX||0,e.height=n.webkitRadiusY||n.radiusY||0,e.pressure=n.webkitForce||n.force||.5,e.isPrimary=t.f===n.identifier,e.pointerType="touch",e.clientX=n.clientX,e.clientY=n.clientY,e.screenX=n.screenX,e.screenY=n.screenY,e}function cn(t,e,n){function o(){e.preventDefault()}var i,r=Array.prototype.slice.call(e.changedTouches),a=r.length;for(i=0;i<a;++i){var s=ln(t,e,r[i]);s.preventDefault=o,n.call(t,e,s)}}function fn(t,e){var n=t.j.f;if(e=e.changedTouches[0],t.f===e.identifier){var o=[e.clientX,e.clientY];n.push(o),setTimeout(function(){var t=n.indexOf(o);-1<t&&n.splice(t,1)},2500)}}function dn(t){ce.call(this),this.g=t,this.f={},this.i={},this.a=[],dg?yn(this,new an(this)):yg?yn(this,new on(this)):(t=new tn(this),yn(this,t),fg&&yn(this,new pn(this,t))),t=this.a.length;for(var e,n=0;n<t;n++)e=this.a[n],vn(this,Object.keys(e.i))}function yn(t,e){var n=Object.keys(e.i);n&&(n.forEach(function(t){var n=e.i[t];n&&(this.i[t]=n.bind(e))},t),t.a.push(e))}function vn(t,e){e.forEach(function(t){oe(this.g,t,this.c,this)},t)}function gn(t,e){e.forEach(function(t){re(this.g,t,this.c,this)},t)}function mn(t,e){for(var n,o={},i=0,r=xg.length;i<r;i++)n=xg[i][0],o[n]=t[n]||e[n]||xg[i][1];return o}function bn(t,e,n){e.bubbles=!1,wn(t,"pointerleave",e,n)}function _n(t,e,n){t.out(e,n);var o=e.target,i=e.relatedTarget;o&&i&&o.contains(i)||bn(t,e,n)}function xn(t,e,n){e.bubbles=!0,wn(t,"pointerover",e,n);var o=e.target,i=e.relatedTarget;o&&i&&o.contains(i)||(e.bubbles=!1,wn(t,"pointerenter",e,n))}function wn(t,e,n,o){t.b(new sn(e,o,n))}function Pn(t,e){t.b(new sn(e.type,e,e))}function Sn(t,e){ce.call(this),this.f=t,this.j=0,this.l=!1,this.i=[],this.D=e?e*ug:ug,this.c=null,t=this.f.a,this.R=0,this.u={},this.g=new dn(t),this.a=null,this.o=oe(this.g,"pointerdown",this.$l,this),this.v=oe(this.g,"pointermove",this.Yp,this)}function Cn(t,e){var n=new Je("click",t.f,e);t.b(n),t.j?(clearTimeout(t.j),t.j=0,n=new Je("dblclick",t.f,e),t.b(n)):t.j=setTimeout(function(){this.j=0;var t=new Je("singleclick",this.f,e);this.b(t)}.bind(t),250)}function Mn(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.u[e.pointerId]:"pointerdown"==e.type&&(t.u[e.pointerId]=!0),t.R=Object.keys(t.u).length}function Tn(t,e){return Math.abs(e.clientX-t.c.clientX)>t.D||Math.abs(e.clientY-t.c.clientY)>t.D}function An(t,e){this.o=t,this.c=e,this.b=[],this.f=[],this.a={}}function En(t){var e=t.b,n=t.f,o=e[0];return 1==e.length?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),In(t,0)),e=t.c(o),delete t.a[e],o}function In(t,e){for(var n=t.b,o=t.f,i=n.length,r=n[e],a=o[e],s=e;e<i>>1;){var u=2*e+1,h=2*e+2;u=h<i&&o[h]<o[u]?h:u,n[e]=n[u],o[e]=o[u],e=u}n[e]=r,o[e]=a,Ln(t,s,e)}function Ln(t,e,n){var o=t.b;t=t.f;for(var i=o[n],r=t[n];n>e;){var a=n-1>>1;if(!(t[a]>r))break;o[n]=o[a],t[n]=t[a],n=a}o[n]=i,t[n]=r}function Nn(t){var e,n=t.o,o=t.b,i=t.f,r=0,a=o.length;for(e=0;e<a;++e){var s=o[e],u=n(s);1/0==u?delete t.a[t.c(s)]:(i[r]=u,o[r++]=s)}for(o.length=r,i.length=r,n=(t.b.length>>1)-1;0<=n;n--)In(t,n)}function On(t,e){An.call(this,function(e){return t.apply(null,e)},function(t){return t[0].fb()}),this.v=e,this.j=0,this.g={}}function kn(t,e,n){for(var o,i,r,a=0,s=!1;t.j<e&&a<n&&0<t.b.length;)i=En(t)[0],r=i.fb(),o=i.getState(),5===o?s=!0:0!==o||r in t.g||(t.g[r]=!0,++t.j,++a,i.load());!a&&s&&t.v()}function Rn(t){return function(e,n,i){if(void 0!==e)return e=o(t,e,i),e=b(e+n,0,t.length-1),n=Math.floor(e),e!=n&&n<t.length-1?t[n]/Math.pow(t[n]/t[n+1],e-n):t[n]}}function Dn(t,e,n){return function(o,i,r){if(void 0!==o)return o=Math.max(Math.floor(Math.log(e/o)/Math.log(t)+(-r/2+.5))+i,0),void 0!==n&&(o=Math.min(o,n)),e/Math.pow(t,o)}}function Fn(t){if(void 0!==t)return 0}function jn(t,e){if(void 0!==t)return t+e}function Kn(t){var e=2*Math.PI/t;return function(t,n){if(void 0!==t)return t=Math.floor((t+n)/e+.5)*e}}function Bn(){var t=P(5);return function(e,n){if(void 0!==e)return Math.abs(e+n)<=t?0:e+n}}function Xn(t,e){return t=void 0!==e?t.toFixed(e):""+t,e=t.indexOf("."),e=-1===e?t.length:e,2<e?t:Array(3-e).join("0")+t}function Un(t){t=(""+t).split(".");for(var e=["1","3"],n=0;n<Math.max(t.length,e.length);n++){var o=parseInt(t[n]||"0",10),i=parseInt(e[n]||"0",10);if(o>i)return 1;if(i>o)return-1}return 0}function Yn(t,e){return t[0]+=e[0],t[1]+=e[1],t}function Gn(t,e){var n=e.ud(),o=e.xa();e=o[0],o=o[1];var i=t[0]-e;t=t[1]-o,i||t||(i=1);var r=Math.sqrt(i*i+t*t);return[e+n*i/r,o+n*t/r]}function Wn(t,e){var n=t[0];t=t[1];var o=e[0],i=e[1];e=o[0],o=o[1];var r=i[0];i=i[1];var a=r-e,s=i-o;return n=a||s?(a*(n-e)+s*(t-o))/(a*a+s*s||0):0,0>=n?(t=e,n=o):1<=n?(t=r,n=i):(t=e+n*a,n=o+n*s),[t,n]}function zn(t,e,n){e=S(e+180,360)-180;var o=Math.abs(3600*e);n=n||0;var i=Math.pow(10,n),r=Math.floor(o/3600),a=Math.floor((o-3600*r)/60);return o=Math.ceil((o-3600*r-60*a)*i)/i,60<=o&&(o=0,a+=1),60<=a&&(a=0,r+=1),r+"° "+Xn(a)+"′ "+Xn(o,n)+"″"+(e?" "+t.charAt(0>e?1:0):"")}function qn(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function Hn(t,e){for(var n=!0,o=t.length-1;0<=o;--o)if(t[o]!=e[o]){n=!1;break}return n}function Vn(t,e){var n=Math.cos(e);e=Math.sin(e);var o=t[1]*n+t[0]*e;return t[0]=t[0]*n-t[1]*e,t[1]=o,t}function $n(t,e){t[0]*=e,t[1]*=e}function Zn(t,e){var n=t[0]-e[0];return t=t[1]-e[1],n*n+t*t}function Jn(t,e){return Math.sqrt(Zn(t,e))}function Qn(t,e){return Zn(t,Wn(t,e))}function to(t,e){return qn(t,"{x}, {y}",e)}function eo(){return!0}function no(){return!1}function oo(){ye.call(this),this.o=F(),this.v=-1,this.i={},this.l=this.g=0}function io(t,e,n,o,i,r){for(var a=r?r:[],s=0;e<n;e+=o){var u=t[e],h=t[e+1];a[s++]=i[0]*u+i[2]*h+i[4],a[s++]=i[1]*u+i[3]*h+i[5]}return r&&a.length!=s&&(a.length=s),a}function ro(t,e,n,o,i,r,a){for(var s,u=a?a:[],h=0;e<n;e+=o)for(u[h++]=t[e]+i,u[h++]=t[e+1]+r,s=e+2;s<e+o;++s)u[h++]=t[s];return a&&u.length!=h&&(u.length=h),u}function ao(){oo.call(this),this.ja="XY",this.a=2,this.A=null}function so(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function uo(t,e,n){t.a=so(e),t.ja=e,t.A=n}function ho(t,e,n,o){if(e)n=so(e);else{for(e=0;e<o;++e){if(!n.length)return t.ja="XY",void(t.a=2);n=n[0]}n=n.length;var i;2==n?i="XY":3==n?i="XYZ":4==n&&(i="XYZM"),e=i}t.ja=e,t.a=n}function po(t,e,n,o){for(var i=0,r=t[n-o],a=t[n-o+1];e<n;e+=o){var s=t[e],u=t[e+1];i+=a*s-r*u,r=s,a=u}return i/2}function lo(t,e,n,o){var i,r=0,a=0;for(i=n.length;a<i;++a){var s=n[a];r+=po(t,e,s,o),e=s}return r}function co(t,e,n,o,i,r,a){var s=t[e],u=t[e+1],h=t[n]-s,p=t[n+1]-u;if(h||p)if(r=((i-s)*h+(r-u)*p)/(h*h+p*p),1<r)e=n;else if(0<r){for(i=0;i<o;++i)a[i]=C(t[e+i],t[n+i],r);return void(a.length=o)}for(i=0;i<o;++i)a[i]=t[e+i];a.length=o}function fo(t,e,n,o,i){var r=t[e],a=t[e+1];for(e+=o;e<n;e+=o){var s=t[e],u=t[e+1];r=w(r,a,s,u),r>i&&(i=r),r=s,a=u}return i}function yo(t,e,n,o,i){var r,a=0;for(r=n.length;a<r;++a){var s=n[a];i=fo(t,e,s,o,i),e=s}return i}function vo(t,e,n,o,i,r,a,s,u,h,p){if(e==n)return h;if(!i){var l=w(a,s,t[e],t[e+1]);if(l<h){for(p=0;p<o;++p)u[p]=t[e+p];return u.length=o,l}return h}for(var c=p?p:[NaN,NaN],f=e+o;f<n;)if(co(t,f-o,f,o,a,s,c),l=w(a,s,c[0],c[1]),l<h){for(h=l,p=0;p<o;++p)u[p]=c[p];u.length=o,f+=o}else f+=o*Math.max((Math.sqrt(l)-Math.sqrt(h))/i|0,1);if(r&&(co(t,n-o,e,o,a,s,c),l=w(a,s,c[0],c[1]),l<h)){for(h=l,p=0;p<o;++p)u[p]=c[p];u.length=o}return h}function go(t,e,n,o,i,r,a,s,u,h,p){p=p?p:[NaN,NaN];var l,c=0;for(l=n.length;c<l;++c){var f=n[c];h=vo(t,e,f,o,i,r,a,s,u,h,p),e=f}return h}function mo(t,e){var n,o=0,i=0;for(n=e.length;i<n;++i)t[o++]=e[i];return o}function bo(t,e,n,o){var i,r=0;for(i=n.length;r<i;++r){var a,s=n[r];for(a=0;a<o;++a)t[e++]=s[a]}return e}function _o(t,e,n,o,i){i=i?i:[];var r,a=0,s=0;for(r=n.length;s<r;++s)e=bo(t,e,n[s],o),i[a++]=e;return i.length=a,i}function xo(t,e,n,o,i){i=void 0!==i?i:[];for(var r=0;e<n;e+=o)i[r++]=t.slice(e,e+o);return i.length=r,i}function wo(t,e,n,o,i){i=void 0!==i?i:[];var r,a=0,s=0;for(r=n.length;s<r;++s){var u=n[s];i[a++]=xo(t,e,u,o,i[a]),e=u}return i.length=a,i}function Po(t,e,n,o,i){i=void 0!==i?i:[];var r,a=0,s=0;for(r=n.length;s<r;++s){var u=n[s];i[a++]=wo(t,e,u,o,i[a]),e=u[u.length-1]}return i.length=a,i}function So(t,e,n,o,i,r,a){var s=(n-e)/o;if(3>s){for(;e<n;e+=o)r[a++]=t[e],r[a++]=t[e+1];return a}var u=Array(s);u[0]=1,u[s-1]=1,n=[e,n-o];for(var h,p=0;0<n.length;){var l=n.pop(),c=n.pop(),f=0,d=t[c],y=t[c+1],v=t[l],g=t[l+1];for(h=c+o;h<l;h+=o){var m=x(t[h],t[h+1],d,y,v,g);m>f&&(p=h,f=m)}f>i&&(u[(p-e)/o]=1,c+o<p&&n.push(c,p),p+o<l&&n.push(p,l))}for(h=0;h<s;++h)u[h]&&(r[a++]=t[e+h*o],r[a++]=t[e+h*o+1]);return a}function Co(t,e,n,o,i,r,a,s){var u,h=0;for(u=n.length;h<u;++h){var p=n[h];t:{var l=t,c=p,f=o,d=i,y=r,v=a;if(e!=c){var g=d*Math.round(l[e]/d),m=d*Math.round(l[e+1]/d);e+=f,y[v++]=g,y[v++]=m;do{var b=d*Math.round(l[e]/d);if(a=d*Math.round(l[e+1]/d),e+=f,e==c){y[v++]=b,y[v++]=a,a=v;break t}}while(b==g&&a==m);for(;e<c;){var _=d*Math.round(l[e]/d),x=d*Math.round(l[e+1]/d);if(e+=f,_!=b||x!=a){var w=b-g,P=a-m,S=_-g,C=x-m;w*C==P*S&&(0>w&&S<w||w==S||0<w&&S>w)&&(0>P&&C<P||P==C||0<P&&C>P)||(y[v++]=b,y[v++]=a,g=b,m=a),b=_,a=x}}y[v++]=b,y[v++]=a}a=v}s.push(a),e=p}return a}function Mo(t,e){ao.call(this),this.c=this.j=-1,this.na(t,e)}function To(t,e,n){uo(t,e,n),t.s()}function Ao(t,e){ao.call(this),this.na(t,e)}function Eo(t,e,n,o,i){return!z(i,function(i){return!Io(t,e,n,o,i[0],i[1])})}function Io(t,e,n,o,i,r){for(var a=0,s=t[n-o],u=t[n-o+1];e<n;e+=o){var h=t[e],p=t[e+1];u<=r?p>r&&0<(h-s)*(r-u)-(i-s)*(p-u)&&a++:p<=r&&0>(h-s)*(r-u)-(i-s)*(p-u)&&a--,s=h,u=p}return!!a}function Lo(t,e,n,o,i,r){if(!n.length||!Io(t,e,n[0],o,i,r))return!1;var a;for(e=1,a=n.length;e<a;++e)if(Io(t,n[e-1],n[e],o,i,r))return!1;return!0}function No(t,n,o,i,r,a,s){var u,h=r[a+1],p=[],l=o[0],c=t[l-i],f=t[l-i+1];for(u=n;u<l;u+=i){var d=t[u],y=t[u+1];(h<=f&&y<=h||f<=h&&h<=y)&&(c=(h-f)/(y-f)*(d-c)+c,p.push(c)),c=d,f=y}for(l=NaN,f=-(1/0),p.sort(e),c=p[0],u=1,y=p.length;u<y;++u){d=p[u];var v=Math.abs(d-c);v>f&&(c=(c+d)/2,Lo(t,n,o,i,c,h)&&(l=c,f=v)),c=d}return isNaN(l)&&(l=r[a]),s?(s.push(l,h),s):[l,h]}function Oo(t,e,n,o,i,r){for(var a,s=[t[e],t[e+1]],u=[];e+o<n;e+=o){if(u[0]=t[e+o],u[1]=t[e+o+1],a=i.call(r,s,u))return a;s[0]=u[0],s[1]=u[1]}return!1}function ko(t,e,n,o,i){var r=W(F(),t,e,n,o);return!!ot(i,r)&&(!!(k(i,r)||r[0]>=i[0]&&r[2]<=i[2]||r[1]>=i[1]&&r[3]<=i[3])||Oo(t,e,n,o,function(t,e){var n=!1,o=D(i,t),r=D(i,e);if(1===o||1===r)n=!0;else{var a=i[0],s=i[1],u=i[2],h=i[3],p=e[0];e=e[1],t=(e-t[1])/(p-t[0]),2&r&&!(2&o)&&(n=p-(e-h)/t,n=n>=a&&n<=u),n||!(4&r)||4&o||(n=e-(p-u)*t,n=n>=s&&n<=h),n||!(8&r)||8&o||(n=p-(e-s)/t,n=n>=a&&n<=u),n||!(16&r)||16&o||(n=e-(p-a)*t,n=n>=s&&n<=h)}return n}))}function Ro(t,e,n,o,i){var r=n[0];if(!(ko(t,e,r,o,i)||Io(t,e,r,o,i[0],i[1])||Io(t,e,r,o,i[0],i[3])||Io(t,e,r,o,i[2],i[1])||Io(t,e,r,o,i[2],i[3])))return!1;if(1===n.length)return!0;for(e=1,r=n.length;e<r;++e)if(Eo(t,n[e-1],n[e],o,i))return!1;return!0}function Do(t,e,n,o){for(var i=0,r=t[n-o],a=t[n-o+1];e<n;e+=o){var s=t[e],u=t[e+1];i+=(s-r)*(u+a),r=s,a=u}return 0<i}function Fo(t,e,n,o){var i=0;o=void 0!==o&&o;var r,a=0;for(r=e.length;a<r;++a){var s=e[a];if(i=Do(t,i,s,n),a){if(o&&!i||!o&&i)return!1}else if(o&&i||!o&&!i)return!1;i=s}return!0}function jo(t,e,n,o,i){i=void 0!==i&&i;var r,a=0;for(r=n.length;a<r;++a){var s=n[a],u=Do(t,e,s,o);if(a?i&&!u||!i&&u:i&&u||!i&&!u){u=t;for(var h=s,p=o;e<h-p;){var l;for(l=0;l<p;++l){var c=u[e+l];u[e+l]=u[h-p+l],u[h-p+l]=c}e+=p,h-=p}}e=s}return e}function Ko(t,e,n,o){var i,r=0,a=0;for(i=e.length;a<i;++a)r=jo(t,r,e[a],n,o);return r}function Bo(t,e){ao.call(this),this.c=[],this.u=-1,this.D=null,this.I=this.B=this.C=-1,this.j=null,this.na(t,e)}function Xo(t){if(t.u!=t.f){var e=$(t.G());t.D=No(t.Tb(),0,t.c,t.a,e,0),t.u=t.f}return t.D}function Uo(t,e,n,o){var r=o?o:32;o=[];var a;for(a=0;a<r;++a)i(o,t.offset(e,n,2*Math.PI*a/r));return o.push(o[0],o[1]),t=new Bo(null),t.aa("XY",o,[o.length]),t}function Yo(t){var e=t[0],n=t[1],o=t[2];return t=t[3],e=[e,n,e,t,o,t,o,n,e,n],n=new Bo(null),n.aa("XY",e,[e.length]),n}function Go(t,e,n){var o=e?e:32,i=t.ma();e=t.ja;var r=new Bo(null,e);o=i*(o+1),i=Array(o);for(var a=0;a<o;a++)i[a]=0;return r.aa(e,i,[i.length]),Wo(r,t.xa(),t.ud(),n),r}function Wo(t,e,n,o){var i=t.ba(),r=t.ja,a=t.ma(),s=t.rb(),u=i.length/a-1;o=o?o:0;for(var h,p,l=0;l<=u;++l)p=l*a,h=o+2*S(l,u)*Math.PI/u,i[p]=e[0]+n*Math.cos(h),i[p+1]=e[1]+n*Math.sin(h);t.aa(r,i,s)}function zo(t){ye.call(this),t=Nv({},t),this.l=[0,0],this.c=[],this.Ff=this.Ff.bind(this),this.v=wt(t.projection),qo(this,t)}function qo(t,e){var n={};n.center=void 0!==e.center?e.center:null;var o=void 0!==e.minZoom?e.minZoom:0,i=void 0!==e.maxZoom?e.maxZoom:28,r=void 0!==e.zoomFactor?e.zoomFactor:2;if(void 0!==e.resolutions){i=e.resolutions;var a=i[0],s=i[i.length-1];i=Rn(i)}else{a=wt(e.projection),s=a.G();var u=(s?Math.max(nt(s),J(s)):360*Ov.degrees/a.Nc())/256/Math.pow(2,0),h=u/Math.pow(2,28);a=e.maxResolution,void 0!==a?o=0:a=u/Math.pow(r,o),s=e.minResolution,void 0===s&&(s=void 0!==e.maxZoom?void 0!==e.maxResolution?a/Math.pow(r,i):u/Math.pow(r,i):h),i=o+Math.floor(Math.log(a/s)/Math.log(r)),s=a/Math.pow(r,i-o),i=Dn(r,a,i-o)}t.a=a,t.i=s,t.B=r,t.j=e.resolutions,t.o=o,(void 0!==e.enableRotation?e.enableRotation:1)?(o=e.constrainRotation,o=void 0===o||!0===o?Bn():!1===o?jn:"number"==typeof o?Kn(o):jn):o=Fn,t.g={center:void 0!==e.extent?$t(e.extent):Zt,resolution:i,rotation:o},void 0!==e.resolution?n.resolution=e.resolution:void 0!==e.zoom&&(n.resolution=t.constrainResolution(t.a,e.zoom-t.o)),n.rotation=void 0!==e.rotation?e.rotation:0,t.H(n),t.D=e}function Ho(t,e){var n=Nv({},t.D);return void 0!==n.resolution?n.resolution=t.Pa():n.zoom=t.Qh(),n.center=t.xa(),n.rotation=t.Qa(),Nv({},n,e)}function Vo(t,e,n){var o=t.xa();if(void 0!==o){var i=[o[0]-n[0],o[1]-n[1]];Vn(i,e-t.Qa()),Yn(i,n)}return i}function $o(t,e,n){var o,i=t.xa();return t=t.Pa(),void 0!==i&&void 0!==t&&(o=[n[0]-e*(n[0]-i[0])/t,n[1]-e*(n[1]-i[1])/t]),o}function Zo(t){var e=[100,100];return t='.ol-viewport[data-view="'+c(t)+'"]',(t=document.querySelector(t))&&(t=getComputedStyle(t),e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)),e}function Jo(t,e){return void 0!==e?(e[0]=t.l[0],e[1]=t.l[1],e):t.l.slice()}function Qo(t){var e=t.a,n=Math.log(e/t.i)/Math.log(2);return function(t){return e/Math.pow(2,t*n)}}function ti(t){var e=t.a,n=Math.log(e/t.i)/Math.log(2);return function(t){return Math.log(e/t)/Math.log(2)/n}}function ei(t){return!!t.xa()&&void 0!==t.Pa()}function ni(t,e,n){t.l[e]+=n,t.s()}function oi(t,e,n){this.i=t,this.c=e,this.g=n,this.b=[],this.a=this.f=0}function ii(t){t.b.length=0,t.f=0,t.a=0}function ri(t){if(6>t.b.length)return!1;var e=Date.now()-t.g,n=t.b.length-3;if(t.b[n+2]<e)return!1;for(var o=n-3;0<o&&t.b[o+2]>e;)o-=3;if(e=t.b[n+2]-t.b[o+2],e<1e3/60)return!1;var i=t.b[n]-t.b[o];return n=t.b[n+1]-t.b[o+1],t.f=Math.atan2(n,i),t.a=Math.sqrt(i*i+n*n)/e,t.a>t.c}function ai(t){ye.call(this),this.v=null,this.Ia(!0),this.handleEvent=t.handleEvent}function si(t,e,n,o){if(void 0!==e){var i=t.Qa(),r=t.xa();void 0!==i&&r&&0<o?t.animate({rotation:e,anchor:n,duration:o,easing:Re}):t.rotate(e,n)}}function ui(t,e,n,o){var i=t.Pa();if(e=t.constrainResolution(i,e,0),n&&void 0!==e&&e!==i){var r=t.xa();n=$o(t,e,n),n=t.Gc(n),n=[(e*r[0]-i*n[0])/(e-i),(e*r[1]-i*n[1])/(e-i)]}hi(t,e,n,o)}function hi(t,e,n,o){if(e){var i=t.Pa(),r=t.xa();void 0!==i&&r&&e!==i&&o?t.animate({resolution:e,anchor:n,duration:o,easing:Re}):(n&&(n=$o(t,e,n),t.qb(n)),t.Yc(e))}}function pi(t){t=t?t:{},this.a=t.delta?t.delta:1,ai.call(this,{handleEvent:li}),this.g=void 0!==t.duration?t.duration:250}function li(t){var e=!1,n=t.originalEvent;if("dblclick"==t.type){e=t.coordinate,n=n.shiftKey?-this.a:this.a;var o=t.map.$();ui(o,n,e,this.g),t.preventDefault(),e=!0}return!e}function ci(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function fi(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function di(t){return t=t.originalEvent,!(t.button||ag&&sg&&t.ctrlKey)}function yi(t){return"pointermove"==t.type}function vi(t){return"singleclick"==t.type}function gi(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function mi(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function bi(t){return t=t.originalEvent.target.tagName,"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t}function _i(t){return d(t.b,56),"mouse"==t.b.pointerType}function xi(t){return t=t.b,t.isPrimary&&0===t.button}function wi(t){t=t?t:{},ai.call(this,{handleEvent:t.handleEvent?t.handleEvent:Si}),this.Hf=t.handleDownEvent?t.handleDownEvent:no,this.Qf=t.handleDragEvent?t.handleDragEvent:l,this.Ck=t.handleMoveEvent?t.handleMoveEvent:l,this.Dk=t.handleUpEvent?t.handleUpEvent:no,this.D=!1,this.ta={},this.l=[]}function Pi(t){for(var e=t.length,n=0,o=0,i=0;i<e;i++)n+=t[i].clientX,o+=t[i].clientY;return[n/e,o/e]}function Si(t){if(!(t instanceof Je))return!0;var e=!1,n=t.type;return"pointerdown"!==n&&"pointerdrag"!==n&&"pointerup"!==n||(n=t.b,"pointerup"==t.type?delete this.ta[n.pointerId]:"pointerdown"==t.type?this.ta[n.pointerId]=n:n.pointerId in this.ta&&(this.ta[n.pointerId]=n),this.l=ut(this.ta)),this.D?"pointerdrag"==t.type?this.Qf(t):"pointerup"==t.type&&(this.D=this.Dk(t)&&0<this.l.length):"pointerdown"==t.type?(this.D=t=this.Hf(t),e=this.$c(t)):"pointermove"==t.type&&this.Ck(t),!e}function Ci(t){wi.call(this,{handleDownEvent:Ai,handleDragEvent:Mi,handleUpEvent:Ti}),t=t?t:{},this.a=t.kinetic,this.g=null,this.u=t.condition?t.condition:gi,this.j=!1}function Mi(t){var e=this.l,n=Pi(e);if(e.length==this.o){if(this.a&&this.a.b.push(n[0],n[1],Date.now()),this.g){var o=this.g[0]-n[0],i=n[1]-this.g[1];t=t.map.$();var r=t.getState();o=[o,i],$n(o,r.resolution),Vn(o,r.rotation),Yn(o,r.center),o=t.Gc(o),t.qb(o)}}else this.a&&ii(this.a);this.g=n,this.o=e.length}function Ti(t){var e=t.map;if(t=e.$(),this.l.length)return this.a&&ii(this.a),this.g=null,!0;if(!this.j&&this.a&&ri(this.a)){var n=this.a;n=(n.c-n.a)/n.i;var o=this.a.f,i=t.xa();i=e.Ka(i),e=e.Xa([i[0]-n*Math.cos(o),i[1]-n*Math.sin(o)]),t.animate({center:t.Gc(e),duration:500,easing:Re})}return ni(t,1,-1),!1}function Ai(t){if(0<this.l.length&&this.u(t)){var e=t.map.$();return this.g=null,this.D||ni(e,1,1),Jo(e)[0]&&e.qb(t.frameState.viewState.center),this.a&&ii(this.a),this.j=1<this.l.length,!0}return!1}function Ei(t){t=t?t:{},wi.call(this,{handleDownEvent:Ni,handleDragEvent:Ii,handleUpEvent:Li}),this.g=t.condition?t.condition:fi,this.a=void 0,this.j=void 0!==t.duration?t.duration:250}function Ii(t){if(_i(t)){var e=t.map,n=e.$();if(n.g.rotation!==Fn){if(e=e.Mb(),t=t.pixel,t=Math.atan2(e[1]/2-t[1],t[0]-e[0]/2),void 0!==this.a){e=t-this.a;var o=n.Qa();si(n,o-e)}this.a=t}}}function Li(t){if(!_i(t))return!0;t=t.map.$(),ni(t,1,-1);var e=t.Qa(),n=this.j;return e=t.constrainRotation(e,0),si(t,e,void 0,n),!1}function Ni(t){return!!(_i(t)&&di(t)&&this.g(t))&&(ni(t.map.$(),1,1),this.a=void 0,!0)}function Oi(t){this.Ic=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+t,this.f=this.c=this.b=null}function ki(t){var e=t.c,n=t.f;t=t.a.style,t.left=Math.min(e[0],n[0])+"px",t.top=Math.min(e[1],n[1])+"px",t.width=Math.abs(n[0]-e[0])+"px",t.height=Math.abs(n[1]-e[1])+"px"}function Ri(t){var e=t.c,n=t.f;e=[e,[e[0],n[1]],n,[n[0],e[1]]].map(t.b.Xa,t.b),e[4]=e[0].slice(),t.Ic?t.Ic.na([e]):t.Ic=new Bo([e])}function Di(t){wi.call(this,{handleDownEvent:Bi,handleDragEvent:ji,handleUpEvent:Ki}),t=t?t:{},this.a=new Oi(t.className||"ol-dragbox"),this.u=void 0!==t.minArea?t.minArea:64,this.g=null,this.B=t.condition?t.condition:eo,this.o=t.boxEndCondition?t.boxEndCondition:Fi}function Fi(t,e,n){return t=n[0]-e[0],e=n[1]-e[1],t*t+e*e>=this.u}function ji(t){if(_i(t)){var e=this.a,n=t.pixel;e.c=this.g,e.f=n,Ri(e),ki(e),this.b(new Xi(Pg,t.coordinate,t))}}function Ki(t){return!_i(t)||(this.a.setMap(null),this.o(t,this.g,t.pixel)&&(this.j(t),this.b(new Xi(Sg,t.coordinate,t))),!1)}function Bi(t){if(_i(t)&&di(t)&&this.B(t)){this.g=t.pixel,this.a.setMap(t.map);var e=this.a,n=this.g;return e.c=this.g,e.f=n,Ri(e),ki(e),this.b(new Xi(wg,t.coordinate,t)),!0}return!1}function Xi(t,e,n){pe.call(this,t),this.coordinate=e,this.mapBrowserEvent=n}function Ui(t){t=t?t:{};var e=t.condition?t.condition:mi;this.C=void 0!==t.duration?t.duration:200,this.I=void 0!==t.out&&t.out,Di.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function Yi(t){ai.call(this,{handleEvent:Gi}),t=t||{},this.a=function(t){return gi(t)&&bi(t)},this.g=t.condition?t.condition:this.a,this.j=void 0!==t.duration?t.duration:100,this.l=void 0!==t.pixelDelta?t.pixelDelta:128}function Gi(t){var e=!1;if("keydown"==t.type){var n=t.originalEvent.keyCode;if(this.g(t)&&(40==n||37==n||39==n||38==n)){e=t.map.$();var o=e.Pa()*this.l,i=0,r=0;40==n?r=-o:37==n?i=-o:39==n?i=o:r=o,o=[i,r],Vn(o,e.Qa()),n=this.j,(i=e.xa())&&(o=e.Gc([i[0]+o[0],i[1]+o[1]]),n?e.animate({duration:n,easing:Fe,center:o}):e.qb(o)),t.preventDefault(),e=!0}}return!e}function Wi(t){ai.call(this,{handleEvent:zi}),t=t?t:{},this.g=t.condition?t.condition:bi,this.a=t.delta?t.delta:1,this.j=void 0!==t.duration?t.duration:100}function zi(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var n=t.originalEvent.charCode;!this.g(t)||43!=n&&45!=n||(e=43==n?this.a:-this.a,n=t.map.$(),ui(n,e,void 0,this.j),t.preventDefault(),e=!0)}return!e}function qi(t){ai.call(this,{handleEvent:Hi}),t=t||{},this.j=0,this.D=void 0!==t.duration?t.duration:250,this.ta=void 0!==t.timeout?t.timeout:80,this.B=void 0===t.useAnchor||t.useAnchor,this.S=t.constrainResolution||!1,this.a=null,this.o=this.l=this.u=this.g=void 0}function Hi(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault(),e=t.map;var n=t.originalEvent;if(this.B&&(this.a=t.coordinate),"wheel"==t.type){var o=n.deltaY;ig&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=ug),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)}else"mousewheel"==t.type&&(o=-n.wheelDeltaY,rg&&(o/=3));if(0===o)return!1;if(t=Date.now(),void 0===this.g&&(this.g=t),(!this.l||400<t-this.g)&&(this.l=4>Math.abs(o)?Cg:Mg),this.l===Cg){e=e.$(),this.o?clearTimeout(this.o):ni(e,1,1),this.o=setTimeout(this.C.bind(this),400),n=e.Pa()*Math.pow(2,o/300);var i=e.i,r=e.a,a=0;if(n<i?(n=Math.max(n,i/1.5),a=1):n>r&&(n=Math.min(n,1.5*r),a=-1),
this.a){var s=$o(e,n,this.a);e.qb(e.Gc(s))}return e.Yc(n),!a&&this.S&&e.animate({resolution:e.constrainResolution(n,0<o?-1:1),easing:Re,anchor:this.a,duration:this.D}),0<a?e.animate({resolution:i,easing:Re,anchor:this.a,duration:500}):0>a&&e.animate({resolution:r,easing:Re,anchor:this.a,duration:500}),this.g=t,!1}return this.j+=o,o=Math.max(this.ta-(t-this.g),0),clearTimeout(this.u),this.u=setTimeout(this.I.bind(this,e),o),!1}function Vi(t){wi.call(this,{handleDownEvent:Ji,handleDragEvent:$i,handleUpEvent:Zi}),t=t||{},this.g=null,this.j=void 0,this.a=!1,this.o=0,this.B=void 0!==t.threshold?t.threshold:.3,this.u=void 0!==t.duration?t.duration:250}function $i(t){var e=0,n=this.l[0],o=this.l[1];if(n=Math.atan2(o.clientY-n.clientY,o.clientX-n.clientX),void 0!==this.j&&(e=n-this.j,this.o+=e,!this.a&&Math.abs(this.o)>this.B&&(this.a=!0)),this.j=n,t=t.map,n=t.$(),n.g.rotation!==Fn){o=t.a.getBoundingClientRect();var i=Pi(this.l);i[0]-=o.left,i[1]-=o.top,this.g=t.Xa(i),this.a&&(o=n.Qa(),t.render(),si(n,o+e,this.g))}}function Zi(t){if(2>this.l.length){if(t=t.map.$(),ni(t,1,-1),this.a){var e=t.Qa(),n=this.g,o=this.u;e=t.constrainRotation(e,0),si(t,e,n,o)}return!1}return!0}function Ji(t){return 2<=this.l.length&&(t=t.map,this.g=null,this.j=void 0,this.a=!1,this.o=0,this.D||ni(t.$(),1,1),!0)}function Qi(t){wi.call(this,{handleDownEvent:nr,handleDragEvent:tr,handleUpEvent:er}),t=t?t:{},this.o=t.constrainResolution||!1,this.g=null,this.u=void 0!==t.duration?t.duration:400,this.a=void 0,this.j=1}function tr(t){var e=1,n=this.l[0],o=this.l[1],i=n.clientX-o.clientX;n=n.clientY-o.clientY,i=Math.sqrt(i*i+n*n),void 0!==this.a&&(e=this.a/i),this.a=i,t=t.map,i=t.$(),o=i.Pa();var r=i.a,a=i.i;n=o*e,n>r?(e=r/o,n=r):n<a&&(e=a/o,n=a),1!=e&&(this.j=e),e=t.a.getBoundingClientRect(),o=Pi(this.l),o[0]-=e.left,o[1]-=e.top,this.g=t.Xa(o),t.render(),hi(i,n,this.g)}function er(t){if(2>this.l.length){t=t.map.$(),ni(t,1,-1);var e=t.Pa();if(this.o||e<t.i||e>t.a){var n=this.g,o=this.u;e=t.constrainResolution(e,0,this.j-1),hi(t,e,n,o)}return!1}return!0}function nr(t){return 2<=this.l.length&&(t=t.map,this.g=null,this.a=void 0,this.j=1,this.D||ni(t.$(),1,1),!0)}function or(t){t=t?t:{};var e=new be,n=new oi(-.005,.05,100);return(void 0!==t.altShiftDragRotate?t.altShiftDragRotate:1)&&e.push(new Ei),(void 0!==t.doubleClickZoom?t.doubleClickZoom:1)&&e.push(new pi({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0!==t.dragPan?t.dragPan:1)&&e.push(new Ci({kinetic:n})),(void 0!==t.pinchRotate?t.pinchRotate:1)&&e.push(new Vi),(void 0!==t.pinchZoom?t.pinchZoom:1)&&e.push(new Qi({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0!==t.keyboard?t.keyboard:1)&&(e.push(new Yi),e.push(new Wi({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0!==t.mouseWheelZoom?t.mouseWheelZoom:1)&&e.push(new qi({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0!==t.shiftDragZoom?t.shiftDragZoom:1)&&e.push(new Ui({duration:t.zoomDuration})),e}function ir(t){ye.call(this);var e=Nv({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0===t.visible||t.visible,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.H(e),this.a={layer:this,Ue:!0}}function rr(t){return t.a.opacity=b(t.hc(),0,1),t.a.Ij=t.hg(),t.a.visible=t.Sb(),t.a.extent=t.G(),t.a.zIndex=t.za(),t.a.maxResolution=t.fc(),t.a.minResolution=Math.max(t.gc(),0),t.a}function ar(t){var e=t||{};t=Nv({},e),delete t.layers,e=e.layers,ir.call(this,t),this.i=[],this.c={},oe(this,ve(Tg),this.Tl,this),e?Array.isArray(e)?e=new be(e.slice(),{unique:!0}):d(e instanceof be,43):e=new be(void 0,{unique:!0}),this.Hi(e)}function sr(t){var e=Nv({},t);delete e.source,ir.call(this,e),this.o=this.l=this.j=null,t.map&&this.setMap(t.map),oe(this,ve("source"),this.gm,this),this.Zc(t.source?t.source:null)}function ur(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function hr(){this.b={},this.a=0}function pr(){return[1,0,0,1,0,0]}function lr(t){return fr(t,1,0,0,1,0,0)}function cr(t,e){var n=t[0],o=t[1],i=t[2],r=t[3],a=t[4],s=t[5],u=e[0],h=e[1],p=e[2],l=e[3],c=e[4];return e=e[5],t[0]=n*u+i*h,t[1]=o*u+r*h,t[2]=n*p+i*l,t[3]=o*p+r*l,t[4]=n*c+i*e+a,t[5]=o*c+r*e+s,t}function fr(t,e,n,o,i,r,a){return t[0]=e,t[1]=n,t[2]=o,t[3]=i,t[4]=r,t[5]=a,t}function dr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function yr(t,e){var n=e[0],o=e[1];return e[0]=t[0]*n+t[2]*o+t[4],e[1]=t[1]*n+t[3]*o+t[5],e}function vr(t,e){var n=Math.cos(e);e=Math.sin(e),cr(t,fr(Eg,n,e,-e,n,0,0))}function gr(t,e,n){return cr(t,fr(Eg,e,0,0,n,0,0))}function mr(t,e,n){cr(t,fr(Eg,1,0,0,1,e,n))}function br(t,e,n,o,i,r,a,s){var u=Math.sin(r);return r=Math.cos(r),t[0]=o*r,t[1]=i*u,t[2]=-o*u,t[3]=i*r,t[4]=a*o*r-s*o*u+e,t[5]=a*i*u+s*i*r+n,t}function _r(t){var e=t[0]*t[3]-t[1]*t[2];d(!!e,32);var n=t[0],o=t[1],i=t[2],r=t[3],a=t[4],s=t[5];return t[0]=r/e,t[1]=-o/e,t[2]=-i/e,t[3]=n/e,t[4]=(i*s-r*a)/e,t[5]=-(n*s-o*a)/e,t}function xr(t,e){this.l=e,this.c={},this.v={}}function wr(t){var e=t.viewState,n=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;br(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),_r(dr(o,n))}function Pr(){if(32<Ag.a){var t,e=0;for(t in Ag.b){var n=Ag.b[t];3&e++||fe(n)||(delete Ag.b[t],--Ag.a)}}}function Sr(t,e){var n=c(e).toString();return n in t.c?t.c[n]:(e=e.Kd(t),t.c[n]=e,t.v[n]=oe(e,"change",t.Rl,t),e)}function Cr(t,e){for(var n in t.c)if(!(n in e.layerStates)){e.postRenderFunctions.push(t.eq.bind(t));break}}function Mr(t,e){return t.zIndex-e.zIndex}function Tr(t,e,n,o,i){pe.call(this,t),this.vectorContext=e,this.frameState=n,this.context=o,this.glContext=i}function Ar(t,e,n,o){e&&(t.translate(n,o),t.rotate(e),t.translate(-n,-o))}function Er(){}function Ir(t,e,n,o,i){this.f=t,this.g=e,this.c=n,this.R=o,this.Zb=i,this.M=this.b=this.a=this.Va=this.S=this.I=null,this.ta=this.U=this.v=this.C=this.B=this.D=0,this.ga=!1,this.i=this.jb=0,this.oa=!1,this.pa=0,this.ua="",this.mc=this.va=0,this.Sa=!1,this.l=this.Za=0,this.qa=this.o=this.j=null,this.u=[],this.Ib=pr()}function Lr(t,e,n){if(t.M){e=io(e,0,n,2,t.R,t.u),n=t.f;var o=t.Ib,i=n.globalAlpha;1!=t.v&&(n.globalAlpha=i*t.v);var r=t.jb;t.ga&&(r+=t.Zb);var a,s=0;for(a=e.length;s<a;s+=2){var u=e[s]-t.D,h=e[s+1]-t.B;if(t.oa&&(u=Math.round(u),h=Math.round(h)),r||1!=t.i){var p=u+t.D,l=h+t.B;br(o,p,l,t.i,t.i,r,-p,-l),n.setTransform.apply(n,o)}n.drawImage(t.M,t.U,t.ta,t.pa,t.C,u,h,t.pa,t.C)}(r||1!=t.i)&&n.setTransform(1,0,0,1,0,0),1!=t.v&&(n.globalAlpha=i)}}function Nr(t,e,n,o){var i=0;if(t.qa&&""!==t.ua){t.j&&Rr(t,t.j),t.o&&Dr(t,t.o);var r=t.qa,a=t.f,s=t.Va;for(s?(s.font!=r.font&&(s.font=a.font=r.font),s.textAlign!=r.textAlign&&(s.textAlign=a.textAlign=r.textAlign),s.textBaseline!=r.textBaseline&&(s.textBaseline=a.textBaseline=r.textBaseline)):(a.font=r.font,a.textAlign=r.textAlign,a.textBaseline=r.textBaseline,t.Va={font:r.font,textAlign:r.textAlign,textBaseline:r.textBaseline}),e=io(e,i,n,o,t.R,t.u),r=t.f,a=t.Za,t.Sa&&(a+=t.Zb);i<n;i+=o){s=e[i]+t.va;var u=e[i+1]+t.mc;if(a||1!=t.l){var h=br(t.Ib,s,u,t.l,t.l,a,-s,-u);r.setTransform.apply(r,h)}t.o&&r.strokeText(t.ua,s,u),t.j&&r.fillText(t.ua,s,u)}(a||1!=t.l)&&r.setTransform(1,0,0,1,0,0)}}function Or(t,e,n,o,i,r){var a=t.f;for(t=io(e,n,o,i,t.R,t.u),a.moveTo(t[0],t[1]),e=t.length,r&&(e-=2),n=2;n<e;n+=2)a.lineTo(t[n],t[n+1]);return r&&a.closePath(),o}function kr(t,e,n,o,i){var r,a=0;for(r=o.length;a<r;++a)n=Or(t,e,n,o[a],i,!0);return n}function Rr(t,e){var n=t.f,o=t.I;o?o.fillStyle!=e.fillStyle&&(o.fillStyle=n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,t.I={fillStyle:e.fillStyle})}function Dr(t,e){var n=t.f,o=t.S;o?(o.lineCap!=e.lineCap&&(o.lineCap=n.lineCap=e.lineCap),hg&&(a(o.lineDash,e.lineDash)||n.setLineDash(o.lineDash=e.lineDash),o.lineDashOffset!=e.lineDashOffset&&(o.lineDashOffset=n.lineDashOffset=e.lineDashOffset)),o.lineJoin!=e.lineJoin&&(o.lineJoin=n.lineJoin=e.lineJoin),o.lineWidth!=e.lineWidth&&(o.lineWidth=n.lineWidth=e.lineWidth),o.miterLimit!=e.miterLimit&&(o.miterLimit=n.miterLimit=e.miterLimit),o.strokeStyle!=e.strokeStyle&&(o.strokeStyle=n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,hg&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,t.S={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function Fr(t,e){xr.call(this,0,e),this.f=Te(),this.b=this.f.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.a=!0,this.i=pr()}function jr(t,e,n){var o=t.l,i=t.f;if(fe(o,e)){var r=n.extent,a=n.pixelRatio,s=n.viewState.rotation,u=n.viewState,h=n.pixelRatio/u.resolution;t=br(t.i,t.b.width/2,t.b.height/2,h,-h,-u.rotation,-u.center[0],-u.center[1]),o.b(new Tr(e,new Ir(i,a,r,t,s),n,i,null))}}function Kr(){}function Br(t){this.b=t}function Xr(t){this.b=t}function Ur(t){this.b=t}function Yr(){this.b="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"}function Gr(){this.b="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"}function Wr(t,e){this.B=t.getUniformLocation(e,"n"),this.pa=t.getUniformLocation(e,"k"),this.c=t.getUniformLocation(e,"j"),this.i=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"m"),this.qa=t.getUniformLocation(e,"l"),this.f=t.getUniformLocation(e,"h"),this.I=t.getUniformLocation(e,"p"),this.S=t.getUniformLocation(e,"o"),this.j=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"e"),this.R=t.getAttribLocation(e,"g")}function zr(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function qr(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function Hr(t,e){this.origin=$(e),this.Ib=pr(),this.Sa=pr(),this.Za=pr(),this.U=zr(),this.b=[],this.j=null,this.f=[],this.i=[],this.a=[],this.o=null,this.g=void 0}function Vr(t,e,n,o){t.drawElements(4,o-n,e.g?5125:5123,n*(e.g?4:2))}function $r(t,e,n,o,i,r){return t=(n-t)*(r-e)-(i-t)*(o-e),t<=Kg&&t>=-Kg?void 0:0<t}function Zr(t){this.b=void 0!==t?t:[],this.a=Bg}function Jr(t,e){Hr.call(this,0,e),this.v=null,this.l=[],this.u=[],this.R=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,s:!1}}function Qr(t,e,n,o){e.uniform4fv(t.v.S,n),e.uniform1f(t.v.pa,o)}function ta(){this.b="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function ea(){this.b="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"}function na(t,e){this.c=t.getUniformLocation(e,"j"),this.i=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"k"),this.f=t.getUniformLocation(e,"h"),this.v=t.getAttribLocation(e,"e"),this.u=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"c"),this.D=t.getAttribLocation(e,"g"),this.C=t.getAttribLocation(e,"d")}function oa(t,e){this.j=t,this.b=e,this.a={},this.c={},this.f={},this.o=this.v=this.i=this.l=null,(this.g=n(Tv,"OES_element_index_uint"))&&e.getExtension("OES_element_index_uint"),oe(this.j,"webglcontextlost",this.kp,this),oe(this.j,"webglcontextrestored",this.lp,this)}function ia(t,e,n){var o=t.b,i=n.b,r=String(c(n));if(r in t.a)o.bindBuffer(e,t.a[r].buffer);else{var a=o.createBuffer();o.bindBuffer(e,a);var s;34962==e?s=new Float32Array(i):34963==e&&(s=t.g?new Uint32Array(i):new Uint16Array(i)),o.bufferData(e,s,n.a),t.a[r]={nc:n,buffer:a}}}function ra(t,e){var n=t.b;e=String(c(e));var o=t.a[e];n.isContextLost()||n.deleteBuffer(o.buffer),delete t.a[e]}function aa(t){if(!t.i){var e=t.b,n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n);var o=pa(e,1,1),i=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,i),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,i),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.i=n,t.v=o,t.o=i}return t.i}function sa(t,e){var n=String(c(e));if(n in t.c)return t.c[n];var o=t.b,i=o.createShader(e.T());return o.shaderSource(i,e.b),o.compileShader(i),t.c[n]=i}function ua(t,e,n){var o=c(e)+"/"+c(n);if(o in t.f)return t.f[o];var i=t.b,r=i.createProgram();return i.attachShader(r,sa(t,e)),i.attachShader(r,sa(t,n)),i.linkProgram(r),t.f[o]=r}function ha(t,e,n){var o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(3553,10242,e),void 0!==n&&t.texParameteri(3553,10243,n),o}function pa(t,e,n){var o=ha(t,void 0,void 0);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),o}function la(t,e){var n=ha(t,33071,33071);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),n}function ca(t,e){Hr.call(this,0,e),this.B=this.D=void 0,this.v=[],this.u=[],this.qa=this.pa=this.height=void 0,this.Va=null,this.width=this.scale=this.rotation=this.rotateWithView=this.S=this.I=this.opacity=void 0}function fa(t,e,n,o,i){var r=t.D,a=t.B,s=t.height,u=t.pa,h=t.qa,p=t.opacity,l=t.I,c=t.S,f=t.rotateWithView?1:0,d=-t.rotation,y=t.scale,v=t.width,g=Math.cos(d);d=Math.sin(d);for(var m,b,_,x,w,P=t.b.length,S=t.a.length;n<o;n+=i)x=e[n]-t.origin[0],w=e[n+1]-t.origin[1],m=S/8,b=-y*r,_=-y*(s-a),t.a[S++]=x,t.a[S++]=w,t.a[S++]=b*g-_*d,t.a[S++]=b*d+_*g,t.a[S++]=l/h,t.a[S++]=(c+s)/u,t.a[S++]=p,t.a[S++]=f,b=y*(v-r),_=-y*(s-a),t.a[S++]=x,t.a[S++]=w,t.a[S++]=b*g-_*d,t.a[S++]=b*d+_*g,t.a[S++]=(l+v)/h,t.a[S++]=(c+s)/u,t.a[S++]=p,t.a[S++]=f,b=y*(v-r),_=y*a,t.a[S++]=x,t.a[S++]=w,t.a[S++]=b*g-_*d,t.a[S++]=b*d+_*g,t.a[S++]=(l+v)/h,t.a[S++]=c/u,t.a[S++]=p,t.a[S++]=f,b=-y*r,_=y*a,t.a[S++]=x,t.a[S++]=w,t.a[S++]=b*g-_*d,t.a[S++]=b*d+_*g,t.a[S++]=l/h,t.a[S++]=c/u,t.a[S++]=p,t.a[S++]=f,t.b[P++]=m,t.b[P++]=m+1,t.b[P++]=m+2,t.b[P++]=m,t.b[P++]=m+2,t.b[P++]=m+3}function da(t,e,n,o){var i,r=e.length;for(i=0;i<r;++i){var a=e[i],s=c(a).toString();s in n?a=n[s]:(a=la(o,a),n[s]=a),t[i]=a}}function ya(t,e){ca.call(this,0,e),this.l=[],this.c=[],this.C=[],this.R=[]}function va(t,e,n){var o=e-n;return t[0]===t[o]&&t[1]===t[o+1]&&3<(e-0)/n&&!!po(t,0,e,n)}function ga(){this.b="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function ma(){this.b="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"}function ba(t,e){this.B=t.getUniformLocation(e,"n"),this.pa=t.getUniformLocation(e,"k"),this.S=t.getUniformLocation(e,"l"),this.c=t.getUniformLocation(e,"j"),this.i=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"m"),this.qa=t.getUniformLocation(e,"p"),this.f=t.getUniformLocation(e,"h"),this.I=t.getUniformLocation(e,"o"),this.g=t.getAttribLocation(e,"g"),this.l=t.getAttribLocation(e,"d"),this.o=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"e")}function _a(t,e){Hr.call(this,0,e),this.v=null,this.u=[],this.l=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,s:!1}}function xa(t,e,n,o){var i,r=t.a.length,s=t.b.length,u="bevel"===t.c.lineJoin?0:"miter"===t.c.lineJoin?1:2,h="butt"===t.c.lineCap?0:"square"===t.c.lineCap?1:2,p=va(e,n,o),l=s,c=1;for(i=0;i<n;i+=o){var f=r/7,d=y,y=v||[e[i],e[i+1]];if(i){if(i===n-o){if(p)var v=g;else d=d||[0,0],r=wa(t,d,y,[0,0],c*zg*(h||1),r),r=wa(t,d,y,[0,0],-c*zg*(h||1),r),t.b[s++]=f,t.b[s++]=l-1,t.b[s++]=l,t.b[s++]=l,t.b[s++]=f+1,t.b[s++]=f,h&&(r=wa(t,d,y,[0,0],c*Hg*h,r),r=wa(t,d,y,[0,0],-c*Hg*h,r),t.b[s++]=f+2,t.b[s++]=f,t.b[s++]=f+1,t.b[s++]=f+1,t.b[s++]=f+3,t.b[s++]=f+2);break}v=[e[i+o],e[i+o+1]]}else{if(v=[e[i+o],e[i+o+1]],n-0===2*o&&a(y,v))break;if(!p){h&&(r=wa(t,[0,0],y,v,c*qg*h,r),r=wa(t,[0,0],y,v,-c*qg*h,r),t.b[s++]=f+2,t.b[s++]=f,t.b[s++]=f+1,t.b[s++]=f+1,t.b[s++]=f+3,t.b[s++]=f+2),r=wa(t,[0,0],y,v,c*Wg*(h||1),r),r=wa(t,[0,0],y,v,-c*Wg*(h||1),r),l=r/7-1;continue}d=[e[n-2*o],e[n-2*o+1]];var g=v}var m=$r(d[0],d[1],y[0],y[1],v[0],v[1])?-1:1;r=wa(t,d,y,v,m*Vg*(u||1),r),r=wa(t,d,y,v,m*$g*(u||1),r),r=wa(t,d,y,v,-m*Zg*(u||1),r),0<i&&(t.b[s++]=f,t.b[s++]=l-1,t.b[s++]=l,t.b[s++]=f+2,t.b[s++]=f,t.b[s++]=0<c*m?l:l-1),t.b[s++]=f,t.b[s++]=f+2,t.b[s++]=f+1,l=f+2,c=m,u&&(r=wa(t,d,y,v,m*Jg*u,r),t.b[s++]=f+1,t.b[s++]=f+3,t.b[s++]=f)}p&&(f=f||r/7,m=Do([d[0],d[1],y[0],y[1],v[0],v[1]],0,6,2)?1:-1,r=wa(t,d,y,v,m*Vg*(u||1),r),wa(t,d,y,v,-m*Zg*(u||1),r),t.b[s++]=f,t.b[s++]=l-1,t.b[s++]=l,t.b[s++]=f+1,t.b[s++]=f,t.b[s++]=0<c*m?l:l-1)}function wa(t,e,n,o,i,r){return t.a[r++]=e[0],t.a[r++]=e[1],t.a[r++]=n[0],t.a[r++]=n[1],t.a[r++]=o[0],t.a[r++]=o[1],t.a[r++]=i,r}function Pa(t,e,n,o){return n-=e,!(n<2*o)&&(n!==2*o||!a([t[e],t[e+1]],[t[e+o],t[e+o+1]]))}function Sa(t,e,n,o){if(va(e,e.length,o)||(e.push(e[0]),e.push(e[1])),xa(t,e,e.length,o),n.length){var i;for(e=0,i=n.length;e<i;++e)va(n[e],n[e].length,o)||(n[e].push(n[e][0]),n[e].push(n[e][1])),xa(t,n[e],n[e].length,o)}}function Ca(t,e,n){n=void 0===n?t.b.length:n,t.f.push(n),t.i.push(e),t.c.s&&(t.l.push(n),t.c.s=!1)}function Ma(t,e,n,o,i){e.uniform4fv(t.v.B,n),e.uniform1f(t.v.pa,o),e.uniform1f(t.v.S,i)}function Ta(){this.b="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function Aa(){this.b="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"}function Ea(t,e){this.B=t.getUniformLocation(e,"e"),this.c=t.getUniformLocation(e,"d"),this.i=t.getUniformLocation(e,"c"),this.a=t.getUniformLocation(e,"f"),this.f=t.getUniformLocation(e,"b"),this.b=t.getAttribLocation(e,"a")}function Ia(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.g=t.lineCap,this.f=void 0!==t.lineDash?t.lineDash:null,this.i=t.lineDashOffset,this.j=t.lineJoin,this.l=t.miterLimit,this.c=t.width,this.a=void 0}function La(t){this.b=this.a=this.f=void 0,this.i=void 0===t||t,this.c=0}function Na(t){var e=t.b;if(e){var n=e.next,o=e.yb;n&&(n.yb=o),o&&(o.next=n),t.b=n||o,t.f===t.a?(t.b=void 0,t.f=void 0,t.a=void 0):t.f===e?t.f=t.b:t.a===e&&(t.a=o?t.b.yb:t.b),t.c--}}function Oa(t){if(t.b=t.f,t.b)return t.b.data}function ka(t){if(t.b&&t.b.next)return t.b=t.b.next,t.b.data}function Ra(t){if(t.b&&t.b.next)return t.b.next.data}function Da(t){if(t.b&&t.b.yb)return t.b=t.b.yb,t.b.data}function Fa(t){if(t.b&&t.b.yb)return t.b.yb.data}function ja(t){if(t.b)return t.b.data}function Ka(t){this.a=em.fe(t),this.b={}}function Ba(t,e,n){var o=t.b[c(n)];U([o.ca,o.ea,o.da,o.ha],e)||(t.remove(n),t.Ga(e,n))}function Xa(t){return t.a.all().map(function(t){return t.value})}function Ua(t,e){return t.a.search({ca:e[0],ea:e[1],da:e[2],ha:e[3]}).map(function(t){return t.value})}function Ya(t,e,n,o){return Ga(Ua(t,e),n,o)}function Ga(t,e,n){for(var o,i=0,r=t.length;i<r&&!(o=e.call(n,t[i]));i++);return o}function Wa(t,e){Hr.call(this,0,e),this.g=new _a(0,e),this.v=null,this.u=[],this.c=[],this.l={fillColor:null,s:!1}}function za(t,e,n,o){var i=new La,r=new Ka;if(qa(t,e,o,i,r,!0),e=Ha(i),n.length){var a,s=[],u=0;for(a=n.length;u<a;++u){var h={list:new La,wc:void 0,Ug:new Ka};s.push(h),qa(t,n[u],o,h.list,h.Ug,!1),Va(h.list,h.Ug,!0),h.wc=Ha(h.list)}for(s.sort(function(t,e){return e.wc[0]===t.wc[0]?t.wc[1]-e.wc[1]:e.wc[0]-t.wc[0]}),u=0;u<s.length;++u){n=s[u].list,a=o=Oa(n);do{if(rs(a,r).length){var p=!0;break}a=ka(n)}while(o!==a);!p&&$a(n,s[u].wc[0],i,e[0],r)&&(r.concat(s[u].Ug),Va(i,r,!1))}}else Va(i,r,!1);Za(t,i,r)}function qa(t,e,n,o,i,r){var a,s=t.a.length/2,u=[],h=[];if(r===Do(e,0,e.length,n)){var p=r=es(t,e[0],e[1],s++),l=n;for(a=e.length;l<a;l+=n){var c=es(t,e[l],e[l+1],s++);h.push(ns(p,c,o)),u.push([Math.min(p.x,c.x),Math.min(p.y,c.y),Math.max(p.x,c.x),Math.max(p.y,c.y)]),p=c}}else for(l=e.length-n,p=r=es(t,e[l],e[l+1],s++),l-=n,a=0;l>=a;l-=n)c=es(t,e[l],e[l+1],s++),h.push(ns(p,c,o)),u.push([Math.min(p.x,c.x),Math.min(p.y,c.y),Math.max(p.x,c.x),Math.max(p.y,c.y)]),p=c;h.push(ns(c,r,o)),u.push([Math.min(p.x,c.x),Math.min(p.y,c.y),Math.max(p.x,c.x),Math.max(p.y,c.y)]),i.load(u,h)}function Ha(t){var e=Oa(t),n=e,o=[n.Z.x,n.Z.y];do n=ka(t),n.Z.x>o[0]&&(o=[n.Z.x,n.Z.y]);while(n!==e);return o}function Va(t,e,n){var o=Oa(t),i=o,r=ka(t),a=!1;do{var s=n?$r(r.W.x,r.W.y,i.W.x,i.W.y,i.Z.x,i.Z.y):$r(i.Z.x,i.Z.y,i.W.x,i.W.y,r.W.x,r.W.y);void 0===s?(os(i,r,t,e),a=!0,r===o&&(o=Ra(t)),r=i,Da(t)):i.W.Eb!==s&&(i.W.Eb=s,a=!0),i=r,r=ka(t)}while(i!==o);return a}function $a(t,e,n,o,i){for(var r=Oa(t);r.W.x!==e;)r=ka(t);e=r.W,o={x:o,y:e.y,kb:-1};var a,s=1/0,u=rs({Z:e,W:o},i,!0),h=0;for(a=u.length;h<a;++h){var p=u[h],l=as(e,o,p.Z,p.W,!0),c=Math.abs(e.x-l[0]);if(c<s&&void 0!==$r(e.x,e.y,p.Z.x,p.Z.y,p.W.x,p.W.y)){s=c;var f={x:l[0],y:l[1],kb:-1};r=p}}if(1/0===s)return!1;if(u=r.W,0<s&&(r=is(e,f,r.W,i),r.length))for(f=1/0,h=0,a=r.length;h<a;++h)s=r[h],p=Math.atan2(e.y-s.y,o.x-s.x),(p<f||p===f&&s.x<u.x)&&(f=p,u=s);for(r=Oa(n);r.W.x!==u.x||r.W.y!==u.y;)r=ka(n);return o={x:e.x,y:e.y,kb:e.kb,Eb:void 0},h={x:r.W.x,y:r.W.y,kb:r.W.kb,Eb:void 0},Ra(t).Z=o,ns(e,r.W,t,i),ns(h,o,t,i),r.W=h,t.i&&t.b&&(t.f=t.b,t.a=t.b.yb),n.concat(t),!0}function Za(t,e,n){for(var o=!1,i=ts(e,n);3<e.c;)if(i){if(!Ja(t,e,n,i,o)&&!Va(e,n,o)&&!Qa(t,e,n,!0))break}else if(!Ja(t,e,n,i,o)&&!Va(e,n,o)&&!Qa(t,e,n)){if(!(i=ts(e,n))){i=t,o=e,r=a=Oa(o);do{if(s=rs(r,n),s.length){for(a=s[0],s=as(r.Z,r.W,a.Z,a.W),s=es(i,s[0],s[1],i.a.length/2),u=new La,h=new Ka,ns(s,r.W,u,h),r.W=s,Ba(n,[Math.min(r.Z.x,s.x),Math.min(r.Z.y,s.y),Math.max(r.Z.x,s.x),Math.max(r.Z.y,s.y)],r),r=ka(o);r!==a;)ns(r.Z,r.W,u,h),n.remove(r),Na(o),r=ja(o);ns(a.Z,s,u,h),a.Z=s,Ba(n,[Math.min(a.W.x,s.x),Math.min(a.W.y,s.y),Math.max(a.W.x,s.x),Math.max(a.W.y,s.y)],a),Va(o,n,!1),Za(i,o,n),Va(u,h,!1),Za(i,u,h);break}r=ka(o)}while(r!==a);break}o=e;var r=2*o.c,a=Array(r),s=Oa(o),u=s,h=0;do a[h++]=u.Z.x,a[h++]=u.Z.y,u=ka(o);while(u!==s);o=!Do(a,0,r,2),Va(e,n,o)}3===e.c&&(i=t.b.length,t.b[i++]=Fa(e).Z.kb,t.b[i++]=ja(e).Z.kb,t.b[i++]=Ra(e).Z.kb)}function Ja(t,e,n,o,i){var r=t.b.length,a=Oa(e),s=Fa(e),u=a,h=ka(e),p=Ra(e),l=!1;do{var c=u.Z,f=u.W,d=h.W;if(!1===f.Eb){var y=o?!is(c,f,d,n,!0).length:i?ss(p.W,d,f,c,s.Z):ss(s.Z,c,f,d,p.W);!o&&rs({Z:c,W:d},n).length||!y||!o&&!1!==c.Eb&&!1!==d.Eb&&Do([s.Z.x,s.Z.y,c.x,c.y,f.x,f.y,d.x,d.y,p.W.x,p.W.y],0,10,2)!==!i||(t.b[r++]=c.kb,t.b[r++]=f.kb,t.b[r++]=d.kb,os(u,h,e,n),h===a&&(a=p),l=!0)}s=Fa(e),u=ja(e),h=ka(e),p=Ra(e)}while(u!==a&&3<e.c);return l}function Qa(t,e,n,o){var i=Oa(e);ka(e);var r=i,a=ka(e),s=!1;do{var u=as(r.Z,r.W,a.Z,a.W,o);if(u){s=t.b.length;var h=t.a.length/2,p=Da(e);Na(e),n.remove(p);var l=p===i;if(o?(u[0]===r.Z.x&&u[1]===r.Z.y?(Da(e),u=r.Z,a.Z=u,n.remove(r),l=l||r===i):(u=a.W,r.W=u,n.remove(a),l=l||a===i),Na(e)):(u=es(t,u[0],u[1],h),r.W=u,a.Z=u,Ba(n,[Math.min(r.Z.x,r.W.x),Math.min(r.Z.y,r.W.y),Math.max(r.Z.x,r.W.x),Math.max(r.Z.y,r.W.y)],r),Ba(n,[Math.min(a.Z.x,a.W.x),Math.min(a.Z.y,a.W.y),Math.max(a.Z.x,a.W.x),Math.max(a.Z.y,a.W.y)],a)),t.b[s++]=p.Z.kb,t.b[s++]=p.W.kb,t.b[s++]=u.kb,s=!0,l)break}r=Fa(e),a=ka(e)}while(r!==i);return s}function ts(t,e){var n=Oa(t),o=n;do{if(rs(o,e).length)return!1;o=ka(t)}while(o!==n);return!0}function es(t,e,n,o){var i=t.a.length;return t.a[i++]=e,t.a[i++]=n,{x:e,y:n,kb:o,Eb:void 0}}function ns(t,e,n,o){var i={Z:t,W:e},r={yb:void 0,next:void 0,data:i},a=n.b;if(a){var s=a.next;r.yb=a,r.next=s,a.next=r,s&&(s.yb=r),a===n.a&&(n.a=r)}else n.f=r,n.a=r,n.i&&(r.next=r,r.yb=r);return n.b=r,n.c++,o&&o.Ga([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],i),i}function os(t,e,n,o){ja(n)===e&&(Na(n),t.W=e.W,o.remove(e),Ba(o,[Math.min(t.Z.x,t.W.x),Math.min(t.Z.y,t.W.y),Math.max(t.Z.x,t.W.x),Math.max(t.Z.y,t.W.y)],t))}function is(t,e,n,o,i){var r,a,s=[],u=Ua(o,[Math.min(t.x,e.x,n.x),Math.min(t.y,e.y,n.y),Math.max(t.x,e.x,n.x),Math.max(t.y,e.y,n.y)]);for(o=0,r=u.length;o<r;++o)for(a in u[o]){var h=u[o][a];"object"!=typeof h||i&&!h.Eb||h.x===t.x&&h.y===t.y||h.x===e.x&&h.y===e.y||h.x===n.x&&h.y===n.y||-1!==s.indexOf(h)||!Io([t.x,t.y,e.x,e.y,n.x,n.y],0,6,2,h.x,h.y)||s.push(h)}return s}function rs(t,e,n){var o=t.Z,i=t.W;e=Ua(e,[Math.min(o.x,i.x),Math.min(o.y,i.y),Math.max(o.x,i.x),Math.max(o.y,i.y)]);var r,a=[],s=0;for(r=e.length;s<r;++s){var u=e[s];t!==u&&(n||u.Z!==i||u.W!==o)&&as(o,i,u.Z,u.W,n)&&a.push(u)}return a}function as(t,e,n,o,i){var r=(o.y-n.y)*(e.x-t.x)-(o.x-n.x)*(e.y-t.y);if(r&&(o=((o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x))/r,n=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/r,!i&&o>Kg&&o<1-Kg&&n>Kg&&n<1-Kg||i&&0<=o&&1>=o&&0<=n&&1>=n))return[t.x+o*(e.x-t.x),t.y+o*(e.y-t.y)]}function ss(t,e,n,o,i){if(void 0===e.Eb||void 0===o.Eb)return!1;var r=(n.x-o.x)*(e.y-o.y)>(n.y-o.y)*(e.x-o.x);return i=(i.x-o.x)*(e.y-o.y)<(i.y-o.y)*(e.x-o.x),t=(t.x-e.x)*(o.y-e.y)>(t.y-e.y)*(o.x-e.x),n=(n.x-e.x)*(o.y-e.y)<(n.y-e.y)*(o.x-e.x),e=e.Eb?n||t:n&&t,(o.Eb?i||r:i&&r)&&e}function us(t,e){this.b=e,this.a=[{x:0,y:0,width:t,height:t}],this.c={},this.f=Te(t,t),this.i=this.f.canvas}function hs(t,e,n,o){e=[e,1],0<n.width&&0<n.height&&e.push(n),0<o.width&&0<o.height&&e.push(o),t.a.splice.apply(t.a,e)}function ps(t){t=t||{},this.a=void 0!==t.initialSize?t.initialSize:256,this.f=void 0!==t.maxSize?t.maxSize:void 0!==Mv?Mv:2048,this.b=void 0!==t.space?t.space:1,this.g=[new us(this.a,this.b)],this.c=this.a,this.i=[new us(this.c,this.b)]}function ls(t,e){var n,o=0;for(n=t.length;o<n;++o){var i=t[o];if(i=i.get(e))return i}return null}function cs(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,mm:e.image}}function fs(t,e,n,o,i,r,a){var s,u=e?t.i:t.g,h=0;for(s=u.length;h<s;++h){var p=u[h];if(p=p.add(n,o,i,r,a))return p;p||h!==s-1||(e?(p=Math.min(2*t.c,t.f),t.c=p):(p=Math.min(2*t.a,t.f),t.a=p),p=new us(p,t.b),u.push(p),++s)}return null}function ds(t,e){ca.call(this,0,e),this.c=[],this.va=[],this.mc=Te(0,0).canvas,this.R={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,
miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ua="",this.ga=this.ta=this.oa=this.jb=void 0,this.C={},this.l=void 0,this.opacity=this.scale=1}function ys(t,e){var n=t.l,o=e.length*n.height;return[e.map(function(e){var o,i=0,r=0;for(o=e.length;r<o;++r){var a=e[r];n.width[a]||vs(t,a),i+=n.width[a]?n.width[a]:0}return i}).reduce(function(t,e){return Math.max(t,e)}),o]}function vs(t,e){if(1===e.length){var n=t.l,o=t.R;t=t.mc.getContext("2d"),t.font=o.font,t=Math.ceil(t.measureText(e).width*o.scale),n.qh.add(e,t,n.height,function(t,n,i){t.font=o.font,t.fillStyle=o.fillColor,t.strokeStyle=o.strokeColor,t.lineWidth=o.lineWidth,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.textAlign="left",t.textBaseline="top",hg&&o.lineDash&&(t.setLineDash(o.lineDash),t.lineDashOffset=o.lineDashOffset),1!==o.scale&&t.setTransform(o.scale,0,0,o.scale,0,0),o.strokeColor&&t.strokeText(e,n,i),o.fillColor&&t.fillText(e,n,i)})&&(n.width[e]=t)}}function gs(t,e,n){this.g=e,this.j=t,this.i=n,this.f={}}function ms(t,e){var n,o=[];for(n in t.f){var i,r=t.f[n];for(i in r)o.push(r[i].xb(e))}return function(){for(var t,e=o.length,n=0;n<e;n++)t=o[n].apply(this,arguments);return t}}function bs(t,e){for(var n in t.f){var o,i=t.f[n];for(o in i)i[o].ab(e)}}function _s(t,e,n,o,i,r,a,s,u,h,p){var l=om,c=Object.keys(t.f).map(Number);c.sort(function(t,e){return e-t});var f,d,y=0;for(f=c.length;y<f;++y){var v=t.f[c[y].toString()];for(d=Og.length-1;0<=d;--d){var g=v[Og[d]];if(void 0!==g&&(g=g.Ma(e,n,o,i,l,r,a,s,u,h,p)))return g}}}function xs(t,e,n,o,i,r,a,s){var u=n.b;return u.bindFramebuffer(u.FRAMEBUFFER,aa(n)),void 0!==_s(t,n,e,o,i,r,a,s,function(){var t=new Uint8Array(4);return u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,t),0<t[3]},!1)}function ws(t,e,n,o,i,r,a){this.b=t,this.f=e,this.c=r,this.i=a,this.l=i,this.j=o,this.g=n,this.a=this.o=this.v=this.u=null}function Ps(t,e,n,o,i){var r=t.b;e=e.b(0,"Text"),e.gb(t.a),e.Qb(n,0,o,i,null,null),e.ab(r),e.Ma(t.b,t.f,t.g,t.j,t.l,t.i,1,{},void 0,!1),e.xb(r)()}function Ss(){this.c=0,this.b={},this.f=this.a=null}function Cs(t,e){xr.call(this,0,e),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.R=this.D=0,this.B=Te(),this.o=!0,this.f=Ze(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.i=new oa(this.b,this.f),oe(this.b,"webglcontextlost",this.no,this),oe(this.b,"webglcontextrestored",this.oo,this),this.a=new Ss,this.u=null,this.j=new An(function(t){var e=t[1];t=t[2];var n=e[0]-this.u[0];return e=e[1]-this.u[1],65536*Math.log(t)+Math.sqrt(n*n+e*e)/t}.bind(this),function(t){return t[0].fb()}),this.C=function(){if(this.j.b.length){Nn(this.j);var t=En(this.j);Ms(this,t[0],t[3],t[4])}return!1}.bind(this),this.g=0,As(this)}function Ms(t,e,n,o){var i=t.f,r=e.fb();if(t.a.b.hasOwnProperty(r))t=t.a.get(r),i.bindTexture(3553,t.Hb),9729!=t.Yh&&(i.texParameteri(3553,10240,9729),t.Yh=9729),9729!=t.$h&&(i.texParameteri(3553,10241,9729),t.$h=9729);else{var a=i.createTexture();if(i.bindTexture(3553,a),0<o){var s=t.B.canvas,u=t.B;t.D!==n[0]||t.R!==n[1]?(s.width=n[0],s.height=n[1],t.D=n[0],t.R=n[1]):u.clearRect(0,0,n[0],n[1]),u.drawImage(e.Y(),o,o,n[0],n[1],0,0,n[0],n[1]),i.texImage2D(3553,0,6408,6408,5121,s)}else i.texImage2D(3553,0,6408,6408,5121,e.Y());i.texParameteri(3553,10240,9729),i.texParameteri(3553,10241,9729),i.texParameteri(3553,10242,33071),i.texParameteri(3553,10243,33071),t.a.set(r,{Hb:a,Yh:9729,$h:9729})}}function Ts(t,e,n){var o=t.l;if(fe(o,e)){t=t.i;var i=n.viewState;o.b(new Tr(e,new ws(t,i.center,i.resolution,i.rotation,n.size,n.extent,n.pixelRatio),n,null,t))}}function As(t){t=t.f,t.activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)}function Es(t){ye.call(this);var e=Is(t);this.ed=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.Id=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.Hf=void 0!==t.pixelRatio?t.pixelRatio:ug,this.Lf=e.logos,this.ga=function(){this.j=void 0,this.fq.call(this,Date.now())}.bind(this),this.Ib=pr(),this.Qf=pr(),this.Zb=0,this.C=this.I=this.S=this.g=this.c=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(fg?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.B=document.createElement("DIV"),this.B.className="ol-overlaycontainer",this.a.appendChild(this.B),this.D=document.createElement("DIV"),this.D.className="ol-overlaycontainer-stopevent";for(var n="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),o=0,i=n.length;o<i;++o)oe(this.D,n[o],le);this.a.appendChild(this.D),this.va=new Sn(this,t.moveTolerance);for(var r in bg)oe(this.va,bg[r],this.Rh,this);this.oa=e.keyboardEventTarget,this.u=null,oe(this.a,"wheel",this.qd,this),oe(this.a,"mousewheel",this.qd,this),this.o=e.controls,this.l=e.interactions,this.v=e.overlays,this.zg={},this.jc=new e.hq(this.a,this),this.U=null,this.Za=[],this.Sa=new On(this.Cl.bind(this),this.jm.bind(this)),this.ta={},oe(this,ve("layergroup"),this.Ql,this),oe(this,ve("view"),this.km,this),oe(this,ve("size"),this.em,this),oe(this,ve("target"),this.im,this),this.H(e.values),this.o.forEach(function(t){t.setMap(this)},this),oe(this.o,"add",function(t){t.element.setMap(this)},this),oe(this.o,"remove",function(t){t.element.setMap(null)},this),this.l.forEach(function(t){t.setMap(this)},this),oe(this.l,"add",function(t){t.element.setMap(this)},this),oe(this.l,"remove",function(t){t.element.setMap(null)},this),this.v.forEach(this.ph,this),oe(this.v,"add",function(t){this.ph(t.element)},this),oe(this.v,"remove",function(t){var e=t.element.g;void 0!==e&&delete this.zg[e.toString()],t.element.setMap(null)},this)}function Is(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n={},o={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)o["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var i=t.logo;"string"==typeof i?o[i]="":i instanceof HTMLElement?o[c(i).toString()]=i:i&&(d("string"==typeof i.href,44),d("string"==typeof i.src,45),o[i.src]=i.href)}i=t.layers instanceof ar?t.layers:new ar({layers:t.layers}),n.layergroup=i,n.target=t.target,n.view=void 0!==t.view?t.view:new zo,i=xr;var r;void 0!==t.renderer?(Array.isArray(t.renderer)?r=t.renderer:"string"==typeof t.renderer?r=[t.renderer]:d(!1,46),0<=r.indexOf("dom")&&(r=r.concat(rm))):r=rm;var a,s=0;for(a=r.length;s<a;++s){var u=r[s];if("canvas"==u){if(pg){i=Fr;break}}else if("webgl"==u&&tg){i=Cs;break}}return void 0!==t.controls?Array.isArray(t.controls)?r=new be(t.controls.slice()):(d(t.controls instanceof be,47),r=t.controls):r=Xe(),void 0!==t.interactions?Array.isArray(t.interactions)?s=new be(t.interactions.slice()):(d(t.interactions instanceof be,48),s=t.interactions):s=or(),void 0!==t.overlays?Array.isArray(t.overlays)?t=new be(t.overlays.slice()):(d(t.overlays instanceof be,49),t=t.overlays):t=new be,{controls:r,interactions:s,keyboardEventTarget:e,logos:o,overlays:t,hq:i,values:n}}function Ls(t){ye.call(this),this.g=t.id,this.o=void 0===t.insertFirst||t.insertFirst,this.v=void 0===t.stopEvent||t.stopEvent,this.c=document.createElement("DIV"),this.c.className="ol-overlay-container ol-selectable",this.c.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.j=t.autoPanAnimation||{},this.l=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={Be:"",Te:"",yf:"",Ef:"",visible:!0},this.i=null,oe(this,ve(am),this.Ll,this),oe(this,ve(sm),this.Vl,this),oe(this,ve(um),this.Zl,this),oe(this,ve(hm),this.am,this),oe(this,ve(pm),this.bm,this),void 0!==t.element&&this.vj(t.element),this.Bj(void 0!==t.offset?t.offset:[0,0]),this.Ej(void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.Ye(t.position)}function Ns(t,e){var n=t.getBoundingClientRect();return t=n.left+window.pageXOffset,n=n.top+window.pageYOffset,[t,n,t+e[0],n+e[1]]}function Os(t,e){t.a.visible!==e&&(t.c.style.display=e?"":"none",t.a.visible=e)}function ks(t){var e=t.Xe(),n=t.gi();if(e&&e.c&&n){n=e.Ka(n);var o=e.Mb();e=t.c.style;var i=t.Lh(),r=t.Mh();Os(t,!0);var a=i[0];i=i[1],"bottom-right"==r||"center-right"==r||"top-right"==r?(""!==t.a.Te&&(t.a.Te=e.left=""),a=o[0]-n[0]-a+"px",t.a.yf!=a&&(t.a.yf=e.right=a)):(""!==t.a.yf&&(t.a.yf=e.right=""),"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(a-=t.c.offsetWidth/2),a=n[0]+a+"px",t.a.Te!=a&&(t.a.Te=e.left=a)),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?(""!==t.a.Ef&&(t.a.Ef=e.top=""),n=o[1]-n[1]-i+"px",t.a.Be!=n&&(t.a.Be=e.bottom=n)):(""!==t.a.Be&&(t.a.Be=e.bottom=""),"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(i-=t.c.offsetHeight/2),n=n[1]+i+"px",t.a.Ef!=n&&(t.a.Ef=e.top=n))}else Os(t,!1)}function Rs(t){function e(t){t=s.$f(t),u.a.$().qb(t),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",e)}function n(t){t=s.$f({clientX:t.clientX-p.offsetWidth/2,clientY:t.clientY+p.offsetHeight/2}),h.Ye(t)}t=t?t:{},this.j=void 0===t.collapsed||t.collapsed,this.l=void 0===t.collapsible||t.collapsible,this.l||(this.j=!1);var o=void 0!==t.className?t.className:"ol-overviewmap",i=void 0!==t.tipLabel?t.tipLabel:"Overview map",r=void 0!==t.collapseLabel?t.collapseLabel:"«";"string"==typeof r?(this.u=document.createElement("span"),this.u.textContent=r):this.u=r,r=void 0!==t.label?t.label:"»","string"==typeof r?(this.D=document.createElement("span"),this.D.textContent=r):this.D=r;var a=this.l&&!this.j?this.u:this.D;r=document.createElement("button"),r.setAttribute("type","button"),r.title=i,r.appendChild(a),oe(r,"click",this.qn,this),this.B=document.createElement("DIV"),this.B.className="ol-overviewmap-map";var s=this.c=new Es({controls:new be,interactions:new be,view:t.view});t.layers&&t.layers.forEach(function(t){s.nh(t)},this),i=document.createElement("DIV"),i.className="ol-overviewmap-box",i.style.boxSizing="border-box",this.o=new Ls({position:[0,0],positioning:"bottom-left",element:i}),this.c.oh(this.o),i=document.createElement("div"),i.className=o+" ol-unselectable ol-control"+(this.j&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),i.appendChild(this.B),i.appendChild(r),Ie.call(this,{element:i,render:t.render?t.render:Ds,target:t.target});var u=this,h=this.o,p=this.o.Xd();p.addEventListener("mousedown",function(){window.addEventListener("mousemove",n),window.addEventListener("mouseup",e)})}function Ds(){var t=this.a,e=this.c;if(t.c&&e.c){var n=t.Mb();t=t.$().gd(n);var o=e.Mb();n=e.$().gd(o);var i=e.Ka(tt(t)),r=e.Ka(V(t));e=Math.abs(i[0]-r[0]),i=Math.abs(i[1]-r[1]),r=o[0],o=o[1],e<.1*r||i<.1*o||e>.75*r||i>.75*o?Fs(this):k(n,t)||(t=this.c,n=this.a.$(),t.$().qb(n.xa()))}js(this)}function Fs(t){var e=t.a;t=t.c;var n=e.Mb();e=e.$().gd(n),t=t.$(),rt(e,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),t.Xf(e)}function js(t){var e=t.a,n=t.c;if(e.c&&n.c){var o=e.Mb(),i=e.$(),r=n.$();n=i.Qa(),e=t.o;var a=t.o.Xd(),s=i.gd(o);if(o=r.Pa(),i=H(s),r=et(s),t=t.a.$().xa()){var u=[i[0]-t[0],i[1]-t[1]];Vn(u,n),Yn(u,t)}e.Ye(u),a&&(a.style.width=Math.abs((i[0]-r[0])/o)+"px",a.style.height=Math.abs((r[1]-i[1])/o)+"px")}}function Ks(t){t.element.classList.toggle("ol-collapsed"),t.j?Ae(t.u,t.D):Ae(t.D,t.u),t.j=!t.j;var e=t.c;t.j||e.c||(e.Ed(),Fs(t),ie(e,"postrender",function(){js(this)},t))}function Bs(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-scale-line";this.l=document.createElement("DIV"),this.l.className=e+"-inner",this.c=document.createElement("DIV"),this.c.className=e+" ol-unselectable",this.c.appendChild(this.l),this.u=null,this.o=void 0!==t.minWidth?t.minWidth:64,this.j=!1,this.C=void 0,this.D="",Ie.call(this,{element:this.c,render:t.render?t.render:Xs,target:t.target}),oe(this,ve(cm),this.U,this),this.I(t.units||"metric")}function Xs(t){(t=t.frameState)?this.u=t.viewState:this.u=null,Us(this)}function Us(t){var e=t.u;if(e){var n=e.center,o=e.projection,i=t.B();e=mt(o,e.resolution,n,"degrees"==i?"degrees":"m");var r=t.o*e;for(n="","degrees"==i?(n=Ov.degrees,"degrees"==o.b?r*=n:e/=n,r<n/60?(n="″",e*=3600):r<n?(n="′",e*=60):n="°"):"imperial"==i?.9144>r?(n="in",e/=.0254):1609.344>r?(n="ft",e/=.3048):(n="mi",e/=1609.344):"nautical"==i?(e/=1852,n="nm"):"metric"==i?.001>r?(n="μm",e*=1e6):1>r?(n="mm",e*=1e3):1e3>r?n="m":(n="km",e/=1e3):"us"==i?.9144>r?(n="in",e*=39.37):1609.344>r?(n="ft",e/=.30480061):(n="mi",e/=1609.3472):d(!1,33),i=3*Math.floor(Math.log(t.o*e)/Math.log(10));;){if(r=lm[(i%3+3)%3]*Math.pow(10,Math.floor(i/3)),o=Math.round(r/e),isNaN(o))return t.c.style.display="none",void(t.j=!1);if(o>=t.o)break;++i}e=r+" "+n,t.D!=e&&(t.l.innerHTML=e,t.D=e),t.C!=o&&(t.l.style.width=o+"px",t.C=o),t.j||(t.c.style.display="",t.j=!0)}else t.j&&(t.c.style.display="none",t.j=!1)}function Ys(t){t=t?t:{},this.c=void 0,this.j=fm,this.D=this.o=0,this.I=null,this.ta=!1,this.U=void 0!==t.duration?t.duration:200;var e=void 0!==t.className?t.className:"ol-zoomslider",n=document.createElement("button");n.setAttribute("type","button"),n.className=e+"-thumb ol-unselectable";var o=document.createElement("div");o.className=e+" ol-unselectable ol-control",o.appendChild(n),this.l=new dn(o),oe(this.l,"pointerdown",this.Kl,this),oe(this.l,"pointermove",this.Il,this),oe(this.l,"pointerup",this.Jl,this),oe(o,"click",this.Hl,this),oe(n,"click",le),Ie.call(this,{element:o,render:t.render?t.render:Gs})}function Gs(t){if(t.frameState){if(!this.ta){var e=this.element,n=e.offsetWidth,o=e.offsetHeight,i=e.firstElementChild,r=getComputedStyle(i);e=i.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),i=i.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom),this.I=[e,i],n>o?(this.j=1,this.D=n-e):(this.j=fm,this.o=o-i),this.ta=!0}t=t.frameState.viewState.resolution,t!==this.c&&(this.c=t,Ws(this,t))}}function Ws(t,e){e=1-ti(t.a.$())(e);var n=t.element.firstElementChild;1==t.j?n.style.left=t.D*e+"px":n.style.top=t.o*e+"px"}function zs(t,e){return Qo(t.a.$())(1-e)}function qs(t){t=t?t:{},this.c=t.extent?t.extent:null;var e=void 0!==t.className?t.className:"ol-zoom-extent",n=void 0!==t.label?t.label:"E",o=void 0!==t.tipLabel?t.tipLabel:"Fit to extent",i=document.createElement("button");i.setAttribute("type","button"),i.title=o,i.appendChild("string"==typeof n?document.createTextNode(n):n),oe(i,"click",this.j,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(i),Ie.call(this,{element:n,target:t.target})}function Hs(t){ye.call(this),t=t?t:{},this.a=null,oe(this,ve(mm),this.Jm,this),this.og(void 0!==t.tracking&&t.tracking)}function Vs(t){this.i=t.opacity,this.o=t.rotateWithView,this.g=t.rotation,this.a=t.scale,this.v=t.snapToPixel}function $s(t){this.D=this.u=this.c=null,this.Wa=void 0!==t.fill?t.fill:null,this.pa=[0,0],this.l=t.points,this.b=void 0!==t.radius?t.radius:t.radius1,this.f=t.radius2,this.j=void 0!==t.angle?t.angle:0,this.Ua=void 0!==t.stroke?t.stroke:null,this.C=this.qa=this.B=null,this.R=t.atlasManager,Zs(this,this.R),Vs.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function Zs(t,e){var n="",o="",i=0,r=null,a=0,s=0;if(t.Ua){var u=t.Ua.b;null===u&&(u=Ng),u=Me(u),s=t.Ua.c,void 0===s&&(s=1),r=t.Ua.f,a=t.Ua.i,hg||(r=null,a=0),o=t.Ua.j,void 0===o&&(o="round"),n=t.Ua.g,void 0===n&&(n="round"),i=t.Ua.l,void 0===i&&(i=10)}var h=2*(t.b+s)+1;if(n={strokeStyle:u,Jj:s,size:h,lineCap:n,lineDash:r,lineDashOffset:a,lineJoin:o,miterLimit:i},void 0===e){var p=Te(h,h);t.u=p.canvas,e=h=t.u.width,t.yh(n,p,0,0),t.Wa?t.D=t.u:(p=Te(n.size,n.size),t.D=p.canvas,t.xh(n,p,0,0))}else h=Math.round(h),(o=!t.Wa)&&(p=t.xh.bind(t,n)),t.Ua?(i=t.Ua,void 0===i.a&&(i.a="s",i.a=i.b?"string"==typeof i.b?i.a+i.b:i.a+c(i.b).toString():i.a+"-",i.a+=","+(void 0!==i.g?i.g.toString():"-")+","+(i.f?i.f.toString():"-")+","+(void 0!==i.i?i.i:"-")+","+(void 0!==i.j?i.j:"-")+","+(void 0!==i.l?i.l.toString():"-")+","+(void 0!==i.c?i.c.toString():"-")),i=i.a):i="-",t.Wa?(r=t.Wa,void 0===r.a&&(r.a=r.b instanceof CanvasPattern||r.b instanceof CanvasGradient?c(r.b).toString():"f"+(r.b?Se(r.b):"-")),r=r.a):r="-",t.c&&i==t.c[1]&&r==t.c[2]&&t.b==t.c[3]&&t.f==t.c[4]&&t.j==t.c[5]&&t.l==t.c[6]||(t.c=["r"+i+r+(void 0!==t.b?t.b.toString():"-")+(void 0!==t.f?t.f.toString():"-")+(void 0!==t.j?t.j.toString():"-")+(void 0!==t.l?t.l.toString():"-"),i,r,t.b,t.f,t.j,t.l]),p=e.add(t.c[0],h,h,t.yh.bind(t,n),p),t.u=p.image,t.pa=[p.offsetX,p.offsetY],e=p.image.width,t.D=o?p.mm:t.u;t.B=[h/2,h/2],t.qa=[h,h],t.C=[e,e]}function Js(t){t=t||{},$s.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function Qs(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.a=void 0}function tu(t){t=t||{},this.Ic=null,this.$a=iu,void 0!==t.geometry&&this.Ra(t.geometry),this.Wa=void 0!==t.fill?t.fill:null,this.M=void 0!==t.image?t.image:null,this.jc=t.renderer?t.renderer:null,this.Ua=void 0!==t.stroke?t.stroke:null,this.ua=void 0!==t.text?t.text:null,this.Pj=t.zIndex}function eu(t){if("function"!=typeof t){if(Array.isArray(t))var e=t;else d(t instanceof tu,41),e=[t];t=function(){return e}}return t}function nu(){if(!bm){var t=new Qs({color:"rgba(255,255,255,0.4)"}),e=new Ia({color:"#3399CC",width:1.25});bm=[new tu({image:new Js({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return bm}function ou(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t.Polygon=[new tu({fill:new Qs({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new tu({stroke:new Ia({color:e,width:5})}),new tu({stroke:new Ia({color:n,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new tu({image:new Js({radius:6,fill:new Qs({color:n}),stroke:new Ia({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function iu(t){return t.V()}function ru(t){ye.call(this),this.a=void 0,this.c="geometry",this.g=null,this.j=void 0,this.i=null,oe(this,ve(this.c),this.Pe,this),void 0!==t&&(t instanceof oo||!t?this.Ra(t):this.H(t))}function au(t){var e;if("function"==typeof t)e=2==t.length?function(e){return t(this,e)}:t;else{if(Array.isArray(t))var n=t;else d(t instanceof tu,41),n=[t];e=function(){return n}}return e}function su(t,e){return _m.createElementNS(t,e)}function uu(t,e){return hu(t,e,[]).join("")}function hu(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)hu(t,e,n);return n}function pu(t){return t instanceof Document}function lu(t){return t instanceof Node}function cu(t){return(new DOMParser).parseFromString(t,"application/xml")}function fu(t,e){return function(n,o){n=t.call(e,n,o),void 0!==n&&i(o[o.length-1],n)}}function du(t,e){return function(n,o){n=t.call(void 0!==e?e:this,n,o),void 0!==n&&o[o.length-1].push(n)}}function yu(t,e){return function(n,o){n=t.call(void 0!==e?e:this,n,o),void 0!==n&&(o[o.length-1]=n)}}function vu(t){return function(e,n){var o=t.call(this,e,n);if(void 0!==o){n=n[n.length-1],e=e.localName;var i;i=e in n?n[e]:n[e]=[],i.push(o)}}}function gu(t,e){return function(n,o){var i=t.call(this,n,o);void 0!==i&&(o[o.length-1][void 0!==e?e:n.localName]=i)}}function mu(t,e){return function(n,o,i){t.call(void 0!==e?e:this,n,o,i),i[i.length-1].node.appendChild(n)}}function bu(t){var e,n;return function(o,i,r){if(!e){e={};var a={};a[o.localName]=t,e[o.namespaceURI]=a,n=_u(o.localName)}Cu(e,n,i,r)}}function _u(t,e){return function(n,o,i){return n=o[o.length-1].node,o=t,void 0===o&&(o=i),i=e,void 0===e&&(i=n.namespaceURI),su(i,o)}}function xu(t,e){for(var n=e.length,o=Array(n),i=0;i<n;++i)o[i]=t[e[i]];return o}function wu(t,e,n){n=void 0!==n?n:{};var o,i=0;for(o=t.length;i<o;++i)n[t[i]]=e;return n}function Pu(t,e,n,o){for(e=e.firstElementChild;e;e=e.nextElementSibling){var i=t[e.namespaceURI];void 0!==i&&(i=i[e.localName])&&i.call(o,e,n)}}function Su(t,e,n,o,i){return o.push(t),Pu(e,n,o,i),o.pop()}function Cu(t,e,n,o,i,r){for(var a,s,u=(void 0!==i?i:n).length,h=0;h<u;++h)a=n[h],void 0!==a&&(s=e.call(r,a,o,void 0!==i?i[h]:void 0),void 0!==s&&t[s.namespaceURI][s.localName].call(r,s,a,o))}function Mu(t,e,n,o,i,r,a){i.push(t),Cu(e,n,o,i,r,a),i.pop()}function Tu(t,e,n,o){return function(i,r,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(i,r,a):t,!0),"arraybuffer"==e.T()&&(s.responseType="arraybuffer"),s.onload=function(){if(!s.status||200<=s.status&&300>s.status){var t=e.T();if("json"==t||"text"==t)var i=s.responseText;else"xml"==t?(i=s.responseXML)||(i=cu(s.responseText)):"arraybuffer"==t&&(i=s.response);i?n.call(this,e.Oa(i,{featureProjection:a}),e.nb(i),e.eg()):o.call(this)}else o.call(this)}.bind(this),s.onerror=function(){o.call(this)}.bind(this),s.send()}}function Au(t,e){return Tu(t,e,function(t){this.Ec(t)},l)}function Eu(){this.i=this.defaultDataProjection=null}function Iu(t,e,n){var o;return n&&(o={dataProjection:n.dataProjection?n.dataProjection:t.nb(e),featureProjection:n.featureProjection}),Lu(t,o)}function Lu(t,e){return Nv({dataProjection:t.defaultDataProjection,featureProjection:t.i},e)}function Nu(t,e,n){var o,i=n?Ct(n.featureProjection):null,r=n?Ct(n.dataProjection):null;if(o=i&&r&&!Mt(i,r)?t instanceof oo?(e?t.clone():t).wb(e?i:r,e?r:i):Nt(t,r,i):t,e&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals);o===t&&(o=o.clone()),o.Fc(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t})}return o}function Ou(){Eu.call(this)}function ku(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function Ru(t,n,o,i,r,a){var s=NaN,u=NaN,h=(o-n)/i;if(1===h)s=t[n],u=t[n+1];else if(2==h)s=(1-r)*t[n]+r*t[n+i],u=(1-r)*t[n+1]+r*t[n+i+1];else if(h){u=t[n],h=t[n+1];var p=0;s=[0];var l;for(l=n+i;l<o;l+=i){var c=t[l],f=t[l+1];p+=Math.sqrt((c-u)*(c-u)+(f-h)*(f-h)),s.push(p),u=c,h=f}for(o=r*p,h=0,p=s.length,l=!1;h<p;)r=h+(p-h>>1),u=+e(s[r],o),0>u?h=r+1:(p=r,l=!u);r=l?h:~h,0>r?(o=(o-s[-r-2])/(s[-r-1]-s[-r-2]),n+=(-r-2)*i,s=C(t[n],t[n+i],o),u=C(t[n+1],t[n+i+1],o)):(s=t[n+r*i],u=t[n+r*i+1])}return a?(a[0]=s,a[1]=u,a):[s,u]}function Du(t,e,n,o,i,r){if(n==e)return null;if(i<t[e+o-1])return r?(n=t.slice(e,e+o),n[o-1]=i,n):null;if(t[n-1]<i)return r?(n=t.slice(n-o,n),n[o-1]=i,n):null;if(i==t[e+o-1])return t.slice(e,e+o);for(e/=o,n/=o;e<n;)r=e+n>>1,i<t[(r+1)*o-1]?n=r:e=r+1;if(n=t[e*o-1],i==n)return t.slice((e-1)*o,(e-1)*o+o);r=(i-n)/(t[(e+1)*o-1]-n),n=[];var a;for(a=0;a<o-1;++a)n.push(C(t[(e-1)*o+a],t[e*o+a],r));return n.push(i),n}function Fu(t,e,n,o,i,r){var a=0;if(r)return Du(t,a,e[e.length-1],n,o,i);if(o<t[n-1])return i?(t=t.slice(0,n),t[n-1]=o,t):null;if(t[t.length-1]<o)return i?(t=t.slice(t.length-n),t[n-1]=o,t):null;for(i=0,r=e.length;i<r;++i){var s=e[i];if(a!=s){if(o<t[a+n-1])break;if(o<=t[s-1])return Du(t,a,s,n,o,!1);a=s}}return null}function ju(t,e){ao.call(this),this.c=null,this.u=this.D=this.j=-1,this.na(t,e)}function Ku(t){return t.j!=t.f&&(t.c=t.Eh(.5,t.c),t.j=t.f),t.c}function Bu(t,e){ao.call(this),this.c=[],this.j=this.u=-1,this.na(t,e)}function Xu(t){var e=[],n=t.A,o=0,r=t.c;t=t.a;var a,s=0;for(a=r.length;s<a;++s){var u=r[s];o=Ru(n,o,u,t,.5),i(e,o),o=u}return e}function Uu(t,e){var n,o=t.ja,r=[],a=[],s=0;for(n=e.length;s<n;++s){var u=e[s];s||(o=u.ja),i(r,u.ba()),a.push(r.length)}t.aa(o,r,a)}function Yu(t,e){ao.call(this),this.na(t,e)}function Gu(t,e){ao.call(this),this.c=[],this.u=-1,this.D=null,this.I=this.B=this.C=-1,this.j=null,this.na(t,e)}function Wu(t){if(t.u!=t.f){var e,n=t.A,o=t.c,i=t.a,r=0,a=[],s=0;for(e=o.length;s<e;++s){var u=o[s];r=X(n,r,u[0],i),a.push((r[0]+r[2])/2,(r[1]+r[3])/2),r=u[u.length-1]}for(n=zu(t),o=t.c,i=t.a,s=0,e=[],u=0,r=o.length;u<r;++u){var h=o[u];e=No(n,s,h,i,a,2*u,e),s=h[h.length-1]}t.D=e,t.u=t.f}return t.D}function zu(t){if(t.I!=t.f){var e=t.A;t:{var n,o=t.c,i=0;for(n=o.length;i<n;++i)if(!Fo(e,o[i],t.a,void 0)){o=!1;break t}o=!0}o?t.j=e:(t.j=e.slice(),t.j.length=Ko(t.j,t.c,t.a)),t.I=t.f}return t.j}function qu(t,e,n,o){uo(t,e,n),t.c=o,t.s()}function Hu(t,e){var n,o=t.ja,r=[],a=[],s=0;for(n=e.length;s<n;++s){var u=e[s];s||(o=u.ja);var h,p=r.length,l=u.rb(),c=0;for(h=l.length;c<h;++c)l[c]+=p;i(r,u.ba()),a.push(l)}qu(t,o,r,a)}function Vu(t){t=t?t:{},Eu.call(this),this.b=t.geometryName}function $u(t,e){if(!t)return null;if("number"==typeof t.x&&"number"==typeof t.y)var n="Point";else if(t.points)n="MultiPoint";else if(t.paths)n=1===t.paths.length?"LineString":"MultiLineString";else if(t.rings){var o=t.rings,i=Zu(t),r=[],a=[];n=[];var s,u=0;for(s=o.length;u<s;++u)r.length=0,bo(r,0,o[u],i.length),Do(r,0,r.length,i.length)?a.push([o[u]]):n.push(o[u]);for(;n.length;){for(o=n.shift(),i=!1,u=a.length-1;0<=u;u--)if(k(new Mo(a[u][0]).G(),new Mo(o).G())){a[u].push(o),i=!0;break}i||a.push([o.reverse()])}t=Nv({},t),1===a.length?(n="Polygon",t.rings=a[0]):(n="MultiPolygon",t.rings=a)}return Nu((0,wm[n])(t),!1,e)}function Zu(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function Ju(t){return t=t.ja,{hasZ:"XYZ"===t||"XYZM"===t,hasM:"XYM"===t||"XYZM"===t}}function Qu(t,e){return(0,Pm[t.T()])(Nu(t,!0,e),e)}function th(t){this.lc=t}function eh(t,e){this.lc=t,this.b=Array.prototype.slice.call(arguments,1),d(2<=this.b.length,57)}function nh(t){var e=["And"].concat(Array.prototype.slice.call(arguments));eh.apply(this,e)}function oh(t,e,n){this.lc="BBOX",this.geometryName=t,this.extent=e,this.srsName=n}function ih(t,e){this.lc=t,this.b=e}function rh(t,e,n){ih.call(this,"During",t),this.a=e,this.f=n}function ah(t,e,n,o){ih.call(this,t,e),this.f=n,this.a=o}function sh(t,e,n){ah.call(this,"PropertyIsEqualTo",t,e,n)}function uh(t,e){ah.call(this,"PropertyIsGreaterThan",t,e)}function hh(t,e){ah.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)}function ph(t,e,n,o){this.lc=t,this.geometryName=e||"the_geom",this.geometry=n,this.srsName=o}function lh(t,e,n){ph.call(this,"Intersects",t,e,n)}function ch(t,e,n){ih.call(this,"PropertyIsBetween",t),this.a=e,this.f=n}function fh(t,e,n,o,i,r){ih.call(this,"PropertyIsLike",t),this.c=e,this.g=void 0!==n?n:"*",this.i=void 0!==o?o:".",this.f=void 0!==i?i:"!",this.a=r}function dh(t){ih.call(this,"PropertyIsNull",t)}function yh(t,e){ah.call(this,"PropertyIsLessThan",t,e)}function vh(t,e){ah.call(this,"PropertyIsLessThanOrEqualTo",t,e)}function gh(t){this.lc="Not",this.condition=t}function mh(t,e,n){ah.call(this,"PropertyIsNotEqualTo",t,e,n)}function bh(t){var e=["Or"].concat(Array.prototype.slice.call(arguments));eh.apply(this,e)}function _h(t,e,n){ph.call(this,"Within",t,e,n)}function xh(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(nh,e))}function wh(t,e,n){return new oh(t,e,n)}function Ph(t){oo.call(this),this.a=t?t:null,Mh(this)}function Sh(t){var e,n=[],o=0;for(e=t.length;o<e;++o)n.push(t[o].clone());return n}function Ch(t){var e;if(t.a){var n=0;for(e=t.a.length;n<e;++n)re(t.a[n],"change",t.s,t)}}function Mh(t){var e;if(t.a){var n=0;for(e=t.a.length;n<e;++n)oe(t.a[n],"change",t.s,t)}}function Th(t){t=t?t:{},Eu.call(this),this.defaultDataProjection=Ct(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.i=Ct(t.featureProjection)),this.b=t.geometryName}function Ah(t,e){return t?Nu((0,Sm[t.type])(t),!1,e):null}function Eh(t,e){return(0,Cm[t.T()])(Nu(t,!0,e),e)}function Ih(){this.f=new XMLSerializer,Eu.call(this)}function Lh(t,e,n){return t=Nh(t,e,n),0<t.length?t[0]:null}function Nh(t,e,n){var o=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&i(o,t.Ac(e,n));return o}function Oh(t){t=t?t:{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:yu(Oh.prototype.he),featureMembers:yu(Oh.prototype.he)},Ih.call(this)}function kh(t){return t=uu(t,!1),Rh(t)}function Rh(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function Dh(t){return t=uu(t,!1),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function Fh(t){return t=uu(t,!1),jh(t)}function jh(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function Kh(t){return t=uu(t,!1),Bh(t)}function Bh(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function Xh(t){return uu(t,!1).trim()}function Uh(t,e){Wh(t,e?"1":"0")}function Yh(t,e){t.appendChild(_m.createTextNode(e.toPrecision()))}function Gh(t,e){t.appendChild(_m.createTextNode(e.toString()))}function Wh(t,e){t.appendChild(_m.createTextNode(e))}function zh(t){t=t?t:{},Oh.call(this,t),this.o=void 0!==t.surface&&t.surface,this.c=void 0!==t.curve&&t.curve,this.g=void 0===t.multiCurve||t.multiCurve,this.j=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",this.hasZ=void 0!==t.hasZ&&t.hasZ}function qh(t,e,n){var o=n[n.length-1];n=o.hasZ,o=o.srsName,e=e.X();for(var i,r=e.length,a=Array(r),s=0;s<r;++s){i=e[s];var u=s,h=n,p="enu";o&&(p=Ct(o).a),p="en"===p.substr(0,2)?i[0]+" "+i[1]:i[1]+" "+i[0],h&&(p+=" "+(i[2]||0)),a[u]=p}Wh(t,a.join(" "))}function Hh(t){t=t?t:{},Oh.call(this,t),this.b["http://www.opengis.net/gml"].featureMember=du(Oh.prototype.he),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function Vh(t){return t=su(t,"coordinates"),t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}function $h(t,e,n){var o=n[n.length-1];n=o.hasZ,o=o.srsName,e=e.X();for(var i,r=e.length,a=Array(r),s=0;s<r;++s)i=e[s],a[s]=Zh(i,o,n);Wh(t,a.join(" "))}function Zh(t,e,n){var o="enu";return e&&(o=Ct(e).a),e="en"===o.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0],n&&(e+=","+(t[2]||0)),e}function Jh(t){t=t?t:{},Ih.call(this),this.defaultDataProjection=Ct("EPSG:4326"),this.b=t.readExtensions}function Qh(t,e,n,o){return t.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in o?(t.push(o.ele),delete o.ele,e.hasZ=!0):t.push(0),"time"in o?(t.push(o.time),
delete o.time,e.hasM=!0):t.push(0),t}function tp(t,e,n){var o="XY",i=2;if(t.hasZ&&t.hasM?(o="XYZM",i=4):t.hasZ?(o="XYZ",i=3):t.hasM&&(o="XYM",i=3),4!==i){var r,a=0;for(r=e.length/4;a<r;a++)e[a*i]=e[4*a],e[a*i+1]=e[4*a+1],t.hasZ&&(e[a*i+2]=e[4*a+2]),t.hasM&&(e[a*i+2]=e[4*a+3]);if(e.length=e.length/4*i,n)for(a=0,r=n.length;a<r;a++)n[a]=n[a]/4*i}return o}function ep(t,e){var n=e[e.length-1],o=t.getAttribute("href");null!==o&&(n.link=o),Pu(Gm,t,e)}function np(t,e){e[e.length-1].extensionsNode_=t}function op(t,e){var n=e[0];if(t=Su({flatCoordinates:[],layoutOptions:{}},Wm,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var o=t.layoutOptions;delete t.layoutOptions,o=tp(o,e);var i=new ju(null);return i.aa(o,e),Nu(i,!1,n),n=new ru(i),n.H(t),n}}function ip(t,e){var n=e[0];if(t=Su({flatCoordinates:[],ends:[],layoutOptions:{}},qm,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var o=t.ends;delete t.ends;var i=t.layoutOptions;delete t.layoutOptions,i=tp(i,e,o);var r=new Bu(null);return r.aa(i,e,o),Nu(r,!1,n),n=new ru(r),n.H(t),n}}function rp(t,e){var n=e[0];if(e=Su({},$m,t,e)){var o={};return t=Qh([],o,t,e),o=tp(o,t),t=new Ao(t,o),Nu(t,!1,n),n=new ru(t),n.H(e),n}}function ap(t,e){e||(e=[]);for(var n=0,o=e.length;n<o;++n){var i=e[n];if(t.b){var r=i.get("extensionsNode_")||null;t.b(i,r)}i.set("extensionsNode_",void 0)}}function sp(t,e,n){t.setAttribute("href",e),e=n[n.length-1].properties,Mu({node:t},Jm,xm,[e.linkText,e.linkType],n,Zm)}function up(t,e,n){var o=n[n.length-1],i=o.node.namespaceURI,r=o.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),o.geometryLayout){case"XYZM":e[3]&&(r.time=e[3]);case"XYZ":e[2]&&(r.ele=e[2]);break;case"XYM":e[2]&&(r.time=e[2])}e="rtept"==t.nodeName?eb[i]:ab[i],o=xu(r,e),Mu({node:t,properties:r},sb,xm,o,n,e)}function hp(t,e){if((t=t.V())&&(t=ub[t.T()]))return su(e[e.length-1].node.namespaceURI,t)}function pp(){Eu.call(this)}function lp(t){return"string"==typeof t?t:""}function cp(t){t=t?t:{},Eu.call(this),this.defaultDataProjection=Ct("EPSG:4326"),this.b=t.altitudeMode?t.altitudeMode:"none"}function fp(t,e,n,o,i,r){ce.call(this),this.j=null,this.M=t?t:new Image,null!==o&&(this.M.crossOrigin=o),this.c=r?document.createElement("CANVAS"):null,this.g=r,this.i=null,this.f=i,this.a=n,this.l=e,this.o=!1,2==this.f&&dp(this)}function dp(t){var e=Te(1,1);try{e.drawImage(t.M,0,0),e.getImageData(0,0,1,1)}catch(e){t.o=!0}}function yp(t){t=t||{},this.l=void 0!==t.anchor?t.anchor:[.5,.5],this.u=null,this.f=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.B=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.C=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.qa=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,n=void 0!==t.imgSize?t.imgSize:null,o=t.src;d(!(void 0!==o&&e),4),d(!e||e&&n,5),void 0!==o&&o.length||!e||(o=e.src||c(e).toString()),d(void 0!==o&&0<o.length,6);var i=void 0!==t.src?0:2;this.j=void 0!==t.color?Pe(t.color):null;var r=this.qa,a=this.j,s=Ag.get(o,r,a);s||(s=new fp(e,o,n,r,i,a),Ag.set(o,r,a,s)),this.b=s,this.pa=void 0!==t.offset?t.offset:[0,0],this.c=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.R=null,this.D=void 0!==t.size?t.size:null,Vs.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function vp(t){t=t||{},this.a=t.font,this.i=t.rotation,this.l=t.rotateWithView,this.b=t.scale,this.ua=t.text,this.g=t.textAlign,this.j=t.textBaseline,this.Wa=void 0!==t.fill?t.fill:new Qs({color:"#333"}),this.Ua=void 0!==t.stroke?t.stroke:null,this.f=void 0!==t.offsetX?t.offsetX:0,this.c=void 0!==t.offsetY?t.offsetY:0}function gp(t){t=t?t:{},Ih.call(this),db||(yb=[255,255,255,1],vb=new Qs({color:yb}),gb=[20,2],bb=mb="pixels",_b=[64,64],xb="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",wb=.5,Pb=new yp({anchor:gb,anchorOrigin:"bottom-left",anchorXUnits:mb,anchorYUnits:bb,crossOrigin:"anonymous",rotation:0,scale:wb,size:_b,src:xb}),Sb="NO_IMAGE",Cb=new Ia({color:yb,width:1}),Mb=new Ia({color:[51,51,51,1],width:2}),Tb=new vp({font:"bold 16px Helvetica",fill:vb,stroke:Mb,scale:.8}),Ab=new tu({fill:vb,image:Pb,text:Tb,stroke:Cb,zIndex:0}),db=[Ab]),this.defaultDataProjection=Ct("EPSG:4326"),this.a=t.defaultStyle?t.defaultStyle:db,this.c=void 0===t.extractStyles||t.extractStyles,this.j=void 0===t.writeStyles||t.writeStyles,this.b={},this.g=void 0===t.showPointNames||t.showPointNames}function mp(t,e){var n=[0,0],o="start";if(t.Y()){var i=t.Y().Ie();null===i&&(i=_b),2==i.length&&(o=t.Y().a,n[0]=o*i[0]/2,n[1]=-o*i[1]/2,o="left")}return null!==t.Ja()?(i=t.Ja(),t=i.clone(),t.xj(i.a||Tb.a),t.bj(i.b||Tb.b),t.zf(i.Da()||Tb.Da()),t.Af(i.Ea()||Mb)):t=Tb.clone(),t.Cd(e),t.Cj(n[0]),t.Dj(n[1]),t.Fj(o),new tu({text:t})}function bp(t,e,n,o,i){return function(){var r=i,a="";if(r&&this.V()&&(r="Point"===this.V().T()),r&&(a=this.get("name"),r=r&&a),t)return r?(r=mp(t[0],a),t.concat(r)):t;if(e){var s=_p(e,n,o);return r?(r=mp(s[0],a),s.concat(r)):s}return r?(r=mp(n[0],a),n.concat(r)):n}}function _p(t,e,n){return Array.isArray(t)?t:"string"==typeof t?(!(t in n)&&"#"+t in n&&(t="#"+t),_p(n[t],e,n)):e}function xp(t){if(t=uu(t,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function wp(t){t=uu(t,!1);for(var e,n=[],o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=o.exec(t);)n.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);if(""===t)return n}function Pp(t){var e=uu(t,!1).trim();return t.baseURI&&"about:blank"!==t.baseURI?new URL(e,t.baseURI).href:e}function Sp(t){return Fh(t)}function Cp(t,e){return Su(null,jb,t,e)}function Mp(t,e){if(e=Su({A:[],Oj:[]},Bb,t,e)){t=e.A,e=e.Oj;var n,o=0;for(n=Math.min(t.length,e.length);o<n;++o)t[4*o+3]=e[o];return e=new ju(null),e.aa("XYZM",t),e}}function Tp(t,e){var n=Su({},Fb,t,e);if(t=Su(null,Xb,t,e))return e=new ju(null),e.aa("XYZ",t),e.H(n),e}function Ap(t,e){var n=Su({},Fb,t,e);if(t=Su(null,Xb,t,e))return e=new Bo(null),e.aa("XYZ",t,[t.length]),e.H(n),e}function Ep(t,e){if(t=Su([],qb,t,e),!t)return null;if(!t.length)return new Ph(t);var n,o=!0,r=t[0].T(),a=1;for(n=t.length;a<n;++a)if(e=t[a],e.T()!=r){o=!1;break}if(o)if("Point"==r){var s=t[0];for(o=s.ja,r=s.ba(),a=1,n=t.length;a<n;++a)e=t[a],i(r,e.ba());s=new Yu(null),s.aa(o,r),Op(s,t)}else"LineString"==r?(s=new Bu(null),Uu(s,t),Op(s,t)):"Polygon"==r?(s=new Gu(null),Hu(s,t),Op(s,t)):"GeometryCollection"==r?s=new Ph(t):d(!1,37);else s=new Ph(t);return s}function Ip(t,e){var n=Su({},Fb,t,e);if(t=Su(null,Xb,t,e))return e=new Ao(null),e.aa("XYZ",t),e.H(n),e}function Lp(t,e){var n=Su({},Fb,t,e);if((t=Su([null],Kb,t,e))&&t[0]){e=new Bo(null);var o,r=t[0],a=[r.length],s=1;for(o=t.length;s<o;++s)i(r,t[s]),a.push(r.length);return e.aa("XYZ",r,a),e.H(n),e}}function Np(t,e){if(e=Su({},n_,t,e),!e)return null;t="fillStyle"in e?e.fillStyle:vb;var n=e.fill;void 0===n||n||(t=null),n="imageStyle"in e?e.imageStyle:Pb,n==Sb&&(n=void 0);var o="textStyle"in e?e.textStyle:Tb,i="strokeStyle"in e?e.strokeStyle:Cb;return e=e.outline,void 0===e||e||(i=null),[new tu({fill:t,image:n,stroke:i,text:o,zIndex:void 0})]}function Op(t,e){var n,o,i,r=e.length,a=Array(e.length),s=Array(e.length),u=Array(e.length),h=o=i=!1;for(n=0;n<r;++n){var p=e[n];a[n]=p.get("extrude"),s[n]=p.get("tessellate"),u[n]=p.get("altitudeMode"),h=h||void 0!==a[n],o=o||void 0!==s[n],i=i||u[n]}h&&t.set("extrude",a),o&&t.set("tessellate",s),i&&t.set("altitudeMode",u)}function kp(t,e){Pu(Ob,t,e)}function Rp(t,e){Pu(kb,t,e)}function Dp(t,e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var n=Fp(t,e);if(n)return n}}function Fp(t,e){var o;for(o=e.firstElementChild;o;o=o.nextElementSibling)if(n(Ib,o.namespaceURI)&&"name"==o.localName)return Xh(o);for(o=e.firstElementChild;o;o=o.nextElementSibling)if(e=o.localName,n(Ib,o.namespaceURI)&&("Document"==e||"Folder"==e||"Placemark"==e||"kml"==e)&&(e=Fp(t,o)))return e}function jp(t,e){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&i(n,Kp(t,e));return n}function Kp(t,e){var o,r=[];for(o=e.firstElementChild;o;o=o.nextElementSibling)if(n(Ib,o.namespaceURI)&&"NetworkLink"==o.localName){var a=Su({},Vb,o,[]);r.push(a)}for(o=e.firstElementChild;o;o=o.nextElementSibling)e=o.localName,!n(Ib,o.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||i(r,Kp(t,o));return r}function Bp(t,e){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&i(n,t.wf(e));return n}function Xp(t,e){e=Pe(e),e=[255*(4==e.length?e[3]:1),e[2],e[1],e[0]];var n;for(n=0;4>n;++n){var o=parseInt(e[n],10).toString(16);e[n]=1==o.length?"0"+o:o}Wh(t,e.join(""))}function Up(t,e,n){t={node:t};var o=e.T();if("GeometryCollection"==o)var i=e.He(),r=$p;else"MultiPoint"==o?(i=e.de(),r=L_):"MultiLineString"==o?(i=e.kd(),r=N_):"MultiPolygon"==o?(i=e.Zd(),r=k_):d(!1,39);Mu(t,m_,r,i,n)}function Yp(t,e,n){Mu({node:t},g_,O_,[e],n)}function Gp(t,e,n){var o={node:t};e.a&&t.setAttribute("id",e.a),t=e.N();var i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[e.c]=1;var r=Object.keys(t||{}).sort().filter(function(t){return!i[t]});if(0<r.length){var a=xu(t,r);Mu(o,__,E_,[{names:r,values:a}],n)}(r=e.bb())&&(r=r.call(e,0))&&(r=Array.isArray(r)?r[0]:r,this.j&&(t.Style=r),(r=r.Ja())&&(t.name=r.Ja())),r=b_[n[n.length-1].node.namespaceURI],t=xu(t,r),Mu(o,__,xm,t,n,r),t=n[0],(e=e.V())&&(e=Nu(e,!0,t)),Mu(o,__,$p,[e],n)}function Wp(t,e,n){var o=e.ba();t={node:t},t.layout=e.ja,t.stride=e.ma(),e=e.N(),e.coordinates=o,o=x_[n[n.length-1].node.namespaceURI],e=xu(e,o),Mu(t,w_,xm,e,n,o)}function zp(t,e,n){e=e.Yd();var o=e.shift();t={node:t},Mu(t,P_,I_,e,n),Mu(t,P_,R_,[o],n)}function qp(t,e){Yh(t,Math.round(1e6*e)/1e6)}function Hp(t,e,n){return su(Eb[0],"gx:"+n)}function Vp(t,e){return su(e[e.length-1].node.namespaceURI,"Placemark")}function $p(t,e){if(t)return su(e[e.length-1].node.namespaceURI,u_[t.T()])}function Zp(t,e,n,o,i){this.g=i,this.f=t,this.b=e,this.i=n,this.c=o}function Jp(t){Eu.call(this),t=t?t:{},this.defaultDataProjection=new lt({code:"",units:"tile-pixels"}),this.b=t.featureClass?t.featureClass:Zp,this.f=t.geometryName,this.c=t.layerName?t.layerName:"layer",this.g=t.layers?t.layers:null,this.a=null}function Qp(t,e,n){for(var o=0,i=0,r=t.length;i<r;++i){var a,s=t[i],u=0;for(a=s.length;u<a;++u){var h=s[u];e.push(h.x,h.y)}o+=2*u,n.push(o)}}function tl(){Ih.call(this),this.defaultDataProjection=Ct("EPSG:4326")}function el(t,e){e[e.length-1].ne[t.getAttribute("k")]=t.getAttribute("v")}function nl(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function ol(){}function il(){}function rl(t,e,n,o){var i;i=void 0!==o?o:[];for(var r=o=0;r<e;){var a=t[r++];for(i[o++]=t[r++],i[o++]=a,a=2;a<n;++a)i[o++]=t[r++]}i.length=o}function al(t){t=t?t:{},Eu.call(this),this.defaultDataProjection=Ct("EPSG:4326"),this.b=t.factor?t.factor:1e5,this.a=t.geometryLayout?t.geometryLayout:"XY"}function sl(t,e,n){var o,i=Array(e);for(o=0;o<e;++o)i[o]=0;var r,a=0;for(r=t.length;a<r;)for(o=0;o<e;++o,++a){var s=t[a],u=s-i[o];i[o]=s,t[a]=u}return hl(t,n?n:1e5)}function ul(t,e,n){var o,i=Array(e);for(o=0;o<e;++o)i[o]=0;t=pl(t,n?n:1e5);var r;for(n=0,r=t.length;n<r;)for(o=0;o<e;++o,++n)i[o]+=t[n],t[n]=i[o];return t}function hl(t,e){e=e?e:1e5;var n,o=0;for(n=t.length;o<n;++o)t[o]=Math.round(t[o]*e);for(e=0,o=t.length;e<o;++e)n=t[e],t[e]=0>n?~(n<<1):n<<1;for(e="",o=0,n=t.length;o<n;++o){for(var i,r=t[o],a="";32<=r;)i=(32|31&r)+63,a+=String.fromCharCode(i),r>>=5;a+=String.fromCharCode(r+63),e+=a}return e}function pl(t,e){e=e?e:1e5;var n,o=[],i=0,r=0,a=0;for(n=t.length;a<n;++a){var s=t.charCodeAt(a)-63;i|=(31&s)<<r,32>s?(o.push(i),r=i=0):r+=5}for(t=0,i=o.length;t<i;++t)r=o[t],o[t]=1&r?~(r>>1):r>>1;for(t=0,i=o.length;t<i;++t)o[t]/=e;return o}function ll(t){t=t?t:{},Eu.call(this),this.a=t.layerName,this.b=t.layers?t.layers:null,this.defaultDataProjection=Ct(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")}function cl(t,e){var n,o,i=[],r=0;for(o=t.length;r<o;++r){var a=t[r];0<r&&i.pop(),n=0<=a?e[a]:e[~a].slice().reverse(),i.push.apply(i,n)}for(t=0,e=i.length;t<e;++t)i[t]=i[t].slice();return i}function fl(t,e,n,o,i,r,a){t=t.geometries;var s,u=[],h=0;for(s=t.length;h<s;++h)u[h]=dl(t[h],e,n,o,i,r,a);return u}function dl(t,e,n,o,i,r,a){var s=t.type,u=ex[s];return n="Point"===s||"MultiPoint"===s?u(t,n,o):u(t,e),e=new ru,e.Ra(Nu(n,!1,a)),void 0!==t.id&&e.kc(t.id),t=t.properties,i&&(t||(t={}),t[i]=r),t&&e.H(t),e}function yl(t,e,n){t[0]=t[0]*e[0]+n[0],t[1]=t[1]*e[1]+n[1]}function vl(t){t=t?t:{},this.c=t.featureType,this.a=t.featureNS,this.b=t.gmlFormat?t.gmlFormat:new zh,this.l=t.schemaLocation?t.schemaLocation:nx["1.1.0"],Ih.call(this)}function gl(t,e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return ml(t,e)}function ml(t,e){var n={},o=Bh(e.getAttribute("numberOfFeatures"));return n.numberOfFeatures=o,Su(n,ox,e,[],t.b)}function bl(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return Su({},sx,t,[])}function _l(t,e){var n=su("http://www.opengis.net/ogc","Filter"),o=su("http://www.opengis.net/ogc","FeatureId");n.appendChild(o),o.setAttribute("fid",e),t.appendChild(n)}function xl(t,e){return t=(t?t:"feature")+":",e.indexOf(t)?t+e:e}function wl(t,e,n){t={node:t},e=e.b;for(var o=0,i=e.length;o<i;++o){var r=e[o];Mu(t,px,_u(r.lc),[r],n)}}function Pl(t,e){void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),Cl(t,e.b),Ml(t,""+e.f)}function Sl(t,e,n){t=su("http://www.opengis.net/ogc",t),Wh(t,n),e.appendChild(t)}function Cl(t,e){Sl("PropertyName",t,e)}function Ml(t,e){Sl("Literal",t,e)}function Tl(t,e){var n=su("http://www.opengis.net/gml","TimeInstant");t.appendChild(n),t=su("http://www.opengis.net/gml","timePosition"),n.appendChild(t),Wh(t,e)}function Al(t){t=t?t:{},Eu.call(this),this.b=void 0!==t.splitCollection&&t.splitCollection}function El(t){return t=t.X(),t.length?t.join(" "):""}function Il(t){t=t.X();for(var e=[],n=0,o=t.length;n<o;++n)e.push(t[n].join(" "));return e.join(",")}function Ll(t){var e=[];t=t.Yd();for(var n=0,o=t.length;n<o;++n)e.push("("+Il(t[n])+")");return e.join(",")}function Nl(t){var e=t.T(),n=(0,lx[e])(t);if(e=e.toUpperCase(),t instanceof ao){t=t.ja;var o="";"XYZ"!==t&&"XYZM"!==t||(o+="Z"),"XYM"!==t&&"XYZM"!==t||(o+="M"),t=o,0<t.length&&(e+=" "+t)}return n.length?e+"("+n+")":e+" EMPTY"}function Ol(t){this.a=t,this.b=-1}function kl(t){var e=t.a.charAt(++t.b),n={position:t.b,value:e};if("("==e)n.type=2;else if(","==e)n.type=5;else if(")"==e)n.type=3;else if("0"<=e&&"9">=e||"."==e||"-"==e){n.type=4,e=t.b;var o=!1,i=!1;do{"."==r?o=!0:"e"!=r&&"E"!=r||(i=!0);var r=t.a.charAt(++t.b)}while("0"<=r&&"9">=r||"."==r&&(void 0===o||!o)||!i&&("e"==r||"E"==r)||i&&("-"==r||"+"==r));t=parseFloat(t.a.substring(e,t.b--)),n.value=t}else if("a"<=e&&"z">=e||"A"<=e&&"Z">=e){n.type=1,e=t.b;do r=t.a.charAt(++t.b);while("a"<=r&&"z">=r||"A"<=r&&"Z">=r);t=t.a.substring(e,t.b--).toUpperCase(),n.value=t}else{if(" "==e||"\t"==e||"\r"==e||"\n"==e)return kl(t);if(""!==e)throw Error("Unexpected character: "+e);n.type=6}return n}function Rl(t){this.f=t,this.a="XY"}function Dl(t){t.b=kl(t.f)}function Fl(t,e){return(e=t.b.type==e)&&Dl(t),e}function jl(t){var e=t.b;if(Fl(t,1)){e=e.value;var n="XY",o=t.b;if(1==t.b.type&&(o=o.value,"Z"===o?n="XYZ":"M"===o?n="XYM":"ZM"===o&&(n="XYZM"),"XY"!==n&&Dl(t)),t.a=n,"GEOMETRYCOLLECTION"==e){t:{if(Fl(t,2)){e=[];do e.push(jl(t));while(Fl(t,5));if(Fl(t,3)){t=e;break t}}else if(Ul(t)){t=[];break t}throw Error(Yl(t))}return new Ph(t)}if(o=fx[e],n=cx[e],!o||!n)throw Error("Invalid geometry type: "+e);return e=o.call(t),new n(e,t.a)}throw Error(Yl(t))}function Kl(t){for(var e=[],n=t.a.length,o=0;o<n;++o){var i=t.b;if(!Fl(t,4))break;e.push(i.value)}if(e.length==n)return e;throw Error(Yl(t))}function Bl(t){for(var e=[Kl(t)];Fl(t,5);)e.push(Kl(t));return e}function Xl(t){for(var e=[t.Ag()];Fl(t,5);)e.push(t.Ag());return e}function Ul(t){var e=1==t.b.type&&"EMPTY"==t.b.value;return e&&Dl(t),e}function Yl(t){return"Unexpected `"+t.b.value+"` at position "+t.b.position+" in `"+t.f.a+"`"}function Gl(){this.version=void 0}function Wl(t,e){return Su({},Ix,t,e)}function zl(t,e){return Su({},Mx,t,e)}function ql(t,e){if(e=Wl(t,e))return t=[Bh(t.getAttribute("width")),Bh(t.getAttribute("height"))],e.size=t,e}function Hl(t,e){return Su([],Lx,t,e)}function Vl(t){t=t?t:{},this.a="http://mapserver.gis.umn.edu/mapserver",this.b=new Hh,this.c=t.layers?t.layers:null,Ih.call(this)}function $l(){this.f=new il}function Zl(t){var e=Xh(t).split(" ");if(e&&2==e.length&&(t=+e[0],e=+e[1],!isNaN(t)&&!isNaN(e)))return[t,e]}function Jl(t){ye.call(this),t=t||{},this.a=null,this.i=Et,this.g=new pt(6378137),this.c=void 0,oe(this,ve("projection"),this.Om,this),oe(this,ve("tracking"),this.Pm,this),void 0!==t.projection&&this.ei(t.projection),void 0!==t.trackingOptions&&this.Gj(t.trackingOptions),this.Ve(void 0!==t.tracking&&t.tracking)}function Ql(t,e,n){ao.call(this),this.Vg(t,e?e:0,n)}function tc(t){var e=t.A[t.a]-t.A[0];return t=t.A[t.a+1]-t.A[1],e*e+t*t}function ec(t,e,n){for(var o,i,r,a,s,u=[],h=t(0),p=t(1),l=e(h),c=e(p),f=[p,h],d=[c,l],y=[1,0],v={},g=1e5;0<--g&&0<y.length;)r=y.pop(),h=f.pop(),l=d.pop(),p=r.toString(),p in v||(u.push(l[0],l[1]),v[p]=!0),a=y.pop(),p=f.pop(),c=d.pop(),s=(r+a)/2,o=t(s),i=e(o),x(i[0],i[1],l[0],l[1],c[0],c[1])<n?(u.push(c[0],c[1]),p=a.toString(),v[p]=!0):(y.push(a,s,s,r),d.push(c,i,i,l),f.push(p,o,o,h));return u}function nc(t,e,n,o,i){var r=Ct("EPSG:4326");return ec(function(o){return[t,e+(n-e)*o]},Tt(r,o),i)}function oc(t,e,n,o,i){var r=Ct("EPSG:4326");return ec(function(o){return[e+(n-e)*o,t]},Tt(r,o),i)}function ic(t){t=t||{},this.i=this.v=null,this.j=this.g=1/0,this.o=this.l=-(1/0),this.qa=this.pa=1/0,this.S=this.I=-(1/0),this.va=void 0!==t.targetSize?t.targetSize:100,this.jb=void 0!==t.maxLines?t.maxLines:100,this.f=[],this.c=[],this.oa=void 0!==t.strokeStyle?t.strokeStyle:Wx,this.D=this.u=void 0,this.a=this.b=this.R=null,1==t.showLabels&&(this.ta=t.lonLabelFormatter?t.lonLabelFormatter:zn.bind(this,"EW"),this.Va=t.latLabelFormatter?t.latLabelFormatter:zn.bind(this,"NS"),this.ga=void 0==t.lonLabelPosition?0:t.lonLabelPosition,this.U=void 0==t.latLabelPosition?1:t.latLabelPosition,this.C=void 0!==t.lonLabelStyle?t.lonLabelStyle:new vp({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new Qs({color:"rgba(0,0,0,1)"}),stroke:new Ia({color:"rgba(255,255,255,1)",width:3})}),this.B=void 0!==t.latLabelStyle?t.latLabelStyle:new vp({font:"12px Calibri,sans-serif",textAlign:"end",fill:new Qs({color:"rgba(0,0,0,1)"}),stroke:new Ia({color:"rgba(255,255,255,1)",width:3})}),this.b=[],this.a=[]),this.setMap(void 0!==t.map?t.map:null)}function rc(t,e,n,o,i,r,a){var s=a;return n=nc(e,n,o,t.i,i),s=void 0!==t.f[s]?t.f[s]:new ju(null),s.aa("XY",n),ot(s.G(),r)&&(t.b&&(n=a,o=s.ba(),r=[o[0],b(r[1]+Math.abs(r[1]-r[3])*t.ga,Math.max(r[1],o[1]),Math.min(r[3],o[o.length-1]))],n=t.b[n]?t.b[n].Wd:new Ao(null),n.na(r),t.b[a]={Wd:n,text:t.ta(e)}),t.f[a++]=s),a}function ac(t,e,n,o,i,r,a){var s=a;return n=oc(e,n,o,t.i,i),s=void 0!==t.c[s]?t.c[s]:new ju(null),s.aa("XY",n),ot(s.G(),r)&&(t.a&&(n=a,o=s.ba(),r=[b(r[0]+Math.abs(r[0]-r[2])*t.U,Math.max(r[0],o[0]),Math.min(r[2],o[o.length-2])),o[1]],n=t.a[n]?t.a[n].Wd:new Ao(null),n.na(r),t.a[a]={Wd:n,text:t.Va(e)}),t.c[a++]=s),a}function sc(t,e,n,o,i){ce.call(this),this.i=i,this.extent=t,this.a=n,this.resolution=e,this.state=o}function uc(t,e,n,o,i,r,a){sc.call(this,t,e,n,0,o),this.j=i,this.M=new Image,null!==r&&(this.M.crossOrigin=r),this.c={},this.f=null,this.state=0,this.g=a}function hc(t,e,n,o,i,r){this.c=r?r:null,sc.call(this,t,e,n,r?0:2,o),this.f=i}function pc(t,e){ce.call(this),this.sa=t,this.state=e,this.a=null,this.key=""}function lc(t){if(!t.a)return t;var e=t.a;do{if(2==e.getState())return e;e=e.a}while(e);return t}function cc(t){if(t.a){var e=t.a;do{if(2==e.getState()){e.a=null;break}1==e.getState()?t=e:0==e.getState()?t.a=e.a:t=e,e=t.a}while(e)}}function fc(t,e){t.state=e,t.s()}function dc(t,e,n,o,i){pc.call(this,t,e),this.g=n,this.M=new Image,null!==o&&(this.M.crossOrigin=o),this.c=null,this.j=i}function yc(t){t.c.forEach(ae),t.c=null}function vc(t){t=t?t:{},ai.call(this,{handleEvent:eo}),this.j=t.formatConstructors?t.formatConstructors:[],this.o=t.projection?Ct(t.projection):null,this.a=null,this.g=t.source||null,this.target=t.target?t.target:null}function gc(t){t=t.dataTransfer.files;var e,n=0;for(e=t.length;n<e;++n){var o=t.item(n),i=new FileReader;i.addEventListener("load",this.l.bind(this,o)),i.readAsText(o)}}function mc(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}function bc(t){var e=t.v;e&&(e=t.target?t.target:e.a,t.a=[oe(e,"drop",gc,t),oe(e,"dragenter",mc,t),oe(e,"dragover",mc,t),oe(e,"drop",mc,t)])}function _c(t){t.a&&(t.a.forEach(ae),t.a=null)}function xc(t,e,n,o){pe.call(this,t),this.features=n,this.file=e,this.projection=o}function wc(t){t=t?t:{},wi.call(this,{handleDownEvent:Cc,handleDragEvent:Pc,handleUpEvent:Sc}),this.o=t.condition?t.condition:mi,this.a=this.g=void 0,this.j=0,this.u=void 0!==t.duration?t.duration:400}function Pc(t){if(_i(t)){var e=t.map,n=e.Mb(),o=t.pixel;t=o[0]-n[0]/2,o=n[1]/2-o[1],n=Math.atan2(o,t),t=Math.sqrt(t*t+o*o),e=e.$(),e.g.rotation!==Fn&&void 0!==this.g&&(o=n-this.g,si(e,e.Qa()-o)),this.g=n,void 0!==this.a&&(n=this.a*(e.Pa()/t),hi(e,n)),void 0!==this.a&&(this.j=this.a/t),this.a=t}}function Sc(t){if(!_i(t))return!0;t=t.map.$(),ni(t,1,-1);var e=this.j-1,n=t.Qa();n=t.constrainRotation(n,0),si(t,n,void 0,void 0),n=t.Pa();var o=this.u;return n=t.constrainResolution(n,0,e),hi(t,n,void 0,o),this.j=0,!1}function Cc(t){return!(!_i(t)||!this.o(t))&&(ni(t.map.$(),1,1),this.a=this.g=void 0,!0)}function Mc(t,e,n,o){this.oa=t,this.Va=e,this.overlaps=o,this.c=0,this.resolution=n,this.qa=this.pa=null,this.a=[],this.coordinates=[],this.ga={},this.U=pr(),this.b=[],this.C=null,this.jb=pr(),this.ta=pr()}function Tc(t,e,n,o,i,r,a){var s=t.coordinates.length,u=t.Zf();a&&(n+=i),a=[e[n],e[n+1]];var h,p=[NaN,NaN],l=!0;for(h=n+i;h<o;h+=i){p[0]=e[h],p[1]=e[h+1];var c=D(u,p);c!==f?(l&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),t.coordinates[s++]=p[0],t.coordinates[s++]=p[1],l=!1):1===c?(t.coordinates[s++]=p[0],t.coordinates[s++]=p[1],l=!1):l=!0,a[0]=p[0],a[1]=p[1];var f=c}return(r&&l||h===n+i)&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),s}function Ac(t,e,n,o,i,r){for(var a=0,s=o.length;a<s;++a){var u=o[a];n=Tc(t,e,n,u,i,!1,!1),r.push(n),n=u}return n}function Ec(t,e){t.pa=[0,e,0],t.a.push(t.pa),t.qa=[0,e,0],t.b.push(t.qa)}function Ic(t,e,n,o,i,r,s,u,h){if(t.C&&a(o,t.U))var p=t.C;else t.C||(t.C=[]),p=io(t.coordinates,0,t.coordinates.length,2,o,t.C),dr(t.U,o);o=!ht(r);for(var l,f,d,y,v,g=0,m=s.length,b=0,_=t.jb,x=t.ta,w=0,P=0,S=t.ga,C={context:e,pixelRatio:n,resolution:t.resolution,rotation:i},M=t.a!=s||t.overlaps?0:200;g<m;){var T=s[g];switch(T[0]){case 0:var A=T[1];o&&r[c(A).toString()]||!A.V()?g=T[2]:void 0===h||ot(h,A.V().G())?++g:g=T[2]+1;break;case 1:w>M&&(t.Wa(e,i),w=0),P>M&&(e.stroke(),P=0),w||P||(e.beginPath(),f=d=NaN),++g;break;case 2:b=T[1],l=p[b],T=p[b+1],y=p[b+2]-l,b=p[b+3]-T,b=Math.sqrt(y*y+b*b),e.moveTo(l+b,T),e.arc(l,T,b,0,2*Math.PI,!0),++g;break;case 3:e.closePath(),++g;break;case 4:b=T[1],l=T[2],y=T[4],v=6==T.length?T[5]:void 0,C.geometry=T[3],C.feature=A,g in S||(S[g]=[]),T=S[g],v?v(p,b,l,2,T):(T[0]=p[b],T[1]=p[b+1],T.length=2),y(T,C),++g;break;case 5:b=T[1],l=T[2];var E=T[3],I=T[4]*n,L=T[5]*n,N=T[6],O=T[7],k=T[8],R=T[9],D=T[10];y=T[11],v=T[12];var F=T[13],j=T[14];for(D&&(y+=i);b<l;b+=2){if(T=p[b]-I,D=p[b+1]-L,F&&(T=Math.round(T),D=Math.round(D)),1!=v||y){var K=T+I,B=D+L;br(_,K,B,v,v,y,-K,-B),e.setTransform.apply(e,_)}K=e.globalAlpha,1!=O&&(e.globalAlpha=K*O),B=j+k>E.width?E.width-k:j;var X=N+R>E.height?E.height-R:N;e.drawImage(E,k,R,B,X,T,D,B*n,X*n),1!=O&&(e.globalAlpha=K),(1!=v||y)&&e.setTransform.apply(e,x)}++g;break;case 6:for(b=T[1],l=T[2],L=T[3],N=T[4]*n,O=T[5]*n,y=T[6],v=T[7]*n,E=T[8],I=T[9],(D=T[10])&&(y+=i);b<l;b+=2){for(T=p[b]+N,D=p[b+1]+O,(1!=v||y)&&(br(_,T,D,v,v,y,-T,-D),e.setTransform.apply(e,_)),k=L.split("\n"),R=k.length,1<R?(F=Math.round(1.5*e.measureText("M").width),D-=(R-1)/2*F):F=0,j=0;j<R;j++)K=k[j],I&&e.strokeText(K,T,D),E&&e.fillText(K,T,D),D+=F;(1!=v||y)&&e.setTransform.apply(e,x)}++g;break;case 7:if(u&&(A=T[1],b=u(A)))return b;++g;break;case 8:M?w++:t.Wa(e,i),++g;break;case 9:for(b=T[1],l=T[2],T=p[b],D=p[b+1],y=T+.5|0,v=D+.5|0,y===f&&v===d||(e.moveTo(T,D),f=y,d=v),b+=2;b<l;b+=2)T=p[b],D=p[b+1],y=T+.5|0,v=D+.5|0,(b==l-2||y!==f||v!==d)&&(e.lineTo(T,D),f=y,d=v);++g;break;case 10:t.S=T[2],w&&(t.Wa(e,i),w=0,P&&(e.stroke(),P=0)),e.fillStyle=T[1],++g;break;case 11:b=void 0===T[8]||T[8];var U=T[9];l=T[2],P&&(e.stroke(),P=0),e.strokeStyle=T[1],e.lineWidth=b?l*n:l,e.lineCap=T[3],e.lineJoin=T[4],e.miterLimit=T[5],hg&&(l=T[6],y=T[7],b&&n!==U&&(l=l.map(function(t){return t*n/U}),y*=n/U,T[6]=l,T[7]=y,T[9]=n),e.lineDashOffset=y,e.setLineDash(l)),++g;break;case 12:e.font=T[1],e.textAlign=T[2],e.textBaseline=T[3],++g;break;case 13:M?P++:e.stroke(),++g;break;default:++g}}w&&t.Wa(e,i),P&&e.stroke()}function Lc(t){var e=t.b;e.reverse();var n,o=e.length,i=-1;for(n=0;n<o;++n){var r=e[n],a=r[0];if(7==a)i=n;else if(0==a){for(r[2]=n,r=t.b,a=n;i<a;){var s=r[i];r[i]=r[a],r[a]=s,++i,--a}i=-1}}}function Nc(t,e){t.pa[2]=t.a.length,t.pa=null,t.qa[2]=t.b.length,t.qa=null,e=[7,e],t.a.push(e),t.b.push(e)}function Oc(t,e,n,o){Mc.call(this,t,e,n,o),this.M=this.I=null,this.R=this.u=this.v=this.o=this.l=this.B=this.D=this.j=this.g=this.i=this.f=void 0}function kc(t,e,n,o){Mc.call(this,t,e,n,o),this.i=null,this.f={Rd:void 0,Ld:void 0,Md:null,Nd:void 0,Od:void 0,Pd:void 0,Qd:void 0,rd:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function Rc(t,e,n,o,i){var r=t.coordinates.length;return e=Tc(t,e,n,o,i,!1,!1),r=[9,r,e],t.a.push(r),t.b.push(r),o}function Dc(t){var e=t.f,n=e.strokeStyle,o=e.lineCap,i=e.lineDash,r=e.lineDashOffset,s=e.lineJoin,u=e.lineWidth,h=e.miterLimit;e.Rd==n&&e.Ld==o&&a(e.Md,i)&&e.Nd==r&&e.Od==s&&e.Pd==u&&e.Qd==h||(void 0!=e.rd&&e.rd!=t.coordinates.length&&(t.a.push([13]),e.rd=t.coordinates.length),e.rd=0,t.a.push([11,n,u,o,s,h,i,r,!0,1],[1]),e.Rd=n,e.Ld=o,e.Md=i,e.Nd=r,e.Od=s,e.Pd=u,e.Qd=h)}function Fc(t,e,n,o){Mc.call(this,t,e,n,o),this.i=null,this.f={uh:void 0,Rd:void 0,Ld:void 0,Md:null,Nd:void 0,Od:void 0,Pd:void 0,Qd:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function jc(t,e,n,o,i){var r=t.f,a=void 0!==r.fillStyle;r=void 0!=r.strokeStyle;var s=o.length,u=[1];for(t.a.push(u),t.b.push(u),u=0;u<s;++u){var h=o[u],p=t.coordinates.length;n=Tc(t,e,n,h,i,!0,!r),n=[9,p,n],t.a.push(n),t.b.push(n),r&&(n=[3],t.a.push(n),t.b.push(n)),n=h}return e=[8],t.b.push(e),a&&t.a.push(e),r&&(a=[13],t.a.push(a),t.b.push(a)),n}function Kc(t,e){var n=t.f,o=n.fillStyle,i=n.strokeStyle,r=n.lineCap,s=n.lineDash,u=n.lineDashOffset,h=n.lineJoin,p=n.lineWidth,l=n.miterLimit;if(void 0!==o&&("string"!=typeof o||n.uh!=o)){var c=[10,o];"string"!=typeof o&&(e=e.G(),c.push([e[0],e[3]])),t.a.push(c),n.uh=n.fillStyle}void 0===i||n.Rd==i&&n.Ld==r&&a(n.Md,s)&&n.Nd==u&&n.Od==h&&n.Pd==p&&n.Qd==l||(t.a.push([11,i,p,r,h,l,s,u,!0,1]),n.Rd=i,n.Ld=r,n.Md=s,n.Nd=u,n.Od=h,n.Pd=p,n.Qd=l)}function Bc(t,e,n,o){Mc.call(this,t,e,n,o),this.B=this.D=this.R=null,this.ua="",this.l=this.j=0,this.o=void 0,this.u=this.v=0,this.g=this.i=this.f=null}function Xc(t,e,n,o,i){this.v=t,this.f=e,this.l=o,this.o=n,this.i=i,this.a={},this.g=Te(1,1),this.j=pr()}function Uc(t,e,n){var o,i=Math.floor(t.length/2);if(e>=i)for(o=i;o<e;o++)t[o][n]=!0;else if(e<i)for(o=e+1;o<i;o++)t[o][n]=!0}function Yc(t){if(void 0!==$x[t])return $x[t];for(var e=2*t+1,n=Array(e),o=0;o<e;o++)n[o]=Array(e);e=t;for(var i=o=0;e>=o;)Uc(n,t+e,t+o),Uc(n,t+o,t+e),Uc(n,t-o,t+e),Uc(n,t-e,t+o),Uc(n,t-e,t-o),Uc(n,t-o,t-e),Uc(n,t+o,t-e),Uc(n,t+e,t-o),o++,i+=1+2*o,0<2*(i-e)+1&&(--e,i+=1-2*e);return $x[t]=n}function Gc(t){for(var e in t.a){var n,o=t.a[e];for(n in o)o[n].df()}}function Wc(t,e){var n=t.f;t=n[0];var o=n[1],i=n[2];return n=n[3],t=[t,o,t,n,i,n,i,o],io(t,0,8,2,e,t),t}function zc(t,e,n,o,i,r,a){var s=Object.keys(t.a).map(Number);s.sort(function(t,e){return e-t});var u,h,p=0;for(u=s.length;p<u;++p){var l=t.a[s[p].toString()];for(h=Og.length-1;0<=h;--h){var c=l[Og[h]];if(void 0!==c&&(c=Ic(c,e,1,n,o,i,c.b,r,a)))return c}}}function qc(t){de.call(this),this.a=t}function Hc(t,e){var n=e.getState();return 2!=n&&3!=n&&oe(e,"change",t.ta,t),0==n&&(e.load(),n=e.getState()),2==n}function Vc(t){var e=t.a;e.Sb()&&"ready"==e.hg()&&t.s()}function $c(t,e){e.Ui()&&t.postRenderFunctions.push(function(t,e,n){e=c(t).toString(),e in n.usedTiles&&t.jd(n.viewState.projection,n.usedTiles[e])}.bind(null,e))}function Zc(t,e){if(e){var n,o=0;for(n=e.length;o<n;++o){var i=e[o];t[c(i).toString()]=i}}}function Jc(t,e){e=e.D,void 0!==e&&("string"==typeof e?t.logos[e]="":e&&(d("string"==typeof e.href,44),d("string"==typeof e.src,45),t.logos[e.src]=e.href))}function Qc(t,e,n,o){e=c(e).toString(),n=n.toString(),e in t?n in t[e]?(t=t[e][n],o.ca<t.ca&&(t.ca=o.ca),o.da>t.da&&(t.da=o.da),o.ea<t.ea&&(t.ea=o.ea),o.ha>t.ha&&(t.ha=o.ha)):t[e][n]=o:(t[e]={},t[e][n]=o)}function tf(t,e,n,o,i,r,a,s,u,h){var p=c(e).toString();p in t.wantedTiles||(t.wantedTiles[p]={});var l=t.wantedTiles[p];t=t.tileQueue;var f,d,y,v=n.minZoom;for(y=a;y>=v;--y){var g=Bt(n,r,y,g),m=n.Ca(y);for(f=g.ca;f<=g.da;++f)for(d=g.ea;d<=g.ha;++d)if(a-y<=s){var b=e.Qc(y,f,d,o,i);0==b.getState()&&(l[b.fb()]=!0,b.fb()in t.a||t.i([b,p,Xt(n,b.sa),m])),u&&u.call(h,b)}else e.Zg(y,f,d,i)}}function ef(t){qc.call(this,t),this.U=pr()}function nf(t,e,n){var o=e.pixelRatio,i=e.size[0]*o,r=e.size[1]*o,a=e.viewState.rotation,s=tt(n),u=et(n),h=V(n);n=H(n),yr(e.coordinateToPixelTransform,s),yr(e.coordinateToPixelTransform,u),yr(e.coordinateToPixelTransform,h),yr(e.coordinateToPixelTransform,n),t.save(),Ar(t,-a,i/2,r/2),t.beginPath(),t.moveTo(s[0]*o,s[1]*o),t.lineTo(u[0]*o,u[1]*o),t.lineTo(h[0]*o,h[1]*o),t.lineTo(n[0]*o,n[1]*o),t.clip(),Ar(t,a,i/2,r/2)}function of(t,e,n,o,i){var r=t.a;if(fe(r,e)){var a=o.size[0]*o.pixelRatio,s=o.size[1]*o.pixelRatio,u=o.viewState.rotation;Ar(n,-u,a/2,s/2),t=i?i:rf(t,o,0),r.b(new Tr(e,new Ir(n,o.pixelRatio,o.extent,t,o.viewState.rotation),o,n,null)),Ar(n,u,a/2,s/2)}}function rf(t,e,n){var o=e.viewState,i=e.pixelRatio,r=i/o.resolution;return br(t.U,i*e.size[0]/2,i*e.size[1]/2,r,-r,-o.rotation,-o.center[0]+n,-o.center[1])}function af(t,e){return c(t)-c(e)}function sf(t,e){return t=.5*t/e,t*t}function uf(t,e,n,o,i,r){var a,s=!1;if(a=n.Y()){var u=a.hf();2==u||3==u?a.Lj(i,r):(0==u&&a.load(),a.Wh(i,r),s=!0)}return(i=(0,n.$a)(e))&&(o=i.$d(o),n.Je()?hf(t,o,n,e):(0,Jx[o.T()])(t,o,n,e)),s}function hf(t,e,n,o){if("GeometryCollection"==e.T()){e=e.He();for(var i=0,r=e.length;i<r;++i)hf(t,e[i],n,o)}else t.b(n.za(),"Default").wh(e,o,n.Je())}function pf(t){ef.call(this,t),this.c=!1,this.R=-1,this.o=NaN,this.j=F(),this.i=this.l=null,this.g=Te()}function lf(){this.b="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}function cf(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}function ff(t,e){this.f=t.getUniformLocation(e,"f"),this.c=t.getUniformLocation(e,"e"),this.g=t.getUniformLocation(e,"d"),this.i=t.getUniformLocation(e,"g"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function df(t,e){qc.call(this,e),this.c=t,this.U=new Zr([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),
this.g=this.Hb=null,this.j=void 0,this.v=pr(),this.R=pr(),this.B=zr(),this.u=null}function yf(t,e,n){var o=t.c.f;if(void 0===t.j||t.j!=n){e.postRenderFunctions.push(function(t,e,n){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(n))}.bind(null,o,t.g,t.Hb)),e=pa(o,n,n);var i=o.createFramebuffer();o.bindFramebuffer(36160,i),o.framebufferTexture2D(36160,36064,3553,e,0),t.Hb=e,t.g=i,t.j=n}else o.bindFramebuffer(36160,t.g)}function vf(t,e,n,o){if(t=t.a,fe(t,e)){var i=o.viewState;t.b(new Tr(e,new ws(n,i.center,i.resolution,i.rotation,o.size,o.extent,o.pixelRatio),o,null,n))}}function gf(t,e){df.call(this,t,e),this.o=!1,this.S=-1,this.I=NaN,this.D=F(),this.l=this.i=this.C=null}function mf(t){t=t?t:{};var e=Nv({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,sr.call(this,e),this.c=void 0!==t.renderBuffer?t.renderBuffer:100,this.v=null,this.C=void 0,this.i(t.style),this.S=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.U=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}function bf(){return[[-(1/0),-(1/0),1/0,1/0]]}function _f(t){ye.call(this),this.c=Ct(t.projection),this.j=xf(t.attributions),this.D=t.logo,this.ta=void 0!==t.state?t.state:"ready",this.u=void 0!==t.wrapX&&t.wrapX}function xf(t){if("string"==typeof t)return[new Vt({html:t})];if(t instanceof Vt)return[t];if(Array.isArray(t)){for(var e=t.length,n=Array(e),o=0;o<e;o++){var i=t[o];n[o]="string"==typeof i?new Vt({html:i}):i}return n}return null}function wf(t,e){t.ta=e,t.s()}function Pf(t){t=t||{},_f.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.C=l,this.B=t.format,this.U=void 0==t.overlaps||t.overlaps,this.I=t.url,t.loader?this.C=t.loader:void 0!==this.I&&(d(this.B,7),this.C=Au(this.I,this.B)),this.ga=t.strategy?t.strategy:bf;var e=void 0===t.useSpatialIndex||t.useSpatialIndex;if(this.a=e?new Ka:null,this.S=new Ka,this.g={},this.l={},this.o={},this.v={},this.i=null,t.features instanceof be)var n=t.features,o=n.a;else Array.isArray(t.features)&&(o=t.features);e||n||(n=new be(o)),o&&Mf(this,o),n&&Tf(this,n)}function Sf(t,e,n){t.v[e]=[oe(n,"change",t.Yi,t),oe(n,"propertychange",t.Yi,t)]}function Cf(t,e,n){var o=!0,i=n.a;return void 0!==i?i.toString()in t.l?o=!1:t.l[i.toString()]=n:(d(!(e in t.o),30),t.o[e]=n),o}function Mf(t,e){var n,o=[],i=[],r=[],a=0;for(n=e.length;a<n;a++){var s=e[a],u=c(s).toString();Cf(t,u,s)&&i.push(s)}for(a=0,n=i.length;a<n;a++)s=i[a],u=c(s).toString(),Sf(t,u,s),(e=s.V())?(u=e.G(),o.push(u),r.push(s)):t.g[u]=s;for(t.a&&t.a.load(o,r),a=0,n=i.length;a<n;a++)t.b(new If("addfeature",i[a]))}function Tf(t,e){var n=!1;oe(t,"addfeature",function(t){n||(n=!0,e.push(t.feature),n=!1)}),oe(t,"removefeature",function(t){n||(n=!0,e.remove(t.feature),n=!1)}),oe(e,"add",function(t){n||(n=!0,this.Bb(t.element),n=!1)},t),oe(e,"remove",function(t){n||(n=!0,this.Fb(t.element),n=!1)},t),t.i=e}function Af(t,e,n){t.ac([e[0],e[1],e[0],e[1]],function(t){if(t.V().vb(e))return n.call(void 0,t)})}function Ef(t,e){for(var n in t.l)if(t.l[n]===e){delete t.l[n];break}}function If(t,e){pe.call(this,t),this.feature=e}function Lf(t){wi.call(this,{handleDownEvent:kf,handleEvent:Of,handleUpEvent:Rf}),this.U=!1,this.ga=null,this.u=!1,this.Zb=t.source?t.source:null,this.Za=t.features?t.features:null,this.Hk=t.snapTolerance?t.snapTolerance:12,this.S=t.type,this.g=Uf(this.S),this.Sa=t.minPoints?t.minPoints:this.g===iw?3:2,this.va=t.maxPoints?t.maxPoints:1/0,this.Id=t.finishCondition?t.finishCondition:eo;var e=t.geometryFunction;if(!e)if("Circle"===this.S)e=function(t,e){return e=e?e:new Ql([NaN,NaN]),e.Vg(t[0],Math.sqrt(Zn(t[0],t[1]))),e};else{var n,o=this.g;o===nw?n=Ao:o===ow?n=ju:o===iw&&(n=Bo),e=function(t,e){return e?o===iw?e.na([t[0].concat([t[0][0]])]):e.na(t):e=new n(t),e}}this.$a=e,this.I=this.B=this.a=this.C=this.j=this.o=null,this.ed=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.oa=new mf({source:new Pf({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:Nf()}),this.Ib=t.geometryName,this.Gk=t.condition?t.condition:gi,this.Lf=t.freehand?eo:t.freehandCondition?t.freehandCondition:mi,oe(this,ve("active"),this.Bi,this)}function Nf(){var t=ou();return function(e){return t[e.V().T()]}}function Of(t){this.u=this.g!==nw&&this.Lf(t);var e=!this.u;return this.u&&"pointerdrag"===t.type&&null!==this.j?(Kf(this,t),e=!1):"pointermove"===t.type?e=Df(this,t):"dblclick"===t.type&&(e=!1),Si.call(this,t)&&e}function kf(t){return this.U=!this.u,this.u?(this.ga=t.pixel,this.o||jf(this,t),!0):!!this.Gk(t)&&(this.ga=t.pixel,!0)}function Rf(t){var e=!0;Df(this,t);var n=this.g===rw;return this.U?(this.o?this.u||n?this.Ud():Ff(this,t)?this.Id(t)&&this.Ud():Kf(this,t):(jf(this,t),this.g===nw&&this.Ud()),e=!1):this.u&&(this.o=null,Bf(this)),e}function Df(t,e){if(t.ga&&(!t.u&&t.U||t.u&&!t.U)){var n=t.ga,o=e.pixel,i=n[0]-o[0];n=n[1]-o[1],i=i*i+n*n,t.U=t.u?i>t.ed:i<=t.ed}return t.o?(i=e.coordinate,n=t.j.V(),t.g===nw?o=t.a:t.g===iw?(o=t.a[0],o=o[o.length-1],Ff(t,e)&&(i=t.o.slice())):(o=t.a,o=o[o.length-1]),o[0]=i[0],o[1]=i[1],t.$a(t.a,n),t.C&&t.C.V().na(i),n instanceof Bo&&t.g!==iw?(t.B||(t.B=new ru(new ju(null))),i=n.Kh(0),e=t.B.V(),e.aa(i.ja,i.ba())):t.I&&(e=t.B.V(),e.na(t.I)),Xf(t)):(e=e.coordinate.slice(),t.C?t.C.V().na(e):(t.C=new ru(new Ao(e)),Xf(t))),!0}function Ff(t,e){var n=!1;if(t.j){var o=!1,i=[t.o];if(t.g===ow?o=t.a.length>t.Sa:t.g===iw&&(o=t.a[0].length>t.Sa,i=[t.a[0][0],t.a[0][t.a[0].length-2]]),o){o=e.map;for(var r=0,a=i.length;r<a;r++){var s=i[r],u=o.Ka(s),h=e.pixel;if(n=h[0]-u[0],u=h[1]-u[1],n=Math.sqrt(n*n+u*u)<=(t.u?1:t.Hk)){t.o=s;break}}}}return n}function jf(t,e){e=e.coordinate,t.o=e,t.g===nw?t.a=e.slice():t.g===iw?(t.a=[[e.slice(),e.slice()]],t.I=t.a[0]):(t.a=[e.slice(),e.slice()],t.g===rw&&(t.I=t.a)),t.I&&(t.B=new ru(new ju(t.I))),e=t.$a(t.a),t.j=new ru,t.Ib&&t.j.Wc(t.Ib),t.j.Ra(e),Xf(t),t.b(new Yf("drawstart",t.j))}function Kf(t,e){e=e.coordinate;var n,o=t.j.V();if(t.g===ow){t.o=e.slice();var i=t.a;i.length>=t.va&&(t.u?i.pop():n=!0),i.push(e.slice()),t.$a(i,o)}else t.g===iw&&(i=t.a[0],i.length>=t.va&&(t.u?i.pop():n=!0),i.push(e.slice()),n&&(t.o=i[0]),t.$a(t.a,o));Xf(t),n&&t.Ud()}function Bf(t){t.o=null;var e=t.j;return e&&(t.j=null,t.C=null,t.B=null,t.oa.ia().clear(!0)),e}function Xf(t){var e=[];t.j&&e.push(t.j),t.B&&e.push(t.B),t.C&&e.push(t.C),t=t.oa.ia(),t.clear(!0),t.Ec(e)}function Uf(t){var e;return"Point"===t||"MultiPoint"===t?e=nw:"LineString"===t||"MultiLineString"===t?e=ow:"Polygon"===t||"MultiPolygon"===t?e=iw:"Circle"===t&&(e=rw),e}function Yf(t,e){pe.call(this,t),this.feature=e}function Gf(t){this.a=this.j=null,this.B=!1,this.C=this.o=null,t||(t={}),wi.call(this,{handleDownEvent:zf,handleDragEvent:qf,handleEvent:Wf,handleUpEvent:Hf}),this.u=new mf({source:new Pf({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:Vf(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.I=new mf({source:new Pf({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:$f(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.extent&&this.g(t.extent)}function Wf(t){if(!(t instanceof Je))return!0;if("pointermove"==t.type&&!this.D){var e=t.pixel,n=t.map,o=Qf(this,e,n);o||(o=n.Xa(e)),td(this,o)}return Si.call(this,t),!1}function zf(t){function e(t){var e=null,n=null;return t[0]==i[0]?e=i[2]:t[0]==i[2]&&(e=i[0]),t[1]==i[1]?n=i[3]:t[1]==i[3]&&(n=i[1]),null!==e&&null!==n?[e,n]:null}var n=t.pixel,o=t.map,i=this.G();return(t=Qf(this,n,o))&&i?(n=t[0]==i[0]||t[0]==i[2]?t[0]:null,o=t[1]==i[1]||t[1]==i[3]?t[1]:null,null!==n&&null!==o?this.a=Zf(e(t)):null!==n?this.a=Jf(e([n,i[1]]),e([n,i[3]])):null!==o&&(this.a=Jf(e([i[0],o]),e([i[2],o])))):(t=o.Xa(n),this.g([t[0],t[1],t[0],t[1]]),this.a=Zf(t)),!0}function qf(t){return this.a&&(t=t.coordinate,this.g(this.a(t)),td(this,t)),!0}function Hf(){this.a=null;var t=this.G();return t&&q(t)||this.g(null),!1}function Vf(){var t=ou();return function(){return t.Polygon}}function $f(){var t=ou();return function(){return t.Point}}function Zf(t){return function(e){return E([t,e])}}function Jf(t,e){return t[0]==e[0]?function(n){return E([t,[n[0],e[1]]])}:t[1]==e[1]?function(n){return E([t,[e[0],n[1]]])}:null}function Qf(t,e,n){function o(t,e){return Qn(i,t)-Qn(i,e)}var i=n.Xa(e),r=t.G();if(r){r=[[[r[0],r[1]],[r[0],r[3]]],[[r[0],r[3]],[r[2],r[3]]],[[r[2],r[3]],[r[2],r[1]]],[[r[2],r[1]],[r[0],r[1]]]],r.sort(o),r=r[0];var a=Wn(i,r),s=n.Ka(a);if(10>=Jn(e,s))return e=n.Ka(r[0]),n=n.Ka(r[1]),e=Zn(s,e),n=Zn(s,n),t.B=10>=Math.sqrt(Math.min(e,n)),t.B&&(a=e>n?r[1]:r[0]),a}return null}function td(t,e){var n=t.C;n?n.V().na(e):(n=new ru(new Ao(e)),t.C=n,t.I.ia().Bb(n))}function ed(t){pe.call(this,"extentchanged"),this.extent=t}function nd(t){if(wi.call(this,{handleDownEvent:ud,handleDragEvent:hd,handleEvent:ld,handleUpEvent:pd}),this.Id=t.condition?t.condition:xi,this.Ib=function(t){return ci(t)&&vi(t)},this.Zb=t.deleteCondition?t.deleteCondition:this.Ib,this.ed=t.insertVertexCondition?t.insertVertexCondition:eo,this.Za=this.g=null,this.Sa=[0,0],this.B=this.I=!1,this.a=new Ka,this.oa=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.o=this.va=!1,this.j=[],this.C=new mf({source:new Pf({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:vd(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.ga={Point:this.Rn,LineString:this.Di,LinearRing:this.Di,Polygon:this.Sn,MultiPoint:this.Pn,MultiLineString:this.On,MultiPolygon:this.Qn,Circle:this.Mn,GeometryCollection:this.Nn},this.U=null,t.source?(this.U=t.source,t=new be(this.U.ee()),oe(this.U,"addfeature",this.fm,this),oe(this.U,"removefeature",this.hm,this)):t=t.features,!t)throw Error("The modify interaction requires features or a source");this.u=t,this.u.forEach(this.sg,this),oe(this.u,"add",this.Kn,this),oe(this.u,"remove",this.Ln,this),this.S=null}function od(t,e){t.B||(t.B=!0,t.b(new gd("modifystart",t.u,e)))}function id(t,e){rd(t,e),t.g&&!t.u.ec()&&(t.C.ia().Fb(t.g),t.g=null),re(e,"change",t.Ci,t)}function rd(t,e){t=t.a;var n=[];t.forEach(function(t){e===t.feature&&n.push(t)});for(var o=n.length-1;0<=o;--o)t.remove(n[o])}function ad(t,e){var n=t.g;n?n.V().na(e):(n=new ru(new Ao(e)),t.g=n,t.C.ia().Bb(n))}function sd(t,e){return t.index-e.index}function ud(t){if(!this.Id(t))return!1;cd(this,t.pixel,t.map);var e=t.map.Xa(t.pixel);this.j.length=0,this.B=!1;var n=this.g;if(n){var o=[];n=n.V().X();var i=E([n]);i=Ua(this.a,i);var r={};i.sort(sd);for(var a=0,s=i.length;a<s;++a){var u=i[a],h=u.la,p=c(u.feature),l=u.depth;l&&(p+="-"+l.join("-")),r[p]||(r[p]=Array(2)),"Circle"===u.geometry.T()&&1===u.index?(h=dd(e,u),Hn(h,n)&&!r[p][0]&&(this.j.push([u,0]),r[p][0]=u)):Hn(h[0],n)&&!r[p][0]?(this.j.push([u,0]),r[p][0]=u):Hn(h[1],n)&&!r[p][1]?("LineString"!==u.geometry.T()&&"MultiLineString"!==u.geometry.T()||!r[p][0]||0!==r[p][0].index)&&(this.j.push([u,1]),r[p][1]=u):this.ed(t)&&c(h)in this.Za&&!r[p][0]&&!r[p][1]&&o.push([u,n])}for(o.length&&od(this,t),t=o.length-1;0<=t;--t)this.pm.apply(this,o[t])}return!!this.g}function hd(t){this.I=!1,od(this,t),t=t.coordinate;for(var e=0,n=this.j.length;e<n;++e){var o=this.j[e],i=o[0],r=i.depth,a=i.geometry,s=i.la;for(o=o[1];t.length<a.ma();)t.push(s[o][t.length]);switch(a.T()){case"Point":var u=t;s[0]=s[1]=t;break;case"MultiPoint":u=a.X(),u[i.index]=t,s[0]=s[1]=t;break;case"LineString":u=a.X(),u[i.index+o]=t,s[o]=t;break;case"MultiLineString":u=a.X(),u[r[0]][i.index+o]=t,s[o]=t;break;case"Polygon":u=a.X(),u[r[0]][i.index+o]=t,s[o]=t;break;case"MultiPolygon":u=a.X(),u[r[1]][r[0]][i.index+o]=t,s[o]=t;break;case"Circle":s[0]=s[1]=t,0===i.index?(this.o=!0,a.qb(t)):(this.o=!0,a.Xc(Jn(a.xa(),t))),this.o=!1}u&&(i=a,r=u,this.o=!0,i.na(r),this.o=!1)}ad(this,t)}function pd(t){for(var e,n,o=this.j.length-1;0<=o;--o)if(e=this.j[o][0],n=e.geometry,"Circle"===n.T()){var i=n.xa(),r=e.Wf[0];e=e.Wf[1],r.la[0]=r.la[1]=i,e.la[0]=e.la[1]=i,Ba(this.a,B(i),r),Ba(this.a,n.G(),e)}else Ba(this.a,E(e.la),e);return this.B&&(this.b(new gd("modifyend",this.u,t)),this.B=!1),!1}function ld(t){if(!(t instanceof Je))return!0;this.S=t;var e;return Jo(t.map.$())[1]||"pointermove"!=t.type||this.D||(this.Sa=t.pixel,cd(this,t.pixel,t.map)),this.g&&this.Zb(t)&&(e=!("singleclick"!=t.type||!this.I)||this.rj()),"singleclick"==t.type&&(this.I=!1),Si.call(this,t)&&!e}function cd(t,e,n){function o(t,e){return fd(i,t)-fd(i,e)}var i=n.Xa(e),r=I(B(i),n.$().Pa()*t.oa);if(r=Ua(t.a,r),0<r.length){r.sort(o);var a=r[0],s=a.la,u=dd(i,a),h=n.Ka(u),p=Jn(e,h);if(p<=t.oa){if(e={},"Circle"===a.geometry.T()&&1===a.index)t.va=!0,ad(t,u);else for(p=n.Ka(s[0]),a=n.Ka(s[1]),n=Zn(h,p),h=Zn(h,a),p=Math.sqrt(Math.min(n,h)),t.va=p<=t.oa,t.va&&(u=n>h?s[1]:s[0]),ad(t,u),h=1,n=r.length;h<n&&(u=r[h].la,Hn(s[0],u[0])&&Hn(s[1],u[1])||Hn(s[0],u[1])&&Hn(s[1],u[0]));++h)e[c(u)]=!0;return e[c(s)]=!0,void(t.Za=e)}}t.g&&(t.C.ia().Fb(t.g),t.g=null)}function fd(t,e){var n=e.geometry;return"Circle"===n.T()&&1===e.index?(t=Zn(n.xa(),t),n=Math.sqrt(t)-n.ud(),n*n):Qn(t,e.la)}function dd(t,e){var n=e.geometry;return"Circle"===n.T()&&1===e.index?n.Db(t):Wn(t,e.la)}function yd(t,e,n,o,i){Ya(t.a,e.G(),function(t){t.geometry===e&&(void 0===o||void 0===t.depth||a(t.depth,o))&&t.index>n&&(t.index+=i)})}function vd(){var t=ou();return function(){return t.Point}}function gd(t,e,n){pe.call(this,t),this.features=e,this.mapBrowserEvent=n}function md(t){if(ai.call(this,{handleEvent:bd}),t=t?t:{},this.B=t.condition?t.condition:vi,this.D=t.addCondition?t.addCondition:no,this.C=t.removeCondition?t.removeCondition:no,this.I=t.toggleCondition?t.toggleCondition:mi,this.o=!!t.multi&&t.multi,this.l=t.filter?t.filter:eo,this.j=t.hitTolerance?t.hitTolerance:0,this.g=new mf({source:new Pf({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:_d(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.layers)if("function"==typeof t.layers)t=t.layers;else{var e=t.layers;t=function(t){return n(e,t)}}else t=eo;this.u=t,this.a={},t=this.g.ia().i,oe(t,"add",this.Tn,this),oe(t,"remove",this.Xn,this)}function bd(t){if(!this.B(t))return!0;var e=this.D(t),o=this.C(t),i=this.I(t),r=!e&&!o&&!i,a=t.map,s=this.g.ia().i,u=[],h=[];if(r){for(st(this.a),a.Vd(t.pixel,function(t,e){if(this.l(t,e))return h.push(t),t=c(t),this.a[t]=e,!this.o}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),r=s.ec()-1;0<=r;--r){a=s.item(r);var p=h.indexOf(a);-1<p?h.splice(p,1):(s.remove(a),u.push(a))}h.length&&s.ng(h)}else{for(a.Vd(t.pixel,function(t,r){if(this.l(t,r))return!e&&!i||n(s.a,t)?(o||i)&&n(s.a,t)&&(u.push(t),r=c(t),delete this.a[r]):(h.push(t),t=c(t),this.a[t]=r),!this.o}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),r=u.length-1;0<=r;--r)s.remove(u[r]);s.ng(h)}return(0<h.length||0<u.length)&&this.b(new xd(aw,h,u,t)),yi(t)}function _d(){var t=ou();return i(t.Polygon,t.LineString),i(t.GeometryCollection,t.LineString),function(e){return e.V()?t[e.V().T()]:null}}function xd(t,e,n,o){pe.call(this,t),this.selected=e,this.deselected=n,this.mapBrowserEvent=o}function wd(t){wi.call(this,{handleEvent:Sd,handleDownEvent:eo,handleUpEvent:Cd}),t=t?t:{},this.o=t.source?t.source:null,this.S=void 0===t.vertex||t.vertex,this.B=void 0===t.edge||t.edge,this.j=t.features?t.features:null,this.oa=[],this.C={},this.U={},this.u={},this.I=null,this.g=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.va=Md.bind(this),this.a=new Ka,this.ga={Point:this.fo,LineString:this.Gi,LinearRing:this.Gi,Polygon:this.ho,MultiPoint:this.co,MultiLineString:this.bo,MultiPolygon:this.eo,GeometryCollection:this.ao,Circle:this.$n}}function Pd(t,e,n,o){var i=o.Xa([e[0]-t.g,e[1]+t.g]),r=o.Xa([e[0]+t.g,e[1]-t.g]);i=E([i,r]);var a=Ua(t.a,i);t.S&&!t.B&&(a=a.filter(function(t){return"Circle"!==t.feature.V().T()}));var s=!1;i=!1;var u=r=null;if(0<a.length){t.I=n,a.sort(t.va);var h=a[0].la;s="Circle"===a[0].feature.V().T(),t.S&&!t.B?(n=o.Ka(h[0]),s=o.Ka(h[1]),n=Zn(e,n),e=Zn(e,s),s=Math.sqrt(Math.min(n,e)),(s=s<=t.g)&&(i=!0,r=n>e?h[1]:h[0],u=o.Ka(r))):t.B&&(r=s?Gn(n,a[0].feature.V()):Wn(n,h),u=o.Ka(r),Jn(e,u)<=t.g&&(i=!0,t.S&&!s&&(n=o.Ka(h[0]),s=o.Ka(h[1]),n=Zn(u,n),e=Zn(u,s),s=Math.sqrt(Math.min(n,e)),s=s<=t.g)))&&(r=n>e?h[1]:h[0],u=o.Ka(r)),i&&(u=[Math.round(u[0]),Math.round(u[1])])}return{Bq:i,vertex:r,Kq:u}}function Sd(t){var e=Pd(this,t.pixel,t.coordinate,t.map);return e.Bq&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.Kq),Si.call(this,t)}function Cd(){var t=ut(this.u);return t.length&&(t.forEach(this.Nj,this),this.u={}),!1}function Md(t,e){return Qn(this.I,t.la)-Qn(this.I,e.la)}function Td(t){if(wi.call(this,{handleDownEvent:Ad,handleDragEvent:Id,handleMoveEvent:Ld,handleUpEvent:Ed}),t=t?t:{},this.a=null,this.j=void 0!==t.features?t.features:null,t.layers)if("function"==typeof t.layers)var e=t.layers;else{var o=t.layers;e=function(t){return n(o,t)}}else e=eo;this.B=e,this.o=t.hitTolerance?t.hitTolerance:0,this.g=null,oe(this,ve("active"),this.u,this)}function Ad(t){if(this.g=Nd(this,t.pixel,t.map),!this.a&&this.g){this.a=t.coordinate,Ld.call(this,t);var e=this.j||new be([this.g]);return this.b(new kd("translatestart",e,t.coordinate)),!0}return!1}function Ed(t){if(this.a){this.a=null,Ld.call(this,t);var e=this.j||new be([this.g]);return this.b(new kd("translateend",e,t.coordinate)),!0}return!1}function Id(t){if(this.a){t=t.coordinate;var e=t[0]-this.a[0],n=t[1]-this.a[1],o=this.j||new be([this.g]);o.forEach(function(t){var o=t.V();o.translate(e,n),t.Ra(o)}),this.a=t,this.b(new kd("translating",o,t))}}function Ld(t){var e=t.map.a;Nd(this,t.pixel,t.map)?(e.classList.remove(this.a?"ol-grab":"ol-grabbing"),e.classList.add(this.a?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")}function Nd(t,e,o){return o.Vd(e,function(t){if(!this.j||n(this.j.a,t))return t}.bind(t),{layerFilter:t.B,hitTolerance:t.o})}function Od(t,e){var n=t.v;t=t.c(),n&&t||(n=n||e)&&n.a.classList.remove("ol-grab","ol-grabbing")}function kd(t,e,n){pe.call(this,t),this.features=e,this.coordinate=n}function Rd(t){t=t?t:{};var e=Nv({},t);delete e.gradient,delete e.radius,delete e.blur,delete e.shadow,delete e.weight,mf.call(this,e),this.g=null,this.I=void 0!==t.shadow?t.shadow:250,this.B=void 0,this.D=null,oe(this,ve(hw),this.Nl,this),this.zj(t.gradient?t.gradient:sw),this.tj(void 0!==t.blur?t.blur:15),this.Xc(void 0!==t.radius?t.radius:8),oe(this,ve(uw),this.lg,this),oe(this,ve(pw),this.lg,this),this.lg();var n,o=t.weight?t.weight:"weight";n="string"==typeof o?function(t){return t.get(o)}:o,this.i(function(t){t=n(t),t=void 0!==t?b(t,0,1):1;var e=255*t|0,o=this.D[e];return o||(o=[new tu({image:new yp({opacity:t,src:this.B})})],this.D[e]=o),o}.bind(this)),this.set(ew,null),oe(this,"render",this.dm,this)}function Dd(t){ef.call(this,t),this.o=pr(),this.g=null}function Fd(t){Dd.call(this,t),this.M=null,this.i=pr()}function jd(t,e,n,o){var i=Lt(n,e,t);return n=mt(e,o,n),e=e.Nc(),void 0!==e&&(n*=e),e=t.Nc(),void 0!==e&&(n/=e),e=t.G(),e&&!O(e,i)||(t=mt(t,n,i)/n,isFinite(t)&&0<t&&(n/=t)),n}function Kd(t,e,n,o){t=n-t,e=o-e;var i=Math.sqrt(t*t+e*e);return[Math.round(n+t/i),Math.round(o+e/i)]}function Bd(t,e,n,o,i,r,a,s,u,h,p){var l=Te(Math.round(n*t),Math.round(n*e));if(!u.length)return l.canvas;l.scale(n,n);var c=F();u.forEach(function(t){Y(c,t.extent)});var f=Te(Math.round(n*nt(c)/o),Math.round(n*J(c)/o)),d=n/o;u.forEach(function(t){f.drawImage(t.image,h,h,t.image.width-2*h,t.image.height-2*h,(t.extent[0]-c[0])*d,-(t.extent[3]-c[3])*d,nt(t.extent)*d,J(t.extent)*d)});var y=tt(a);return s.c.forEach(function(t){var e=t.source,i=t.target,a=e[1][0],s=e[1][1],u=e[2][0],h=e[2][1];t=(i[0][0]-y[0])/r;var p=-(i[0][1]-y[1])/r,d=(i[1][0]-y[0])/r,v=-(i[1][1]-y[1])/r,g=(i[2][0]-y[0])/r,m=-(i[2][1]-y[1])/r;i=e[0][0],e=e[0][1],a-=i,s-=e,u-=i,h-=e;t:{for(a=[[a,s,0,0,d-t],[u,h,0,0,g-t],[0,0,a,s,v-p],[0,0,u,h,m-p]],s=a.length,u=0;u<s;u++){h=u;for(var b=Math.abs(a[u][u]),_=u+1;_<s;_++){var x=Math.abs(a[_][u]);x>b&&(b=x,h=_)}if(!b){a=null;break t}for(b=a[h],a[h]=a[u],a[u]=b,h=u+1;h<s;h++)for(b=-a[h][u]/a[u][u],_=u;_<s+1;_++)a[h][_]=u==_?0:a[h][_]+b*a[u][_]}for(u=Array(s),h=s-1;0<=h;h--)for(u[h]=a[h][s]/a[h][h],b=h-1;0<=b;b--)a[b][s]-=a[b][h]*u[h];a=u}a&&(l.save(),l.beginPath(),u=(t+d+g)/3,h=(p+v+m)/3,s=Kd(u,h,t,p),d=Kd(u,h,d,v),g=Kd(u,h,g,m),l.moveTo(d[0],d[1]),l.lineTo(s[0],s[1]),l.lineTo(g[0],g[1]),l.clip(),l.transform(a[0],a[2],a[1],a[3],t,p),l.translate(c[0]-i,c[3]-e),l.scale(o/n,-o/n),l.drawImage(f.canvas,0,0),l.restore())}),p&&(l.save(),l.strokeStyle="black",l.lineWidth=1,s.c.forEach(function(t){var e=t.target;t=(e[0][0]-y[0])/r;var n=-(e[0][1]-y[1])/r,o=(e[1][0]-y[0])/r,i=-(e[1][1]-y[1])/r,a=(e[2][0]-y[0])/r;e=-(e[2][1]-y[1])/r,l.beginPath(),l.moveTo(o,i),l.lineTo(t,n),l.lineTo(a,e),l.closePath(),l.stroke()}),l.restore()),l.canvas}function Xd(t,e,n,o,i){this.f=t,this.i=e;var r={},a=Tt(this.i,this.f);this.a=function(t){var e=t[0]+"/"+t[1];return r[e]||(r[e]=a(t)),r[e]},this.g=o,this.v=i*i,this.c=[],this.l=!1,this.o=this.f.f&&!!o&&!!this.f.G()&&nt(o)==nt(this.f.G()),this.b=this.f.G()?nt(this.f.G()):null,this.j=this.i.G()?nt(this.i.G()):null,t=tt(n),e=et(n),o=V(n),n=H(n),i=this.a(t);var s=this.a(e),u=this.a(o),h=this.a(n);if(Ud(this,t,e,o,n,i,s,u,h,10),this.l){var p=1/0;this.c.forEach(function(t){p=Math.min(p,t.source[0][0],t.source[1][0],t.source[2][0])}),this.c.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-p>this.b/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-p>this.b/2&&(e[0][0]-=this.b),e[1][0]-p>this.b/2&&(e[1][0]-=this.b),e[2][0]-p>this.b/2&&(e[2][0]-=this.b),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.b/2&&(t.source=e)}},this)}r={}}function Ud(t,e,n,o,i,r,a,s,u,h){var p=E([r,a,s,u]),l=t.b?nt(p)/t.b:null,c=t.b,f=t.f.f&&.5<l&&1>l,d=!1;if(0<h){if(t.i.c&&t.j){var y=E([e,n,o,i]);d|=.25<nt(y)/t.j}!f&&t.f.c&&l&&(d|=.25<l)}if(d||!t.g||ot(p,t.g)){if(!(d||isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1]))){if(!(0<h))return;d=!0}if(0<h&&(d||(p=t.a([(e[0]+o[0])/2,(e[1]+o[1])/2]),c=f?(S(r[0],c)+S(s[0],c))/2-S(p[0],c):(r[0]+s[0])/2-p[0],p=(r[1]+s[1])/2-p[1],d=c*c+p*p>t.v),d))return void(Math.abs(e[0]-o[0])<=Math.abs(e[1]-o[1])?(f=[(n[0]+o[0])/2,(n[1]+o[1])/2],c=t.a(f),p=[(i[0]+e[0])/2,(i[1]+e[1])/2],l=t.a(p),Ud(t,e,n,f,p,r,a,c,l,h-1),Ud(t,p,f,o,i,l,c,s,u,h-1)):(f=[(e[0]+n[0])/2,(e[1]+n[1])/2],c=t.a(f),p=[(o[0]+i[0])/2,(o[1]+i[1])/2],l=t.a(p),Ud(t,e,f,p,i,r,c,l,u,h-1),Ud(t,f,n,o,p,c,a,s,l,h-1)));if(f){if(!t.o)return;t.l=!0}t.c.push({source:[r,s,u],target:[e,o,i]}),t.c.push({source:[r,a,s],target:[e,n,o]})}}function Yd(t){var e=F();return t.c.forEach(function(t){t=t.source,G(e,t[0]),G(e,t[1]),G(e,t[2])}),e}function Gd(t,e,n,o,i,r){this.v=e,this.o=t.G();var a=e.G(),s=a?Q(n,a):n;a=jd(t,e,$(s),o),this.j=new Xd(t,e,s,this.o,.5*a),this.c=o,this.f=n,t=Yd(this.j),this.l=(this.Gb=r(t,a,i))?this.Gb.a:1,this.le=this.g=null,i=2,r=[],this.Gb&&(i=0,r=this.Gb.i),sc.call(this,n,o,this.l,i,r)}function Wd(t){_f.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.B=void 0!==t.resolutions?t.resolutions:null,this.i=null,this.ga=0}function zd(t,e){return t.B&&(e=t.B[o(t.B,e,0)]),e}function qd(t,e){t.Y().src=e}function Hd(t,e){pe.call(this,t),this.image=e}function Vd(t){Wd.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.oa=t.canvasFunction,this.S=null,this.U=0,this.va=void 0!==t.ratio?t.ratio:1.5}function $d(t){this.a=t.source,this.Za=pr(),this.g=Te(),this.o=[0,0],this.Sa=void 0==t.renderBuffer?100:t.renderBuffer,this.C=null,Vd.call(this,{attributions:t.attributions,canvasFunction:this.Ek.bind(this),logo:t.logo,projection:t.projection,ratio:t.ratio,resolutions:t.resolutions,state:this.a.getState()}),this.I=null,this.v=void 0,this.Si(t.style),oe(this.a,"change",this.Eo,this)}function Zd(t,e,n,o,i){return n=o/n,br(t.Za,i[0]/2,i[1]/2,n,-n,0,-e[0],-e[1])}function Jd(t,e){df.call(this,t,e),this.l=this.i=this.M=null}function Qd(t,e){return e=e.Y(),la(t.c.f,e)}function ty(t,e,n,o,i,r,a,s){e*=r,n*=r,t=t.R,lr(t),gr(t,2*o/e,2*o/n),vr(t,-a),mr(t,s[0]-i[0],s[1]-i[1]),gr(t,(s[2]-s[0])/2,(s[3]-s[1])/2),mr(t,1,1)}function ey(t){sr.call(this,t?t:{})}function ny(t){Dd.call(this,t),this.context=null===this.context?null:Te(),this.j=null,this.i=[],this.l=F(),this.oa=new y(0,0,0,0),this.B=pr(),this.S=0}function oy(t,e){return e=e.getState(),t=t.a.pd(),2==e||4==e||3==e&&!t}function iy(){this.b="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}function ry(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}function ay(t,e){this.f=t.getUniformLocation(e,"e"),this.c=t.getUniformLocation(e,"d"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function sy(t,e){df.call(this,t,e),this.I=dw,this.ga=yw,this.i=null,this.C=new Zr([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.D=this.l=null,this.o=-1,this.S=[0,0]}function uy(t){t=t?t:{};var e=Nv({},t);delete e.preload,delete e.useInterimTilesOnError,sr.call(this,e),this.Ji(void 0!==t.preload?t.preload:0),this.Ki(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}function hy(t){this.context=null,ny.call(this,t),this.C=!1,this.R=pr(),this.S="vector"==t.g?1:0}function py(t,e){return nt(e.G())/A(t.tileGrid.eb(e.sa[0]))[0]}function ly(t){t=t?t:{};var e=Nv({},t);delete e.preload,delete e.useInterimTilesOnError,mf.call(this,e),this.Li(t.preload?t.preload:0),this.Mi(!t.useInterimTilesOnError||t.useInterimTilesOnError),d(void 0==t.renderMode||"image"==t.renderMode||"hybrid"==t.renderMode||"vector"==t.renderMode,28),this.g=t.renderMode||"hybrid"}function cy(t,e,n,o){function i(){delete window[a],r.parentNode.removeChild(r)}var r=document.createElement("script"),a="olc_"+c(e);r.async=!0,r.src=t+(-1==t.indexOf("?")?"?":"&")+(o||"callback")+"="+a;var s=setTimeout(function(){i(),n&&n()},1e4);window[a]=function(t){clearTimeout(s),i(),e(t)},document.getElementsByTagName("head")[0].appendChild(r)}function fy(t,e,n,o,i,r,a,s,u,h,p){if(pc.call(this,i,0),this.D=void 0!==p&&p,this.R=a,this.u=s,this.v=null,this.c=e,this.j=o,this.l=r?r:i,this.f=[],this.Dd=null,this.g=0,r=o.Fa(this.l),s=this.j.G(),i=this.c.G(),r=s?Q(r,s):r,q(r))if((s=t.G())&&(i=i?Q(i,s):s),o=jd(t,n,$(r),o.Ca(this.l[0])),!isFinite(o)||0>=o)this.state=4;else if(this.o=new Xd(t,n,r,i,o*(void 0!==h?h:.5)),this.o.c.length)if(this.g=e.uc(o),n=Yd(this.o),i&&(t.f?(n[1]=b(n[1],i[1],i[3]),n[3]=b(n[3],i[1],i[3])):n=Q(n,i)),q(n)){for(t=Bt(e,n,this.g),e=t.ca;e<=t.da;e++)for(n=t.ea;n<=t.ha;n++)(h=u(this.g,e,n,a))&&this.f.push(h);this.f.length||(this.state=4)}else this.state=4;else this.state=4;else this.state=4}function dy(t,e){var n=/\{z\}/g,o=/\{x\}/g,i=/\{y\}/g,r=/\{-y\}/g;return function(a){if(a)return t.replace(n,a[0].toString()).replace(o,a[1].toString()).replace(i,function(){return(-a[2]-1).toString()}).replace(r,function(){var t=e.a?e.a[a[0]]:null;return d(t,55),(t.ha-t.ea+1+a[2]).toString()})}}function yy(t,e){for(var n=t.length,o=Array(n),i=0;i<n;++i)o[i]=dy(t[i],e);return vy(o)}function vy(t){return 1===t.length?t[0]:function(e,n,o){if(e)return t[S((e[1]<<e[0])+e[2],t.length)](e,n,o)}}function gy(){}function my(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var o,i=n[2].charCodeAt(0);for(o=n[1].charCodeAt(0);o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(i=parseInt(n[2],10),o=parseInt(n[1],10);o<=i;o++)e.push(t.replace(n[0],o.toString()));return e}return e.push(t),e}function by(t){Ss.call(this),this.highWaterMark=void 0!==t?t:2048}function _y(t){return t.c>t.highWaterMark}function xy(t){_f.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.va=void 0!==t.opaque&&t.opaque,this.Za=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new by(t.cacheSize),this.l=[0,0],this.vc=""}function wy(t,e,n,o,i){if(e=t.ae(e),!e)return!1;for(var r,a,s=!0,u=o.ca;u<=o.da;++u)for(var h=o.ea;h<=o.ha;++h)r=t.Rb(n,u,h),a=!1,e.b.hasOwnProperty(r)&&(r=e.get(r),(a=2===r.getState())&&(a=!1!==i(r))),a||(s=!1);return s}function Py(t,e){t.vc!==e&&(t.vc=e,t.s())}function Sy(t,e,n){var o=void 0!==n?n:t.c;if(n=t.Ta(o),t.u&&o.c){var i=e;e=i[0],t=Xt(n,i),o=Ht(o),O(o,t)?e=i:(i=nt(o),t[0]+=i*Math.ceil((o[0]-t[0])/i),e=n.kg(t,e))}if(i=e[0],o=e[1],t=e[2],n.minZoom>i||i>n.maxZoom)n=!1;else{var r=n.G();n=!(n=r?Bt(n,r,i):n.a?n.a[i]:null)||v(n,o,t)}return n?e:null}function Cy(t,e){pe.call(this,t),this.tile=e}function My(t){xy.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.Hc?this.Hc.bind(this):gy,this.urls=null,t.urls?this.ib(t.urls):t.url&&this.mb(t.url),t.tileUrlFunction&&this.hb(t.tileUrlFunction)}function Ty(t){My.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Iy,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=t.tileClass?t.tileClass:dc,this.g={},this.v={},this.Sa=t.reprojectionErrorThreshold,this.I=!1}function Ay(t,e,n,o,i,r,a){return e=[e,n,o],i=(n=Sy(t,e,r))?t.tileUrlFunction(n,i,r):void 0,i=new t.tileClass(e,void 0!==i?0:4,void 0!==i?i:"",t.crossOrigin,t.tileLoadFunction),i.key=a,oe(i,"change",t.Vi,t),i}function Ey(t,e,n,o,i,r){var a=t.Rb(e,n,o),s=t.vc;if(t.a.b.hasOwnProperty(a)){var u=t.a.get(a);if(u.key!=s){var h=u;u=Ay(t,e,n,o,i,r,s),0==h.getState()?u.a=h.a:u.a=h,cc(u),t.a.replace(a,u)}}else u=Ay(t,e,n,o,i,r,s),t.a.set(a,u);return u}function Iy(t,e){t.Y().src=e}function Ly(t){this.i=void 0!==t.hidpi&&t.hidpi,Ty.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Ct("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:this.i?2:1,wrapX:void 0===t.wrapX||t.wrapX}),this.S=void 0!==t.culture?t.culture:"en-us",this.C=void 0!==t.maxZoom?t.maxZoom:-1,this.o=t.key,this.B=t.imagerySet,cy("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.B+"?uriScheme=https&include=ImageryProviders&key="+this.o,this.oa.bind(this),void 0,"jsonp")}function Ny(t){t=t||{};var e=void 0!==t.projection?t.projection:"EPSG:3857",n=void 0!==t.tileGrid?t.tileGrid:Wt({extent:Ht(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});Ty.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX})}function Oy(t){this.B=t.account,this.C=t.map||"",this.i=t.config||{},this.o={},Ny.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,state:"loading",wrapX:t.wrapX}),ky(this)}function ky(t){var e=JSON.stringify(t.i);if(t.o[e])Ry(t,t.o[e]);else{var n="https://"+t.B+".cartodb.com/api/v1/map";t.C&&(n+="/named/"+t.C);var o=new XMLHttpRequest;o.addEventListener("load",t.Pl.bind(t,e)),o.addEventListener("error",t.Ol.bind(t)),o.open("POST",n),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(t.i))}}function Ry(t,e){t.mb("https://"+e.cdn_url.https+"/"+t.B+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png")}function Dy(t){Pf.call(this,{
attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.resolution=void 0,this.distance=void 0!==t.distance?t.distance:20,this.features=[],this.geometryFunction=t.geometryFunction||function(t){return t=t.V(),d(t instanceof Ao,10),t},this.source=t.source,this.source.J("change",Dy.prototype.ra,this)}function Fy(t){if(void 0!==t.resolution){t.features.length=0;for(var e=F(),n=t.distance*t.resolution,o=t.source.ee(),i={},r=0,a=o.length;r<a;r++){var s=o[r];c(s).toString()in i||!(s=t.geometryFunction(s))||(s=s.X(),B(s,e),I(e,n,e),s=t.source.ag(e),s=s.filter(function(t){return t=c(t).toString(),!(t in i)&&(i[t]=!0)}),t.features.push(jy(t,s)))}}}function jy(t,e){for(var n=[0,0],o=e.length-1;0<=o;--o){var i=t.geometryFunction(e[o]);i?Yn(n,i.X()):e.splice(o,1)}return $n(n,1/e.length),t=new ru(new Ao(n)),t.set("features",e),t}function Ky(t,e){var n=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});var o=n.join("&");return t=t.replace(/[?&]$/,""),t=-1===t.indexOf("?")?t+"?":t+"&",t+o}function By(t){t=t||{},Wd.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.S=void 0!==t.crossOrigin?t.crossOrigin:null,this.U=void 0===t.hidpi||t.hidpi,this.a=t.url,this.g=t.imageLoadFunction?t.imageLoadFunction:qd,this.v=t.params||{},this.M=null,this.o=[0,0],this.I=0,this.C=void 0!==t.ratio?t.ratio:1.5}function Xy(t){Wd.call(this,{projection:t.projection,resolutions:t.resolutions}),this.S=void 0!==t.crossOrigin?t.crossOrigin:null,this.o=void 0!==t.displayDpi?t.displayDpi:96,this.g=t.params||{},this.I=t.url,this.a=t.imageLoadFunction?t.imageLoadFunction:qd,this.U=void 0===t.hidpi||t.hidpi,this.oa=void 0!==t.metersPerUnit?t.metersPerUnit:1,this.v=void 0!==t.ratio?t.ratio:1,this.va=void 0!==t.useOverlay&&t.useOverlay,this.M=null,this.C=0}function Uy(t){var e=t.imageExtent,n=void 0!==t.crossOrigin?t.crossOrigin:null,o=t.imageLoadFunction?t.imageLoadFunction:qd;Wd.call(this,{attributions:t.attributions,logo:t.logo,projection:Ct(t.projection)}),this.M=new uc(e,void 0,1,this.j,t.url,n,o),this.a=t.imageSize?t.imageSize:null,oe(this.M,"change",this.l,this)}function Yy(t){t=t||{},Wd.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.oa=void 0!==t.crossOrigin?t.crossOrigin:null,this.g=t.url,this.v=t.imageLoadFunction?t.imageLoadFunction:qd,this.a=t.params||{},this.o=!0,Wy(this),this.U=t.serverType,this.va=void 0===t.hidpi||t.hidpi,this.M=null,this.C=[0,0],this.S=0,this.I=void 0!==t.ratio?t.ratio:1.5}function Gy(t,e,n,o,i,r){if(d(void 0!==t.g,9),r[t.o?"CRS":"SRS"]=i.pb,"STYLES"in t.a||(r.STYLES=""),1!=o)switch(t.U){case"geoserver":o=90*o+.5|0,r.FORMAT_OPTIONS="FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+(";dpi:"+o):"dpi:"+o;break;case"mapserver":r.MAP_RESOLUTION=90*o;break;case"carmentaserver":case"qgis":r.DPI=90*o;break;default:d(!1,8)}r.WIDTH=n[0],r.HEIGHT=n[1],n=i.a;var a;return a=t.o&&"ne"==n.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r.BBOX=a.join(","),Ky(t.g,r)}function Wy(t){t.o=0<=Un(t.a.VERSION||"1.3.0")}function zy(t){t=t||{};var e;e=void 0!==t.attributions?t.attributions:[_w],Ny.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function qy(t){this.C=null,this.va=void 0!==t.operationType?t.operationType:"pixel",this.Sa=void 0!==t.threads?t.threads:1,this.g=Vy(t.sources);for(var e=0,n=this.g.length;e<n;++e)oe(this.g[e],"change",this.s,this);this.U=new On(function(){return 1},this.s.bind(this)),e=Hy(this.g),n={};for(var o=0,i=e.length;o<i;++o)n[c(e[o].layer)]=e[o];this.a=null,this.I={animate:!1,attributions:{},coordinateToPixelTransform:pr(),extent:null,focus:null,index:0,layerStates:n,layerStatesArray:e,logos:{},pixelRatio:1,pixelToCoordinateTransform:pr(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.U,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},Wd.call(this,{}),t.operation&&this.v(t.operation,t.lib)}function Hy(t){return t.map(function(t){return rr(t.a)})}function Vy(t){for(var e=t.length,n=Array(e),o=0;o<e;++o){var i=o,r=t[o],a=null;r instanceof xy?(r=new uy({source:r}),a=new ny(r)):r instanceof Wd&&(r=new ey({source:r}),a=new Fd(r)),n[i]=a}return n}function $y(t,e,n){pe.call(this,t),this.extent=e.extent,this.resolution=e.viewState.resolution/e.pixelRatio,this.data=n}function Zy(t){var e=t.layer.indexOf("-");e=Mw[-1==e?t.layer:t.layer.slice(0,e)];var n=Cw[t.layer];Ny.call(this,{attributions:Sw,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=t.maxZoom?t.maxZoom:e.maxZoom,minZoom:void 0!=t.minZoom?t.minZoom:e.minZoom,opaque:n.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+n.Kb,wrapX:t.wrapX})}function Jy(t){t=t||{},Ty.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.i=t.params||{},this.o=F(),Py(this,Qy(this))}function Qy(t){var e,n=0,o=[];for(e in t.i)o[n++]=e+"-"+t.i[e];return o.join("/")}function tv(t){xy.call(this,{opaque:!1,projection:t.projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX})}function ev(t,e,n){pc.call(this,t,2),this.c=e,this.ua=n,this.f=null}function nv(t){if(this.i=null,Ty.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:Ct("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX}),t.url)if(t.jsonp)cy(t.url,this.wg.bind(this),this.ff.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.No.bind(this)),e.addEventListener("error",this.Mo.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.wg(t.tileJSON):d(!1,51)}function ov(t){if(xy.call(this,{projection:Ct("EPSG:3857"),state:"loading"}),this.v=void 0===t.preemptive||t.preemptive,this.o=gy,this.g=void 0,this.i=t.jsonp||!1,t.url)if(this.i)cy(t.url,this.xg.bind(this),this.gf.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.Ro.bind(this)),e.addEventListener("error",this.Qo.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.xg(t.tileJSON):d(!1,51)}function iv(t,e,n,o,i,r){pc.call(this,t,e),this.l=n,this.f=o,this.v=i,this.c=this.j=this.g=null,this.o=r}function rv(t,e,n,o,i){0==t.state&&!0===i?(ie(t,"change",function(){n.call(o,this.getData(e))},t),av(t)):!0===i?setTimeout(function(){n.call(o,this.getData(e))}.bind(t),0):n.call(o,t.getData(e))}function av(t){if(0==t.state)if(t.state=1,t.o)cy(t.l,t.Ti.bind(t),t.Oe.bind(t));else{var e=new XMLHttpRequest;e.addEventListener("load",t.Po.bind(t)),e.addEventListener("error",t.Oo.bind(t)),e.open("GET",t.l),e.send()}}function sv(t){t=t||{};var e=t.params||{};Ty.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!("TRANSPARENT"in e?e.TRANSPARENT:1),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.B=void 0!==t.gutter?t.gutter:0,this.i=e,this.o=!0,this.C=t.serverType,this.U=void 0===t.hidpi||t.hidpi,this.S="",hv(this),this.ga=F(),lv(this),Py(this,pv(this))}function uv(t,e,n,o,i,r,a){var s=t.urls;if(s){if(a.WIDTH=n[0],a.HEIGHT=n[1],a[t.o?"CRS":"SRS"]=r.pb,"STYLES"in t.i||(a.STYLES=""),1!=i)switch(t.C){case"geoserver":n=90*i+.5|0,a.FORMAT_OPTIONS="FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+(";dpi:"+n):"dpi:"+n;break;case"mapserver":a.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":a.DPI=90*i;break;default:d(!1,52)}return r=r.a,t.o&&"ne"==r.substr(0,2)&&(t=o[0],o[0]=o[1],o[1]=t,t=o[2],o[2]=o[3],o[3]=t),a.BBOX=o.join(","),Ky(1==s.length?s[0]:s[S((e[1]<<e[0])+e[2],s.length)],a)}}function hv(t){var e=0,n=[];if(t.urls){var o,i=0;for(o=t.urls.length;i<o;++i)n[e++]=t.urls[i]}t.S=n.join("#")}function pv(t){var e,n=0,o=[];for(e in t.i)o[n++]=e+"-"+t.i[e];return o.join("/")}function lv(t){t.o=0<=Un(t.i.VERSION||"1.3.0")}function cv(t,e,n,o,i,r,a,s,u,h,p,l,c,f){if(pc.call(this,t,e),this.j={},this.l={},this.c=h,this.f=[],this.u=n,this.v=r,this.g=[],this.o=[],r){var d=u.Fa(r),y=u.Ca(t[0]);s.Yf(d,s.uc(y),function(t){var e=Q(d,s.Fa(t));if(.5<=nt(e)/y&&.5<=J(e)/y){e=t.toString();var n=h[e];n||(n=a(t,p,l),n=h[e]=new c(t,void 0==n?4:0,void 0==n?"":n,o,i),this.o.push(oe(n,"change",f))),n.g++,this.f.push(e)}}.bind(this))}}function fv(t,e){return e=c(e).toString(),e in t.j||(t.j[e]=Te()),t.j[e]}function dv(t,e){return e=c(e).toString(),e in t.l||(t.l[e]={Sd:!1,Sg:null,xf:-1,Tg:-1}),t.l[e]}function yv(t,e){t.Xg(Tu(e,t.o,t.np.bind(t),t.mp.bind(t)))}function vv(t,e,n,o,i){pc.call(this,t,e),this.g=0,this.l=null,this.o=o,this.c=null,this.j={},this.R=i,this.v=n}function gv(t,e,n){return t.j[c(e)+","+n]}function mv(t){var e=t.projection||"EPSG:3857",n=t.extent||Ht(e),o=t.tileGrid||Wt({extent:n,maxZoom:t.maxZoom||22,minZoom:t.minZoom,tileSize:t.tileSize||512});My.call(this,{attributions:t.attributions,cacheSize:void 0!==t.cacheSize?t.cacheSize:128,extent:n,logo:t.logo,opaque:!1,projection:e,state:t.state,tileGrid:o,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:yv,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.g=t.format?t.format:null,this.v={},this.o=void 0==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:vv,this.i={},this.tileGrid||(this.tileGrid=this.Ta(Ct(t.projection||"EPSG:3857")))}function bv(t){this.l=t.matrixIds,Dt.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function _v(t,e,n){var o=[],i=[],a=[],s=[],u=[],h=void 0!==n?n:[];n=Ct(t.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var p=n.Nc(),l="ne"==n.a.substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(t){var e;if(e=!(0<h.length)||r(h,function(e){return t.Identifier==e.TileMatrix})){i.push(t.Identifier),e=28e-5*t.ScaleDenominator/p;var n=t.TileWidth,c=t.TileHeight;l?a.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):a.push(t.TopLeftCorner),o.push(e),s.push(n==c?n:[n,c]),u.push([t.MatrixWidth,-t.MatrixHeight])}}),new bv({extent:e,origins:a,resolutions:o,matrixIds:i,tileSizes:s,sizes:u})}function xv(t){function e(t){return t="KVP"==o?Ky(t,r):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in r?r[e.toLowerCase()]:t}),function(e){if(e){var n={TileMatrix:i.l[e[0]],TileCol:e[1],TileRow:-e[2]-1};return Nv(n,a),e=t,e="KVP"==o?Ky(e,n):e.replace(/\{(\w+?)\}/g,function(t,e){return n[e]})}}}this.ga=void 0!==t.version?t.version:"1.0.0",this.B=void 0!==t.format?t.format:"image/jpeg",this.i=t.dimensions?t.dimensions:{},this.C=t.layer,this.o=t.matrixSet,this.S=t.style;var n=t.urls;void 0===n&&void 0!==t.url&&(n=my(t.url));var o=this.U=void 0!==t.requestEncoding?t.requestEncoding:"KVP",i=t.tileGrid,r={layer:this.C,style:this.S,tilematrixset:this.o};"KVP"==o&&Nv(r,{Service:"WMTS",Request:"GetTile",Version:this.ga,Format:this.B});var a=this.i,s=n&&0<n.length?vy(n.map(e)):gy;Ty.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:s,urls:n,wrapX:void 0!==t.wrapX&&t.wrapX}),Py(this,wv(this))}function wv(t){var e,n=0,o=[];for(e in t.i)o[n++]=e+"-"+t.i[e];return o.join("/")}function Pv(t){t=t||{};var e=t.size,n=e[0],o=e[1],i=[],r=256;switch(void 0!==t.tierSizeCalculation?t.tierSizeCalculation:Aw){case Aw:for(;n>r||o>r;)i.push([Math.ceil(n/r),Math.ceil(o/r)]),r+=r;break;case Ew:for(;n>r||o>r;)i.push([Math.ceil(n/r),Math.ceil(o/r)]),n>>=1,o>>=1;break;default:d(!1,53)}i.push([1,1]),i.reverse(),r=[1];var a=[0];for(o=1,n=i.length;o<n;o++)r.push(1<<o),a.push(i[o-1][0]*i[o-1][1]+a[o-1]);r.reverse(),e=[0,-e[1],e[0],0],e=new Dt({extent:e,origin:tt(e),resolutions:r}),(r=t.url)&&-1==r.indexOf("{TileGroup}")&&(r+="{TileGroup}/{z}-{x}-{y}.jpg"),r=my(r),r=vy(r.map(function(t){return function(e){if(e){var n=e[0],o=e[1];e=-e[2]-1;var r={z:n,x:o,y:e,TileGroup:"TileGroup"+((o+e*i[n][0]+a[n])/256|0)};return t.replace(/\{(\w+?)\}/g,function(t,e){return r[e]})}}})),Ty.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:Sv,tileGrid:e,tileUrlFunction:r})}function Sv(t,e,n,o,i){dc.call(this,t,e,n,o,i),this.f=null}var Cv,Mv,Tv,Av={},Ev=this,Iv=0;p(f,Error);var Lv=function(){var t;return t="cosh"in Math?Math.cosh:function(t){return t=Math.exp(t),(t+1/t)/2}}(),Nv="function"==typeof Object.assign?Object.assign:function(t,e){if(!t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1,i=arguments.length;o<i;++o){var r=arguments[o];if(void 0!==r&&null!==r)for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}return n};pt.prototype.a=function(t){for(var e=this.radius,n=0,o=t.length,i=t[o-1][0],r=t[o-1][1],a=0;a<o;a++){var s=t[a][0],u=t[a][1];n+=P(s-i)*(2+Math.sin(P(r))+Math.sin(P(u))),i=s,r=u}return n*e*e/2},pt.prototype.b=function(t,e){var n=P(t[1]),o=P(e[1]),i=(o-n)/2;return t=P(e[0]-t[0])/2,n=Math.sin(i)*Math.sin(i)+Math.sin(t)*Math.sin(t)*Math.cos(n)*Math.cos(o),2*this.radius*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))},pt.prototype.offset=function(t,e,n){var o=P(t[1]);e/=this.radius;var i=Math.asin(Math.sin(o)*Math.cos(e)+Math.cos(o)*Math.sin(e)*Math.cos(n));return[180*(P(t[0])+Math.atan2(Math.sin(n)*Math.sin(e)*Math.cos(o),Math.cos(e)-Math.sin(o)*Math.sin(i)))/Math.PI,180*i/Math.PI]};var Ov={};Ov.degrees=12741994*Math.PI/360,Ov.ft=.3048,Ov.m=1,Ov["us-ft"]=1200/3937;var kv=null;Cv=lt.prototype,Cv.Uk=function(){return this.pb},Cv.G=function(){return this.i},Cv.jo=function(){return this.b},Cv.Nc=function(){return this.o||Ov[this.b]},Cv.Fl=function(){return this.g},Cv.rm=function(){return this.c},Cv.nq=function(t){this.c=t,this.f=!(!t||!this.i)},Cv.ko=function(t){this.i=t,this.f=!(!this.c||!t)},Cv.yq=function(t){this.g=t},Cv.mq=function(t){this.l=t},p(ct,lt);var Rv=6378137*Math.PI,Dv=[-Rv,-Rv,Rv,Rv],Fv=[-180,-85,180,85],jv=[new ct("EPSG:3857"),new ct("EPSG:102100"),new ct("EPSG:102113"),new ct("EPSG:900913"),new ct("urn:ogc:def:crs:EPSG:6.18:3:3857"),new ct("urn:ogc:def:crs:EPSG::3857"),new ct("http://www.opengis.net/gml/srs/epsg.xml#3857")];p(yt,lt);var Kv=[-180,-90,180,90],Bv=6378137*Math.PI/180,Xv=[new yt("CRS:84"),new yt("EPSG:4326","neu"),new yt("urn:ogc:def:crs:EPSG::4326","neu"),new yt("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new yt("urn:ogc:def:crs:OGC:1.3:CRS84"),new yt("urn:ogc:def:crs:OGC:2:84"),new yt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new yt("urn:x-ogc:def:crs:EPSG:4326","neu")],Uv={},Yv={},Gv=new pt(6371008.8);Ot();var Wv=[0,0,0];Cv=Dt.prototype,Cv.Yf=function(t,e,n){t=Bt(this,t,e);for(var o=t.ca,i=t.da;o<=i;++o)for(var r=t.ea,a=t.ha;r<=a;++r)n([e,o,r])},Cv.G=function(){return this.v},Cv.cj=function(){return this.maxZoom},Cv.dj=function(){return this.minZoom},Cv.Sc=function(t){return this.f?this.f:this.c[t]},Cv.Ca=function(t){return this.b[t]},Cv.ej=function(){return this.b},Cv.Fa=function(t,e){var n=this.Sc(t[0]),o=this.Ca(t[0]),i=A(this.eb(t[0]),this.j),r=n[0]+t[1]*i[0]*o;return t=n[1]+t[2]*i[1]*o,j(r,t,r+i[0]*o,t+i[1]*o,e)},Cv.Me=function(t,e,n){return Ut(this,t[0],t[1],e,!1,n)},Cv.kg=function(t,e,n){return Ut(this,t[0],t[1],this.Ca(e),!1,n)},Cv.eb=function(t){return this.g?this.g:this.i[t]},Cv.uc=function(t,e){return b(o(this.b,t,e||0),this.minZoom,this.maxZoom)},Vt.prototype.f=function(){return this.b},ue.prototype.mc=!1,ue.prototype.ka=l,pe.prototype.preventDefault=pe.prototype.stopPropagation=function(){this.Dp=!0},p(ce,ue),ce.prototype.addEventListener=function(t,e){var n=this.pa[t];n||(n=this.pa[t]=[]),-1===n.indexOf(e)&&n.push(e)},ce.prototype.b=function(t){var e="string"==typeof t?new pe(t):t;t=e.type,e.target=this;var n=this.pa[t];if(n){t in this.qa||(this.qa[t]=0,this.Va[t]=0),++this.qa[t];for(var o=0,i=n.length;o<i;++o)if(!1===n[o].call(this,e)||e.Dp){var r=!1;break}if(--this.qa[t],!this.qa[t]){for(e=this.Va[t],delete this.Va[t];e--;)this.removeEventListener(t,l);delete this.qa[t]}return r}},ce.prototype.ka=function(){se(this)},ce.prototype.removeEventListener=function(t,e){var n=this.pa[t];n&&(e=n.indexOf(e),t in this.Va?(n[e]=l,++this.Va[t]):(n.splice(e,1),n.length||delete this.pa[t]))},p(de,ce),Cv=de.prototype,Cv.s=function(){++this.f,this.b("change")},Cv.L=function(){return this.f},Cv.J=function(t,e,n){if(Array.isArray(t)){for(var o=t.length,i=Array(o),r=0;r<o;++r)i[r]=oe(this,t[r],e,n);return i}return oe(this,t,e,n)},Cv.once=function(t,e,n){if(Array.isArray(t)){for(var o=t.length,i=Array(o),r=0;r<o;++r)i[r]=ie(this,t[r],e,n);return i}return ie(this,t,e,n)},Cv.K=function(t,e,n){if(Array.isArray(t))for(var o=0,i=t.length;o<i;++o)re(this,t[o],e,n);else re(this,t,e,n)},p(ye,de);var zv={};Cv=ye.prototype,Cv.get=function(t){var e;return this.R.hasOwnProperty(t)&&(e=this.R[t]),e},Cv.O=function(){return Object.keys(this.R)},Cv.N=function(){return Nv({},this.R)},Cv.set=function(t,e,n){n?this.R[t]=e:(n=this.R[t],this.R[t]=e,n!==e&&ge(this,t,n))},Cv.H=function(t,e){for(var n in t)this.set(n,t[n],e)},Cv.P=function(t,e){if(t in this.R){var n=this.R[t];delete this.R[t],e||ge(this,t,n)}},p(me,pe),p(be,ye),Cv=be.prototype,Cv.clear=function(){for(;0<this.ec();)this.pop()},Cv.ng=function(t){var e,n=0;for(e=t.length;n<e;++n)this.push(t[n]);return this},Cv.forEach=function(t,e){t=e?t.bind(e):t,e=this.a;for(var n=0,o=e.length;n<o;++n)t(e[n],n,e)},Cv.Hm=function(){return this.a},Cv.item=function(t){return this.a[t]},Cv.ec=function(){return this.get(qv)},Cv.Se=function(t,e){this.c&&xe(this,e),this.a.splice(t,0,e),_e(this),this.b(new we("add",e))},Cv.pop=function(){return this.Pg(this.ec()-1)},Cv.push=function(t){this.c&&xe(this,t);var e=this.ec();return this.Se(e,t),this.ec()},Cv.remove=function(t){var e,n=this.a,o=0;for(e=n.length;o<e;++o)if(n[o]===t)return this.Pg(o)},Cv.Pg=function(t){var e=this.a[t];return this.a.splice(t,1),_e(this),this.b(new we("remove",e)),e},Cv.jq=function(t,e){var n=this.ec();if(t<n)this.c&&xe(this,e,t),n=this.a[t],this.a[t]=e,this.b(new we("remove",n)),this.b(new we("add",e));else{for(;n<t;++n)this.Se(n,void 0);this.Se(t,e)}};var qv="length";p(we,pe);var Hv=/^#(?:[0-9a-f]{3}){1,2}$/i,Vv=/^([a-z]*)$/i,$v=function(){var t={},e=0;return function(n){if(t.hasOwnProperty(n))var o=t[n];else{if(1024<=e){o=0;for(var i in t)3&o++||(delete t[i],--e)}if(o=n,Vv.exec(o)&&(i=document.createElement("div"),i.style.color=o,document.body.appendChild(i),o=getComputedStyle(i).color,document.body.removeChild(i)),Hv.exec(o)){var r=o.length-1;d(3==r||6==r,54);var a=3==r?1:2;r=parseInt(o.substr(1+0*a,a),16),i=parseInt(o.substr(1+1*a,a),16),o=parseInt(o.substr(1+2*a,a),16),1==a&&(r=(r<<4)+r,i=(i<<4)+i,o=(o<<4)+o),r=[r,i,o,1]}else o.indexOf("rgba(")?o.indexOf("rgb(")?d(!1,14):(o=o.slice(4,-1).split(",").map(Number),o.push(1),r=Ce(o)):(o=o.slice(5,-1).split(",").map(Number),r=Ce(o));o=r,t[n]=o,++e}return o}}();p(Ie,ye),Ie.prototype.ka=function(){Ee(this.element),ye.prototype.ka.call(this)},Ie.prototype.g=function(){return this.a},Ie.prototype.setMap=function(t){this.a&&Ee(this.element);for(var e=0,n=this.v.length;e<n;++e)ae(this.v[e]);this.v.length=0,(this.a=t)&&((this.S?this.S:t.D).appendChild(this.element),this.render!==l&&this.v.push(oe(t,"postrender",this.render,this)),t.render())},Ie.prototype.i=function(t){this.S="string"==typeof t?document.getElementById(t):t},p(Le,Ie),Cv=Le.prototype,Cv.jn=function(t){t.preventDefault(),Oe(this)},Cv.hn=function(){return this.l},Cv.ln=function(t){this.l!==t&&(this.l=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.c&&Oe(this))},Cv.kn=function(t){this.l&&this.c!==t&&Oe(this)},Cv.gn=function(){return this.c},p(je,Ie),je.prototype.D=function(t){t.preventDefault(),this.l?this.l():(t=this.a.$())&&void 0!==t.Qa()&&(0<this.o?t.animate({rotation:0,duration:this.o,easing:Re}):t.Ze(0))},p(Be,Ie),Be.prototype.j=function(t,e){if(e.preventDefault(),e=this.a.$()){var n=e.Pa();n&&(t=e.constrainResolution(n,t),0<this.c?(e.Kc()&&e.hd(),e.animate({resolution:t,duration:this.c,easing:Re})):e.Yc(t))}},p(Ue,Ie),Ue.prototype.B=function(t){t.preventDefault(),Ye()&&(t=this.a)&&(Ge()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=this.j?"string"==typeof this.j?document.getElementById(this.j):this.j:t.od(),this.D?t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):We(t):We(t)))},Ue.prototype.u=function(){var t=this.element.firstElementChild,e=this.a;Ge()?(t.className=this.c+"-true",Ae(this.o,this.l)):(t.className=this.c+"-false",Ae(this.l,this.o)),e&&e.Ed()},Ue.prototype.setMap=function(t){Ie.prototype.setMap.call(this,t),t&&this.v.push(oe(document,Zv(),this.u,this))};var Zv=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}();p(ze,Ie),Cv=ze.prototype,Cv.mn=function(){this.j=null},Cv.Fh=function(){return this.get(Qv)},Cv.ii=function(){return this.get(Jv)},Cv.Xl=function(t){this.l=this.a.Ge(t),He(this,this.l)},Cv.Yl=function(){He(this,null),this.l=null},Cv.setMap=function(t){Ie.prototype.setMap.call(this,t),t&&(t=t.a,this.v.push(oe(t,"mousemove",this.Xl,this),oe(t,"mouseout",this.Yl,this)))},Cv.uj=function(t){this.set(Qv,t)},Cv.ji=function(t){this.set(Jv,Ct(t))};var Jv="projection",Qv="coordinateFormat";p(Ve,pe),p($e,Ve),$e.prototype.preventDefault=function(){Ve.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},$e.prototype.stopPropagation=function(){Ve.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var tg,eg,ng=["experimental-webgl","webgl","webkit-3d","moz-webgl"],og="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",ig=-1!==og.indexOf("firefox"),rg=-1!==og.indexOf("safari")&&-1==og.indexOf("chrom"),ag=-1!==og.indexOf("webkit")&&-1==og.indexOf("edge"),sg=-1!==og.indexOf("macintosh"),ug=window.devicePixelRatio||1,hg=!1,pg=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(hg=!0),!0)}catch(t){return!1}}(),lg="DeviceOrientationEvent"in window,cg="geolocation"in navigator,fg="ontouchstart"in window,dg="PointerEvent"in window,yg=!!navigator.msPointerEnabled,vg=!1,gg=[];if("WebGLRenderingContext"in window)try{var mg=Ze(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});mg&&(vg=!0,eg=mg.getParameter(mg.MAX_TEXTURE_SIZE),gg=mg.getSupportedExtensions())}catch(t){}tg=vg,Tv=gg,Mv=eg;var bg={Wq:"singleclick",Lq:"click",Mq:"dblclick",Pq:"pointerdrag",Sq:"pointermove",Oq:"pointerdown",Vq:"pointerup",Uq:"pointerover",Tq:"pointerout",Qq:"pointerenter",Rq:"pointerleave",Nq:"pointercancel"};p(Je,$e),p(tn,Qe),Cv=tn.prototype,Cv.tm=function(t){if(!en(this,t)){1..toString()in this.a&&this.cancel(t);var e=nn(t);this.a[1..toString()]=t,wn(this.b,"pointerdown",e,t)}},Cv.um=function(t){if(!en(this,t)){var e=nn(t);wn(this.b,"pointermove",e,t)}},Cv.xm=function(t){if(!en(this,t)){var e=this.a[1..toString()];e&&e.button===t.button&&(e=nn(t),wn(this.b,"pointerup",e,t),delete this.a[1..toString()])}},Cv.wm=function(t){if(!en(this,t)){var e=nn(t);xn(this.b,e,t)}},Cv.vm=function(t){if(!en(this,t)){var e=nn(t);_n(this.b,e,t)}},Cv.cancel=function(t){var e=nn(t);this.b.cancel(e,t),delete this.a[1..toString()]},p(on,Qe),Cv=on.prototype,Cv.Cm=function(t){this.a[t.pointerId.toString()]=t;var e=rn(this,t);wn(this.b,"pointerdown",e,t)},Cv.Dm=function(t){var e=rn(this,t);wn(this.b,"pointermove",e,t)},Cv.Gm=function(t){var e=rn(this,t);wn(this.b,"pointerup",e,t),delete this.a[t.pointerId.toString()]},Cv.Em=function(t){var e=rn(this,t);_n(this.b,e,t)},Cv.Fm=function(t){var e=rn(this,t);xn(this.b,e,t)},Cv.Bm=function(t){var e=rn(this,t);this.b.cancel(e,t),delete this.a[t.pointerId.toString()]},Cv.Am=function(t){this.b.b(new sn("lostpointercapture",t,t))},Cv.zm=function(t){this.b.b(new sn("gotpointercapture",t,t))},p(an,Qe),Cv=an.prototype,Cv.vp=function(t){Pn(this.b,t)},Cv.wp=function(t){Pn(this.b,t)},Cv.zp=function(t){Pn(this.b,t)},Cv.xp=function(t){Pn(this.b,t)},Cv.yp=function(t){Pn(this.b,t)},Cv.up=function(t){Pn(this.b,t)},Cv.sm=function(t){Pn(this.b,t)},Cv.Gl=function(t){Pn(this.b,t)},p(sn,pe);var _g=!1;try{_g=1===new MouseEvent("click",{buttons:1}).buttons}catch(t){}p(pn,Qe),Cv=pn.prototype,Cv.sj=function(){this.g=0,this.c=void 0},Cv.Fq=function(t){var e=t.touches,n=Object.keys(this.a),o=n.length;if(o>=e.length){var i,r=[];for(i=0;i<o;++i){var a,s=n[i],u=this.a[s];if(!(a=1==s))t:{for(var h=e.length,p=0;p<h;p++)if(a=e[p],a.identifier===s-2){a=!0;break t}a=!1}a||r.push(u.out)}for(i=0;i<r.length;++i)this.Rf(t,r[i])}e=t.changedTouches[0],n=Object.keys(this.a).length,(!n||1===n&&1..toString()in this.a)&&(this.f=e.identifier,void 0!==this.c&&clearTimeout(this.c)),fn(this,t),this.g++,cn(this,t,this.qp)},Cv.qp=function(t,e){this.a[e.pointerId]={target:e.target,out:e,fj:e.target};var n=this.b;e.bubbles=!0,wn(n,"pointerover",e,t),n=this.b,e.bubbles=!1,wn(n,"pointerenter",e,t),wn(this.b,"pointerdown",e,t)},Cv.Eq=function(t){t.preventDefault(),cn(this,t,this.ym)},Cv.ym=function(t,e){var n=this.a[e.pointerId];if(n){var o=n.out,i=n.fj;wn(this.b,"pointermove",e,t),o&&i!==e.target&&(o.relatedTarget=e.target,e.relatedTarget=i,o.target=i,e.target?(_n(this.b,o,t),xn(this.b,e,t)):(e.target=i,e.relatedTarget=null,this.Rf(t,e))),n.out=e,n.fj=e.target}},Cv.Dq=function(t){fn(this,t),cn(this,t,this.Gq)},Cv.Gq=function(t,e){wn(this.b,"pointerup",e,t),this.b.out(e,t),bn(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.f=void 0,this.c=setTimeout(this.sj.bind(this),200))},Cv.Cq=function(t){cn(this,t,this.Rf)},Cv.Rf=function(t,e){this.b.cancel(e,t),this.b.out(e,t),bn(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.f=void 0,this.c=setTimeout(this.sj.bind(this),200))},p(dn,ce),dn.prototype.c=function(t){var e=this.i[t.type];e&&e(t)},dn.prototype.out=function(t,e){t.bubbles=!0,wn(this,"pointerout",t,e)},dn.prototype.cancel=function(t,e){wn(this,"pointercancel",t,e)},dn.prototype.ka=function(){for(var t,e=this.a.length,n=0;n<e;n++)t=this.a[n],gn(this,Object.keys(t.i));ce.prototype.ka.call(this)};var xg=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];p(Sn,ce),Cv=Sn.prototype,Cv.Sh=function(t){Mn(this,t);var e=new Je("pointerup",this.f,t);this.b(e),this.l||t.button||Cn(this,this.c),this.R||(this.i.forEach(ae),this.i.length=0,this.l=!1,this.c=null,he(this.a),this.a=null)},Cv.$l=function(t){Mn(this,t);var e=new Je("pointerdown",this.f,t);this.b(e),this.c=t,this.i.length||(this.a=new dn(document),this.i.push(oe(this.a,"pointermove",this.Vm,this),oe(this.a,"pointerup",this.Sh,this),oe(this.g,"pointercancel",this.Sh,this)))},Cv.Vm=function(t){if(Tn(this,t)){this.l=!0;var e=new Je("pointerdrag",this.f,t,this.l);this.b(e)}t.preventDefault()},Cv.Yp=function(t){this.b(new Je(t.type,this.f,t,!(!this.c||!Tn(this,t))))},Cv.ka=function(){this.v&&(ae(this.v),this.v=null),this.o&&(ae(this.o),this.o=null),this.i.forEach(ae),this.i.length=0,this.a&&(he(this.a),this.a=null),this.g&&(he(this.g),this.g=null),ce.prototype.ka.call(this)},An.prototype.clear=function(){this.b.length=0,this.f.length=0,st(this.a)},An.prototype.i=function(t){d(!(this.c(t)in this.a),31);var e=this.o(t);return 1/0!=e&&(this.b.push(t),this.f.push(e),this.a[this.c(t)]=!0,Ln(this,0,this.b.length-1),!0)},p(On,An),On.prototype.i=function(t){var e=An.prototype.i.call(this,t);return e&&oe(t[0],"change",this.l,this),e},On.prototype.l=function(t){t=t.target;var e=t.getState();2!==e&&3!==e&&4!==e&&5!==e||(re(t,"change",this.l,this),t=t.fb(),t in this.g&&(delete this.g[t],--this.j),this.v())},p(oo,ye),Cv=oo.prototype,Cv.Db=function(t,e){return e=e?e:[NaN,NaN],this.Jb(t[0],t[1],e,1/0),e},Cv.vb=function(t){return this.Pc(t[0],t[1])},Cv.Pc=no,Cv.G=function(t){this.v!=this.f&&(this.o=this.Ce(this.o),this.v=this.f);var e=this.o;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},Cv.Pb=function(t){return this.$d(t*t)},Cv.wb=function(t,e){return this.Fc(Tt(t,e)),this},p(ao,oo),Cv=ao.prototype,Cv.Pc=no,Cv.Ce=function(t){return X(this.A,0,this.A.length,this.a,t)},Cv.bc=function(){return this.A.slice(0,this.a)},Cv.ba=function(){return this.A},Cv.cc=function(){return this.A.slice(this.A.length-this.a)},Cv.dc=function(){return this.ja},Cv.$d=function(t){if(this.l!=this.f&&(st(this.i),this.g=0,this.l=this.f),0>t||this.g&&t<=this.g)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var n=this.md(t);return n.ba().length<this.A.length?this.i[e]=n:(this.g=t,this)},Cv.md=function(){return this},Cv.ma=function(){return this.a},Cv.Fc=function(t){this.A&&(t(this.A,this.A,this.a),this.s())},Cv.rotate=function(t,e){var n=this.ba();if(n){var o=n.length,i=this.ma(),r=n?n:[],a=Math.cos(t);t=Math.sin(t);var s=e[0];e=e[1];for(var u=0,h=0;h<o;h+=i){var p=n[h]-s,l=n[h+1]-e;for(r[u++]=s+p*a-l*t,r[u++]=e+p*t+l*a,p=h+2;p<h+i;++p)r[u++]=n[p]}n&&r.length!=u&&(r.length=u),this.s()}},Cv.scale=function(t,e,n){var o=e;void 0===o&&(o=t);var i=n;if(i||(i=$(this.G())),n=this.ba()){e=n.length;var r=this.ma(),a=n?n:[],s=i[0];i=i[1];for(var u=0,h=0;h<e;h+=r){var p=n[h]-s,l=n[h+1]-i;for(a[u++]=s+t*p,a[u++]=i+o*l,p=h+2;p<h+r;++p)a[u++]=n[p]}n&&a.length!=u&&(a.length=u),this.s()}},Cv.translate=function(t,e){var n=this.ba();n&&(ro(n,0,n.length,this.ma(),t,e,n),this.s())},p(Mo,ao),Cv=Mo.prototype,Cv.clone=function(){var t=new Mo(null);return To(t,this.ja,this.A.slice()),t},Cv.Jb=function(t,e,n,o){return o<N(this.G(),t,e)?o:(this.c!=this.f&&(this.j=Math.sqrt(fo(this.A,0,this.A.length,this.a,0)),this.c=this.f),vo(this.A,0,this.A.length,this.a,this.j,!0,t,e,n,o))},Cv.Fn=function(){return po(this.A,0,this.A.length,this.a)},Cv.X=function(){return xo(this.A,0,this.A.length,this.a)},Cv.md=function(t){var e=[];return e.length=So(this.A,0,this.A.length,this.a,t,e,0),t=new Mo(null),To(t,"XY",e),t},Cv.T=function(){return"LinearRing"},Cv.Ya=function(){},Cv.na=function(t,e){t?(ho(this,e,t,1),this.A||(this.A=[]),this.A.length=bo(this.A,0,t,this.a),this.s()):To(this,"XY",null)},p(Ao,ao),Cv=Ao.prototype,Cv.clone=function(){var t=new Ao(null);return t.aa(this.ja,this.A.slice()),t},Cv.Jb=function(t,e,n,o){var i=this.A;if(t=w(t,e,i[0],i[1]),t<o){for(o=this.a,e=0;e<o;++e)n[e]=i[e];return n.length=o,t}return o},Cv.X=function(){return this.A?this.A.slice():[]},Cv.Ce=function(t){return B(this.A,t)},Cv.T=function(){
return"Point"},Cv.Ya=function(t){return R(t,this.A[0],this.A[1])},Cv.na=function(t,e){t?(ho(this,e,t,0),this.A||(this.A=[]),this.A.length=mo(this.A,t),this.s()):this.aa("XY",null)},Cv.aa=function(t,e){uo(this,t,e),this.s()},p(Bo,ao),Cv=Bo.prototype,Cv.zk=function(t){this.A?i(this.A,t.ba()):this.A=t.ba().slice(),this.c.push(this.A.length),this.s()},Cv.clone=function(){var t=new Bo(null);return t.aa(this.ja,this.A.slice(),this.c.slice()),t},Cv.Jb=function(t,e,n,o){return o<N(this.G(),t,e)?o:(this.B!=this.f&&(this.C=Math.sqrt(yo(this.A,0,this.c,this.a,0)),this.B=this.f),go(this.A,0,this.c,this.a,this.C,!0,t,e,n,o))},Cv.Pc=function(t,e){return Lo(this.Tb(),0,this.c,this.a,t,e)},Cv.In=function(){return lo(this.Tb(),0,this.c,this.a)},Cv.X=function(t){if(void 0!==t){var e=this.Tb().slice();jo(e,0,this.c,this.a,t)}else e=this.A;return wo(e,0,this.c,this.a)},Cv.rb=function(){return this.c},Cv.el=function(){return new Ao(Xo(this))},Cv.kl=function(){return this.c.length},Cv.Kh=function(t){if(0>t||this.c.length<=t)return null;var e=new Mo(null);return To(e,this.ja,this.A.slice(t?this.c[t-1]:0,this.c[t])),e},Cv.Yd=function(){var t,e=this.ja,n=this.A,o=this.c,i=[],r=0,a=0;for(t=o.length;a<t;++a){var s=o[a],u=new Mo(null);To(u,e,n.slice(r,s)),i.push(u),r=s}return i},Cv.Tb=function(){if(this.I!=this.f){var t=this.A;Fo(t,this.c,this.a)?this.j=t:(this.j=t.slice(),this.j.length=jo(this.j,0,this.c,this.a)),this.I=this.f}return this.j},Cv.md=function(t){var e=[],n=[];return e.length=Co(this.A,0,this.c,this.a,Math.sqrt(t),e,0,n),t=new Bo(null),t.aa("XY",e,n),t},Cv.T=function(){return"Polygon"},Cv.Ya=function(t){return Ro(this.Tb(),0,this.c,this.a,t)},Cv.na=function(t,e){t?(ho(this,e,t,2),this.A||(this.A=[]),t=_o(this.A,0,t,this.a,this.c),this.A.length=t.length?t[t.length-1]:0,this.s()):this.aa("XY",null,this.c)},Cv.aa=function(t,e,n){uo(this,t,e),this.c=n,this.s()},p(zo,ye),Cv=zo.prototype,Cv.animate=function(t){var e=Date.now(),n=this.xa().slice(),o=this.Pa(),i=this.Qa(),r=arguments.length;if(1<r&&"function"==typeof arguments[r-1]){var a=arguments[r-1];--r}for(var s=[],u=0;u<r;++u){var h=arguments[u],p={start:e,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||De};h.center&&(p.ke=n,p.oe=h.center,n=p.oe),void 0!==h.zoom?(p.me=o,p.ad=this.constrainResolution(this.a,h.zoom-this.o,0),o=p.ad):h.resolution&&(p.me=o,p.ad=h.resolution,o=p.ad),void 0!==h.rotation&&(p.Df=i,p.pe=i+(S(h.rotation-i+Math.PI,2*Math.PI)-Math.PI),i=p.pe),p.callback=a,p.ke&&p.oe&&!Hn(p.ke,p.oe)||p.me!==p.ad||p.Df!==p.pe?e+=p.duration:p.complete=!0,s.push(p)}this.c.push(s),ni(this,0,1),this.Ff()},Cv.Kc=function(){return 0<Jo(this)[0]},Cv.cl=function(){return 0<Jo(this)[1]},Cv.hd=function(){ni(this,0,-Jo(this)[0]);for(var t=0,e=this.c.length;t<e;++t){var n=this.c[t];n[0].callback&&n[0].callback(!1)}this.c.length=0},Cv.Ff=function(){if(void 0!==this.u&&(cancelAnimationFrame(this.u),this.u=void 0),this.Kc()){for(var t=Date.now(),e=!1,n=this.c.length-1;0<=n;--n){for(var o=this.c[n],i=!0,r=0,a=o.length;r<a;++r){var s=o[r];if(!s.complete){if(e=t-s.start,e=0<s.duration?e/s.duration:1,1<=e?(s.complete=!0,e=1):i=!1,e=s.easing(e),s.ke){var u=s.ke[0],h=s.ke[1];this.set("center",[u+e*(s.oe[0]-u),h+e*(s.oe[1]-h)])}if(s.me&&s.ad&&(u=1===e?s.ad:s.me+e*(s.ad-s.me),s.anchor&&this.set("center",$o(this,u,s.anchor)),this.set("resolution",u)),void 0!==s.Df&&void 0!==s.pe&&(e=1===e?S(s.pe+Math.PI,2*Math.PI)-Math.PI:s.Df+e*(s.pe-s.Df),s.anchor&&this.set("center",Vo(this,e,s.anchor)),this.set("rotation",e)),e=!0,!s.complete)break}}i&&(this.c[n]=null,ni(this,0,-1),(o=o[0].callback)&&o(!0))}this.c=this.c.filter(Boolean),e&&void 0===this.u&&(this.u=requestAnimationFrame(this.Ff))}},Cv.Gc=function(t){return this.g.center(t)},Cv.constrainResolution=function(t,e,n){return this.g.resolution(t,e||0,n||0)},Cv.constrainRotation=function(t,e){return this.g.rotation(t,e||0)},Cv.xa=function(){return this.get("center")},Cv.gd=function(t){t=t||Zo(this);var e=this.xa();d(e,1);var n=this.Pa();d(void 0!==n,2);var o=this.Qa();return d(void 0!==o,3),Z(e,n,o,t)},Cv.an=function(){return this.a},Cv.cn=function(){return this.i},Cv.bn=function(){return this.Ne(this.i)},Cv.rq=function(t){qo(this,Ho(this,{maxZoom:t}))},Cv.dn=function(){return this.Ne(this.a)},Cv.sq=function(t){qo(this,Ho(this,{minZoom:t}))},Cv.en=function(){return this.v},Cv.Pa=function(){return this.get("resolution")},Cv.fn=function(){return this.j},Cv.Ke=function(t,e){return e=e||Zo(this),Math.max(nt(t)/e[0],J(t)/e[1])},Cv.Qa=function(){return this.get("rotation")},Cv.getState=function(){var t=this.xa(),e=this.v,n=this.Pa(),o=this.Qa();return{center:t.slice(),projection:void 0!==e?e:null,resolution:n,rotation:o}},Cv.Qh=function(){var t,e=this.Pa();return void 0!==e&&(t=this.Ne(e)),t},Cv.Ne=function(t){if(t>=this.i&&t<=this.a){var e=this.o||0;if(this.j){var n=o(this.j,t,1);if(e+=n,n==this.j.length-1)return e;var i=this.j[n];n=i/this.j[n+1]}else i=this.a,n=this.B;e+=Math.log(i/t)/Math.log(n)}return e},Cv.Oh=function(t){return this.constrainResolution(this.a,t-this.o,0)},Cv.Xf=function(t,e){e=e||{};var n=e.size;if(n||(n=Zo(this)),t instanceof ao)if("Circle"===t.T()){t=t.G();var o=Yo(t);o.rotate(this.Qa(),$(t))}else o=t;else d(Array.isArray(t),24),d(!it(t),25),o=Yo(t);var i,r=e.padding?e.padding:[0,0,0,0],a=void 0===e.constrainResolution||e.constrainResolution,s=void 0!==e.nearest&&e.nearest;i=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.constrainResolution(this.a,e.maxZoom-this.o,0):0;var u=o.ba(),h=this.Qa();t=Math.cos(-h),h=Math.sin(-h);var p=1/0,c=1/0,f=-(1/0),y=-(1/0);o=o.ma();for(var v=0,g=u.length;v<g;v+=o){var m=u[v]*t-u[v+1]*h,b=u[v]*h+u[v+1]*t;p=Math.min(p,m),c=Math.min(c,b),f=Math.max(f,m),y=Math.max(y,b)}n=this.Ke([p,c,f,y],[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n=isNaN(n)?i:Math.max(n,i),a&&(i=this.constrainResolution(n,0,0),!s&&i<n&&(i=this.constrainResolution(i,-1,0)),n=i),h=-h,i=(p+f)/2+(r[1]-r[3])/2*n,r=(c+y)/2+(r[0]-r[2])/2*n,t=[i*t-r*h,r*t+i*h],r=e.callback?e.callback:l,void 0!==e.duration?this.animate({resolution:n,center:t,duration:e.duration,easing:e.easing},r):(this.Yc(n),this.qb(t),setTimeout(r.bind(void 0,!0),0))},Cv.Fk=function(t,e,n){var o=this.Qa(),i=Math.cos(-o);o=Math.sin(-o);var r=t[0]*i-t[1]*o;t=t[1]*i+t[0]*o;var a=this.Pa();r+=(e[0]/2-n[0])*a,t+=(n[1]-e[1]/2)*a,o=-o,this.qb([r*i-t*o,t*i+r*o])},Cv.rotate=function(t,e){void 0!==e&&(e=Vo(this,t,e),this.qb(e)),this.Ze(t)},Cv.qb=function(t){this.set("center",t),this.Kc()&&this.hd()},Cv.Yc=function(t){this.set("resolution",t),this.Kc()&&this.hd()},Cv.Ze=function(t){this.set("rotation",t),this.Kc()&&this.hd()},Cv.zq=function(t){this.Yc(this.Oh(t))},p(ai,ye),ai.prototype.c=function(){return this.get("active")},ai.prototype.i=function(){return this.v},ai.prototype.Ia=function(t){this.set("active",t)},ai.prototype.setMap=function(t){this.v=t},p(pi,ai),p(wi,ai),wi.prototype.$c=function(t){return t},p(Ci,wi),Ci.prototype.$c=no,p(Ei,wi),Ei.prototype.$c=no,p(Oi,ue),Oi.prototype.ka=function(){this.setMap(null)},Oi.prototype.setMap=function(t){if(this.b){this.b.B.removeChild(this.a);var e=this.a.style;e.left=e.top=e.width=e.height="inherit"}(this.b=t)&&this.b.B.appendChild(this.a)},Oi.prototype.V=function(){return this.Ic},p(Di,wi),Di.prototype.V=function(){return this.a.V()},Di.prototype.j=l;var wg="boxstart",Pg="boxdrag",Sg="boxend";p(Xi,pe),p(Ui,Di),Ui.prototype.j=function(){var t=this.v,e=t.$(),n=t.Mb(),o=this.V().G();if(this.I){var i=e.gd(n);o=[t.Ka(H(o)),t.Ka(et(o))],t=K(void 0);var r,a=0;for(r=o.length;a<r;++a)G(t,o[a]);o=e.Ke(t,n),rt(i,1/o),o=i}n=e.constrainResolution(e.Ke(o,n)),i=$(o),i=e.Gc(i),e.animate({resolution:n,center:i,duration:this.C,easing:Re})},p(Yi,ai),p(Wi,ai),p(qi,ai),qi.prototype.C=function(){this.o=void 0,ni(this.v.$(),1,-1)},qi.prototype.I=function(t){t=t.$(),t.Kc()&&t.hd(),ui(t,-b(this.j,-1,1),this.a,this.D),this.l=void 0,this.j=0,this.a=null,this.u=this.g=void 0},qi.prototype.U=function(t){this.B=t,t||(this.a=null)};var Cg="trackpad",Mg="wheel";p(Vi,wi),Vi.prototype.$c=no,p(Qi,wi),Qi.prototype.$c=no,p(ir,ye),Cv=ir.prototype,Cv.G=function(){return this.get("extent")},Cv.fc=function(){return this.get("maxResolution")},Cv.gc=function(){return this.get("minResolution")},Cv.hc=function(){return this.get("opacity")},Cv.Sb=function(){return this.get("visible")},Cv.za=function(){return this.get("zIndex")},Cv.xc=function(t){this.set("extent",t)},Cv.Bc=function(t){this.set("maxResolution",t)},Cv.Cc=function(t){this.set("minResolution",t)},Cv.yc=function(t){this.set("opacity",t)},Cv.zc=function(t){this.set("visible",t)},Cv.Wb=function(t){this.set("zIndex",t)},p(ar,ir),Cv=ar.prototype,Cv.Kd=function(){},Cv.Qe=function(){this.s()},Cv.Tl=function(){this.i.forEach(ae),this.i.length=0;var t=this.vd();this.i.push(oe(t,"add",this.Sl,this),oe(t,"remove",this.Ul,this));for(var e in this.c)this.c[e].forEach(ae);st(this.c),t=t.a;var n;for(e=0,n=t.length;e<n;e++){var o=t[e];this.c[c(o).toString()]=[oe(o,"propertychange",this.Qe,this),oe(o,"change",this.Qe,this)]}this.s()},Cv.Sl=function(t){t=t.element;var e=c(t).toString();this.c[e]=[oe(t,"propertychange",this.Qe,this),oe(t,"change",this.Qe,this)],this.s()},Cv.Ul=function(t){t=c(t.element).toString(),this.c[t].forEach(ae),delete this.c[t],this.s()},Cv.vd=function(){return this.get(Tg)},Cv.Hi=function(t){this.set(Tg,t)},Cv.fg=function(t){var e=void 0!==t?t:[],n=e.length;this.vd().forEach(function(t){t.fg(e)}),t=rr(this);var o;for(o=e.length;n<o;n++){var i=e[n];i.opacity*=t.opacity,i.visible=i.visible&&t.visible,i.maxResolution=Math.min(i.maxResolution,t.maxResolution),i.minResolution=Math.max(i.minResolution,t.minResolution),void 0!==t.extent&&(i.extent=void 0!==i.extent?Q(i.extent,t.extent):t.extent)}return e},Cv.hg=function(){return"ready"};var Tg="layers";p(sr,ir),Cv=sr.prototype,Cv.fg=function(t){return t=t?t:[],t.push(rr(this)),t},Cv.ia=function(){return this.get("source")||null},Cv.hg=function(){var t=this.ia();return t?t.getState():"undefined"},Cv.io=function(){this.s()},Cv.gm=function(){this.o&&(ae(this.o),this.o=null);var t=this.ia();t&&(this.o=oe(t,"change",this.io,this)),this.s()},Cv.setMap=function(t){this.j&&(ae(this.j),this.j=null),t||this.s(),this.l&&(ae(this.l),this.l=null),t&&(this.j=oe(t,"precompose",function(t){var e=rr(this);e.Ue=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[c(this)]=e},this),this.l=oe(this,"change",t.render,t),this.s())},Cv.Zc=function(t){this.set("source",t)},hr.prototype.clear=function(){this.b={},this.a=0},hr.prototype.get=function(t,e,n){return t=e+":"+t+":"+(n?Se(n):"null"),t in this.b?this.b[t]:null},hr.prototype.set=function(t,e,n,o){this.b[e+":"+t+":"+(n?Se(n):"null")]=o,++this.a};var Ag=new hr,Eg=Array(6);p(xr,ue),Cv=xr.prototype,Cv.ka=function(){for(var t in this.c)he(this.c[t])},Cv.Ha=function(t,e,n,o,i,r,a){function s(t,n){var r=c(t).toString(),a=e.layerStates[c(n)].Ue;if(!(r in e.skippedFeatureUids)||a)return o.call(i,t,a?n:null)}var u,h=e.viewState,p=h.resolution,l=h.projection;if(h=t,l.f){l=l.G();var f=nt(l),d=t[0];(d<l[0]||d>l[2])&&(h=[d+f*Math.ceil((l[0]-d)/f),t[1]])}for(l=e.layerStatesArray,f=l.length-1;0<=f;--f){var y=l[f];if(d=y.layer,ur(y,p)&&r.call(a,d)&&(y=Sr(this,d),d.ia()&&(u=y.Ha(d.ia().u?h:t,e,n,s,i)),u))return u}},Cv.Oi=function(t,e,n,o,i){return void 0!==this.Ha(t,e,n,eo,this,o,i)},Cv.Rl=function(){this.l.render()},Cv.Rg=l,Cv.eq=function(t,e){for(var n in this.c)if(!(e&&n in e.layerStates)){t=n;var o=this.c[t];delete this.c[t],ae(this.v[t]),delete this.v[t],he(o)}},p(Tr,pe);var Ig=[0,0,0,1],Lg=[],Ng=[0,0,0,1];Cv=Er.prototype,Cv.wh=function(){},Cv.Cb=function(){},Cv.wd=function(){},Cv.$b=function(){},Cv.De=function(){},Cv.Ee=function(){},Cv.oc=function(){},Cv.pc=function(){},Cv.qc=function(){},Cv.rc=function(){},Cv.sc=function(){},Cv.tc=function(){},Cv.Qb=function(){},Cv.Na=function(){},Cv.Vb=function(){},Cv.gb=function(){},p(Ir,Er),Cv=Ir.prototype,Cv.$b=function(t){if(ot(this.c,t.G())){if(this.a||this.b){this.a&&Rr(this,this.a),this.b&&Dr(this,this.b);var e=this.R,n=this.u,o=t.ba();e=o?io(o,0,o.length,t.ma(),e,n):null,n=e[2]-e[0],o=e[3]-e[1],n=Math.sqrt(n*n+o*o),o=this.f,o.beginPath(),o.arc(e[0],e[1],n,0,2*Math.PI),this.a&&o.fill(),this.b&&o.stroke()}""!==this.ua&&Nr(this,t.xa(),2,2)}},Cv.wd=function(t){this.Na(t.Da(),t.Ea()),this.Vb(t.Y()),this.gb(t.Ja())},Cv.Cb=function(t){switch(t.T()){case"Point":this.sc(t);break;case"LineString":this.oc(t);break;case"Polygon":this.tc(t);break;case"MultiPoint":this.qc(t);break;case"MultiLineString":this.pc(t);break;case"MultiPolygon":this.rc(t);break;case"GeometryCollection":this.Ee(t);break;case"Circle":this.$b(t)}},Cv.De=function(t,e){(t=(0,e.$a)(t))&&ot(this.c,t.G())&&(this.wd(e),this.Cb(t))},Cv.Ee=function(t){t=t.a;var e,n=0;for(e=t.length;n<e;++n)this.Cb(t[n])},Cv.sc=function(t){var e=t.ba();t=t.ma(),this.M&&Lr(this,e,e.length),""!==this.ua&&Nr(this,e,e.length,t)},Cv.qc=function(t){var e=t.ba();t=t.ma(),this.M&&Lr(this,e,e.length),""!==this.ua&&Nr(this,e,e.length,t)},Cv.oc=function(t){if(ot(this.c,t.G())){if(this.b){Dr(this,this.b);var e=this.f,n=t.ba();e.beginPath(),Or(this,n,0,n.length,t.ma(),!1),e.stroke()}""!==this.ua&&(t=Ku(t),Nr(this,t,2,2))}},Cv.pc=function(t){var e=t.G();if(ot(this.c,e)){if(this.b){Dr(this,this.b),e=this.f;var n=t.ba(),o=0,i=t.rb(),r=t.ma();e.beginPath();var a,s=0;for(a=i.length;s<a;++s)o=Or(this,n,o,i[s],r,!1);e.stroke()}""!==this.ua&&(t=Xu(t),Nr(this,t,t.length,2))}},Cv.tc=function(t){if(ot(this.c,t.G())){if(this.b||this.a){this.a&&Rr(this,this.a),this.b&&Dr(this,this.b);var e=this.f;e.beginPath(),kr(this,t.Tb(),0,t.rb(),t.ma()),this.a&&e.fill(),this.b&&e.stroke()}""!==this.ua&&(t=Xo(t),Nr(this,t,2,2))}},Cv.rc=function(t){if(ot(this.c,t.G())){if(this.b||this.a){this.a&&Rr(this,this.a),this.b&&Dr(this,this.b);var e,n=this.f,o=zu(t),i=0,r=t.c,a=t.ma();n.beginPath();var s=0;for(e=r.length;s<e;++s)i=kr(this,o,i,r[s],a);this.a&&n.fill(),this.b&&n.stroke()}""!==this.ua&&(t=Wu(t),Nr(this,t,t.length,2))}},Cv.Na=function(t,e){if(t?(t=t.b,this.a={fillStyle:Me(t?t:Ig)}):this.a=null,e){t=e.b;var n=e.g,o=e.f,i=e.i,r=e.j,a=e.c;e=e.l,this.b={lineCap:void 0!==n?n:"round",lineDash:o?o:Lg,lineDashOffset:i?i:0,lineJoin:void 0!==r?r:"round",lineWidth:this.g*(void 0!==a?a:1),miterLimit:void 0!==e?e:10,strokeStyle:Me(t?t:Ng)}}else this.b=null},Cv.Vb=function(t){if(t){var e=t.Jc(),n=t.Y(1),o=t.Rc(),i=t.ic();this.D=e[0],this.B=e[1],this.C=i[1],this.M=n,this.v=t.i,this.U=o[0],this.ta=o[1],this.ga=t.o,this.jb=t.g,this.i=t.a*this.g,this.oa=t.v,this.pa=i[0]}else this.M=null},Cv.gb=function(t){if(t){var e=t.Da();e?(e=e.b,this.j={fillStyle:Me(e?e:Ig)}):this.j=null;var n=t.Ea();if(n){e=n.b;var o=n.g,i=n.f,r=n.i,a=n.j,s=n.c;n=n.l,this.o={lineCap:void 0!==o?o:"round",lineDash:i?i:Lg,lineDashOffset:r?r:0,lineJoin:void 0!==a?a:"round",lineWidth:void 0!==s?s:1,miterLimit:void 0!==n?n:10,strokeStyle:Me(e?e:Ng)}}else this.o=null;e=t.a,o=t.f,i=t.c,r=t.l,a=t.i,s=t.b,n=t.Ja();var u=t.g;t=t.j,this.qa={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==u?u:"center",textBaseline:void 0!==t?t:"middle"},this.ua=void 0!==n?n:"",this.va=void 0!==o?this.g*o:0,this.mc=void 0!==i?this.g*i:0,this.Sa=void 0!==r&&r,this.Za=void 0!==a?a:0,this.l=this.g*(void 0!==s?s:1)}else this.ua=""},p(Fr,xr),Fr.prototype.T=function(){return"canvas"},Fr.prototype.Rg=function(t){if(t){var e=this.f,n=t.pixelRatio,o=Math.round(t.size[0]*n),i=Math.round(t.size[1]*n);this.b.width!=o||this.b.height!=i?(this.b.width=o,this.b.height=i):e.clearRect(0,0,o,i),n=t.viewState.rotation,wr(t),jr(this,"precompose",t);var r=t.layerStatesArray;s(r),n&&(e.save(),Ar(e,n,o/2,i/2)),o=t.viewState.resolution;var a;for(i=0,a=r.length;i<a;++i){var u=r[i],h=u.layer;h=Sr(this,h),ur(u,o)&&"ready"==u.Ij&&h.xd(t,u)&&h.u(t,u,e)}n&&e.restore(),jr(this,"postcompose",t),this.a||(this.b.style.display="",this.a=!0),Cr(this,t),t.postRenderFunctions.push(Pr)}else this.a&&(this.b.style.display="none",this.a=!1)},Fr.prototype.Ni=function(t,e,n,o,i,r){var a=e.viewState.resolution,s=e.layerStatesArray,u=s.length;for(t=yr(e.pixelToCoordinateTransform,t.slice()),--u;0<=u;--u){var h=s[u],p=h.layer;if(ur(h,a)&&i.call(r,p)&&(h=Sr(this,p).v(t,e,n,o)))return h}};var Og="Polygon Circle LineString Image Text Default".split(" ");p(Xr,Br),Xr.prototype.T=function(){return 35632},p(Ur,Br),Ur.prototype.T=function(){return 35633},p(Yr,Xr);var kg=new Yr;p(Gr,Ur);var Rg=new Gr;p(Hr,Er),Hr.prototype.Ma=function(t,e,n,o,i,r,a,s,u,h,p){var l=t.b;if(this.g){var c=l.isEnabled(l.STENCIL_TEST),f=l.getParameter(l.STENCIL_FUNC),d=l.getParameter(l.STENCIL_VALUE_MASK),y=l.getParameter(l.STENCIL_REF),v=l.getParameter(l.STENCIL_WRITEMASK),g=l.getParameter(l.STENCIL_FAIL),m=l.getParameter(l.STENCIL_PASS_DEPTH_PASS),b=l.getParameter(l.STENCIL_PASS_DEPTH_FAIL);l.enable(l.STENCIL_TEST),l.clear(l.STENCIL_BUFFER_BIT),l.stencilMask(255),l.stencilFunc(l.ALWAYS,1,255),l.stencilOp(l.KEEP,l.KEEP,l.REPLACE),this.g.Ma(t,e,n,o,i,r,a,s,u,h,p),l.stencilMask(0),l.stencilFunc(l.NOTEQUAL,1,255)}ia(t,34962,this.o),ia(t,34963,this.j),r=this.Bf(l,t,i,r);var _=lr(this.Ib);if(gr(_,2/(n*i[0]),2/(n*i[1])),vr(_,-o),mr(_,-(e[0]-this.origin[0]),-(e[1]-this.origin[1])),e=lr(this.Za),gr(e,2/i[0],2/i[1]),i=lr(this.Sa),o&&vr(i,-o),l.uniformMatrix4fv(r.f,!1,qr(this.U,_)),l.uniformMatrix4fv(r.i,!1,qr(this.U,e)),l.uniformMatrix4fv(r.c,!1,qr(this.U,i)),l.uniform1f(r.a,a),u){h?t=this.Fe(l,t,s,u,p):(l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),this.Td(l,t,s,!0),t=(t=u(null))?t:void 0);var x=t}else this.Td(l,t,s,!1);return this.Cf(l,r),this.g&&(c||l.disable(l.STENCIL_TEST),l.clear(l.STENCIL_BUFFER_BIT),l.stencilFunc(f,y,d),l.stencilMask(v),l.stencilOp(g,b,m)),x};var Dg=[0,0,0,1],Fg=[],jg=[0,0,0,1],Kg=Number.EPSILON||2.220446049250313e-16,Bg=35044;p(Jr,Hr),Cv=Jr.prototype,Cv.$b=function(t,e){var n=t.ud(),o=t.ma();if(n){this.f.push(this.b.length),this.i.push(e),this.c.s&&(this.u.push(this.b.length),this.c.s=!1),this.R=n,t=t.ba(),t=ro(t,0,2,o,-this.origin[0],-this.origin[1]),e=this.a.length,n=this.b.length;var i,r=e/4;for(i=0;2>i;i+=o)this.a[e++]=t[i],this.a[e++]=t[i+1],this.a[e++]=0,this.a[e++]=this.R,this.a[e++]=t[i],this.a[e++]=t[i+1],this.a[e++]=1,this.a[e++]=this.R,this.a[e++]=t[i],this.a[e++]=t[i+1],this.a[e++]=2,this.a[e++]=this.R,this.a[e++]=t[i],this.a[e++]=t[i+1],this.a[e++]=3,this.a[e++]=this.R,this.b[n++]=r,this.b[n++]=r+1,this.b[n++]=r+2,this.b[n++]=r+2,this.b[n++]=r+3,this.b[n++]=r,r+=4}else this.c.s&&(this.l.pop(),this.l.length&&(o=this.l[this.l.length-1],this.c.fillColor=o[0],this.c.strokeColor=o[1],this.c.lineWidth=o[2],this.c.s=!1))},Cv.ab=function(){this.o=new Zr(this.a),this.j=new Zr(this.b),this.f.push(this.b.length),!this.u.length&&0<this.l.length&&(this.l=[]),this.b=this.a=null},Cv.xb=function(t){var e=this.o,n=this.j;return function(){ra(t,e),ra(t,n)}},Cv.Bf=function(t,e,n,o){var i=ua(e,kg,Rg);if(this.v)var r=this.v;else this.v=r=new Wr(t,i);return e.Tc(i),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,16,0),t.enableVertexAttribArray(r.j),t.vertexAttribPointer(r.j,1,5126,!1,16,8),t.enableVertexAttribArray(r.R),t.vertexAttribPointer(r.R,1,5126,!1,16,12),t.uniform2fv(r.I,n),t.uniform1f(r.qa,o),r},Cv.Cf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.j),t.disableVertexAttribArray(e.R)},Cv.Td=function(t,e,n){if(ht(n)){var o=this.f[this.f.length-1];for(n=this.u.length-1;0<=n;--n){var i=this.u[n],r=this.l[n];t.uniform4fv(this.v.B,r[0]),Qr(this,t,r[1],r[2]),Vr(t,e,i,o),o=i}}else{var a=this.f.length-2;for(r=o=this.f[a+1],i=this.u.length-1;0<=i;--i){var s=this.l[i];for(t.uniform4fv(this.v.B,s[0]),Qr(this,t,s[1],s[2]),s=this.u[i];0<=a&&this.f[a]>=s;){var u=this.f[a],h=this.i[a];h=c(h).toString(),n[h]&&(o!==r&&Vr(t,e,o,r),r=u),a--,o=u}o!==r&&Vr(t,e,o,r),o=r=s}}},Cv.Fe=function(t,e,n,o,i){var r,a,s=this.f.length-2,u=this.f[s+1];for(r=this.u.length-1;0<=r;--r){var h=this.l[r];for(t.uniform4fv(this.v.B,h[0]),Qr(this,t,h[1],h[2]),a=this.u[r];0<=s&&this.f[s]>=a;){h=this.f[s];var p=this.i[s],l=c(p).toString();if(void 0===n[l]&&p.V()&&(void 0===i||ot(i,p.V().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Vr(t,e,h,u),u=o(p)))return u;s--,u=h}}},Cv.Na=function(t,e){if(e){var n=e.f;this.c.lineDash=n?n:Fg,n=e.i,this.c.lineDashOffset=n?n:0,n=e.b,n=n instanceof CanvasGradient||n instanceof CanvasPattern?jg:Pe(n).map(function(t,e){return 3!=e?t/255:t})||jg,e=e.c,e=void 0!==e?e:1}else n=[0,0,0,0],e=0;t=t?t.b:[0,0,0,0],t=t instanceof CanvasGradient||t instanceof CanvasPattern?Dg:Pe(t).map(function(t,e){return 3!=e?t/255:t})||Dg,this.c.strokeColor&&a(this.c.strokeColor,n)&&this.c.fillColor&&a(this.c.fillColor,t)&&this.c.lineWidth===e||(this.c.s=!0,this.c.fillColor=t,this.c.strokeColor=n,this.c.lineWidth=e,this.l.push([t,n,e]))},p(ta,Xr);var Xg=new ta;p(ea,Ur);var Ug=new ea;p(oa,ue),Cv=oa.prototype,Cv.ka=function(){se(this.j);var t=this.b;if(!t.isContextLost()){for(var e in this.a)t.deleteBuffer(this.a[e].buffer);for(e in this.f)t.deleteProgram(this.f[e]);for(e in this.c)t.deleteShader(this.c[e]);t.deleteFramebuffer(this.i),t.deleteRenderbuffer(this.o),t.deleteTexture(this.v)}},Cv.jp=function(){return this.b},Cv.kp=function(){st(this.a),st(this.c),st(this.f),this.o=this.v=this.i=this.l=null},Cv.lp=function(){},Cv.Tc=function(t){return t!=this.l&&(this.b.useProgram(t),this.l=t,!0)},p(ca,Hr),Cv=ca.prototype,Cv.xb=function(t){var e=this.o,n=this.j,o=this.jg(!0),i=t.b;return function(){if(!i.isContextLost()){var r,a=0;for(r=o.length;a<r;++a)i.deleteTexture(o[a])}ra(t,e),ra(t,n)}},Cv.Bf=function(t,e){var n=ua(e,Xg,Ug);if(this.Va)var o=this.Va;else this.Va=o=new na(t,n);return e.Tc(n),t.enableVertexAttribArray(o.b),t.vertexAttribPointer(o.b,2,5126,!1,32,0),t.enableVertexAttribArray(o.v),t.vertexAttribPointer(o.v,2,5126,!1,32,8),t.enableVertexAttribArray(o.C),t.vertexAttribPointer(o.C,2,5126,!1,32,16),t.enableVertexAttribArray(o.u),t.vertexAttribPointer(o.u,1,5126,!1,32,24),t.enableVertexAttribArray(o.D),t.vertexAttribPointer(o.D,1,5126,!1,32,28),o},Cv.Cf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.v),t.disableVertexAttribArray(e.C),t.disableVertexAttribArray(e.u),t.disableVertexAttribArray(e.D)},Cv.Td=function(t,e,n,o){var i=o?this.dg():this.jg();if(o=o?this.u:this.v,ht(n)){var r;n=0;var a=i.length;for(r=0;n<a;++n){t.bindTexture(3553,i[n]);var s=o[n];Vr(t,e,r,s),r=s}}else for(r=a=0,s=i.length;r<s;++r){t.bindTexture(3553,i[r]);for(var u=0<r?o[r-1]:0,h=o[r],p=u;a<this.f.length&&this.f[a]<=h;){var l=c(this.i[a]).toString();void 0!==n[l]?(p!==u&&Vr(t,e,p,u),u=p=a===this.f.length-1?h:this.f[a+1]):u=a===this.f.length-1?h:this.f[a+1],a++}p!==u&&Vr(t,e,p,u)}},Cv.Fe=function(t,e,n,o,i){var r,a,s=this.f.length-1,u=this.dg();for(r=u.length-1;0<=r;--r){t.bindTexture(3553,u[r]);var h=0<r?this.u[r-1]:0;for(a=this.u[r];0<=s&&this.f[s]>=h;){var p=this.f[s],l=this.i[s],f=c(l).toString();if(void 0===n[f]&&l.V()&&(void 0===i||ot(i,l.V().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Vr(t,e,p,a),a=o(l)))return a;a=p,s--}}},Cv.ab=function(){this.qa=this.pa=this.height=this.B=this.D=void 0,this.b=null,this.scale=this.rotation=this.rotateWithView=this.S=this.I=this.opacity=void 0,this.a=null,this.width=void 0},p(ya,ca),Cv=ya.prototype,Cv.qc=function(t,e){this.f.push(this.b.length),this.i.push(e),e=t.ba(),fa(this,e,0,e.length,t.ma())},Cv.sc=function(t,e){this.f.push(this.b.length),this.i.push(e),e=t.ba(),fa(this,e,0,e.length,t.ma())},Cv.ab=function(t){var e=t.b;this.v.push(this.b.length),this.u.push(this.b.length),this.o=new Zr(this.a),this.j=new Zr(this.b);var n={};da(this.C,this.l,n,e),da(this.R,this.c,n,e),this.c=this.l=null,ca.prototype.ab.call(this,t)},Cv.Vb=function(t){var e=t.Jc(),n=t.Y(1),o=t.Ie(),i=t.yg(1),r=t.i,a=t.Rc(),s=t.o,u=t.g,h=t.ic();if(t=t.a,this.l.length){var p=this.l[this.l.length-1];c(p)!=c(n)&&(this.v.push(this.b.length),this.l.push(n))}else this.l.push(n);this.c.length?(p=this.c[this.c.length-1],c(p)!=c(i)&&(this.u.push(this.b.length),this.c.push(i))):this.c.push(i),this.D=e[0],this.B=e[1],this.height=h[1],this.pa=o[1],this.qa=o[0],this.opacity=r,this.I=a[0],this.S=a[1],this.rotation=u,this.rotateWithView=s,this.scale=t,this.width=h[0]},Cv.jg=function(t){return t?this.C.concat(this.R):this.C},Cv.dg=function(){return this.R},p(ga,Xr);var Yg=new ga;p(ma,Ur);var Gg=new ma;p(_a,Hr),Cv=_a.prototype,Cv.oc=function(t,e){var n=t.ba();t=t.ma(),Pa(n,0,n.length,t)&&(n=ro(n,0,n.length,t,-this.origin[0],-this.origin[1]),this.c.s&&(this.l.push(this.b.length),this.c.s=!1),this.f.push(this.b.length),this.i.push(e),xa(this,n,n.length,t))},Cv.pc=function(t,e){var n=this.b.length,o=t.rb();o.unshift(0);var i=t.ba();t=t.ma();var r;if(1<o.length){var a=1;for(r=o.length;a<r;++a)if(Pa(i,o[a-1],o[a],t)){var s=ro(i,o[a-1],o[a],t,-this.origin[0],-this.origin[1]);xa(this,s,s.length,t)}}this.b.length>n&&(this.f.push(n),this.i.push(e),this.c.s&&(this.l.push(n),this.c.s=!1))},Cv.ab=function(){this.o=new Zr(this.a),this.j=new Zr(this.b),this.f.push(this.b.length),!this.l.length&&0<this.u.length&&(this.u=[]),this.b=this.a=null},Cv.xb=function(t){var e=this.o,n=this.j;return function(){ra(t,e),ra(t,n)}},Cv.Bf=function(t,e,n,o){var i=ua(e,Yg,Gg);if(this.v)var r=this.v;else this.v=r=new ba(t,i);return e.Tc(i),t.enableVertexAttribArray(r.l),t.vertexAttribPointer(r.l,2,5126,!1,28,0),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,28,8),t.enableVertexAttribArray(r.o),t.vertexAttribPointer(r.o,2,5126,!1,28,16),t.enableVertexAttribArray(r.g),t.vertexAttribPointer(r.g,1,5126,!1,28,24),t.uniform2fv(r.I,n),t.uniform1f(r.qa,o),r},Cv.Cf=function(t,e){t.disableVertexAttribArray(e.l),t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.o),t.disableVertexAttribArray(e.g)},Cv.Td=function(t,e,n,o){var i=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(o||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),ht(n)){var a=this.f[this.f.length-1];for(n=this.l.length-1;0<=n;--n){var s=this.l[n],u=this.u[n];Ma(this,t,u[0],u[1],u[2]),Vr(t,e,s,a),t.clear(t.DEPTH_BUFFER_BIT),a=s}}else{var h=this.f.length-2;for(u=a=this.f[h+1],s=this.l.length-1;0<=s;--s){var p=this.u[s];for(Ma(this,t,p[0],p[1],p[2]),p=this.l[s];0<=h&&this.f[h]>=p;){var l=this.f[h],f=this.i[h];f=c(f).toString(),n[f]&&(a!==u&&(Vr(t,e,a,u),t.clear(t.DEPTH_BUFFER_BIT)),u=l),h--,a=l}a!==u&&(Vr(t,e,a,u),t.clear(t.DEPTH_BUFFER_BIT)),a=u=p}}o||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(i))},Cv.Fe=function(t,e,n,o,i){var r,a,s=this.f.length-2,u=this.f[s+1];for(r=this.l.length-1;0<=r;--r){var h=this.u[r];for(Ma(this,t,h[0],h[1],h[2]),a=this.l[r];0<=s&&this.f[s]>=a;){h=this.f[s];var p=this.i[s],l=c(p).toString();if(void 0===n[l]&&p.V()&&(void 0===i||ot(i,p.V().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Vr(t,e,h,u),u=o(p)))return u;s--,u=h}}},Cv.Na=function(t,e){t=e.g,this.c.lineCap=void 0!==t?t:"round",t=e.f,this.c.lineDash=t?t:Fg,t=e.i,this.c.lineDashOffset=t?t:0,t=e.j,this.c.lineJoin=void 0!==t?t:"round",t=e.b,t=t instanceof CanvasGradient||t instanceof CanvasPattern?jg:Pe(t).map(function(t,e){return 3!=e?t/255:t})||jg;var n=e.c;n=void 0!==n?n:1,e=e.l,e=void 0!==e?e:10,this.c.strokeColor&&a(this.c.strokeColor,t)&&this.c.lineWidth===n&&this.c.miterLimit===e||(this.c.s=!0,this.c.strokeColor=t,this.c.lineWidth=n,this.c.miterLimit=e,this.u.push([t,n,e]))};var Wg=3,zg=5,qg=7,Hg=11,Vg=13,$g=17,Zg=19,Jg=23;p(Ta,Xr);var Qg=new Ta;p(Aa,Ur);var tm=new Aa;Cv=Ia.prototype,Cv.clone=function(){var t=this.b;return new Ia({color:t&&t.slice?t.slice():t||void 0,lineCap:this.g,lineDash:this.f?this.f.slice():void 0,lineDashOffset:this.i,lineJoin:this.j,miterLimit:this.l,width:this.c})},Cv.$o=function(){return this.b},Cv.gl=function(){return this.g},Cv.ap=function(){return this.f},Cv.hl=function(){return this.i},Cv.il=function(){return this.j},Cv.nl=function(){return this.l},Cv.bp=function(){return this.c},Cv.cp=function(t){this.b=t,this.a=void 0},Cv.oq=function(t){this.g=t,this.a=void 0},Cv.setLineDash=function(t){this.f=t,this.a=void 0},Cv.pq=function(t){this.i=t,this.a=void 0},Cv.qq=function(t){this.j=t,this.a=void 0},Cv.tq=function(t){this.l=t,this.a=void 0},Cv.xq=function(t){this.c=t,this.a=void 0},La.prototype.concat=function(t){if(t.b){if(this.b){var e=this.b.next;this.b.next=t.f,t.f.yb=this.b,e.yb=t.a,t.a.next=e,this.c+=t.c}else this.b=t.b,this.f=t.f,this.a=t.a,this.c=t.c;t.b=void 0,t.f=void 0,t.a=void 0,t.c=0}};var em={fe:function(){}};!function(t){function e(t,i,r,a,s){for(r=r||0,a=a||t.length-1,s=s||o;a>r;){if(600<a-r){var u=a-r+1,h=i-r+1,p=Math.log(u),l=.5*Math.exp(2*p/3);p=.5*Math.sqrt(p*l*(u-l)/u)*(0>h-u/2?-1:1),e(t,i,Math.max(r,Math.floor(i-h*l/u+p)),Math.min(a,Math.floor(i+(u-h)*l/u+p)),s)}for(u=t[i],h=r,l=a,n(t,r,i),0<s(t[a],u)&&n(t,r,a);h<l;){for(n(t,h,l),h++,l--;0>s(t[h],u);)h++;for(;0<s(t[l],u);)l--}0===s(t[r],u)?n(t,r,l):(l++,n(t,l,a)),l<=i&&(r=l+1),i<=l&&(a=l-1)}}function n(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function o(t,e){return t<e?-1:t>e?1:0}function i(t,e){return this instanceof i?(this.Pf=Math.max(4,t||9),this.kh=Math.max(2,Math.ceil(.4*this.Pf)),e&&this.pk(e),void this.clear()):new i(t,e)}function r(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,o,i){i||(i=d(null)),i.ca=1/0,i.ea=1/0,i.da=-(1/0),i.ha=-(1/0);for(var r;e<n;e++)r=t.children[e],s(i,t.lb?o(r):r);return i}function s(t,e){t.ca=Math.min(t.ca,e.ca),t.ea=Math.min(t.ea,e.ea),t.da=Math.max(t.da,e.da),t.ha=Math.max(t.ha,e.ha)}function u(t,e){return t.ca-e.ca}function h(t,e){return t.ea-e.ea}function p(t){return(t.da-t.ca)*(t.ha-t.ea)}function l(t){return t.da-t.ca+(t.ha-t.ea)}function c(t,e){return t.ca<=e.ca&&t.ea<=e.ea&&e.da<=t.da&&e.ha<=t.ha}function f(t,e){return e.ca<=t.da&&e.ea<=t.ha&&e.da>=t.ca&&e.ha>=t.ea}function d(t){return{children:t,height:1,lb:!0,ca:1/0,ea:1/0,da:-(1/0),ha:-(1/0)}}function y(t,e,n,o,i){for(var r,a=[e,n];a.length;)n=a.pop(),e=a.pop(),n-e<=o||(r=e+Math.ceil((n-e)/o/2)*o,v(t,r,e,n,i),a.push(e,r,r,n))}var v=e;i.prototype={all:function(){return this.fh(this.data,[])},search:function(t){var e=this.data,n=[],o=this.Ab;if(!f(t,e))return n;for(var i,r,a,s,u=[];e;){for(i=0,r=e.children.length;i<r;i++)a=e.children[i],s=e.lb?o(a):a,f(t,s)&&(e.lb?n.push(a):c(t,s)?this.fh(a,n):u.push(a));e=u.pop()}return n},load:function(t){if(!t||!t.length)return this;if(t.length<this.kh){for(var e=0,n=t.length;e<n;e++)this.Ga(t[e]);return this}return t=this.hh(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.mh(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.jh(t,this.data.height-t.height-1,!0)):this.data=t,this},Ga:function(t){return t&&this.jh(t,this.data.height-1),this},clear:function(){return this.data=d([]),this},remove:function(t,e){if(!t)return this;for(var n,o,i,r,a=this.data,s=this.Ab(t),u=[],h=[];a||u.length;){if(a||(a=u.pop(),o=u[u.length-1],n=h.pop(),r=!0),a.lb){t:{i=t;var p=a.children,l=e;if(l){for(var f=0;f<p.length;f++)if(l(i,p[f])){i=f;break t}i=-1}else i=p.indexOf(i)}if(-1!==i){a.children.splice(i,1),u.push(a),this.mk(u);break}}r||a.lb||!c(a,s)?o?(n++,a=o.children[n],r=!1):a=null:(u.push(a),h.push(n),n=0,o=a,a=a.children[0])}return this},Ab:function(t){return t},Sf:u,Tf:h,toJSON:function(){return this.data},fh:function(t,e){for(var n=[];t;)t.lb?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},hh:function(t,e,n,o){var i=n-e+1,a=this.Pf;if(i<=a){var s=d(t.slice(e,n+1));return r(s,this.Ab),s}o||(o=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,o-1))),s=d([]),s.lb=!1,s.height=o,i=Math.ceil(i/a),a=i*Math.ceil(Math.sqrt(a));var u;for(y(t,e,n,a,this.Sf);e<=n;e+=a){var h=Math.min(e+a-1,n);for(y(t,e,h,i,this.Tf),u=e;u<=h;u+=i){var p=Math.min(u+i-1,h);s.children.push(this.hh(t,u,p,o-1))}}return r(s,this.Ab),s},lk:function(t,e,n,o){for(var i,r,a,s,u,h,l,c;o.push(e),!e.lb&&o.length-1!==n;){for(l=c=1/0,i=0,r=e.children.length;i<r;i++)a=e.children[i],u=p(a),h=(Math.max(a.da,t.da)-Math.min(a.ca,t.ca))*(Math.max(a.ha,t.ha)-Math.min(a.ea,t.ea))-u,h<c?(c=h,l=u<l?u:l,s=a):h===c&&u<l&&(l=u,s=a);e=s||e.children[0];
}return e},jh:function(t,e,n){var o=this.Ab;n=n?t:o(t),o=[];var i=this.lk(n,this.data,e,o);for(i.children.push(t),s(i,n);0<=e&&o[e].children.length>this.Pf;)this.uk(o,e),e--;this.ik(n,o,e)},uk:function(t,e){var n=t[e],o=n.children.length,i=this.kh;this.jk(n,i,o),o=this.kk(n,i,o),o=d(n.children.splice(o,n.children.length-o)),o.height=n.height,o.lb=n.lb,r(n,this.Ab),r(o,this.Ab),e?t[e-1].children.push(o):this.mh(n,o)},mh:function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.lb=!1,r(this.data,this.Ab)},kk:function(t,e,n){var o,i,r=i=1/0;for(o=e;o<=n-e;o++){var s=a(t,0,o,this.Ab),u=a(t,o,n,this.Ab),h=Math.max(0,Math.min(s.da,u.da)-Math.max(s.ca,u.ca))*Math.max(0,Math.min(s.ha,u.ha)-Math.max(s.ea,u.ea));if(s=p(s)+p(u),h<r){r=h;var l=o;i=s<i?s:i}else h===r&&s<i&&(i=s,l=o)}return l},jk:function(t,e,n){var o=t.lb?this.Sf:u,i=t.lb?this.Tf:h,r=this.gh(t,e,n,o);e=this.gh(t,e,n,i),r<e&&t.children.sort(o)},gh:function(t,e,n,o){t.children.sort(o),o=this.Ab;var i,r=a(t,0,e,o),u=a(t,n-e,n,o),h=l(r)+l(u);for(i=e;i<n-e;i++){var p=t.children[i];s(r,t.lb?o(p):p),h+=l(r)}for(i=n-e-1;i>=e;i--)p=t.children[i],s(u,t.lb?o(p):p),h+=l(u);return h},ik:function(t,e,n){for(;0<=n;n--)s(e[n],t)},mk:function(t){for(var e,n=t.length-1;0<=n;n--)0===t[n].children.length?0<n?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():r(t[n],this.Ab)},pk:function(t){var e=["return a"," - b",";"];this.Sf=new Function("a","b",e.join(t[0])),this.Tf=new Function("a","b",e.join(t[1])),this.Ab=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},t.default=i}(em.fe=em.fe||{}),em.fe=em.fe.default,Cv=Ka.prototype,Cv.Ga=function(t,e){t={ca:t[0],ea:t[1],da:t[2],ha:t[3],value:e},this.a.Ga(t),this.b[c(e)]=t},Cv.load=function(t,e){for(var n=Array(e.length),o=0,i=e.length;o<i;o++){var r=t[o],a=e[o];r={ca:r[0],ea:r[1],da:r[2],ha:r[3],value:a},n[o]=r,this.b[c(a)]=r}this.a.load(n)},Cv.remove=function(t){t=c(t);var e=this.b[t];return delete this.b[t],null!==this.a.remove(e)},Cv.forEach=function(t,e){return Ga(Xa(this),t,e)},Cv.clear=function(){this.a.clear(),this.b={}},Cv.G=function(t){var e=this.a.data;return j(e.ca,e.ea,e.da,e.ha,t)},Cv.concat=function(t){this.a.load(t.a.all());for(var e in t.b)this.b[0|e]=t.b[0|e]},p(Wa,Hr),Cv=Wa.prototype,Cv.rc=function(t,e){var n=t.c,o=t.ma(),i=this.b.length,r=this.g.b.length;t=t.ba();var a,s,u,h=s=0;for(a=n.length;h<a;++h){var p=n[h];if(0<p.length){var l=ro(t,s,p[0],o,-this.origin[0],-this.origin[1]);if(l.length){var c=[];for(s=1,u=p.length;s<u;++s)if(p[s]!==p[s-1]){var f=ro(t,p[s-1],p[s],o,-this.origin[0],-this.origin[1]);c.push(f)}Sa(this.g,l,c,o),za(this,l,c,o)}}s=p[p.length-1]}this.b.length>i&&(this.f.push(i),this.i.push(e),this.l.s&&(this.c.push(i),this.l.s=!1)),this.g.b.length>r&&Ca(this.g,e,r)},Cv.tc=function(t,e){var n=t.rb(),o=t.ma();if(0<n.length){t=t.ba().map(Number);var i=ro(t,0,n[0],o,-this.origin[0],-this.origin[1]);if(i.length){var r,a=[],s=1;for(r=n.length;s<r;++s)if(n[s]!==n[s-1]){var u=ro(t,n[s-1],n[s],o,-this.origin[0],-this.origin[1]);a.push(u)}this.f.push(this.b.length),this.i.push(e),this.l.s&&(this.c.push(this.b.length),this.l.s=!1),Ca(this.g,e),Sa(this.g,i,a,o),za(this,i,a,o)}}},Cv.ab=function(t){this.o=new Zr(this.a),this.j=new Zr(this.b),this.f.push(this.b.length),this.g.ab(t),!this.c.length&&0<this.u.length&&(this.u=[]),this.b=this.a=null},Cv.xb=function(t){var e=this.o,n=this.j,o=this.g.xb(t);return function(){ra(t,e),ra(t,n),o()}},Cv.Bf=function(t,e){var n=ua(e,Qg,tm);if(this.v)var o=this.v;else this.v=o=new Ea(t,n);return e.Tc(n),t.enableVertexAttribArray(o.b),t.vertexAttribPointer(o.b,2,5126,!1,8,0),o},Cv.Cf=function(t,e){t.disableVertexAttribArray(e.b)},Cv.Td=function(t,e,n,o){var i=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(o||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),ht(n)){var a=this.f[this.f.length-1];for(n=this.c.length-1;0<=n;--n){var s=this.c[n],u=this.u[n];t.uniform4fv(this.v.B,u),Vr(t,e,s,a),a=s}}else{var h=this.f.length-2;for(u=a=this.f[h+1],s=this.c.length-1;0<=s;--s){var p=this.u[s];for(t.uniform4fv(this.v.B,p),p=this.c[s];0<=h&&this.f[h]>=p;){var l=this.f[h],f=this.i[h];f=c(f).toString(),n[f]&&(a!==u&&(Vr(t,e,a,u),t.clear(t.DEPTH_BUFFER_BIT)),u=l),h--,a=l}a!==u&&(Vr(t,e,a,u),t.clear(t.DEPTH_BUFFER_BIT)),a=u=p}}o||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(i))},Cv.Fe=function(t,e,n,o,i){var r,a,s=this.f.length-2,u=this.f[s+1];for(r=this.c.length-1;0<=r;--r){var h=this.u[r];for(t.uniform4fv(this.v.B,h),a=this.c[r];0<=s&&this.f[s]>=a;){h=this.f[s];var p=this.i[s],l=c(p).toString();if(void 0===n[l]&&p.V()&&(void 0===i||ot(i,p.V().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Vr(t,e,h,u),u=o(p)))return u;s--,u=h}}},Cv.Na=function(t,e){t=t?t.b:[0,0,0,0],t=t instanceof CanvasGradient||t instanceof CanvasPattern?Dg:Pe(t).map(function(t,e){return 3!=e?t/255:t})||Dg,this.l.fillColor&&a(t,this.l.fillColor)||(this.l.fillColor=t,this.l.s=!0,this.u.push(t)),e?this.g.Na(null,e):this.g.Na(null,new Ia({color:[0,0,0,0],lineWidth:0}))},us.prototype.get=function(t){return this.c[t]||null},us.prototype.add=function(t,e,n,o,i){var r,a=0;for(r=this.a.length;a<r;++a){var s=this.a[a];if(s.width>=e+this.b&&s.height>=n+this.b)return r={offsetX:s.x+this.b,offsetY:s.y+this.b,image:this.i},this.c[t]=r,o.call(i,this.f,s.x+this.b,s.y+this.b),t=a,e+=this.b,o=n+this.b,s.width-e>s.height-o?(n={x:s.x+e,y:s.y,width:s.width-e,height:s.height},e={x:s.x,y:s.y+o,width:e,height:s.height-o},hs(this,t,n,e)):(n={x:s.x+e,y:s.y,width:s.width-e,height:o},e={x:s.x,y:s.y+o,width:s.width,height:s.height-o},hs(this,t,n,e)),r}return null},ps.prototype.add=function(t,e,n,o,i,r){return e+this.b>this.f||n+this.b>this.f?null:(o=fs(this,!1,t,e,n,o,r))?(t=fs(this,!0,t,e,n,i?i:l,r),cs(o,t)):null},p(ds,ca),Cv=ds.prototype,Cv.Qb=function(t,e,n,o,i,r){if(this.ua){this.f.push(this.b.length),this.i.push(r),i=this.l,r=this.ua.split("\n");var a,s,u=ys(this,r),h=Math.round(u[0]*this.jb-this.ta),p=Math.round(u[1]*this.oa-this.ga),l=this.R.lineWidth/2*this.R.scale;for(u=0,a=r.length;u<a;++u){var f=0,d=i.height*u,y=r[u].split(""),v=0;for(s=y.length;v<s;++v){var g=i.qh,m=y[v],b=ls(g.g,m);if(b?(g=ls(g.i,m),g=cs(b,g)):g=null,g){b=g.image,this.D=h-f,this.B=p-d,this.I=v?g.offsetX:g.offsetX-l,this.S=g.offsetY,this.height=i.height,this.width=v&&v!==y.length-1?i.width[y[v]]:i.width[y[v]]+l,this.pa=b.height,this.qa=b.width,this.c.length?(g=this.c[this.c.length-1],c(g)!=c(b)&&(this.v.push(this.b.length),this.c.push(b))):this.c.push(b),g=t,m=e;var _=n,x=o;for(b=m;b<_;b+=x)fa(this,g,m,_,x)}f+=this.width}}}},Cv.ab=function(t){var e=t.b;this.v.push(this.b.length),this.u=this.v,this.o=new Zr(this.a),this.j=new Zr(this.b),da(this.va,this.c,{},e),this.R={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ua="",this.ga=this.ta=this.oa=this.jb=void 0,this.c=null,this.C={},this.l=void 0,ca.prototype.ab.call(this,t)},Cv.gb=function(t){var e=this.R,n=t.Da(),o=t.Ea();if(t&&t.Ja()&&(n||o)){n?(n=n.b,e.fillColor=Me(n?n:Dg)):e.fillColor=null,o?(n=o.b,e.strokeColor=Me(n?n:jg),e.lineWidth=o.c||1,e.lineCap=o.g||"round",e.lineDashOffset=o.i||0,e.lineJoin=o.j||"round",e.miterLimit=o.l||10,o=o.f,e.lineDash=o?o.slice():Fg):(e.strokeColor=null,e.lineWidth=0),e.font=t.a||"10px sans-serif",e.scale=t.b||1,this.ua=t.Ja(),o=nm[t.g],n=nm[t.j],this.jb=void 0===o?.5:o,this.oa=void 0===n?.5:n,this.ta=t.f||0,this.ga=t.c||0,this.rotateWithView=!!t.l,this.rotation=t.i||0,t=[];for(var i in e)(e[i]||0===e[i])&&(Array.isArray(e[i])?t=t.concat(e[i]):t.push(e[i]));for(n="",i=0,o=t.length;i<o;++i)n+=t[i];i=n,this.C[i]||(t=this.mc.getContext("2d"),t.font=e.font,t=Math.ceil((1.5*t.measureText("M").width+e.lineWidth/2)*e.scale),this.C[i]={qh:new ps({space:e.lineWidth+1}),width:{},height:t}),this.l=this.C[i]}else this.ua=""},Cv.jg=function(){return this.va},Cv.dg=function(){return this.va};var nm={left:0,end:0,center:.5,right:1,start:1,top:0,br:.5,$q:.2,Yq:.8,ar:.8,bottom:1};p(gs,Kr),gs.prototype.b=function(t,e){var n=void 0!==t?t.toString():"0";return t=this.f[n],void 0===t&&(t={},this.f[n]=t),n=t[e],void 0===n&&(n=new im[e](this.j,this.g),t[e]=n),n},gs.prototype.c=function(){return ht(this.f)},gs.prototype.Ma=function(t,n,o,i,r,a,s,u){var h=Object.keys(this.f).map(Number);h.sort(e);var p,l,c=0;for(p=h.length;c<p;++c){var f=this.f[h[c].toString()],d=0;for(l=Og.length;d<l;++d){var y=f[Og[d]];void 0!==y&&y.Ma(t,n,o,i,r,a,s,u,void 0,!1)}}},gs.prototype.Ha=function(t,e,n,o,i,r,a,s,u,h){var p=e.b;p.bindFramebuffer(p.FRAMEBUFFER,aa(e));var l;return void 0!==this.i&&(l=I(B(t),o*this.i)),_s(this,e,t,o,i,a,s,u,function(t){var e=new Uint8Array(4);if(p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,e),0<e[3]&&(t=h(t)))return t},!0,l)};var om=[1,1],im={Circle:Jr,Image:ya,LineString:_a,Polygon:Wa,Text:ds};p(ws,Er),Cv=ws.prototype,Cv.wd=function(t){this.Na(t.Da(),t.Ea()),this.Vb(t.Y()),this.gb(t.Ja())},Cv.Cb=function(t){switch(t.T()){case"Point":this.sc(t,null);break;case"LineString":this.oc(t,null);break;case"Polygon":this.tc(t,null);break;case"MultiPoint":this.qc(t,null);break;case"MultiLineString":this.pc(t,null);break;case"MultiPolygon":this.rc(t,null);break;case"GeometryCollection":this.Ee(t,null);break;case"Circle":this.$b(t,null)}},Cv.De=function(t,e){(t=(0,e.$a)(t))&&ot(this.c,t.G())&&(this.wd(e),this.Cb(t))},Cv.Ee=function(t){t=t.a;var e,n=0;for(e=t.length;n<e;++n)this.Cb(t[n])},Cv.sc=function(t,e){var n=this.b,o=new gs(1,this.c),i=o.b(0,"Image");i.Vb(this.u),i.sc(t,e),i.ab(n),i.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),i.xb(n)(),this.a&&(e=t.ba(),Ps(this,o,e,e.length,t.ma()))},Cv.qc=function(t,e){var n=this.b,o=new gs(1,this.c),i=o.b(0,"Image");i.Vb(this.u),i.qc(t,e),i.ab(n),i.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),i.xb(n)(),this.a&&(e=t.ba(),Ps(this,o,e,e.length,t.ma()))},Cv.oc=function(t,e){var n=this.b,o=new gs(1,this.c),i=o.b(0,"LineString");i.Na(null,this.o),i.oc(t,e),i.ab(n),i.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),i.xb(n)(),this.a&&(t=Ku(t),Ps(this,o,t,2,2))},Cv.pc=function(t,e){var n=this.b,o=new gs(1,this.c),i=o.b(0,"LineString");i.Na(null,this.o),i.pc(t,e),i.ab(n),i.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),i.xb(n)(),this.a&&(t=Xu(t),Ps(this,o,t,t.length,2))},Cv.tc=function(t,e){var n=this.b,o=new gs(1,this.c),i=o.b(0,"Polygon");i.Na(this.v,this.o),i.tc(t,e),i.ab(n),i.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),i.xb(n)(),this.a&&(t=Xo(t),Ps(this,o,t,2,2))},Cv.rc=function(t,e){var n=this.b,o=new gs(1,this.c),i=o.b(0,"Polygon");i.Na(this.v,this.o),i.rc(t,e),i.ab(n),i.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),i.xb(n)(),this.a&&(t=Wu(t),Ps(this,o,t,t.length,2))},Cv.$b=function(t,e){var n=this.b,o=new gs(1,this.c),i=o.b(0,"Circle");i.Na(this.v,this.o),i.$b(t,e),i.ab(n),i.Ma(this.b,this.f,this.g,this.j,this.l,this.i,1,{},void 0,!1),i.xb(n)(),this.a&&Ps(this,o,t.xa(),2,2)},Cv.Vb=function(t){this.u=t},Cv.Na=function(t,e){this.v=t,this.o=e},Cv.gb=function(t){this.a=t},Cv=Ss.prototype,Cv.clear=function(){this.c=0,this.b={},this.f=this.a=null},Cv.forEach=function(t,e){for(var n=this.a;n;)t.call(e,n.bd,n.vc,this),n=n.Lb},Cv.get=function(t){return t=this.b[t],d(!!t,15),t===this.f?t.bd:(t===this.a?(this.a=this.a.Lb,this.a.Ad=null):(t.Lb.Ad=t.Ad,t.Ad.Lb=t.Lb),t.Lb=null,t.Ad=this.f,this.f=this.f.Lb=t,t.bd)},Cv.pop=function(){var t=this.a;return delete this.b[t.vc],t.Lb&&(t.Lb.Ad=null),this.a=t.Lb,this.a||(this.f=null),--this.c,t.bd},Cv.replace=function(t,e){this.get(t),this.b[t].bd=e},Cv.set=function(t,e){d(!(t in this.b),16),e={vc:t,Lb:null,Ad:this.f,bd:e},this.f?this.f.Lb=e:this.a=e,this.f=e,this.b[t]=e,++this.c},p(Cs,xr),Cv=Cs.prototype,Cv.ka=function(){var t=this.f;t.isContextLost()||this.a.forEach(function(e){e&&t.deleteTexture(e.Hb)}),he(this.i),xr.prototype.ka.call(this)},Cv.Ik=function(t,e){t=this.f;for(var n;1024<this.a.c-this.g;){if(n=this.a.a.bd)t.deleteTexture(n.Hb);else{if(+this.a.a.vc==e.index)break;--this.g}this.a.pop()}},Cv.T=function(){return"webgl"},Cv.no=function(t){t.preventDefault(),this.a.clear(),this.g=0,t=this.c;for(var e in t)t[e].ug()},Cv.oo=function(){As(this),this.l.render()},Cv.Rg=function(t){var e=this.i,n=this.f;if(n.isContextLost())return!1;if(!t)return this.o&&(this.b.style.display="none",this.o=!1),!1;this.u=t.focus,this.a.set((-t.index).toString(),null),++this.g,Ts(this,"precompose",t);var o=[],i=t.layerStatesArray;s(i);var r,a=t.viewState.resolution,u=0;for(r=i.length;u<r;++u){var h=i[u];if(ur(h,a)&&"ready"==h.Ij){var p=Sr(this,h.layer);p.vg(t,h,e)&&o.push(h)}}for(i=t.size[0]*t.pixelRatio,a=t.size[1]*t.pixelRatio,this.b.width==i&&this.b.height==a||(this.b.width=i,this.b.height=a),n.bindFramebuffer(36160,null),n.clearColor(0,0,0,0),n.clear(16384),n.enable(3042),n.viewport(0,0,this.b.width,this.b.height),u=0,r=o.length;u<r;++u)h=o[u],p=Sr(this,h.layer),p.Qi(t,h,e);this.o||(this.b.style.display="",this.o=!0),wr(t),1024<this.a.c-this.g&&t.postRenderFunctions.push(this.Ik.bind(this)),this.j.b.length&&(t.postRenderFunctions.push(this.C),t.animate=!0),Ts(this,"postcompose",t),Cr(this,t),t.postRenderFunctions.push(Pr)},Cv.Ha=function(t,e,n,o,i,r,a){if(this.f.isContextLost())return!1;var s,u=e.viewState,h=e.layerStatesArray;for(s=h.length-1;0<=s;--s){var p=h[s],l=p.layer;if(ur(p,u.resolution)&&r.call(a,l)&&(p=Sr(this,l).Ha(t,e,n,o,i)))return p}},Cv.Oi=function(t,e,n,o,i){if(n=!1,this.f.isContextLost())return!1;var r,a=e.viewState,s=e.layerStatesArray;for(r=s.length-1;0<=r;--r){var u=s[r],h=u.layer;if(ur(u,a.resolution)&&o.call(i,h)&&(n=Sr(this,h).ef(t,e)))return!0}return n},Cv.Ni=function(t,e,n,o,i){if(this.f.isContextLost())return!1;var r,a=e.viewState,s=e.layerStatesArray;for(r=s.length-1;0<=r;--r){var u=s[r],h=u.layer;if(ur(u,a.resolution)&&i.call(o,h)&&(u=Sr(this,h).tg(t,e,n,o)))return u}};var rm=["canvas","webgl"];p(Es,ye),Cv=Es.prototype,Cv.vk=function(t){this.o.push(t)},Cv.wk=function(t){this.l.push(t)},Cv.nh=function(t){this.Mc().vd().push(t)},Cv.oh=function(t){this.v.push(t)},Cv.ph=function(t){var e=t.g;void 0!==e&&(this.zg[e.toString()]=t),t.setMap(this)},Cv.ka=function(){he(this.va),he(this.jc),re(this.a,"wheel",this.qd,this),re(this.a,"mousewheel",this.qd,this),this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0),this.j&&(cancelAnimationFrame(this.j),this.j=void 0),this.We(null),ye.prototype.ka.call(this)},Cv.Vd=function(t,e,n){if(this.c)return t=this.Xa(t),n=n?n:{},this.jc.Ha(t,this.c,void 0!==n.hitTolerance?n.hitTolerance*this.c.pixelRatio:0,e,null,n.layerFilter?n.layerFilter:eo,null)},Cv.Yk=function(t,e){var n=null;return this.Vd(t,function(t){n||(n=[]),n.push(t)},e),n},Cv.Wm=function(t,e,n,o,i){if(this.c)return this.jc.Ni(t,this.c,e,void 0!==n?n:null,o?o:eo,void 0!==i?i:null)},Cv.lm=function(t,e){return!!this.c&&(t=this.Xa(t),e=e?e:{},this.jc.Oi(t,this.c,void 0!==e.hitTolerance?e.hitTolerance*this.c.pixelRatio:0,e.layerFilter?e.layerFilter:eo,null))},Cv.$f=function(t){return this.Xa(this.Ge(t))},Cv.Ge=function(t){var e=this.a.getBoundingClientRect();return t=t.changedTouches?t.changedTouches[0]:t,[t.clientX-e.left,t.clientY-e.top]},Cv.ig=function(){return this.get("target")},Cv.od=function(){var t=this.ig();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},Cv.Xa=function(t){var e=this.c;return e?yr(e.pixelToCoordinateTransform,t.slice()):null},Cv.Wk=function(){return this.o},Cv.rl=function(){return this.v},Cv.ql=function(t){return t=this.zg[t.toString()],void 0!==t?t:null},Cv.dl=function(){return this.l},Cv.Mc=function(){return this.get("layergroup")},Cv.fi=function(){return this.Mc().vd()},Cv.Ka=function(t){var e=this.c;return e?yr(e.coordinateToPixelTransform,t.slice(0,2)):null},Cv.Je=function(){return this.jc},Cv.Mb=function(){return this.get("size")},Cv.$=function(){return this.get("view")},Cv.El=function(){return this.a},Cv.Cl=function(t,e,n,o){var i=this.c;return i&&e in i.wantedTiles&&i.wantedTiles[e][t.fb()]?(t=n[0]-i.focus[0],n=n[1]-i.focus[1],65536*Math.log(o)+Math.sqrt(t*t+n*n)/o):1/0},Cv.qd=function(t,e){t=new $e(e||t.type,this,t),this.Rh(t)},Cv.Rh=function(t){if(this.c){this.U=t.coordinate,t.frameState=this.c;var e,n=this.l.a;if(!1!==this.b(t))for(e=n.length-1;0<=e;e--){var o=n[e];if(o.c()&&!o.handleEvent(t))break}}},Cv.cm=function(){var t=this.c,e=this.Sa;if(e.b.length){var n=16,o=n;if(t){var i=t.viewHints;i[0]&&(n=this.ed?8:0,o=2),i[1]&&(n=this.Id?8:0,o=2)}e.j<n&&(Nn(e),kn(e,n,o))}for(e=this.Za,n=0,o=e.length;n<o;++n)e[n](this,t);e.length=0},Cv.em=function(){this.render()},Cv.im=function(){var t;if(this.ig()&&(t=this.od()),this.u){for(var e=0,n=this.u.length;e<n;++e)ae(this.u[e]);this.u=null}t?(t.appendChild(this.a),t=this.oa?this.oa:t,this.u=[oe(t,"keydown",this.qd,this),oe(t,"keypress",this.qd,this)],this.i||(this.i=this.Ed.bind(this),window.addEventListener("resize",this.i,!1))):(Ee(this.a),this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0)),this.Ed()},Cv.jm=function(){this.render()},Cv.Uh=function(){this.render()},Cv.km=function(){this.S&&(ae(this.S),this.S=null),this.I&&(ae(this.I),this.I=null);var t=this.$();t&&(this.a.setAttribute("data-view",c(t)),this.S=oe(t,"propertychange",this.Uh,this),this.I=oe(t,"change",this.Uh,this)),this.render()},Cv.Ql=function(){this.C&&(this.C.forEach(ae),this.C=null);var t=this.Mc();t&&(this.C=[oe(t,"propertychange",this.render,this),oe(t,"change",this.render,this)]),this.render()},Cv.gq=function(){this.j&&cancelAnimationFrame(this.j),this.ga()},Cv.render=function(){void 0===this.j&&(this.j=requestAnimationFrame(this.ga))},Cv.Zp=function(t){return this.o.remove(t)},Cv.$p=function(t){return this.l.remove(t)},Cv.bq=function(t){return this.Mc().vd().remove(t)},Cv.cq=function(t){return this.v.remove(t)},Cv.fq=function(t){var e,n=this.Mb(),o=this.$(),i=F(),r=this.c,a=null;if(void 0!==n&&0<n[0]&&0<n[1]&&o&&ei(o)){a=Jo(o,this.c?this.c.viewHints:void 0);var s=this.Mc().fg(),u={},h=0;for(e=s.length;h<e;++h)u[c(s[h].layer)]=s[h];h=o.getState(),a={animate:!1,attributions:{},coordinateToPixelTransform:this.Ib,extent:i,focus:this.U?this.U:h.center,index:this.Zb++,layerStates:u,layerStatesArray:s,logos:Nv({},this.Lf),pixelRatio:this.Hf,pixelToCoordinateTransform:this.Qf,postRenderFunctions:[],size:n,skippedFeatureUids:this.ta,tileQueue:this.Sa,time:t,usedTiles:{},viewState:h,viewHints:a,wantedTiles:{}}}a&&(a.extent=Z(h.center,h.resolution,h.rotation,a.size,i)),this.c=a,this.jc.Rg(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.Za,a.postRenderFunctions),!r||this.g&&(it(this.g)||U(a.extent,this.g))||(this.b(new Ve("movestart",this,r)),this.g=K(this.g)),!this.g||a.viewHints[0]||a.viewHints[1]||U(a.extent,this.g)||(this.b(new Ve("moveend",this,a)),L(a.extent,this.g))),this.b(new Ve("postrender",this,a)),setTimeout(this.cm.bind(this),0)},Cv.Aj=function(t){this.set("layergroup",t)},Cv.Yg=function(t){this.set("size",t)},Cv.We=function(t){this.set("target",t)},Cv.wq=function(t){this.set("view",t)},Cv.Hj=function(t){t=c(t).toString(),this.ta[t]=!0,this.render()},Cv.Ed=function(){var t=this.od();if(t){var e=getComputedStyle(t);this.Yg([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.Yg(void 0)},Cv.Mj=function(t){t=c(t).toString(),delete this.ta[t],this.render()},p(Ls,ye),Cv=Ls.prototype,Cv.Xd=function(){return this.get(am)},Cv.Xm=function(){return this.g},Cv.Xe=function(){return this.get(sm)},Cv.Lh=function(){return this.get(um)},Cv.gi=function(){return this.get(hm)},Cv.Mh=function(){return this.get(pm)},Cv.Ll=function(){for(var t=this.c;t.lastChild;)t.removeChild(t.lastChild);(t=this.Xd())&&this.c.appendChild(t)},Cv.Vl=function(){this.i&&(Ee(this.c),ae(this.i),this.i=null);var t=this.Xe();t&&(this.i=oe(t,"postrender",this.render,this),ks(this),t=this.v?t.D:t.B,this.o?t.insertBefore(this.c,t.childNodes[0]||null):t.appendChild(this.c))},Cv.render=function(){ks(this)},Cv.Zl=function(){ks(this)},Cv.am=function(){if(ks(this),this.get(hm)&&this.autoPan){var t=this.Xe();if(t&&t.od()){var e=Ns(t.od(),t.Mb()),n=this.Xd(),o=n.offsetWidth,i=getComputedStyle(n);o+=parseInt(i.marginLeft,10)+parseInt(i.marginRight,10),i=n.offsetHeight;var r=getComputedStyle(n);i+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10);var a=Ns(n,[o,i]);n=this.l,k(e,a)||(o=a[0]-e[0],i=e[2]-a[2],r=a[1]-e[1],a=e[3]-a[3],e=[0,0],0>o?e[0]=o-n:0>i&&(e[0]=Math.abs(i)+n),0>r?e[1]=r-n:0>a&&(e[1]=Math.abs(a)+n),0===e[0]&&0===e[1])||(n=t.$().xa(),n=t.Ka(n),e=[n[0]+e[0],n[1]+e[1]],t.$().animate({center:t.Xa(e),duration:this.j.duration,easing:this.j.easing}))}}},Cv.bm=function(){ks(this)},Cv.vj=function(t){this.set(am,t)},Cv.setMap=function(t){this.set(sm,t)},Cv.Bj=function(t){this.set(um,t)},Cv.Ye=function(t){this.set(hm,t)},Cv.Ej=function(t){this.set(pm,t)};var am="element",sm="map",um="offset",hm="position",pm="positioning";p(Rs,Ie),Cv=Rs.prototype,Cv.setMap=function(t){var e=this.a;t!==e&&(e&&((e=e.$())&&re(e,ve("rotation"),this.Re,this),this.c.We(null)),Ie.prototype.setMap.call(this,t),t&&(this.c.We(this.B),this.v.push(oe(t,"propertychange",this.Wl,this)),this.c.fi().ec()||this.c.Aj(t.Mc()),t=t.$()))&&(oe(t,ve("rotation"),this.Re,this),ei(t)&&(this.c.Ed(),Fs(this)))},Cv.Wl=function(t){"view"===t.key&&((t=t.oldValue)&&re(t,ve("rotation"),this.Re,this),t=this.a.$(),oe(t,ve("rotation"),this.Re,this))},Cv.Re=function(){this.c.$().Ze(this.a.$().Qa())},Cv.qn=function(t){t.preventDefault(),Ks(this)},Cv.pn=function(){return this.l},Cv.sn=function(t){this.l!==t&&(this.l=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.j&&Ks(this))},Cv.rn=function(t){this.l&&this.j!==t&&Ks(this)},Cv.nn=function(){return this.j},Cv.sl=function(){return this.c},p(Bs,Ie);var lm=[1,2,5];Bs.prototype.B=function(){return this.get(cm)},Bs.prototype.U=function(){Us(this)},Bs.prototype.I=function(t){this.set(cm,t)};var cm="units";p(Ys,Ie),Ys.prototype.ka=function(){he(this.l),Ie.prototype.ka.call(this)};var fm=0;Cv=Ys.prototype,Cv.setMap=function(t){Ie.prototype.setMap.call(this,t),t&&t.render()},Cv.Hl=function(t){var e=this.a.$();t=zs(this,b(1===this.j?(t.offsetX-this.I[0]/2)/this.D:(t.offsetY-this.I[1]/2)/this.o,0,1)),e.animate({resolution:e.constrainResolution(t),duration:this.U,easing:Re})},Cv.Kl=function(t){this.u||t.b.target!==this.element.firstElementChild||(ni(this.a.$(),1,1),this.B=t.clientX,this.C=t.clientY,this.u=!0)},Cv.Il=function(t){if(this.u){var e=this.element.firstElementChild;this.c=zs(this,b(1===this.j?(t.clientX-this.B+parseInt(e.style.left,10))/this.D:(t.clientY-this.C+parseInt(e.style.top,10))/this.o,0,1)),this.a.$().Yc(this.c),Ws(this,this.c),this.B=t.clientX,this.C=t.clientY}},Cv.Jl=function(){if(this.u){var t=this.a.$();ni(t,1,-1),t.animate({resolution:t.constrainResolution(this.c),duration:this.U,easing:Re}),this.u=!1,this.C=this.B=void 0}},p(qs,Ie),qs.prototype.j=function(t){t.preventDefault(),t=this.a.$();var e=this.c?this.c:t.v.G();t.Xf(e)},p(Hs,ye),Cv=Hs.prototype,Cv.ka=function(){this.og(!1),ye.prototype.ka.call(this)},Cv.op=function(t){if(null!==t.alpha){var e=P(t.alpha);this.set(dm,e),"boolean"==typeof t.absolute&&t.absolute?this.set(gm,e):"number"==typeof t.webkitCompassHeading&&-1!=t.webkitCompassAccuracy&&this.set(gm,P(t.webkitCompassHeading))}null!==t.beta&&this.set(ym,P(t.beta)),null!==t.gamma&&this.set(vm,P(t.gamma)),this.s()},Cv.Qk=function(){return this.get(dm)},Cv.Tk=function(){return this.get(ym)},Cv.$k=function(){return this.get(vm)},Cv.Im=function(){return this.get(gm)},Cv.bi=function(){return this.get(mm)},Cv.Jm=function(){if(lg){var t=this.bi();t&&!this.a?this.a=oe(window,"deviceorientation",this.op,this):t||null===this.a||(ae(this.a),this.a=null)}},Cv.og=function(t){this.set(mm,t)};var dm="alpha",ym="beta",vm="gamma",gm="heading",mm="tracking";Cv=Vs.prototype,Cv.jf=function(){return this.i},Cv.kf=function(){return this.o},Cv.lf=function(){return this.g},Cv.mf=function(){return this.a},Cv.Le=function(){return this.v},Cv.yd=function(t){this.i=t},Cv.nf=function(t){this.g=t},Cv.zd=function(t){this.a=t},p($s,Vs),Cv=$s.prototype,Cv.clone=function(){var t=new $s({fill:this.Da()?this.Da().clone():void 0,points:this.l,radius:this.b,radius2:this.f,angle:this.j,snapToPixel:this.v,stroke:this.Ea()?this.Ea().clone():void 0,rotation:this.g,rotateWithView:this.o,atlasManager:this.R});return t.yd(this.i),t.zd(this.a),t},Cv.Jc=function(){return this.B},Cv.Zi=function(){return this.j},Cv.Da=function(){return this.Wa},Cv.yg=function(){return this.D},Cv.Y=function(){return this.u},Cv.Ie=function(){return this.C},Cv.hf=function(){return 2},Cv.Rc=function(){return this.pa},Cv.$i=function(){return this.l},Cv.aj=function(){return this.b},Cv.Nh=function(){return this.f},Cv.ic=function(){return this.qa},Cv.Ea=function(){return this.Ua},Cv.Wh=function(){},Cv.load=function(){},Cv.Lj=function(){},Cv.yh=function(t,e,n,o){e.setTransform(1,0,0,1,0,0),e.translate(n,o),e.beginPath();var i=this.l;if(1/0===i)e.arc(t.size/2,t.size/2,this.b,0,2*Math.PI,!0);else{var r=void 0!==this.f?this.f:this.b;for(r!==this.b&&(i*=2),n=0;n<=i;n++){o=2*n*Math.PI/i-Math.PI/2+this.j;var a=n%2?r:this.b;e.lineTo(t.size/2+a*Math.cos(o),t.size/2+a*Math.sin(o))}}this.Wa&&(n=this.Wa.b,null===n&&(n=Ig),e.fillStyle=Me(n),e.fill()),this.Ua&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Jj,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},Cv.xh=function(t,e,n,o){if(e.setTransform(1,0,0,1,0,0),e.translate(n,o),e.beginPath(),n=this.l,1/0===n)e.arc(t.size/2,t.size/2,this.b,0,2*Math.PI,!0);else{o=void 0!==this.f?this.f:this.b,o!==this.b&&(n*=2);var i;for(i=0;i<=n;i++){var r=2*i*Math.PI/n-Math.PI/2+this.j,a=i%2?o:this.b;e.lineTo(t.size/2+a*Math.cos(r),t.size/2+a*Math.sin(r))}}e.fillStyle=Ig,e.fill(),this.Ua&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Jj,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},p(Js,$s),Js.prototype.clone=function(){var t=new Js({fill:this.Da()?this.Da().clone():void 0,stroke:this.Ea()?this.Ea().clone():void 0,radius:this.b,snapToPixel:this.v,atlasManager:this.R});return t.yd(this.i),t.zd(this.a),t},Js.prototype.Xc=function(t){this.b=t,Zs(this,this.R)},Qs.prototype.clone=function(){var t=this.b;return new Qs({color:t&&t.slice?t.slice():t||void 0})},Qs.prototype.f=function(){return this.b},Qs.prototype.c=function(t){this.b=t,this.a=void 0},Cv=tu.prototype,Cv.clone=function(){var t=this.V();return t&&t.clone&&(t=t.clone()),new tu({geometry:t,fill:this.Da()?this.Da().clone():void 0,image:this.Y()?this.Y().clone():void 0,stroke:this.Ea()?this.Ea().clone():void 0,text:this.Ja()?this.Ja().clone():void 0,zIndex:this.za()})},Cv.Je=function(){return this.jc},Cv.uq=function(t){this.jc=t},Cv.V=function(){return this.Ic},Cv.al=function(){return this.$a},Cv.Da=function(){return this.Wa},Cv.zf=function(t){this.Wa=t},Cv.Y=function(){return this.M},Cv.Wg=function(t){this.M=t},Cv.Ea=function(){return this.Ua},Cv.Af=function(t){this.Ua=t},Cv.Ja=function(){return this.ua},Cv.Cd=function(t){this.ua=t},Cv.za=function(){return this.Pj},Cv.Ra=function(t){"function"==typeof t?this.$a=t:"string"==typeof t?this.$a=function(e){return e.get(t)}:t?t&&(this.$a=function(){return t}):this.$a=iu,this.Ic=t},Cv.Wb=function(t){this.Pj=t};var bm=null;p(ru,ye),Cv=ru.prototype,Cv.clone=function(){var t=new ru(this.N());t.Wc(this.c);var e=this.V();return e&&t.Ra(e.clone()),(e=this.g)&&t.pg(e),t},Cv.V=function(){return this.get(this.c)},Cv.Km=function(){return this.a},Cv.bl=function(){return this.c},Cv.Lm=function(){return this.g},Cv.bb=function(){return this.j},Cv.Ml=function(){this.s()},Cv.Pe=function(){this.i&&(ae(this.i),this.i=null);var t=this.V();t&&(this.i=oe(t,"change",this.Ml,this)),this.s()},Cv.Ra=function(t){this.set(this.c,t)},Cv.pg=function(t){this.j=(this.g=t)?au(t):void 0,this.s()},Cv.kc=function(t){this.a=t,this.s()},Cv.Wc=function(t){re(this,ve(this.c),this.Pe,this),this.c=t,oe(this,ve(this.c),this.Pe,this),this.Pe()};var _m=document.implementation.createDocument("","",null),xm=_u();Eu.prototype.eg=function(){return null},p(Ou,Eu),Cv=Ou.prototype,Cv.T=function(){return"json"},Cv.Ub=function(t,e){return this.Uc(ku(t),Iu(this,t,e))},Cv.Oa=function(t,e){return this.Gg(ku(t),Iu(this,t,e))},Cv.Vc=function(t,e){return this.Kg(ku(t),Iu(this,t,e))},Cv.nb=function(t){return this.Ng(ku(t))},Cv.Fd=function(t,e){return JSON.stringify(this.cd(t,e))},Cv.Xb=function(t,e){return JSON.stringify(this.re(t,e))},Cv.dd=function(t,e){return JSON.stringify(this.te(t,e))},p(ju,ao),Cv=ju.prototype,Cv.xk=function(t){this.A?i(this.A,t):this.A=t.slice(),this.s()},Cv.clone=function(){var t=new ju(null);return t.aa(this.ja,this.A.slice()),t},Cv.Jb=function(t,e,n,o){return o<N(this.G(),t,e)?o:(this.u!=this.f&&(this.D=Math.sqrt(fo(this.A,0,this.A.length,this.a,0)),this.u=this.f),vo(this.A,0,this.A.length,this.a,this.D,!1,t,e,n,o))},Cv.Nk=function(t,e){return Oo(this.A,0,this.A.length,this.a,t,e)},Cv.Dn=function(t,e){return"XYM"!=this.ja&&"XYZM"!=this.ja?null:Du(this.A,0,this.A.length,this.a,t,void 0!==e&&e)},Cv.X=function(){return xo(this.A,0,this.A.length,this.a)},Cv.Eh=function(t,e){return Ru(this.A,0,this.A.length,this.a,t,e)},Cv.En=function(){var t,e=this.A,n=this.a,o=e[0],i=e[1],r=0;for(t=0+n;t<this.A.length;t+=n){var a=e[t],s=e[t+1];r+=Math.sqrt((a-o)*(a-o)+(s-i)*(s-i)),o=a,i=s}return r},Cv.md=function(t){var e=[];return e.length=So(this.A,0,this.A.length,this.a,t,e,0),t=new ju(null),t.aa("XY",e),t},Cv.T=function(){return"LineString"},Cv.Ya=function(t){return ko(this.A,0,this.A.length,this.a,t)},Cv.na=function(t,e){t?(ho(this,e,t,1),this.A||(this.A=[]),this.A.length=bo(this.A,0,t,this.a),this.s()):this.aa("XY",null)},Cv.aa=function(t,e){uo(this,t,e),this.s()},p(Bu,ao),Cv=Bu.prototype,Cv.yk=function(t){this.A?i(this.A,t.ba().slice()):this.A=t.ba().slice(),this.c.push(this.A.length),this.s()},Cv.clone=function(){var t=new Bu(null);return t.aa(this.ja,this.A.slice(),this.c.slice()),t},Cv.Jb=function(t,e,n,o){return o<N(this.G(),t,e)?o:(this.j!=this.f&&(this.u=Math.sqrt(yo(this.A,0,this.c,this.a,0)),this.j=this.f),go(this.A,0,this.c,this.a,this.u,!1,t,e,n,o))},Cv.Gn=function(t,e,n){return"XYM"!=this.ja&&"XYZM"!=this.ja||!this.A.length?null:Fu(this.A,this.c,this.a,t,void 0!==e&&e,void 0!==n&&n)},Cv.X=function(){return wo(this.A,0,this.c,this.a)},Cv.rb=function(){return this.c},Cv.jl=function(t){if(0>t||this.c.length<=t)return null;var e=new ju(null);return e.aa(this.ja,this.A.slice(t?this.c[t-1]:0,this.c[t])),e},Cv.kd=function(){var t,e=this.A,n=this.c,o=this.ja,i=[],r=0,a=0;for(t=n.length;a<t;++a){var s=n[a],u=new ju(null);u.aa(o,e.slice(r,s)),i.push(u),r=s}return i},Cv.md=function(t){var e,n=[],o=[],i=this.A,r=this.c,a=this.a,s=0,u=0,h=0;for(e=r.length;h<e;++h){var p=r[h];u=So(i,s,p,a,t,n,u),o.push(u),s=p}return n.length=u,t=new Bu(null),t.aa("XY",n,o),t},Cv.T=function(){return"MultiLineString"},Cv.Ya=function(t){t:{var e,n=this.A,o=this.c,i=this.a,r=0,a=0;for(e=o.length;a<e;++a){if(ko(n,r,o[a],i,t)){t=!0;break t}r=o[a]}t=!1}return t},Cv.na=function(t,e){t?(ho(this,e,t,2),this.A||(this.A=[]),t=_o(this.A,0,t,this.a,this.c),this.A.length=t.length?t[t.length-1]:0,this.s()):this.aa("XY",null,this.c)},Cv.aa=function(t,e,n){uo(this,t,e),this.c=n,this.s()},p(Yu,ao),Cv=Yu.prototype,Cv.Ak=function(t){this.A?i(this.A,t.ba()):this.A=t.ba().slice(),this.s()},Cv.clone=function(){var t=new Yu(null);return t.aa(this.ja,this.A.slice()),t},Cv.Jb=function(t,e,n,o){if(o<N(this.G(),t,e))return o;var i,r=this.A,a=this.a,s=0;for(i=r.length;s<i;s+=a){var u=w(t,e,r[s],r[s+1]);if(u<o){for(o=u,u=0;u<a;++u)n[u]=r[s+u];n.length=a}}return o},Cv.X=function(){return xo(this.A,0,this.A.length,this.a)},Cv.ul=function(t){var e=this.A?this.A.length/this.a:0;
return 0>t||e<=t?null:(e=new Ao(null),e.aa(this.ja,this.A.slice(t*this.a,(t+1)*this.a)),e)},Cv.de=function(){var t,e=this.A,n=this.ja,o=this.a,i=[],r=0;for(t=e.length;r<t;r+=o){var a=new Ao(null);a.aa(n,e.slice(r,r+o)),i.push(a)}return i},Cv.T=function(){return"MultiPoint"},Cv.Ya=function(t){var e,n=this.A,o=this.a,i=0;for(e=n.length;i<e;i+=o){var r=n[i],a=n[i+1];if(R(t,r,a))return!0}return!1},Cv.na=function(t,e){t?(ho(this,e,t,1),this.A||(this.A=[]),this.A.length=bo(this.A,0,t,this.a),this.s()):this.aa("XY",null)},Cv.aa=function(t,e){uo(this,t,e),this.s()},p(Gu,ao),Cv=Gu.prototype,Cv.Bk=function(t){if(this.A){var e=this.A.length;i(this.A,t.ba()),t=t.rb().slice();var n,o=0;for(n=t.length;o<n;++o)t[o]+=e}else this.A=t.ba().slice(),t=t.rb().slice(),this.c.push();this.c.push(t),this.s()},Cv.clone=function(){for(var t=new Gu(null),e=this.c.length,n=Array(e),o=0;o<e;++o)n[o]=this.c[o].slice();return qu(t,this.ja,this.A.slice(),n),t},Cv.Jb=function(t,e,n,o){if(o<N(this.G(),t,e))return o;if(this.B!=this.f){var i,r=this.c,a=0,s=0,u=0;for(i=r.length;u<i;++u){var h=r[u];s=yo(this.A,a,h,this.a,s),a=h[h.length-1]}this.C=Math.sqrt(s),this.B=this.f}r=zu(this),a=this.c,s=this.a,u=this.C,i=0,h=[NaN,NaN];var p,l=0;for(p=a.length;l<p;++l){var c=a[l];o=go(r,i,c,s,u,!0,t,e,n,o,h),i=c[c.length-1]}return o},Cv.Pc=function(t,e){t:{var n=zu(this),o=this.c,i=0;if(o.length){var r,a=0;for(r=o.length;a<r;++a){var s=o[a];if(Lo(n,i,s,this.a,t,e)){t=!0;break t}i=s[s.length-1]}}t=!1}return t},Cv.Hn=function(){var t,e=zu(this),n=this.c,o=0,i=0,r=0;for(t=n.length;r<t;++r){var a=n[r];i+=lo(e,o,a,this.a),o=a[a.length-1]}return i},Cv.X=function(t){if(void 0!==t){var e=zu(this).slice();Ko(e,this.c,this.a,t)}else e=this.A;return Po(e,0,this.c,this.a)},Cv.fl=function(){var t=new Yu(null);return t.aa("XY",Wu(this).slice()),t},Cv.md=function(t){var e=[],n=[],o=this.A,i=this.c,r=this.a;t=Math.sqrt(t);var a,s=0,u=0,h=0;for(a=i.length;h<a;++h){var p=i[h],l=[];u=Co(o,s,p,r,t,e,u,l),n.push(l),s=p[p.length-1]}return e.length=u,o=new Gu(null),qu(o,"XY",e,n),o},Cv.vl=function(t){if(0>t||this.c.length<=t)return null;if(t){var e=this.c[t-1];e=e[e.length-1]}else e=0;t=this.c[t].slice();var n=t[t.length-1];if(e){var o,i=0;for(o=t.length;i<o;++i)t[i]-=e}return i=new Bo(null),i.aa(this.ja,this.A.slice(e,n),t),i},Cv.Zd=function(){var t,e,n=this.ja,o=this.A,i=this.c,r=[],a=0,s=0;for(t=i.length;s<t;++s){var u=i[s].slice(),h=u[u.length-1];if(a){var p=0;for(e=u.length;p<e;++p)u[p]-=a}p=new Bo(null),p.aa(n,o.slice(a,h),u),r.push(p),a=h}return r},Cv.T=function(){return"MultiPolygon"},Cv.Ya=function(t){t:{var e,n=zu(this),o=this.c,i=this.a,r=0,a=0;for(e=o.length;a<e;++a){var s=o[a];if(Ro(n,r,s,i,t)){t=!0;break t}r=s[s.length-1]}t=!1}return t},Cv.na=function(t,e){if(t){ho(this,e,t,3),this.A||(this.A=[]),e=this.A;var n=this.a,o=this.c,i=0;o=o?o:[];var r,a=0,s=0;for(r=t.length;s<r;++s)i=_o(e,i,t[s],n,o[a]),o[a++]=i,i=i[i.length-1];o.length=a,o.length?(t=o[o.length-1],this.A.length=t.length?t[t.length-1]:0):this.A.length=0,this.s()}else qu(this,"XY",null,this.c)},p(Vu,Ou);var wm={Point:function(t){return void 0!==t.m&&void 0!==t.z?new Ao([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new Ao([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new Ao([t.x,t.y,t.m],"XYM"):new Ao([t.x,t.y])},LineString:function(t){return new ju(t.paths[0],Zu(t))},Polygon:function(t){return new Bo(t.rings,Zu(t))},MultiPoint:function(t){return new Yu(t.points,Zu(t))},MultiLineString:function(t){return new Bu(t.paths,Zu(t))},MultiPolygon:function(t){return new Gu(t.rings,Zu(t))}},Pm={Point:function(t){var e,n=t.X();return t=t.ja,"XYZ"===t?e={x:n[0],y:n[1],z:n[2]}:"XYM"===t?e={x:n[0],y:n[1],m:n[2]}:"XYZM"===t?e={x:n[0],y:n[1],z:n[2],m:n[3]}:"XY"===t?e={x:n[0],y:n[1]}:d(!1,34),e},LineString:function(t){var e=Ju(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:[t.X()]}},Polygon:function(t){var e=Ju(t);return{hasZ:e.hasZ,hasM:e.hasM,rings:t.X(!1)}},MultiPoint:function(t){var e=Ju(t);return{hasZ:e.hasZ,hasM:e.hasM,points:t.X()}},MultiLineString:function(t){var e=Ju(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:t.X()}},MultiPolygon:function(t){var e=Ju(t);t=t.X(!1);for(var n=[],o=0;o<t.length;o++)for(var i=t[o].length-1;0<=i;i--)n.push(t[o][i]);return{hasZ:e.hasZ,hasM:e.hasM,rings:n}}};Cv=Vu.prototype,Cv.Uc=function(t,e){var n=$u(t.geometry,e),o=new ru;return this.b&&o.Wc(this.b),o.Ra(n),e&&e.mg&&t.attributes[e.mg]&&o.kc(t.attributes[e.mg]),t.attributes&&o.H(t.attributes),o},Cv.Gg=function(t,e){if(e=e?e:{},t.features){var n,o=[],i=t.features;for(e.mg=t.objectIdFieldName,t=0,n=i.length;t<n;++t)o.push(this.Uc(i[t],e));return o}return[this.Uc(t,e)]},Cv.Kg=function(t,e){return $u(t,e)},Cv.Ng=function(t){return t.spatialReference&&t.spatialReference.wkid?Ct("EPSG:"+t.spatialReference.wkid):null},Cv.te=function(t,e){return Qu(t,Lu(this,e))},Cv.cd=function(t,e){e=Lu(this,e);var n={},o=t.V();return o&&(n.geometry=Qu(o,e),e&&e.featureProjection&&(n.geometry.spatialReference={wkid:Ct(e.featureProjection).pb.split(":").pop()})),e=t.N(),delete e[t.c],n.attributes=ht(e)?{}:e,n},Cv.re=function(t,e){e=Lu(this,e);var n,o=[],i=0;for(n=t.length;i<n;++i)o.push(this.cd(t[i],e));return{features:o}},p(eh,th),p(nh,eh),p(oh,th),p(ih,th),p(rh,ih),p(ah,ih),p(sh,ah),p(uh,ah),p(hh,ah),p(ph,th),p(lh,ph),p(ch,ih),p(fh,ih),p(dh,ih),p(yh,ah),p(vh,ah),p(gh,th),p(mh,ah),p(bh,eh),p(_h,ph),p(Ph,oo),Cv=Ph.prototype,Cv.clone=function(){var t=new Ph(null);return t.yj(this.a),t},Cv.Jb=function(t,e,n,o){if(o<N(this.G(),t,e))return o;var i,r=this.a,a=0;for(i=r.length;a<i;++a)o=r[a].Jb(t,e,n,o);return o},Cv.Pc=function(t,e){var n,o=this.a,i=0;for(n=o.length;i<n;++i)if(o[i].Pc(t,e))return!0;return!1},Cv.Ce=function(t){K(t);for(var e=this.a,n=0,o=e.length;n<o;++n)Y(t,e[n].G());return t},Cv.He=function(){return Sh(this.a)},Cv.$d=function(t){if(this.l!=this.f&&(st(this.i),this.g=0,this.l=this.f),0>t||this.g&&t<this.g)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var n,o=[],i=this.a,r=!1,a=0;for(n=i.length;a<n;++a){var s=i[a],u=s.$d(t);o.push(u),u!==s&&(r=!0)}return r?(t=new Ph(null),Ch(t),t.a=o,Mh(t),t.s(),this.i[e]=t):(this.g=t,this)},Cv.T=function(){return"GeometryCollection"},Cv.Ya=function(t){var e,n=this.a,o=0;for(e=n.length;o<e;++o)if(n[o].Ya(t))return!0;return!1},Cv.rotate=function(t,e){for(var n=this.a,o=0,i=n.length;o<i;++o)n[o].rotate(t,e);this.s()},Cv.scale=function(t,e,n){n||(n=$(this.G()));for(var o=this.a,i=0,r=o.length;i<r;++i)o[i].scale(t,e,n);this.s()},Cv.yj=function(t){t=Sh(t),Ch(this),this.a=t,Mh(this),this.s()},Cv.Fc=function(t){var e,n=this.a,o=0;for(e=n.length;o<e;++o)n[o].Fc(t);this.s()},Cv.translate=function(t,e){var n,o=this.a,i=0;for(n=o.length;i<n;++i)o[i].translate(t,e);this.s()},Cv.ka=function(){Ch(this),oo.prototype.ka.call(this)},p(Th,Ou);var Sm={Point:function(t){return new Ao(t.coordinates)},LineString:function(t){return new ju(t.coordinates)},Polygon:function(t){return new Bo(t.coordinates)},MultiPoint:function(t){return new Yu(t.coordinates)},MultiLineString:function(t){return new Bu(t.coordinates)},MultiPolygon:function(t){return new Gu(t.coordinates)},GeometryCollection:function(t,e){return t=t.geometries.map(function(t){return Ah(t,e)}),new Ph(t)}},Cm={Point:function(t){return{type:"Point",coordinates:t.X()}},LineString:function(t){return{type:"LineString",coordinates:t.X()}},Polygon:function(t,e){if(e)var n=e.rightHanded;return{type:"Polygon",coordinates:t.X(n)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.X()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.X()}},MultiPolygon:function(t,e){if(e)var n=e.rightHanded;return{type:"MultiPolygon",coordinates:t.X(n)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.a.map(function(t){var n=Nv({},e);return delete n.featureProjection,Eh(t,n)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};Cv=Th.prototype,Cv.Uc=function(t,e){t="Feature"===t.type?t:{type:"Feature",geometry:t},e=Ah(t.geometry,e);var n=new ru;return this.b&&n.Wc(this.b),n.Ra(e),void 0!==t.id&&n.kc(t.id),t.properties&&n.H(t.properties),n},Cv.Gg=function(t,e){if("FeatureCollection"===t.type){var n=[];t=t.features;var o,i=0;for(o=t.length;i<o;++i)n.push(this.Uc(t[i],e))}else n=[this.Uc(t,e)];return n},Cv.Kg=function(t,e){return Ah(t,e)},Cv.Ng=function(t){t=t.crs;var e;return t?"name"==t.type?e=Ct(t.properties.name):"EPSG"==t.type?e=Ct("EPSG:"+t.properties.code):d(!1,36):e=this.defaultDataProjection,e},Cv.cd=function(t,e){e=Lu(this,e);var n={type:"Feature"},o=t.a;return void 0!==o&&(n.id=o),(o=t.V())?n.geometry=Eh(o,e):n.geometry=null,e=t.N(),delete e[t.c],ht(e)?n.properties=null:n.properties=e,n},Cv.re=function(t,e){e=Lu(this,e);var n,o=[],i=0;for(n=t.length;i<n;++i)o.push(this.cd(t[i],e));return{type:"FeatureCollection",features:o}},Cv.te=function(t,e){return Eh(t,Lu(this,e))},p(Ih,Eu),Cv=Ih.prototype,Cv.T=function(){return"xml"},Cv.Ub=function(t,e){return pu(t)?Lh(this,t,e):lu(t)?this.Fg(t,e):"string"==typeof t?(t=cu(t),Lh(this,t,e)):null},Cv.Fg=function(){return null},Cv.Oa=function(t,e){return pu(t)?Nh(this,t,e):lu(t)?this.Ac(t,e):"string"==typeof t?(t=cu(t),Nh(this,t,e)):[]},Cv.Vc=function(t,e){return pu(t)?null:lu(t)?this.kj(t,e):("string"==typeof t&&cu(t),null)},Cv.kj=function(){return null},Cv.nb=function(t){return pu(t)?this.Mg(t):lu(t)?this.vf(t):"string"==typeof t?(t=cu(t),this.Mg(t)):null},Cv.Mg=function(){return this.defaultDataProjection},Cv.vf=function(){return this.defaultDataProjection},Cv.Fd=function(t,e){return this.f.serializeToString(this.$g(t,e))},Cv.$g=function(){return null},Cv.Xb=function(t,e){return t=this.Yb(t,e),this.f.serializeToString(t)},Cv.Yb=function(){return null},Cv.dd=function(t,e){return t=this.se(t,e),this.f.serializeToString(t)},Cv.se=function(){return null},p(Oh,Ih);var Mm=/^[\s\xa0]*$/;Cv=Oh.prototype,Cv.he=function(t,e){var n=t.localName,o=null;if("FeatureCollection"==n)o="http://www.opengis.net/wfs"===t.namespaceURI?Su([],this.b,t,e,this):Su(null,this.b,t,e,this);else if("featureMembers"==n||"featureMember"==n){var i,r=e[0],a=r.featureType,s=r.featureNS;if(!a&&t.childNodes){a=[],s={};var u=0;for(i=t.childNodes.length;u<i;++u){var h=t.childNodes[u];if(1===h.nodeType){var p=h.nodeName.split(":").pop();if(-1===a.indexOf(p)){var l="",c=0;h=h.namespaceURI;for(var f in s){if(s[f]===h){l=f;break}++c}l||(l="p"+c,s[l]=h),a.push(l+":"+p)}}}"featureMember"!=n&&(r.featureType=a,r.featureNS=s)}"string"==typeof s&&(u=s,s={},s.p0=u),r={},a=Array.isArray(a)?a:[a];for(var d in s){for(p={},u=0,i=a.length;u<i;++u)(-1===a[u].indexOf(":")?"p0":a[u].split(":")[0])===d&&(p[a[u].split(":").pop()]="featureMembers"==n?du(this.Eg,this):yu(this.Eg,this));r[s[d]]=p}o="featureMember"==n?Su(void 0,r,t,e):Su([],r,t,e)}return null===o&&(o=[]),o},Cv.sf=function(t,e){var n=e[0];if(n.srsName=t.firstElementChild.getAttribute("srsName"),t=Su(null,this.eh,t,e,this))return Nu(t,!1,n)},Cv.Eg=function(t,e){var n;(n=t.getAttribute("fid"))||(n=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var o,i={};for(t=t.firstElementChild;t;t=t.nextElementSibling){var r=t.localName;if(0===t.childNodes.length||1===t.childNodes.length&&(3===t.firstChild.nodeType||4===t.firstChild.nodeType)){var a=uu(t,!1);Mm.test(a)&&(a=void 0),i[r]=a}else"boundedBy"!==r&&(o=r),i[r]=this.sf(t,e)}return e=new ru(i),o&&e.Wc(o),n&&e.kc(n),e},Cv.pj=function(t,e){if(t=this.rf(t,e))return e=new Ao(null),e.aa("XYZ",t),e},Cv.nj=function(t,e){if(t=Su([],this.Xj,t,e,this))return new Yu(t)},Cv.mj=function(t,e){if(t=Su([],this.Wj,t,e,this))return e=new Bu(null),Uu(e,t),e},Cv.oj=function(t,e){if(t=Su([],this.Yj,t,e,this))return e=new Gu(null),Hu(e,t),e},Cv.gj=function(t,e){Pu(this.ak,t,e,this)},Cv.Vh=function(t,e){Pu(this.Uj,t,e,this)},Cv.hj=function(t,e){Pu(this.bk,t,e,this)},Cv.tf=function(t,e){if(t=this.rf(t,e))return e=new ju(null),e.aa("XYZ",t),e},Cv.Jp=function(t,e){if(t=Su(null,this.ue,t,e,this))return t},Cv.lj=function(t,e){if(t=this.rf(t,e))return e=new Mo(null),To(e,"XYZ",t),e},Cv.uf=function(t,e){if((t=Su([null],this.If,t,e,this))&&t[0]){e=new Bo(null);var n,o=t[0],r=[o.length],a=1;for(n=t.length;a<n;++a)i(o,t[a]),r.push(o.length);return e.aa("XYZ",o,r),e}},Cv.rf=function(t,e){return Su(null,this.ue,t,e,this)},Cv.Xj={"http://www.opengis.net/gml":{pointMember:du(Oh.prototype.gj),pointMembers:du(Oh.prototype.gj)}},Cv.Wj={"http://www.opengis.net/gml":{lineStringMember:du(Oh.prototype.Vh),lineStringMembers:du(Oh.prototype.Vh)}},Cv.Yj={"http://www.opengis.net/gml":{polygonMember:du(Oh.prototype.hj),polygonMembers:du(Oh.prototype.hj)}},Cv.ak={"http://www.opengis.net/gml":{Point:du(Oh.prototype.rf)}},Cv.Uj={"http://www.opengis.net/gml":{LineString:du(Oh.prototype.tf)}},Cv.bk={"http://www.opengis.net/gml":{Polygon:du(Oh.prototype.uf)}},Cv.ve={"http://www.opengis.net/gml":{LinearRing:yu(Oh.prototype.Jp)}},Cv.kj=function(t,e){return(t=this.sf(t,[Iu(this,t,e?e:{})]))?t:null},Cv.Ac=function(t,e){var n={featureType:this.featureType,featureNS:this.featureNS};return e&&Nv(n,Iu(this,t,e)),this.he(t,[n])||[]},Cv.vf=function(t){return Ct(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},p(zh,Oh),Cv=zh.prototype,Cv.Np=function(t,e){if(t=Su([],this.Vj,t,e,this))return e=new Bu(null),Uu(e,t),e},Cv.Op=function(t,e){if(t=Su([],this.Zj,t,e,this))return e=new Gu(null),Hu(e,t),e},Cv.vh=function(t,e){Pu(this.Rj,t,e,this)},Cv.Kj=function(t,e){Pu(this.dk,t,e,this)},Cv.Rp=function(t,e){return Su([null],this.$j,t,e,this)},Cv.Up=function(t,e){return Su([null],this.ck,t,e,this)},Cv.Sp=function(t,e){return Su([null],this.If,t,e,this)},Cv.Mp=function(t,e){return Su([null],this.ue,t,e,this)},Cv.qm=function(t,e){(t=Su(void 0,this.ve,t,e,this))&&e[e.length-1].push(t)},Cv.Jk=function(t,e){(t=Su(void 0,this.ve,t,e,this))&&(e[e.length-1][0]=t)},Cv.qj=function(t,e){if((t=Su([null],this.ek,t,e,this))&&t[0]){e=new Bo(null);var n,o=t[0],r=[o.length],a=1;for(n=t.length;a<n;++a)i(o,t[a]),r.push(o.length);return e.aa("XYZ",o,r),e}},Cv.ij=function(t,e){if(t=Su([null],this.Sj,t,e,this))return e=new ju(null),e.aa("XYZ",t),e},Cv.Ip=function(t,e){return t=Su([null],this.Tj,t,e,this),j(t[1][0],t[1][1],t[2][0],t[2][1])},Cv.Kp=function(t,e){var n=uu(t,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;t=[];for(var i;i=o.exec(n);)t.push(parseFloat(i[1])),n=n.substr(i[0].length);if(""===n){if(e=e[0].srsName,n="enu",e&&(n=Ct(e).a),"neu"===n)for(e=0,n=t.length;e<n;e+=3)o=t[e],t[e]=t[e+1],t[e+1]=o;if(e=t.length,2==e&&t.push(0),e)return t}},Cv.Jg=function(t,e){var n=uu(t,!1).replace(/^\s*|\s*$/g,""),o=e[0].srsName,i=t.parentNode.getAttribute("srsDimension");e="enu",o&&(e=Ct(o).a),n=n.split(/\s+/),o=2,t.getAttribute("srsDimension")?o=Bh(t.getAttribute("srsDimension")):t.getAttribute("dimension")?o=Bh(t.getAttribute("dimension")):i&&(o=Bh(i));for(var r,a=[],s=0,u=n.length;s<u;s+=o)t=parseFloat(n[s]),i=parseFloat(n[s+1]),r=3===o?parseFloat(n[s+2]):0,"en"===e.substr(0,2)?a.push(t,i,r):a.push(i,t,r);return a},Cv.ue={"http://www.opengis.net/gml":{pos:yu(zh.prototype.Kp),posList:yu(zh.prototype.Jg)}},Cv.If={"http://www.opengis.net/gml":{interior:zh.prototype.qm,exterior:zh.prototype.Jk}},Cv.eh={"http://www.opengis.net/gml":{Point:yu(Oh.prototype.pj),MultiPoint:yu(Oh.prototype.nj),LineString:yu(Oh.prototype.tf),MultiLineString:yu(Oh.prototype.mj),LinearRing:yu(Oh.prototype.lj),Polygon:yu(Oh.prototype.uf),MultiPolygon:yu(Oh.prototype.oj),Surface:yu(zh.prototype.qj),MultiSurface:yu(zh.prototype.Op),Curve:yu(zh.prototype.ij),MultiCurve:yu(zh.prototype.Np),Envelope:yu(zh.prototype.Ip)}},Cv.Vj={"http://www.opengis.net/gml":{curveMember:du(zh.prototype.vh),curveMembers:du(zh.prototype.vh)}},Cv.Zj={"http://www.opengis.net/gml":{surfaceMember:du(zh.prototype.Kj),surfaceMembers:du(zh.prototype.Kj)}},Cv.Rj={"http://www.opengis.net/gml":{LineString:du(Oh.prototype.tf),Curve:du(zh.prototype.ij)}},Cv.dk={"http://www.opengis.net/gml":{Polygon:du(Oh.prototype.uf),Surface:du(zh.prototype.qj)}},Cv.ek={"http://www.opengis.net/gml":{patches:yu(zh.prototype.Rp)}},Cv.Sj={"http://www.opengis.net/gml":{segments:yu(zh.prototype.Up)}},Cv.Tj={"http://www.opengis.net/gml":{lowerCorner:du(zh.prototype.Jg),upperCorner:du(zh.prototype.Jg)}},Cv.$j={"http://www.opengis.net/gml":{PolygonPatch:yu(zh.prototype.Sp)}},Cv.ck={"http://www.opengis.net/gml":{LineStringSegment:yu(zh.prototype.Mp)}},Cv.yi=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=su(t.namespaceURI,"pos"),t.appendChild(o),n=n[n.length-1],t=n.hasZ;var i=n.srsName;n="enu",i&&(n=Ct(i).a),e=e.X(),n="en"===n.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0],t&&(n+=" "+(e[2]||0)),Wh(o,n)};var Tm={"http://www.opengis.net/gml":{lowerCorner:mu(Wh),upperCorner:mu(Wh)}};Cv=zh.prototype,Cv.zn=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),Mu({node:t},Tm,xm,[e[0]+" "+e[1],e[2]+" "+e[3]],n,["lowerCorner","upperCorner"],this)},Cv.vi=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=su(t.namespaceURI,"posList"),t.appendChild(o),qh(o,e,n)},Cv.yn=function(t,e){t=e[e.length-1],e=t.node;var n=t.exteriorWritten;return void 0===n&&(t.exteriorWritten=!0),su(e.namespaceURI,void 0!==n?"interior":"exterior")},Cv.cf=function(t,e,n){var o=n[n.length-1],i=o.hasZ;o=o.srsName,"PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Yd(),Mu({node:t,hasZ:i,srsName:o},Lm,this.yn,e,n,void 0,this)):"Surface"===t.nodeName&&(i=su(t.namespaceURI,"patches"),t.appendChild(i),t=su(i.namespaceURI,"PolygonPatch"),i.appendChild(t),this.cf(t,e,n))},Cv.bf=function(t,e,n){var o=n[n.length-1].srsName;"LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(o=su(t.namespaceURI,"posList"),t.appendChild(o),qh(o,e,n)):"Curve"===t.nodeName&&(o=su(t.namespaceURI,"segments"),t.appendChild(o),t=su(o.namespaceURI,"LineStringSegment"),o.appendChild(t),this.bf(t,e,n))},Cv.xi=function(t,e,n){var o=n[n.length-1],i=o.hasZ,r=o.srsName;o=o.surface,r&&t.setAttribute("srsName",r),e=e.Zd(),Mu({node:t,hasZ:i,srsName:r,surface:o},Am,this.l,e,n,void 0,this)},Cv.An=function(t,e,n){var o=n[n.length-1],i=o.srsName;o=o.hasZ,i&&t.setAttribute("srsName",i),e=e.de(),Mu({node:t,hasZ:o,srsName:i},Em,_u("pointMember"),e,n,void 0,this)},Cv.wi=function(t,e,n){var o=n[n.length-1],i=o.hasZ,r=o.srsName;o=o.curve,r&&t.setAttribute("srsName",r),e=e.kd(),Mu({node:t,hasZ:i,srsName:r,curve:o},Im,this.l,e,n,void 0,this)},Cv.zi=function(t,e,n){var o=su(t.namespaceURI,"LinearRing");t.appendChild(o),this.vi(o,e,n)},Cv.Ai=function(t,e,n){var o=this.a(e,n);o&&(t.appendChild(o),this.cf(o,e,n))},Cv.Bn=function(t,e,n){var o=su(t.namespaceURI,"Point");t.appendChild(o),this.yi(o,e,n)},Cv.ui=function(t,e,n){var o=this.a(e,n);o&&(t.appendChild(o),this.bf(o,e,n))},Cv.td=function(t,e,n){var o=n[n.length-1],i=Nv({},o);i.node=t;var r;r=Array.isArray(e)?o.dataProjection?Nt(e,o.featureProjection,o.dataProjection):e:Nu(e,!0,o),Mu(i,Nm,this.a,[r],n,void 0,this)},Cv.ti=function(t,e,n){var o=e.a;o&&t.setAttribute("fid",o),o=n[n.length-1];var i=o.featureNS,r=e.c;o.ob||(o.ob={},o.ob[i]={});var a=e.N();e=[];var s=[];for(h in a){var u=a[h];null!==u&&(e.push(h),s.push(u),h==r||u instanceof oo?h in o.ob[i]||(o.ob[i][h]=mu(this.td,this)):h in o.ob[i]||(o.ob[i][h]=mu(Wh)))}var h=Nv({},o);h.node=t,Mu(h,o.ob,_u(void 0,i),s,n,e)};var Am={"http://www.opengis.net/gml":{surfaceMember:mu(zh.prototype.Ai),polygonMember:mu(zh.prototype.Ai)}},Em={"http://www.opengis.net/gml":{pointMember:mu(zh.prototype.Bn)}},Im={"http://www.opengis.net/gml":{lineStringMember:mu(zh.prototype.ui),curveMember:mu(zh.prototype.ui)}},Lm={"http://www.opengis.net/gml":{exterior:mu(zh.prototype.zi),interior:mu(zh.prototype.zi)}},Nm={"http://www.opengis.net/gml":{Curve:mu(zh.prototype.bf),MultiCurve:mu(zh.prototype.wi),Point:mu(zh.prototype.yi),MultiPoint:mu(zh.prototype.An),LineString:mu(zh.prototype.bf),MultiLineString:mu(zh.prototype.wi),LinearRing:mu(zh.prototype.vi),Polygon:mu(zh.prototype.cf),MultiPolygon:mu(zh.prototype.xi),Surface:mu(zh.prototype.cf),MultiSurface:mu(zh.prototype.xi),Envelope:mu(zh.prototype.zn)}},Om={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};zh.prototype.l=function(t,e){return su("http://www.opengis.net/gml",Om[e[e.length-1].node.nodeName])},zh.prototype.a=function(t,e){var n=e[e.length-1];e=n.multiSurface;var o=n.surface,i=n.curve;return n=n.multiCurve,Array.isArray(t)?t="Envelope":(t=t.T(),"MultiPolygon"===t&&!0===e?t="MultiSurface":"Polygon"===t&&!0===o?t="Surface":"LineString"===t&&!0===i?t="Curve":"MultiLineString"===t&&!0===n&&(t="MultiCurve")),su("http://www.opengis.net/gml",t)},zh.prototype.se=function(t,e){e=Lu(this,e);var n=su("http://www.opengis.net/gml","geom"),o={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.c,surface:this.o,multiSurface:this.j,multiCurve:this.g};return e&&Nv(o,e),this.td(n,t,[o]),n},zh.prototype.Yb=function(t,e){e=Lu(this,e);var n=su("http://www.opengis.net/gml","featureMembers");n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var o={srsName:this.srsName,hasZ:this.hasZ,curve:this.c,surface:this.o,multiSurface:this.j,multiCurve:this.g,featureNS:this.featureNS,featureType:this.featureType};e&&Nv(o,e),e=[o];var i=e[e.length-1];o=i.featureType;var r=i.featureNS,a={};return a[r]={},a[r][o]=mu(this.ti,this),i=Nv({},i),i.node=n,Mu(i,a,_u(o,r),t,e),n},p(Hh,Oh),Cv=Hh.prototype,Cv.jj=function(t,e){t=uu(t,!1).replace(/^\s*|\s*$/g,"");var n=e[0].srsName;e="enu",n&&(n=Ct(n))&&(e=n.a),t=t.trim().split(/\s+/);for(var o,i,r=[],a=0,s=t.length;a<s;a++)i=t[a].split(/,+/),n=parseFloat(i[0]),o=parseFloat(i[1]),i=3===i.length?parseFloat(i[2]):0,"en"===e.substr(0,2)?r.push(n,o,i):r.push(o,n,i);return r},Cv.Gp=function(t,e){return t=Su([null],this.Qj,t,e,this),j(t[1][0],t[1][1],t[1][3],t[1][4])},Cv.om=function(t,e){(t=Su(void 0,this.ve,t,e,this))&&e[e.length-1].push(t)},Cv.pp=function(t,e){(t=Su(void 0,this.ve,t,e,this))&&(e[e.length-1][0]=t)},Cv.ue={"http://www.opengis.net/gml":{coordinates:yu(Hh.prototype.jj)}},Cv.If={"http://www.opengis.net/gml":{innerBoundaryIs:Hh.prototype.om,outerBoundaryIs:Hh.prototype.pp}},Cv.Qj={"http://www.opengis.net/gml":{coordinates:du(Hh.prototype.jj)}},Cv.eh={"http://www.opengis.net/gml":{Point:yu(Oh.prototype.pj),MultiPoint:yu(Oh.prototype.nj),LineString:yu(Oh.prototype.tf),MultiLineString:yu(Oh.prototype.mj),LinearRing:yu(Oh.prototype.lj),Polygon:yu(Oh.prototype.uf),MultiPolygon:yu(Oh.prototype.oj),Box:yu(Hh.prototype.Gp)}},Cv.rg=function(t,e){var n=e[e.length-1];e=n.multiSurface;var o=n.surface;return n=n.multiCurve,Array.isArray(t)?t="Envelope":(t=t.T(),"MultiPolygon"===t&&!0===e?t="MultiSurface":"Polygon"===t&&!0===o?t="Surface":"MultiLineString"===t&&!0===n&&(t="MultiCurve")),su("http://www.opengis.net/gml",t)},Cv.ki=function(t,e,n){var o=n[n.length-1],i=Nv({},o);i.node=t;var r;r=Array.isArray(e)?o.dataProjection?Nt(e,o.featureProjection,o.dataProjection):e:Nu(e,!0,o),Mu(i,km,this.rg,[r],n,void 0,this)},Cv.$e=function(t,e,n){var o=n[n.length-1].srsName;"LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(o=Vh(t.namespaceURI),t.appendChild(o),$h(o,e,n)):"Curve"===t.nodeName&&(o=su(t.namespaceURI,"segments"),t.appendChild(o),t=su(o.namespaceURI,"LineStringSegment"),o.appendChild(t),this.$e(t,e,n))},Cv.af=function(t,e,n){var o=n[n.length-1],i=o.hasZ;o=o.srsName,"PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Yd(),Mu({node:t,hasZ:i,srsName:o},Rm,this.tn,e,n,void 0,this)):"Surface"===t.nodeName&&(i=su(t.namespaceURI,"patches"),t.appendChild(i),t=su(i.namespaceURI,"PolygonPatch"),i.appendChild(t),this.af(t,e,n))},Cv.tn=function(t,e){t=e[e.length-1],e=t.node;var n=t.exteriorWritten;return void 0===n&&(t.exteriorWritten=!0),su(e.namespaceURI,void 0!==n?"innerBoundaryIs":"outerBoundaryIs")},Cv.ri=function(t,e,n){var o=su(t.namespaceURI,"LinearRing");t.appendChild(o),this.mi(o,e,n)},Cv.ni=function(t,e,n){var o=n[n.length-1],i=o.hasZ,r=o.srsName;o=o.curve,r&&t.setAttribute("srsName",r),e=e.kd(),Mu({node:t,hasZ:i,srsName:r,curve:o},Fm,this.a,e,n,void 0,this)},Cv.pi=function(t,e,n){var o=n[n.length-1];n=o.hasZ;var i=o.srsName;i&&t.setAttribute("srsName",i),o=Vh(t.namespaceURI),t.appendChild(o),t=e.X(),t=Zh(t,i,n),Wh(o,t)},Cv.wn=function(t,e,n){var o=n[n.length-1],i=o.hasZ;(o=o.srsName)&&t.setAttribute("srsName",o),e=e.de(),Mu({node:t,hasZ:i,srsName:o},Dm,_u("pointMember"),e,n,void 0,this)},Cv.xn=function(t,e,n){var o=su(t.namespaceURI,"Point");t.appendChild(o),this.pi(o,e,n)},Cv.li=function(t,e,n){var o=this.rg(e,n);o&&(t.appendChild(o),this.$e(o,e,n))},Cv.mi=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=Vh(t.namespaceURI),t.appendChild(o),$h(o,e,n)},Cv.oi=function(t,e,n){var o=n[n.length-1],i=o.hasZ,r=o.srsName;o=o.surface,r&&t.setAttribute("srsName",r),e=e.Zd(),Mu({node:t,hasZ:i,srsName:r,surface:o},Km,this.a,e,n,void 0,this)},Cv.si=function(t,e,n){var o=this.rg(e,n);o&&(t.appendChild(o),this.af(o,e,n))},Cv.vn=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),Mu({node:t},Bm,xm,[e[0]+" "+e[1],e[2]+" "+e[3]],n,["lowerCorner","upperCorner"],this)};var km={"http://www.opengis.net/gml":{Curve:mu(Hh.prototype.$e),MultiCurve:mu(Hh.prototype.ni),Point:mu(Hh.prototype.pi),MultiPoint:mu(Hh.prototype.wn),LineString:mu(Hh.prototype.$e),MultiLineString:mu(Hh.prototype.ni),LinearRing:mu(Hh.prototype.mi),Polygon:mu(Hh.prototype.af),MultiPolygon:mu(Hh.prototype.oi),Surface:mu(Hh.prototype.af),MultiSurface:mu(Hh.prototype.oi),Envelope:mu(Hh.prototype.vn)}},Rm={"http://www.opengis.net/gml":{outerBoundaryIs:mu(Hh.prototype.ri),innerBoundaryIs:mu(Hh.prototype.ri)}},Dm={"http://www.opengis.net/gml":{pointMember:mu(Hh.prototype.xn)}},Fm={"http://www.opengis.net/gml":{lineStringMember:mu(Hh.prototype.li),curveMember:mu(Hh.prototype.li)}};Hh.prototype.a=function(t,e){return su("http://www.opengis.net/gml",jm[e[e.length-1].node.nodeName])};var jm={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Km={"http://www.opengis.net/gml":{surfaceMember:mu(Hh.prototype.si),polygonMember:mu(Hh.prototype.si)}},Bm={"http://www.opengis.net/gml":{lowerCorner:mu(Wh),upperCorner:mu(Wh)}};p(Jh,Ih);var Xm=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Um={rte:op,trk:ip,wpt:rp},Ym=wu(Xm,{rte:du(op),trk:du(ip),wpt:du(rp)}),Gm=wu(Xm,{text:gu(Xh,"linkText"),type:gu(Xh,"linkType")}),Wm=wu(Xm,{name:gu(Xh),cmt:gu(Xh),desc:gu(Xh),src:gu(Xh),link:ep,number:gu(Kh),extensions:np,type:gu(Xh),rtept:function(t,e){var n=Su({},zm,t,e);n&&(e=e[e.length-1],Qh(e.flatCoordinates,e.layoutOptions,t,n))}}),zm=wu(Xm,{ele:gu(Fh),time:gu(Dh)}),qm=wu(Xm,{name:gu(Xh),cmt:gu(Xh),desc:gu(Xh),src:gu(Xh),link:ep,number:gu(Kh),type:gu(Xh),extensions:np,trkseg:function(t,e){var n=e[e.length-1];Pu(Hm,t,e),n.ends.push(n.flatCoordinates.length)}}),Hm=wu(Xm,{trkpt:function(t,e){var n=Su({},Vm,t,e);n&&(e=e[e.length-1],Qh(e.flatCoordinates,e.layoutOptions,t,n))}}),Vm=wu(Xm,{ele:gu(Fh),time:gu(Dh)}),$m=wu(Xm,{ele:gu(Fh),time:gu(Dh),magvar:gu(Fh),geoidheight:gu(Fh),name:gu(Xh),cmt:gu(Xh),desc:gu(Xh),src:gu(Xh),link:ep,sym:gu(Xh),type:gu(Xh),fix:gu(Xh),sat:gu(Kh),hdop:gu(Fh),vdop:gu(Fh),pdop:gu(Fh),ageofdgpsdata:gu(Fh),dgpsid:gu(Kh),extensions:np});Jh.prototype.Fg=function(t,e){if(!n(Xm,t.namespaceURI))return null;var o=Um[t.localName];return o&&(t=o(t,[Iu(this,t,e)]))?(ap(this,[t]),t):null},Jh.prototype.Ac=function(t,e){return n(Xm,t.namespaceURI)&&"gpx"==t.localName&&(t=Su([],Ym,t,[Iu(this,t,e)]))?(ap(this,t),t):[]};var Zm=["text","type"],Jm=wu(Xm,{text:mu(Wh),type:mu(Wh)}),Qm=wu(Xm,"name cmt desc src link number type rtept".split(" ")),tb=wu(Xm,{name:mu(Wh),cmt:mu(Wh),desc:mu(Wh),src:mu(Wh),link:mu(sp),number:mu(Gh),type:mu(Wh),rtept:bu(mu(up))}),eb=wu(Xm,["ele","time"]),nb=wu(Xm,"name cmt desc src link number type trkseg".split(" ")),ob=wu(Xm,{name:mu(Wh),cmt:mu(Wh),desc:mu(Wh),src:mu(Wh),link:mu(sp),number:mu(Gh),type:mu(Wh),trkseg:bu(mu(function(t,e,n){Mu({node:t,geometryLayout:e.ja,properties:{}},rb,ib,e.X(),n)}))}),ib=_u("trkpt"),rb=wu(Xm,{trkpt:mu(up)}),ab=wu(Xm,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),sb=wu(Xm,{ele:mu(Yh),time:mu(function(t,e){e=new Date(1e3*e),t.appendChild(_m.createTextNode(e.getUTCFullYear()+"-"+Xn(e.getUTCMonth()+1)+"-"+Xn(e.getUTCDate())+"T"+Xn(e.getUTCHours())+":"+Xn(e.getUTCMinutes())+":"+Xn(e.getUTCSeconds())+"Z"))}),magvar:mu(Yh),geoidheight:mu(Yh),name:mu(Wh),cmt:mu(Wh),desc:mu(Wh),src:mu(Wh),link:mu(sp),sym:mu(Wh),type:mu(Wh),fix:mu(Wh),sat:mu(Gh),hdop:mu(Yh),vdop:mu(Yh),pdop:mu(Yh),ageofdgpsdata:mu(Yh),dgpsid:mu(Gh)}),ub={Point:"wpt",LineString:"rte",MultiLineString:"trk"},hb=wu(Xm,{rte:mu(function(t,e,n){var o=n[0],i=e.N();t={node:t,properties:i},(e=e.V())&&(e=Nu(e,!0,o),t.geometryLayout=e.ja,i.rtept=e.X()),o=Qm[n[n.length-1].node.namespaceURI],i=xu(i,o),Mu(t,tb,xm,i,n,o)}),trk:mu(function(t,e,n){var o=n[0],i=e.N();t={node:t,properties:i},(e=e.V())&&(e=Nu(e,!0,o),i.trkseg=e.kd()),o=nb[n[n.length-1].node.namespaceURI],i=xu(i,o),Mu(t,ob,xm,i,n,o)}),wpt:mu(function(t,e,n){var o=n[0],i=n[n.length-1];i.properties=e.N(),(e=e.V())&&(e=Nu(e,!0,o),i.geometryLayout=e.ja,up(t,e.X(),n))})});Jh.prototype.Yb=function(t,e){e=Lu(this,e);var n=su("http://www.topografix.com/GPX/1/1","gpx");return n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),Mu({node:n},hb,hp,t,[e]),n},p(pp,Eu),Cv=pp.prototype,Cv.T=function(){return"text"},Cv.Ub=function(t,e){return this.ge(lp(t),Lu(this,e))},Cv.Oa=function(t,e){return this.Hg(lp(t),Lu(this,e))},Cv.Vc=function(t,e){return this.Bd(lp(t),Lu(this,e))},Cv.nb=function(){return this.defaultDataProjection},Cv.Fd=function(t,e){return this.qe(t,Lu(this,e))},Cv.Xb=function(t,e){return this.ah(t,Lu(this,e))},Cv.dd=function(t,e){return this.Gd(t,Lu(this,e))},p(cp,pp);var pb=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,lb=/^H.([A-Z]{3}).*?:(.*)/,cb=/^HFDTE(\d{2})(\d{2})(\d{2})/,fb=/\r\n|\r|\n/;Cv=cp.prototype,Cv.ge=function(t,e){var n=this.b,o=t.split(fb);t={};var i,r=[],a=2e3,s=0,u=1,h=-1,p=0;for(i=o.length;p<i;++p){var l,c=o[p];if("B"==c.charAt(0)){if(l=pb.exec(c)){c=parseInt(l[1],10);var f=parseInt(l[2],10),d=parseInt(l[3],10),y=parseInt(l[4],10)+parseInt(l[5],10)/6e4;"S"==l[6]&&(y=-y);var v=parseInt(l[7],10)+parseInt(l[8],10)/6e4;"W"==l[9]&&(v=-v),r.push(v,y),"none"!=n&&r.push("gps"==n?parseInt(l[11],10):"barometric"==n?parseInt(l[12],10):0),l=Date.UTC(a,s,u,c,f,d),l<h&&(l=Date.UTC(a,s,u+1,c,f,d)),r.push(l/1e3),h=l}}else"H"==c.charAt(0)&&((l=cb.exec(c))?(u=parseInt(l[1],10),s=parseInt(l[2],10)-1,a=2e3+parseInt(l[3],10)):(l=lb.exec(c))&&(t[l[1]]=l[2].trim()))}return r.length?(o=new ju(null),o.aa("none"==n?"XYM":"XYZM",r),e=new ru(Nu(o,!1,e)),e.H(t),e):null},Cv.Hg=function(t,e){return(t=this.ge(t,e))?[t]:[]},Cv.qe=function(){},Cv.ah=function(){},Cv.Gd=function(){},Cv.Bd=function(){},p(fp,ce),fp.prototype.v=function(){this.f=3,this.i.forEach(ae),this.i=null,this.b("change")},fp.prototype.u=function(){if(this.f=2,this.a&&(this.M.width=this.a[0],this.M.height=this.a[1]),this.a=[this.M.width,this.M.height],this.i.forEach(ae),this.i=null,dp(this),!this.o&&null!==this.g){this.c.width=this.M.width,this.c.height=this.M.height;var t=this.c.getContext("2d");t.drawImage(this.M,0,0);for(var e=t.getImageData(0,0,this.M.width,this.M.height),n=e.data,o=this.g[0]/255,i=this.g[1]/255,r=this.g[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=o,n[a+1]*=i,n[a+2]*=r;t.putImageData(e,0,0);
}this.b("change")},fp.prototype.Y=function(){return this.c?this.c:this.M},fp.prototype.load=function(){if(0==this.f){this.f=1,this.i=[ie(this.M,"error",this.v,this),ie(this.M,"load",this.u,this)];try{this.M.src=this.l}catch(t){this.v()}}},p(yp,Vs),Cv=yp.prototype,Cv.clone=function(){var t=this.Y(1);if(2===this.b.f)if("IMG"===t.tagName.toUpperCase())var e=t.cloneNode(!0);else{e=document.createElement("canvas");var n=e.getContext("2d");e.width=t.width,e.height=t.height,n.drawImage(t,0,0)}return new yp({anchor:this.l.slice(),anchorOrigin:this.f,anchorXUnits:this.B,anchorYUnits:this.C,crossOrigin:this.qa,color:this.j&&this.j.slice?this.j.slice():this.j||void 0,img:e?e:void 0,imgSize:e?this.b.a.slice():void 0,src:e?void 0:this.b.l,offset:this.pa.slice(),offsetOrigin:this.c,size:null!==this.D?this.D.slice():void 0,opacity:this.i,scale:this.a,snapToPixel:this.v,rotation:this.g,rotateWithView:this.o})},Cv.Jc=function(){if(this.u)return this.u;var t=this.l,e=this.ic();if("fraction"==this.B||"fraction"==this.C){if(!e)return null;t=this.l.slice(),"fraction"==this.B&&(t[0]*=e[0]),"fraction"==this.C&&(t[1]*=e[1])}if("top-left"!=this.f){if(!e)return null;t===this.l&&(t=this.l.slice()),"top-right"!=this.f&&"bottom-right"!=this.f||(t[0]=-t[0]+e[0]),"bottom-left"!=this.f&&"bottom-right"!=this.f||(t[1]=-t[1]+e[1])}return this.u=t},Cv.Yo=function(){return this.j},Cv.Y=function(t){return this.b.Y(t)},Cv.Ie=function(){return this.b.a},Cv.hf=function(){return this.b.f},Cv.yg=function(){var t=this.b;if(!t.j)if(t.o){var e=t.a[0],n=t.a[1],o=Te(e,n);o.fillRect(0,0,e,n),t.j=o.canvas}else t.j=t.M;return t.j},Cv.Rc=function(){if(this.R)return this.R;var t=this.pa;if("top-left"!=this.c){var e=this.ic(),n=this.b.a;if(!e||!n)return null;t=t.slice(),"top-right"!=this.c&&"bottom-right"!=this.c||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.c&&"bottom-right"!=this.c||(t[1]=n[1]-e[1]-t[1])}return this.R=t},Cv.Zo=function(){return this.b.l},Cv.ic=function(){return this.D?this.D:this.b.a},Cv.Wh=function(t,e){return oe(this.b,"change",t,e)},Cv.load=function(){this.b.load()},Cv.Lj=function(t,e){re(this.b,"change",t,e)},Cv=vp.prototype,Cv.clone=function(){return new vp({font:this.a,rotation:this.i,rotateWithView:this.l,scale:this.b,text:this.Ja(),textAlign:this.g,textBaseline:this.j,fill:this.Da()?this.Da().clone():void 0,stroke:this.Ea()?this.Ea().clone():void 0,offsetX:this.f,offsetY:this.c})},Cv.Zk=function(){return this.a},Cv.ol=function(){return this.f},Cv.pl=function(){return this.c},Cv.Da=function(){return this.Wa},Cv.ep=function(){return this.l},Cv.fp=function(){return this.i},Cv.gp=function(){return this.b},Cv.Ea=function(){return this.Ua},Cv.Ja=function(){return this.ua},Cv.zl=function(){return this.g},Cv.Al=function(){return this.j},Cv.xj=function(t){this.a=t},Cv.Cj=function(t){this.f=t},Cv.Dj=function(t){this.c=t},Cv.zf=function(t){this.Wa=t},Cv.hp=function(t){this.i=t},Cv.bj=function(t){this.b=t},Cv.Af=function(t){this.Ua=t},Cv.Cd=function(t){this.ua=t},Cv.Fj=function(t){this.g=t},Cv.vq=function(t){this.j=t};var db,yb,vb,gb,mb,bb,_b,xb,wb,Pb,Sb,Cb,Mb,Tb,Ab;p(gp,Ih);var Eb=["http://www.google.com/kml/ext/2.2"],Ib=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Lb={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},Nb=wu(Ib,{displayName:gu(Xh),value:gu(Xh)}),Ob=wu(Ib,{Data:function(t,e){var n=t.getAttribute("name");Pu(Nb,t,e),t=e[e.length-1],null!==n?t[n]=t.value:null!==t.displayName&&(t[t.displayName]=t.value),delete t.value},SchemaData:function(t,e){Pu(e_,t,e)}}),kb=wu(Ib,{LatLonAltBox:function(t,e){(t=Su({},Rb,t,e))&&(e=e[e.length-1],e.extent=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)],e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude))},Lod:function(t,e){(t=Su({},Db,t,e))&&(e=e[e.length-1],e.minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent))}}),Rb=wu(Ib,{altitudeMode:gu(Xh),minAltitude:gu(Fh),maxAltitude:gu(Fh),north:gu(Fh),south:gu(Fh),east:gu(Fh),west:gu(Fh)}),Db=wu(Ib,{minLodPixels:gu(Fh),maxLodPixels:gu(Fh),minFadeExtent:gu(Fh),maxFadeExtent:gu(Fh)}),Fb=wu(Ib,{extrude:gu(kh),tessellate:gu(kh),altitudeMode:gu(Xh)}),jb=wu(Ib,{coordinates:yu(wp)}),Kb=wu(Ib,{innerBoundaryIs:function(t,e){(t=Su(void 0,Gb,t,e))&&e[e.length-1].push(t)},outerBoundaryIs:function(t,e){(t=Su(void 0,Zb,t,e))&&(e[e.length-1][0]=t)}}),Bb=wu(Ib,{when:function(t,e){e=e[e.length-1].Oj,t=uu(t,!1),t=Date.parse(t),e.push(isNaN(t)?0:t)}},wu(Eb,{coord:function(t,e){e=e[e.length-1].A,t=uu(t,!1),(t=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(t))?e.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),0):e.push(0,0,0,0)}})),Xb=wu(Ib,{coordinates:yu(wp)}),Ub=wu(Ib,{href:gu(Pp)},wu(Eb,{x:gu(Fh),y:gu(Fh),w:gu(Fh),h:gu(Fh)})),Yb=wu(Ib,{Icon:gu(function(t,e){return(t=Su({},Ub,t,e))?t:null}),heading:gu(Fh),hotSpot:gu(function(t){var e=t.getAttribute("xunits"),n=t.getAttribute("yunits"),o="insetPixels"!==e?"insetPixels"!==n?"bottom-left":"top-left":"insetPixels"!==n?"bottom-right":"top-right";return{x:parseFloat(t.getAttribute("x")),bh:Lb[e],y:parseFloat(t.getAttribute("y")),dh:Lb[n],origin:o}}),scale:gu(Sp)}),Gb=wu(Ib,{LinearRing:yu(Cp)}),Wb=wu(Ib,{color:gu(xp),scale:gu(Sp)}),zb=wu(Ib,{color:gu(xp),width:gu(Fh)}),qb=wu(Ib,{LineString:du(Tp),LinearRing:du(Ap),MultiGeometry:du(Ep),Point:du(Ip),Polygon:du(Lp)}),Hb=wu(Eb,{Track:du(Mp)}),Vb=wu(Ib,{ExtendedData:kp,Region:Rp,Link:function(t,e){Pu($b,t,e)},address:gu(Xh),description:gu(Xh),name:gu(Xh),open:gu(kh),phoneNumber:gu(Xh),visibility:gu(kh)}),$b=wu(Ib,{href:gu(Pp)}),Zb=wu(Ib,{LinearRing:yu(Cp)}),Jb=wu(Ib,{Style:gu(Np),key:gu(Xh),styleUrl:gu(Pp)}),Qb=wu(Ib,{ExtendedData:kp,Region:Rp,MultiGeometry:gu(Ep,"geometry"),LineString:gu(Tp,"geometry"),LinearRing:gu(Ap,"geometry"),Point:gu(Ip,"geometry"),Polygon:gu(Lp,"geometry"),Style:gu(Np),StyleMap:function(t,e){(t=Su(void 0,o_,t,e))&&(e=e[e.length-1],Array.isArray(t)?e.Style=t:"string"==typeof t?e.styleUrl=t:d(!1,38))},address:gu(Xh),description:gu(Xh),name:gu(Xh),open:gu(kh),phoneNumber:gu(Xh),styleUrl:gu(Pp),visibility:gu(kh)},wu(Eb,{MultiTrack:gu(function(t,e){if(t=Su([],Hb,t,e))return e=new Bu(null),Uu(e,t),e},"geometry"),Track:gu(Mp,"geometry")})),t_=wu(Ib,{color:gu(xp),fill:gu(kh),outline:gu(kh)}),e_=wu(Ib,{SimpleData:function(t,e){var n=t.getAttribute("name");null!==n&&(t=Xh(t),e[e.length-1][n]=t)}}),n_=wu(Ib,{IconStyle:function(t,e){if(t=Su({},Yb,t,e)){e=e[e.length-1];var n,o="Icon"in t?t.Icon:{},i=!("Icon"in t)||0<Object.keys(o).length,r=o.href;r?n=r:i&&(n=xb),r="bottom-left";var a=t.hotSpot;if(a){var s=[a.x,a.y],u=a.bh,h=a.dh;r=a.origin}else n===xb?(s=gb,u=mb,h=bb):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(s=[.5,0],h=u="fraction");var p;a=o.x;var l=o.y;void 0!==a&&void 0!==l&&(p=[a,l]);var c;a=o.w,o=o.h,void 0!==a&&void 0!==o&&(c=[a,o]);var f;o=t.heading,void 0!==o&&(f=P(o)),t=t.scale,i?(n==xb&&(c=_b,void 0===t&&(t=wb)),n=new yp({anchor:s,anchorOrigin:r,anchorXUnits:u,anchorYUnits:h,crossOrigin:"anonymous",offset:p,offsetOrigin:"bottom-left",rotation:f,scale:t,size:c,src:n}),e.imageStyle=n):e.imageStyle=Sb}},LabelStyle:function(t,e){(t=Su({},Wb,t,e))&&(e[e.length-1].textStyle=new vp({fill:new Qs({color:"color"in t?t.color:yb}),scale:t.scale}))},LineStyle:function(t,e){(t=Su({},zb,t,e))&&(e[e.length-1].strokeStyle=new Ia({color:"color"in t?t.color:yb,width:"width"in t?t.width:1}))},PolyStyle:function(t,e){if(t=Su({},t_,t,e)){e=e[e.length-1],e.fillStyle=new Qs({color:"color"in t?t.color:yb});var n=t.fill;void 0!==n&&(e.fill=n),t=t.outline,void 0!==t&&(e.outline=t)}}}),o_=wu(Ib,{Pair:function(t,e){if(t=Su({},Jb,t,e)){var n=t.key;n&&"normal"==n&&((n=t.styleUrl)&&(e[e.length-1]=n),(t=t.Style)&&(e[e.length-1]=t))}}});Cv=gp.prototype,Cv.Dg=function(t,e){var n=wu(Ib,{Document:fu(this.Dg,this),Folder:fu(this.Dg,this),Placemark:du(this.Lg,this),Style:this.Wp.bind(this),StyleMap:this.Vp.bind(this)});if(t=Su([],n,t,e,this))return t},Cv.Lg=function(t,e){var n=Su({geometry:null},Qb,t,e);if(n){var o=new ru;return t=t.getAttribute("id"),null!==t&&o.kc(t),e=e[0],(t=n.geometry)&&Nu(t,!1,e),o.Ra(t),delete n.geometry,this.c&&o.pg(bp(n.Style,n.styleUrl,this.a,this.b,this.g)),delete n.Style,o.H(n),o}},Cv.Wp=function(t,e){var n=t.getAttribute("id");null!==n&&(e=Np(t,e))&&(t=t.baseURI&&"about:blank"!==t.baseURI?new URL("#"+n,t.baseURI).href:"#"+n,this.b[t]=e)},Cv.Vp=function(t,e){var n=t.getAttribute("id");null!==n&&(e=Su(void 0,o_,t,e))&&(t=t.baseURI&&"about:blank"!==t.baseURI?new URL("#"+n,t.baseURI).href:"#"+n,this.b[t]=e)},Cv.Fg=function(t,e){return n(Ib,t.namespaceURI)&&(t=this.Lg(t,[Iu(this,t,e)]))?t:null},Cv.Ac=function(t,e){if(!n(Ib,t.namespaceURI))return[];var o=t.localName;if("Document"==o||"Folder"==o)return(o=this.Dg(t,[Iu(this,t,e)]))?o:[];if("Placemark"==o)return(e=this.Lg(t,[Iu(this,t,e)]))?[e]:[];if("kml"==o){for(o=[],t=t.firstElementChild;t;t=t.nextElementSibling){var r=this.Ac(t,e);r&&i(o,r)}return o}return[]},Cv.Pp=function(t){return pu(t)?Dp(this,t):lu(t)?Fp(this,t):"string"==typeof t?(t=cu(t),Dp(this,t)):void 0},Cv.Qp=function(t){var e=[];return pu(t)?i(e,jp(this,t)):lu(t)?i(e,Kp(this,t)):"string"==typeof t&&(t=cu(t),i(e,jp(this,t))),e},Cv.Tp=function(t){var e=[];return pu(t)?i(e,Bp(this,t)):lu(t)?i(e,this.wf(t)):"string"==typeof t&&(t=cu(t),i(e,Bp(this,t))),e},Cv.wf=function(t){var e,o=[];for(e=t.firstElementChild;e;e=e.nextElementSibling)if(n(Ib,e.namespaceURI)&&"Region"==e.localName){var r=Su({},kb,e,[]);o.push(r)}for(e=t.firstElementChild;e;e=e.nextElementSibling)t=e.localName,!n(Ib,e.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||i(o,this.wf(e));return o};var i_=wu(Ib,["Document","Placemark"]),r_=wu(Ib,{Document:mu(function(t,e,n){Mu({node:t},a_,Vp,e,n,void 0,this)}),Placemark:mu(Gp)}),a_=wu(Ib,{Placemark:mu(Gp)}),s_=wu(Ib,{Data:mu(function(t,e,n){t.setAttribute("name",e.name),t={node:t},e=e.value,"object"==typeof e?(null!==e&&e.displayName&&Mu(t,s_,xm,[e.displayName],n,["displayName"]),null!==e&&e.value&&Mu(t,s_,xm,[e.value],n,["value"])):Mu(t,s_,xm,[e],n,["value"])}),value:mu(function(t,e){Wh(t,e)}),displayName:mu(function(t,e){t.appendChild(_m.createCDATASection(e))})}),u_={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},h_=wu(Ib,["href"],wu(Eb,["x","y","w","h"])),p_=wu(Ib,{href:mu(Wh)},wu(Eb,{x:mu(Yh),y:mu(Yh),w:mu(Yh),h:mu(Yh)})),l_=wu(Ib,["scale","heading","Icon","hotSpot"]),c_=wu(Ib,{Icon:mu(function(t,e,n){t={node:t};var o=h_[n[n.length-1].node.namespaceURI],i=xu(e,o);Mu(t,p_,xm,i,n,o),o=h_[Eb[0]],i=xu(e,o),Mu(t,p_,Hp,i,n,o)}),heading:mu(Yh),hotSpot:mu(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.bh),t.setAttribute("yunits",e.dh)}),scale:mu(qp)}),f_=wu(Ib,["color","scale"]),d_=wu(Ib,{color:mu(Xp),scale:mu(qp)}),y_=wu(Ib,["color","width"]),v_=wu(Ib,{color:mu(Xp),width:mu(Yh)}),g_=wu(Ib,{LinearRing:mu(Wp)}),m_=wu(Ib,{LineString:mu(Wp),Point:mu(Wp),Polygon:mu(zp),GeometryCollection:mu(Up)}),b_=wu(Ib,"name open visibility address phoneNumber description styleUrl Style".split(" ")),__=wu(Ib,{ExtendedData:mu(function(t,e,n){t={node:t};var o=e.names;e=e.values;for(var i=o.length,r=0;r<i;r++)Mu(t,s_,A_,[{name:o[r],value:e[r]}],n)}),MultiGeometry:mu(Up),LineString:mu(Wp),LinearRing:mu(Wp),Point:mu(Wp),Polygon:mu(zp),Style:mu(function(t,e,n){t={node:t};var o={},i=e.Da(),r=e.Ea(),a=e.Y();e=e.Ja(),a instanceof yp&&(o.IconStyle=a),e&&(o.LabelStyle=e),r&&(o.LineStyle=r),i&&(o.PolyStyle=i),e=C_[n[n.length-1].node.namespaceURI],o=xu(o,e),Mu(t,M_,xm,o,n,e)}),address:mu(Wh),description:mu(Wh),name:mu(Wh),open:mu(Uh),phoneNumber:mu(Wh),styleUrl:mu(Wh),visibility:mu(Uh)}),x_=wu(Ib,["extrude","tessellate","altitudeMode","coordinates"]),w_=wu(Ib,{extrude:mu(Uh),tessellate:mu(Uh),altitudeMode:mu(Wh),coordinates:mu(function(t,e,n){n=n[n.length-1];var o=n.layout;n=n.stride;var i;"XY"==o||"XYM"==o?i=2:"XYZ"==o||"XYZM"==o?i=3:d(!1,34);var r,a=e.length,s="";if(0<a){for(s+=e[0],o=1;o<i;++o)s+=","+e[o];for(r=n;r<a;r+=n)for(s+=" "+e[r],o=1;o<i;++o)s+=","+e[r+o]}Wh(t,s)})}),P_=wu(Ib,{outerBoundaryIs:mu(Yp),innerBoundaryIs:mu(Yp)}),S_=wu(Ib,{color:mu(Xp)}),C_=wu(Ib,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),M_=wu(Ib,{IconStyle:mu(function(t,e,n){t={node:t};var o={},i=e.ic(),r=e.Ie(),a={href:e.b.l};if(i){a.w=i[0],a.h=i[1];var s=e.Jc(),u=e.Rc();u&&r&&u[0]&&u[1]!==i[1]&&(a.x=u[0],a.y=r[1]-(u[1]+i[1])),!s||s[0]===i[0]/2&&s[1]===i[1]/2||(o.hotSpot={x:s[0],bh:"pixels",y:i[1]-s[1],dh:"pixels"})}o.Icon=a,i=e.a,1!==i&&(o.scale=i),(e=e.g)&&(o.heading=e),e=l_[n[n.length-1].node.namespaceURI],o=xu(o,e),Mu(t,c_,xm,o,n,e)}),LabelStyle:mu(function(t,e,n){t={node:t};var o={},i=e.Da();i&&(o.color=i.b),(e=e.b)&&1!==e&&(o.scale=e),e=f_[n[n.length-1].node.namespaceURI],o=xu(o,e),Mu(t,d_,xm,o,n,e)}),LineStyle:mu(function(t,e,n){t={node:t};var o=y_[n[n.length-1].node.namespaceURI];e=xu({color:e.b,width:e.c},o),Mu(t,v_,xm,e,n,o)}),PolyStyle:mu(function(t,e,n){Mu({node:t},S_,T_,[e.b],n)})}),T_=_u("color"),A_=_u("Data"),E_=_u("ExtendedData"),I_=_u("innerBoundaryIs"),L_=_u("Point"),N_=_u("LineString"),O_=_u("LinearRing"),k_=_u("Polygon"),R_=_u("outerBoundaryIs");gp.prototype.Yb=function(t,e){e=Lu(this,e);var n=su(Ib[4],"kml");n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",Eb[0]),n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var o={node:n},i={};return 1<t.length?i.Document=t:1==t.length&&(i.Placemark=t[0]),t=i_[n.namespaceURI],i=xu(i,t),Mu(o,r_,xm,i,[e],t,this),n},em.Hd=function(){},function(t){function e(t){this.nc=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.fa=0,this.length=this.nc.length}function n(t,e,n){var i=n.nc,r=i[n.fa++],a=(112&r)>>4;if(128>r)return o(t,a,e);if(r=i[n.fa++],a|=(127&r)<<3,128>r)return o(t,a,e);if(r=i[n.fa++],a|=(127&r)<<10,128>r)return o(t,a,e);if(r=i[n.fa++],a|=(127&r)<<17,128>r)return o(t,a,e);if(r=i[n.fa++],a|=(127&r)<<24,128>r)return o(t,a,e);if(r=i[n.fa++],128>r)return o(t,a|(1&r)<<31,e);throw Error("Expected varint not more than 10 bytes")}function o(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}var i={read:function(t,e,n,o,i){var r=8*i-o-1,a=(1<<r)-1,s=a>>1,u=-7;i=n?i-1:0;var h=n?-1:1,p=t[e+i];for(i+=h,n=p&(1<<-u)-1,p>>=-u,u+=r;0<u;n=256*n+t[e+i],i+=h,u-=8);for(r=n&(1<<-u)-1,n>>=-u,u+=o;0<u;r=256*r+t[e+i],i+=h,u-=8);if(0===n)n=1-s;else{if(n===a)return r?NaN:1/0*(p?-1:1);r+=Math.pow(2,o),n-=s}return(p?-1:1)*r*Math.pow(2,n-o)},write:function(t,e,n,o,i,r){var a,s=8*r-i-1,u=(1<<s)-1,h=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;r=o?0:r-1;var l=o?1:-1,c=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),1>e*(a=Math.pow(2,-o))&&(o--,a*=2),e=1<=o+h?e+p/a:e+p*Math.pow(2,1-h),2<=e*a&&(o++,a/=2),o+h>=u?(e=0,o=u):1<=o+h?(e=(e*a-1)*Math.pow(2,i),o+=h):(e=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));8<=i;t[n+r]=255&e,r+=l,e/=256,i-=8);for(o=o<<i|e,s+=i;0<s;t[n+r]=255&o,r+=l,o/=256,s-=8);t[n+r-l]|=128*c}};e.c=0,e.f=1,e.b=2,e.a=5,e.prototype={Ig:function(t,e,n){for(n=n||this.length;this.fa<n;){var o=this.La(),i=o>>3,r=this.fa;this.type=7&o,t(i,e,this),this.fa===r&&this.Aq(o)}return e},Lp:function(){var t=i.read(this.nc,this.fa,!0,23,4);return this.fa+=4,t},Hp:function(){var t=i.read(this.nc,this.fa,!0,52,8);return this.fa+=8,t},La:function(t){var e=this.nc,o=e[this.fa++],i=127&o;return 128>o?i:(o=e[this.fa++],i|=(127&o)<<7,128>o?i:(o=e[this.fa++],i|=(127&o)<<14,128>o?i:(o=e[this.fa++],i|=(127&o)<<21,128>o?i:(o=e[this.fa],n(i|(15&o)<<28,t,this)))))},Xp:function(){return this.La(!0)},ie:function(){var t=this.La();return 1===t%2?(t+1)/-2:t/2},Fp:function(){return!!this.La()},Og:function(){for(var t=this.La()+this.fa,e=this.nc,n="",o=this.fa;o<t;){var i=e[o],r=null,a=239<i?4:223<i?3:191<i?2:1;if(o+a>t)break;if(1===a)128>i&&(r=i);else if(2===a){var s=e[o+1];128===(192&s)&&(r=(31&i)<<6|63&s,127>=r&&(r=null))}else if(3===a){s=e[o+1];var u=e[o+2];128===(192&s)&&128===(192&u)&&(r=(15&i)<<12|(63&s)<<6|63&u,2047>=r||55296<=r&&57343>=r)&&(r=null)}else if(4===a){s=e[o+1],u=e[o+2];var h=e[o+3];128===(192&s)&&128===(192&u)&&128===(192&h)&&(r=(15&i)<<18|(63&s)<<12|(63&u)<<6|63&h,65535>=r||1114112<=r)&&(r=null)}null===r?(r=65533,a=1):65535<r&&(r-=65536,n+=String.fromCharCode(r>>>10&1023|55296),r=56320|1023&r),n+=String.fromCharCode(r),o+=a}return this.fa=t,n},Aq:function(t){if(t&=7,t===e.c)for(;127<this.nc[this.fa++];);else if(t===e.b)this.fa=this.La()+this.fa;else if(t===e.a)this.fa+=4;else{if(t!==e.f)throw Error("Unimplemented type: "+t);this.fa+=8}}},t.default=e}(em.Hd=em.Hd||{}),em.Hd=em.Hd.default,em.Gf={},em.Gf.Kf=function(){},function(t){function e(t,e){this.layers=t.Ig(u,{},e)}function n(t,e){this.x=t,this.y=e}function o(t,e,n,o,r){this.properties={},this.extent=n,this.type=0,this.Dc=t,this.Mf=-1,this.xe=o,this.ze=r,t.Ig(i,this,e)}function i(t,e,n){if(1==t)e.id=n.La();else if(2==t)for(t=n.La()+n.fa;n.fa<t;){var o=e.xe[n.La()],i=e.ze[n.La()];e.properties[o]=i}else 3==t?e.type=n.La():4==t&&(e.Mf=n.fa)}function r(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this.Dc=t,this.xe=[],this.ze=[],this.we=[],t.Ig(a,this,e),this.length=this.we.length}function a(t,e,n){15===t?e.version=n.La():1===t?e.name=n.Og():5===t?e.extent=n.La():2===t?e.we.push(n.fa):3===t?e.xe.push(n.Og()):4===t&&e.ze.push(s(n))}function s(t){for(var e=null,n=t.La()+t.fa;t.fa<n;)e=t.La()>>3,e=1===e?t.Og():2===e?t.Lp():3===e?t.Hp():4===e?t.Xp():5===e?t.La():6===e?t.ie():7===e?t.Fp():null;return e}function u(t,e,n){3===t&&(t=new h(n,n.La()+n.fa),t.length&&(e[t.name]=t))}n.prototype={clone:function(){return new n(this.x,this.y)},add:function(t){return this.clone().hk(t)},rotate:function(t){return this.clone().sk(t)},round:function(){return this.clone().tk()},angle:function(){return Math.atan2(this.y,this.x)},hk:function(t){return this.x+=t.x,this.y+=t.y,this},sk:function(t){var e=Math.cos(t);t=Math.sin(t);var n=t*this.x+e*this.y;return this.x=e*this.x-t*this.y,this.y=n,this},tk:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.Zq=function(t){return t instanceof n?t:Array.isArray(t)?new n(t[0],t[1]):t},o.b=["Unknown","Point","LineString","Polygon"],o.prototype.Xh=function(){var t=this.Dc;t.fa=this.Mf;for(var e,o=t.La()+t.fa,i=1,r=0,a=0,s=0,u=[];t.fa<o;)if(r||(r=t.La(),i=7&r,r>>=3),r--,1===i||2===i)a+=t.ie(),s+=t.ie(),1===i&&(e&&u.push(e),e=[]),e.push(new n(a,s));else{if(7!==i)throw Error("unknown command "+i);e&&e.push(e[0].clone())}return e&&u.push(e),u},o.prototype.bbox=function(){var t=this.Dc;t.fa=this.Mf;for(var e=t.La()+t.fa,n=1,o=0,i=0,r=0,a=1/0,s=-(1/0),u=1/0,h=-(1/0);t.fa<e;)if(o||(o=t.La(),n=7&o,o>>=3),o--,1===n||2===n)i+=t.ie(),r+=t.ie(),i<a&&(a=i),i>s&&(s=i),r<u&&(u=r),r>h&&(h=r);else if(7!==n)throw Error("unknown command "+n);return[a,u,s,h]};var h=r;r.prototype.feature=function(t){if(0>t||t>=this.we.length)throw Error("feature index out of bounds");return this.Dc.fa=this.we[t],t=this.Dc.La()+this.Dc.fa,new o(this.Dc,t,this.extent,this.xe,this.ze)};var p=h;t.default={Kf:e,fk:o,gk:p},t.Kf=e,t.fk=o,t.gk=p}(em.Gf=em.Gf||{}),Cv=Zp.prototype,Cv.get=function(t){return this.c[t]},Cv.rb=function(){return this.i},Cv.G=function(){return this.a||(this.a="Point"===this.f?B(this.b):X(this.b,0,this.b.length,2)),this.a},Cv.lo=function(){return this.g},Cv.Tb=function(){return this.b},Cv.ba=Zp.prototype.Tb,Cv.V=function(){return this},Cv.mo=function(){return this.c},Cv.$d=Zp.prototype.V,Cv.ma=function(){return 2},Cv.bb=l,Cv.T=function(){return this.f},p(Jp,Eu),Cv=Jp.prototype,Cv.eg=function(){return this.a},Cv.T=function(){return"arraybuffer"},Cv.Oa=function(t,e){var n=this.g;t=new em.Hd(t),t=new em.Gf.Kf(t);var o,i=[],r=this.b;for(o in t.layers)if(!n||-1!=n.indexOf(o)){for(var a,s=t.layers[o],u=0,h=s.length;u<h;++u){if(a=s.feature(u),r===Zp){var p=void 0,l=o,c=a.Xh(),f=[],d=[];Qp(c,d,f);var y=a.type;1===y?p=1===c.length?"Point":"MultiPoint":2===y?p=1===c.length?"LineString":"MultiLineString":3===y&&(p="Polygon"),c=a.properties,c[this.c]=l,p=new this.b(p,d,f,c,a.id)}else{if(y=a,d=o,f=e,p=new this.b,a=y.id,l=y.properties,l[this.c]=d,this.f&&p.Wc(this.f),d=void 0,c=y.type,0===c)d=null;else{y=y.Xh();var v=[],g=[];Qp(y,g,v),1===c?d=1===y.length?new Ao(null):new Yu(null):2===c?d=1===y.length?new ju(null):new Bu(null):3===c&&(d=new Bo(null)),d.aa("XY",g,v)}f=Nu(d,!1,Lu(this,f)),p.Ra(f),p.kc(a),p.H(l)}i.push(p)}this.a=s?[0,0,s.extent,s.extent]:null}return i},Cv.nb=function(){return this.defaultDataProjection},Cv.Cn=function(t){this.g=t},Cv.Ub=function(){},Cv.Vc=function(){},Cv.Fd=function(){},Cv.dd=function(){},Cv.Xb=function(){},p(tl,Ih);var D_=[null],F_=wu(D_,{nd:function(t,e){e[e.length-1].sd.push(t.getAttribute("ref"))},tag:el}),j_=wu(D_,{node:function(t,e){var n=e[0],o=e[e.length-1],i=t.getAttribute("id"),r=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];o.ai[i]=r,t=Su({ne:{}},K_,t,e),ht(t.ne)||(r=new Ao(r),Nu(r,!1,n),n=new ru(r),n.kc(i),n.H(t.ne),o.features.push(n))},way:function(t,e){var n=e[0],o=t.getAttribute("id");t=Su({sd:[],ne:{}},F_,t,e),e=e[e.length-1];for(var r=[],a=0,s=t.sd.length;a<s;a++)i(r,e.ai[t.sd[a]]);t.sd[0]==t.sd[t.sd.length-1]?(a=new Bo(null),a.aa("XY",r,[r.length])):(a=new ju(null),a.aa("XY",r)),Nu(a,!1,n),n=new ru(a),n.kc(o),n.H(t.ne),e.features.push(n)}}),K_=wu(D_,{tag:el});tl.prototype.Ac=function(t,e){return e=Iu(this,t,e),"osm"==t.localName&&(t=Su({ai:{},features:[]},j_,t,[e]),t.features)?t.features:[]},tl.prototype.$g=function(){},tl.prototype.Yb=function(){},tl.prototype.se=function(){},ol.prototype.read=function(t){return pu(t)?this.a(t):lu(t)?this.b(t):"string"==typeof t?(t=cu(t),this.a(t)):null},p(il,ol),il.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},il.prototype.b=function(t){return(t=Su({},X_,t,[]))?t:null};var B_=[null,"http://www.opengis.net/ows/1.1"],X_=wu(B_,{ServiceIdentification:gu(function(t,e){return Su({},Q_,t,e)}),ServiceProvider:gu(function(t,e){return Su({},tx,t,e)}),OperationsMetadata:gu(function(t,e){return Su({},V_,t,e)})}),U_=wu(B_,{DeliveryPoint:gu(Xh),City:gu(Xh),AdministrativeArea:gu(Xh),PostalCode:gu(Xh),Country:gu(Xh),ElectronicMailAddress:gu(Xh)}),Y_=wu(B_,{Value:vu(function(t){return Xh(t)})}),G_=wu(B_,{AllowedValues:gu(function(t,e){return Su({},Y_,t,e)})}),W_=wu(B_,{Phone:gu(function(t,e){return Su({},$_,t,e)}),Address:gu(function(t,e){return Su({},U_,t,e)})}),z_=wu(B_,{HTTP:gu(function(t,e){return Su({},q_,t,e)})}),q_=wu(B_,{Get:vu(function(t,e){var n=nl(t);if(n)return Su({href:n},Z_,t,e)}),Post:void 0}),H_=wu(B_,{DCP:gu(function(t,e){return Su({},z_,t,e)})}),V_=wu(B_,{Operation:function(t,e){var n=t.getAttribute("name");(t=Su({},H_,t,e))&&(e[e.length-1][n]=t)}}),$_=wu(B_,{Voice:gu(Xh),Facsimile:gu(Xh)}),Z_=wu(B_,{Constraint:vu(function(t,e){var n=t.getAttribute("name");if(n)return Su({name:n},G_,t,e)})}),J_=wu(B_,{IndividualName:gu(Xh),PositionName:gu(Xh),ContactInfo:gu(function(t,e){return Su({},W_,t,e)})}),Q_=wu(B_,{Title:gu(Xh),ServiceTypeVersion:gu(Xh),ServiceType:gu(Xh)}),tx=wu(B_,{ProviderName:gu(Xh),ProviderSite:gu(nl),ServiceContact:gu(function(t,e){return Su({},J_,t,e)})});p(al,pp),Cv=al.prototype,Cv.ge=function(t,e){return t=this.Bd(t,e),new ru(t)},Cv.Hg=function(t,e){return[this.ge(t,e)]},Cv.Bd=function(t,e){var n=so(this.a);return t=ul(t,n,this.b),rl(t,t.length,n,t),n=xo(t,0,t.length,n),Nu(new ju(n,this.a),!1,Lu(this,e))},Cv.qe=function(t,e){return(t=t.V())?this.Gd(t,e):(d(!1,40),"")},Cv.ah=function(t,e){return this.qe(t[0],e)},Cv.Gd=function(t,e){return t=Nu(t,!0,Lu(this,e)),e=t.ba(),t=t.ma(),rl(e,e.length,t,e),sl(e,t,this.b)},p(ll,Ou),ll.prototype.Gg=function(t,e){if("Topology"==t.type){var n=null,o=null;if(t.transform){var i=t.transform;n=i.scale,o=i.translate}var r=t.arcs;if(i){i=n;var a,s=o,u=0;for(a=r.length;u<a;++u){var h,p=r[u],l=i,c=s,f=0,d=0,y=0;for(h=p.length;y<h;++y){var v=p[y];f+=v[0],d+=v[1],v[0]=f,v[1]=d,yl(v,l,c)}}}i=[],t=t.objects,s=this.a;for(var g in t)this.b&&-1==this.b.indexOf(g)||("GeometryCollection"===t[g].type?(u=t[g],i.push.apply(i,fl(u,r,n,o,s,g,e))):(u=t[g],i.push(dl(u,r,n,o,s,g,e))));return i}return[]},ll.prototype.Ng=function(){return this.defaultDataProjection};var ex={Point:function(t,e,n){return t=t.coordinates,e&&n&&yl(t,e,n),new Ao(t)},LineString:function(t,e){return t=cl(t.arcs,e),new ju(t)},Polygon:function(t,e){var n,o=[],i=0;for(n=t.arcs.length;i<n;++i)o[i]=cl(t.arcs[i],e);return new Bo(o)},MultiPoint:function(t,e,n){t=t.coordinates;var o;if(e&&n){var i=0;for(o=t.length;i<o;++i)yl(t[i],e,n)}return new Yu(t)},MultiLineString:function(t,e){var n,o=[],i=0;for(n=t.arcs.length;i<n;++i)o[i]=cl(t.arcs[i],e);return new Bu(o)},MultiPolygon:function(t,e){var n,o,i=[],r=0;for(o=t.arcs.length;r<o;++r){var a=t.arcs[r],s=[],u=0;for(n=a.length;u<n;++u)s[u]=cl(a[u],e);i[r]=s}return new Gu(i)}};Cv=ll.prototype,Cv.cd=function(){},Cv.re=function(){},Cv.te=function(){},Cv.Kg=function(){},Cv.Uc=function(){},p(vl,Ih);var nx={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};vl.prototype.Ac=function(t,e){var n={featureType:this.c,featureNS:this.a};return Nv(n,Iu(this,t,e?e:{})),e=[n],this.b.b["http://www.opengis.net/gml"].featureMember=du(Oh.prototype.he),(t=Su([],this.b.b,t,e,this.b))||(t=[]),t},vl.prototype.j=function(t){return pu(t)?bl(t):lu(t)?Su({},sx,t,[]):"string"==typeof t?(t=cu(t),bl(t)):void 0},vl.prototype.g=function(t){return pu(t)?gl(this,t):lu(t)?ml(this,t):"string"==typeof t?(t=cu(t),gl(this,t)):void 0};var ox={"http://www.opengis.net/gml":{boundedBy:gu(Oh.prototype.sf,"bounds")}},ix={"http://www.opengis.net/wfs":{totalInserted:gu(Kh),totalUpdated:gu(Kh),totalDeleted:gu(Kh)}},rx={"http://www.opengis.net/ogc":{FeatureId:du(function(t){return t.getAttribute("fid")})}},ax={"http://www.opengis.net/wfs":{Feature:function(t,e){Pu(rx,t,e)}}},sx={"http://www.opengis.net/wfs":{TransactionSummary:gu(function(t,e){return Su({},ix,t,e)},"transactionSummary"),InsertResults:gu(function(t,e){return Su([],ax,t,e)},"insertIds")}},ux={"http://www.opengis.net/wfs":{PropertyName:mu(Wh)}},hx={"http://www.opengis.net/wfs":{Insert:mu(function(t,e,n){var o=n[n.length-1],i=o.gmlVersion;if(o=su(o.featureNS,o.featureType),t.appendChild(o),2===i){t=Hh.prototype,(i=e.a)&&o.setAttribute("fid",i),i=n[n.length-1];var r=i.featureNS,a=e.c;i.ob||(i.ob={},i.ob[r]={});var s=e.N();e=[];var u=[];for(p in s){var h=s[p];null!==h&&(e.push(p),u.push(h),p==a||h instanceof oo?p in i.ob[r]||(i.ob[r][p]=mu(t.ki,t)):p in i.ob[r]||(i.ob[r][p]=mu(Wh)))}var p=Nv({},i);p.node=o,Mu(p,i.ob,_u(void 0,r),u,n,e)}else zh.prototype.ti(o,e,n)}),Update:mu(function(t,e,n){var o=n[n.length-1];d(void 0!==e.a,27);var i=o.featurePrefix,r=o.featureNS;if(t.setAttribute("typeName",xl(i,o.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+i,r),i=e.a,void 0!==i){r=e.O();for(var a=[],s=0,u=r.length;s<u;s++){var h=e.get(r[s]);void 0!==h&&a.push({name:r[s],value:h})}Mu({gmlVersion:o.gmlVersion,node:t,hasZ:o.hasZ,srsName:o.srsName},hx,_u("Property"),a,n),_l(t,i)}}),Delete:mu(function(t,e,n){n=n[n.length-1],d(void 0!==e.a,26);var o=n.featurePrefix,i=n.featureNS;t.setAttribute("typeName",xl(o,n.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+o,i),e=e.a,void 0!==e&&_l(t,e)}),Property:mu(function(t,e,n){var o=su("http://www.opengis.net/wfs","Name"),i=n[n.length-1].gmlVersion;t.appendChild(o),Wh(o,e.name),void 0!==e.value&&null!==e.value&&(o=su("http://www.opengis.net/wfs","Value"),t.appendChild(o),e.value instanceof oo?2===i?Hh.prototype.ki(o,e.value,n):zh.prototype.td(o,e.value,n):Wh(o,e.value))}),Native:mu(function(t,e){e.Jq&&t.setAttribute("vendorId",e.Jq),void 0!==e.iq&&t.setAttribute("safeToIgnore",e.iq),void 0!==e.value&&Wh(t,e.value)})}},px={"http://www.opengis.net/wfs":{Query:mu(function(t,e,n){var o=n[n.length-1],i=o.featurePrefix,r=o.featureNS,a=o.propertyNames,s=o.srsName;t.setAttribute("typeName",i?xl(i,e):e),s&&t.setAttribute("srsName",s),r&&t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+i,r),e=Nv({},o),e.node=t,Mu(e,ux,_u("PropertyName"),a,n),(o=o.filter)&&(a=su("http://www.opengis.net/ogc","Filter"),t.appendChild(a),Mu({node:a},px,_u(o.lc),[o],n))})},"http://www.opengis.net/ogc":{During:mu(function(t,e){var n=su("http://www.opengis.net/fes","ValueReference");Wh(n,e.b),t.appendChild(n),n=su("http://www.opengis.net/gml","TimePeriod"),t.appendChild(n),t=su("http://www.opengis.net/gml","begin"),n.appendChild(t),Tl(t,e.a),t=su("http://www.opengis.net/gml","end"),n.appendChild(t),Tl(t,e.f)}),And:mu(wl),Or:mu(wl),Not:mu(function(t,e,n){e=e.condition,Mu({node:t},px,_u(e.lc),[e],n)}),BBOX:mu(function(t,e,n){n[n.length-1].srsName=e.srsName,Cl(t,e.geometryName),zh.prototype.td(t,e.extent,n)}),Intersects:mu(function(t,e,n){n[n.length-1].srsName=e.srsName,Cl(t,e.geometryName),zh.prototype.td(t,e.geometry,n)}),Within:mu(function(t,e,n){n[n.length-1].srsName=e.srsName,Cl(t,e.geometryName),zh.prototype.td(t,e.geometry,n)}),PropertyIsEqualTo:mu(Pl),PropertyIsNotEqualTo:mu(Pl),PropertyIsLessThan:mu(Pl),PropertyIsLessThanOrEqualTo:mu(Pl),PropertyIsGreaterThan:mu(Pl),PropertyIsGreaterThanOrEqualTo:mu(Pl),PropertyIsNull:mu(function(t,e){Cl(t,e.b)}),PropertyIsBetween:mu(function(t,e){Cl(t,e.b);var n=su("http://www.opengis.net/ogc","LowerBoundary");t.appendChild(n),Ml(n,""+e.a),n=su("http://www.opengis.net/ogc","UpperBoundary"),t.appendChild(n),Ml(n,""+e.f)}),PropertyIsLike:mu(function(t,e){t.setAttribute("wildCard",e.g),t.setAttribute("singleChar",e.i),t.setAttribute("escapeChar",e.f),void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),Cl(t,e.b),Ml(t,""+e.c)})}};vl.prototype.o=function(t){var e=su("http://www.opengis.net/wfs","GetFeature");if(e.setAttribute("service","WFS"),e.setAttribute("version","1.1.0"),t){t.handle&&e.setAttribute("handle",t.handle),t.outputFormat&&e.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&e.setAttribute("maxFeatures",t.maxFeatures),t.resultType&&e.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&e.setAttribute("startIndex",t.startIndex),void 0!==t.count&&e.setAttribute("count",t.count);var n=t.filter;if(t.bbox){d(t.geometryName,12);var o=wh(t.geometryName,t.bbox,t.srsName);n=n?xh(n,o):o}}return e.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.l),n={node:e,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.a,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:n,propertyNames:t.propertyNames?t.propertyNames:[]},d(Array.isArray(t.featureTypes),11),t=t.featureTypes,n=[n],o=Nv({},n[n.length-1]),o.node=e,Mu(o,px,_u("Query"),t,n),e},vl.prototype.v=function(t,e,n,o){var i=[],r=su("http://www.opengis.net/wfs","Transaction"),a=o.version?o.version:"1.1.0",s="1.0.0"===a?2:3;if(r.setAttribute("service","WFS"),r.setAttribute("version",a),o){var u=o.gmlOptions?o.gmlOptions:{};o.handle&&r.setAttribute("handle",o.handle)}r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",nx[a]);var h=o.featurePrefix?o.featurePrefix:"feature";return t&&(a={node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:h,gmlVersion:s,hasZ:o.hasZ,srsName:o.srsName},Nv(a,u),Mu(a,hx,_u("Insert"),t,i)),e&&(a={node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:h,gmlVersion:s,hasZ:o.hasZ,srsName:o.srsName
},Nv(a,u),Mu(a,hx,_u("Update"),e,i)),n&&Mu({node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:h,gmlVersion:s,srsName:o.srsName},hx,_u("Delete"),n,i),o.nativeElements&&Mu({node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:h,gmlVersion:s,srsName:o.srsName},hx,_u("Native"),o.nativeElements,i),r},vl.prototype.Mg=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.vf(t);return null},vl.prototype.vf=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=t.firstElementChild.firstElementChild,t=t.firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return this.b.sf(t,e),Ct(e.pop().srsName)}return null},p(Al,pp);var lx={Point:El,LineString:Il,Polygon:Ll,MultiPoint:function(t){var e=[];t=t.de();for(var n=0,o=t.length;n<o;++n)e.push("("+El(t[n])+")");return e.join(",")},MultiLineString:function(t){var e=[];t=t.kd();for(var n=0,o=t.length;n<o;++n)e.push("("+Il(t[n])+")");return e.join(",")},MultiPolygon:function(t){var e=[];t=t.Zd();for(var n=0,o=t.length;n<o;++n)e.push("("+Ll(t[n])+")");return e.join(",")},GeometryCollection:function(t){var e=[];t=t.He();for(var n=0,o=t.length;n<o;++n)e.push(Nl(t[n]));return e.join(",")}};Cv=Al.prototype,Cv.ge=function(t,e){return(t=this.Bd(t,e))?(e=new ru,e.Ra(t),e):null},Cv.Hg=function(t,e){var n=[];t=this.Bd(t,e),n=this.b&&"GeometryCollection"==t.T()?t.a:[t],e=[];for(var o=0,i=n.length;o<i;++o)t=new ru,t.Ra(n[o]),e.push(t);return e},Cv.Bd=function(t,e){return t=new Rl(new Ol(t)),Dl(t),(t=jl(t))?Nu(t,!1,e):null},Cv.qe=function(t,e){return(t=t.V())?this.Gd(t,e):""},Cv.ah=function(t,e){if(1==t.length)return this.qe(t[0],e);for(var n=[],o=0,i=t.length;o<i;++o)n.push(t[o].V());return t=new Ph(n),this.Gd(t,e)},Cv.Gd=function(t,e){return Nl(Nu(t,!0,e))},Cv=Rl.prototype,Cv.Bg=function(){if(Fl(this,2)){var t=Kl(this);if(Fl(this,3))return t}else if(Ul(this))return null;throw Error(Yl(this))},Cv.Ag=function(){if(Fl(this,2)){var t=Bl(this);if(Fl(this,3))return t}else if(Ul(this))return[];throw Error(Yl(this))},Cv.Cg=function(){if(Fl(this,2)){var t=Xl(this);if(Fl(this,3))return t}else if(Ul(this))return[];throw Error(Yl(this))},Cv.sp=function(){if(Fl(this,2)){var t;if(2==this.b.type)for(t=[this.Bg()];Fl(this,5);)t.push(this.Bg());else t=Bl(this);if(Fl(this,3))return t}else if(Ul(this))return[];throw Error(Yl(this))},Cv.rp=function(){if(Fl(this,2)){var t=Xl(this);if(Fl(this,3))return t}else if(Ul(this))return[];throw Error(Yl(this))},Cv.tp=function(){if(Fl(this,2)){for(var t=[this.Cg()];Fl(this,5);)t.push(this.Cg());if(Fl(this,3))return t}else if(Ul(this))return[];throw Error(Yl(this))};var cx={POINT:Ao,LINESTRING:ju,POLYGON:Bo,MULTIPOINT:Yu,MULTILINESTRING:Bu,MULTIPOLYGON:Gu},fx={POINT:Rl.prototype.Bg,LINESTRING:Rl.prototype.Ag,POLYGON:Rl.prototype.Cg,MULTIPOINT:Rl.prototype.sp,MULTILINESTRING:Rl.prototype.rp,MULTIPOLYGON:Rl.prototype.tp};p(Gl,ol),Gl.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Gl.prototype.b=function(t){return this.version=t.getAttribute("version").trim(),(t=Su({version:this.version},yx,t,[]))?t:null};var dx=[null,"http://www.opengis.net/wms"],yx=wu(dx,{Service:gu(function(t,e){return Su({},gx,t,e)}),Capability:gu(function(t,e){return Su({},vx,t,e)})}),vx=wu(dx,{Request:gu(function(t,e){return Su({},Cx,t,e)}),Exception:gu(function(t,e){return Su([],xx,t,e)}),Layer:gu(function(t,e){return Su({},wx,t,e)})}),gx=wu(dx,{Name:gu(Xh),Title:gu(Xh),Abstract:gu(Xh),KeywordList:gu(Hl),OnlineResource:gu(nl),ContactInformation:gu(function(t,e){return Su({},mx,t,e)}),Fees:gu(Xh),AccessConstraints:gu(Xh),LayerLimit:gu(Kh),MaxWidth:gu(Kh),MaxHeight:gu(Kh)}),mx=wu(dx,{ContactPersonPrimary:gu(function(t,e){return Su({},bx,t,e)}),ContactPosition:gu(Xh),ContactAddress:gu(function(t,e){return Su({},_x,t,e)}),ContactVoiceTelephone:gu(Xh),ContactFacsimileTelephone:gu(Xh),ContactElectronicMailAddress:gu(Xh)}),bx=wu(dx,{ContactPerson:gu(Xh),ContactOrganization:gu(Xh)}),_x=wu(dx,{AddressType:gu(Xh),Address:gu(Xh),City:gu(Xh),StateOrProvince:gu(Xh),PostCode:gu(Xh),Country:gu(Xh)}),xx=wu(dx,{Format:du(Xh)}),wx=wu(dx,{Name:gu(Xh),Title:gu(Xh),Abstract:gu(Xh),KeywordList:gu(Hl),CRS:vu(Xh),EX_GeographicBoundingBox:gu(function(t,e){var n=Su({},Sx,t,e);if(n){t=n.westBoundLongitude,e=n.southBoundLatitude;var o=n.eastBoundLongitude;if(n=n.northBoundLatitude,void 0!==t&&void 0!==e&&void 0!==o&&void 0!==n)return[t,e,o,n]}}),BoundingBox:vu(function(t){var e=[jh(t.getAttribute("minx")),jh(t.getAttribute("miny")),jh(t.getAttribute("maxx")),jh(t.getAttribute("maxy"))],n=[jh(t.getAttribute("resx")),jh(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:n}}),Dimension:vu(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Rh(t.getAttribute("multipleValues")),nearestValue:Rh(t.getAttribute("nearestValue")),current:Rh(t.getAttribute("current")),values:Xh(t)}}),Attribution:gu(function(t,e){return Su({},Px,t,e)}),AuthorityURL:vu(function(t,e){if(e=Wl(t,e))return e.name=t.getAttribute("name"),e}),Identifier:vu(Xh),MetadataURL:vu(function(t,e){if(e=Wl(t,e))return e.type=t.getAttribute("type"),e}),DataURL:vu(Wl),FeatureListURL:vu(Wl),Style:vu(function(t,e){return Su({},Ex,t,e)}),MinScaleDenominator:gu(Fh),MaxScaleDenominator:gu(Fh),Layer:vu(function(t,e){var n=e[e.length-1],o=Su({},wx,t,e);if(o)return e=Rh(t.getAttribute("queryable")),void 0===e&&(e=n.queryable),o.queryable=void 0!==e&&e,e=Bh(t.getAttribute("cascaded")),void 0===e&&(e=n.cascaded),o.cascaded=e,e=Rh(t.getAttribute("opaque")),void 0===e&&(e=n.opaque),o.opaque=void 0!==e&&e,e=Rh(t.getAttribute("noSubsets")),void 0===e&&(e=n.noSubsets),o.noSubsets=void 0!==e&&e,(e=jh(t.getAttribute("fixedWidth")))||(e=n.fixedWidth),o.fixedWidth=e,(t=jh(t.getAttribute("fixedHeight")))||(t=n.fixedHeight),o.fixedHeight=t,["Style","CRS","AuthorityURL"].forEach(function(t){t in n&&(o[t]=(o[t]||[]).concat(n[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in o||(o[t]=n[t])}),o})}),Px=wu(dx,{Title:gu(Xh),OnlineResource:gu(nl),LogoURL:gu(ql)}),Sx=wu(dx,{westBoundLongitude:gu(Fh),eastBoundLongitude:gu(Fh),southBoundLatitude:gu(Fh),northBoundLatitude:gu(Fh)}),Cx=wu(dx,{GetCapabilities:gu(zl),GetMap:gu(zl),GetFeatureInfo:gu(zl)}),Mx=wu(dx,{Format:vu(Xh),DCPType:vu(function(t,e){return Su({},Tx,t,e)})}),Tx=wu(dx,{HTTP:gu(function(t,e){return Su({},Ax,t,e)})}),Ax=wu(dx,{Get:gu(Wl),Post:gu(Wl)}),Ex=wu(dx,{Name:gu(Xh),Title:gu(Xh),Abstract:gu(Xh),LegendURL:vu(ql),StyleSheetURL:gu(Wl),StyleURL:gu(Wl)}),Ix=wu(dx,{Format:gu(Xh),OnlineResource:gu(nl)}),Lx=wu(dx,{Keyword:du(Xh)});p(Vl,Ih),Vl.prototype.Ac=function(t,e){var o={};e&&Nv(o,Iu(this,t,e)),o=[o],t.setAttribute("namespaceURI",this.a);var r=t.localName;if(e=[],t.childNodes.length){if("msGMLOutput"==r)for(var a=0,s=t.childNodes.length;a<s;a++){var u=t.childNodes[a];if(u.nodeType===Node.ELEMENT_NODE){var h=o[0],p=u.localName.replace("_layer","");if(!this.c||n(this.c,p)){p+="_feature",h.featureType=p,h.featureNS=this.a;var l={};l[p]=du(this.b.Eg,this.b),h=wu([h.featureNS,null],l),u.setAttribute("namespaceURI",this.a),(u=Su([],h,u,o,this.b))&&i(e,u)}}}"FeatureCollection"==r&&(t=Su([],this.b.b,t,[{}],this.b))&&(e=t)}return e},Vl.prototype.$g=function(){},Vl.prototype.Yb=function(){},Vl.prototype.se=function(){},p($l,ol),$l.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},$l.prototype.b=function(t){var e=t.getAttribute("version").trim(),n=this.f.b(t);return n?(n.version=e,(n=Su(n,kx,t,[]))?n:null):null};var Nx=[null,"http://www.opengis.net/wmts/1.0"],Ox=[null,"http://www.opengis.net/ows/1.1"],kx=wu(Nx,{Contents:gu(function(t,e){return Su({},Rx,t,e)})}),Rx=wu(Nx,{Layer:vu(function(t,e){return Su({},Dx,t,e)}),TileMatrixSet:vu(function(t,e){return Su({},Yx,t,e)})}),Dx=wu(Nx,{Style:vu(function(t,e){if(e=Su({},Fx,t,e))return t="true"===t.getAttribute("isDefault"),e.isDefault=t,e}),Format:vu(Xh),TileMatrixSetLink:vu(function(t,e){return Su({},jx,t,e)}),Dimension:vu(function(t,e){return Su({},Xx,t,e)}),ResourceURL:vu(function(t){var e=t.getAttribute("format"),n=t.getAttribute("template");t=t.getAttribute("resourceType");var o={};return e&&(o.format=e),n&&(o.template=n),t&&(o.resourceType=t),o})},wu(Ox,{Title:gu(Xh),Abstract:gu(Xh),WGS84BoundingBox:gu(function(t,e){if(t=Su([],Ux,t,e),2==t.length)return E(t)}),Identifier:gu(Xh)})),Fx=wu(Nx,{LegendURL:vu(function(t){var e={};return e.format=t.getAttribute("format"),e.href=nl(t),e})},wu(Ox,{Title:gu(Xh),Identifier:gu(Xh)})),jx=wu(Nx,{TileMatrixSet:gu(Xh),TileMatrixSetLimits:gu(function(t,e){return Su([],Kx,t,e)})}),Kx=wu(Nx,{TileMatrixLimits:du(function(t,e){return Su({},Bx,t,e)})}),Bx=wu(Nx,{TileMatrix:gu(Xh),MinTileRow:gu(Kh),MaxTileRow:gu(Kh),MinTileCol:gu(Kh),MaxTileCol:gu(Kh)}),Xx=wu(Nx,{Default:gu(Xh),Value:vu(Xh)},wu(Ox,{Identifier:gu(Xh)})),Ux=wu(Ox,{LowerCorner:du(Zl),UpperCorner:du(Zl)}),Yx=wu(Nx,{WellKnownScaleSet:gu(Xh),TileMatrix:vu(function(t,e){return Su({},Gx,t,e)})},wu(Ox,{SupportedCRS:gu(Xh),Identifier:gu(Xh)})),Gx=wu(Nx,{TopLeftCorner:gu(Zl),ScaleDenominator:gu(Fh),TileWidth:gu(Kh),TileHeight:gu(Kh),MatrixWidth:gu(Kh),MatrixHeight:gu(Kh)},wu(Ox,{Identifier:gu(Xh)}));p(Jl,ye),Cv=Jl.prototype,Cv.ka=function(){this.Ve(!1),ye.prototype.ka.call(this)},Cv.Om=function(){var t=this.ci();t&&(this.i=At(Ct("EPSG:4326"),t),this.a&&this.set("position",this.i(this.a)))},Cv.Pm=function(){if(cg){var t=this.di();t&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.Ap.bind(this),this.Bp.bind(this),this.Ph()):t||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}},Cv.Ap=function(t){t=t.coords,this.set("accuracy",t.accuracy),this.set("altitude",null===t.altitude?void 0:t.altitude),this.set("altitudeAccuracy",null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set("heading",null===t.heading?void 0:P(t.heading)),this.a?(this.a[0]=t.longitude,this.a[1]=t.latitude):this.a=[t.longitude,t.latitude];var e=this.i(this.a);this.set("position",e),this.set("speed",null===t.speed?void 0:t.speed),t=Uo(this.g,this.a,t.accuracy),t.Fc(this.i),this.set("accuracyGeometry",t),this.s()},Cv.Bp=function(t){t.type="error",this.Ve(!1),this.b(t)},Cv.Ok=function(){return this.get("accuracy")},Cv.Pk=function(){return this.get("accuracyGeometry")||null},Cv.Rk=function(){return this.get("altitude")},Cv.Sk=function(){return this.get("altitudeAccuracy")},Cv.Mm=function(){return this.get("heading")},Cv.Nm=function(){return this.get("position")},Cv.ci=function(){return this.get("projection")},Cv.xl=function(){return this.get("speed")},Cv.di=function(){return this.get("tracking")},Cv.Ph=function(){return this.get("trackingOptions")},Cv.ei=function(t){this.set("projection",Ct(t))},Cv.Ve=function(t){this.set("tracking",t)},Cv.Gj=function(t){this.set("trackingOptions",t)},p(Ql,ao),Cv=Ql.prototype,Cv.clone=function(){var t=new Ql(null);return uo(t,this.ja,this.A.slice()),t.s(),t},Cv.Jb=function(t,e,n,o){var i=this.A;t-=i[0];var r=e-i[1];if(e=t*t+r*r,e<o){if(e)for(o=this.ud()/Math.sqrt(e),n[0]=i[0]+o*t,n[1]=i[1]+o*r,o=2;o<this.a;++o)n[o]=i[o];else for(o=0;o<this.a;++o)n[o]=i[o];return n.length=this.a,e}return o},Cv.Pc=function(t,e){var n=this.A;return t-=n[0],e-=n[1],t*t+e*e<=tc(this)},Cv.xa=function(){return this.A.slice(0,this.a)},Cv.Ce=function(t){var e=this.A,n=e[this.a]-e[0];return j(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},Cv.ud=function(){return Math.sqrt(tc(this))},Cv.T=function(){return"Circle"},Cv.Ya=function(t){var e=this.G();return!!ot(t,e)&&(e=this.xa(),t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||z(t,this.vb,this))},Cv.qb=function(t){var e=this.a,n=t.slice();n[e]=n[0]+(this.A[e]-this.A[0]);var o;for(o=1;o<e;++o)n[e+o]=t[o];uo(this,this.ja,n),this.s()},Cv.Vg=function(t,e,n){if(t){ho(this,n,t,0),this.A||(this.A=[]),n=this.A,t=mo(n,t),n[t++]=n[0]+e;var o;for(e=1,o=this.a;e<o;++e)n[t++]=n[e];n.length=t}else uo(this,"XY",null);this.s()},Cv.X=function(){},Cv.na=function(){},Cv.Xc=function(t){this.A[this.a]=this.A[0]+t,this.s()};var Wx=new Ia({color:"rgba(0,0,0,0.2)"}),zx=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];Cv=ic.prototype,Cv.Qm=function(){return this.v},Cv.ml=function(){return this.f},Cv.tl=function(){return this.c},Cv.Th=function(t){var e=t.vectorContext,n=t.frameState;t=n.extent;var o=n.viewState,i=o.center,r=o.projection;if(o=o.resolution,n=n.pixelRatio,n=o*o/(4*n*n),!this.i||!Mt(this.i,r)){var a=Ct("EPSG:4326"),s=r.G(),u=r.g,h=Nt(u,a,r),p=u[2],l=u[1],c=u[0],f=h[3],d=h[2],y=h[1];h=h[0],this.g=u[3],this.j=p,this.l=l,this.o=c,this.pa=f,this.qa=d,this.I=y,this.S=h,this.u=Tt(a,r),this.D=Tt(r,a),this.R=this.D($(s)),this.i=r}for(r=this.R[0],a=this.R[1],s=-1,p=Math.pow(this.va*o,2),l=[],c=[],o=0,u=zx.length;o<u&&(f=zx[o]/2,l[0]=r-f,l[1]=a-f,c[0]=r+f,c[1]=a+f,this.u(l,l),this.u(c,c),f=Math.pow(c[0]-l[0],2)+Math.pow(c[1]-l[1],2),!(f<=p));++o)s=zx[o];if(o=s,-1==o)this.f.length=this.c.length=0,this.b&&(this.b.length=0),this.a&&(this.a.length=0);else{for(r=this.D(i),i=r[0],r=r[1],a=this.jb,u=[Math.max(t[0],this.S),Math.max(t[1],this.I),Math.min(t[2],this.qa),Math.min(t[3],this.pa)],u=Nt(u,this.i,"EPSG:4326"),l=u[3],s=u[2],c=u[1],f=u[0],i=Math.floor(i/o)*o,d=b(i,this.o,this.j),p=rc(this,d,c,l,n,t,0),u=0;d!=this.o&&u++<a;)d=Math.max(d-o,this.o),p=rc(this,d,c,l,n,t,p);for(d=b(i,this.o,this.j),u=0;d!=this.j&&u++<a;)d=Math.min(d+o,this.j),p=rc(this,d,c,l,n,t,p);for(this.f.length=p,this.b&&(this.b.length=p),r=Math.floor(r/o)*o,i=b(r,this.l,this.g),p=ac(this,i,f,s,n,t,0),u=0;i!=this.l&&u++<a;)i=Math.max(i-o,this.l),p=ac(this,i,f,s,n,t,p);for(i=b(r,this.l,this.g),u=0;i!=this.g&&u++<a;)i=Math.min(i+o,this.g),p=ac(this,i,f,s,n,t,p);this.c.length=p,this.a&&(this.a.length=p)}for(e.Na(null,this.oa),t=0,n=this.f.length;t<n;++t)i=this.f[t],e.Cb(i);for(t=0,n=this.c.length;t<n;++t)i=this.c[t],e.Cb(i);if(this.b)for(t=0,n=this.b.length;t<n;++t)i=this.b[t],this.C.Cd(i.text),e.gb(this.C),e.Cb(i.Wd);if(this.a)for(t=0,n=this.a.length;t<n;++t)i=this.a[t],this.B.Cd(i.text),e.gb(this.B),e.Cb(i.Wd)},Cv.setMap=function(t){this.v&&(this.v.K("postcompose",this.Th,this),this.v.render()),t&&(t.J("postcompose",this.Th,this),t.render()),this.v=t},p(sc,ce),sc.prototype.s=function(){this.b("change")},sc.prototype.G=function(){return this.extent},sc.prototype.getState=function(){return this.state},p(uc,sc),Cv=uc.prototype,Cv.Y=function(t){if(void 0!==t){var e;return t=c(t),t in this.c?this.c[t]:(e=ht(this.c)?this.M:this.M.cloneNode(!1),this.c[t]=e)}return this.M},Cv.Tm=function(){this.state=3,this.f.forEach(ae),this.f=null,this.s()},Cv.Um=function(){void 0===this.resolution&&(this.resolution=J(this.extent)/this.M.height),this.state=2,this.f.forEach(ae),this.f=null,this.s()},Cv.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.s(),this.f=[ie(this.M,"error",this.Tm,this),ie(this.M,"load",this.Um,this)],this.g(this,this.j))},Cv.Wg=function(t){this.M=t},p(hc,sc),hc.prototype.g=function(t){this.state=t?3:2,this.s()},hc.prototype.load=function(){0==this.state&&(this.state=1,this.s(),this.c(this.g.bind(this)))},hc.prototype.Y=function(){return this.f},p(pc,ce),pc.prototype.s=function(){this.b("change")},pc.prototype.fb=function(){return this.key+"/"+this.sa},pc.prototype.i=function(){return this.sa},pc.prototype.getState=function(){return this.state},p(dc,pc),Cv=dc.prototype,Cv.ka=function(){1==this.state&&(yc(this),this.M.src=qx.toDataURL("image/png")),this.a&&he(this.a),this.state=5,this.s(),pc.prototype.ka.call(this)},Cv.Y=function(){return this.M},Cv.fb=function(){return this.g},Cv.Rm=function(){this.state=3,yc(this),this.M=qx,this.s()},Cv.Sm=function(){this.state=this.M.naturalWidth&&this.M.naturalHeight?2:4,yc(this),this.s()},Cv.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.s(),this.c=[ie(this.M,"error",this.Rm,this),ie(this.M,"load",this.Sm,this)],this.j(this,this.g))};var qx,Hx=Te(1,1);Hx.fillStyle="rgba(0,0,0,0)",Hx.fillRect(0,0,1,1),qx=Hx.canvas,p(vc,ai),vc.prototype.l=function(t,e){e=e.target.result;var n=this.v,o=this.o;o||(o=n.$().v),n=this.j;var i,r=[],a=0;for(i=n.length;a<i;++a){var s=new n[a],u={featureProjection:o};try{r=s.Oa(e,u)}catch(t){r=null}if(r&&0<r.length)break}this.g&&(this.g.clear(),this.g.Ec(r)),this.b(new xc(Vx,t,r,o))},vc.prototype.Ia=function(t){ai.prototype.Ia.call(this,t),t?bc(this):_c(this)},vc.prototype.setMap=function(t){_c(this),ai.prototype.setMap.call(this,t),this.c()&&bc(this)};var Vx="addfeatures";p(xc,pe),p(wc,wi),p(Mc,Er),Cv=Mc.prototype,Cv.wh=function(t,e,n){Ec(this,e);var o,i=t.T(),r=t.ma(),a=this.coordinates.length;if("MultiPolygon"==i){i=zu(t);for(var s=[],u=t.c,h=o=0,p=u.length;h<p;++h){var l=[];o=Ac(this,i,o,u[h],r,l),s.push(l)}this.a.push([4,a,s,t,n,Po])}else"Polygon"==i||"MultiLineString"==i?(s=[],i="Polygon"==i?t.Tb():t.ba(),Ac(this,i,0,t.rb(),r,s),this.a.push([4,a,s,t,n,wo])):"LineString"==i||"MultiPoint"==i?(i=t.ba(),r=Tc(this,i,0,i.length,r,!1,!1),this.a.push([4,a,r,t,n,xo])):"Point"==i&&(i=t.ba(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.a.push([4,a,r,t,n]));Nc(this,e)},Cv.Wa=function(t,e){if(this.S){var n=yr(this.U,this.S.slice());t.translate(n[0],n[1]),t.rotate(e)}t.fill(),this.S&&t.setTransform.apply(t,this.ta)},Cv.Ma=function(t,e,n,o,i){Ic(this,t,e,n,o,i,this.a,void 0,void 0)},Cv.df=l,Cv.Zf=function(){return this.Va},p(Oc,Mc),Oc.prototype.sc=function(t,e){if(this.M){Ec(this,e);var n=t.ba(),o=this.coordinates.length;t=Tc(this,n,0,n.length,t.ma(),!1,!1),this.a.push([5,o,t,this.M,this.f,this.i,this.g,this.j,this.D,this.B,this.l,this.o,this.v,this.u,this.R]),this.b.push([5,o,t,this.I,this.f,this.i,this.g,this.j,this.D,this.B,this.l,this.o,this.v,this.u,this.R]),Nc(this,e)}},Oc.prototype.qc=function(t,e){if(this.M){Ec(this,e);var n=t.ba(),o=this.coordinates.length;t=Tc(this,n,0,n.length,t.ma(),!1,!1),this.a.push([5,o,t,this.M,this.f,this.i,this.g,this.j,this.D,this.B,this.l,this.o,this.v,this.u,this.R]),this.b.push([5,o,t,this.I,this.f,this.i,this.g,this.j,this.D,this.B,this.l,this.o,this.v,this.u,this.R]),Nc(this,e)}},Oc.prototype.df=function(){Lc(this),this.i=this.f=void 0,this.M=this.I=null,this.R=this.u=this.o=this.l=this.B=this.D=this.j=this.v=this.g=void 0},Oc.prototype.Vb=function(t){var e=t.Jc(),n=t.ic(),o=t.yg(1),i=t.Y(1),r=t.Rc();this.f=e[0],this.i=e[1],this.I=o,this.M=i,this.g=n[1],this.j=t.i,this.D=r[0],this.B=r[1],this.l=t.o,this.o=t.g,this.v=t.a,this.u=t.v,this.R=n[0]},p(kc,Mc),Cv=kc.prototype,Cv.Zf=function(){return this.i||(this.i=L(this.Va),0<this.c&&I(this.i,this.resolution*(this.c+1)/2,this.i)),this.i},Cv.oc=function(t,e){var n=this.f,o=n.lineWidth;void 0!==n.strokeStyle&&void 0!==o&&(Dc(this),Ec(this,e),this.b.push([11,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1],[1]),n=t.ba(),Rc(this,n,0,n.length,t.ma()),this.b.push([13]),Nc(this,e))},Cv.pc=function(t,e){var n=this.f,o=n.lineWidth;if(void 0!==n.strokeStyle&&void 0!==o){Dc(this),Ec(this,e),this.b.push([11,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1],[1]),n=t.rb(),o=t.ba(),t=t.ma();var i,r=0,a=0;for(i=n.length;a<i;++a)r=Rc(this,o,r,n[a],t);this.b.push([13]),Nc(this,e)}},Cv.df=function(){var t=this.f;void 0!=t.rd&&t.rd!=this.coordinates.length&&this.a.push([13]),Lc(this),this.f=null},Cv.Na=function(t,e){t=e.b,this.f.strokeStyle=Me(t?t:Ng),t=e.g,this.f.lineCap=void 0!==t?t:"round",t=e.f,this.f.lineDash=t?t:Lg,t=e.i,this.f.lineDashOffset=t?t:0,t=e.j,this.f.lineJoin=void 0!==t?t:"round",t=e.c,this.f.lineWidth=void 0!==t?t:1,e=e.l,this.f.miterLimit=void 0!==e?e:10,this.f.lineWidth>this.c&&(this.c=this.f.lineWidth,this.i=null)},p(Fc,Mc),Cv=Fc.prototype,Cv.$b=function(t,e){var n=this.f,o=n.strokeStyle;if(void 0!==n.fillStyle||void 0!==o){Kc(this,t),Ec(this,e),this.b.push([10,Se(Ig)]),void 0!==n.strokeStyle&&this.b.push([11,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1]);var i=t.ba();o=this.coordinates.length,Tc(this,i,0,i.length,t.ma(),!1,!1),t=[1],o=[2,o],this.a.push(t,o),this.b.push(t,o),t=[8],this.b.push(t),void 0!==n.fillStyle&&this.a.push(t),void 0!==n.strokeStyle&&(n=[13],this.a.push(n),this.b.push(n)),Nc(this,e)}},Cv.tc=function(t,e){var n=this.f;Kc(this,t),Ec(this,e),this.b.push([10,Se(Ig)]),void 0!==n.strokeStyle&&this.b.push([11,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1]),n=t.rb();var o=t.Tb();jc(this,o,0,n,t.ma()),Nc(this,e)},Cv.rc=function(t,e){var n=this.f,o=n.strokeStyle;if(void 0!==n.fillStyle||void 0!==o){Kc(this,t),Ec(this,e),this.b.push([10,Se(Ig)]),void 0!==n.strokeStyle&&this.b.push([11,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1]),n=t.c,o=zu(t),t=t.ma();var i,r=0,a=0;for(i=n.length;a<i;++a)r=jc(this,o,r,n[a],t);Nc(this,e)}},Cv.df=function(){Lc(this),this.f=null;var t=this.oa;if(t){var e,n=this.coordinates,o=0;for(e=n.length;o<e;++o)n[o]=t*Math.round(n[o]/t)}},Cv.Zf=function(){return this.i||(this.i=L(this.Va),0<this.c&&I(this.i,this.resolution*(this.c+1)/2,this.i)),this.i},Cv.Na=function(t,e){var n=this.f;t?(t=t.b,n.fillStyle=Me(t?t:Ig)):n.fillStyle=void 0,e?(t=e.b,n.strokeStyle=Me(t?t:Ng),t=e.g,n.lineCap=void 0!==t?t:"round",t=e.f,n.lineDash=t?t.slice():Lg,t=e.i,n.lineDashOffset=t?t:0,t=e.j,n.lineJoin=void 0!==t?t:"round",t=e.c,n.lineWidth=void 0!==t?t:1,e=e.l,n.miterLimit=void 0!==e?e:10,n.lineWidth>this.c&&(this.c=n.lineWidth,this.i=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0)},p(Bc,Mc),Bc.prototype.Qb=function(t,e,n,o,i,r){if(""!==this.ua&&this.g&&(this.f||this.i)){if(this.f){i=this.f;var a=this.R;if(!a||a.fillStyle!=i.fillStyle){var s=[10,i.fillStyle];this.a.push(s),this.b.push(s),a?a.fillStyle=i.fillStyle:this.R={fillStyle:i.fillStyle}}}this.i&&(i=this.i,a=this.D,a&&a.lineCap==i.lineCap&&a.lineDash==i.lineDash&&a.lineDashOffset==i.lineDashOffset&&a.lineJoin==i.lineJoin&&a.lineWidth==i.lineWidth&&a.miterLimit==i.miterLimit&&a.strokeStyle==i.strokeStyle||(s=[11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset,!1,1],this.a.push(s),this.b.push(s),a?(a.lineCap=i.lineCap,a.lineDash=i.lineDash,a.lineDashOffset=i.lineDashOffset,a.lineJoin=i.lineJoin,a.lineWidth=i.lineWidth,a.miterLimit=i.miterLimit,a.strokeStyle=i.strokeStyle):this.D={lineCap:i.lineCap,lineDash:i.lineDash,lineDashOffset:i.lineDashOffset,lineJoin:i.lineJoin,lineWidth:i.lineWidth,miterLimit:i.miterLimit,strokeStyle:i.strokeStyle})),i=this.g,a=this.B,a&&a.font==i.font&&a.textAlign==i.textAlign&&a.textBaseline==i.textBaseline||(s=[12,i.font,i.textAlign,i.textBaseline],this.a.push(s),this.b.push(s),a?(a.font=i.font,a.textAlign=i.textAlign,a.textBaseline=i.textBaseline):this.B={font:i.font,textAlign:i.textAlign,textBaseline:i.textBaseline}),Ec(this,r),i=this.coordinates.length,t=Tc(this,t,e,n,o,!1,!1),t=[6,i,t,this.ua,this.j,this.l,this.v,this.u,!!this.f,!!this.i,this.o],this.a.push(t),this.b.push(t),Nc(this,r)}},Bc.prototype.gb=function(t){if(t){var e=t.Da();e?(e=e.b,e=Me(e?e:Ig),this.f?this.f.fillStyle=e:this.f={fillStyle:e}):this.f=null;var n=t.Ea();if(n){e=n.b;var o=n.g,i=n.f,r=n.i,a=n.j,s=n.c;if(n=n.l,o=void 0!==o?o:"round",i=i?i.slice():Lg,r=void 0!==r?r:0,a=void 0!==a?a:"round",s=void 0!==s?s:1,n=void 0!==n?n:10,e=Me(e?e:Ng),this.i){var u=this.i;u.lineCap=o,u.lineDash=i,u.lineDashOffset=r,u.lineJoin=a,u.lineWidth=s,u.miterLimit=n,u.strokeStyle=e}else this.i={lineCap:o,lineDash:i,lineDashOffset:r,lineJoin:a,lineWidth:s,miterLimit:n,strokeStyle:e}}else this.i=null;var h=t.a;e=t.f,o=t.c,i=t.l,s=t.i,n=t.b,r=t.Ja(),a=t.g,u=t.j,t=void 0!==h?h:"10px sans-serif",a=void 0!==a?a:"center",u=void 0!==u?u:"middle",this.g?(h=this.g,h.font=t,h.textAlign=a,h.textBaseline=u):this.g={font:t,textAlign:a,textBaseline:u},this.ua=void 0!==r?r:"",this.j=void 0!==e?e:0,this.l=void 0!==o?o:0,this.o=void 0!==i&&i,this.v=void 0!==s?s:0,this.u=void 0!==n?n:1}else this.ua=""},p(Xc,Kr);var $x={0:[[!0]]};Xc.prototype.Ha=function(t,e,n,o,i,r){o=Math.round(o);var a=2*o+1,s=br(this.j,o+.5,o+.5,1/e,-1/e,-n,-t[0],-t[1]),u=this.g;if(u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):u.clearRect(0,0,a,a),void 0!==this.i){var h=F();G(h,t),I(h,e*(this.i+o),h)}var p=Yc(o);return zc(this,u,s,n,i,function(t){for(var e=u.getImageData(0,0,a,a).data,n=0;n<a;n++)for(var o=0;o<a;o++)if(p[n][o]&&0<e[4*(o*a+n)+3])return(t=r(t))?t:void u.clearRect(0,0,a,a)},h)},Xc.prototype.b=function(t,e){var n=void 0!==t?t.toString():"0";return t=this.a[n],void 0===t&&(t={},this.a[n]=t),n=t[e],void 0===n&&(n=new Zx[e](this.v,this.f,this.o,this.l),t[e]=n),n},Xc.prototype.c=function(){return ht(this.a)},Xc.prototype.Ma=function(t,n,o,i,r,a){var s=Object.keys(this.a).map(Number);s.sort(e);var u=Wc(this,o);t.save(),t.beginPath(),t.moveTo(u[0],u[1]),t.lineTo(u[2],u[3]),t.lineTo(u[4],u[5]),t.lineTo(u[6],u[7]),t.clip(),a=a?a:Og;var h,p;for(u=0,h=s.length;u<h;++u){var l=this.a[s[u].toString()],c=0;for(p=a.length;c<p;++c){var f=l[a[c]];void 0!==f&&f.Ma(t,n,o,i,r)}}t.restore()};var Zx={Circle:Fc,Default:Mc,Image:Oc,LineString:kc,Polygon:Fc,Text:Bc};p(qc,de),qc.prototype.Ha=l,qc.prototype.ef=no,qc.prototype.Uf=function(t,e,n){return function(o,i){return wy(t,e,o,i,function(t){n[o]||(n[o]={}),n[o][t.sa.toString()]=t})}},qc.prototype.ta=function(t){2===t.target.getState()&&Vc(this)},p(ef,qc),ef.prototype.v=function(t,e,n,o){if(this.Ha(t,e,0,eo,this))return n.call(o,this.a,null)},ef.prototype.qf=function(t,e,n,o){of(this,"postcompose",t,e,o)};var Jx={Point:function(t,e,n,o){var i=n.Y();if(i){if(2!=i.hf())return;var r=t.b(n.za(),"Image");r.Vb(i),r.sc(e,o)}(i=n.Ja())&&(t=t.b(n.za(),"Text"),t.gb(i),t.Qb(e.ba(),0,2,2,e,o))},LineString:function(t,e,n,o){var i=n.Ea();if(i){var r=t.b(n.za(),"LineString");r.Na(null,i),r.oc(e,o)}(i=n.Ja())&&(t=t.b(n.za(),"Text"),t.gb(i),t.Qb(Ku(e),0,2,2,e,o))},Polygon:function(t,e,n,o){var i=n.Da(),r=n.Ea();if(i||r){var a=t.b(n.za(),"Polygon");a.Na(i,r),a.tc(e,o)}(i=n.Ja())&&(t=t.b(n.za(),"Text"),t.gb(i),t.Qb(Xo(e),0,2,2,e,o))},MultiPoint:function(t,e,n,o){var i=n.Y();if(i){if(2!=i.hf())return;var r=t.b(n.za(),"Image");r.Vb(i),r.qc(e,o)}(i=n.Ja())&&(t=t.b(n.za(),"Text"),t.gb(i),n=e.ba(),t.Qb(n,0,n.length,e.ma(),e,o))},MultiLineString:function(t,e,n,o){var i=n.Ea();if(i){var r=t.b(n.za(),"LineString");r.Na(null,i),r.pc(e,o)}(i=n.Ja())&&(t=t.b(n.za(),"Text"),t.gb(i),n=Xu(e),t.Qb(n,0,n.length,2,e,o))},MultiPolygon:function(t,e,n,o){var i=n.Da(),r=n.Ea();if(r||i){var a=t.b(n.za(),"Polygon");a.Na(i,r),a.rc(e,o)}(i=n.Ja())&&(t=t.b(n.za(),"Text"),t.gb(i),n=Wu(e),t.Qb(n,0,n.length,2,e,o))},GeometryCollection:function(t,e,n,o){e=e.a;var i,r=0;for(i=e.length;r<i;++r)(0,Jx[e[r].T()])(t,e[r],n,o)},Circle:function(t,e,n,o){var i=n.Da(),r=n.Ea();if(i||r){var a=t.b(n.za(),"Circle");a.Na(i,r),a.$b(e,o)}(i=n.Ja())&&(t=t.b(n.za(),"Text"),t.gb(i),t.Qb(e.xa(),0,2,2,e,o))}};p(pf,ef),pf.prototype.u=function(t,e,n){var o=t.extent,i=t.pixelRatio,r=e.Ue?t.skippedFeatureUids:{},a=t.viewState,s=a.projection,u=a.rotation,h=s.G(),p=this.a.ia(),l=rf(this,t,0);of(this,"precompose",n,t,l);var c=e.extent;(a=void 0!==c)&&nf(n,t,c);var f=this.i;if(f&&!f.c()){var d=c=0,y=1!==e.opacity,v=fe(this.a,"render");if(y||v){var g=n.canvas.width,m=n.canvas.height;if(u){var b=Math.round(Math.sqrt(g*g+m*m));c=(b-g)/2,d=(b-m)/2,g=m=b}this.g.canvas.width=g,this.g.canvas.height=m,g=this.g}else g=n;m=g.globalAlpha,y||(g.globalAlpha=e.opacity),g!=n&&g.translate(c,d),b=t.size[0]*i;var _=t.size[1]*i;if(Ar(g,-u,b/2,_/2),f.Ma(g,i,l,u,r),p.u&&s.f&&!k(h,o)){s=o[0],p=nt(h);for(var x=0;s<h[0];)--x,l=p*x,l=rf(this,t,l),f.Ma(g,i,l,u,r),s+=p;for(x=0,s=o[2];s>h[2];)++x,l=p*x,l=rf(this,t,l),f.Ma(g,i,l,u,r),s-=p;l=rf(this,t,0)}Ar(g,u,b/2,_/2),g!=n&&(v&&of(this,"render",g,t,l),y?(o=n.globalAlpha,n.globalAlpha=e.opacity,n.drawImage(g.canvas,-c,-d),n.globalAlpha=o):n.drawImage(g.canvas,-c,-d),g.translate(-c,-d)),y||(g.globalAlpha=m)}a&&n.restore(),this.qf(n,t,e,l)},pf.prototype.Ha=function(t,e,n,o,i){if(this.i){var r=this.a,a={};return this.i.Ha(t,e.viewState.resolution,e.viewState.rotation,n,{},function(t){var e=c(t).toString();if(!(e in a))return a[e]=!0,o.call(i,t,r)})}},pf.prototype.D=function(){Vc(this)},pf.prototype.xd=function(t){var e=this.a,n=e.ia();Zc(t.attributions,n.j),Jc(t,n);var o=t.viewHints[0],i=t.viewHints[1],r=e.S,a=e.U;if(!this.c&&!r&&o||!a&&i)return!0;r=t.extent;var s=t.viewState;a=s.projection;var u=s.resolution,h=t.pixelRatio;o=e.f;var p=e.c;if(i=e.get(ew),void 0===i&&(i=af),r=I(r,p*u),p=s.projection.G(),n.u&&s.projection.f&&!k(p,t.extent)&&(t=Math.max(nt(r)/2,nt(p)),r[0]=p[0]-t,r[2]=p[2]+t),!this.c&&this.o==u&&this.R==o&&this.l==i&&k(this.j,r))return!0;this.i=null,this.c=!1;var l=new Xc(.5*u/h,r,u,n.U,e.c);if(n.ce(r,u,a),t=function(t){var n=t.bb();if(n)var o=n.call(t,u);else(n=e.bb())&&(o=n(t,u));if(o){if(o){if(n=!1,Array.isArray(o))for(var i=0,r=o.length;i<r;++i)n=uf(l,t,o[i],sf(u,h),this.D,this)||n;else n=uf(l,t,o,sf(u,h),this.D,this)||n;t=n}else t=!1;this.c=this.c||t}}.bind(this),i){var c=[];for(n.ac(r,function(t){c.push(t)},this),c.sort(i),n=0,a=c.length;n<a;++n)t(c[n])}else n.ac(r,t,this);return Gc(l),this.o=u,this.R=o,this.l=i,this.j=r,this.i=l,!0},p(lf,Xr);var Qx=new lf;p(cf,Ur);var tw=new cf;p(df,qc),df.prototype.Qi=function(t,e,n){vf(this,"precompose",n,t),ia(n,34962,this.U);var o=n.b,i=ua(n,Qx,tw);if(this.u)var r=this.u;else this.u=r=new ff(o,i);n.Tc(i)&&(o.enableVertexAttribArray(r.b),o.vertexAttribPointer(r.b,2,5126,!1,16,0),o.enableVertexAttribArray(r.a),o.vertexAttribPointer(r.a,2,5126,!1,16,8),o.uniform1i(r.i,0)),o.uniformMatrix4fv(r.g,!1,qr(this.B,this.v)),o.uniformMatrix4fv(r.c,!1,qr(this.B,this.R)),o.uniform1f(r.f,e.opacity),o.bindTexture(3553,this.Hb),o.drawArrays(5,0,4),vf(this,"postcompose",n,t)},df.prototype.ug=function(){this.g=this.Hb=null,this.j=void 0},p(gf,df),Cv=gf.prototype,Cv.Qi=function(t,e,n){this.l=e;var o=t.viewState,i=this.i,r=t.size,a=t.pixelRatio,s=this.c.f;i&&!i.c()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,r[0]*a,r[1]*a),i.Ma(n,o.center,o.resolution,o.rotation,r,a,e.opacity,e.Ue?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},Cv.ka=function(){var t=this.i;t&&(ms(t,this.c.i)(),this.i=null),df.prototype.ka.call(this)},Cv.Ha=function(t,e,n,o,i){if(this.i&&this.l){n=e.viewState;var r=this.a,a={};return this.i.Ha(t,this.c.i,n.center,n.resolution,n.rotation,e.size,e.pixelRatio,this.l.opacity,{},function(t){var e=c(t).toString();if(!(e in a))return a[e]=!0,o.call(i,t,r)})}},Cv.ef=function(t,e){if(this.i&&this.l){var n=e.viewState;return xs(this.i,t,this.c.i,n.resolution,n.rotation,e.pixelRatio,this.l.opacity,e.skippedFeatureUids)}return!1},Cv.tg=function(t,e,n,o){if(t=yr(e.pixelToCoordinateTransform,t.slice()),this.ef(t,e))return n.call(o,this.a,null)},Cv.Ri=function(){Vc(this)},Cv.vg=function(t,e,n){function o(t){var e=t.bb();if(e)var n=e.call(t,h);else(e=i.bb())&&(n=e(t,h));if(n){if(n){if(e=!1,Array.isArray(n))for(var o=n.length-1;0<=o;--o)e=uf(c,t,n[o],sf(h,p),this.Ri,this)||e;else e=uf(c,t,n,sf(h,p),this.Ri,this)||e;t=e}else t=!1;this.o=this.o||t}}var i=this.a;e=i.ia(),Zc(t.attributions,e.j),Jc(t,e);var r=t.viewHints[0],a=t.viewHints[1],s=i.S,u=i.U;if(!this.o&&!s&&r||!u&&a)return!0;a=t.extent,s=t.viewState,r=s.projection;var h=s.resolution,p=t.pixelRatio;s=i.f;var l=i.c;if(u=i.get(ew),void 0===u&&(u=af),a=I(a,l*h),!this.o&&this.I==h&&this.S==s&&this.C==u&&k(this.D,a))return!0;this.i&&t.postRenderFunctions.push(ms(this.i,n)),this.o=!1;var c=new gs(.5*h/p,a,i.c);if(e.ce(a,h,r),u){var f=[];e.ac(a,function(t){f.push(t)},this),f.sort(u),f.forEach(o,this)}else e.ac(a,o,this);return bs(c,n),this.I=h,this.S=s,this.C=u,this.D=a,this.i=c,!0},p(mf,sr),mf.prototype.Kd=function(t){
var e=null,n=t.T();return"canvas"===n?e=new pf(this):"webgl"===n&&(e=new gf(t,this)),e},mf.prototype.u=function(){return this.v},mf.prototype.bb=function(){return this.C},mf.prototype.i=function(t){this.v=void 0!==t?t:nu,this.C=null===t?void 0:eu(this.v),this.s()};var ew="renderOrder";p(_f,ye),Cv=_f.prototype,Cv.Ha=l,Cv.Aa=function(){return this.j},Cv.ya=function(){return this.D},Cv.Ba=function(){return this.c},Cv.getState=function(){return this.ta},Cv.ra=function(){this.s()},Cv.wa=function(t){this.j=xf(t),this.s()},p(Pf,_f),Cv=Pf.prototype,Cv.Bb=function(t){var e=c(t).toString();if(Cf(this,e,t)){Sf(this,e,t);var n=t.V();n?(e=n.G(),this.a&&this.a.Ga(e,t)):this.g[e]=t,this.b(new If("addfeature",t))}this.s()},Cv.Ec=function(t){Mf(this,t),this.s()},Cv.clear=function(t){if(t){for(var e in this.v)this.v[e].forEach(ae);this.i||(this.v={},this.l={},this.o={})}else if(this.a){this.a.forEach(this.Qg,this);for(var n in this.g)this.Qg(this.g[n])}this.i&&this.i.clear(),this.a&&this.a.clear(),this.S.clear(),this.g={},this.b(new If("clear")),this.s()},Cv.Ah=function(t,e){return this.a?this.a.forEach(t,e):this.i?this.i.forEach(t,e):void 0},Cv.ac=function(t,e,n){return this.a?Ya(this.a,t,e,n):this.i?this.i.forEach(e,n):void 0},Cv.Bh=function(t,e,n){return this.ac(t,function(o){if(o.V().Ya(t)&&(o=e.call(n,o)))return o})},Cv.Ih=function(){return this.i},Cv.ee=function(){if(this.i)var t=this.i.a;else this.a&&(t=Xa(this.a),ht(this.g)||i(t,ut(this.g)));return t},Cv.Hh=function(t){var e=[];return Af(this,t,function(t){e.push(t)}),e},Cv.ag=function(t){return Ua(this.a,t)},Cv.Dh=function(t,e){var n=t[0],o=t[1],i=null,r=[NaN,NaN],a=1/0,s=[-(1/0),-(1/0),1/0,1/0],u=e?e:eo;return Ya(this.a,s,function(t){if(u(t)){var e=t.V(),h=a;a=e.Jb(n,o,r,a),a<h&&(i=t,t=Math.sqrt(a),s[0]=n-t,s[1]=o-t,s[2]=n+t,s[3]=o+t)}}),i},Cv.G=function(t){return this.a.G(t)},Cv.Gh=function(t){return t=this.l[t.toString()],void 0!==t?t:null},Cv.Wi=function(){return this.B},Cv.Xi=function(){return this.I},Cv.Yi=function(t){t=t.target;var e=c(t).toString(),n=t.V();n?(n=n.G(),e in this.g?(delete this.g[e],this.a&&this.a.Ga(n,t)):this.a&&Ba(this.a,n,t)):e in this.g||(this.a&&this.a.remove(t),this.g[e]=t),n=t.a,void 0!==n?(n=n.toString(),e in this.o?(delete this.o[e],this.l[n]=t):this.l[n]!==t&&(Ef(this,t),this.l[n]=t)):e in this.o||(Ef(this,t),this.o[e]=t),this.s(),this.b(new If("changefeature",t))},Cv.ce=function(t,e,n){var o=this.S;t=this.ga(t,e);var i,r=0;for(i=t.length;r<i;++r){var a=t[r];Ya(o,a,function(t){return k(t.extent,a)})||(this.C.call(this,a,e,n),o.Ga(a,{extent:a.slice()}))}},Cv.Fb=function(t){var e=c(t).toString();e in this.g?delete this.g[e]:this.a&&this.a.remove(t),this.Qg(t),this.s()},Cv.Qg=function(t){var e=c(t).toString();this.v[e].forEach(ae),delete this.v[e];var n=t.a;void 0!==n?delete this.l[n.toString()]:delete this.o[e],this.b(new If("removefeature",t))},p(If,pe),p(Lf,wi),Cv=Lf.prototype,Cv.setMap=function(t){wi.prototype.setMap.call(this,t),this.Bi()},Cv.aq=function(){if(this.j){var t=this.j.V();if(this.g===ow){var e=this.a;e.splice(-2,1),this.$a(e,t),2<=e.length&&(this.o=e[e.length-2].slice())}else if(this.g===iw){e=this.a[0],e.splice(-2,1);var n=this.B.V();n.na(e),this.$a(this.a,t)}0===e.length&&(this.o=null),Xf(this)}},Cv.Ud=function(){var t=Bf(this),e=this.a,n=t.V();this.g===ow?(e.pop(),this.$a(e,n)):this.g===iw&&(e[0].pop(),this.$a(e,n),e=n.X()),"MultiPoint"===this.S?t.Ra(new Yu([e])):"MultiLineString"===this.S?t.Ra(new Bu([e])):"MultiPolygon"===this.S&&t.Ra(new Gu([e])),this.b(new Yf("drawend",t)),this.Za&&this.Za.push(t),this.Zb&&this.Zb.Bb(t)},Cv.Jn=function(t){var e=t.V();this.j=t,this.a=e.X(),t=this.a[this.a.length-1],this.o=t.slice(),this.a.push(t.slice()),Xf(this),this.b(new Yf("drawstart",this.j))},Cv.$c=no,Cv.Bi=function(){var t=this.v,e=this.c();t&&e||Bf(this),this.oa.setMap(e?t:null)};var nw="Point",ow="LineString",iw="Polygon",rw="Circle";p(Yf,pe),p(Gf,wi),Gf.prototype.setMap=function(t){this.u.setMap(t),this.I.setMap(t),wi.prototype.setMap.call(this,t)},Gf.prototype.G=function(){return this.j},Gf.prototype.g=function(t){this.j=t?t:null;var e=this.o;e?t?e.Ra(Yo(t)):e.Ra(void 0):(this.o=e=new ru(t?Yo(t):{}),this.u.ia().Bb(e)),this.b(new ed(this.j))},p(ed,pe),p(nd,wi),Cv=nd.prototype,Cv.sg=function(t){var e=t.V();e&&e.T()in this.ga&&this.ga[e.T()].call(this,t,e),(e=this.v)&&e.c&&this.c()&&cd(this,this.Sa,e),oe(t,"change",this.Ci,this)},Cv.Ia=function(t){this.g&&!t&&(this.C.ia().Fb(this.g),this.g=null),wi.prototype.Ia.call(this,t)},Cv.setMap=function(t){this.C.setMap(t),wi.prototype.setMap.call(this,t)},Cv.fm=function(t){t.feature&&this.u.push(t.feature)},Cv.hm=function(t){t.feature&&this.u.remove(t.feature)},Cv.Kn=function(t){this.sg(t.element)},Cv.Ci=function(t){this.o||(t=t.target,id(this,t),this.sg(t))},Cv.Ln=function(t){id(this,t.element)},Cv.Rn=function(t,e){var n=e.X();t={feature:t,geometry:e,la:[n,n]},this.a.Ga(e.G(),t)},Cv.Pn=function(t,e){var n,o=e.X(),i=0;for(n=o.length;i<n;++i){var r=o[i];r={feature:t,geometry:e,depth:[i],index:i,la:[r,r]},this.a.Ga(e.G(),r)}},Cv.Di=function(t,e){var n,o=e.X(),i=0;for(n=o.length-1;i<n;++i){var r=o.slice(i,i+2),a={feature:t,geometry:e,index:i,la:r};this.a.Ga(E(r),a)}},Cv.On=function(t,e){var n,o,i=e.X(),r=0;for(o=i.length;r<o;++r){var a=i[r],s=0;for(n=a.length-1;s<n;++s){var u=a.slice(s,s+2),h={feature:t,geometry:e,depth:[r],index:s,la:u};this.a.Ga(E(u),h)}}},Cv.Sn=function(t,e){var n,o,i=e.X(),r=0;for(o=i.length;r<o;++r){var a=i[r],s=0;for(n=a.length-1;s<n;++s){var u=a.slice(s,s+2),h={feature:t,geometry:e,depth:[r],index:s,la:u};this.a.Ga(E(u),h)}}},Cv.Qn=function(t,e){var n,o,i,r=e.X(),a=0;for(i=r.length;a<i;++a){var s=r[a],u=0;for(o=s.length;u<o;++u){var h=s[u],p=0;for(n=h.length-1;p<n;++p){var l=h.slice(p,p+2),c={feature:t,geometry:e,depth:[u,a],index:p,la:l};this.a.Ga(E(l),c)}}}},Cv.Mn=function(t,e){var n=e.xa(),o={feature:t,geometry:e,index:0,la:[n,n]};t={feature:t,geometry:e,index:1,la:[n,n]},o.Wf=t.Wf=[o,t],this.a.Ga(B(n),o),this.a.Ga(e.G(),t)},Cv.Nn=function(t,e){var n=e.a;for(e=0;e<n.length;++e)this.ga[n[e].T()].call(this,t,n[e])},Cv.pm=function(t,e){for(var n,o=t.la,i=t.feature,r=t.geometry,a=t.depth,s=t.index;e.length<r.ma();)e.push(0);switch(r.T()){case"MultiLineString":n=r.X(),n[a[0]].splice(s+1,0,e);break;case"Polygon":n=r.X(),n[a[0]].splice(s+1,0,e);break;case"MultiPolygon":n=r.X(),n[a[1]][a[0]].splice(s+1,0,e);break;case"LineString":n=r.X(),n.splice(s+1,0,e);break;default:return}this.o=!0,r.na(n),this.o=!1,n=this.a,n.remove(t),yd(this,r,s,a,1),t={la:[o[0],e],feature:i,geometry:r,depth:a,index:s},n.Ga(E(t.la),t),this.j.push([t,1]),e={la:[e,o[1]],feature:i,geometry:r,depth:a,index:s+1},n.Ga(E(e.la),e),this.j.push([e,0]),this.I=!0},Cv.rj=function(){if(this.S&&"pointerdrag"!=this.S.type){var t=this.S;od(this,t);var e,n,o=this.j,i={};for(n=o.length-1;0<=n;--n){var r=o[n],a=r[0],s=c(a.feature);a.depth&&(s+="-"+a.depth.join("-")),s in i||(i[s]={}),0===r[1]?(i[s].right=a,i[s].index=a.index):1==r[1]&&(i[s].left=a,i[s].index=a.index+1)}for(s in i){var u=i[s].right,h=i[s].left;n=i[s].index;var p=n-1;a=void 0!==h?h:u,0>p&&(p=0),r=a.geometry;var l=e=r.X(),f=!1;switch(r.T()){case"MultiLineString":2<e[a.depth[0]].length&&(e[a.depth[0]].splice(n,1),f=!0);break;case"LineString":2<e.length&&(e.splice(n,1),f=!0);break;case"MultiPolygon":l=l[a.depth[1]];case"Polygon":l=l[a.depth[0]],4<l.length&&(n==l.length-1&&(n=0),l.splice(n,1),f=!0,0===n&&(l.pop(),l.push(l[0]),p=l.length-1))}f&&(f=r,this.o=!0,f.na(e),this.o=!1,e=[],void 0!==h&&(this.a.remove(h),e.push(h.la[0])),void 0!==u&&(this.a.remove(u),e.push(u.la[1])),void 0!==h&&void 0!==u&&(h={depth:a.depth,feature:a.feature,geometry:a.geometry,index:p,la:e},this.a.Ga(E(h.la),h)),yd(this,r,n,a.depth,-1),this.g&&(this.C.ia().Fb(this.g),this.g=null),o.length=0)}return this.b(new gd("modifyend",this.u,t)),this.B=!1,!0}return!1},p(gd,pe),p(md,ai),Cv=md.prototype,Cv.Un=function(){return this.g.ia().i},Cv.Vn=function(){return this.j},Cv.Wn=function(t){return t=c(t),this.a[t]},Cv.Yn=function(t){this.j=t},Cv.setMap=function(t){var e=this.v,n=this.g.ia().i;e&&n.forEach(e.Mj,e),ai.prototype.setMap.call(this,t),this.g.setMap(t),t&&n.forEach(t.Hj,t)},Cv.Tn=function(t){var e=this.v;e&&e.Hj(t.element)},Cv.Xn=function(t){var e=this.v;e&&e.Mj(t.element)},p(xd,pe);var aw="select";p(wd,wi),Cv=wd.prototype,Cv.Bb=function(t,e){e=void 0===e||e;var n=c(t),o=t.V();if(o){var i=this.ga[o.T()];i&&(this.U[n]=o.G(F()),i.call(this,t,o))}e&&(this.C[n]=oe(t,"change",this.Zn,this))},Cv.Lk=function(t){this.Bb(t)},Cv.Mk=function(t){this.Fb(t)},Cv.Ei=function(t){if(t instanceof If)var e=t.feature;else t instanceof we&&(e=t.element);this.Bb(e)},Cv.Fi=function(t){if(t instanceof If)var e=t.feature;else t instanceof we&&(e=t.element);this.Fb(e)},Cv.Zn=function(t){if(t=t.target,this.D){var e=c(t);e in this.u||(this.u[e]=t)}else this.Nj(t)},Cv.Fb=function(t,e){e=void 0===e||e;var n=c(t),o=this.U[n];if(o){var i=this.a,r=[];for(Ya(i,o,function(e){t===e.feature&&r.push(e)}),o=r.length-1;0<=o;--o)i.remove(r[o])}e&&(ae(this.C[n]),delete this.C[n])},Cv.setMap=function(t){var e,n=this.v,o=this.oa;this.j?e=this.j:this.o&&(e=this.o.ee()),n&&(o.forEach(ae),o.length=0,e.forEach(this.Mk,this)),wi.prototype.setMap.call(this,t),t&&(this.j?o.push(oe(this.j,"add",this.Ei,this),oe(this.j,"remove",this.Fi,this)):this.o&&o.push(oe(this.o,"addfeature",this.Ei,this),oe(this.o,"removefeature",this.Fi,this)),e.forEach(this.Lk,this))},Cv.$c=no,Cv.Nj=function(t){this.Fb(t,!1),this.Bb(t,!1)},Cv.$n=function(t,e){e=Go(e).X()[0];var n,o=0;for(n=e.length-1;o<n;++o){var i=e.slice(o,o+2),r={feature:t,la:i};this.a.Ga(E(i),r)}},Cv.ao=function(t,e){var n=e.a;for(e=0;e<n.length;++e){var o=this.ga[n[e].T()];o&&o.call(this,t,n[e])}},Cv.Gi=function(t,e){e=e.X();var n,o=0;for(n=e.length-1;o<n;++o){var i=e.slice(o,o+2),r={feature:t,la:i};this.a.Ga(E(i),r)}},Cv.bo=function(t,e){e=e.X();var n,o,i=0;for(o=e.length;i<o;++i){var r=e[i],a=0;for(n=r.length-1;a<n;++a){var s=r.slice(a,a+2),u={feature:t,la:s};this.a.Ga(E(s),u)}}},Cv.co=function(t,e){var n,o=e.X(),i=0;for(n=o.length;i<n;++i){var r=o[i];r={feature:t,la:[r,r]},this.a.Ga(e.G(),r)}},Cv.eo=function(t,e){e=e.X();var n,o,i,r=0;for(i=e.length;r<i;++r){var a=e[r],s=0;for(o=a.length;s<o;++s){var u=a[s],h=0;for(n=u.length-1;h<n;++h){var p=u.slice(h,h+2),l={feature:t,la:p};this.a.Ga(E(p),l)}}}},Cv.fo=function(t,e){var n=e.X();t={feature:t,la:[n,n]},this.a.Ga(e.G(),t)},Cv.ho=function(t,e){e=e.X();var n,o,i=0;for(o=e.length;i<o;++i){var r=e[i],a=0;for(n=r.length-1;a<n;++a){var s=r.slice(a,a+2),u={feature:t,la:s};this.a.Ga(E(s),u)}}},p(Td,wi),Td.prototype.C=function(){return this.o},Td.prototype.I=function(t){this.o=t},Td.prototype.setMap=function(t){var e=this.v;wi.prototype.setMap.call(this,t),Od(this,e)},Td.prototype.u=function(){Od(this,null)},p(kd,pe),p(Rd,mf);var sw=["#00f","#0ff","#0f0","#ff0","#f00"];Cv=Rd.prototype,Cv.Ch=function(){return this.get(uw)},Cv.Jh=function(){return this.get(hw)},Cv.Ii=function(){return this.get(pw)},Cv.Nl=function(){for(var t=this.Jh(),e=Te(1,256),n=e.createLinearGradient(0,0,1,256),o=1/(t.length-1),i=0,r=t.length;i<r;++i)n.addColorStop(i*o,t[i]);e.fillStyle=n,e.fillRect(0,0,1,256),this.g=e.getImageData(0,0,1,256).data},Cv.lg=function(){var t=this.Ii(),e=this.Ch(),n=t+e+1,o=2*n;o=Te(o,o),o.shadowOffsetX=o.shadowOffsetY=this.I,o.shadowBlur=e,o.shadowColor="#000",o.beginPath(),e=n-this.I,o.arc(e,e,t,0,2*Math.PI,!0),o.fill(),this.B=o.canvas.toDataURL(),this.D=Array(256),this.s()},Cv.dm=function(t){t=t.context;var e=t.canvas;e=t.getImageData(0,0,e.width,e.height);var n,o,i=e.data,r=0;for(n=i.length;r<n;r+=4)(o=4*i[r+3])&&(i[r]=this.g[o],i[r+1]=this.g[o+1],i[r+2]=this.g[o+2]);t.putImageData(e,0,0)},Cv.tj=function(t){this.set(uw,t)},Cv.zj=function(t){this.set(hw,t)},Cv.Xc=function(t){this.set(pw,t)};var uw="blur",hw="gradient",pw="radius";p(Dd,ef),Dd.prototype.u=function(t,e,n){of(this,"precompose",n,t,void 0);var o=this.Y();if(o){var i=e.extent,r=void 0!==i&&!k(i,t.extent)&&ot(i,t.extent);r&&nf(n,t,i),i=this.D();var a=n.globalAlpha;n.globalAlpha=e.opacity,n.drawImage(o,0,0,+o.width,+o.height,Math.round(i[4]),Math.round(i[5]),Math.round(o.width*i[0]),Math.round(o.height*i[3])),n.globalAlpha=a,r&&n.restore()}this.qf(n,t,e)},Dd.prototype.Ha=function(t,e,n,o,i){var r=this.a;return r.ia().Ha(t,e.viewState.resolution,e.viewState.rotation,n,e.skippedFeatureUids,function(t){return o.call(i,t,r)})},Dd.prototype.v=function(t,e,n,o){if(this.Y()){if(this.a.ia().Ha!==l)return ef.prototype.v.apply(this,arguments);var i=yr(this.o,t.slice());if($n(i,e.viewState.resolution/this.c),this.g||(this.g=Te(1,1)),this.g.clearRect(0,0,1,1),this.g.drawImage(this.Y(),i[0],i[1],1,1,0,0,1,1),i=this.g.getImageData(0,0,1,1).data,0<i[3])return n.call(o,this.a,i)}},p(Fd,Dd),Fd.prototype.Y=function(){return this.M?this.M.Y():null},Fd.prototype.D=function(){return this.i},Fd.prototype.xd=function(t,e){var n=t.pixelRatio,o=t.size,i=t.viewState,r=i.center,a=i.resolution,s=this.a.ia(),u=t.viewHints,h=t.extent;if(void 0!==e.extent&&(h=Q(h,e.extent)),u[0]||u[1]||it(h)||(e=s.Y(h,a,n,i.projection))&&Hc(this,e)&&(this.M=e),this.M){e=this.M,u=e.G(),h=e.resolution,i=e.a;var p=n*h/(a*i);u=br(this.i,n*o[0]/2,n*o[1]/2,p,p,0,i*(u[0]-r[0])/h,i*(r[1]-u[3])/h),br(this.o,n*o[0]/2-u[4],n*o[1]/2-u[5],n/a,-n/a,0,-r[0],-r[1]),Zc(t.attributions,e.i),Jc(t,s),this.c=a*n/i}return!!this.M},p(Gd,sc),Gd.prototype.ka=function(){1==this.state&&(ae(this.le),this.le=null),sc.prototype.ka.call(this)},Gd.prototype.Y=function(){return this.g},Gd.prototype.je=function(){var t=this.Gb.getState();2==t&&(this.g=Bd(nt(this.f)/this.c,J(this.f)/this.c,this.l,this.Gb.resolution,0,this.c,this.f,this.j,[{extent:this.Gb.G(),image:this.Gb.Y()}],0)),this.state=t,this.s()},Gd.prototype.load=function(){if(0==this.state){this.state=1,this.s();var t=this.Gb.getState();2==t||3==t?this.je():(this.le=oe(this.Gb,"change",function(){var t=this.Gb.getState();2!=t&&3!=t||(ae(this.le),this.le=null,this.je())},this),this.Gb.load())}},p(Wd,_f),Wd.prototype.Y=function(t,e,n,o){var i=this.c;if(i&&o&&!Mt(i,o)){if(this.i){if(this.ga==this.f&&Mt(this.i.v,o)&&this.i.resolution==e&&U(this.i.G(),t))return this.i;he(this.i),this.i=null}return this.i=new Gd(i,o,t,e,n,function(t,e,n){return this.Lc(t,e,n,i)}.bind(this)),this.ga=this.f,this.i}return i&&(o=i),this.Lc(t,e,n,o)},Wd.prototype.l=function(t){switch(t=t.target,t.getState()){case 1:this.b(new Hd(lw,t));break;case 2:this.b(new Hd(cw,t));break;case 3:this.b(new Hd(fw,t))}},p(Hd,pe);var lw="imageloadstart",cw="imageloadend",fw="imageloaderror";p(Vd,Wd),Vd.prototype.Lc=function(t,e,n,o){e=zd(this,e);var i=this.S;return i&&this.U==this.f&&i.resolution==e&&i.a==n&&k(i.G(),t)?i:(t=t.slice(),rt(t,this.va),(o=this.oa(t,e,n,[nt(t)/e*n,J(t)/e*n],o))&&(i=new hc(t,e,n,this.j,o)),this.S=i,this.U=this.f,i)},p($d,Vd),Cv=$d.prototype,Cv.Ek=function(t,e,n,o,i){var r=new Xc(.5*e/n,t,e,this.a.U,this.Sa);this.a.ce(t,e,i);var a=!1;return this.a.ac(t,function(t){var o;if(!(o=a)){var i;if((o=t.bb())?i=o.call(t,e):this.v&&(i=this.v(t,e)),i){var s,u=!1;for(Array.isArray(i)||(i=[i]),o=0,s=i.length;o<s;++o)u=uf(r,t,i[o],sf(e,n),this.Do,this)||u;o=u}else o=!1}a=o},this),Gc(r),a?null:(this.o[0]!=o[0]||this.o[1]!=o[1]?(this.g.canvas.width=o[0],this.g.canvas.height=o[1],this.o[0]=o[0],this.o[1]=o[1]):this.g.clearRect(0,0,o[0],o[1]),t=Zd(this,$(t),e,n,o),r.Ma(this.g,n,t,0,{}),this.C=r,this.g.canvas)},Cv.Ha=function(t,e,n,o,i,r){if(this.C){var a={};return this.C.Ha(t,e,0,o,i,function(t){var e=c(t).toString();if(!(e in a))return a[e]=!0,r(t)})}},Cv.Bo=function(){return this.a},Cv.Co=function(){return this.I},Cv.bb=function(){return this.v},Cv.Do=function(){this.s()},Cv.Eo=function(){wf(this,this.a.getState())},Cv.Si=function(t){this.I=void 0!==t?t:nu,this.v=t?eu(this.I):void 0,this.s()},p(Jd,df),Jd.prototype.Ha=function(t,e,n,o,i){var r=this.a;return r.ia().Ha(t,e.viewState.resolution,e.viewState.rotation,n,e.skippedFeatureUids,function(t){return o.call(i,t,r)})},Jd.prototype.vg=function(t,e){var n=this.c.f,o=t.pixelRatio,i=t.viewState,r=i.center,a=i.resolution,s=i.rotation,u=this.M,h=this.Hb,p=this.a.ia(),l=t.viewHints,c=t.extent;return void 0!==e.extent&&(c=Q(c,e.extent)),l[0]||l[1]||it(c)||(e=p.Y(c,a,o,i.projection))&&Hc(this,e)&&(u=e,h=Qd(this,e),this.Hb&&t.postRenderFunctions.push(function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,n,this.Hb))),u&&(n=this.c.i.j,ty(this,n.width,n.height,o,r,a,s,u.G()),this.l=null,o=this.v,lr(o),gr(o,1,-1),mr(o,0,-1),this.M=u,this.Hb=h,Zc(t.attributions,u.i),Jc(t,p)),!!u},Jd.prototype.ef=function(t,e){return void 0!==this.Ha(t,e,0,eo,this)},Jd.prototype.tg=function(t,e,n,o){if(this.M&&this.M.Y())if(this.a.ia()instanceof $d){var i=yr(e.pixelToCoordinateTransform,t.slice());if(this.Ha(i,e,0,eo,this))return n.call(o,this.a,null)}else{if(i=[this.M.Y().width,this.M.Y().height],!this.l){var r=e.size;e=pr(),mr(e,-1,-1),gr(e,2/r[0],2/r[1]),mr(e,0,r[1]),gr(e,1,-1),r=_r(this.R.slice());var a=pr();mr(a,0,i[1]),gr(a,1,-1),gr(a,i[0]/2,i[1]/2),mr(a,1,1),cr(a,r),cr(a,e),this.l=a}if(t=yr(this.l,t.slice()),!(0>t[0]||t[0]>i[0]||0>t[1]||t[1]>i[1])&&(this.i||(this.i=Te(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.M.Y(),t[0],t[1],1,1,0,0,1,1),i=this.i.getImageData(0,0,1,1).data,0<i[3]))return n.call(o,this.a,i)}},p(ey,sr),ey.prototype.Kd=function(t){var e=null,n=t.T();return"canvas"===n?e=new Fd(this):"webgl"===n&&(e=new Jd(t,this)),e},p(ny,Dd),ny.prototype.xd=function(t,n){var o=t.pixelRatio,i=t.size,r=t.viewState,a=r.projection,s=r.resolution;r=r.center;var u=this.a,h=u.ia(),p=h.f,l=h.Ta(a),c=l.uc(s,this.S),f=l.Ca(c),d=Math.round(s/f)||1,y=t.extent;if(void 0!==n.extent&&(y=Q(y,n.extent)),it(y))return!1;var v=Kt(l,y,f),g=l.Sc(c),m=l.Ca(c),b=A(l.eb(c),l.j);g=j(g[0]+v.ca*b[0]*m,g[1]+v.ea*b[1]*m,g[0]+(v.da+1)*b[0]*m,g[1]+(v.ha+1)*b[1]*m,void 0),m=h.Oc(o),b={},b[c]={};var _,x,w=this.Uf(h,a,b),P=this.l,S=this.oa,C=!1;for(_=v.ca;_<=v.da;++_)for(x=v.ea;x<=v.ha;++x){var M=h.Qc(c,_,x,o,a);3==M.getState()&&(u.pd()?0<u.ld()&&(C=!0):fc(M,2)),oy(this,M)||(M=lc(M)),oy(this,M)?2==M.getState()&&(b[c][M.sa.toString()]=M,C||-1!=this.i.indexOf(M)||(C=!0)):Ft(l,M.sa,w,S,P)||(M=jt(l,M.sa,S,P))&&w(c+1,M)}if(_=t.viewHints,_=_[0]||_[1],!(this.c&&16<Date.now()-t.time&&_||!C&&this.j&&k(this.j,y)&&this.xf==p&&d==this.I&&(_||f*o/m*d==this.c))){(_=this.context)&&(x=h.be(c,o,a),M=Math.round((v.da-v.ca+1)*x[0]/d),x=Math.round((v.ha-v.ea+1)*x[1]/d),C=_.canvas,C.width!=M||C.height!=x?(this.I=d,C.width=M,C.height=x):(_.clearRect(0,0,M,x),d=this.I)),this.i.length=0,C=Object.keys(b).map(Number),C.sort(e);var T;for(S=0,T=C.length;S<T;++S){_=C[S],w=h.be(_,o,a),M=l.Ca(_);var E=M/f,I=m*h.bg(a),L=b[_];for(var N in L){M=L[N],x=l.Fa(M.sa,P),_=(x[0]-g[0])/f*m/d,x=(g[3]-x[3])/f*m/d;var O=w[0]*E/d,R=w[1]*E/d;this.Vf(M,t,n,_,x,O,R,I),this.i.push(M)}}this.xf=p,this.c=f*o/m*d,this.j=g}return n=this.c/s,n=br(this.B,o*i[0]/2,o*i[1]/2,n,n,0,(this.j[0]-r[0])/this.c*o,(r[1]-this.j[3])/this.c*o),br(this.o,o*i[0]/2-n[4],o*i[1]/2-n[5],o/s,-o/s,0,-r[0],-r[1]),Qc(t.usedTiles,h,c,v),tf(t,h,l,o,a,y,c,u.ld()),$c(t,h),Jc(t,h),0<this.i.length},ny.prototype.Vf=function(t,e,n,o,i,r,a,s){this.a.ia().gg(e.viewState.projection)||this.context.clearRect(o,i,r,a),(t=t.Y(this.a))&&this.context.drawImage(t,s,s,t.width-2*s,t.height-2*s,o,i,r,a)},ny.prototype.Y=function(){var t=this.context;return t?t.canvas:null},ny.prototype.D=function(){return this.B},p(iy,Xr);var dw=new iy;p(ry,Ur);var yw=new ry;p(sy,df),Cv=sy.prototype,Cv.ka=function(){ra(this.c.i,this.C),df.prototype.ka.call(this)},Cv.Uf=function(t,e,n){var o=this.c;return function(i,r){return wy(t,e,i,r,function(t){var e=o.a.b.hasOwnProperty(t.fb());return e&&(n[i]||(n[i]={}),n[i][t.sa.toString()]=t),e})}},Cv.ug=function(){df.prototype.ug.call(this),this.i=null},Cv.vg=function(t,n,o){var i=this.c,r=o.b,a=t.viewState,s=a.projection,u=this.a,h=u.ia(),p=h.Ta(s),l=p.uc(a.resolution),c=p.Ca(l),f=h.be(l,t.pixelRatio,s),d=f[0]/A(p.eb(l),this.S)[0],v=c/d,m=h.Oc(d)*h.bg(s),b=a.center,x=t.extent,w=Kt(p,x,c);if(this.l&&g(this.l,w)&&this.o==h.f)v=this.D;else{var P=[w.da-w.ca+1,w.ha-w.ea+1],S=_(Math.max(P[0]*f[0],P[1]*f[1]));P=v*S;var C=p.Sc(l),M=C[0]+w.ca*f[0]*v;v=C[1]+w.ea*f[1]*v,v=[M,v,M+P,v+P],yf(this,t,S),r.viewport(0,0,S,S),r.clearColor(0,0,0,0),r.clear(16384),r.disable(3042),S=ua(o,this.I,this.ga),o.Tc(S),this.i||(this.i=new ay(r,S)),ia(o,34962,this.C),r.enableVertexAttribArray(this.i.b),r.vertexAttribPointer(this.i.b,2,5126,!1,16,0),r.enableVertexAttribArray(this.i.a),r.vertexAttribPointer(this.i.a,2,5126,!1,16,8),r.uniform1i(this.i.f,0),o={},o[l]={};var T=this.Uf(h,s,o),E=u.pd();S=!0,M=F();var I,L,N=new y(0,0,0,0);for(I=w.ca;I<=w.da;++I)for(L=w.ea;L<=w.ha;++L){if(C=h.Qc(l,I,L,d,s),void 0!==n.extent){var O=p.Fa(C.sa,M);if(!ot(O,n.extent))continue}if(O=C.getState(),(O=2==O||4==O||3==O&&!E)||(C=lc(C)),O=C.getState(),2==O){if(i.a.b.hasOwnProperty(C.fb())){o[l][C.sa.toString()]=C;continue}}else if(4==O||3==O&&!E)continue;S=!1,O=Ft(p,C.sa,T,N,M),O||(C=jt(p,C.sa,N,M))&&T(l+1,C)}n=Object.keys(o).map(Number),n.sort(e),T=new Float32Array(4);var k;for(E=0,N=n.length;E<N;++E)for(k in I=o[n[E]])C=I[k],O=p.Fa(C.sa,M),T[0]=2*(O[2]-O[0])/P,T[1]=2*(O[3]-O[1])/P,T[2]=2*(O[0]-v[0])/P-1,T[3]=2*(O[1]-v[1])/P-1,r.uniform4fv(this.i.c,T),Ms(i,C,f,m*d),r.drawArrays(5,0,4);S?(this.l=w,this.D=v,this.o=h.f):(this.D=this.l=null,this.o=-1,t.animate=!0)}Qc(t.usedTiles,h,l,w);var R=i.j;return tf(t,h,p,d,s,x,l,u.ld(),function(t){2!=t.getState()||i.a.b.hasOwnProperty(t.fb())||t.fb()in R.a||R.i([t,Xt(p,t.sa),p.Ca(t.sa[0]),f,m*d])},this),$c(t,h),Jc(t,h),r=this.v,lr(r),mr(r,(Math.round(b[0]/c)*c-v[0])/(v[2]-v[0]),(Math.round(b[1]/c)*c-v[1])/(v[3]-v[1])),a.rotation&&vr(r,a.rotation),gr(r,t.size[0]*a.resolution/(v[2]-v[0]),t.size[1]*a.resolution/(v[3]-v[1])),mr(r,-.5,-.5),!0},Cv.tg=function(t,e,n,o){if(this.g){t=yr(this.v,[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]].slice()),t=[t[0]*this.j,t[1]*this.j],e=this.c.i.b,e.bindFramebuffer(e.FRAMEBUFFER,this.g);var i=new Uint8Array(4);if(e.readPixels(t[0],t[1],1,1,e.RGBA,e.UNSIGNED_BYTE,i),0<i[3])return n.call(o,this.a,i)}},p(uy,sr),Cv=uy.prototype,Cv.Kd=function(t){var e=null,n=t.T();return"canvas"===n?e=new ny(this):"webgl"===n&&(e=new sy(t,this)),e},Cv.ld=function(){return this.get("preload")},Cv.Ji=function(t){this.set("preload",t)},Cv.pd=function(){return this.get("useInterimTilesOnError")},Cv.Ki=function(t){this.set("useInterimTilesOnError",t)},p(hy,ny);var vw={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"]},gw={image:["Default"],hybrid:["Image","Text","Default"],vector:Og};Cv=hy.prototype,Cv.xd=function(t,e){var n=this.a,o=n.f;return this.ga!=o&&(this.i.length=0,n=n.g,this.context||"vector"==n||(this.context=Te()),this.context&&"vector"==n&&(this.context=null)),this.ga=o,ny.prototype.xd.apply(this,arguments)},Cv.Vf=function(t,e){var n=t,o=this.a,i=e.pixelRatio,r=e.viewState.projection,a=o.f,s=o.get(ew)||null,u=dv(n,o);if(u.Sd||u.xf!=a||u.Sg!=s){var h=o.ia(),p=h.tileGrid,l=h.Ta(r),f=l.Ca(n.sa[0]);l=l.Fa(n.v);for(var d=0,y=n.f.length;d<y;++d){var v=n.c[n.f[d]];u.Sd=!1;var g,m=v.f,b=p.Ca(v.sa[0]),_=p.Fa(v.sa),x=Q(l,_);if("tile-pixels"==m.b){var w=g=py(h,v);b=br(this.R,0,0,1/b*w,-1/b*w,0,-_[0],-_[3]),x=yr(b,[x[0],x[3]]).concat(yr(b,[x[2],x[1]]))}else if(g=f,!Mt(r,m)){var P=!0;v.qg(r)}for(u.Sd=!1,x=new Xc(0,x,g,h.o,o.c),g=sf(g,i),b=v.c,s&&s!==u.Sg&&b.sort(s),_=0,w=b.length;_<w;++_){var S=b[_];P&&S.V().wb(m,r);var C=void 0,M=S.bb();if(M?C=M.call(S,f):(M=o.bb())&&(C=M(S,f)),C){Array.isArray(C)||(C=[C]),M=g;var T=x;if(C){var A=!1;if(Array.isArray(C))for(var E=0,I=C.length;E<I;++E)A=uf(T,S,C[E],M,this.Pi,this)||A;else A=uf(T,S,C,M,this.Pi,this)||A;S=A}else S=!1;this.C=this.C||S,u.Sd=u.Sd||S}}Gc(x),m=n.sa.toString(),v.j[c(o)+","+m]=x}u.xf=a,u.Sg=s}if(this.context){if(p=e,o=this.a,r=dv(n,o),a=o.f,(i=vw[o.g])&&r.Tg!==a)for(r.Tg=a,f=n.v,l=f[0],r=p.pixelRatio,a=o.ia(),s=a.tileGrid,P=a.Ta(p.viewState.projection),u=P.Ca(l),h=fv(n,o),p=a.be(l,r,p.viewState.projection),h.canvas.width=p[0],h.canvas.height=p[1],p=P.Fa(f),f=0,P=n.f.length;f<P;++f)l=n.c[n.f[f]],d=py(a,l),m=l.sa,v=r/u,y=lr(this.R),"tile-pixels"==l.f.b?(v=s.Fa(m,this.l),m=s.Ca(m[0]),x=r/d*m/u,gr(y,x,x),mr(y,Math.round((v[0]-p[0])/m*d),Math.round((p[3]-v[3])/m*d))):(gr(y,v,-v),mr(y,-p[0],-p[3])),gv(l,o,n.sa.toString()).Ma(h,r,y,0,{},i,!0);ny.prototype.Vf.apply(this,arguments)}},Cv.Ha=function(t,e,n,o,i){var r=e.viewState.resolution,a=e.viewState.rotation;n=void 0==n?0:n;var s=this.a,u={},h=this.i,p=s.ia();e=p.Ta(e.viewState.projection);var l,f=p.tileGrid,d=0;for(l=h.length;d<l;++d){var y=h[d],v=y.sa,g=e.Fa(v,this.l),m=I(g,n*r,m);if(O(m,t)){g=0;for(var b=y.f.length;g<b;++g){var _=y.c[y.f[g]];if("tile-pixels"===_.f.b){var x=_.sa;r=f.Fa(x,this.l);var w=tt(r);r=py(p,_),x=f.Ca(x[0]);var P=x/r;w=[(t[0]-w[0])/P,(w[1]-t[1])/P],r*=e.Ca(v[0])/x}else w=t;_=gv(_,s,y.sa.toString());var S=S||_.Ha(w,r,a,n,{},function(t){var e=c(t).toString();if(!(e in u))return u[e]=!0,o.call(i,t,s)})}}}return S},Cv.Pi=function(){Vc(this)},Cv.qf=function(t,e,n){var o=this.a,i=o.ia(),r=o.g,a=gw[r],s=e.pixelRatio,u=e.viewState.rotation,h=e.size,p=Math.round(s*h[0]/2);h=Math.round(s*h[1]/2);for(var l=this.i,c=i.tileGrid,f=i.Ta(e.viewState.projection),d=[],y=[],v=l.length-1;0<=v;--v){var g=l[v];if(5!=g.getState())for(var m=g.sa,b=f.Fa(m)[0]-f.Fa(g.v)[0],_=0,x=g.f.length;_<x;++_){var w,P=g.c[g.f[_]],S=py(i,P),C=gv(P,o,m.toString());if(!(w="vector"==r))t:{w=void 0;for(w in C.a)for(var M=C.a[w],T=0,A=a.length;T<A;++T)if(a[T]in M){w=!0;break t}w=!1}if(w){if(w=P.sa[0],M=c.Ca(w),T=P,P=e,"tile-pixels"==T.f.b){A=this.a.ia();var E=A.tileGrid,I=T.sa;T=E.Ca(I[0])/py(A,T),A=P.viewState;var L=P.pixelRatio,N=A.resolution/L;I=E.Fa(I,this.l),E=A.center,I=tt(I),P=P.size,P=br(this.R,Math.round(L*P[0]/2),Math.round(L*P[1]/2),T/N,T/N,A.rotation,(I[0]-E[0])/T,(E[1]-I[1])/T)}else P=rf(this,P,0);for(mr(P,b*S/M,0),S=Wc(C,P),t.save(),t.globalAlpha=n.opacity,Ar(t,-u,p,h),M=0,T=d.length;M<T;++M)A=d[M],w<y[M]&&(t.beginPath(),t.moveTo(S[0],S[1]),t.lineTo(S[2],S[3]),t.lineTo(S[4],S[5]),t.lineTo(S[6],S[7]),t.moveTo(A[6],A[7]),t.lineTo(A[4],A[5]),t.lineTo(A[2],A[3]),t.lineTo(A[0],A[1]),t.clip());C.Ma(t,s,P,u,{},a),t.restore(),d.push(S),y.push(w)}}}ny.prototype.qf.apply(this,arguments)},p(ly,mf),Cv=ly.prototype,Cv.Kd=function(t){var e=null;return"canvas"===t.T()&&(e=new hy(this)),e},Cv.ld=function(){return this.get("preload")},Cv.pd=function(){return this.get("useInterimTilesOnError")},Cv.Li=function(t){this.set("preload",t)},Cv.Mi=function(t){this.set("useInterimTilesOnError",t)},p(fy,pc),fy.prototype.ka=function(){1==this.state&&(this.Dd.forEach(ae),this.Dd=null),pc.prototype.ka.call(this)},fy.prototype.Y=function(){return this.v},fy.prototype.je=function(){var t=[];if(this.f.forEach(function(e){e&&2==e.getState()&&t.push({extent:this.c.Fa(e.sa),image:e.Y()})},this),this.f.length=0,t.length){var e=this.l[0],n=this.j.eb(e),o="number"==typeof n?n:n[0];n="number"==typeof n?n:n[1],e=this.j.Ca(e);var i=this.c.Ca(this.g),r=this.j.Fa(this.l);this.v=Bd(o,n,this.R,i,this.c.G(),e,r,this.o,t,this.u,this.D),this.state=2}else this.state=3;this.s()},fy.prototype.load=function(){if(0==this.state){this.state=1,this.s();var t=0;this.Dd=[],this.f.forEach(function(e){var n=e.getState();if(0==n||1==n){t++;var o=oe(e,"change",function(){var n=e.getState();2!=n&&3!=n&&4!=n||(ae(o),t--,t||(this.Dd.forEach(ae),this.Dd=null,this.je()))},this);this.Dd.push(o)}},this),this.f.forEach(function(t){0==t.getState()&&t.load()}),t||setTimeout(this.je.bind(this),0)}},p(by,Ss),by.prototype.jd=function(t){for(var e,n;_y(this);){e=this.a.bd,n=e.sa[0].toString();var o;if((o=n in t)&&(e=e.sa,o=v(t[n],e[1],e[2])),o)break;he(this.pop())}},p(xy,_f),Cv=xy.prototype,Cv.Ui=function(){return _y(this.a)},Cv.jd=function(t,e){(t=this.ae(t))&&t.jd(e)},Cv.bg=function(){return 0},Cv.Rb=function(t,e,n){return t+"/"+e+"/"+n},Cv.gg=function(){return this.va},Cv.cb=function(){return this.tileGrid},Cv.Ta=function(t){return this.tileGrid?this.tileGrid:Gt(t)},Cv.ae=function(t){var e=this.c;return e&&!Mt(e,t)?null:this.a},Cv.Oc=function(){return this.Za},Cv.be=function(t,e,n){return n=this.Ta(n),e=this.Oc(e),t=A(n.eb(t),this.l),1==e?t:T(t,e,this.l)},Cv.ra=function(){this.a.clear(),this.s()},Cv.Zg=l,p(Cy,pe),p(My,xy),Cv=My.prototype,Cv.sb=function(){return this.tileLoadFunction},Cv.tb=function(){return this.tileUrlFunction},Cv.ub=function(){return this.urls},Cv.Vi=function(t){switch(t=t.target,t.getState()){case 1:this.b(new Cy("tileloadstart",t));break;case 2:this.b(new Cy("tileloadend",t));break;case 3:this.b(new Cy("tileloaderror",t))}},Cv.zb=function(t){this.a.clear(),this.tileLoadFunction=t,this.s()},Cv.hb=function(t,e){this.tileUrlFunction=t,"undefined"!=typeof e?Py(this,e):this.s()},Cv.mb=function(t){var e=this.urls=my(t);this.hb(this.Hc?this.Hc.bind(this):yy(e,this.tileGrid),t)},Cv.ib=function(t){this.urls=t;var e=t.join("\n");this.hb(this.Hc?this.Hc.bind(this):yy(t,this.tileGrid),e)},Cv.Zg=function(t,e,n){t=this.Rb(t,e,n),this.a.b.hasOwnProperty(t)&&this.a.get(t)},p(Ty,My),Cv=Ty.prototype,Cv.Ui=function(){if(_y(this.a))return!0;for(var t in this.g)if(_y(this.g[t]))return!0;return!1},Cv.jd=function(t,e){t=this.ae(t),this.a.jd(this.a==t?e:{});for(var n in this.g){var o=this.g[n];o.jd(o==t?e:{})}},Cv.bg=function(t){return this.c&&t&&!Mt(this.c,t)?0:this.cg()},Cv.cg=function(){return 0},Cv.gg=function(t){return!(this.c&&t&&!Mt(this.c,t))&&My.prototype.gg.call(this,t)},Cv.Ta=function(t){var e=this.c;return!this.tileGrid||e&&!Mt(e,t)?(e=c(t).toString(),e in this.v||(this.v[e]=Gt(t)),this.v[e]):this.tileGrid},Cv.ae=function(t){var e=this.c;return!e||Mt(e,t)?this.a:(t=c(t).toString(),t in this.g||(this.g[t]=new by(this.a.highWaterMark)),this.g[t])},Cv.Qc=function(t,e,n,o,i){if(this.c&&i&&!Mt(this.c,i)){var r=this.ae(i);n=[t,e,n];var a;if(t=this.Rb.apply(this,n),r.b.hasOwnProperty(t)&&(a=r.get(t)),e=this.vc,a&&a.key==e)return a;var s=this.c,u=this.Ta(s),h=this.Ta(i),p=Sy(this,n,i);return o=new fy(s,u,i,h,n,p,this.Oc(o),this.cg(),function(t,e,n,o){return Ey(this,t,e,n,o,s)}.bind(this),this.Sa,this.I),o.key=e,a?(o.a=a,cc(o),r.replace(t,o)):r.set(t,o),o}return Ey(this,t,e,n,o,i)},Cv.Nb=function(t){if(this.I!=t){this.I=t;for(var e in this.g)this.g[e].clear();this.s()}},Cv.Ob=function(t,e){(t=Ct(t))&&(t=c(t).toString(),t in this.v||(this.v[t]=e))},p(Ly,Ty);var mw=new Vt({html:'<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});Ly.prototype.U=function(){return this.o},Ly.prototype.ga=function(){return this.B},Ly.prototype.oa=function(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)wf(this,"error");else{var e=t.brandLogoUri;-1==e.indexOf("https")&&(e=e.replace("http","https"));var n=t.resourceSets[0].resources[0],o=-1==this.C?n.zoomMax:this.C;t=Ht(this.c);var i=Wt({extent:t,minZoom:n.zoomMin,maxZoom:o,tileSize:(n.imageWidth==n.imageHeight?n.imageWidth:[n.imageWidth,n.imageHeight])/(this.i?2:1)});this.tileGrid=i;var r=this.S,a=this.i;if(this.tileUrlFunction=vy(n.imageUrlSubdomains.map(function(t){var e=[0,0,0],o=n.imageUrl.replace("{subdomain}",t).replace("{culture}",r);return function(t){if(t)return kt(t[0],t[1],-t[2]-1,e),t=o,a&&(t+="&dpi=d1&device=mobile"),t.replace("{quadkey}",Rt(e))}})),n.imageryProviders){var s=At(Ct("EPSG:4326"),this.c);t=n.imageryProviders.map(function(t){var e=t.attribution,n={};return t.coverageAreas.forEach(function(t){var e=t.zoomMin,r=Math.min(t.zoomMax,o);t=t.bbox,t=at([t[1],t[0],t[3],t[2]],s);var a;for(a=e;a<=r;++a){var u=a.toString();e=Bt(i,t,a),u in n?n[u].push(e):n[u]=[e]}}),new Vt({html:e,tileRanges:n})}),t.push(mw),this.wa(t)}this.D=e,wf(this,"ready")}},p(Ny,Ty),p(Oy,Ny),Cv=Oy.prototype,Cv.Vk=function(){return this.i},Cv.Hq=function(t){Nv(this.i,t),ky(this)},Cv.kq=function(t){this.i=t||{},ky(this)},Cv.Pl=function(t,e){if(e=e.target,!e.status||200<=e.status&&300>e.status){try{var n=JSON.parse(e.responseText)}catch(t){return void wf(this,"error");
}Ry(this,n),this.o[t]=n,wf(this,"ready")}else wf(this,"error")},Cv.Ol=function(){wf(this,"error")},p(Dy,Pf),Cv=Dy.prototype,Cv.po=function(){return this.distance},Cv.qo=function(){return this.source},Cv.ce=function(t,e,n){this.source.ce(t,e,n),e!==this.resolution&&(this.clear(),this.resolution=e,Fy(this),this.Ec(this.features))},Cv.lq=function(t){this.distance=t,this.ra()},Cv.ra=function(){this.clear(),Fy(this),this.Ec(this.features),Pf.prototype.ra.call(this)},p(By,Wd),Cv=By.prototype,Cv.so=function(){return this.v},Cv.Lc=function(t,e,n,o){if(void 0===this.a)return null;e=zd(this,e),n=this.U?n:1;var i=this.M;if(i&&this.I==this.f&&i.resolution==e&&i.a==n&&k(i.G(),t))return i;i={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},Nv(i,this.v),t=t.slice();var r=(t[0]+t[2])/2,a=(t[1]+t[3])/2;if(1!=this.C){var s=this.C*nt(t)/2,u=this.C*J(t)/2;t[0]=r-s,t[1]=a-u,t[2]=r+s,t[3]=a+u}s=e/n,u=Math.ceil(nt(t)/s);var h=Math.ceil(J(t)/s);return t[0]=r-s*u/2,t[2]=r+s*u/2,t[1]=a-s*h/2,t[3]=a+s*h/2,this.o[0]=u,this.o[1]=h,r=t,a=this.o,s=n,o=o.pb.split(":").pop(),i.SIZE=a[0]+","+a[1],i.BBOX=r.join(","),i.BBOXSR=o,i.IMAGESR=o,i.DPI=Math.round(90*s),o=this.a,r=o.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),r==o&&d(!1,50),i=Ky(r,i),this.M=new uc(t,e,n,this.j,i,this.S,this.g),this.I=this.f,oe(this.M,"change",this.l,this),this.M},Cv.ro=function(){return this.g},Cv.to=function(){return this.a},Cv.uo=function(t){this.M=null,this.g=t,this.s()},Cv.vo=function(t){t!=this.a&&(this.a=t,this.M=null,this.s())},Cv.wo=function(t){Nv(this.v,t),this.M=null,this.s()},p(Xy,Wd),Cv=Xy.prototype,Cv.yo=function(){return this.g},Cv.Lc=function(t,e,n){e=zd(this,e),n=this.U?n:1;var o=this.M;if(o&&this.C==this.f&&o.resolution==e&&o.a==n&&k(o.G(),t))return o;1!=this.v&&(t=t.slice(),rt(t,this.v));var i=[nt(t)/e*n,J(t)/e*n];if(void 0!==this.I){o=this.I;var r=$(t),a=this.oa,s=nt(t),u=J(t),h=i[0],p=i[1],l=.0254/this.o;i={OPERATION:this.va?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.o,SETDISPLAYWIDTH:Math.round(i[0]),SETDISPLAYHEIGHT:Math.round(i[1]),SETVIEWSCALE:p*s>h*u?s*a/(h*l):u*a/(p*l),SETVIEWCENTERX:r[0],SETVIEWCENTERY:r[1]},Nv(i,this.g),o=Ky(o,i),o=new uc(t,e,n,this.j,o,this.S,this.a),oe(o,"change",this.l,this)}else o=null;return this.M=o,this.C=this.f,o},Cv.xo=function(){return this.a},Cv.Ao=function(t){Nv(this.g,t),this.s()},Cv.zo=function(t){this.M=null,this.a=t,this.s()},p(Uy,Wd),Uy.prototype.Lc=function(t){return ot(t,this.M.G())?this.M:null},Uy.prototype.l=function(t){if(2==this.M.getState()){var e=this.M.G(),n=this.M.Y();if(this.a)var o=this.a[0],i=this.a[1];else o=n.width,i=n.height;if(e=Math.ceil(nt(e)/(J(e)/i)),e!=o){e=Te(e,i);var r=e.canvas;e.drawImage(n,0,0,o,i,0,0,r.width,r.height),this.M.Wg(r)}}Wd.prototype.l.call(this,t)},p(Yy,Wd);var bw=[101,101];Cv=Yy.prototype,Cv.Fo=function(t,e,n,o){if(void 0!==this.g){var i=Z(t,e,0,bw),r={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.a.LAYERS};return Nv(r,this.a,o),o=Math.floor((i[3]-t[1])/e),r[this.o?"I":"X"]=Math.floor((t[0]-i[0])/e),r[this.o?"J":"Y"]=o,Gy(this,i,bw,1,Ct(n),r)}},Cv.Ho=function(){return this.a},Cv.Lc=function(t,e,n,o){if(void 0===this.g)return null;e=zd(this,e),1==n||this.va&&void 0!==this.U||(n=1);var i=e/n,r=$(t),a=Z(r,i,0,[Math.ceil(nt(t)/i),Math.ceil(J(t)/i)]);return t=Z(r,i,0,[Math.ceil(this.I*nt(t)/i),Math.ceil(this.I*J(t)/i)]),(r=this.M)&&this.S==this.f&&r.resolution==e&&r.a==n&&k(r.G(),a)?r:(a={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},Nv(a,this.a),this.C[0]=Math.round(nt(t)/i),this.C[1]=Math.round(J(t)/i),o=Gy(this,t,this.C,n,o,a),this.M=new uc(t,e,n,this.j,o,this.oa,this.v),this.S=this.f,oe(this.M,"change",this.l,this),this.M)},Cv.Go=function(){return this.v},Cv.Io=function(){return this.g},Cv.Jo=function(t){this.M=null,this.v=t,this.s()},Cv.Ko=function(t){t!=this.g&&(this.g=t,this.M=null,this.s())},Cv.Lo=function(t){Nv(this.a,t),Wy(this),this.M=null,this.s()},p(zy,Ny);var _w=new Vt({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});em.pf={},em.pf.Jf=function(){},function(t){function e(t,e,n){return a?new ImageData(t,e,n):(e=s.createImageData(e,n),e.data.set(t),e)}function n(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}return function(n){var o=n.buffers,i=n.meta,r=n.width,a=n.height,s=o.length,u=o[0].byteLength;if(n.imageOps){for(u=Array(s),n=0;n<s;++n){var h=n,p=new Uint8ClampedArray(o[n]),l=r,c=a;p=e?new ImageData(p,l,c):{data:p,width:l,height:c},u[h]=p}r=t(u,i).data}else{for(r=new Uint8ClampedArray(u),a=Array(s),h=Array(s),n=0;n<s;++n)a[n]=new Uint8ClampedArray(o[n]),h[n]=[0,0,0,0];for(o=0;o<u;o+=4){for(n=0;n<s;++n)p=a[n],h[n][0]=p[o],h[n][1]=p[o+1],h[n][2]=p[o+2],h[n][3]=p[o+3];n=t(h,i),r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}}return r.buffer}}function o(t,e){var o=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+n.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);return o=URL.createObjectURL(new Blob(o,{type:"text/javascript"})),o=new Worker(o),o.addEventListener("message",e),o}function i(t,e){var o=n(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:o(t),meta:t.meta}})},0)}}}function r(t){this.Nf=!!t.nm;var e;e=0===t.threads?0:this.Nf?1:t.threads||1;var n=[];if(e)for(var r=0;r<e;++r)n[r]=o(t,this.lh.bind(this,r));else n[0]=i(t,this.lh.bind(this,0));this.Ae=n,this.Jd=[],this.qk=t.Ep||1/0,this.ye=0,this.fd={},this.Of=null}var a=!0;try{new ImageData(10,10)}catch(t){a=!1}var s=document.createElement("canvas").getContext("2d");r.prototype.Cp=function(t,e,n){this.nk({inputs:t,Zh:e,callback:n}),this.ih()},r.prototype.nk=function(t){for(this.Jd.push(t);this.Jd.length>this.qk;)this.Jd.shift().callback(null,null)},r.prototype.ih=function(){if(0===this.ye&&0<this.Jd.length){var t=this.Of=this.Jd.shift(),e=t.inputs[0].width,n=t.inputs[0].height,o=t.inputs.map(function(t){return t.data.buffer}),i=this.Ae.length;if(this.ye=i,1===i)this.Ae[0].postMessage({buffers:o,meta:t.Zh,imageOps:this.Nf,width:e,height:n},o);else for(var r=4*Math.ceil(t.inputs[0].data.length/4/i),a=0;a<i;++a){for(var s=a*r,u=[],h=0,p=o.length;h<p;++h)u.push(o[a].slice(s,s+r));this.Ae[a].postMessage({buffers:u,meta:t.Zh,imageOps:this.Nf,width:e,height:n},u)}}},r.prototype.lh=function(t,e){this.Xq||(this.fd[t]=e.data,--this.ye,0===this.ye&&this.rk())},r.prototype.rk=function(){var t=this.Of,n=this.Ae.length;if(1===n)var o=new Uint8ClampedArray(this.fd[0].buffer),i=this.fd[0].meta;else{var r=t.inputs[0].data.length;o=new Uint8ClampedArray(r),i=Array(r),r=4*Math.ceil(r/4/n);for(var a=0;a<n;++a){var s=a*r;o.set(new Uint8ClampedArray(this.fd[a].buffer),s),i[a]=this.fd[a].meta}}this.Of=null,this.fd={},t.callback(null,e(o,t.inputs[0].width,t.inputs[0].height),i),this.ih()},t.default={Jf:r},t.Jf=r}(em.pf=em.pf||{}),p(qy,Wd),qy.prototype.v=function(t,e){this.C=new em.pf.Jf({operation:t,nm:"image"===this.va,Ep:1,lib:e,threads:this.Sa}),this.s()},qy.prototype.Y=function(t,e,n,o){n=!0;for(var i,r=0,a=this.g.length;r<a;++r)if(i=this.g[r].a.ia(),"ready"!==i.getState()){n=!1;break}if(!n)return null;if(n=Nv({},this.I),n.viewState=Nv({},n.viewState),i=$(t),n.extent=t.slice(),n.focus=i,n.size[0]=Math.round(nt(t)/e),n.size[1]=Math.round(J(t)/e),r=n.viewState,r.center=i,r.projection=o,r.resolution=e,this.o=n,this.a&&(o=this.a.resolution,i=this.a.G(),e===o&&U(t,i)||(this.a=null)),!this.a||this.f!==this.S)t:{for(t=this.o,o=this.g.length,e=Array(o),i=0;i<o;++i){r=this.g[i],a=t;var s=t.layerStatesArray[i];if(r.xd(a,s)){var u=a.size[0],h=a.size[1];if(xw){var p=xw.canvas;p.width!==u||p.height!==h?xw=Te(u,h):xw.clearRect(0,0,u,h)}else xw=Te(u,h);r.u(a,s,xw),r=xw.getImageData(0,0,u,h)}else r=null;if(!r)break t;e[i]=r}o={},this.b(new $y(ww,t,o)),this.C.Cp(e,o,this.oa.bind(this,t))}return kn(n.tileQueue,16,16),this.a},qy.prototype.oa=function(t,e,n,o){if(!e&&n){e=t.extent;var i=t.viewState.resolution;if(i===this.o.viewState.resolution&&U(e,this.o.extent)){if(this.a)var r=this.a.Y().getContext("2d");else r=Te(Math.round(nt(e)/i),Math.round(J(e)/i)),this.a=new hc(e,i,1,this.j,r.canvas);r.putImageData(n,0,0),this.s(),this.S=this.f,this.b(new $y(Pw,t,o))}}};var xw=null;p($y,pe),qy.prototype.Lc=function(){return null};var ww="beforeoperations",Pw="afteroperations";p(Zy,Ny);var Sw=[new Vt({html:'Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),_w],Cw={terrain:{Kb:"jpg",opaque:!0},"terrain-background":{Kb:"jpg",opaque:!0},"terrain-labels":{Kb:"png",opaque:!1},"terrain-lines":{Kb:"png",opaque:!1},"toner-background":{Kb:"png",opaque:!0},toner:{Kb:"png",opaque:!0},"toner-hybrid":{Kb:"png",opaque:!1},"toner-labels":{Kb:"png",opaque:!1},"toner-lines":{Kb:"png",opaque:!1},"toner-lite":{Kb:"png",opaque:!0},watercolor:{Kb:"jpg",opaque:!0}},Mw={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};p(Jy,Ty),Jy.prototype.B=function(){return this.i},Jy.prototype.Oc=function(t){return t},Jy.prototype.Hc=function(t,e,n){var o=this.tileGrid;if(o||(o=this.Ta(n)),!(o.b.length<=t[0])){var i=o.Fa(t,this.o),r=A(o.eb(t[0]),this.l);1!=e&&(r=T(r,e,this.l)),o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},Nv(o,this.i);var a=this.urls;return a?(n=n.pb.split(":").pop(),o.SIZE=r[0]+","+r[1],o.BBOX=i.join(","),o.BBOXSR=n,o.IMAGESR=n,o.DPI=Math.round(o.DPI?o.DPI*e:90*e),t=(1==a.length?a[0]:a[S((t[1]<<t[0])+t[2],a.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),t=Ky(t,o)):t=void 0,t}},Jy.prototype.C=function(t){Nv(this.i,t),Py(this,Qy(this))},p(tv,xy),tv.prototype.Qc=function(t,e,n){var o=this.Rb(t,e,n);if(this.a.b.hasOwnProperty(o))return this.a.get(o);var i=A(this.tileGrid.eb(t));return t=[t,e,n],e=(e=Sy(this,t))?Sy(this,e).toString():"",i=new ev(t,i,e),this.a.set(o,i),i},p(ev,pc),ev.prototype.Y=function(){if(this.f)return this.f;var t=this.c,e=Te(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.ua,t[0]/2,t[1]/2),this.f=e.canvas},ev.prototype.load=function(){},p(nv,Ty),Cv=nv.prototype,Cv.No=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.ff()}this.wg(e)}else this.ff()},Cv.Mo=function(){this.ff()},Cv.Bl=function(){return this.i},Cv.wg=function(t){var e=Ct("EPSG:4326"),n=this.c;if(t.bounds)var o=At(e,n),i=at(t.bounds,o);var r=t.minzoom||0;if(o=t.maxzoom||22,this.tileGrid=n=Wt({extent:Ht(n),maxZoom:o,minZoom:r}),this.tileUrlFunction=yy(t.tiles,n),void 0!==t.attribution&&!this.j){e=void 0!==i?i:e.G(),i={};for(var a;r<=o;++r)a=r.toString(),i[a]=[Bt(n,e,r)];this.wa([new Vt({html:t.attribution,tileRanges:i})])}this.i=t,wf(this,"ready")},Cv.ff=function(){wf(this,"error")},p(ov,xy),Cv=ov.prototype,Cv.Ro=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.gf()}this.xg(e)}else this.gf()},Cv.Qo=function(){this.gf()},Cv.yl=function(){return this.g},Cv.Kk=function(t,e,n,o,i){this.tileGrid?(e=this.tileGrid.Me(t,e),rv(this.Qc(e[0],e[1],e[2],1,this.c),t,n,o,i)):!0===i?setTimeout(function(){n.call(o,null)},0):n.call(o,null)},Cv.gf=function(){wf(this,"error")},Cv.xg=function(t){var e=Ct("EPSG:4326"),n=this.c;if(t.bounds)var o=At(e,n),i=at(t.bounds,o);var r=t.minzoom||0;o=t.maxzoom||22,this.tileGrid=n=Wt({extent:Ht(n),maxZoom:o,minZoom:r}),this.g=t.template;var a=t.grids;if(a){if(this.o=yy(a,n),void 0!==t.attribution){for(e=void 0!==i?i:e.G(),i={};r<=o;++r)a=r.toString(),i[a]=[Bt(n,e,r)];this.wa([new Vt({html:t.attribution,tileRanges:i})])}wf(this,"ready")}else wf(this,"error")},Cv.Qc=function(t,e,n,o,i){var r=this.Rb(t,e,n);return this.a.b.hasOwnProperty(r)?this.a.get(r):(t=[t,e,n],e=Sy(this,t,i),o=this.o(e,o,i),o=new iv(t,void 0!==o?0:4,void 0!==o?o:"",this.tileGrid.Fa(t),this.v,this.i),this.a.set(r,o),o)},Cv.Zg=function(t,e,n){t=this.Rb(t,e,n),this.a.b.hasOwnProperty(t)&&this.a.get(t)},p(iv,pc),Cv=iv.prototype,Cv.Y=function(){return null},Cv.getData=function(t){if(!this.g||!this.j)return null;var e=this.g[Math.floor((1-(t[1]-this.f[1])/(this.f[3]-this.f[1]))*this.g.length)];return"string"!=typeof e?null:(e=e.charCodeAt(Math.floor((t[0]-this.f[0])/(this.f[2]-this.f[0])*e.length)),93<=e&&e--,35<=e&&e--,e-=32,t=null,e in this.j&&(e=this.j[e],t=this.c&&e in this.c?this.c[e]:e),t)},Cv.fb=function(){return this.l},Cv.Oe=function(){this.state=3,this.s()},Cv.Ti=function(t){this.g=t.grid,this.j=t.keys,this.c=t.data,this.state=4,this.s()},Cv.Po=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.Oe()}this.Ti(e)}else this.Oe()},Cv.Oo=function(){this.Oe()},Cv.load=function(){this.v&&av(this)},p(sv,Ty),Cv=sv.prototype,Cv.So=function(t,e,n,o){n=Ct(n);var i=this.tileGrid;if(i||(i=this.Ta(n)),e=i.Me(t,e),!(i.b.length<=e[0])){var r=i.Ca(e[0]),a=i.Fa(e,this.ga);i=A(i.eb(e[0]),this.l);var s=this.B;return s&&(i=M(i,s,this.l),a=I(a,r*s,a)),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS},Nv(s,this.i,o),o=Math.floor((a[3]-t[1])/r),s[this.o?"I":"X"]=Math.floor((t[0]-a[0])/r),s[this.o?"J":"Y"]=o,uv(this,e,i,a,1,n,s)}},Cv.cg=function(){return this.B},Cv.Rb=function(t,e,n){return this.S+Ty.prototype.Rb.call(this,t,e,n)},Cv.To=function(){return this.i},Cv.Oc=function(t){return this.U&&void 0!==this.C?t:1},Cv.Hc=function(t,e,n){var o=this.tileGrid;if(o||(o=this.Ta(n)),!(o.b.length<=t[0])){1==e||this.U&&void 0!==this.C||(e=1);var i=o.Ca(t[0]),r=o.Fa(t,this.ga);o=A(o.eb(t[0]),this.l);var a=this.B;return a&&(o=M(o,a,this.l),r=I(r,i*a,r)),1!=e&&(o=T(o,e,this.l)),i={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},Nv(i,this.i),uv(this,t,o,r,e,n,i)}},Cv.ib=function(t){Ty.prototype.ib.call(this,t),hv(this)},Cv.Uo=function(t){Nv(this.i,t),hv(this),lv(this),Py(this,pv(this))},p(cv,pc),Cv=cv.prototype,Cv.ka=function(){for(var t=0,e=this.f.length;t<e;++t){var n=this.f[t],o=this.c[n];o.g--,o.g||(delete this.c[n],he(o))}this.f.length=0,this.c=null,1==this.state&&(this.g.forEach(ae),this.g.length=0),this.a&&he(this.a),this.state=5,this.s(),this.o.forEach(ae),this.o.length=0,pc.prototype.ka.call(this)},Cv.Y=function(t){return-1==dv(this,t).Tg?null:fv(this,t).canvas},Cv.fb=function(){return this.f.join("/")+"/"+this.u},Cv.load=function(){var t=0;0==this.state&&fc(this,1),1==this.state&&this.f.forEach(function(e){var n=this.c[e];if(0==n.state&&(n.Xg(this.R),n.load()),1==n.state){var o=oe(n,"change",function(){var e=n.getState();if(2==e||3==e){--t,ae(o),e=this.g;var i=e.indexOf(o);-1<i&&e.splice(i,1),t||this.zh()}}.bind(this));this.g.push(o),++t}}.bind(this)),t||setTimeout(this.zh.bind(this),0)},Cv.zh=function(){for(var t,e=!1,n=this.f.length,o=n-1;0<=o;--o)t=this.c[this.f[o]].getState(),2!=t&&(3==t&&(e=!0),--n);fc(this,0<n?2:e?3:4)},p(vv,pc),Cv=vv.prototype,Cv.ka=function(){this.c=null,this.j={},this.state=5,this.s(),pc.prototype.ka.call(this)},Cv.G=function(){return this.l||Tw},Cv.Zm=function(){return this.o},Cv.Ym=function(){return this.c},Cv.fb=function(){return this.v},Cv.$m=function(){return this.f},Cv.load=function(){0==this.state&&(fc(this,1),this.R(this,this.v),this.u(null,NaN,null))},Cv.np=function(t,e,n){this.qg(e),this.wj(t),this.hi(n)},Cv.mp=function(){fc(this,3)},Cv.hi=function(t){this.l=t},Cv.wj=function(t){this.c=t,fc(this,2)},Cv.qg=function(t){this.f=t},Cv.Xg=function(t){this.u=t};var Tw=[0,0,4096,4096];p(mv,My),mv.prototype.Qc=function(t,e,n,o,i){var r=this.Rb(t,e,n);return this.a.b.hasOwnProperty(r)?this.a.get(r):(t=[t,e,n],n=(e=Sy(this,t,i))?this.tileUrlFunction(e,o,i):void 0,o=new cv(t,void 0!==n?0:4,void 0!==n?n:"",this.g,this.tileLoadFunction,e,this.tileUrlFunction,this.tileGrid,this.Ta(i),this.v,o,i,this.tileClass,this.Vi.bind(this)),this.a.set(r,o),o)},mv.prototype.Ta=function(t){var e=t.pb,n=this.i[e];return n||(n=this.tileGrid,n=this.i[e]=qt(t,void 0,n?n.eb(n.minZoom):void 0)),n},mv.prototype.Oc=function(t){return t},mv.prototype.be=function(t,e,n){return t=A(this.Ta(n).eb(t)),[Math.round(t[0]*e),Math.round(t[1]*e)]},p(bv,Dt),bv.prototype.o=function(){return this.l},p(xv,Ty),Cv=xv.prototype,Cv.Xk=function(){return this.i},Cv.Vo=function(){return this.B},Cv.Wo=function(){return this.C},Cv.ll=function(){return this.o},Cv.wl=function(){return this.U},Cv.Xo=function(){return this.S},Cv.Dl=function(){return this.ga},Cv.Iq=function(t){Nv(this.i,t),Py(this,wv(this))},p(Pv,Ty),p(Sv,dc),Sv.prototype.Y=function(){if(this.f)return this.f;var t=dc.prototype.Y.call(this);if(2==this.state){if(256==t.width&&256==t.height)return this.f=t;var e=Te(256,256);return e.drawImage(t,0,0),this.f=e.canvas}return t};var Aw="default",Ew="truncated";f.prototype.code=f.prototype.code,t("ol.Attribution",Vt),Vt.prototype.getHTML=Vt.prototype.f,t("ol.Collection",be),be.prototype.clear=be.prototype.clear,be.prototype.extend=be.prototype.ng,be.prototype.forEach=be.prototype.forEach,be.prototype.getArray=be.prototype.Hm,be.prototype.item=be.prototype.item,be.prototype.getLength=be.prototype.ec,be.prototype.insertAt=be.prototype.Se,be.prototype.pop=be.prototype.pop,be.prototype.push=be.prototype.push,be.prototype.remove=be.prototype.remove,be.prototype.removeAt=be.prototype.Pg,be.prototype.setAt=be.prototype.jq,we.prototype.element=we.prototype.element,t("ol.color.asArray",Pe),t("ol.color.asString",Se),t("ol.colorlike.asColorLike",Me),t("ol.control.defaults",Xe),t("ol.coordinate.add",Yn),t("ol.coordinate.createStringXY",function(t){return function(e){return to(e,t)}}),t("ol.coordinate.format",qn),t("ol.coordinate.rotate",Vn),t("ol.coordinate.toStringHDMS",function(t,e){return t?zn("NS",t[1],e)+" "+zn("EW",t[0],e):""}),t("ol.coordinate.toStringXY",to),t("ol.DeviceOrientation",Hs),Hs.prototype.getAlpha=Hs.prototype.Qk,Hs.prototype.getBeta=Hs.prototype.Tk,Hs.prototype.getGamma=Hs.prototype.$k,Hs.prototype.getHeading=Hs.prototype.Im,Hs.prototype.getTracking=Hs.prototype.bi,Hs.prototype.setTracking=Hs.prototype.og,t("ol.easing.easeIn",ke),t("ol.easing.easeOut",Re),t("ol.easing.inAndOut",De),t("ol.easing.linear",Fe),t("ol.easing.upAndDown",function(t){return.5>t?De(2*t):1-De(2*(t-.5))}),t("ol.extent.boundingExtent",E),t("ol.extent.buffer",I),t("ol.extent.containsCoordinate",O),t("ol.extent.containsExtent",k),t("ol.extent.containsXY",R),t("ol.extent.createEmpty",F),t("ol.extent.equals",U),t("ol.extent.extend",Y),t("ol.extent.getArea",q),t("ol.extent.getBottomLeft",H),t("ol.extent.getBottomRight",V),t("ol.extent.getCenter",$),t("ol.extent.getHeight",J),t("ol.extent.getIntersection",Q),t("ol.extent.getSize",function(t){return[t[2]-t[0],t[3]-t[1]]}),t("ol.extent.getTopLeft",tt),t("ol.extent.getTopRight",et),t("ol.extent.getWidth",nt),t("ol.extent.intersects",ot),t("ol.extent.isEmpty",it),t("ol.extent.applyTransform",at),t("ol.Feature",ru),ru.prototype.clone=ru.prototype.clone,ru.prototype.getGeometry=ru.prototype.V,ru.prototype.getId=ru.prototype.Km,ru.prototype.getGeometryName=ru.prototype.bl,ru.prototype.getStyle=ru.prototype.Lm,ru.prototype.getStyleFunction=ru.prototype.bb,ru.prototype.setGeometry=ru.prototype.Ra,ru.prototype.setStyle=ru.prototype.pg,ru.prototype.setId=ru.prototype.kc,ru.prototype.setGeometryName=ru.prototype.Wc,t("ol.featureloader.xhr",Au),t("ol.Geolocation",Jl),Jl.prototype.getAccuracy=Jl.prototype.Ok,Jl.prototype.getAccuracyGeometry=Jl.prototype.Pk,Jl.prototype.getAltitude=Jl.prototype.Rk,Jl.prototype.getAltitudeAccuracy=Jl.prototype.Sk,Jl.prototype.getHeading=Jl.prototype.Mm,Jl.prototype.getPosition=Jl.prototype.Nm,Jl.prototype.getProjection=Jl.prototype.ci,Jl.prototype.getSpeed=Jl.prototype.xl,Jl.prototype.getTracking=Jl.prototype.di,Jl.prototype.getTrackingOptions=Jl.prototype.Ph,Jl.prototype.setProjection=Jl.prototype.ei,Jl.prototype.setTracking=Jl.prototype.Ve,Jl.prototype.setTrackingOptions=Jl.prototype.Gj,t("ol.Graticule",ic),ic.prototype.getMap=ic.prototype.Qm,ic.prototype.getMeridians=ic.prototype.ml,ic.prototype.getParallels=ic.prototype.tl,ic.prototype.setMap=ic.prototype.setMap,t("ol.has.DEVICE_PIXEL_RATIO",ug),t("ol.has.CANVAS",pg),t("ol.has.DEVICE_ORIENTATION",lg),t("ol.has.GEOLOCATION",cg),t("ol.has.TOUCH",fg),t("ol.has.WEBGL",tg),uc.prototype.getImage=uc.prototype.Y,uc.prototype.load=uc.prototype.load,dc.prototype.getImage=dc.prototype.Y,t("ol.inherits",p),t("ol.interaction.defaults",or),t("ol.Kinetic",oi),t("ol.loadingstrategy.all",bf),t("ol.loadingstrategy.bbox",function(t){return[t]}),t("ol.loadingstrategy.tile",function(t){return function(e,n){n=t.uc(n),e=Bt(t,e,n);var o=[];for(n=[n,0,0],n[1]=e.ca;n[1]<=e.da;++n[1])for(n[2]=e.ea;n[2]<=e.ha;++n[2])o.push(t.Fa(n));return o}}),t("ol.Map",Es),Es.prototype.addControl=Es.prototype.vk,Es.prototype.addInteraction=Es.prototype.wk,Es.prototype.addLayer=Es.prototype.nh,Es.prototype.addOverlay=Es.prototype.oh,Es.prototype.forEachFeatureAtPixel=Es.prototype.Vd,Es.prototype.getFeaturesAtPixel=Es.prototype.Yk,Es.prototype.forEachLayerAtPixel=Es.prototype.Wm,Es.prototype.hasFeatureAtPixel=Es.prototype.lm,Es.prototype.getEventCoordinate=Es.prototype.$f,Es.prototype.getEventPixel=Es.prototype.Ge,Es.prototype.getTarget=Es.prototype.ig,Es.prototype.getTargetElement=Es.prototype.od,Es.prototype.getCoordinateFromPixel=Es.prototype.Xa,Es.prototype.getControls=Es.prototype.Wk,Es.prototype.getOverlays=Es.prototype.rl,Es.prototype.getOverlayById=Es.prototype.ql,Es.prototype.getInteractions=Es.prototype.dl,Es.prototype.getLayerGroup=Es.prototype.Mc,Es.prototype.getLayers=Es.prototype.fi,Es.prototype.getPixelFromCoordinate=Es.prototype.Ka,Es.prototype.getSize=Es.prototype.Mb,Es.prototype.getView=Es.prototype.$,Es.prototype.getViewport=Es.prototype.El,Es.prototype.renderSync=Es.prototype.gq,Es.prototype.render=Es.prototype.render,Es.prototype.removeControl=Es.prototype.Zp,Es.prototype.removeInteraction=Es.prototype.$p,Es.prototype.removeLayer=Es.prototype.bq,Es.prototype.removeOverlay=Es.prototype.cq,Es.prototype.setLayerGroup=Es.prototype.Aj,Es.prototype.setSize=Es.prototype.Yg,Es.prototype.setTarget=Es.prototype.We,Es.prototype.setView=Es.prototype.wq,Es.prototype.updateSize=Es.prototype.Ed,$e.prototype.originalEvent=$e.prototype.originalEvent,$e.prototype.pixel=$e.prototype.pixel,$e.prototype.coordinate=$e.prototype.coordinate,$e.prototype.dragging=$e.prototype.dragging,Ve.prototype.map=Ve.prototype.map,Ve.prototype.frameState=Ve.prototype.frameState,t("ol.Object",ye),ye.prototype.get=ye.prototype.get,ye.prototype.getKeys=ye.prototype.O,ye.prototype.getProperties=ye.prototype.N,ye.prototype.set=ye.prototype.set,ye.prototype.setProperties=ye.prototype.H,ye.prototype.unset=ye.prototype.P,me.prototype.key=me.prototype.key,me.prototype.oldValue=me.prototype.oldValue,t("ol.Observable",de),t("ol.Observable.unByKey",function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)ae(t[e]);else ae(t)}),de.prototype.changed=de.prototype.s,de.prototype.dispatchEvent=de.prototype.b,de.prototype.getRevision=de.prototype.L,de.prototype.on=de.prototype.J,de.prototype.once=de.prototype.once,de.prototype.un=de.prototype.K,t("ol.Overlay",Ls),Ls.prototype.getElement=Ls.prototype.Xd,Ls.prototype.getId=Ls.prototype.Xm,Ls.prototype.getMap=Ls.prototype.Xe,Ls.prototype.getOffset=Ls.prototype.Lh,Ls.prototype.getPosition=Ls.prototype.gi,Ls.prototype.getPositioning=Ls.prototype.Mh,Ls.prototype.setElement=Ls.prototype.vj,Ls.prototype.setMap=Ls.prototype.setMap,Ls.prototype.setOffset=Ls.prototype.Bj,Ls.prototype.setPosition=Ls.prototype.Ye,Ls.prototype.setPositioning=Ls.prototype.Ej,t("ol.proj.METERS_PER_UNIT",Ov),t("ol.proj.setProj4",function(t){kv=t}),t("ol.proj.getPointResolution",mt),t("ol.proj.addEquivalentProjections",bt),t("ol.proj.addProjection",xt),t("ol.proj.addCoordinateTransforms",Pt),t("ol.proj.fromLonLat",function(t,e){return Lt(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}),t("ol.proj.toLonLat",function(t,e){return Lt(t,void 0!==e?e:"EPSG:3857","EPSG:4326")}),t("ol.proj.get",Ct),t("ol.proj.equivalent",Mt),t("ol.proj.getTransform",Tt),t("ol.proj.transform",Lt),t("ol.proj.transformExtent",Nt),t("ol.render.toContext",function(t,e){var n=t.canvas,o=e?e:{};return e=o.pixelRatio||ug,(o=o.size)&&(n.width=o[0]*e,n.height=o[1]*e,n.style.width=o[0]+"px",n.style.height=o[1]+"px"),n=[0,0,n.width,n.height],o=gr(pr(),e,e),new Ir(t,e,n,o,0)}),t("ol.size.toSize",A),t("ol.Sphere",pt),pt.prototype.geodesicArea=pt.prototype.a,pt.prototype.haversineDistance=pt.prototype.b,pc.prototype.getTileCoord=pc.prototype.i,pc.prototype.load=pc.prototype.load,t("ol.tilegrid.createXYZ",Wt),vv.prototype.getFormat=vv.prototype.Zm,vv.prototype.getFeatures=vv.prototype.Ym,vv.prototype.getProjection=vv.prototype.$m;vv.prototype.setExtent=vv.prototype.hi;vv.prototype.setFeatures=vv.prototype.wj,vv.prototype.setProjection=vv.prototype.qg,vv.prototype.setLoader=vv.prototype.Xg,t("ol.View",zo),zo.prototype.animate=zo.prototype.animate,zo.prototype.getAnimating=zo.prototype.Kc,zo.prototype.getInteracting=zo.prototype.cl,zo.prototype.cancelAnimations=zo.prototype.hd,zo.prototype.constrainCenter=zo.prototype.Gc,zo.prototype.constrainResolution=zo.prototype.constrainResolution,zo.prototype.constrainRotation=zo.prototype.constrainRotation,zo.prototype.getCenter=zo.prototype.xa,zo.prototype.calculateExtent=zo.prototype.gd,zo.prototype.getMaxResolution=zo.prototype.an,zo.prototype.getMinResolution=zo.prototype.cn,zo.prototype.getMaxZoom=zo.prototype.bn,zo.prototype.setMaxZoom=zo.prototype.rq,zo.prototype.getMinZoom=zo.prototype.dn,zo.prototype.setMinZoom=zo.prototype.sq,zo.prototype.getProjection=zo.prototype.en,zo.prototype.getResolution=zo.prototype.Pa,zo.prototype.getResolutions=zo.prototype.fn,zo.prototype.getResolutionForExtent=zo.prototype.Ke,zo.prototype.getRotation=zo.prototype.Qa,zo.prototype.getZoom=zo.prototype.Qh,zo.prototype.getZoomForResolution=zo.prototype.Ne,zo.prototype.getResolutionForZoom=zo.prototype.Oh,zo.prototype.fit=zo.prototype.Xf,zo.prototype.centerOn=zo.prototype.Fk,zo.prototype.rotate=zo.prototype.rotate,zo.prototype.setCenter=zo.prototype.qb,zo.prototype.setResolution=zo.prototype.Yc,zo.prototype.setRotation=zo.prototype.Ze,zo.prototype.setZoom=zo.prototype.zq,t("ol.xml.getAllTextContent",uu),t("ol.xml.parse",cu),oa.prototype.getGL=oa.prototype.jp,oa.prototype.useProgram=oa.prototype.Tc,t("ol.tilegrid.TileGrid",Dt),Dt.prototype.forEachTileCoord=Dt.prototype.Yf,Dt.prototype.getMaxZoom=Dt.prototype.cj,Dt.prototype.getMinZoom=Dt.prototype.dj,Dt.prototype.getOrigin=Dt.prototype.Sc,Dt.prototype.getResolution=Dt.prototype.Ca,Dt.prototype.getResolutions=Dt.prototype.ej,Dt.prototype.getTileCoordExtent=Dt.prototype.Fa,Dt.prototype.getTileCoordForCoordAndResolution=Dt.prototype.Me,Dt.prototype.getTileCoordForCoordAndZ=Dt.prototype.kg,Dt.prototype.getTileSize=Dt.prototype.eb,Dt.prototype.getZForResolution=Dt.prototype.uc,t("ol.tilegrid.WMTS",bv),bv.prototype.getMatrixIds=bv.prototype.o,t("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",_v),t("ol.style.AtlasManager",ps),t("ol.style.Circle",Js),Js.prototype.setRadius=Js.prototype.Xc,t("ol.style.Fill",Qs),Qs.prototype.clone=Qs.prototype.clone,Qs.prototype.getColor=Qs.prototype.f,Qs.prototype.setColor=Qs.prototype.c,t("ol.style.Icon",yp),yp.prototype.clone=yp.prototype.clone,yp.prototype.getAnchor=yp.prototype.Jc,yp.prototype.getColor=yp.prototype.Yo,yp.prototype.getImage=yp.prototype.Y,yp.prototype.getOrigin=yp.prototype.Rc,yp.prototype.getSrc=yp.prototype.Zo,yp.prototype.getSize=yp.prototype.ic,yp.prototype.load=yp.prototype.load,t("ol.style.Image",Vs),Vs.prototype.getOpacity=Vs.prototype.jf,Vs.prototype.getRotateWithView=Vs.prototype.kf,Vs.prototype.getRotation=Vs.prototype.lf,Vs.prototype.getScale=Vs.prototype.mf,Vs.prototype.getSnapToPixel=Vs.prototype.Le,Vs.prototype.setOpacity=Vs.prototype.yd,Vs.prototype.setRotation=Vs.prototype.nf,Vs.prototype.setScale=Vs.prototype.zd,t("ol.style.RegularShape",$s),$s.prototype.clone=$s.prototype.clone,$s.prototype.getAnchor=$s.prototype.Jc,$s.prototype.getAngle=$s.prototype.Zi,$s.prototype.getFill=$s.prototype.Da,$s.prototype.getImage=$s.prototype.Y,$s.prototype.getOrigin=$s.prototype.Rc,$s.prototype.getPoints=$s.prototype.$i,$s.prototype.getRadius=$s.prototype.aj,$s.prototype.getRadius2=$s.prototype.Nh,$s.prototype.getSize=$s.prototype.ic,$s.prototype.getStroke=$s.prototype.Ea,t("ol.style.Stroke",Ia),Ia.prototype.clone=Ia.prototype.clone,Ia.prototype.getColor=Ia.prototype.$o,Ia.prototype.getLineCap=Ia.prototype.gl,Ia.prototype.getLineDash=Ia.prototype.ap,Ia.prototype.getLineDashOffset=Ia.prototype.hl,Ia.prototype.getLineJoin=Ia.prototype.il,Ia.prototype.getMiterLimit=Ia.prototype.nl,Ia.prototype.getWidth=Ia.prototype.bp,Ia.prototype.setColor=Ia.prototype.cp,Ia.prototype.setLineCap=Ia.prototype.oq,Ia.prototype.setLineDash=Ia.prototype.setLineDash,Ia.prototype.setLineDashOffset=Ia.prototype.pq,Ia.prototype.setLineJoin=Ia.prototype.qq,Ia.prototype.setMiterLimit=Ia.prototype.tq,Ia.prototype.setWidth=Ia.prototype.xq,t("ol.style.Style",tu),tu.prototype.clone=tu.prototype.clone,tu.prototype.getRenderer=tu.prototype.Je,tu.prototype.setRenderer=tu.prototype.uq,tu.prototype.getGeometry=tu.prototype.V,tu.prototype.getGeometryFunction=tu.prototype.al,tu.prototype.getFill=tu.prototype.Da,tu.prototype.setFill=tu.prototype.zf,tu.prototype.getImage=tu.prototype.Y,tu.prototype.setImage=tu.prototype.Wg,tu.prototype.getStroke=tu.prototype.Ea,tu.prototype.setStroke=tu.prototype.Af,tu.prototype.getText=tu.prototype.Ja,tu.prototype.setText=tu.prototype.Cd,tu.prototype.getZIndex=tu.prototype.za,tu.prototype.setGeometry=tu.prototype.Ra,tu.prototype.setZIndex=tu.prototype.Wb,t("ol.style.Text",vp),vp.prototype.clone=vp.prototype.clone,vp.prototype.getFont=vp.prototype.Zk,vp.prototype.getOffsetX=vp.prototype.ol,vp.prototype.getOffsetY=vp.prototype.pl,vp.prototype.getFill=vp.prototype.Da,vp.prototype.getRotateWithView=vp.prototype.ep,vp.prototype.getRotation=vp.prototype.fp,vp.prototype.getScale=vp.prototype.gp,vp.prototype.getStroke=vp.prototype.Ea,vp.prototype.getText=vp.prototype.Ja,vp.prototype.getTextAlign=vp.prototype.zl,vp.prototype.getTextBaseline=vp.prototype.Al,vp.prototype.setFont=vp.prototype.xj,vp.prototype.setOffsetX=vp.prototype.Cj,vp.prototype.setOffsetY=vp.prototype.Dj,vp.prototype.setFill=vp.prototype.zf,vp.prototype.setRotation=vp.prototype.hp,vp.prototype.setScale=vp.prototype.bj,vp.prototype.setStroke=vp.prototype.Af,vp.prototype.setText=vp.prototype.Cd,vp.prototype.setTextAlign=vp.prototype.Fj,vp.prototype.setTextBaseline=vp.prototype.vq,t("ol.source.BingMaps",Ly),t("ol.source.BingMaps.TOS_ATTRIBUTION",mw),Ly.prototype.getApiKey=Ly.prototype.U,Ly.prototype.getImagerySet=Ly.prototype.ga,t("ol.source.CartoDB",Oy),Oy.prototype.getConfig=Oy.prototype.Vk,Oy.prototype.updateConfig=Oy.prototype.Hq,Oy.prototype.setConfig=Oy.prototype.kq,t("ol.source.Cluster",Dy),Dy.prototype.getDistance=Dy.prototype.po,Dy.prototype.getSource=Dy.prototype.qo,Dy.prototype.setDistance=Dy.prototype.lq,t("ol.source.Image",Wd),Hd.prototype.image=Hd.prototype.image,t("ol.source.ImageArcGISRest",By),By.prototype.getParams=By.prototype.so,By.prototype.getImageLoadFunction=By.prototype.ro,By.prototype.getUrl=By.prototype.to,By.prototype.setImageLoadFunction=By.prototype.uo,By.prototype.setUrl=By.prototype.vo,By.prototype.updateParams=By.prototype.wo,t("ol.source.ImageCanvas",Vd),t("ol.source.ImageMapGuide",Xy),Xy.prototype.getParams=Xy.prototype.yo,Xy.prototype.getImageLoadFunction=Xy.prototype.xo,Xy.prototype.updateParams=Xy.prototype.Ao,Xy.prototype.setImageLoadFunction=Xy.prototype.zo,
t("ol.source.ImageStatic",Uy),t("ol.source.ImageVector",$d),$d.prototype.getSource=$d.prototype.Bo,$d.prototype.getStyle=$d.prototype.Co,$d.prototype.getStyleFunction=$d.prototype.bb,$d.prototype.setStyle=$d.prototype.Si,t("ol.source.ImageWMS",Yy),Yy.prototype.getGetFeatureInfoUrl=Yy.prototype.Fo,Yy.prototype.getParams=Yy.prototype.Ho,Yy.prototype.getImageLoadFunction=Yy.prototype.Go,Yy.prototype.getUrl=Yy.prototype.Io,Yy.prototype.setImageLoadFunction=Yy.prototype.Jo,Yy.prototype.setUrl=Yy.prototype.Ko,Yy.prototype.updateParams=Yy.prototype.Lo,t("ol.source.OSM",zy),t("ol.source.OSM.ATTRIBUTION",_w),t("ol.source.Raster",qy),qy.prototype.setOperation=qy.prototype.v,$y.prototype.extent=$y.prototype.extent,$y.prototype.resolution=$y.prototype.resolution,$y.prototype.data=$y.prototype.data,t("ol.source.Source",_f),_f.prototype.getAttributions=_f.prototype.Aa,_f.prototype.getLogo=_f.prototype.ya,_f.prototype.getProjection=_f.prototype.Ba,_f.prototype.getState=_f.prototype.getState,_f.prototype.refresh=_f.prototype.ra;_f.prototype.setAttributions=_f.prototype.wa;t("ol.source.Stamen",Zy),t("ol.source.Tile",xy),xy.prototype.getTileGrid=xy.prototype.cb,Cy.prototype.tile=Cy.prototype.tile,t("ol.source.TileArcGISRest",Jy),Jy.prototype.getParams=Jy.prototype.B,Jy.prototype.updateParams=Jy.prototype.C,t("ol.source.TileDebug",tv),t("ol.source.TileImage",Ty),Ty.prototype.setRenderReprojectionEdges=Ty.prototype.Nb,Ty.prototype.setTileGridForProjection=Ty.prototype.Ob,t("ol.source.TileJSON",nv),nv.prototype.getTileJSON=nv.prototype.Bl,t("ol.source.TileUTFGrid",ov),ov.prototype.getTemplate=ov.prototype.yl,ov.prototype.forDataAtCoordinateAndResolution=ov.prototype.Kk,t("ol.source.TileWMS",sv),sv.prototype.getGetFeatureInfoUrl=sv.prototype.So,sv.prototype.getParams=sv.prototype.To,sv.prototype.updateParams=sv.prototype.Uo,My.prototype.getTileLoadFunction=My.prototype.sb,My.prototype.getTileUrlFunction=My.prototype.tb,My.prototype.getUrls=My.prototype.ub,My.prototype.setTileLoadFunction=My.prototype.zb,My.prototype.setTileUrlFunction=My.prototype.hb,My.prototype.setUrl=My.prototype.mb,My.prototype.setUrls=My.prototype.ib,t("ol.source.Vector",Pf),Pf.prototype.addFeature=Pf.prototype.Bb,Pf.prototype.addFeatures=Pf.prototype.Ec,Pf.prototype.clear=Pf.prototype.clear,Pf.prototype.forEachFeature=Pf.prototype.Ah,Pf.prototype.forEachFeatureInExtent=Pf.prototype.ac,Pf.prototype.forEachFeatureIntersectingExtent=Pf.prototype.Bh,Pf.prototype.getFeaturesCollection=Pf.prototype.Ih,Pf.prototype.getFeatures=Pf.prototype.ee,Pf.prototype.getFeaturesAtCoordinate=Pf.prototype.Hh,Pf.prototype.getFeaturesInExtent=Pf.prototype.ag,Pf.prototype.getClosestFeatureToCoordinate=Pf.prototype.Dh,Pf.prototype.getExtent=Pf.prototype.G,Pf.prototype.getFeatureById=Pf.prototype.Gh,Pf.prototype.getFormat=Pf.prototype.Wi,Pf.prototype.getUrl=Pf.prototype.Xi,Pf.prototype.removeFeature=Pf.prototype.Fb,If.prototype.feature=If.prototype.feature,t("ol.source.VectorTile",mv),t("ol.source.WMTS",xv),xv.prototype.getDimensions=xv.prototype.Xk,xv.prototype.getFormat=xv.prototype.Vo,xv.prototype.getLayer=xv.prototype.Wo,xv.prototype.getMatrixSet=xv.prototype.ll,xv.prototype.getRequestEncoding=xv.prototype.wl,xv.prototype.getStyle=xv.prototype.Xo,xv.prototype.getVersion=xv.prototype.Dl,xv.prototype.updateDimensions=xv.prototype.Iq,t("ol.source.WMTS.optionsFromCapabilities",function(t,e){var o=r(t.Contents.Layer,function(t){return t.Identifier==e.layer});if(null===o)return null;var i=t.Contents.TileMatrixSet,a=1<o.TileMatrixSetLink.length?"projection"in e?u(o.TileMatrixSetLink,function(t){var n=r(i,function(e){return e.Identifier==t.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),o=Ct(n),a=Ct(e.projection);return o&&a?Mt(o,a):n==e.projection}):u(o.TileMatrixSetLink,function(t){return t.TileMatrixSet==e.matrixSet}):0;0>a&&(a=0);var s=o.TileMatrixSetLink[a].TileMatrixSet,h=o.TileMatrixSetLink[a].TileMatrixSetLimits,p=o.Format[0];"format"in e&&(p=e.format),a=u(o.Style,function(t){return"style"in e?t.Title==e.style:t.isDefault}),0>a&&(a=0),a=o.Style[a].Identifier;var l={};"Dimension"in o&&o.Dimension.forEach(function(t){var e=t.Identifier,n=t.Default;void 0===n&&(n=t.Value[0]),l[e]=n});var c=r(t.Contents.TileMatrixSet,function(t){return t.Identifier==s}),f=Ct("projection"in e?e.projection:c.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3")),d=o.WGS84BoundingBox;if(void 0!==d){var y=Ct("EPSG:4326").G();y=d[0]==y[0]&&d[2]==y[2];var v=Nt(d,"EPSG:4326",f);(d=f.G())&&(k(d,v)||(v=void 0))}h=_v(c,v,h);var g=[];if(c=e.requestEncoding,c=void 0!==c?c:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(t=t.OperationsMetadata.GetTile.DCP.HTTP.Get,v=0,d=t.length;v<d;++v){var m=r(t[v].Constraint,function(t){return"GetEncoding"==t.name}).AllowedValues.Value;if(""===c&&(c=m[0]),"KVP"!==c)break;n(m,"KVP")&&g.push(t[v].href)}return g.length||(c="REST",o.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(p=t.format,g.push(t.template))})),{urls:g,layer:e.layer,matrixSet:s,format:p,projection:f,requestEncoding:c,tileGrid:h,style:a,dimensions:l,wrapX:y,crossOrigin:e.crossOrigin}}),t("ol.source.XYZ",Ny),t("ol.source.Zoomify",Pv),Tr.prototype.vectorContext=Tr.prototype.vectorContext,Tr.prototype.frameState=Tr.prototype.frameState,Tr.prototype.context=Tr.prototype.context,Tr.prototype.glContext=Tr.prototype.glContext,Zp.prototype.get=Zp.prototype.get,Zp.prototype.getExtent=Zp.prototype.G,Zp.prototype.getId=Zp.prototype.lo,Zp.prototype.getGeometry=Zp.prototype.V,Zp.prototype.getProperties=Zp.prototype.mo,Zp.prototype.getType=Zp.prototype.T,t("ol.render.VectorContext",Er),ws.prototype.setStyle=ws.prototype.wd,ws.prototype.drawGeometry=ws.prototype.Cb,ws.prototype.drawFeature=ws.prototype.De,Ir.prototype.drawCircle=Ir.prototype.$b,Ir.prototype.setStyle=Ir.prototype.wd,Ir.prototype.drawGeometry=Ir.prototype.Cb,Ir.prototype.drawFeature=Ir.prototype.De,t("ol.proj.common.add",Ot),t("ol.proj.Projection",lt),lt.prototype.getCode=lt.prototype.Uk,lt.prototype.getExtent=lt.prototype.G,lt.prototype.getUnits=lt.prototype.jo,lt.prototype.getMetersPerUnit=lt.prototype.Nc,lt.prototype.getWorldExtent=lt.prototype.Fl,lt.prototype.isGlobal=lt.prototype.rm,lt.prototype.setGlobal=lt.prototype.nq,lt.prototype.setExtent=lt.prototype.ko,lt.prototype.setWorldExtent=lt.prototype.yq,lt.prototype.setGetPointResolution=lt.prototype.mq,t("ol.proj.Units.METERS_PER_UNIT",Ov),t("ol.layer.Base",ir),ir.prototype.getExtent=ir.prototype.G,ir.prototype.getMaxResolution=ir.prototype.fc,ir.prototype.getMinResolution=ir.prototype.gc,ir.prototype.getOpacity=ir.prototype.hc,ir.prototype.getVisible=ir.prototype.Sb,ir.prototype.getZIndex=ir.prototype.za,ir.prototype.setExtent=ir.prototype.xc,ir.prototype.setMaxResolution=ir.prototype.Bc,ir.prototype.setMinResolution=ir.prototype.Cc,ir.prototype.setOpacity=ir.prototype.yc,ir.prototype.setVisible=ir.prototype.zc,ir.prototype.setZIndex=ir.prototype.Wb,t("ol.layer.Group",ar),ar.prototype.getLayers=ar.prototype.vd,ar.prototype.setLayers=ar.prototype.Hi,t("ol.layer.Heatmap",Rd),Rd.prototype.getBlur=Rd.prototype.Ch,Rd.prototype.getGradient=Rd.prototype.Jh,Rd.prototype.getRadius=Rd.prototype.Ii,Rd.prototype.setBlur=Rd.prototype.tj,Rd.prototype.setGradient=Rd.prototype.zj,Rd.prototype.setRadius=Rd.prototype.Xc,t("ol.layer.Image",ey),ey.prototype.getSource=ey.prototype.ia,t("ol.layer.Layer",sr),sr.prototype.getSource=sr.prototype.ia,sr.prototype.setMap=sr.prototype.setMap,sr.prototype.setSource=sr.prototype.Zc,t("ol.layer.Tile",uy),uy.prototype.getPreload=uy.prototype.ld,uy.prototype.getSource=uy.prototype.ia,uy.prototype.setPreload=uy.prototype.Ji,uy.prototype.getUseInterimTilesOnError=uy.prototype.pd,uy.prototype.setUseInterimTilesOnError=uy.prototype.Ki,t("ol.layer.Vector",mf),mf.prototype.getSource=mf.prototype.ia,mf.prototype.getStyle=mf.prototype.u,mf.prototype.getStyleFunction=mf.prototype.bb,mf.prototype.setStyle=mf.prototype.i,t("ol.layer.VectorTile",ly),ly.prototype.getPreload=ly.prototype.ld,ly.prototype.getUseInterimTilesOnError=ly.prototype.pd,ly.prototype.setPreload=ly.prototype.Li,ly.prototype.setUseInterimTilesOnError=ly.prototype.Mi,ly.prototype.getSource=ly.prototype.ia,t("ol.interaction.DoubleClickZoom",pi),t("ol.interaction.DoubleClickZoom.handleEvent",li),t("ol.interaction.DragAndDrop",vc),t("ol.interaction.DragAndDrop.handleEvent",eo),xc.prototype.features=xc.prototype.features,xc.prototype.file=xc.prototype.file,xc.prototype.projection=xc.prototype.projection,t("ol.interaction.DragBox",Di),Di.prototype.getGeometry=Di.prototype.V,Xi.prototype.coordinate=Xi.prototype.coordinate,Xi.prototype.mapBrowserEvent=Xi.prototype.mapBrowserEvent,t("ol.interaction.DragPan",Ci),t("ol.interaction.DragRotate",Ei),t("ol.interaction.DragRotateAndZoom",wc),t("ol.interaction.DragZoom",Ui),t("ol.interaction.Draw",Lf),t("ol.interaction.Draw.handleEvent",Of),Lf.prototype.removeLastPoint=Lf.prototype.aq,Lf.prototype.finishDrawing=Lf.prototype.Ud,Lf.prototype.extend=Lf.prototype.Jn,t("ol.interaction.Draw.createRegularPolygon",function(t,e){return function(n,o){var i=n[0];n=n[1];var r=Math.sqrt(Zn(i,n));return o=o?o:Go(new Ql(i),t),Wo(o,i,r,e?e:Math.atan((n[1]-i[1])/(n[0]-i[0]))),o}}),t("ol.interaction.Draw.createBox",function(){return function(t,e){return t=E(t),e=e||new Bo(null),e.na([[H(t),V(t),et(t),tt(t),H(t)]]),e}}),Yf.prototype.feature=Yf.prototype.feature,t("ol.interaction.Extent",Gf),Gf.prototype.getExtent=Gf.prototype.G,Gf.prototype.setExtent=Gf.prototype.g,ed.prototype.extent=ed.prototype.extent,t("ol.interaction.Interaction",ai),ai.prototype.getActive=ai.prototype.c,ai.prototype.getMap=ai.prototype.i,ai.prototype.setActive=ai.prototype.Ia,t("ol.interaction.KeyboardPan",Yi),t("ol.interaction.KeyboardPan.handleEvent",Gi),t("ol.interaction.KeyboardZoom",Wi),t("ol.interaction.KeyboardZoom.handleEvent",zi),t("ol.interaction.Modify",nd),t("ol.interaction.Modify.handleEvent",ld),nd.prototype.removePoint=nd.prototype.rj,gd.prototype.features=gd.prototype.features,gd.prototype.mapBrowserEvent=gd.prototype.mapBrowserEvent,t("ol.interaction.MouseWheelZoom",qi),t("ol.interaction.MouseWheelZoom.handleEvent",Hi),qi.prototype.setMouseAnchor=qi.prototype.U,t("ol.interaction.PinchRotate",Vi),t("ol.interaction.PinchZoom",Qi),t("ol.interaction.Pointer",wi),t("ol.interaction.Pointer.handleEvent",Si),t("ol.interaction.Select",md),md.prototype.getFeatures=md.prototype.Un,md.prototype.getHitTolerance=md.prototype.Vn,md.prototype.getLayer=md.prototype.Wn,t("ol.interaction.Select.handleEvent",bd),md.prototype.setHitTolerance=md.prototype.Yn,md.prototype.setMap=md.prototype.setMap,xd.prototype.selected=xd.prototype.selected,xd.prototype.deselected=xd.prototype.deselected,xd.prototype.mapBrowserEvent=xd.prototype.mapBrowserEvent,t("ol.interaction.Snap",wd),wd.prototype.addFeature=wd.prototype.Bb,wd.prototype.removeFeature=wd.prototype.Fb,t("ol.interaction.Translate",Td),Td.prototype.getHitTolerance=Td.prototype.C,Td.prototype.setHitTolerance=Td.prototype.I,kd.prototype.features=kd.prototype.features,kd.prototype.coordinate=kd.prototype.coordinate;t("ol.geom.Circle",Ql);Ql.prototype.clone=Ql.prototype.clone,Ql.prototype.getCenter=Ql.prototype.xa,Ql.prototype.getRadius=Ql.prototype.ud,Ql.prototype.getType=Ql.prototype.T,Ql.prototype.intersectsExtent=Ql.prototype.Ya,Ql.prototype.setCenter=Ql.prototype.qb,Ql.prototype.setCenterAndRadius=Ql.prototype.Vg,Ql.prototype.setRadius=Ql.prototype.Xc,Ql.prototype.transform=Ql.prototype.wb,t("ol.geom.Geometry",oo),oo.prototype.getClosestPoint=oo.prototype.Db,oo.prototype.intersectsCoordinate=oo.prototype.vb,oo.prototype.getExtent=oo.prototype.G,oo.prototype.rotate=oo.prototype.rotate,oo.prototype.scale=oo.prototype.scale,oo.prototype.simplify=oo.prototype.Pb,oo.prototype.transform=oo.prototype.wb,t("ol.geom.GeometryCollection",Ph),Ph.prototype.clone=Ph.prototype.clone,Ph.prototype.getGeometries=Ph.prototype.He,Ph.prototype.getType=Ph.prototype.T,Ph.prototype.intersectsExtent=Ph.prototype.Ya,Ph.prototype.setGeometries=Ph.prototype.yj,Ph.prototype.applyTransform=Ph.prototype.Fc,Ph.prototype.translate=Ph.prototype.translate,t("ol.geom.LinearRing",Mo),Mo.prototype.clone=Mo.prototype.clone,Mo.prototype.getArea=Mo.prototype.Fn,Mo.prototype.getCoordinates=Mo.prototype.X,Mo.prototype.getType=Mo.prototype.T,Mo.prototype.setCoordinates=Mo.prototype.na,t("ol.geom.LineString",ju),ju.prototype.appendCoordinate=ju.prototype.xk,ju.prototype.clone=ju.prototype.clone,ju.prototype.forEachSegment=ju.prototype.Nk,ju.prototype.getCoordinateAtM=ju.prototype.Dn,ju.prototype.getCoordinates=ju.prototype.X,ju.prototype.getCoordinateAt=ju.prototype.Eh,ju.prototype.getLength=ju.prototype.En,ju.prototype.getType=ju.prototype.T,ju.prototype.intersectsExtent=ju.prototype.Ya,ju.prototype.setCoordinates=ju.prototype.na,t("ol.geom.MultiLineString",Bu),Bu.prototype.appendLineString=Bu.prototype.yk,Bu.prototype.clone=Bu.prototype.clone,Bu.prototype.getCoordinateAtM=Bu.prototype.Gn,Bu.prototype.getCoordinates=Bu.prototype.X,Bu.prototype.getLineString=Bu.prototype.jl,Bu.prototype.getLineStrings=Bu.prototype.kd,Bu.prototype.getType=Bu.prototype.T,Bu.prototype.intersectsExtent=Bu.prototype.Ya,Bu.prototype.setCoordinates=Bu.prototype.na,t("ol.geom.MultiPoint",Yu),Yu.prototype.appendPoint=Yu.prototype.Ak,Yu.prototype.clone=Yu.prototype.clone,Yu.prototype.getCoordinates=Yu.prototype.X,Yu.prototype.getPoint=Yu.prototype.ul,Yu.prototype.getPoints=Yu.prototype.de,Yu.prototype.getType=Yu.prototype.T,Yu.prototype.intersectsExtent=Yu.prototype.Ya,Yu.prototype.setCoordinates=Yu.prototype.na,t("ol.geom.MultiPolygon",Gu),Gu.prototype.appendPolygon=Gu.prototype.Bk,Gu.prototype.clone=Gu.prototype.clone,Gu.prototype.getArea=Gu.prototype.Hn,Gu.prototype.getCoordinates=Gu.prototype.X,Gu.prototype.getInteriorPoints=Gu.prototype.fl,Gu.prototype.getPolygon=Gu.prototype.vl,Gu.prototype.getPolygons=Gu.prototype.Zd,Gu.prototype.getType=Gu.prototype.T,Gu.prototype.intersectsExtent=Gu.prototype.Ya,Gu.prototype.setCoordinates=Gu.prototype.na,t("ol.geom.Point",Ao),Ao.prototype.clone=Ao.prototype.clone,Ao.prototype.getCoordinates=Ao.prototype.X,Ao.prototype.getType=Ao.prototype.T,Ao.prototype.intersectsExtent=Ao.prototype.Ya,Ao.prototype.setCoordinates=Ao.prototype.na,t("ol.geom.Polygon",Bo),Bo.prototype.appendLinearRing=Bo.prototype.zk,Bo.prototype.clone=Bo.prototype.clone,Bo.prototype.getArea=Bo.prototype.In,Bo.prototype.getCoordinates=Bo.prototype.X,Bo.prototype.getInteriorPoint=Bo.prototype.el,Bo.prototype.getLinearRingCount=Bo.prototype.kl,Bo.prototype.getLinearRing=Bo.prototype.Kh,Bo.prototype.getLinearRings=Bo.prototype.Yd,Bo.prototype.getType=Bo.prototype.T,Bo.prototype.intersectsExtent=Bo.prototype.Ya,Bo.prototype.setCoordinates=Bo.prototype.na,t("ol.geom.Polygon.circular",Uo),t("ol.geom.Polygon.fromExtent",Yo),t("ol.geom.Polygon.fromCircle",Go),t("ol.geom.SimpleGeometry",ao),ao.prototype.getFirstCoordinate=ao.prototype.bc,ao.prototype.getLastCoordinate=ao.prototype.cc,ao.prototype.getLayout=ao.prototype.dc,ao.prototype.applyTransform=ao.prototype.Fc,ao.prototype.translate=ao.prototype.translate,t("ol.format.EsriJSON",Vu),Vu.prototype.readFeature=Vu.prototype.Ub,Vu.prototype.readFeatures=Vu.prototype.Oa,Vu.prototype.readGeometry=Vu.prototype.Vc,Vu.prototype.readProjection=Vu.prototype.nb,Vu.prototype.writeGeometry=Vu.prototype.dd,Vu.prototype.writeGeometryObject=Vu.prototype.te,Vu.prototype.writeFeature=Vu.prototype.Fd,Vu.prototype.writeFeatureObject=Vu.prototype.cd,Vu.prototype.writeFeatures=Vu.prototype.Xb,Vu.prototype.writeFeaturesObject=Vu.prototype.re,t("ol.format.Feature",Eu),t("ol.format.filter.and",xh),t("ol.format.filter.or",function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(bh,e))}),t("ol.format.filter.not",function(t){return new gh(t)}),t("ol.format.filter.bbox",wh),t("ol.format.filter.intersects",function(t,e,n){return new lh(t,e,n)}),t("ol.format.filter.within",function(t,e,n){return new _h(t,e,n)}),t("ol.format.filter.equalTo",function(t,e,n){return new sh(t,e,n)}),t("ol.format.filter.notEqualTo",function(t,e,n){return new mh(t,e,n)}),t("ol.format.filter.lessThan",function(t,e){return new yh(t,e)}),t("ol.format.filter.lessThanOrEqualTo",function(t,e){return new vh(t,e)}),t("ol.format.filter.greaterThan",function(t,e){return new uh(t,e)}),t("ol.format.filter.greaterThanOrEqualTo",function(t,e){return new hh(t,e)}),t("ol.format.filter.isNull",function(t){return new dh(t)}),t("ol.format.filter.between",function(t,e,n){return new ch(t,e,n)}),t("ol.format.filter.like",function(t,e,n,o,i,r){return new fh(t,e,n,o,i,r)}),t("ol.format.filter.during",function(t,e,n){return new rh(t,e,n)}),t("ol.format.GeoJSON",Th),Th.prototype.readFeature=Th.prototype.Ub,Th.prototype.readFeatures=Th.prototype.Oa,Th.prototype.readGeometry=Th.prototype.Vc,Th.prototype.readProjection=Th.prototype.nb,Th.prototype.writeFeature=Th.prototype.Fd,Th.prototype.writeFeatureObject=Th.prototype.cd,Th.prototype.writeFeatures=Th.prototype.Xb,Th.prototype.writeFeaturesObject=Th.prototype.re,Th.prototype.writeGeometry=Th.prototype.dd,Th.prototype.writeGeometryObject=Th.prototype.te,t("ol.format.GML",zh),zh.prototype.writeFeatures=zh.prototype.Xb,zh.prototype.writeFeaturesNode=zh.prototype.Yb,t("ol.format.GML2",Hh),t("ol.format.GML3",zh),zh.prototype.writeGeometryNode=zh.prototype.se,zh.prototype.writeFeatures=zh.prototype.Xb,zh.prototype.writeFeaturesNode=zh.prototype.Yb,Oh.prototype.readFeatures=Oh.prototype.Oa,t("ol.format.GPX",Jh),Jh.prototype.readFeature=Jh.prototype.Ub,Jh.prototype.readFeatures=Jh.prototype.Oa,Jh.prototype.readProjection=Jh.prototype.nb,Jh.prototype.writeFeatures=Jh.prototype.Xb,Jh.prototype.writeFeaturesNode=Jh.prototype.Yb,t("ol.format.IGC",cp),cp.prototype.readFeature=cp.prototype.Ub,cp.prototype.readFeatures=cp.prototype.Oa,cp.prototype.readProjection=cp.prototype.nb,t("ol.format.KML",gp),gp.prototype.readFeature=gp.prototype.Ub,gp.prototype.readFeatures=gp.prototype.Oa,gp.prototype.readName=gp.prototype.Pp,gp.prototype.readNetworkLinks=gp.prototype.Qp,gp.prototype.readRegion=gp.prototype.Tp,gp.prototype.readRegionFromNode=gp.prototype.wf,gp.prototype.readProjection=gp.prototype.nb,gp.prototype.writeFeatures=gp.prototype.Xb,gp.prototype.writeFeaturesNode=gp.prototype.Yb,t("ol.format.MVT",Jp),Jp.prototype.getLastExtent=Jp.prototype.eg,Jp.prototype.readFeatures=Jp.prototype.Oa,Jp.prototype.readProjection=Jp.prototype.nb,Jp.prototype.setLayers=Jp.prototype.Cn,t("ol.format.OSMXML",tl),tl.prototype.readFeatures=tl.prototype.Oa,tl.prototype.readProjection=tl.prototype.nb,t("ol.format.Polyline",al),t("ol.format.Polyline.encodeDeltas",sl),t("ol.format.Polyline.decodeDeltas",ul),t("ol.format.Polyline.encodeFloats",hl),t("ol.format.Polyline.decodeFloats",pl),al.prototype.readFeature=al.prototype.Ub,al.prototype.readFeatures=al.prototype.Oa,al.prototype.readGeometry=al.prototype.Vc,al.prototype.readProjection=al.prototype.nb,al.prototype.writeGeometry=al.prototype.dd,t("ol.format.TopoJSON",ll),ll.prototype.readFeatures=ll.prototype.Oa,ll.prototype.readProjection=ll.prototype.nb,t("ol.format.WFS",vl),vl.prototype.readFeatures=vl.prototype.Oa,vl.prototype.readTransactionResponse=vl.prototype.j,vl.prototype.readFeatureCollectionMetadata=vl.prototype.g,t("ol.format.WFS.writeFilter",function(t){var e=su("http://www.opengis.net/ogc","Filter");return Mu({node:e},px,_u(t.lc),[t],[]),e}),vl.prototype.writeGetFeature=vl.prototype.o,vl.prototype.writeTransaction=vl.prototype.v,vl.prototype.readProjection=vl.prototype.nb,t("ol.format.WKT",Al),Al.prototype.readFeature=Al.prototype.Ub,Al.prototype.readFeatures=Al.prototype.Oa,Al.prototype.readGeometry=Al.prototype.Vc;Al.prototype.writeFeature=Al.prototype.Fd;Al.prototype.writeFeatures=Al.prototype.Xb,Al.prototype.writeGeometry=Al.prototype.dd,t("ol.format.WMSCapabilities",Gl),Gl.prototype.read=Gl.prototype.read,t("ol.format.WMSGetFeatureInfo",Vl),Vl.prototype.readFeatures=Vl.prototype.Oa,t("ol.format.WMTSCapabilities",$l),$l.prototype.read=$l.prototype.read,t("ol.format.filter.And",nh),t("ol.format.filter.Bbox",oh),t("ol.format.filter.Comparison",ih),t("ol.format.filter.ComparisonBinary",ah),t("ol.format.filter.During",rh),t("ol.format.filter.EqualTo",sh),t("ol.format.filter.Filter",th),t("ol.format.filter.GreaterThan",uh),t("ol.format.filter.GreaterThanOrEqualTo",hh),t("ol.format.filter.Intersects",lh),t("ol.format.filter.IsBetween",ch),t("ol.format.filter.IsLike",fh),t("ol.format.filter.IsNull",dh),t("ol.format.filter.LessThan",yh),t("ol.format.filter.LessThanOrEqualTo",vh),t("ol.format.filter.Not",gh),t("ol.format.filter.NotEqualTo",mh),t("ol.format.filter.Or",bh),t("ol.format.filter.Spatial",ph),t("ol.format.filter.Within",_h),t("ol.events.condition.altKeyOnly",ci),t("ol.events.condition.altShiftKeysOnly",fi),t("ol.events.condition.always",eo),t("ol.events.condition.click",function(t){return"click"==t.type}),t("ol.events.condition.never",no),t("ol.events.condition.pointerMove",yi),t("ol.events.condition.singleClick",vi),t("ol.events.condition.doubleClick",function(t){return"dblclick"==t.type}),t("ol.events.condition.noModifierKeys",gi),t("ol.events.condition.platformModifierKeyOnly",function(t){return t=t.originalEvent,!t.altKey&&(sg?t.metaKey:t.ctrlKey)&&!t.shiftKey}),t("ol.events.condition.shiftKeyOnly",mi),t("ol.events.condition.targetNotEditable",bi),t("ol.events.condition.mouseOnly",_i),t("ol.events.condition.primaryAction",xi),pe.prototype.type=pe.prototype.type,pe.prototype.target=pe.prototype.target,pe.prototype.preventDefault=pe.prototype.preventDefault,pe.prototype.stopPropagation=pe.prototype.stopPropagation,t("ol.control.Attribution",Le),t("ol.control.Attribution.render",Ne),Le.prototype.getCollapsible=Le.prototype.hn,Le.prototype.setCollapsible=Le.prototype.ln,Le.prototype.setCollapsed=Le.prototype.kn,Le.prototype.getCollapsed=Le.prototype.gn,t("ol.control.Control",Ie),Ie.prototype.getMap=Ie.prototype.g,Ie.prototype.setMap=Ie.prototype.setMap,Ie.prototype.setTarget=Ie.prototype.i,t("ol.control.FullScreen",Ue),t("ol.control.MousePosition",ze),t("ol.control.MousePosition.render",qe),ze.prototype.getCoordinateFormat=ze.prototype.Fh,ze.prototype.getProjection=ze.prototype.ii,ze.prototype.setCoordinateFormat=ze.prototype.uj,ze.prototype.setProjection=ze.prototype.ji,t("ol.control.OverviewMap",Rs),t("ol.control.OverviewMap.render",Ds),Rs.prototype.getCollapsible=Rs.prototype.pn,Rs.prototype.setCollapsible=Rs.prototype.sn,Rs.prototype.setCollapsed=Rs.prototype.rn,Rs.prototype.getCollapsed=Rs.prototype.nn,Rs.prototype.getOverviewMap=Rs.prototype.sl,t("ol.control.Rotate",je),t("ol.control.Rotate.render",Ke),t("ol.control.ScaleLine",Bs),Bs.prototype.getUnits=Bs.prototype.B,t("ol.control.ScaleLine.render",Xs),Bs.prototype.setUnits=Bs.prototype.I,t("ol.control.Zoom",Be),t("ol.control.ZoomSlider",Ys),t("ol.control.ZoomSlider.render",Gs),t("ol.control.ZoomToExtent",qs),ye.prototype.changed=ye.prototype.s,ye.prototype.dispatchEvent=ye.prototype.b,ye.prototype.getRevision=ye.prototype.L,ye.prototype.on=ye.prototype.J,ye.prototype.once=ye.prototype.once,ye.prototype.un=ye.prototype.K,be.prototype.get=be.prototype.get,be.prototype.getKeys=be.prototype.O,be.prototype.getProperties=be.prototype.N,be.prototype.set=be.prototype.set,be.prototype.setProperties=be.prototype.H,be.prototype.unset=be.prototype.P,be.prototype.changed=be.prototype.s,be.prototype.dispatchEvent=be.prototype.b,be.prototype.getRevision=be.prototype.L,be.prototype.on=be.prototype.J,be.prototype.once=be.prototype.once,be.prototype.un=be.prototype.K,we.prototype.type=we.prototype.type,we.prototype.target=we.prototype.target,we.prototype.preventDefault=we.prototype.preventDefault,we.prototype.stopPropagation=we.prototype.stopPropagation,Hs.prototype.get=Hs.prototype.get,Hs.prototype.getKeys=Hs.prototype.O,Hs.prototype.getProperties=Hs.prototype.N,Hs.prototype.set=Hs.prototype.set,Hs.prototype.setProperties=Hs.prototype.H,Hs.prototype.unset=Hs.prototype.P,Hs.prototype.changed=Hs.prototype.s,Hs.prototype.dispatchEvent=Hs.prototype.b,Hs.prototype.getRevision=Hs.prototype.L,Hs.prototype.on=Hs.prototype.J,Hs.prototype.once=Hs.prototype.once,Hs.prototype.un=Hs.prototype.K,ru.prototype.get=ru.prototype.get,ru.prototype.getKeys=ru.prototype.O,ru.prototype.getProperties=ru.prototype.N,ru.prototype.set=ru.prototype.set,ru.prototype.setProperties=ru.prototype.H,ru.prototype.unset=ru.prototype.P,ru.prototype.changed=ru.prototype.s,ru.prototype.dispatchEvent=ru.prototype.b,ru.prototype.getRevision=ru.prototype.L,ru.prototype.on=ru.prototype.J,ru.prototype.once=ru.prototype.once,ru.prototype.un=ru.prototype.K,Jl.prototype.get=Jl.prototype.get,Jl.prototype.getKeys=Jl.prototype.O,Jl.prototype.getProperties=Jl.prototype.N,Jl.prototype.set=Jl.prototype.set,Jl.prototype.setProperties=Jl.prototype.H,Jl.prototype.unset=Jl.prototype.P,Jl.prototype.changed=Jl.prototype.s,Jl.prototype.dispatchEvent=Jl.prototype.b,Jl.prototype.getRevision=Jl.prototype.L,Jl.prototype.on=Jl.prototype.J,Jl.prototype.once=Jl.prototype.once,Jl.prototype.un=Jl.prototype.K,dc.prototype.getTileCoord=dc.prototype.i,dc.prototype.load=dc.prototype.load,Es.prototype.get=Es.prototype.get,Es.prototype.getKeys=Es.prototype.O,Es.prototype.getProperties=Es.prototype.N,Es.prototype.set=Es.prototype.set,Es.prototype.setProperties=Es.prototype.H,Es.prototype.unset=Es.prototype.P,Es.prototype.changed=Es.prototype.s,Es.prototype.dispatchEvent=Es.prototype.b,Es.prototype.getRevision=Es.prototype.L,Es.prototype.on=Es.prototype.J,Es.prototype.once=Es.prototype.once,Es.prototype.un=Es.prototype.K,Ve.prototype.type=Ve.prototype.type,Ve.prototype.target=Ve.prototype.target,Ve.prototype.preventDefault=Ve.prototype.preventDefault,Ve.prototype.stopPropagation=Ve.prototype.stopPropagation,$e.prototype.map=$e.prototype.map,$e.prototype.frameState=$e.prototype.frameState,$e.prototype.type=$e.prototype.type,$e.prototype.target=$e.prototype.target,$e.prototype.preventDefault=$e.prototype.preventDefault,$e.prototype.stopPropagation=$e.prototype.stopPropagation,Je.prototype.originalEvent=Je.prototype.originalEvent,Je.prototype.pixel=Je.prototype.pixel,Je.prototype.coordinate=Je.prototype.coordinate,Je.prototype.dragging=Je.prototype.dragging,Je.prototype.preventDefault=Je.prototype.preventDefault,Je.prototype.stopPropagation=Je.prototype.stopPropagation,Je.prototype.map=Je.prototype.map,Je.prototype.frameState=Je.prototype.frameState,Je.prototype.type=Je.prototype.type,Je.prototype.target=Je.prototype.target,me.prototype.type=me.prototype.type,me.prototype.target=me.prototype.target,me.prototype.preventDefault=me.prototype.preventDefault,me.prototype.stopPropagation=me.prototype.stopPropagation,Ls.prototype.get=Ls.prototype.get,Ls.prototype.getKeys=Ls.prototype.O,Ls.prototype.getProperties=Ls.prototype.N,Ls.prototype.set=Ls.prototype.set,Ls.prototype.setProperties=Ls.prototype.H,Ls.prototype.unset=Ls.prototype.P,Ls.prototype.changed=Ls.prototype.s,Ls.prototype.dispatchEvent=Ls.prototype.b,Ls.prototype.getRevision=Ls.prototype.L,Ls.prototype.on=Ls.prototype.J,Ls.prototype.once=Ls.prototype.once,Ls.prototype.un=Ls.prototype.K,cv.prototype.getTileCoord=cv.prototype.i,cv.prototype.load=cv.prototype.load,vv.prototype.getTileCoord=vv.prototype.i,vv.prototype.load=vv.prototype.load,zo.prototype.get=zo.prototype.get,zo.prototype.getKeys=zo.prototype.O,zo.prototype.getProperties=zo.prototype.N,zo.prototype.set=zo.prototype.set,zo.prototype.setProperties=zo.prototype.H,zo.prototype.unset=zo.prototype.P,zo.prototype.changed=zo.prototype.s,zo.prototype.dispatchEvent=zo.prototype.b;zo.prototype.getRevision=zo.prototype.L;zo.prototype.on=zo.prototype.J,zo.prototype.once=zo.prototype.once,zo.prototype.un=zo.prototype.K,bv.prototype.forEachTileCoord=bv.prototype.Yf,bv.prototype.getMaxZoom=bv.prototype.cj,bv.prototype.getMinZoom=bv.prototype.dj,bv.prototype.getOrigin=bv.prototype.Sc,bv.prototype.getResolution=bv.prototype.Ca,bv.prototype.getResolutions=bv.prototype.ej,bv.prototype.getTileCoordExtent=bv.prototype.Fa,bv.prototype.getTileCoordForCoordAndResolution=bv.prototype.Me,bv.prototype.getTileCoordForCoordAndZ=bv.prototype.kg,bv.prototype.getTileSize=bv.prototype.eb,bv.prototype.getZForResolution=bv.prototype.uc,$s.prototype.getOpacity=$s.prototype.jf,$s.prototype.getRotateWithView=$s.prototype.kf,$s.prototype.getRotation=$s.prototype.lf,$s.prototype.getScale=$s.prototype.mf,$s.prototype.getSnapToPixel=$s.prototype.Le,$s.prototype.setOpacity=$s.prototype.yd,$s.prototype.setRotation=$s.prototype.nf,$s.prototype.setScale=$s.prototype.zd,Js.prototype.clone=Js.prototype.clone,Js.prototype.getAngle=Js.prototype.Zi,Js.prototype.getFill=Js.prototype.Da,Js.prototype.getPoints=Js.prototype.$i,Js.prototype.getRadius=Js.prototype.aj,Js.prototype.getRadius2=Js.prototype.Nh,Js.prototype.getStroke=Js.prototype.Ea,Js.prototype.getOpacity=Js.prototype.jf,Js.prototype.getRotateWithView=Js.prototype.kf,Js.prototype.getRotation=Js.prototype.lf,Js.prototype.getScale=Js.prototype.mf,Js.prototype.getSnapToPixel=Js.prototype.Le,Js.prototype.setOpacity=Js.prototype.yd,Js.prototype.setRotation=Js.prototype.nf,Js.prototype.setScale=Js.prototype.zd,yp.prototype.getOpacity=yp.prototype.jf,yp.prototype.getRotateWithView=yp.prototype.kf,yp.prototype.getRotation=yp.prototype.lf,yp.prototype.getScale=yp.prototype.mf,yp.prototype.getSnapToPixel=yp.prototype.Le,yp.prototype.setOpacity=yp.prototype.yd,yp.prototype.setRotation=yp.prototype.nf,yp.prototype.setScale=yp.prototype.zd,_f.prototype.get=_f.prototype.get,_f.prototype.getKeys=_f.prototype.O,_f.prototype.getProperties=_f.prototype.N,_f.prototype.set=_f.prototype.set,_f.prototype.setProperties=_f.prototype.H,_f.prototype.unset=_f.prototype.P,_f.prototype.changed=_f.prototype.s,_f.prototype.dispatchEvent=_f.prototype.b,_f.prototype.getRevision=_f.prototype.L,_f.prototype.on=_f.prototype.J,_f.prototype.once=_f.prototype.once,_f.prototype.un=_f.prototype.K,xy.prototype.getAttributions=xy.prototype.Aa,xy.prototype.getLogo=xy.prototype.ya,xy.prototype.getProjection=xy.prototype.Ba,xy.prototype.getState=xy.prototype.getState,xy.prototype.refresh=xy.prototype.ra,xy.prototype.setAttributions=xy.prototype.wa,xy.prototype.get=xy.prototype.get,xy.prototype.getKeys=xy.prototype.O,xy.prototype.getProperties=xy.prototype.N,xy.prototype.set=xy.prototype.set,xy.prototype.setProperties=xy.prototype.H,xy.prototype.unset=xy.prototype.P,xy.prototype.changed=xy.prototype.s,xy.prototype.dispatchEvent=xy.prototype.b,xy.prototype.getRevision=xy.prototype.L,xy.prototype.on=xy.prototype.J,xy.prototype.once=xy.prototype.once,xy.prototype.un=xy.prototype.K,My.prototype.getTileGrid=My.prototype.cb,My.prototype.refresh=My.prototype.ra,My.prototype.getAttributions=My.prototype.Aa,My.prototype.getLogo=My.prototype.ya,My.prototype.getProjection=My.prototype.Ba,My.prototype.getState=My.prototype.getState,My.prototype.setAttributions=My.prototype.wa,My.prototype.get=My.prototype.get,My.prototype.getKeys=My.prototype.O,My.prototype.getProperties=My.prototype.N,My.prototype.set=My.prototype.set,My.prototype.setProperties=My.prototype.H,My.prototype.unset=My.prototype.P,My.prototype.changed=My.prototype.s,My.prototype.dispatchEvent=My.prototype.b,My.prototype.getRevision=My.prototype.L,My.prototype.on=My.prototype.J,My.prototype.once=My.prototype.once,My.prototype.un=My.prototype.K,Ty.prototype.getTileLoadFunction=Ty.prototype.sb,Ty.prototype.getTileUrlFunction=Ty.prototype.tb,Ty.prototype.getUrls=Ty.prototype.ub,Ty.prototype.setTileLoadFunction=Ty.prototype.zb,Ty.prototype.setTileUrlFunction=Ty.prototype.hb,Ty.prototype.setUrl=Ty.prototype.mb,Ty.prototype.setUrls=Ty.prototype.ib,Ty.prototype.getTileGrid=Ty.prototype.cb,Ty.prototype.refresh=Ty.prototype.ra,Ty.prototype.getAttributions=Ty.prototype.Aa,Ty.prototype.getLogo=Ty.prototype.ya,Ty.prototype.getProjection=Ty.prototype.Ba,Ty.prototype.getState=Ty.prototype.getState,Ty.prototype.setAttributions=Ty.prototype.wa,Ty.prototype.get=Ty.prototype.get,Ty.prototype.getKeys=Ty.prototype.O,
Ty.prototype.getProperties=Ty.prototype.N,Ty.prototype.set=Ty.prototype.set,Ty.prototype.setProperties=Ty.prototype.H,Ty.prototype.unset=Ty.prototype.P,Ty.prototype.changed=Ty.prototype.s,Ty.prototype.dispatchEvent=Ty.prototype.b,Ty.prototype.getRevision=Ty.prototype.L,Ty.prototype.on=Ty.prototype.J,Ty.prototype.once=Ty.prototype.once,Ty.prototype.un=Ty.prototype.K,Ly.prototype.setRenderReprojectionEdges=Ly.prototype.Nb,Ly.prototype.setTileGridForProjection=Ly.prototype.Ob,Ly.prototype.getTileLoadFunction=Ly.prototype.sb,Ly.prototype.getTileUrlFunction=Ly.prototype.tb,Ly.prototype.getUrls=Ly.prototype.ub,Ly.prototype.setTileLoadFunction=Ly.prototype.zb,Ly.prototype.setTileUrlFunction=Ly.prototype.hb,Ly.prototype.setUrl=Ly.prototype.mb,Ly.prototype.setUrls=Ly.prototype.ib,Ly.prototype.getTileGrid=Ly.prototype.cb,Ly.prototype.refresh=Ly.prototype.ra,Ly.prototype.getAttributions=Ly.prototype.Aa,Ly.prototype.getLogo=Ly.prototype.ya,Ly.prototype.getProjection=Ly.prototype.Ba,Ly.prototype.getState=Ly.prototype.getState,Ly.prototype.setAttributions=Ly.prototype.wa,Ly.prototype.get=Ly.prototype.get,Ly.prototype.getKeys=Ly.prototype.O,Ly.prototype.getProperties=Ly.prototype.N,Ly.prototype.set=Ly.prototype.set,Ly.prototype.setProperties=Ly.prototype.H,Ly.prototype.unset=Ly.prototype.P,Ly.prototype.changed=Ly.prototype.s,Ly.prototype.dispatchEvent=Ly.prototype.b,Ly.prototype.getRevision=Ly.prototype.L,Ly.prototype.on=Ly.prototype.J,Ly.prototype.once=Ly.prototype.once,Ly.prototype.un=Ly.prototype.K,Ny.prototype.setRenderReprojectionEdges=Ny.prototype.Nb,Ny.prototype.setTileGridForProjection=Ny.prototype.Ob,Ny.prototype.getTileLoadFunction=Ny.prototype.sb,Ny.prototype.getTileUrlFunction=Ny.prototype.tb,Ny.prototype.getUrls=Ny.prototype.ub,Ny.prototype.setTileLoadFunction=Ny.prototype.zb,Ny.prototype.setTileUrlFunction=Ny.prototype.hb,Ny.prototype.setUrl=Ny.prototype.mb,Ny.prototype.setUrls=Ny.prototype.ib,Ny.prototype.getTileGrid=Ny.prototype.cb,Ny.prototype.refresh=Ny.prototype.ra,Ny.prototype.getAttributions=Ny.prototype.Aa,Ny.prototype.getLogo=Ny.prototype.ya,Ny.prototype.getProjection=Ny.prototype.Ba,Ny.prototype.getState=Ny.prototype.getState,Ny.prototype.setAttributions=Ny.prototype.wa,Ny.prototype.get=Ny.prototype.get,Ny.prototype.getKeys=Ny.prototype.O,Ny.prototype.getProperties=Ny.prototype.N,Ny.prototype.set=Ny.prototype.set,Ny.prototype.setProperties=Ny.prototype.H,Ny.prototype.unset=Ny.prototype.P,Ny.prototype.changed=Ny.prototype.s,Ny.prototype.dispatchEvent=Ny.prototype.b,Ny.prototype.getRevision=Ny.prototype.L,Ny.prototype.on=Ny.prototype.J,Ny.prototype.once=Ny.prototype.once,Ny.prototype.un=Ny.prototype.K,Oy.prototype.setRenderReprojectionEdges=Oy.prototype.Nb,Oy.prototype.setTileGridForProjection=Oy.prototype.Ob,Oy.prototype.getTileLoadFunction=Oy.prototype.sb,Oy.prototype.getTileUrlFunction=Oy.prototype.tb,Oy.prototype.getUrls=Oy.prototype.ub,Oy.prototype.setTileLoadFunction=Oy.prototype.zb,Oy.prototype.setTileUrlFunction=Oy.prototype.hb,Oy.prototype.setUrl=Oy.prototype.mb,Oy.prototype.setUrls=Oy.prototype.ib,Oy.prototype.getTileGrid=Oy.prototype.cb,Oy.prototype.refresh=Oy.prototype.ra,Oy.prototype.getAttributions=Oy.prototype.Aa,Oy.prototype.getLogo=Oy.prototype.ya,Oy.prototype.getProjection=Oy.prototype.Ba,Oy.prototype.getState=Oy.prototype.getState,Oy.prototype.setAttributions=Oy.prototype.wa,Oy.prototype.get=Oy.prototype.get,Oy.prototype.getKeys=Oy.prototype.O,Oy.prototype.getProperties=Oy.prototype.N,Oy.prototype.set=Oy.prototype.set,Oy.prototype.setProperties=Oy.prototype.H,Oy.prototype.unset=Oy.prototype.P,Oy.prototype.changed=Oy.prototype.s,Oy.prototype.dispatchEvent=Oy.prototype.b;Oy.prototype.getRevision=Oy.prototype.L;Oy.prototype.on=Oy.prototype.J,Oy.prototype.once=Oy.prototype.once,Oy.prototype.un=Oy.prototype.K,Pf.prototype.getAttributions=Pf.prototype.Aa,Pf.prototype.getLogo=Pf.prototype.ya,Pf.prototype.getProjection=Pf.prototype.Ba,Pf.prototype.getState=Pf.prototype.getState,Pf.prototype.refresh=Pf.prototype.ra,Pf.prototype.setAttributions=Pf.prototype.wa,Pf.prototype.get=Pf.prototype.get,Pf.prototype.getKeys=Pf.prototype.O,Pf.prototype.getProperties=Pf.prototype.N,Pf.prototype.set=Pf.prototype.set,Pf.prototype.setProperties=Pf.prototype.H,Pf.prototype.unset=Pf.prototype.P,Pf.prototype.changed=Pf.prototype.s,Pf.prototype.dispatchEvent=Pf.prototype.b,Pf.prototype.getRevision=Pf.prototype.L,Pf.prototype.on=Pf.prototype.J,Pf.prototype.once=Pf.prototype.once,Pf.prototype.un=Pf.prototype.K,Dy.prototype.addFeature=Dy.prototype.Bb,Dy.prototype.addFeatures=Dy.prototype.Ec,Dy.prototype.clear=Dy.prototype.clear,Dy.prototype.forEachFeature=Dy.prototype.Ah,Dy.prototype.forEachFeatureInExtent=Dy.prototype.ac,Dy.prototype.forEachFeatureIntersectingExtent=Dy.prototype.Bh,Dy.prototype.getFeaturesCollection=Dy.prototype.Ih,Dy.prototype.getFeatures=Dy.prototype.ee,Dy.prototype.getFeaturesAtCoordinate=Dy.prototype.Hh,Dy.prototype.getFeaturesInExtent=Dy.prototype.ag,Dy.prototype.getClosestFeatureToCoordinate=Dy.prototype.Dh,Dy.prototype.getExtent=Dy.prototype.G,Dy.prototype.getFeatureById=Dy.prototype.Gh,Dy.prototype.getFormat=Dy.prototype.Wi,Dy.prototype.getUrl=Dy.prototype.Xi,Dy.prototype.removeFeature=Dy.prototype.Fb,Dy.prototype.getAttributions=Dy.prototype.Aa,Dy.prototype.getLogo=Dy.prototype.ya,Dy.prototype.getProjection=Dy.prototype.Ba,Dy.prototype.getState=Dy.prototype.getState,Dy.prototype.refresh=Dy.prototype.ra,Dy.prototype.setAttributions=Dy.prototype.wa,Dy.prototype.get=Dy.prototype.get,Dy.prototype.getKeys=Dy.prototype.O,Dy.prototype.getProperties=Dy.prototype.N,Dy.prototype.set=Dy.prototype.set,Dy.prototype.setProperties=Dy.prototype.H,Dy.prototype.unset=Dy.prototype.P,Dy.prototype.changed=Dy.prototype.s,Dy.prototype.dispatchEvent=Dy.prototype.b,Dy.prototype.getRevision=Dy.prototype.L,Dy.prototype.on=Dy.prototype.J,Dy.prototype.once=Dy.prototype.once,Dy.prototype.un=Dy.prototype.K,Wd.prototype.getAttributions=Wd.prototype.Aa,Wd.prototype.getLogo=Wd.prototype.ya,Wd.prototype.getProjection=Wd.prototype.Ba,Wd.prototype.getState=Wd.prototype.getState,Wd.prototype.refresh=Wd.prototype.ra,Wd.prototype.setAttributions=Wd.prototype.wa,Wd.prototype.get=Wd.prototype.get,Wd.prototype.getKeys=Wd.prototype.O,Wd.prototype.getProperties=Wd.prototype.N,Wd.prototype.set=Wd.prototype.set,Wd.prototype.setProperties=Wd.prototype.H,Wd.prototype.unset=Wd.prototype.P,Wd.prototype.changed=Wd.prototype.s,Wd.prototype.dispatchEvent=Wd.prototype.b,Wd.prototype.getRevision=Wd.prototype.L,Wd.prototype.on=Wd.prototype.J,Wd.prototype.once=Wd.prototype.once,Wd.prototype.un=Wd.prototype.K,Hd.prototype.type=Hd.prototype.type,Hd.prototype.target=Hd.prototype.target,Hd.prototype.preventDefault=Hd.prototype.preventDefault,Hd.prototype.stopPropagation=Hd.prototype.stopPropagation,By.prototype.getAttributions=By.prototype.Aa,By.prototype.getLogo=By.prototype.ya,By.prototype.getProjection=By.prototype.Ba,By.prototype.getState=By.prototype.getState,By.prototype.refresh=By.prototype.ra,By.prototype.setAttributions=By.prototype.wa,By.prototype.get=By.prototype.get,By.prototype.getKeys=By.prototype.O,By.prototype.getProperties=By.prototype.N,By.prototype.set=By.prototype.set,By.prototype.setProperties=By.prototype.H,By.prototype.unset=By.prototype.P,By.prototype.changed=By.prototype.s,By.prototype.dispatchEvent=By.prototype.b,By.prototype.getRevision=By.prototype.L,By.prototype.on=By.prototype.J,By.prototype.once=By.prototype.once,By.prototype.un=By.prototype.K,Vd.prototype.getAttributions=Vd.prototype.Aa,Vd.prototype.getLogo=Vd.prototype.ya,Vd.prototype.getProjection=Vd.prototype.Ba,Vd.prototype.getState=Vd.prototype.getState,Vd.prototype.refresh=Vd.prototype.ra,Vd.prototype.setAttributions=Vd.prototype.wa,Vd.prototype.get=Vd.prototype.get,Vd.prototype.getKeys=Vd.prototype.O,Vd.prototype.getProperties=Vd.prototype.N,Vd.prototype.set=Vd.prototype.set,Vd.prototype.setProperties=Vd.prototype.H,Vd.prototype.unset=Vd.prototype.P,Vd.prototype.changed=Vd.prototype.s,Vd.prototype.dispatchEvent=Vd.prototype.b,Vd.prototype.getRevision=Vd.prototype.L,Vd.prototype.on=Vd.prototype.J,Vd.prototype.once=Vd.prototype.once,Vd.prototype.un=Vd.prototype.K,Xy.prototype.getAttributions=Xy.prototype.Aa,Xy.prototype.getLogo=Xy.prototype.ya,Xy.prototype.getProjection=Xy.prototype.Ba,Xy.prototype.getState=Xy.prototype.getState,Xy.prototype.refresh=Xy.prototype.ra,Xy.prototype.setAttributions=Xy.prototype.wa,Xy.prototype.get=Xy.prototype.get,Xy.prototype.getKeys=Xy.prototype.O,Xy.prototype.getProperties=Xy.prototype.N,Xy.prototype.set=Xy.prototype.set,Xy.prototype.setProperties=Xy.prototype.H,Xy.prototype.unset=Xy.prototype.P,Xy.prototype.changed=Xy.prototype.s,Xy.prototype.dispatchEvent=Xy.prototype.b,Xy.prototype.getRevision=Xy.prototype.L,Xy.prototype.on=Xy.prototype.J,Xy.prototype.once=Xy.prototype.once,Xy.prototype.un=Xy.prototype.K,Uy.prototype.getAttributions=Uy.prototype.Aa,Uy.prototype.getLogo=Uy.prototype.ya,Uy.prototype.getProjection=Uy.prototype.Ba,Uy.prototype.getState=Uy.prototype.getState,Uy.prototype.refresh=Uy.prototype.ra,Uy.prototype.setAttributions=Uy.prototype.wa,Uy.prototype.get=Uy.prototype.get,Uy.prototype.getKeys=Uy.prototype.O,Uy.prototype.getProperties=Uy.prototype.N,Uy.prototype.set=Uy.prototype.set,Uy.prototype.setProperties=Uy.prototype.H,Uy.prototype.unset=Uy.prototype.P,Uy.prototype.changed=Uy.prototype.s,Uy.prototype.dispatchEvent=Uy.prototype.b,Uy.prototype.getRevision=Uy.prototype.L,Uy.prototype.on=Uy.prototype.J,Uy.prototype.once=Uy.prototype.once,Uy.prototype.un=Uy.prototype.K,$d.prototype.getAttributions=$d.prototype.Aa,$d.prototype.getLogo=$d.prototype.ya,$d.prototype.getProjection=$d.prototype.Ba,$d.prototype.getState=$d.prototype.getState,$d.prototype.refresh=$d.prototype.ra,$d.prototype.setAttributions=$d.prototype.wa,$d.prototype.get=$d.prototype.get,$d.prototype.getKeys=$d.prototype.O,$d.prototype.getProperties=$d.prototype.N,$d.prototype.set=$d.prototype.set,$d.prototype.setProperties=$d.prototype.H,$d.prototype.unset=$d.prototype.P,$d.prototype.changed=$d.prototype.s,$d.prototype.dispatchEvent=$d.prototype.b,$d.prototype.getRevision=$d.prototype.L,$d.prototype.on=$d.prototype.J,$d.prototype.once=$d.prototype.once,$d.prototype.un=$d.prototype.K,Yy.prototype.getAttributions=Yy.prototype.Aa,Yy.prototype.getLogo=Yy.prototype.ya,Yy.prototype.getProjection=Yy.prototype.Ba,Yy.prototype.getState=Yy.prototype.getState,Yy.prototype.refresh=Yy.prototype.ra,Yy.prototype.setAttributions=Yy.prototype.wa,Yy.prototype.get=Yy.prototype.get,Yy.prototype.getKeys=Yy.prototype.O,Yy.prototype.getProperties=Yy.prototype.N,Yy.prototype.set=Yy.prototype.set,Yy.prototype.setProperties=Yy.prototype.H,Yy.prototype.unset=Yy.prototype.P,Yy.prototype.changed=Yy.prototype.s,Yy.prototype.dispatchEvent=Yy.prototype.b,Yy.prototype.getRevision=Yy.prototype.L,Yy.prototype.on=Yy.prototype.J,Yy.prototype.once=Yy.prototype.once,Yy.prototype.un=Yy.prototype.K,zy.prototype.setRenderReprojectionEdges=zy.prototype.Nb,zy.prototype.setTileGridForProjection=zy.prototype.Ob,zy.prototype.getTileLoadFunction=zy.prototype.sb,zy.prototype.getTileUrlFunction=zy.prototype.tb,zy.prototype.getUrls=zy.prototype.ub,zy.prototype.setTileLoadFunction=zy.prototype.zb,zy.prototype.setTileUrlFunction=zy.prototype.hb,zy.prototype.setUrl=zy.prototype.mb,zy.prototype.setUrls=zy.prototype.ib,zy.prototype.getTileGrid=zy.prototype.cb,zy.prototype.refresh=zy.prototype.ra,zy.prototype.getAttributions=zy.prototype.Aa,zy.prototype.getLogo=zy.prototype.ya,zy.prototype.getProjection=zy.prototype.Ba,zy.prototype.getState=zy.prototype.getState;zy.prototype.setAttributions=zy.prototype.wa;zy.prototype.get=zy.prototype.get,zy.prototype.getKeys=zy.prototype.O,zy.prototype.getProperties=zy.prototype.N,zy.prototype.set=zy.prototype.set,zy.prototype.setProperties=zy.prototype.H,zy.prototype.unset=zy.prototype.P,zy.prototype.changed=zy.prototype.s,zy.prototype.dispatchEvent=zy.prototype.b,zy.prototype.getRevision=zy.prototype.L,zy.prototype.on=zy.prototype.J,zy.prototype.once=zy.prototype.once,zy.prototype.un=zy.prototype.K,qy.prototype.getAttributions=qy.prototype.Aa,qy.prototype.getLogo=qy.prototype.ya,qy.prototype.getProjection=qy.prototype.Ba,qy.prototype.getState=qy.prototype.getState,qy.prototype.refresh=qy.prototype.ra,qy.prototype.setAttributions=qy.prototype.wa,qy.prototype.get=qy.prototype.get,qy.prototype.getKeys=qy.prototype.O,qy.prototype.getProperties=qy.prototype.N,qy.prototype.set=qy.prototype.set,qy.prototype.setProperties=qy.prototype.H,qy.prototype.unset=qy.prototype.P,qy.prototype.changed=qy.prototype.s,qy.prototype.dispatchEvent=qy.prototype.b,qy.prototype.getRevision=qy.prototype.L,qy.prototype.on=qy.prototype.J,qy.prototype.once=qy.prototype.once,qy.prototype.un=qy.prototype.K,$y.prototype.type=$y.prototype.type,$y.prototype.target=$y.prototype.target,$y.prototype.preventDefault=$y.prototype.preventDefault,$y.prototype.stopPropagation=$y.prototype.stopPropagation,Zy.prototype.setRenderReprojectionEdges=Zy.prototype.Nb,Zy.prototype.setTileGridForProjection=Zy.prototype.Ob,Zy.prototype.getTileLoadFunction=Zy.prototype.sb,Zy.prototype.getTileUrlFunction=Zy.prototype.tb,Zy.prototype.getUrls=Zy.prototype.ub,Zy.prototype.setTileLoadFunction=Zy.prototype.zb,Zy.prototype.setTileUrlFunction=Zy.prototype.hb,Zy.prototype.setUrl=Zy.prototype.mb,Zy.prototype.setUrls=Zy.prototype.ib,Zy.prototype.getTileGrid=Zy.prototype.cb,Zy.prototype.refresh=Zy.prototype.ra,Zy.prototype.getAttributions=Zy.prototype.Aa,Zy.prototype.getLogo=Zy.prototype.ya,Zy.prototype.getProjection=Zy.prototype.Ba,Zy.prototype.getState=Zy.prototype.getState,Zy.prototype.setAttributions=Zy.prototype.wa,Zy.prototype.get=Zy.prototype.get,Zy.prototype.getKeys=Zy.prototype.O,Zy.prototype.getProperties=Zy.prototype.N,Zy.prototype.set=Zy.prototype.set,Zy.prototype.setProperties=Zy.prototype.H,Zy.prototype.unset=Zy.prototype.P,Zy.prototype.changed=Zy.prototype.s,Zy.prototype.dispatchEvent=Zy.prototype.b,Zy.prototype.getRevision=Zy.prototype.L,Zy.prototype.on=Zy.prototype.J,Zy.prototype.once=Zy.prototype.once,Zy.prototype.un=Zy.prototype.K,Cy.prototype.type=Cy.prototype.type,Cy.prototype.target=Cy.prototype.target,Cy.prototype.preventDefault=Cy.prototype.preventDefault,Cy.prototype.stopPropagation=Cy.prototype.stopPropagation,Jy.prototype.setRenderReprojectionEdges=Jy.prototype.Nb,Jy.prototype.setTileGridForProjection=Jy.prototype.Ob,Jy.prototype.getTileLoadFunction=Jy.prototype.sb,Jy.prototype.getTileUrlFunction=Jy.prototype.tb,Jy.prototype.getUrls=Jy.prototype.ub,Jy.prototype.setTileLoadFunction=Jy.prototype.zb,Jy.prototype.setTileUrlFunction=Jy.prototype.hb,Jy.prototype.setUrl=Jy.prototype.mb,Jy.prototype.setUrls=Jy.prototype.ib,Jy.prototype.getTileGrid=Jy.prototype.cb,Jy.prototype.refresh=Jy.prototype.ra,Jy.prototype.getAttributions=Jy.prototype.Aa,Jy.prototype.getLogo=Jy.prototype.ya,Jy.prototype.getProjection=Jy.prototype.Ba,Jy.prototype.getState=Jy.prototype.getState,Jy.prototype.setAttributions=Jy.prototype.wa,Jy.prototype.get=Jy.prototype.get,Jy.prototype.getKeys=Jy.prototype.O,Jy.prototype.getProperties=Jy.prototype.N,Jy.prototype.set=Jy.prototype.set,Jy.prototype.setProperties=Jy.prototype.H,Jy.prototype.unset=Jy.prototype.P,Jy.prototype.changed=Jy.prototype.s,Jy.prototype.dispatchEvent=Jy.prototype.b,Jy.prototype.getRevision=Jy.prototype.L,Jy.prototype.on=Jy.prototype.J,Jy.prototype.once=Jy.prototype.once,Jy.prototype.un=Jy.prototype.K,tv.prototype.getTileGrid=tv.prototype.cb,tv.prototype.refresh=tv.prototype.ra,tv.prototype.getAttributions=tv.prototype.Aa,tv.prototype.getLogo=tv.prototype.ya,tv.prototype.getProjection=tv.prototype.Ba,tv.prototype.getState=tv.prototype.getState,tv.prototype.setAttributions=tv.prototype.wa,tv.prototype.get=tv.prototype.get,tv.prototype.getKeys=tv.prototype.O,tv.prototype.getProperties=tv.prototype.N,tv.prototype.set=tv.prototype.set,tv.prototype.setProperties=tv.prototype.H,tv.prototype.unset=tv.prototype.P,tv.prototype.changed=tv.prototype.s,tv.prototype.dispatchEvent=tv.prototype.b,tv.prototype.getRevision=tv.prototype.L,tv.prototype.on=tv.prototype.J,tv.prototype.once=tv.prototype.once,tv.prototype.un=tv.prototype.K,nv.prototype.setRenderReprojectionEdges=nv.prototype.Nb,nv.prototype.setTileGridForProjection=nv.prototype.Ob,nv.prototype.getTileLoadFunction=nv.prototype.sb,nv.prototype.getTileUrlFunction=nv.prototype.tb,nv.prototype.getUrls=nv.prototype.ub,nv.prototype.setTileLoadFunction=nv.prototype.zb,nv.prototype.setTileUrlFunction=nv.prototype.hb,nv.prototype.setUrl=nv.prototype.mb,nv.prototype.setUrls=nv.prototype.ib,nv.prototype.getTileGrid=nv.prototype.cb,nv.prototype.refresh=nv.prototype.ra,nv.prototype.getAttributions=nv.prototype.Aa,nv.prototype.getLogo=nv.prototype.ya,nv.prototype.getProjection=nv.prototype.Ba,nv.prototype.getState=nv.prototype.getState,nv.prototype.setAttributions=nv.prototype.wa,nv.prototype.get=nv.prototype.get,nv.prototype.getKeys=nv.prototype.O,nv.prototype.getProperties=nv.prototype.N,nv.prototype.set=nv.prototype.set,nv.prototype.setProperties=nv.prototype.H,nv.prototype.unset=nv.prototype.P,nv.prototype.changed=nv.prototype.s,nv.prototype.dispatchEvent=nv.prototype.b,nv.prototype.getRevision=nv.prototype.L,nv.prototype.on=nv.prototype.J,nv.prototype.once=nv.prototype.once,nv.prototype.un=nv.prototype.K,ov.prototype.getTileGrid=ov.prototype.cb,ov.prototype.refresh=ov.prototype.ra,ov.prototype.getAttributions=ov.prototype.Aa,ov.prototype.getLogo=ov.prototype.ya,ov.prototype.getProjection=ov.prototype.Ba,ov.prototype.getState=ov.prototype.getState,ov.prototype.setAttributions=ov.prototype.wa,ov.prototype.get=ov.prototype.get,ov.prototype.getKeys=ov.prototype.O,ov.prototype.getProperties=ov.prototype.N,ov.prototype.set=ov.prototype.set,ov.prototype.setProperties=ov.prototype.H,ov.prototype.unset=ov.prototype.P,ov.prototype.changed=ov.prototype.s,ov.prototype.dispatchEvent=ov.prototype.b,ov.prototype.getRevision=ov.prototype.L,ov.prototype.on=ov.prototype.J,ov.prototype.once=ov.prototype.once,ov.prototype.un=ov.prototype.K,sv.prototype.setRenderReprojectionEdges=sv.prototype.Nb,sv.prototype.setTileGridForProjection=sv.prototype.Ob,sv.prototype.getTileLoadFunction=sv.prototype.sb,sv.prototype.getTileUrlFunction=sv.prototype.tb,sv.prototype.getUrls=sv.prototype.ub,sv.prototype.setTileLoadFunction=sv.prototype.zb,sv.prototype.setTileUrlFunction=sv.prototype.hb,sv.prototype.setUrl=sv.prototype.mb,sv.prototype.setUrls=sv.prototype.ib,sv.prototype.getTileGrid=sv.prototype.cb,sv.prototype.refresh=sv.prototype.ra,sv.prototype.getAttributions=sv.prototype.Aa,sv.prototype.getLogo=sv.prototype.ya,sv.prototype.getProjection=sv.prototype.Ba,sv.prototype.getState=sv.prototype.getState,sv.prototype.setAttributions=sv.prototype.wa,sv.prototype.get=sv.prototype.get,sv.prototype.getKeys=sv.prototype.O,sv.prototype.getProperties=sv.prototype.N,sv.prototype.set=sv.prototype.set,sv.prototype.setProperties=sv.prototype.H,sv.prototype.unset=sv.prototype.P,sv.prototype.changed=sv.prototype.s,sv.prototype.dispatchEvent=sv.prototype.b,sv.prototype.getRevision=sv.prototype.L,sv.prototype.on=sv.prototype.J,sv.prototype.once=sv.prototype.once,sv.prototype.un=sv.prototype.K,If.prototype.type=If.prototype.type,If.prototype.target=If.prototype.target,If.prototype.preventDefault=If.prototype.preventDefault,If.prototype.stopPropagation=If.prototype.stopPropagation,mv.prototype.getTileLoadFunction=mv.prototype.sb,mv.prototype.getTileUrlFunction=mv.prototype.tb,mv.prototype.getUrls=mv.prototype.ub,mv.prototype.setTileLoadFunction=mv.prototype.zb,mv.prototype.setTileUrlFunction=mv.prototype.hb,mv.prototype.setUrl=mv.prototype.mb,mv.prototype.setUrls=mv.prototype.ib,mv.prototype.getTileGrid=mv.prototype.cb;mv.prototype.refresh=mv.prototype.ra;return mv.prototype.getAttributions=mv.prototype.Aa,mv.prototype.getLogo=mv.prototype.ya,mv.prototype.getProjection=mv.prototype.Ba,mv.prototype.getState=mv.prototype.getState,mv.prototype.setAttributions=mv.prototype.wa,mv.prototype.get=mv.prototype.get,mv.prototype.getKeys=mv.prototype.O,mv.prototype.getProperties=mv.prototype.N,mv.prototype.set=mv.prototype.set,mv.prototype.setProperties=mv.prototype.H,mv.prototype.unset=mv.prototype.P,mv.prototype.changed=mv.prototype.s,mv.prototype.dispatchEvent=mv.prototype.b,mv.prototype.getRevision=mv.prototype.L,mv.prototype.on=mv.prototype.J,mv.prototype.once=mv.prototype.once,mv.prototype.un=mv.prototype.K,xv.prototype.setRenderReprojectionEdges=xv.prototype.Nb,xv.prototype.setTileGridForProjection=xv.prototype.Ob,xv.prototype.getTileLoadFunction=xv.prototype.sb,xv.prototype.getTileUrlFunction=xv.prototype.tb,xv.prototype.getUrls=xv.prototype.ub,xv.prototype.setTileLoadFunction=xv.prototype.zb,xv.prototype.setTileUrlFunction=xv.prototype.hb,xv.prototype.setUrl=xv.prototype.mb,xv.prototype.setUrls=xv.prototype.ib,xv.prototype.getTileGrid=xv.prototype.cb,xv.prototype.refresh=xv.prototype.ra,xv.prototype.getAttributions=xv.prototype.Aa,xv.prototype.getLogo=xv.prototype.ya,xv.prototype.getProjection=xv.prototype.Ba,xv.prototype.getState=xv.prototype.getState,xv.prototype.setAttributions=xv.prototype.wa,xv.prototype.get=xv.prototype.get,xv.prototype.getKeys=xv.prototype.O,xv.prototype.getProperties=xv.prototype.N,xv.prototype.set=xv.prototype.set,xv.prototype.setProperties=xv.prototype.H,xv.prototype.unset=xv.prototype.P,xv.prototype.changed=xv.prototype.s,xv.prototype.dispatchEvent=xv.prototype.b,xv.prototype.getRevision=xv.prototype.L,xv.prototype.on=xv.prototype.J,xv.prototype.once=xv.prototype.once,xv.prototype.un=xv.prototype.K,Pv.prototype.setRenderReprojectionEdges=Pv.prototype.Nb,Pv.prototype.setTileGridForProjection=Pv.prototype.Ob,Pv.prototype.getTileLoadFunction=Pv.prototype.sb,Pv.prototype.getTileUrlFunction=Pv.prototype.tb,Pv.prototype.getUrls=Pv.prototype.ub,Pv.prototype.setTileLoadFunction=Pv.prototype.zb,Pv.prototype.setTileUrlFunction=Pv.prototype.hb,Pv.prototype.setUrl=Pv.prototype.mb,Pv.prototype.setUrls=Pv.prototype.ib,Pv.prototype.getTileGrid=Pv.prototype.cb,Pv.prototype.refresh=Pv.prototype.ra,Pv.prototype.getAttributions=Pv.prototype.Aa,Pv.prototype.getLogo=Pv.prototype.ya,Pv.prototype.getProjection=Pv.prototype.Ba,Pv.prototype.getState=Pv.prototype.getState,Pv.prototype.setAttributions=Pv.prototype.wa,Pv.prototype.get=Pv.prototype.get,Pv.prototype.getKeys=Pv.prototype.O,Pv.prototype.getProperties=Pv.prototype.N,Pv.prototype.set=Pv.prototype.set,Pv.prototype.setProperties=Pv.prototype.H,Pv.prototype.unset=Pv.prototype.P,Pv.prototype.changed=Pv.prototype.s,Pv.prototype.dispatchEvent=Pv.prototype.b,Pv.prototype.getRevision=Pv.prototype.L,Pv.prototype.on=Pv.prototype.J,Pv.prototype.once=Pv.prototype.once,Pv.prototype.un=Pv.prototype.K,fy.prototype.getTileCoord=fy.prototype.i,fy.prototype.load=fy.prototype.load,qc.prototype.changed=qc.prototype.s,qc.prototype.dispatchEvent=qc.prototype.b,qc.prototype.getRevision=qc.prototype.L,qc.prototype.on=qc.prototype.J,qc.prototype.once=qc.prototype.once,qc.prototype.un=qc.prototype.K,df.prototype.changed=df.prototype.s,df.prototype.dispatchEvent=df.prototype.b,df.prototype.getRevision=df.prototype.L,df.prototype.on=df.prototype.J,df.prototype.once=df.prototype.once,df.prototype.un=df.prototype.K,Jd.prototype.changed=Jd.prototype.s,Jd.prototype.dispatchEvent=Jd.prototype.b,Jd.prototype.getRevision=Jd.prototype.L,Jd.prototype.on=Jd.prototype.J,Jd.prototype.once=Jd.prototype.once,Jd.prototype.un=Jd.prototype.K,sy.prototype.changed=sy.prototype.s,sy.prototype.dispatchEvent=sy.prototype.b,sy.prototype.getRevision=sy.prototype.L,sy.prototype.on=sy.prototype.J,sy.prototype.once=sy.prototype.once,sy.prototype.un=sy.prototype.K,gf.prototype.changed=gf.prototype.s,gf.prototype.dispatchEvent=gf.prototype.b,gf.prototype.getRevision=gf.prototype.L,gf.prototype.on=gf.prototype.J,gf.prototype.once=gf.prototype.once,gf.prototype.un=gf.prototype.K,ef.prototype.changed=ef.prototype.s,ef.prototype.dispatchEvent=ef.prototype.b,ef.prototype.getRevision=ef.prototype.L,ef.prototype.on=ef.prototype.J,ef.prototype.once=ef.prototype.once,ef.prototype.un=ef.prototype.K,Dd.prototype.changed=Dd.prototype.s,Dd.prototype.dispatchEvent=Dd.prototype.b,Dd.prototype.getRevision=Dd.prototype.L,Dd.prototype.on=Dd.prototype.J,Dd.prototype.once=Dd.prototype.once,Dd.prototype.un=Dd.prototype.K,Fd.prototype.changed=Fd.prototype.s,Fd.prototype.dispatchEvent=Fd.prototype.b,Fd.prototype.getRevision=Fd.prototype.L,Fd.prototype.on=Fd.prototype.J,Fd.prototype.once=Fd.prototype.once,Fd.prototype.un=Fd.prototype.K,ny.prototype.changed=ny.prototype.s,ny.prototype.dispatchEvent=ny.prototype.b,ny.prototype.getRevision=ny.prototype.L,ny.prototype.on=ny.prototype.J,ny.prototype.once=ny.prototype.once,ny.prototype.un=ny.prototype.K,pf.prototype.changed=pf.prototype.s,pf.prototype.dispatchEvent=pf.prototype.b,pf.prototype.getRevision=pf.prototype.L,pf.prototype.on=pf.prototype.J,pf.prototype.once=pf.prototype.once,pf.prototype.un=pf.prototype.K,hy.prototype.changed=hy.prototype.s,hy.prototype.dispatchEvent=hy.prototype.b,hy.prototype.getRevision=hy.prototype.L,hy.prototype.on=hy.prototype.J,hy.prototype.once=hy.prototype.once,hy.prototype.un=hy.prototype.K,Tr.prototype.type=Tr.prototype.type,Tr.prototype.target=Tr.prototype.target,Tr.prototype.preventDefault=Tr.prototype.preventDefault,Tr.prototype.stopPropagation=Tr.prototype.stopPropagation,sn.prototype.type=sn.prototype.type,sn.prototype.target=sn.prototype.target,sn.prototype.preventDefault=sn.prototype.preventDefault,sn.prototype.stopPropagation=sn.prototype.stopPropagation,ir.prototype.get=ir.prototype.get,ir.prototype.getKeys=ir.prototype.O,ir.prototype.getProperties=ir.prototype.N,ir.prototype.set=ir.prototype.set,ir.prototype.setProperties=ir.prototype.H,ir.prototype.unset=ir.prototype.P,ir.prototype.changed=ir.prototype.s,ir.prototype.dispatchEvent=ir.prototype.b,ir.prototype.getRevision=ir.prototype.L,ir.prototype.on=ir.prototype.J,ir.prototype.once=ir.prototype.once,ir.prototype.un=ir.prototype.K,ar.prototype.getExtent=ar.prototype.G,ar.prototype.getMaxResolution=ar.prototype.fc,ar.prototype.getMinResolution=ar.prototype.gc,ar.prototype.getOpacity=ar.prototype.hc,ar.prototype.getVisible=ar.prototype.Sb,ar.prototype.getZIndex=ar.prototype.za,ar.prototype.setExtent=ar.prototype.xc,ar.prototype.setMaxResolution=ar.prototype.Bc,ar.prototype.setMinResolution=ar.prototype.Cc,ar.prototype.setOpacity=ar.prototype.yc,ar.prototype.setVisible=ar.prototype.zc,ar.prototype.setZIndex=ar.prototype.Wb,ar.prototype.get=ar.prototype.get,ar.prototype.getKeys=ar.prototype.O,ar.prototype.getProperties=ar.prototype.N,ar.prototype.set=ar.prototype.set,ar.prototype.setProperties=ar.prototype.H,ar.prototype.unset=ar.prototype.P,ar.prototype.changed=ar.prototype.s,ar.prototype.dispatchEvent=ar.prototype.b,ar.prototype.getRevision=ar.prototype.L,ar.prototype.on=ar.prototype.J,ar.prototype.once=ar.prototype.once,ar.prototype.un=ar.prototype.K,sr.prototype.getExtent=sr.prototype.G,sr.prototype.getMaxResolution=sr.prototype.fc,sr.prototype.getMinResolution=sr.prototype.gc,sr.prototype.getOpacity=sr.prototype.hc,sr.prototype.getVisible=sr.prototype.Sb,sr.prototype.getZIndex=sr.prototype.za,sr.prototype.setExtent=sr.prototype.xc,sr.prototype.setMaxResolution=sr.prototype.Bc,sr.prototype.setMinResolution=sr.prototype.Cc,sr.prototype.setOpacity=sr.prototype.yc,sr.prototype.setVisible=sr.prototype.zc,sr.prototype.setZIndex=sr.prototype.Wb,sr.prototype.get=sr.prototype.get,sr.prototype.getKeys=sr.prototype.O,sr.prototype.getProperties=sr.prototype.N,sr.prototype.set=sr.prototype.set,sr.prototype.setProperties=sr.prototype.H,sr.prototype.unset=sr.prototype.P,sr.prototype.changed=sr.prototype.s,sr.prototype.dispatchEvent=sr.prototype.b,sr.prototype.getRevision=sr.prototype.L,sr.prototype.on=sr.prototype.J,sr.prototype.once=sr.prototype.once,sr.prototype.un=sr.prototype.K,mf.prototype.setMap=mf.prototype.setMap,mf.prototype.setSource=mf.prototype.Zc,mf.prototype.getExtent=mf.prototype.G,mf.prototype.getMaxResolution=mf.prototype.fc,mf.prototype.getMinResolution=mf.prototype.gc,mf.prototype.getOpacity=mf.prototype.hc,mf.prototype.getVisible=mf.prototype.Sb,mf.prototype.getZIndex=mf.prototype.za,mf.prototype.setExtent=mf.prototype.xc,mf.prototype.setMaxResolution=mf.prototype.Bc,mf.prototype.setMinResolution=mf.prototype.Cc,mf.prototype.setOpacity=mf.prototype.yc,mf.prototype.setVisible=mf.prototype.zc,mf.prototype.setZIndex=mf.prototype.Wb,mf.prototype.get=mf.prototype.get,mf.prototype.getKeys=mf.prototype.O,mf.prototype.getProperties=mf.prototype.N,mf.prototype.set=mf.prototype.set,mf.prototype.setProperties=mf.prototype.H,mf.prototype.unset=mf.prototype.P,mf.prototype.changed=mf.prototype.s,mf.prototype.dispatchEvent=mf.prototype.b,mf.prototype.getRevision=mf.prototype.L,mf.prototype.on=mf.prototype.J,mf.prototype.once=mf.prototype.once,mf.prototype.un=mf.prototype.K,Rd.prototype.getSource=Rd.prototype.ia,Rd.prototype.getStyle=Rd.prototype.u,Rd.prototype.getStyleFunction=Rd.prototype.bb,Rd.prototype.setStyle=Rd.prototype.i,Rd.prototype.setMap=Rd.prototype.setMap,Rd.prototype.setSource=Rd.prototype.Zc,Rd.prototype.getExtent=Rd.prototype.G,Rd.prototype.getMaxResolution=Rd.prototype.fc,Rd.prototype.getMinResolution=Rd.prototype.gc,Rd.prototype.getOpacity=Rd.prototype.hc,Rd.prototype.getVisible=Rd.prototype.Sb,Rd.prototype.getZIndex=Rd.prototype.za,Rd.prototype.setExtent=Rd.prototype.xc,Rd.prototype.setMaxResolution=Rd.prototype.Bc,Rd.prototype.setMinResolution=Rd.prototype.Cc,Rd.prototype.setOpacity=Rd.prototype.yc,Rd.prototype.setVisible=Rd.prototype.zc,Rd.prototype.setZIndex=Rd.prototype.Wb,Rd.prototype.get=Rd.prototype.get,Rd.prototype.getKeys=Rd.prototype.O,Rd.prototype.getProperties=Rd.prototype.N,Rd.prototype.set=Rd.prototype.set,Rd.prototype.setProperties=Rd.prototype.H,Rd.prototype.unset=Rd.prototype.P,Rd.prototype.changed=Rd.prototype.s,Rd.prototype.dispatchEvent=Rd.prototype.b,Rd.prototype.getRevision=Rd.prototype.L,Rd.prototype.on=Rd.prototype.J,Rd.prototype.once=Rd.prototype.once,Rd.prototype.un=Rd.prototype.K,ey.prototype.setMap=ey.prototype.setMap,ey.prototype.setSource=ey.prototype.Zc,ey.prototype.getExtent=ey.prototype.G,ey.prototype.getMaxResolution=ey.prototype.fc,ey.prototype.getMinResolution=ey.prototype.gc,ey.prototype.getOpacity=ey.prototype.hc,ey.prototype.getVisible=ey.prototype.Sb,ey.prototype.getZIndex=ey.prototype.za,ey.prototype.setExtent=ey.prototype.xc,ey.prototype.setMaxResolution=ey.prototype.Bc,ey.prototype.setMinResolution=ey.prototype.Cc,ey.prototype.setOpacity=ey.prototype.yc,ey.prototype.setVisible=ey.prototype.zc,ey.prototype.setZIndex=ey.prototype.Wb,ey.prototype.get=ey.prototype.get,ey.prototype.getKeys=ey.prototype.O,ey.prototype.getProperties=ey.prototype.N,ey.prototype.set=ey.prototype.set,ey.prototype.setProperties=ey.prototype.H,ey.prototype.unset=ey.prototype.P,ey.prototype.changed=ey.prototype.s,ey.prototype.dispatchEvent=ey.prototype.b,ey.prototype.getRevision=ey.prototype.L,ey.prototype.on=ey.prototype.J,ey.prototype.once=ey.prototype.once,ey.prototype.un=ey.prototype.K,uy.prototype.setMap=uy.prototype.setMap,uy.prototype.setSource=uy.prototype.Zc,uy.prototype.getExtent=uy.prototype.G,uy.prototype.getMaxResolution=uy.prototype.fc,uy.prototype.getMinResolution=uy.prototype.gc,uy.prototype.getOpacity=uy.prototype.hc,uy.prototype.getVisible=uy.prototype.Sb,uy.prototype.getZIndex=uy.prototype.za,uy.prototype.setExtent=uy.prototype.xc,uy.prototype.setMaxResolution=uy.prototype.Bc,uy.prototype.setMinResolution=uy.prototype.Cc,uy.prototype.setOpacity=uy.prototype.yc,uy.prototype.setVisible=uy.prototype.zc,uy.prototype.setZIndex=uy.prototype.Wb,uy.prototype.get=uy.prototype.get,uy.prototype.getKeys=uy.prototype.O,uy.prototype.getProperties=uy.prototype.N,uy.prototype.set=uy.prototype.set,uy.prototype.setProperties=uy.prototype.H,uy.prototype.unset=uy.prototype.P,uy.prototype.changed=uy.prototype.s,uy.prototype.dispatchEvent=uy.prototype.b,uy.prototype.getRevision=uy.prototype.L,uy.prototype.on=uy.prototype.J,uy.prototype.once=uy.prototype.once,
uy.prototype.un=uy.prototype.K,ly.prototype.getStyle=ly.prototype.u,ly.prototype.getStyleFunction=ly.prototype.bb,ly.prototype.setStyle=ly.prototype.i,ly.prototype.setMap=ly.prototype.setMap,ly.prototype.setSource=ly.prototype.Zc,ly.prototype.getExtent=ly.prototype.G,ly.prototype.getMaxResolution=ly.prototype.fc,ly.prototype.getMinResolution=ly.prototype.gc,ly.prototype.getOpacity=ly.prototype.hc,ly.prototype.getVisible=ly.prototype.Sb,ly.prototype.getZIndex=ly.prototype.za,ly.prototype.setExtent=ly.prototype.xc,ly.prototype.setMaxResolution=ly.prototype.Bc,ly.prototype.setMinResolution=ly.prototype.Cc,ly.prototype.setOpacity=ly.prototype.yc,ly.prototype.setVisible=ly.prototype.zc,ly.prototype.setZIndex=ly.prototype.Wb,ly.prototype.get=ly.prototype.get,ly.prototype.getKeys=ly.prototype.O,ly.prototype.getProperties=ly.prototype.N,ly.prototype.set=ly.prototype.set,ly.prototype.setProperties=ly.prototype.H,ly.prototype.unset=ly.prototype.P,ly.prototype.changed=ly.prototype.s,ly.prototype.dispatchEvent=ly.prototype.b,ly.prototype.getRevision=ly.prototype.L,ly.prototype.on=ly.prototype.J,ly.prototype.once=ly.prototype.once,ly.prototype.un=ly.prototype.K,ai.prototype.get=ai.prototype.get,ai.prototype.getKeys=ai.prototype.O,ai.prototype.getProperties=ai.prototype.N,ai.prototype.set=ai.prototype.set,ai.prototype.setProperties=ai.prototype.H,ai.prototype.unset=ai.prototype.P,ai.prototype.changed=ai.prototype.s,ai.prototype.dispatchEvent=ai.prototype.b,ai.prototype.getRevision=ai.prototype.L,ai.prototype.on=ai.prototype.J,ai.prototype.once=ai.prototype.once,ai.prototype.un=ai.prototype.K,pi.prototype.getActive=pi.prototype.c,pi.prototype.getMap=pi.prototype.i,pi.prototype.setActive=pi.prototype.Ia,pi.prototype.get=pi.prototype.get,pi.prototype.getKeys=pi.prototype.O,pi.prototype.getProperties=pi.prototype.N,pi.prototype.set=pi.prototype.set,pi.prototype.setProperties=pi.prototype.H,pi.prototype.unset=pi.prototype.P,pi.prototype.changed=pi.prototype.s,pi.prototype.dispatchEvent=pi.prototype.b,pi.prototype.getRevision=pi.prototype.L,pi.prototype.on=pi.prototype.J,pi.prototype.once=pi.prototype.once,pi.prototype.un=pi.prototype.K,vc.prototype.getActive=vc.prototype.c,vc.prototype.getMap=vc.prototype.i,vc.prototype.setActive=vc.prototype.Ia,vc.prototype.get=vc.prototype.get,vc.prototype.getKeys=vc.prototype.O,vc.prototype.getProperties=vc.prototype.N,vc.prototype.set=vc.prototype.set,vc.prototype.setProperties=vc.prototype.H,vc.prototype.unset=vc.prototype.P,vc.prototype.changed=vc.prototype.s,vc.prototype.dispatchEvent=vc.prototype.b,vc.prototype.getRevision=vc.prototype.L,vc.prototype.on=vc.prototype.J,vc.prototype.once=vc.prototype.once,vc.prototype.un=vc.prototype.K,xc.prototype.type=xc.prototype.type,xc.prototype.target=xc.prototype.target,xc.prototype.preventDefault=xc.prototype.preventDefault,xc.prototype.stopPropagation=xc.prototype.stopPropagation,wi.prototype.getActive=wi.prototype.c,wi.prototype.getMap=wi.prototype.i,wi.prototype.setActive=wi.prototype.Ia,wi.prototype.get=wi.prototype.get,wi.prototype.getKeys=wi.prototype.O,wi.prototype.getProperties=wi.prototype.N,wi.prototype.set=wi.prototype.set,wi.prototype.setProperties=wi.prototype.H,wi.prototype.unset=wi.prototype.P,wi.prototype.changed=wi.prototype.s,wi.prototype.dispatchEvent=wi.prototype.b,wi.prototype.getRevision=wi.prototype.L,wi.prototype.on=wi.prototype.J,wi.prototype.once=wi.prototype.once,wi.prototype.un=wi.prototype.K,Di.prototype.getActive=Di.prototype.c,Di.prototype.getMap=Di.prototype.i,Di.prototype.setActive=Di.prototype.Ia,Di.prototype.get=Di.prototype.get,Di.prototype.getKeys=Di.prototype.O,Di.prototype.getProperties=Di.prototype.N,Di.prototype.set=Di.prototype.set,Di.prototype.setProperties=Di.prototype.H,Di.prototype.unset=Di.prototype.P,Di.prototype.changed=Di.prototype.s,Di.prototype.dispatchEvent=Di.prototype.b,Di.prototype.getRevision=Di.prototype.L,Di.prototype.on=Di.prototype.J,Di.prototype.once=Di.prototype.once,Di.prototype.un=Di.prototype.K,Xi.prototype.type=Xi.prototype.type,Xi.prototype.target=Xi.prototype.target,Xi.prototype.preventDefault=Xi.prototype.preventDefault,Xi.prototype.stopPropagation=Xi.prototype.stopPropagation,Ci.prototype.getActive=Ci.prototype.c,Ci.prototype.getMap=Ci.prototype.i,Ci.prototype.setActive=Ci.prototype.Ia,Ci.prototype.get=Ci.prototype.get,Ci.prototype.getKeys=Ci.prototype.O,Ci.prototype.getProperties=Ci.prototype.N,Ci.prototype.set=Ci.prototype.set,Ci.prototype.setProperties=Ci.prototype.H,Ci.prototype.unset=Ci.prototype.P,Ci.prototype.changed=Ci.prototype.s,Ci.prototype.dispatchEvent=Ci.prototype.b,Ci.prototype.getRevision=Ci.prototype.L,Ci.prototype.on=Ci.prototype.J,Ci.prototype.once=Ci.prototype.once,Ci.prototype.un=Ci.prototype.K,Ei.prototype.getActive=Ei.prototype.c,Ei.prototype.getMap=Ei.prototype.i,Ei.prototype.setActive=Ei.prototype.Ia,Ei.prototype.get=Ei.prototype.get,Ei.prototype.getKeys=Ei.prototype.O,Ei.prototype.getProperties=Ei.prototype.N,Ei.prototype.set=Ei.prototype.set,Ei.prototype.setProperties=Ei.prototype.H,Ei.prototype.unset=Ei.prototype.P,Ei.prototype.changed=Ei.prototype.s,Ei.prototype.dispatchEvent=Ei.prototype.b,Ei.prototype.getRevision=Ei.prototype.L,Ei.prototype.on=Ei.prototype.J,Ei.prototype.once=Ei.prototype.once,Ei.prototype.un=Ei.prototype.K,wc.prototype.getActive=wc.prototype.c,wc.prototype.getMap=wc.prototype.i,wc.prototype.setActive=wc.prototype.Ia,wc.prototype.get=wc.prototype.get,wc.prototype.getKeys=wc.prototype.O,wc.prototype.getProperties=wc.prototype.N,wc.prototype.set=wc.prototype.set,wc.prototype.setProperties=wc.prototype.H,wc.prototype.unset=wc.prototype.P,wc.prototype.changed=wc.prototype.s,wc.prototype.dispatchEvent=wc.prototype.b,wc.prototype.getRevision=wc.prototype.L,wc.prototype.on=wc.prototype.J,wc.prototype.once=wc.prototype.once,wc.prototype.un=wc.prototype.K,Ui.prototype.getGeometry=Ui.prototype.V,Ui.prototype.getActive=Ui.prototype.c,Ui.prototype.getMap=Ui.prototype.i,Ui.prototype.setActive=Ui.prototype.Ia,Ui.prototype.get=Ui.prototype.get,Ui.prototype.getKeys=Ui.prototype.O,Ui.prototype.getProperties=Ui.prototype.N,Ui.prototype.set=Ui.prototype.set,Ui.prototype.setProperties=Ui.prototype.H,Ui.prototype.unset=Ui.prototype.P,Ui.prototype.changed=Ui.prototype.s,Ui.prototype.dispatchEvent=Ui.prototype.b,Ui.prototype.getRevision=Ui.prototype.L,Ui.prototype.on=Ui.prototype.J,Ui.prototype.once=Ui.prototype.once,Ui.prototype.un=Ui.prototype.K,Lf.prototype.getActive=Lf.prototype.c,Lf.prototype.getMap=Lf.prototype.i,Lf.prototype.setActive=Lf.prototype.Ia,Lf.prototype.get=Lf.prototype.get,Lf.prototype.getKeys=Lf.prototype.O,Lf.prototype.getProperties=Lf.prototype.N,Lf.prototype.set=Lf.prototype.set,Lf.prototype.setProperties=Lf.prototype.H,Lf.prototype.unset=Lf.prototype.P,Lf.prototype.changed=Lf.prototype.s,Lf.prototype.dispatchEvent=Lf.prototype.b,Lf.prototype.getRevision=Lf.prototype.L,Lf.prototype.on=Lf.prototype.J,Lf.prototype.once=Lf.prototype.once,Lf.prototype.un=Lf.prototype.K,Yf.prototype.type=Yf.prototype.type,Yf.prototype.target=Yf.prototype.target,Yf.prototype.preventDefault=Yf.prototype.preventDefault,Yf.prototype.stopPropagation=Yf.prototype.stopPropagation,Gf.prototype.getActive=Gf.prototype.c,Gf.prototype.getMap=Gf.prototype.i,Gf.prototype.setActive=Gf.prototype.Ia,Gf.prototype.get=Gf.prototype.get,Gf.prototype.getKeys=Gf.prototype.O,Gf.prototype.getProperties=Gf.prototype.N,Gf.prototype.set=Gf.prototype.set,Gf.prototype.setProperties=Gf.prototype.H,Gf.prototype.unset=Gf.prototype.P,Gf.prototype.changed=Gf.prototype.s,Gf.prototype.dispatchEvent=Gf.prototype.b,Gf.prototype.getRevision=Gf.prototype.L,Gf.prototype.on=Gf.prototype.J,Gf.prototype.once=Gf.prototype.once,Gf.prototype.un=Gf.prototype.K,ed.prototype.type=ed.prototype.type,ed.prototype.target=ed.prototype.target,ed.prototype.preventDefault=ed.prototype.preventDefault,ed.prototype.stopPropagation=ed.prototype.stopPropagation,Yi.prototype.getActive=Yi.prototype.c,Yi.prototype.getMap=Yi.prototype.i,Yi.prototype.setActive=Yi.prototype.Ia,Yi.prototype.get=Yi.prototype.get,Yi.prototype.getKeys=Yi.prototype.O,Yi.prototype.getProperties=Yi.prototype.N,Yi.prototype.set=Yi.prototype.set,Yi.prototype.setProperties=Yi.prototype.H,Yi.prototype.unset=Yi.prototype.P,Yi.prototype.changed=Yi.prototype.s,Yi.prototype.dispatchEvent=Yi.prototype.b,Yi.prototype.getRevision=Yi.prototype.L,Yi.prototype.on=Yi.prototype.J,Yi.prototype.once=Yi.prototype.once,Yi.prototype.un=Yi.prototype.K,Wi.prototype.getActive=Wi.prototype.c,Wi.prototype.getMap=Wi.prototype.i,Wi.prototype.setActive=Wi.prototype.Ia,Wi.prototype.get=Wi.prototype.get,Wi.prototype.getKeys=Wi.prototype.O,Wi.prototype.getProperties=Wi.prototype.N,Wi.prototype.set=Wi.prototype.set,Wi.prototype.setProperties=Wi.prototype.H,Wi.prototype.unset=Wi.prototype.P,Wi.prototype.changed=Wi.prototype.s,Wi.prototype.dispatchEvent=Wi.prototype.b,Wi.prototype.getRevision=Wi.prototype.L,Wi.prototype.on=Wi.prototype.J,Wi.prototype.once=Wi.prototype.once,Wi.prototype.un=Wi.prototype.K,nd.prototype.getActive=nd.prototype.c,nd.prototype.getMap=nd.prototype.i,nd.prototype.setActive=nd.prototype.Ia,nd.prototype.get=nd.prototype.get,nd.prototype.getKeys=nd.prototype.O,nd.prototype.getProperties=nd.prototype.N,nd.prototype.set=nd.prototype.set,nd.prototype.setProperties=nd.prototype.H,nd.prototype.unset=nd.prototype.P,nd.prototype.changed=nd.prototype.s,nd.prototype.dispatchEvent=nd.prototype.b,nd.prototype.getRevision=nd.prototype.L,nd.prototype.on=nd.prototype.J,nd.prototype.once=nd.prototype.once,nd.prototype.un=nd.prototype.K,gd.prototype.type=gd.prototype.type,gd.prototype.target=gd.prototype.target,gd.prototype.preventDefault=gd.prototype.preventDefault,gd.prototype.stopPropagation=gd.prototype.stopPropagation,qi.prototype.getActive=qi.prototype.c,qi.prototype.getMap=qi.prototype.i,qi.prototype.setActive=qi.prototype.Ia,qi.prototype.get=qi.prototype.get,qi.prototype.getKeys=qi.prototype.O,qi.prototype.getProperties=qi.prototype.N,qi.prototype.set=qi.prototype.set,qi.prototype.setProperties=qi.prototype.H,qi.prototype.unset=qi.prototype.P,qi.prototype.changed=qi.prototype.s,qi.prototype.dispatchEvent=qi.prototype.b,qi.prototype.getRevision=qi.prototype.L,qi.prototype.on=qi.prototype.J,qi.prototype.once=qi.prototype.once,qi.prototype.un=qi.prototype.K,Vi.prototype.getActive=Vi.prototype.c,Vi.prototype.getMap=Vi.prototype.i,Vi.prototype.setActive=Vi.prototype.Ia,Vi.prototype.get=Vi.prototype.get,Vi.prototype.getKeys=Vi.prototype.O,Vi.prototype.getProperties=Vi.prototype.N,Vi.prototype.set=Vi.prototype.set,Vi.prototype.setProperties=Vi.prototype.H,Vi.prototype.unset=Vi.prototype.P,Vi.prototype.changed=Vi.prototype.s,Vi.prototype.dispatchEvent=Vi.prototype.b,Vi.prototype.getRevision=Vi.prototype.L,Vi.prototype.on=Vi.prototype.J,Vi.prototype.once=Vi.prototype.once,Vi.prototype.un=Vi.prototype.K,Qi.prototype.getActive=Qi.prototype.c,Qi.prototype.getMap=Qi.prototype.i,Qi.prototype.setActive=Qi.prototype.Ia,Qi.prototype.get=Qi.prototype.get,Qi.prototype.getKeys=Qi.prototype.O,Qi.prototype.getProperties=Qi.prototype.N,Qi.prototype.set=Qi.prototype.set,Qi.prototype.setProperties=Qi.prototype.H,Qi.prototype.unset=Qi.prototype.P,Qi.prototype.changed=Qi.prototype.s,Qi.prototype.dispatchEvent=Qi.prototype.b,Qi.prototype.getRevision=Qi.prototype.L,Qi.prototype.on=Qi.prototype.J,Qi.prototype.once=Qi.prototype.once,Qi.prototype.un=Qi.prototype.K,md.prototype.getActive=md.prototype.c,md.prototype.getMap=md.prototype.i,md.prototype.setActive=md.prototype.Ia,md.prototype.get=md.prototype.get,md.prototype.getKeys=md.prototype.O,md.prototype.getProperties=md.prototype.N,md.prototype.set=md.prototype.set,md.prototype.setProperties=md.prototype.H,md.prototype.unset=md.prototype.P,md.prototype.changed=md.prototype.s,md.prototype.dispatchEvent=md.prototype.b,md.prototype.getRevision=md.prototype.L,md.prototype.on=md.prototype.J,md.prototype.once=md.prototype.once,md.prototype.un=md.prototype.K,xd.prototype.type=xd.prototype.type,xd.prototype.target=xd.prototype.target,xd.prototype.preventDefault=xd.prototype.preventDefault,xd.prototype.stopPropagation=xd.prototype.stopPropagation,wd.prototype.getActive=wd.prototype.c,wd.prototype.getMap=wd.prototype.i,wd.prototype.setActive=wd.prototype.Ia,wd.prototype.get=wd.prototype.get,wd.prototype.getKeys=wd.prototype.O,wd.prototype.getProperties=wd.prototype.N,wd.prototype.set=wd.prototype.set,wd.prototype.setProperties=wd.prototype.H,wd.prototype.unset=wd.prototype.P,wd.prototype.changed=wd.prototype.s,wd.prototype.dispatchEvent=wd.prototype.b,wd.prototype.getRevision=wd.prototype.L,wd.prototype.on=wd.prototype.J,wd.prototype.once=wd.prototype.once,wd.prototype.un=wd.prototype.K,Td.prototype.getActive=Td.prototype.c,Td.prototype.getMap=Td.prototype.i,Td.prototype.setActive=Td.prototype.Ia,Td.prototype.get=Td.prototype.get,Td.prototype.getKeys=Td.prototype.O,Td.prototype.getProperties=Td.prototype.N,Td.prototype.set=Td.prototype.set,Td.prototype.setProperties=Td.prototype.H,Td.prototype.unset=Td.prototype.P,Td.prototype.changed=Td.prototype.s,Td.prototype.dispatchEvent=Td.prototype.b,Td.prototype.getRevision=Td.prototype.L,Td.prototype.on=Td.prototype.J,Td.prototype.once=Td.prototype.once,Td.prototype.un=Td.prototype.K,kd.prototype.type=kd.prototype.type,kd.prototype.target=kd.prototype.target,kd.prototype.preventDefault=kd.prototype.preventDefault,kd.prototype.stopPropagation=kd.prototype.stopPropagation,oo.prototype.get=oo.prototype.get,oo.prototype.getKeys=oo.prototype.O,oo.prototype.getProperties=oo.prototype.N,oo.prototype.set=oo.prototype.set,oo.prototype.setProperties=oo.prototype.H,oo.prototype.unset=oo.prototype.P,oo.prototype.changed=oo.prototype.s,oo.prototype.dispatchEvent=oo.prototype.b,oo.prototype.getRevision=oo.prototype.L,oo.prototype.on=oo.prototype.J,oo.prototype.once=oo.prototype.once,oo.prototype.un=oo.prototype.K,ao.prototype.getClosestPoint=ao.prototype.Db,ao.prototype.intersectsCoordinate=ao.prototype.vb,ao.prototype.getExtent=ao.prototype.G,ao.prototype.rotate=ao.prototype.rotate,ao.prototype.scale=ao.prototype.scale,ao.prototype.simplify=ao.prototype.Pb,ao.prototype.transform=ao.prototype.wb,ao.prototype.get=ao.prototype.get,ao.prototype.getKeys=ao.prototype.O,ao.prototype.getProperties=ao.prototype.N,ao.prototype.set=ao.prototype.set,ao.prototype.setProperties=ao.prototype.H,ao.prototype.unset=ao.prototype.P,ao.prototype.changed=ao.prototype.s,ao.prototype.dispatchEvent=ao.prototype.b,ao.prototype.getRevision=ao.prototype.L,ao.prototype.on=ao.prototype.J,ao.prototype.once=ao.prototype.once,ao.prototype.un=ao.prototype.K,Ql.prototype.getFirstCoordinate=Ql.prototype.bc,Ql.prototype.getLastCoordinate=Ql.prototype.cc,Ql.prototype.getLayout=Ql.prototype.dc,Ql.prototype.rotate=Ql.prototype.rotate,Ql.prototype.scale=Ql.prototype.scale,Ql.prototype.getClosestPoint=Ql.prototype.Db,Ql.prototype.intersectsCoordinate=Ql.prototype.vb,Ql.prototype.getExtent=Ql.prototype.G,Ql.prototype.simplify=Ql.prototype.Pb,Ql.prototype.get=Ql.prototype.get,Ql.prototype.getKeys=Ql.prototype.O,Ql.prototype.getProperties=Ql.prototype.N,Ql.prototype.set=Ql.prototype.set,Ql.prototype.setProperties=Ql.prototype.H,Ql.prototype.unset=Ql.prototype.P,Ql.prototype.changed=Ql.prototype.s,Ql.prototype.dispatchEvent=Ql.prototype.b,Ql.prototype.getRevision=Ql.prototype.L,Ql.prototype.on=Ql.prototype.J,Ql.prototype.once=Ql.prototype.once,Ql.prototype.un=Ql.prototype.K,Ph.prototype.getClosestPoint=Ph.prototype.Db,Ph.prototype.intersectsCoordinate=Ph.prototype.vb,Ph.prototype.getExtent=Ph.prototype.G,Ph.prototype.rotate=Ph.prototype.rotate,Ph.prototype.scale=Ph.prototype.scale,Ph.prototype.simplify=Ph.prototype.Pb,Ph.prototype.transform=Ph.prototype.wb,Ph.prototype.get=Ph.prototype.get,Ph.prototype.getKeys=Ph.prototype.O,Ph.prototype.getProperties=Ph.prototype.N,Ph.prototype.set=Ph.prototype.set,Ph.prototype.setProperties=Ph.prototype.H,Ph.prototype.unset=Ph.prototype.P,Ph.prototype.changed=Ph.prototype.s,Ph.prototype.dispatchEvent=Ph.prototype.b,Ph.prototype.getRevision=Ph.prototype.L,Ph.prototype.on=Ph.prototype.J,Ph.prototype.once=Ph.prototype.once,Ph.prototype.un=Ph.prototype.K,Mo.prototype.getFirstCoordinate=Mo.prototype.bc,Mo.prototype.getLastCoordinate=Mo.prototype.cc,Mo.prototype.getLayout=Mo.prototype.dc,Mo.prototype.rotate=Mo.prototype.rotate,Mo.prototype.scale=Mo.prototype.scale,Mo.prototype.getClosestPoint=Mo.prototype.Db,Mo.prototype.intersectsCoordinate=Mo.prototype.vb,Mo.prototype.getExtent=Mo.prototype.G,Mo.prototype.simplify=Mo.prototype.Pb,Mo.prototype.transform=Mo.prototype.wb,Mo.prototype.get=Mo.prototype.get,Mo.prototype.getKeys=Mo.prototype.O,Mo.prototype.getProperties=Mo.prototype.N,Mo.prototype.set=Mo.prototype.set,Mo.prototype.setProperties=Mo.prototype.H,Mo.prototype.unset=Mo.prototype.P,Mo.prototype.changed=Mo.prototype.s,Mo.prototype.dispatchEvent=Mo.prototype.b,Mo.prototype.getRevision=Mo.prototype.L,Mo.prototype.on=Mo.prototype.J,Mo.prototype.once=Mo.prototype.once,Mo.prototype.un=Mo.prototype.K,ju.prototype.getFirstCoordinate=ju.prototype.bc,ju.prototype.getLastCoordinate=ju.prototype.cc,ju.prototype.getLayout=ju.prototype.dc,ju.prototype.rotate=ju.prototype.rotate,ju.prototype.scale=ju.prototype.scale,ju.prototype.getClosestPoint=ju.prototype.Db,ju.prototype.intersectsCoordinate=ju.prototype.vb,ju.prototype.getExtent=ju.prototype.G,ju.prototype.simplify=ju.prototype.Pb,ju.prototype.transform=ju.prototype.wb,ju.prototype.get=ju.prototype.get,ju.prototype.getKeys=ju.prototype.O,ju.prototype.getProperties=ju.prototype.N,ju.prototype.set=ju.prototype.set,ju.prototype.setProperties=ju.prototype.H,ju.prototype.unset=ju.prototype.P,ju.prototype.changed=ju.prototype.s,ju.prototype.dispatchEvent=ju.prototype.b,ju.prototype.getRevision=ju.prototype.L,ju.prototype.on=ju.prototype.J,ju.prototype.once=ju.prototype.once,ju.prototype.un=ju.prototype.K,Bu.prototype.getFirstCoordinate=Bu.prototype.bc,Bu.prototype.getLastCoordinate=Bu.prototype.cc,Bu.prototype.getLayout=Bu.prototype.dc,Bu.prototype.rotate=Bu.prototype.rotate,Bu.prototype.scale=Bu.prototype.scale,Bu.prototype.getClosestPoint=Bu.prototype.Db,Bu.prototype.intersectsCoordinate=Bu.prototype.vb,Bu.prototype.getExtent=Bu.prototype.G,Bu.prototype.simplify=Bu.prototype.Pb,Bu.prototype.transform=Bu.prototype.wb,Bu.prototype.get=Bu.prototype.get,Bu.prototype.getKeys=Bu.prototype.O,Bu.prototype.getProperties=Bu.prototype.N,Bu.prototype.set=Bu.prototype.set,Bu.prototype.setProperties=Bu.prototype.H,Bu.prototype.unset=Bu.prototype.P,Bu.prototype.changed=Bu.prototype.s,Bu.prototype.dispatchEvent=Bu.prototype.b,Bu.prototype.getRevision=Bu.prototype.L,Bu.prototype.on=Bu.prototype.J,Bu.prototype.once=Bu.prototype.once,Bu.prototype.un=Bu.prototype.K,Yu.prototype.getFirstCoordinate=Yu.prototype.bc,Yu.prototype.getLastCoordinate=Yu.prototype.cc,Yu.prototype.getLayout=Yu.prototype.dc,Yu.prototype.rotate=Yu.prototype.rotate,Yu.prototype.scale=Yu.prototype.scale,Yu.prototype.getClosestPoint=Yu.prototype.Db,Yu.prototype.intersectsCoordinate=Yu.prototype.vb,Yu.prototype.getExtent=Yu.prototype.G,Yu.prototype.simplify=Yu.prototype.Pb,Yu.prototype.transform=Yu.prototype.wb,Yu.prototype.get=Yu.prototype.get,Yu.prototype.getKeys=Yu.prototype.O,Yu.prototype.getProperties=Yu.prototype.N,Yu.prototype.set=Yu.prototype.set,Yu.prototype.setProperties=Yu.prototype.H,Yu.prototype.unset=Yu.prototype.P,Yu.prototype.changed=Yu.prototype.s,Yu.prototype.dispatchEvent=Yu.prototype.b,Yu.prototype.getRevision=Yu.prototype.L,Yu.prototype.on=Yu.prototype.J,Yu.prototype.once=Yu.prototype.once,Yu.prototype.un=Yu.prototype.K,Gu.prototype.getFirstCoordinate=Gu.prototype.bc,Gu.prototype.getLastCoordinate=Gu.prototype.cc,Gu.prototype.getLayout=Gu.prototype.dc,Gu.prototype.rotate=Gu.prototype.rotate,Gu.prototype.scale=Gu.prototype.scale,Gu.prototype.getClosestPoint=Gu.prototype.Db,Gu.prototype.intersectsCoordinate=Gu.prototype.vb,Gu.prototype.getExtent=Gu.prototype.G,Gu.prototype.simplify=Gu.prototype.Pb,Gu.prototype.transform=Gu.prototype.wb,Gu.prototype.get=Gu.prototype.get,Gu.prototype.getKeys=Gu.prototype.O,Gu.prototype.getProperties=Gu.prototype.N,Gu.prototype.set=Gu.prototype.set,Gu.prototype.setProperties=Gu.prototype.H,Gu.prototype.unset=Gu.prototype.P,Gu.prototype.changed=Gu.prototype.s,Gu.prototype.dispatchEvent=Gu.prototype.b,Gu.prototype.getRevision=Gu.prototype.L,Gu.prototype.on=Gu.prototype.J,Gu.prototype.once=Gu.prototype.once,Gu.prototype.un=Gu.prototype.K,Ao.prototype.getFirstCoordinate=Ao.prototype.bc,Ao.prototype.getLastCoordinate=Ao.prototype.cc,Ao.prototype.getLayout=Ao.prototype.dc,Ao.prototype.rotate=Ao.prototype.rotate,Ao.prototype.scale=Ao.prototype.scale,Ao.prototype.getClosestPoint=Ao.prototype.Db,Ao.prototype.intersectsCoordinate=Ao.prototype.vb,Ao.prototype.getExtent=Ao.prototype.G,Ao.prototype.simplify=Ao.prototype.Pb,Ao.prototype.transform=Ao.prototype.wb,Ao.prototype.get=Ao.prototype.get,Ao.prototype.getKeys=Ao.prototype.O,Ao.prototype.getProperties=Ao.prototype.N,Ao.prototype.set=Ao.prototype.set,Ao.prototype.setProperties=Ao.prototype.H,Ao.prototype.unset=Ao.prototype.P,Ao.prototype.changed=Ao.prototype.s,Ao.prototype.dispatchEvent=Ao.prototype.b,Ao.prototype.getRevision=Ao.prototype.L,Ao.prototype.on=Ao.prototype.J,Ao.prototype.once=Ao.prototype.once,Ao.prototype.un=Ao.prototype.K,Bo.prototype.getFirstCoordinate=Bo.prototype.bc,Bo.prototype.getLastCoordinate=Bo.prototype.cc,Bo.prototype.getLayout=Bo.prototype.dc,Bo.prototype.rotate=Bo.prototype.rotate,Bo.prototype.scale=Bo.prototype.scale,Bo.prototype.getClosestPoint=Bo.prototype.Db,Bo.prototype.intersectsCoordinate=Bo.prototype.vb,Bo.prototype.getExtent=Bo.prototype.G,Bo.prototype.simplify=Bo.prototype.Pb,Bo.prototype.transform=Bo.prototype.wb,Bo.prototype.get=Bo.prototype.get,Bo.prototype.getKeys=Bo.prototype.O,Bo.prototype.getProperties=Bo.prototype.N,Bo.prototype.set=Bo.prototype.set,Bo.prototype.setProperties=Bo.prototype.H,Bo.prototype.unset=Bo.prototype.P,Bo.prototype.changed=Bo.prototype.s,Bo.prototype.dispatchEvent=Bo.prototype.b,Bo.prototype.getRevision=Bo.prototype.L,Bo.prototype.on=Bo.prototype.J,Bo.prototype.once=Bo.prototype.once,Bo.prototype.un=Bo.prototype.K,zh.prototype.readFeatures=zh.prototype.Oa,Hh.prototype.readFeatures=Hh.prototype.Oa,zh.prototype.readFeatures=zh.prototype.Oa,Ie.prototype.get=Ie.prototype.get,Ie.prototype.getKeys=Ie.prototype.O,Ie.prototype.getProperties=Ie.prototype.N,Ie.prototype.set=Ie.prototype.set,Ie.prototype.setProperties=Ie.prototype.H,Ie.prototype.unset=Ie.prototype.P,Ie.prototype.changed=Ie.prototype.s,Ie.prototype.dispatchEvent=Ie.prototype.b,Ie.prototype.getRevision=Ie.prototype.L,Ie.prototype.on=Ie.prototype.J,Ie.prototype.once=Ie.prototype.once,Ie.prototype.un=Ie.prototype.K,Le.prototype.getMap=Le.prototype.g,Le.prototype.setMap=Le.prototype.setMap,Le.prototype.setTarget=Le.prototype.i,Le.prototype.get=Le.prototype.get,Le.prototype.getKeys=Le.prototype.O,Le.prototype.getProperties=Le.prototype.N,Le.prototype.set=Le.prototype.set,Le.prototype.setProperties=Le.prototype.H,Le.prototype.unset=Le.prototype.P,Le.prototype.changed=Le.prototype.s,Le.prototype.dispatchEvent=Le.prototype.b,Le.prototype.getRevision=Le.prototype.L,Le.prototype.on=Le.prototype.J,Le.prototype.once=Le.prototype.once,Le.prototype.un=Le.prototype.K,Ue.prototype.getMap=Ue.prototype.g,Ue.prototype.setMap=Ue.prototype.setMap,Ue.prototype.setTarget=Ue.prototype.i,Ue.prototype.get=Ue.prototype.get,Ue.prototype.getKeys=Ue.prototype.O,Ue.prototype.getProperties=Ue.prototype.N,Ue.prototype.set=Ue.prototype.set,Ue.prototype.setProperties=Ue.prototype.H,Ue.prototype.unset=Ue.prototype.P,Ue.prototype.changed=Ue.prototype.s,Ue.prototype.dispatchEvent=Ue.prototype.b,Ue.prototype.getRevision=Ue.prototype.L,Ue.prototype.on=Ue.prototype.J,Ue.prototype.once=Ue.prototype.once,Ue.prototype.un=Ue.prototype.K,ze.prototype.getMap=ze.prototype.g,ze.prototype.setMap=ze.prototype.setMap,ze.prototype.setTarget=ze.prototype.i,ze.prototype.get=ze.prototype.get,ze.prototype.getKeys=ze.prototype.O,ze.prototype.getProperties=ze.prototype.N,ze.prototype.set=ze.prototype.set,ze.prototype.setProperties=ze.prototype.H,ze.prototype.unset=ze.prototype.P,ze.prototype.changed=ze.prototype.s,ze.prototype.dispatchEvent=ze.prototype.b,ze.prototype.getRevision=ze.prototype.L,ze.prototype.on=ze.prototype.J,ze.prototype.once=ze.prototype.once,ze.prototype.un=ze.prototype.K,Rs.prototype.getMap=Rs.prototype.g,Rs.prototype.setMap=Rs.prototype.setMap,Rs.prototype.setTarget=Rs.prototype.i,Rs.prototype.get=Rs.prototype.get,Rs.prototype.getKeys=Rs.prototype.O,Rs.prototype.getProperties=Rs.prototype.N,Rs.prototype.set=Rs.prototype.set,Rs.prototype.setProperties=Rs.prototype.H,Rs.prototype.unset=Rs.prototype.P,Rs.prototype.changed=Rs.prototype.s,Rs.prototype.dispatchEvent=Rs.prototype.b,Rs.prototype.getRevision=Rs.prototype.L,Rs.prototype.on=Rs.prototype.J,Rs.prototype.once=Rs.prototype.once,Rs.prototype.un=Rs.prototype.K,je.prototype.getMap=je.prototype.g,je.prototype.setMap=je.prototype.setMap,je.prototype.setTarget=je.prototype.i,je.prototype.get=je.prototype.get,je.prototype.getKeys=je.prototype.O,je.prototype.getProperties=je.prototype.N,je.prototype.set=je.prototype.set,je.prototype.setProperties=je.prototype.H,je.prototype.unset=je.prototype.P,je.prototype.changed=je.prototype.s,je.prototype.dispatchEvent=je.prototype.b,je.prototype.getRevision=je.prototype.L,je.prototype.on=je.prototype.J,je.prototype.once=je.prototype.once,je.prototype.un=je.prototype.K,Bs.prototype.getMap=Bs.prototype.g,Bs.prototype.setMap=Bs.prototype.setMap,Bs.prototype.setTarget=Bs.prototype.i,Bs.prototype.get=Bs.prototype.get,Bs.prototype.getKeys=Bs.prototype.O,Bs.prototype.getProperties=Bs.prototype.N,Bs.prototype.set=Bs.prototype.set,Bs.prototype.setProperties=Bs.prototype.H,Bs.prototype.unset=Bs.prototype.P,Bs.prototype.changed=Bs.prototype.s,Bs.prototype.dispatchEvent=Bs.prototype.b,Bs.prototype.getRevision=Bs.prototype.L,Bs.prototype.on=Bs.prototype.J,Bs.prototype.once=Bs.prototype.once,Bs.prototype.un=Bs.prototype.K,Be.prototype.getMap=Be.prototype.g,Be.prototype.setMap=Be.prototype.setMap,Be.prototype.setTarget=Be.prototype.i,Be.prototype.get=Be.prototype.get,Be.prototype.getKeys=Be.prototype.O,Be.prototype.getProperties=Be.prototype.N,Be.prototype.set=Be.prototype.set,Be.prototype.setProperties=Be.prototype.H,Be.prototype.unset=Be.prototype.P,Be.prototype.changed=Be.prototype.s,Be.prototype.dispatchEvent=Be.prototype.b,Be.prototype.getRevision=Be.prototype.L,Be.prototype.on=Be.prototype.J,Be.prototype.once=Be.prototype.once,Be.prototype.un=Be.prototype.K,Ys.prototype.getMap=Ys.prototype.g,Ys.prototype.setMap=Ys.prototype.setMap,Ys.prototype.setTarget=Ys.prototype.i,Ys.prototype.get=Ys.prototype.get,Ys.prototype.getKeys=Ys.prototype.O,Ys.prototype.getProperties=Ys.prototype.N,Ys.prototype.set=Ys.prototype.set,Ys.prototype.setProperties=Ys.prototype.H,Ys.prototype.unset=Ys.prototype.P,Ys.prototype.changed=Ys.prototype.s,Ys.prototype.dispatchEvent=Ys.prototype.b,Ys.prototype.getRevision=Ys.prototype.L,Ys.prototype.on=Ys.prototype.J,Ys.prototype.once=Ys.prototype.once,Ys.prototype.un=Ys.prototype.K,qs.prototype.getMap=qs.prototype.g,qs.prototype.setMap=qs.prototype.setMap,qs.prototype.setTarget=qs.prototype.i,qs.prototype.get=qs.prototype.get,qs.prototype.getKeys=qs.prototype.O,qs.prototype.getProperties=qs.prototype.N,qs.prototype.set=qs.prototype.set,qs.prototype.setProperties=qs.prototype.H,qs.prototype.unset=qs.prototype.P,qs.prototype.changed=qs.prototype.s,qs.prototype.dispatchEvent=qs.prototype.b,qs.prototype.getRevision=qs.prototype.L,qs.prototype.on=qs.prototype.J,qs.prototype.once=qs.prototype.once,qs.prototype.un=qs.prototype.K,Av.ol})},function(t,e,n){"use strict";function o(t,e,n){e=e||1;for(var o,a,u,p,l=0;l<t[0].length;l++){var c=t[0][l];(!l||c[0]<o)&&(o=c[0]),(!l||c[1]<a)&&(a=c[1]),(!l||c[0]>u)&&(u=c[0]),(!l||c[1]>p)&&(p=c[1])}var f=u-o,d=p-a,y=Math.min(f,d),v=y/2,g=new h(null,i);if(0===y)return[o,a];for(var m=o;m<u;m+=y)for(var b=a;b<p;b+=y)g.push(new r(m+v,b+v,v,t));var _=s(t),x=new r(o+f/2,a+d/2,0,t);x.d>_.d&&(_=x);for(var w=g.length;g.length;){var P=g.pop();P.d>_.d&&(_=P,n&&console.log("found best %d after %d probes",Math.round(1e4*P.d)/1e4,w)),P.max-_.d<=e||(v=P.h/2,g.push(new r(P.x-v,P.y-v,v,t)),g.push(new r(P.x+v,P.y-v,v,t)),g.push(new r(P.x-v,P.y+v,v,t)),g.push(new r(P.x+v,P.y+v,v,t)),w+=4)}return n&&(console.log("num probes: "+w),console.log("best distance: "+_.d)),[_.x,_.y]}function i(t,e){return e.max-t.max}function r(t,e,n,o){this.x=t,this.y=e,this.h=n,this.d=a(t,e,o),this.max=this.d+this.h*Math.SQRT2}function a(t,e,n){for(var o=!1,i=1/0,r=0;r<n.length;r++)for(var a=n[r],s=0,h=a.length,p=h-1;s<h;p=s++){var l=a[s],c=a[p];l[1]>e!=c[1]>e&&t<(c[0]-l[0])*(e-l[1])/(c[1]-l[1])+l[0]&&(o=!o),i=Math.min(i,u(t,e,l,c))}return(o?1:-1)*Math.sqrt(i)}function s(t){for(var e=0,n=0,o=0,i=t[0],a=0,s=i.length,u=s-1;a<s;u=a++){var h=i[a],p=i[u],l=h[0]*p[1]-p[0]*h[1];n+=(h[0]+p[0])*l,o+=(h[1]+p[1])*l,e+=3*l}return 0===e?new r(i[0][0],i[0][1],0,t):new r(n/e,o/e,0,t)}function u(t,e,n,o){var i=n[0],r=n[1],a=o[0]-i,s=o[1]-r;if(0!==a||0!==s){var u=((t-i)*a+(e-r)*s)/(a*a+s*s);u>1?(i=o[0],r=o[1]):u>0&&(i+=a*u,r+=s*u)}return a=t-i,s=e-r,a*a+s*s}var h=n(232);t.exports=o,t.exports.default=o},function(t,e,n){"use strict";t.exports=n(46),n(226),n(227),n(228)},function(t,e,n){"use strict";var o=n(46),i=n(33);t.exports=o,o.prototype.done=function(t,e){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(t){i(function(){throw t})})}},function(t,e,n){"use strict";function o(t){this.then=function(e){return"function"!=typeof e?this:new i(function(n,o){r(function(){try{n(e(t))}catch(t){o(t)}})})}}var i=n(46),r=n(33);t.exports=i,o.prototype=i.prototype;var a=new o(!0),s=new o(!1),u=new o(null),h=new o(void 0),p=new o(0),l=new o("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return u;if(void 0===t)return h;if(t===!0)return a;if(t===!1)return s;if(0===t)return p;if(""===t)return l;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return new o(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function o(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){o(r,t)},n)}e[r]=a,0===--i&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var i=e.length,r=0;r<e.length;r++)o(r,e[r])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,e,n){"use strict";var o=n(46),i=n(33);t.exports=o,o.denodeify=function(t,e){return e=e||1/0,function(){var n=this,i=Array.prototype.slice.call(arguments);return new o(function(o,r){for(;i.length&&i.length>e;)i.pop();i.push(function(t,e){t?r(t):o(e)});var a=t.apply(n,i);!a||"object"!=typeof a&&"function"!=typeof a||"function"!=typeof a.then||o(a)})}},o.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="function"==typeof e[e.length-1]?e.pop():null,r=this;try{return t.apply(this,arguments).nodeify(n,r)}catch(t){if(null===n||"undefined"==typeof n)return new o(function(e,n){n(t)});i(function(){n.call(r,t)})}}},o.prototype.nodeify=function(t,e){return"function"!=typeof t?this:void this.then(function(n){i(function(){t.call(e,null,n)})},function(n){i(function(){t.call(e,n)})})}},function(t,e,n){var o,i;/*!
	  * $script.js JS loader & dependency manager
	  * https://github.com/ded/script.js
	  * (c) Dustin Diaz 2014 | License MIT
	  */
!function(r,a){"undefined"!=typeof t&&t.exports?t.exports=a():(o=a,i="function"==typeof o?o.call(e,n,e,t):o,!(void 0!==i&&(t.exports=i)))}("$script",function(){function t(t,e){for(var n=0,o=t.length;n<o;++n)if(!e(t[n]))return u;return 1}function e(e,n){t(e,function(t){return!n(t)})}function n(r,a,s){function u(t){return t.call?t():c[t]}function p(){if(!--m){c[g]=1,v&&v();for(var n in d)t(n.split("|"),u)&&!e(d[n],u)&&(d[n]=[])}}r=r[h]?r:[r];var l=a&&a.call,v=l?a:s,g=l?r.join(""):a,m=r.length;return setTimeout(function(){e(r,function t(e,n){return null===e?p():(n||/^https?:\/\//.test(e)||!i||(e=e.indexOf(".js")===-1?i+e+".js":i+e),y[e]?(g&&(f[g]=1),2==y[e]?p():setTimeout(function(){t(e,!0)},0)):(y[e]=1,g&&(f[g]=1),void o(e,p)))})},0),n}function o(t,e){var n,o=a.createElement("script");o.onload=o.onerror=o[l]=function(){o[p]&&!/^c|loade/.test(o[p])||n||(o.onload=o[l]=null,n=1,y[t]=2,e())},o.async=1,o.src=r?t+(t.indexOf("?")===-1?"?":"&")+r:t,s.insertBefore(o,s.lastChild)}var i,r,a=document,s=a.getElementsByTagName("head")[0],u=!1,h="push",p="readyState",l="onreadystatechange",c={},f={},d={},y={};return n.get=o,n.order=function(t,e,o){!function i(r){r=t.shift(),t.length?n(r,i):n(r,e,o)}()},n.path=function(t){i=t},n.urlArgs=function(t){r=t},n.ready=function(o,i,r){o=o[h]?o:[o];var a=[];return!e(o,function(t){c[t]||a[h](t)})&&t(o,function(t){return c[t]})?i():!function(t){d[t]=d[t]||[],d[t][h](i),r&&r(a)}(o.join("|")),n},n.done=function(t){n([null],t)},n})},function(t,e,n){(function(t,e){!function(t,n){"use strict";function o(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return y[d]=o,f(d),d++}function i(t){delete y[t]}function r(t){var e=t.callback,o=t.args;switch(o.length){case 0:e();break;case 1:e(o[0]);break;case 2:e(o[0],o[1]);break;case 3:e(o[0],o[1],o[2]);break;default:e.apply(n,o)}}function a(t){if(v)setTimeout(a,0,t);else{var e=y[t];if(e){v=!0;try{r(e)}finally{i(t),v=!1}}}}function s(){f=function(t){e.nextTick(function(){a(t)})}}function u(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function h(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),f=function(n){t.postMessage(e+n,"*")}}function p(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;a(e)},f=function(e){t.port2.postMessage(e)}}function l(){var t=g.documentElement;f=function(e){var n=g.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function c(){f=function(t){setTimeout(a,0,t)}}if(!t.setImmediate){var f,d=1,y={},v=!1,g=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?s():u()?h():t.MessageChannel?p():g&&"onreadystatechange"in g.createElement("script")?l():c(),m.setImmediate=o,m.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),n(97))},function(t,e,n){function o(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new o(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(230),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||o,this.length>0)for(var i=this.length>>1;i>=0;i--)this._down(i)}function o(t,e){return t<e?-1:t>e?1:0}t.exports=n,n.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,o=e[t];t>0;){var i=t-1>>1,r=e[i];if(n(o,r)>=0)break;e[t]=r,t=i}e[t]=o},_down:function(t){for(var e=this.data,n=this.compare,o=this.length,i=o>>1,r=e[t];t<i;){var a=(t<<1)+1,s=a+1,u=e[a];if(s<o&&n(e[s],u)<0&&(a=s,u=e[s]),n(u,r)>=0)break;e[t]=u,t=a}e[t]=r}}},function(t,e,n){var o,i;/*!
	 * Unipointer v2.2.0
	 * base class for doing one thing with pointer event
	 * MIT license
	 */
!function(r,a){o=[n(96)],i=function(t){return a(r,t)}.apply(e,o),!(void 0!==i&&(t.exports=i))}(window,function(t,e){"use strict";function n(){}function o(){}var i=o.prototype=Object.create(e.prototype);i.bindStartEvent=function(t){this._bindStartEvent(t,!0)},i.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},i._bindStartEvent=function(e,n){n=void 0===n||!!n;var o=n?"addEventListener":"removeEventListener";t.PointerEvent?e[o]("pointerdown",this):(e[o]("mousedown",this),e[o]("touchstart",this))},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.getTouch=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},i.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},i.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},i.onpointerdown=function(t){this._pointerDown(t,t)},i._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},i.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var r={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return i._bindPostStartEvents=function(e){if(e){var n=r[e.type];n.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=n}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(t){this._pointerMove(t,t)},i.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},i.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},i._pointerMove=function(t,e){this.pointerMove(t,e)},i.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},i.onmouseup=function(t){this._pointerUp(t,t)},i.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},i.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},i._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},i._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},i.pointerDone=n,i.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},i.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},i._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},i.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},o.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},o})},,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},,,,function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function o(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=l[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(u(o.parts[r],e))}else{for(var a=[],r=0;r<o.parts.length;r++)a.push(u(o.parts[r],e));l[o.id]={id:o.id,refs:1,parts:a}}}}function i(t){for(var e=[],n={},o=0;o<t.length;o++){var i=t[o],r=i[0],a=i[1],s=i[2],u=i[3],h={css:a,media:s,sourceMap:u};n[r]?n[r].parts.push(h):e.push(n[r]={id:r,parts:[h]})}return e}function r(t,e){var n=d(),o=g[g.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function u(t,e){var n,o,i;if(e.singleton){var r=v++;n=y||(y=s(e)),o=h.bind(null,n,r,!1),i=h.bind(null,n,r,!0)}else n=s(e),o=p.bind(null,n),i=function(){a(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}function h(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function p(t,e){var n=e.css,o=e.media,i=e.sourceMap;if(o&&t.setAttribute("media",o),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var l={},c=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},f=c(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),d=c(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,v=0,g=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=f()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return o(n,e),function(t){for(var r=[],a=0;a<n.length;a++){var s=n[a],u=l[s.id];u.refs--,r.push(u)}if(t){var h=i(t);o(h,e)}for(var a=0;a<r.length;a++){var u=r[a];if(0===u.refs){for(var p=0;p<u.parts.length;p++)u.parts[p]();delete l[u.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=vendor.cb96c69ce6d0cb065939.js.map
	webpackJsonp([2,0],[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(73),a=n(r),o=i(111),s=n(o),c=i(131),u=n(c),d=i(234),l=n(d);window.application=new a.default({store:s.default,el:"#app",template:"<App/>",components:{App:l.default}}),u.default.init(s.default),window.eventBus=window.application.$children[0]},,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(i*i+n*n)}function a(e){return 2===e.length&&p.default.isNumber(e[0])&&p.default.isNumber(e[1])}function o(e){return e.length>=1&&p.default.every(e,a)}function s(e){return e.length>=1&&p.default.every(e,o)}Object.defineProperty(t,"__esModule",{value:!0});var c=i(1),u=n(c),d=i(21),l=n(d);t.distanceBetweenPoints=r;var f=i(4),p=n(f),h=i(221),m=n(h),g=i(25),y={clipScale:100,offset:.01,setOperation:function(e,t,i){var n=t.map(function(e){return{X:e.x,Y:e.y}}),r=i.map(function(e){return{X:e.x,Y:e.y}}),a=new m.default.ClipperOffset,o=new m.default.Paths,s=new m.default.Paths;a.AddPaths([n],m.default.JoinType.jtMiter,m.default.EndType.etClosedPolygon),a.Execute(o,this.offset),a.Clear(),a.AddPaths([r],m.default.JoinType.jtMiter,m.default.EndType.etClosedPolygon),a.Execute(s,this.offset),a.Clear(),m.default.JS.ScaleUpPaths(o,this.clipScale),m.default.JS.ScaleUpPaths(s,this.clipScale);var c=new m.default.Clipper,u=new m.default.Paths;c.AddPaths(o,m.default.PolyType.ptSubject,!0),c.AddPaths(s,m.default.PolyType.ptClip,!0);var d="union"===e?m.default.ClipType.ctUnion:"intersection"===e?m.default.ClipType.ctIntersection:"difference"===e?m.default.ClipType.ctDifference:null;if(null===d)throw new Error('invalid operation "'+e+'". expected union, intersection, or difference');c.Execute(d,u,m.default.PolyFillType.pftEvenOdd,m.default.PolyFillType.pftEvenOdd),m.default.JS.ScaleDownPaths(u,this.clipScale);var l=new m.default.Paths;return a.AddPaths(u,m.default.JoinType.jtMiter,m.default.EndType.etClosedPolygon),a.Execute(l,-this.offset),1===l.length?l[0].map(function(e){return{x:e.X,y:e.Y}}):0===l.length?[]:{error:y.clipperPolygonHasHoles(l)?"no holes":"no split faces"}},clipperPolygonHasHoles:function(e){var t=e[0].map(function(e){return[e.X,e.Y]}),i=[e[1][0].X,e[1][0].Y];return y.inRing(i,t)},intersection:function(e,t){return this.setOperation("intersection",e,t)},union:function(e,t){return this.setOperation("union",e,t)},difference:function(e,t){return this.setOperation("difference",e,t)},areaOfSelection:function(e){var t=e.map(function(e){return{X:e.x,Y:e.y}});return m.default.JS.AreaOfPolygon(t)},splittingVerticesForEdgeId:function(e,t){var i=this,n=t.edges.find(function(t){return t.id===e}),r=this.vertexForId(n.v1,t),a=this.vertexForId(n.v2,t);return t.vertices.filter(function(e){if(!(n.v1===e.id||n.v2===e.id||r.x===e.x&&r.y===e.y||a.x===e.x&&a.y===e.y)){var t=i.projectionOfPointToLine(e,{p1:r,p2:a});return i.distanceBetweenPoints(e,t)<=1/i.clipScale}})},projectionOfPointToLine:function(e,t){var i=t.p1,n=i.x,r=i.y,a=t.p2,o=a.x,s=a.y,c=e.x-n,u=e.y-r,d=o-n,l=s-r,f=c*d+u*l,p=d*d+l*l||2,h=f/p;return h<=0?t.p1:h>1?t.p2:{x:n+h*d,y:r+h*l}},distanceBetweenPoints:r,intersectionOfLines:function(e,t,i,n){var r=1e-7,a=function(e,t,i){return e-r<=t&&t<=i+r},o=((e.x*t.y-e.y*t.x)*(i.x-n.x)-(e.x-t.x)*(i.x*n.y-i.y*n.x))/((e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x)),s=((e.x*t.y-e.y*t.x)*(i.y-n.y)-(e.y-t.y)*(i.x*n.y-i.y*n.x))/((e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x));if(isNaN(o)||isNaN(s)||this.distanceBetweenPoints({x:o,y:s},e)<r||this.distanceBetweenPoints({x:o,y:s},t)<r||this.distanceBetweenPoints({x:o,y:s},i)<r||this.distanceBetweenPoints({x:o,y:s},n)<r)return!1;if(e.x>=t.x){if(!a(t.x,o,e.x))return!1}else if(!a(e.x,o,t.x))return!1;if(e.y>=t.y){if(!a(t.y,s,e.y))return!1}else if(!a(e.y,s,t.y))return!1;if(i.x>=n.x){if(!a(n.x,o,i.x))return!1}else if(!a(i.x,o,n.x))return!1;if(i.y>=n.y){if(!a(n.y,s,i.y))return!1}else if(!a(i.y,s,n.y))return!1;return{x:o,y:s}},vertexForId:function(e,t){return t.vertices.find(function(t){return t.id===e})},vertexForCoordinates:function(e,t){var i=this;return t.vertices.find(function(t){return i.distanceBetweenPoints(t,e)<1e-5})},verticesForFaceId:function(e,t){var i=this;return t.faces.find(function(t){return t.id===e}).edgeRefs.map(function(e){var n=i.edgeForId(e.edge_id,t),r=e.reverse?n.v2:n.v1;return i.vertexForId(r,t)})},edgeForId:function(e,t){return t.edges.find(function(t){return t.id===e})},edgesForVertexId:function(e,t){return t.edges.filter(function(t){return t.v1===e||t.v2===e})},edgesForFaceId:function(e,t){var i=this;return t.faces.find(function(t){return t.id===e}).edgeRefs.map(function(e){return i.edgeForId(e.edge_id,t)})},faceForId:function(e,t){return t.faces.find(function(t){return t.id===e})},facesForVertexId:function(e,t){var i=this;return t.faces.filter(function(n){return n.edgeRefs.find(function(n){var r=i.edgeForId(n.edge_id,t);return r.v1===e||r.v2===e})})},facesForEdgeId:function(e,t){return t.faces.filter(function(t){return t.edgeRefs.find(function(t){return t.edge_id===e})})},ptsAreCollinear:function(e,t,i){var n=[e.x,e.y],r=n[0],a=n[1],o=[t.x,t.y],s=o[0],c=o[1],u=i.x,d=i.y;return Math.abs((c-a)*(u-s)-(d-c)*(s-r))<1e-5},syntheticRectangleSnaps:function(e,t,i){var n=(t.x+i.x)/2,r=(t.y+i.y)/2;return[].concat((0,l.default)(e.map(function(e){var t=e.x,i=e.y;return{y:i,x:t+2*(n-t),synthetic:!0,originalPt:{x:t,y:i}}})),(0,l.default)(e.map(function(e){var t=e.x,i=e.y;return{x:t,y:i+2*(r-i),synthetic:!0,originalPt:{x:t,y:i}}})))},edgeDirection:function(e){var t=e.start,i=e.end,n=i.x-t.x,r=i.y-t.y;return 0===n?.5*Math.PI:Math.atan(r/n)},haveSimilarAngles:function(e,t){var i=this.edgeDirection(e)-this.edgeDirection(t),n=Math.min(Math.abs(i),Math.PI-i);return n<.05*Math.PI},pointDistanceToSegment:function(e,t){var i=t.start,n=t.end,r=y.projectionOfPointToLine(e,{p1:i,p2:n});return{dist:y.distanceBetweenPoints(e,r),proj:r}},exceptFace:function(e,t){return t?(0,u.default)({},e,{faces:p.default.reject(e.faces,{id:t})}):e},denormalize:function(e){var t=this,i=e.edges.map(function(i){return(0,u.default)({},i,{v1:t.vertexForId(i.v1,e),v2:t.vertexForId(i.v2,e)})}),n=p.default.zipObject(p.default.map(i,"id"),i),r=e.faces.map(function(e){return{id:e.id,edges:e.edgeRefs.map(function(e){var t=e.edge_id,i=e.reverse;return(0,u.default)({},n[t],{edge_id:t,reverse:i})}),get vertices(){return(0,g.dropConsecutiveDups)(p.default.flatMap(this.edges,function(e){return e.reverse?[e.v2,e.v1]:[e.v1,e.v2]}),function(e){return e.id})}}});return(0,u.default)({},e,{edges:i,faces:r})},normalize:function(e){var t=p.default.uniqBy([].concat((0,l.default)(e.edges),(0,l.default)(p.default.flatMap(e.faces,function(e){return e.edges}))),"id"),i=p.default.uniqBy([].concat((0,l.default)(e.vertices),(0,l.default)(p.default.flatMap(t,function(e){return[e.v1,e.v2]}))),"id");return{id:e.id,vertices:i.map(function(e){return p.default.pick(e,["id","x","y"])}),edges:t.map(function(e){return{id:e.id,v1:e.v1.id,v2:e.v2.id}}),faces:e.faces.map(function(e){return{id:e.id,edgeRefs:e.edges.map(function(e){return{edge_id:e.id,reverse:e.reverse}})}})}}};y.inside=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!a(e))throw new Error("point does not have correct coords: "+e);if(!s(t))throw new Error("polygon does not have correct coords: "+t);var n=y.bboxOfRing(t[0]);if(n&&y.inBBox(e,n)===!1)return!1;for(var r=!1,o=0;o<t.length&&!r;o++)if(y.inRing(e,t[0],i)){for(var c=!1,u=1;u<t.length&&!c;)y.inRing(e,t[u],!i)&&(c=!0),u++;c||(r=!0)}return r},y.bboxOfRing=function(e){return[p.default.min(p.default.map(e,0)),p.default.min(p.default.map(e,1)),p.default.max(p.default.map(e,0)),p.default.max(p.default.map(e,1))]},y.inRing=function(e,t,i){var n=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var r=0,a=t.length-1;r<t.length;a=r++){var o=t[r][0],s=t[r][1],c=t[a][0],u=t[a][1],d=e[1]*(o-c)+s*(c-e[0])+u*(e[0]-o)===0&&(o-e[0])*(c-e[0])<=0&&(s-e[1])*(u-e[1])<=0;if(d)return!i;var l=s>e[1]!=u>e[1]&&e[0]<(c-o)*(e[1]-s)/(u-s)+o;l&&(n=!n)}return n},t.default=y},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(77),a=n(r),o=i(49),s=n(o),c={map:s.default,displayNameForKey:function(e,t){return this.map[e].keymap[t]?this.map[e].keymap[t].private?null:this.map[e].keymap[t].displayName:t},valueForKey:function(e,t,i,n){return this.map[i].keymap[n]&&this.map[i].keymap[n].get?this.map[i].keymap[n].get(e,t):e[n]},setValueForKey:function(e,t,i,n,r){var o={success:!0};if(this.map[i].keymap[n]&&this.map[i].keymap[n].validator){var s=this.map[i].keymap[n].validator(e,t,r,i);if(o.success=s.success,!s.success)return o.error=s.error,o}return this.map[i].keymap[n]&&this.map[i].keymap[n].converter&&(r=this.map[i].keymap[n].converter(r)),"stories"===i?t.dispatch("models/updateStoryWithData",(0,a.default)({story:e},n,r)):"spaces"===i?t.dispatch("models/updateSpaceWithData",(0,a.default)({space:e},n,r)):"shading"===i?t.dispatch("models/updateShadingWithData",(0,a.default)({shading:e},n,r)):"images"===i?t.dispatch("models/updateImageWithData",(0,a.default)({image:e},n,r)):t.dispatch("models/updateObjectWithData",(0,a.default)({object:e},n,r)),o},inputTypeForKey:function(e,t){return this.map[e].keymap[t]&&!this.map[e].keymap[t].readonly?this.map[e].keymap[t].input_type:null},selectOptionsForKey:function(e,t,i,n){return this.map[i].keymap[n]&&!this.map[i].keymap[n].readonly&&"select"===this.map[i].keymap[n].input_type?this.map[i].keymap[n].select_data(e,t):[]},libraryObjectWithId:function(e,t){var i;for(var n in e.library)e.library.hasOwnProperty(n)&&!i&&e.library[n].find(function(e){return e.id===t})&&(i=e.library[n].find(function(e){return e.id===t}),i.type=n);if(!i&&e.stories.find(function(e){return e.id===t})&&(i=e.stories.find(function(e){return e.id===t}),i.type="story"),!i)for(var r=0;r<e.stories.length;r++){var a=e.stories[r];!i&&a.spaces.find(function(e){return e.id===t})&&(i=a.spaces.find(function(e){return e.id===t}),i.type="space"),!i&&a.shading.find(function(e){return e.id===t})&&(i=a.shading.find(function(e){return e.id===t}),i.type="shading"),!i&&a.images.find(function(e){return e.id===t})&&(i=a.images.find(function(e){return e.id===t}),i.type="image")}return i},modelForFace:function(e,t){for(var i=0;i<e.stories.length;i++){var n=e.stories[i],r=n.shading.find(function(e){return e.face_id===t}),a=n.spaces.find(function(e){return e.face_id===t});if(r)return r.type="shading",r;if(a)return a.type="space",a}},generateName:function(e,t,i){var n=this.modelsForType(e,t),r=s.default[t].displayName+" ";if(i){var a=e.stories.findIndex(function(e){return e.id===i.id})+1;r=r.concat(a+" - ")}for(var o="",c=1;!o;)o=r+c,n.find(function(e){return e.name===o})&&(o=""),c+=1;return o},modelsForType:function(e,t){switch(t){case"stories":return e.stories;case"shading":case"spaces":case"images":return e.stories.reduce(function(e,i){return e.concat(i[t])},[]);default:return e.library[t]}}};t.default=c},,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=Date.now();return function(){var n=Date.now();if(i+t<n){i=n;for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];e.apply(this,a)}}}function a(e,t){var i;return function(){for(var n=this,r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];clearTimeout(i),i=setTimeout(function(){i=null,e.apply(n,a)},t)}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default,i={};return e.filter(function(e){var n=t(e);return!i[n]&&(i[n]=!0,!0)})}function s(e){return p.default.flatten(e.map(function(t,i){return e.slice(i+1).map(function(e){return[t,e]})}))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default;return e.filter(function(i,n){return 0===n||t(i)!==t(e[n-1])})}function u(e){for(var t=[],i=e.parentNode.firstChild;i;i=i.nextSibling)1===i.nodeType&&i!==e&&t.push(i);return t}Object.defineProperty(t,"__esModule",{value:!0});var d=i(10),l=n(d);t.throttle=r,t.debounce=a,t.uniq=o,t.allPairs=s,t.dropConsecutiveDups=c,t.getSiblings=u;var f=i(4),p=n(f)},,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(73),a=n(r);t.default=new a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ResizeEvents=void 0;var r=i(34),a=n(r);t.ResizeEvents=a.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=1;t.default={setId:function(e){i=e},generate:function(){return function(){return String(i++)}}()}},,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={modes:{stories:"Story",images:"Image",spaces:"Space",shading:"Shading",building_units:"Building Unit",thermal_zones:"Thermal Zone",space_types:"Space Type"},palette:{shading:"#bbc3c7",neutral:"#bbc3c7",colors:["#002626","#007373","#000000","#004749","#009196","#8BC600","#b9ff14","#001516","#557a00","#E54C00","#ff7633","#993300","#EF9300","#ffb43d","#a36400"]}};t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(47),a=n(r),o={displayNameForMode:function(e){return a.default.modes[e]},config:a.default};t.default=o},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(15),o=r(a),s=i(4),c=r(s),u=i(75),d=r(u),l=i(126),f=r(l),p=i(122),h=n(p),m={building_units:{displayName:"Building Unit",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"color",displayName:"Color",input_type:"color",validator:f.default.color}],init:d.default.BuildingUnit},thermal_zones:{displayName:"Thermal Zone",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"color",displayName:"Color",input_type:"color",validator:f.default.color}],init:d.default.ThermalZone},space_types:{displayName:"Space Type",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"color",displayName:"Color",input_type:"color",validator:f.default.color}],init:d.default.SpaceType},construction_sets:{displayName:"Construction Set",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name}],init:d.default.ConstructionSet},windows:{displayName:"Window",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"story",displayName:"Story",readonly:!0,get:function(e,t){var i=t.models.stories.find(function(t){return t.windows.map(function(e){return e.id}).indexOf(e.id)!==-1});return i.name}}],init:d.default.Window},daylighting_controls:{displayName:"Daylighting Control",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name}],init:d.default.DaylightingControl},stories:{displayName:"Story",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"handle",readonly:!0,private:!0},{name:"geometry_id",readonly:!0,private:!0},{name:"below_floor_plenum_height",displayName:"Below Floor Plenum Height",input_type:"text",converter:h.number,validator:f.default.number},{name:"above_floor_plenum_height",displayName:"Above Floor Plenum Height",input_type:"text",converter:h.number,validator:f.default.number},{name:"floor_to_ceiling_height",displayName:"Floor To Ceiling Height",input_type:"text",converter:h.number,validator:f.default.number},{name:"multiplier",displayName:"Multiplier",input_type:"text",validator:f.default.number},{name:"spaces",displayName:"Spaces",readonly:!0,get:function(e,t){return e.spaces.map(function(e){return e.name}).join(", ")}},{name:"windows",displayName:"Windows",readonly:!0,private:!0,get:function(e,t){return e.windows.map(function(e){return e.name}).join(", ")}},{name:"shading",displayName:"Shading",readonly:!0,get:function(e,t){return e.shading.map(function(e){return e.name}).join(", ")}},{name:"images",readonly:!0,private:!0}]},spaces:{displayName:"Space",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"handle",readonly:!0,private:!0},{name:"face_id",readonly:!0,private:!0},{name:"daylighting_controls",displayName:"Daylighting Controls",readonly:!0,private:!0,get:function(e,t){return e.daylighting_controls.map(function(e){return e.name}).join(", ")}},{name:"story",displayName:"Story",readonly:!0,get:function(e,t){var i=t.models.stories.find(function(t){return~t.spaces.map(function(e){return e.id}).indexOf(e.id)});return i.name}},{name:"building_unit_id",displayName:"Building Unit",input_type:"select",select_data:function(e,t){var i={};return t.models.library.building_units.forEach(function(e){i[e.name]=e.id}),i},get:function(e,t){var i=t.models.library.building_units.find(function(t){return t.id===e.building_unit_id});return i?i.name:null}},{name:"thermal_zone_id",displayName:"Thermal Zone",input_type:"select",select_data:function(e,t){var i={};return t.models.library.thermal_zones.forEach(function(e){i[e.name]=e.id}),i},get:function(e,t){var i=t.models.library.thermal_zones.find(function(t){return t.id===e.thermal_zone_id});return i?i.name:null}},{name:"space_type_id",displayName:"Space Type",input_type:"select",select_data:function(e,t){var i={};return t.models.library.space_types.forEach(function(e){i[e.name]=e.id}),i},get:function(e,t){var i=t.models.library.space_types.find(function(t){return t.id===e.space_type_id});return i?i.name:null}},{name:"construction_set_id",displayName:"Construction Set",input_type:"select",select_data:function(e,t){var i={};return t.models.library.construction_sets.forEach(function(e){i[e.name]=e.id}),i},get:function(e,t){var i=t.models.library.construction_sets.find(function(t){return t.id===e.construction_set_id});return i?i.name:null}},{name:"color",displayName:"Color",input_type:"color",validator:f.default.color}]},shading:{displayName:"Shading",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"handle",readonly:!0,private:!0},{name:"face_id",readonly:!0,private:!0},{name:"color",readonly:!0,private:!0}]},images:{displayName:"Image",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"height",displayName:"Height",input_type:"text",validator:f.default.number},{name:"z",displayName:"z",input_type:"text",validator:f.default.number},{name:"opacity",displayName:"opacity",input_type:"text",validator:f.default.number},{name:"x",displayName:"x",input_type:"text",validator:f.default.number},{name:"y",displayName:"y",input_type:"text",validator:f.default.number},{name:"src",readonly:!0,private:!0}]}};(0,o.default)(m).forEach(function(e){m[e].keymap=c.default.zipObject(c.default.map(m[e].columns,"name"),m[e].columns)}),t.default=m},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(36),a=n(r),o=i(11);n(o);t.default={Vertex:function(e,t){return{id:a.default.generate(),x:e,y:t}},Edge:function(e,t){return{id:a.default.generate(),v1:e,v2:t}},Face:function(e){return{id:a.default.generate(),edgeRefs:e}},Geometry:function(){return{id:a.default.generate(),vertices:[],edges:[],faces:[]}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(36),a=n(r),o=i(133),s=n(o),c=i(47),u=n(c);t.default={Story:function(e){return{id:a.default.generate(),name:e,handle:null,geometry_id:null,below_floor_plenum_height:0,floor_to_ceiling_height:0,above_floor_plenum_height:0,multiplier:0,spaces:[],windows:[],shading:[],images:[]}},Space:function(e){return{id:a.default.generate(),name:e,color:(0,s.default)("space"),handle:null,face_id:null,daylighting_controls:[],building_unit_id:null,thermal_zone_id:null,space_type_id:null,construction_set_id:null,type:"space"}},Shading:function(e){return{id:a.default.generate(),name:e,color:u.default.palette.shading,handle:null,face_id:null}},Image:function(e,t){return{id:a.default.generate(),src:t,name:e,visible:!0,height:0,width:0,x:0,y:0,z:0,r:0,opacity:1}},BuildingUnit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),color:(0,s.default)("building_unit"),name:e.name}},ThermalZone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),color:(0,s.default)("thermal_zone"),name:e.name}},SpaceType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),color:(0,s.default)("space_type"),name:e.name}},ConstructionSet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),name:e.name}},Window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),name:e.name}},DaylightingControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),name:e.name}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(127),a=n(r),o=i(129),s=n(o),c=i(128),u=n(c);t.default={namespaced:!0,state:{config:{units:"ft",language:"EN-US",north_axis:0},grid:{visible:!0,spacing:5},view:{min_x:-250,min_y:-150,max_x:250,max_y:150},map:{initialized:!1,enabled:!0,visible:!0,latitude:39.7653,longitude:-104.9863,zoom:4.5,rotation:0,elevation:0},previous_story:{visible:!0},showImportExport:!0,transform:{k:1,x:0,y:0}},actions:a.default,mutations:s.default,getters:u.default}},,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(9),s=i(243),c=n(s),u=i(238),d=n(u),l=i(235),f=n(l),p=i(244),h=n(p),m=i(239),g=n(m),y=i(240),v=n(y);i(35);t.default={name:"app",data:function(){return{error:null,success:null}},beforeCreate:function(){this.$store.dispatch("models/initStory")},mounted:function(){var e=this;this.$on("uploadImage",function(e){document.getElementById("upload-image-input").click()}),this.$on("error",function(t){e.error=t,setTimeout(function(){e.error=null},5e3)}),this.$on("success",function(t){e.success=t,setTimeout(function(){e.success=null},5e3)}),this.$on("reload-grid",function(){document.getElementById("svg-grid").dispatchEvent(new Event("reloadGrid"))}),document.addEventListener("keydown",function(t){e.$store.timetravel&&(90===t.keyCode&&(t.ctrlKey||t.metaKey)?t.shiftKey?e.$store.timetravel.redo():e.$store.timetravel.undo():89==t.keyCode&&(t.ctrlKey||t.metaKey)&&e.$store.timetravel.redo())})},computed:(0,a.default)({},(0,o.mapState)({tool:function(e){return e.application.currentSelections.tool}})),components:{"grid-view":d.default,"canvas-view":f.default,"inspector-view":g.default,library:v.default,navigation:c.default,toolbar:h.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(237),s=n(o),c=i(236),u=n(c),d=i(9);t.default={name:"app",data:function(){return{}},computed:(0,a.default)({},(0,d.mapState)({mapEnabled:function(e){return e.project.map.enabled},mapVisible:function(e){return e.project.map.visible},northAxis:function(e){return e.project.config.north_axis}})),components:{"map-view":s.default,"images-view":u.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return{k:t.k/e.k,x:(t.x/t.k-e.x/e.k)*t.k,y:(t.y/t.k-e.y/e.k)*t.k}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(15),o=n(a),s=i(1),c=n(s),u=i(10),d=n(u),l=i(4),f=n(l),p=i(9),h=i(48),m=n(h),g=i(34),y=n(g),v=i(222),_=i(32);t.default={name:"images",data:function(){return{stage:null,layer:null,imageCache:[],scaleX:null,scaleY:null,rwuXtoPx:null,rwuYtoPx:null,debouncedRenderImages:null,transformAtLastRender:null}},mounted:function(){this.debouncedRenderImages=f.default.debounce(this.renderImages,10),y.default.$on("resize",this.renderImages),y.default.$on("zoomStabilized",this.renderImages),window.addEventListener("resize",this.renderImages),this.renderImages()},beforeDestroy:function(){y.default.$off("resize",this.renderImages),y.default.$off("zoomStabilized",this.renderImages),window.removeEventListener("resize",this.renderImages)},methods:{renderImages:function(){this.imageCache=JSON.parse((0,d.default)(this.images)),this.stage=new v.Stage({container:"images",width:document.getElementById("canvas").clientWidth,height:document.getElementById("canvas").clientHeight}),this.transformAtLastRender=(0,c.default)({},this.transform),this.rwuXtoPx=_.scaleLinear().domain([this.view.min_x,this.view.max_x]).range([0,this.$refs.images.clientWidth]),this.rwuYtoPx=_.scaleLinear().domain([this.view.min_y,this.view.max_y]).range([this.$refs.images.clientHeight,0]),this.layer=new v.Layer,this.stage.add(this.layer),this.images.forEach(this.renderImage),this.scaleAndPlaceStage()},renderImage:function(e){var t=this,i=e.width*this.pxPerRWU,n=e.height*this.pxPerRWU,r=new v.Group({x:this.rwuXtoPx(e.x),y:this.rwuYtoPx(e.y),offset:{x:i/2,y:n/2},draggable:"Drag"===this.currentTool}),a=new v.Image({x:0,y:0,width:i,height:n,opacity:e.opacity,name:"image",stroke:"#6AAC15",strokeWidth:3,strokeEnabled:"Drag"===this.currentTool&&this.currentImage&&this.currentImage.id===e.id}),o=new v.Circle({x:i/2,y:n/2,radius:3,name:"center"});r.imageId=e.id,this.layer.add(r),r.add(a).add(o).setZIndex(e.id).rotation(e.r);var s=new Image;s.onload=function(){a.image(s),t.layer.draw()},s.src=e.src,"Drag"===this.currentTool&&(this.initRotation(r),this.initResize(r)),r.on("click",function(){t.currentImage=e}),r.on("dragend",function(){t.currentImage=e;var i=a.size().width,n=a.size().height,s=r.rotation(),c=o.getAbsolutePosition(t.layer).x,u=o.getAbsolutePosition(t.layer).y;t.$store.dispatch("models/updateImageWithData",{image:e,x:t.rwuXtoPx.invert(c),y:t.rwuYtoPx.invert(u),r:s,width:i/t.pxPerRWU,height:n/t.pxPerRWU})})},initRotation:function(e){var t=this,i=e.get(".center")[0],n=new v.Circle({radius:6,name:"rotateAnchorCircle",stroke:m.default.config.palette.neutral,strokeWidth:2}),r=new v.Line({stroke:m.default.config.palette.neutral,strokeWidth:2,name:"rotateAnchorLine"}),a=n.clone({name:"rotateAnchor",draggable:!0,strokeEnabled:!1});e.add(n).add(r).add(a),r.setZIndex(-10),a.on("dragmove",function(){var t=a.position(),n=t.x,r=t.y,o=i.position(),s=o.x,c=o.y,u=270+e.rotation(),d=180/Math.PI,l=d*Math.atan((r-c)/(n-s)),f=u+l;n<s&&(f-=180),e.rotation(f%360)}),a.on("dragend",function(){n.setRadius(6),a.position(n.position()),t.layer.draw()}),a.on("dragstart mouseover mousedown",function(){document.body.style.cursor="pointer",n.setRadius(10),t.layer.draw()}),a.on("mouseout",function(){document.body.style.cursor="default",n.setRadius(6),t.layer.draw()})},initResize:function(e){var t=e.get(".image")[0].size(),i=t.width,n=t.height;this.addResizeAnchor(e,0,0,"topLeft"),this.addResizeAnchor(e,i,0,"topRight"),this.addResizeAnchor(e,i,n,"bottomRight"),this.addResizeAnchor(e,0,n,"bottomLeft"),this.redrawAnchors(e)},redrawAnchors:function(e){var t=e.get(".image")[0],i=e.get(".center")[0],n=e.get(".rotateAnchor")[0],r=e.get(".rotateAnchorCircle")[0],a=e.get(".rotateAnchorLine")[0],o=t.position(),s=t.size(),c=s.width,u=s.height;i.position({x:o.x+c/2,y:o.y+u/2}),r.position({x:o.x+c/2,y:o.y+1.25*u}),n.position({x:o.x+c/2,y:o.y+1.25*u}),a.points([r.getX(),r.getY(),i.getX(),i.getY()]),e.draw()},addResizeAnchor:function(e,t,i,n){var r=this,a=new v.Circle({x:t,y:i,fill:m.default.config.palette.neutral,radius:3,name:n,draggable:!0});a.on("dragmove",function(){var t=e.get(".topLeft")[0],i=e.get(".topRight")[0],n=e.get(".bottomRight")[0],o=e.get(".bottomLeft")[0],s=a.position(),c=s.x,u=e.get(".image")[0],d=r.images.find(function(t){return t.id===e.imageId}),l=d.width/d.height,f=i.getX()-t.getX(),p=f/l,h=void 0;switch(a.getName()){case"topLeft":t.position({x:c,y:n.getY()-p}),i.setY(n.getY()-p),o.setX(c),h={x:n.getX()-f,y:n.getY()-p};break;case"topRight":t.setY(n.getY()-p),i.setY(n.getY()-p),n.setX(c),h={x:o.getX(),y:o.getY()-p};break;case"bottomRight":i.setX(c),n.position({x:c,y:p}),o.setY(p),h=u.position();break;case"bottomLeft":t.setX(c),n.setY(p),o.position({x:c,y:p}),h={x:i.getX()-f,y:i.getY()}}u.size({width:f,height:p}).position(h),r.redrawAnchors(e)}),a.on("mouseover",function(){document.body.style.cursor="pointer",a.setRadius(6).draw()}),a.on("mouseout",function(){document.body.style.cursor="default",a.setRadius(3).draw()}),e.add(a)},scaleAndPlaceStage:function(){var e=r(this.transformAtLastRender,this.transform);this.stage.scale({x:e.k,y:e.k}).position({x:e.x,y:e.y}).draw()},rwuToPx:function(e,t){var i=void 0;return"x"===t?i=_.scaleLinear().range([0,this.$refs.images.clientWidth]).domain([this.view.min_x,this.view.max_x]):"y"===t&&(i=_.scaleLinear().range([this.$refs.images.clientHeight,0]).domain([this.view.min_y,this.view.max_y])),i(e)}},computed:(0,c.default)({},(0,p.mapGetters)({currentStory:"application/currentStory"}),(0,p.mapState)({currentTool:function(e){return e.application.currentSelections.tool},view:function(e){return e.project.view},pixelWidth:function(e){return e.application.scale.x.pixels},pixelHeight:function(e){return e.application.scale.y.pixels}}),{images:function(){return this.currentStory.images},pxPerRWU:function(){return(this.rwuXtoPx(100)-this.rwuXtoPx(0))/100},currentImage:{get:function(){return this.$store.getters["application/currentImage"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e.id})}},transform:{get:function(){return this.$store.state.project.transform},set:function(e){this.$store.dispatch("project/setTransform",e)}}}),watch:{images:{handler:function(e){var t=this;if(e.length!==this.imageCache.length)return void this.renderImages();var i=["height","width","x","y","r"];e.forEach(function(e,n){var r=t.imageCache[n];(0,o.default)(e).forEach(function(n){e[n]!==r[n]&&i.indexOf(n)===-1&&t.renderImages()})})},deep:!0},currentImage:function(){this.renderImages()},pixelWidth:function(){this.debouncedRenderImages()},pixelHeight:function(){this.debouncedRenderImages()},transform:function(){this.scaleAndPlaceStage()},currentTool:function(){this.renderImages()}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(9),s=i(35),c=i(241),u=n(c),d=i(219)("AIzaSyDIja3lnhq63SxukBm9_mA-jn5R0Bj9RN8",["places"]),l=i(223),f=i(32);t.default={name:"map",data:function(){return{view:null,map:null,autocomplete:null,mapModalVisible:!window.api||window.api.config.showMapDialogOnStart,showGrid:!1}},mounted:function(){this.showGrid=this.gridVisible,this.initAutoComplete(),this.loadMap(),s.ResizeEvents.$on("resize",this.updateMapView)},beforeDestroy:function(){s.ResizeEvents.$off("resize",this.updateMapView)},methods:{initAutoComplete:function(){var e=this;d().then(function(t){var i=new t.places.Autocomplete(e.$refs.addressSearch);i.addListener("place_changed",function(){
var t=i.getPlace();t.geometry&&(e.latitude=t.geometry.location.lat(),e.longitude=t.geometry.location.lng())})})},loadMap:function(){this.$refs.map.innerHTML="",this.view=new l.View,this.map=new l.Map({layers:[new l.layer.Tile({source:new l.source.OSM})],target:"map",view:this.view}),this.updateMapView()},updateMapView:function(){this.map.updateSize();var e=(this.min_x+this.max_x)/2,t=(this.min_y+this.max_y)/2,i=(this.max_x-this.min_x)/this.$refs.map.clientWidth;if("ft"===this.units){var n=l.proj.METERS_PER_UNIT["us-ft"];i*=n,e*=n,t*=n}var r=l.proj.fromLonLat([this.longitude,this.latitude]),a=e*Math.cos(this.rotation)-t*Math.sin(this.rotation),o=t*Math.cos(this.rotation)+e*Math.sin(this.rotation);if(this.view.getCenter()){var s=1/l.proj.getPointResolution(this.view.getProjection(),1,this.view.getCenter());i*=s,a*=s,o*=s}r[0]+=a,r[1]+=o,this.view.setResolution(i),this.view.setCenter(r),this.view.setRotation(this.rotation)},finishSetup:function(){var e=l.proj.transform(this.view.getCenter(),"EPSG:3857","EPSG:4326");this.longitude=e[0],this.latitude=e[1],this.rotation=this.view.getRotation(),this.$store.dispatch("project/setMapInitialized",{initialized:!0}),this.tool="Rectangle",f.select("#reticle").remove(),this.gridVisible=this.showGrid},showReticle:function(){if("Map"===this.tool){this.gridVisible=!1;var e=100,t=this.$refs.map.clientWidth/2,i=this.$refs.map.clientHeight/2;f.select("#reticle").selectAll("#reticle path").data([[{x:t,y:i-e},{x:t,y:i+e}],[{x:t-e,y:i},{x:t+e,y:i}]]).enter().append("path").attr("stroke-width","1").attr("stroke","gray").attr("d",f.line().x(function(e){return e.x}).y(function(e){return e.y}))}}},computed:(0,a.default)({},(0,o.mapState)({projectView:function(e){return e.project.view},min_x:function(e){return e.project.view.min_x},max_x:function(e){return e.project.view.max_x},min_y:function(e){return e.project.view.min_y},max_y:function(e){return e.project.view.max_y},units:function(e){return e.project.config.units},mapInitialized:function(e){return e.project.map.initialized}}),{gridVisible:{get:function(){return this.$store.state.project.grid.visible},set:function(e){this.$store.dispatch("project/setGridVisible",{visible:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setCurrentTool",{tool:e})}},latitude:{get:function(){return this.$store.state.project.map.latitude},set:function(e){this.$store.dispatch("project/setMapLatitude",{latitude:e})}},longitude:{get:function(){return this.$store.state.project.map.longitude},set:function(e){this.$store.dispatch("project/setMapLongitude",{longitude:e})}},rotation:{get:function(){return this.$store.state.project.map.rotation},set:function(e){this.$store.dispatch("project/setMapRotation",{rotation:e})}}}),watch:{units:function(){this.updateMapView()},latitude:function(){this.updateMapView()},longitude:function(){this.updateMapView()},rotation:function(){this.updateMapView()},projectView:{handler:function(){this.updateMapView()},deep:!0}},components:{MapModal:u.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(9),s=i(25),c=i(109),u=n(c),d=i(11),l=n(d),f=i(12),p=n(f),h=i(48),m=n(h),g=i(35),y=i(32);t.default={name:"grid",data:function(){return{points:[],axis:{x:null,y:null},axis_generator:{x:null,y:null},handleMouseMove:null}},mounted:function(){this.handleMouseMove=(0,s.throttle)(this.highlightSnapTarget,100),this.renderGrid(),this.renderGrid=(0,s.debounce)(this.renderGrid,5),this.$refs.grid.addEventListener("reloadGrid",this.reloadGridAndScales),window.addEventListener("keyup",this.escapeAction),window.addEventListener("resize",this.reloadGridAndScales),g.ResizeEvents.$on("resize",this.reloadGridAndScales)},beforeDestroy:function(){this.$refs.grid.removeEventListener("reloadGrid",this.reloadGridAndScales),window.removeEventListener("keyup",this.escapeAction),window.removeEventListener("resize",this.reloadGridAndScales),g.ResizeEvents.$off("resize",this.reloadGridAndScales)},computed:(0,a.default)({},(0,o.mapState)({currentMode:function(e){return e.application.currentSelections.mode},currentTool:function(e){return e.application.currentSelections.tool},snapMode:function(e){return e.application.currentSelections.snapMode},previousStoryVisible:function(e){return e.project.previous_story.visible},gridVisible:function(e){return e.project.grid.visible},units:function(e){return e.project.config.units},spacing:function(e){return e.project.grid.spacing},scaleX:function(e){return e.application.scale.x},scaleY:function(e){return e.application.scale.y}}),(0,o.mapGetters)({currentStory:"application/currentStory",currentStoryGeometry:"application/currentStoryGeometry",currentSpace:"application/currentSpace",currentShading:"application/currentShading"}),{currentSubSelection:{get:function(){return this.$store.getters["application/currentSubSelection"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e.id})}},min_x:{get:function(){return this.$store.state.project.view.min_x},set:function(e){this.$store.dispatch("project/setViewMinX",{min_x:e})}},min_y:{get:function(){return this.$store.state.project.view.min_y},set:function(e){this.$store.dispatch("project/setViewMinY",{min_y:e})}},max_x:{get:function(){return this.$store.state.project.view.max_x},set:function(e){this.$store.dispatch("project/setViewMaxX",{max_x:e})}},max_y:{get:function(){return this.$store.state.project.view.max_y},set:function(e){this.$store.dispatch("project/setViewMaxY",{max_y:e})}},transform:{get:function(){return this.$store.state.project.transform},set:function(e){this.$store.dispatch("project/setTransform",e)}},previousStory:function(){var e=this,t=this.$store.state.models.stories.findIndex(function(t){return t===e.currentStory});return 0===t?null:this.$store.state.models.stories[t-1]},previousStoryGeometry:function(){var e=this;return this.previousStory?this.$store.state.geometry.find(function(t){return t.id===e.previousStory.geometry_id}):null},previousStoryPolygons:function(){return this.previousStoryVisible&&this.previousStoryGeometry?this.polygonsFromGeometry(this.previousStoryGeometry,{previous_story:!0}):[]},polygons:function(){var e=this.polygonsFromGeometry(this.currentStoryGeometry);return this.previousStoryPolygons?this.previousStoryPolygons.concat(e):e}}),watch:{gridVisible:function(){this.showOrHideAxes()},spacing:function(){this.updateGrid()},currentMode:function(){this.drawPolygons()},polygons:function(){this.drawPolygons()},currentTool:function(){this.points=[],this.drawPolygons()},currentSpace:function(){this.points=[],this.drawPolygons()},currentShading:function(){this.points=[],this.drawPolygons()},points:function(){0===this.points.length&&this.eraseGuidelines(),this.drawPoints()},transform:function(e,t){e.k<.5?y.select("#svg-grid").selectAll(".polygon-text").style("display","none"):y.select("#svg-grid").selectAll(".polygon-text").style("display","initial"),this.points.length&&(e.k!==t.k||Math.abs(t.y-e.y)>3||Math.abs(t.x-e.x)>3)&&(this.points=[])}},methods:(0,a.default)({},u.default,{polygonsFromGeometry:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l.default.denormalize(e),r=n.faces.map(function(e){var n=p.default.modelForFace(t.$store.state.models,e.id),r=e.vertices.slice(0,-1),o=(0,a.default)({face_id:e.id,name:n.name,color:n.color,points:r,labelPosition:t.polygonLabelPosition(r)},i);if(!r.length)return null;if("space"===n.type)if("thermal_zones"===t.currentMode){var s=p.default.libraryObjectWithId(t.$store.state.models,n.thermal_zone_id);o.color=s?s.color:m.default.config.palette.neutral}else if("space_types"===t.currentMode){var c=p.default.libraryObjectWithId(t.$store.state.models,n.space_type_id);o.color=c?c.color:m.default.config.palette.neutral}else if("building_units"===t.currentMode){var u=p.default.libraryObjectWithId(t.$store.state.models,n.building_unit_id);o.color=u?u.color:m.default.config.palette.neutral}return o});return _.compact(r)}})}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(9),s=i(11),c=n(s);t.default={name:"inspector",data:function(){return{geometryInspector:!0,storyInspector:!1}},methods:{startpoint:function(e){var t=this.edgeForId(e.edge_id);if(e.reverse){var i=this.vertexForId(t.v2);return"v2 "+i.id+" ("+i.x+", "+i.y+")"}var n=this.vertexForId(t.v1);return"v1 "+n.id+" ("+n.x+", "+n.y+")"},endpoint:function(e){var t=this.edgeForId(e.edge_id);if(!e.reverse){var i=this.vertexForId(t.v2);return i.id+" (v2) ("+i.x+", "+i.y+")"}var n=this.vertexForId(t.v1);return n.id+" (v1) ("+n.x+", "+n.y+")"},edgeForId:function(e){return c.default.edgeForId(e,this.currentStoryGeometry)},vertexForId:function(e){return c.default.vertexForId(e,this.currentStoryGeometry)}},computed:(0,a.default)({},(0,o.mapGetters)({currentStory:"application/currentStory",currentSubSelectionFace:"application/currentSubSelectionFace",currentStoryGeometry:"application/currentStoryGeometry",currentSpace:"application/currentSpace",currentShading:"application/currentShading"}))}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(15),a=n(r),o=i(10),s=n(o),c=i(1),u=n(c),d=i(9),l=i(25),f=i(12),p=n(f),h=i(34),m=n(h),g=i(49),y=n(g),v=i(220),x=void 0,b=8;t.default={name:"library",data:function(){return{search:"",sortKey:"id",sortDescending:!0,type:null,huebs:{}}},mounted:function(){this.type=this.mode,x=document.getElementById("layout-library").offsetTop,this.configurePickers(),window.addEventListener("resize",this.resetSize)},beforeDestroy:function(){window.removeEventListener("resize",this.resetSize)},computed:(0,u.default)({},(0,d.mapState)({mode:function(e){return e.application.currentSelections.mode},stories:function(e){return e.models.stories}}),(0,d.mapGetters)({currentSpace:"application/currentSpace",currentShading:"application/currentShading",currentImage:"application/currentImage"}),{currentStory:{get:function(){return this.$store.getters["application/currentStory"]},set:function(e){this.$store.dispatch("application/setCurrentStoryId",{id:e.id})}},currentSubSelection:{get:function(){return this.$store.getters["application/currentSubSelection"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e.id})}},currentThermalZone:{get:function(){return this.$store.getters["application/currentThermalZone"]},set:function(e){this.$store.dispatch("application/setCurrentThermalZoneId",{id:e.id})}},currentBuildingUnit:{get:function(){return this.$store.getters["application/currentBuildingUnit"]},set:function(e){this.$store.dispatch("application/setCurrentBuildingUnitId",{id:e.id})}},currentSpaceType:{get:function(){return this.$store.getters["application/currentSpaceType"]},set:function(e){this.$store.dispatch("application/setCurrentSpaceTypeId",{id:e.id})}},selectedObject:{get:function(){switch(this.type){case"stories":return this.currentStory;case"building_units":return this.currentBuildingUnit;case"thermal_zones":return this.currentThermalZone;case"space_types":return this.currentSpaceType;default:return this.currentSubSelection}},set:function(e){switch(this.type){case"stories":this.currentStory=e;break;case"building_units":this.currentBuildingUnit=e;break;case"thermal_zones":this.currentThermalZone=e;break;case"space_types":this.currentSpaceType=e;break;default:this.currentSubSelection=e}}},extendedLibrary:function(){for(var e=[],t=[],i=[],n=0;n<this.$store.state.models.stories.length;n++)e=e.concat(this.$store.state.models.stories[n].spaces),t=t.concat(this.$store.state.models.stories[n].shading),i=i.concat(this.$store.state.models.stories[n].images);return JSON.parse((0,s.default)((0,u.default)({},this.$store.state.models.library,{stories:this.$store.state.models.stories,spaces:e,shading:t,images:i})))},displayObjects:function(){var e=this;return(this.extendedLibrary[this.type]||[]).filter(function(t){return(0,a.default)(t).some(function(i){var n=String(e.valueForKey(t,i)).toLowerCase();return n.includes(e.search.toLowerCase())})}).sort(function(t,i){return t[e.sortKey]===i[e.sortKey]?0:e.sortDescending?t[e.sortKey]>i[e.sortKey]?-1:1:t[e.sortKey]<i[e.sortKey]?-1:1})},columns:function(){if(this.type&&y.default[this.type])return _.map(_.reject(y.default[this.type].columns,"private"),"name")}}),methods:{resizeBarClicked:function(){var e=function(e){var t=e.clientY+b>window.innerHeight?window.innerHeight-b:e.clientY;document.getElementById("layout-library").style.top=t+"px",(0,l.getSiblings)(document.getElementById("layout-library")).forEach(function(e){e.style.bottom=window.innerHeight-t+"px"}),m.default.$emit("resize")},t=function t(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)};window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)},showHide:function(){var e=document.getElementById("layout-library").offsetTop===window.innerHeight-b?x:window.innerHeight-b;document.getElementById("layout-library").style.top=e+"px",(0,l.getSiblings)(document.getElementById("layout-library")).forEach(function(t){t.style.bottom=window.innerHeight-e+"px"}),m.default.$emit("resize")},resetSize:function(){document.getElementById("layout-library").style.top="",(0,l.getSiblings)(document.getElementById("layout-library")).forEach(function(e){e.style.bottom=""}),x=document.getElementById("layout-library").offsetTop},configurePickers:function(){for(var e=this,t=document.querySelectorAll(".input-color > input"),i=function(i){var n=t[i].getAttribute("object-id");e.huebs[n]=new v(t[i],{saturations:1}),e.huebs[n].handler=function(t){var i=p.default.libraryObjectWithId(e.$store.state.models,n);e.setValueForKey(i,"color",t)},e.huebs[n].on("change",e.huebs[n].handler)},n=0;n<t.length;n++)i(n)},valueForKey:function(e,t){return p.default.valueForKey(e,this.$store.state,this.type,t)},setValueForKey:function(e,t,i){var n=p.default.setValueForKey(e,this.$store,this.type,t,i);n.success||window.eventBus.$emit("error",n.error)},inputTypeForKey:function(e){return p.default.inputTypeForKey(this.type,e)},selectOptionsForObjectAndKey:function(e,t){return p.default.selectOptionsForKey(e,this.$store.state,this.type,t)},createObject:function(){switch(this.type){case"stories":return void this.$store.dispatch("models/initStory");case"spaces":this.$store.dispatch("models/initSpace",{story:this.currentStory});break;case"shading":this.$store.dispatch("models/initShading",{story:this.currentStory});break;case"images":window.eventBus.$emit("uploadImage");break;default:this.$store.dispatch("models/createObjectWithType",{type:this.type})}this.displayObjects.length&&(this.selectedObject=this.displayObjects[this.displayObjects.length-1])},destroyObject:function(e){var t=this;switch(this.type){case"stories":return void this.$store.dispatch("models/destroyStory",{story:e});case"spaces":this.$store.dispatch("models/destroySpace",{space:e,story:this.$store.state.models.stories.find(function(i){return i[t.type].find(function(t){return t.id===e.id})})});break;case"shading":this.$store.dispatch("models/destroyShading",{shading:e,story:this.$store.state.models.stories.find(function(i){return i[t.type].find(function(t){return t.id===e.id})})});break;case"images":this.$store.dispatch("models/destroyImage",{image:e,story:this.$store.state.models.stories.find(function(i){return i[t.type].find(function(t){return t.id===e.id})})});break;default:this.$store.dispatch("models/destroyObject",{object:e})}},displayTypeForType:function(e){return p.default.map[e].displayName},displayNameForKey:function(e){return p.default.displayNameForKey(this.type,e)},sortBy:function(e){this.sortDescending=this.sortKey!==e||!this.sortDescending,this.sortKey=e}},watch:{displayObjects:function(){this.$nextTick(this.configurePickers)},type:function(){this.search="",this.sortKey="id",this.sortDescending=!0},selectedObject:function(e){if(e){var t=this.$el.querySelector('[data-id="'+e.id+'"]');t&&t.scrollIntoView()}}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"MapModal",data:function(){return{address:""}},computed:{online:function(){return!window.api||!window.api.config||window.api.config.online},mapEnabled:{get:function(){return this.$store.state.project.map.enabled},set:function(e){this.$store.dispatch("project/setMapEnabled",{enabled:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setCurrentTool",{tool:e})}}},methods:{importFloorplanAsFile:function(e){var t=this,i=e.target.files[0],n=new FileReader;n.addEventListener("load",function(){t.importFloorplan(n.result)},!1),i&&n.readAsText(i)},importFloorplan:function(e){this.$store.dispatch("importFloorplan",{clientWidth:document.getElementById("svg-grid").clientWidth,clientHeight:document.getElementById("svg-grid").clientHeight,data:JSON.parse(e)}),this.$emit("close")}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(10),a=n(r);t.default={name:"save-as-modal",props:["saveWhat","dataToDownload","onClose"],mounted:function(){this.$refs.downloadName.focus()},methods:{downloadFile:function(){var e=document.createElement("a");e.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent((0,a.default)(this.dataToDownload))),e.setAttribute("download",this.$refs.downloadName.value+".json"),e.click(),console.log("exporting:\n"+(0,a.default)(this.dataToDownload)),this.close()},close:function(){this.onClose()}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(9),s=i(25),c=i(48),u=n(c),d=i(12),l=n(d),f=i(34),p=n(f),h=void 0,m=8;t.default={name:"navigation",mounted:function(){this.selectedObject=this.items[0],h=document.getElementById("layout-navigation").offsetWidth,window.addEventListener("resize",this.resetSize)},beforeDestroy:function(){window.removeEventListener("resize",this.resetSize)},computed:(0,a.default)({},(0,o.mapState)({modes:function(e){return e.application.modes},stories:function(e){return e.models.stories},building_units:function(e){return e.models.library.building_units},space_types:function(e){return e.models.library.space_types},thermal_zones:function(e){return e.models.library.thermal_zones},max_x:function(e){return e.project.view.max_x},max_y:function(e){return e.project.view.max_y},min_x:function(e){return e.project.view.min_x},min_y:function(e){return e.project.view.min_y}}),(0,o.mapGetters)({currentSpace:"application/currentSpace",currentShading:"application/currentShading",currentImage:"application/currentImage"}),{currentStory:{get:function(){return this.$store.getters["application/currentStory"]},set:function(e){this.$store.dispatch("application/setCurrentStoryId",{id:e.id})}},currentSubSelection:{get:function(){return this.$store.getters["application/currentSubSelection"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e?e.id:null})}},spaces:function(){return this.currentStory.spaces},shading:function(){return this.currentStory.shading},images:function(){return this.currentStory.images},items:function(){return this[this.mode]},mode:{get:function(){return this.$store.state.application.currentSelections.mode},set:function(e){this.$store.dispatch("application/setCurrentMode",{mode:e})}},currentThermalZone:{get:function(){return this.$store.getters["application/currentThermalZone"]},set:function(e){this.$store.dispatch("application/setCurrentThermalZoneId",{id:e.id})}},currentBuildingUnit:{get:function(){return this.$store.getters["application/currentBuildingUnit"]},set:function(e){this.$store.dispatch("application/setCurrentBuildingUnitId",{id:e.id})}},currentSpaceType:{get:function(){return this.$store.getters["application/currentSpaceType"]},set:function(e){this.$store.dispatch("application/setCurrentSpaceTypeId",{id:e.id})}},selectedObject:{get:function(){switch(this.mode){case"stories":return this.currentStory;case"building_units":return this.currentBuildingUnit;case"thermal_zones":return this.currentThermalZone;case"space_types":return this.currentSpaceType;default:return this.currentSubSelection}},set:function(e){switch(this.mode){case"stories":this.currentStory=e;break;case"building_units":this.currentBuildingUnit=e;break;case"thermal_zones":this.currentThermalZone=e;break;case"space_types":this.currentSpaceType=e;break;default:this.currentSubSelection=e}}}}),methods:{resizeBarClicked:function(){var e=function(e){var t=e.clientX>m?e.clientX:m;document.getElementById("layout-navigation").style.width=t+"px",(0,s.getSiblings)(document.getElementById("layout-navigation")).forEach(function(e){e.style.left=t+"px"}),p.default.$emit("resize")},t=function t(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)};window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)},showHide:function(){var e=document.getElementById("layout-navigation").offsetWidth===m?h:m;document.getElementById("layout-navigation").style.width=e+"px",(0,s.getSiblings)(document.getElementById("layout-navigation")).forEach(function(t){t.style.left=e+"px"}),p.default.$emit("resize")},resetSize:function(){document.getElementById("layout-navigation").style.width="",(0,s.getSiblings)(document.getElementById("layout-navigation")).forEach(function(e){e.style.left=""}),h=document.getElementById("layout-navigation").offsetWidth},uploadImage:function(e){for(var t=e.target.files,i=this,n=function(e){var n=t[e],r=new FileReader;r.addEventListener("load",function(){var e=new Image;e.onload=function(){var t=document.getElementById("grid").clientWidth/(i.max_x-i.min_x),n=e.height/t/4,r=e.width/t/4;i.$store.dispatch("models/createImageForStory",{story_id:i.currentStory.id,src:e.src,name:l.default.generateName(i.$store.state.models,"images",i.currentStory),height:n,width:r,x:i.min_x+r/2,y:i.max_y-n/2}),i.$refs.fileInput.value=""},e.src=r.result},!1),n&&r.readAsDataURL(n)},r=0;r<t.length;r++)n(r)},createItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mode;switch(e){case"stories":return this.$store.dispatch("models/initStory"),void this.setCurrentItem();case"spaces":this.$store.dispatch("models/initSpace",{story:this.currentStory});break;case"shading":this.$store.dispatch("models/initShading",{story:this.currentStory});break;case"building_units":case"thermal_zones":case"space_types":this.$store.dispatch("models/createObjectWithType",{type:e})}this.selectItem(this.items[this.items.length-1],e)},destroyItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mode;if(!(this[t].length<=1)||"stories"!==t&&"spaces"!==t){switch(t){case"stories":this.$store.dispatch("models/destroyStory",{story:e}),this.setCurrentItem();break;case"spaces":this.$store.dispatch("models/destroySpace",{space:e,story:this.currentStory});break;case"shading":this.$store.dispatch("models/destroyShading",{shading:e,story:this.currentStory});break;case"images":this.$store.dispatch("models/destroyImage",{image:e,story:this.currentStory});break;case"building_units":case"thermal_zones":case"space_types":this.$store.dispatch("models/destroyObject",{object:e})}this.setCurrentItem()}},selectItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mode;switch(t){case"stories":this.currentStory=e,this.setCurrentItem();break;case"building_units":this.currentBuildingUnit=e;break;case"thermal_zones":this.currentThermalZone=e;break;case"space_types":this.currentSpaceType=e;break;default:this.currentSubSelection=e}},setCurrentItem:function(){!this.items.length||this.selectedObject&&_.includes(_.map(this.items,"id"),this.selectedObject.id)||(this.selectedObject=this.items[0])},displayNameForMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mode;return u.default.displayNameForMode(e)}},watch:{mode:function(){this.setCurrentItem()},selectedObject:function(e){if(e){var t=this.$el.querySelector('[data-id="'+e.id+'"]');t&&t.scrollIntoView()}},currentStory:function(e){if(e){var t=this.$el.querySelector('[data-id="'+e.id+'"]');t&&t.scrollIntoView()}}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(9),s=i(242),c=n(s);t.default={name:"toolbar",data:function(){return{showSaveModal:!1,thingWereSaving:""}},methods:{exportData:function(){this.thingWereSaving="Floorplan",this.showSaveModal=!0;var e=this.$store.getters.exportData;return e},importDataAsFile:function(e,t){var i=this,n=e.target.files[0],r=new FileReader;r.addEventListener("load",function(){var e=void 0;try{e=JSON.parse(r.result)}catch(e){return void window.eventBus.$emit("error","Invalid JSON")}"library"===t?i.$store.dispatch("importLibrary",{data:e}):"floorplan"===t&&i.$store.dispatch("importFloorplan",{clientWidth:document.getElementById("svg-grid").clientWidth,clientHeight:document.getElementById("svg-grid").clientHeight,data:e})},!1),n&&r.readAsText(n)},undo:function(){this.$store.timetravel.undo()},redo:function(){this.$store.timetravel.redo()},updateUnits:function(){this.allowSettingUnits?this.rwUnits=this.$refs.unitSelect.value:(window.eventBus.$emit("error","Units must be set before any geometry is drawn."),this.$refs.unitSelect.value=this.rwUnits)}},computed:(0,a.default)({},(0,o.mapState)({currentMode:function(e){return e.application.currentSelections.mode},mapEnabled:function(e){return e.project.map.enabled},timetravelInitialized:function(e){return e.timetravelInitialized},showImportExport:function(e){return e.project.showImportExport},allowSettingUnits:function(e){return 1===e.geometry.length&&0===e.geometry[0].vertices.length}}),{availableTools:function(){var e=this;return this.$store.state.application.tools.filter(function(t){return"Rectangle"===t||"Polygon"===t||"Eraser"===t||"Select"===t?"spaces"===e.currentMode||"shading"===e.currentMode:"Drag"===t||"Pan"===t?"images"===e.currentMode:"Fill"!==t||e.previousStoryVisible&&("spaces"===e.currentMode||"shading"===e.currentMode)}).filter(function(e){return"Map"!==e})},northAxis:{get:function(){return this.$store.state.project.config.north_axis+"°"},set:function(e){this.$store.dispatch("project/setNorthAxis",{north_axis:e})}},gridVisible:{get:function(){return this.$store.state.project.grid.visible},set:function(e){this.$store.dispatch("project/setGridVisible",{visible:e})}},mapVisible:{get:function(){return this.$store.state.project.map.visible},set:function(e){this.$store.dispatch("project/setMapVisible",{visible:e})}},previousStoryVisible:{get:function(){return this.$store.state.project.previous_story.visible},set:function(e){this.$store.dispatch("project/setPreviousStoryVisible",{visible:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setCurrentTool",{tool:e})}},spacing:{get:function(){return this.$store.state.project.grid.spacing},set:function(e){this.$store.dispatch("project/setSpacing",{spacing:e})}},rwUnits:{get:function(){return this.$store.state.project.config.units},set:function(e){this.$store.dispatch("project/setUnits",{units:e})}},snapMode:{get:function(){return this.$store.state.application.currentSelections.snapMode},set:function(e){this.$store.dispatch("application/setCurrentSnapMode",{snapMode:e})}},dataToDownload:function(){return this.$store.getters.exportData}}),watch:{tool:function(e){this.availableTools.indexOf(e)===-1&&"Map"!==e&&(this.tool=this.availableTools[0])},currentMode:function(){this.tool=this.availableTools[0]}},components:{"save-as-modal":c.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return h.default.range(Math.ceil(e/i)*i,t,i)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(10),o=n(a),s=i(1),c=n(s),u=i(78),d=n(u),l=i(21),f=n(l),p=i(4),h=n(p),m=i(110),g=i(11),y=n(g),v=i(12),_=n(v),x=i(35),b=i(32),w=i(224);t.default={gridClicked:function(){"Eraser"!==this.currentTool&&("Rectangle"!==this.currentTool&&"Polygon"!==this.currentTool||!this.currentSpace&&!this.currentShading)||this.addPoint()},addPoint:function(){var e=b.mouse(this.$refs.grid),t={x:e[0],y:e[1]},i=this.findSnapTarget(t);if("vertex"===i.type&&i.origin&&"Polygon"===this.currentTool)return void this.savePolygonFace();var n="edge"===i.type?i.projection:i;this.points.push(n),"Eraser"===this.currentTool&&2===this.points.length&&this.eraseRectangularSelection(),"Rectangle"===this.currentTool&&2===this.points.length&&this.saveRectuangularFace()},highlightSnapTarget:function(e){if("Eraser"===this.currentTool||("Rectangle"===this.currentTool||"Polygon"===this.currentTool)&&(this.currentSpace||this.currentShading)){b.selectAll("#grid .highlight, #grid .gridpoint").remove();var t=b.mouse(this.$refs.grid),i={x:t[0],y:t[1]},n=this.findSnapTarget(i),r="edge"===n.type?n.projection:n,a=n.synthetic?n.originalPt:r;this.drawGuideLines(e,r),"edge"===n.type||"vertex"===n.type?b.select("#grid svg").append("ellipse").attr("cx",a.x,"x").attr("cy",a.y,"y").attr("rx",5).attr("ry",5).classed("highlight",!0).attr("vector-effect","non-scaling-stroke"):b.select("#grid svg").append("ellipse").attr("cx",a.x).attr("cy",a.y).attr("rx",2).attr("ry",2).classed("gridpoint",!0).attr("vector-effect","non-scaling-stroke"),"edge"===n.type&&"Eraser"!==this.currentTool&&b.select("#grid svg").append("line").attr("x1",n.v1GridCoords.x).attr("y1",n.v1GridCoords.y).attr("x2",n.v2GridCoords.x).attr("y2",n.v2GridCoords.y).attr("stroke-width",1).classed("highlight",!0).attr("vector-effect","non-scaling-stroke")}},drawGuideLines:function(e,t){var i=this;if(this.points.length){this.eraseGuidelines();var n,r;"Polygon"===this.currentTool?(n=[t,this.points[this.points.length-1]],r=[n]):"Rectangle"!==this.currentTool&&"Eraser"!==this.currentTool||(n=[this.points[0],{x:t.x,y:this.points[0].y},t,{x:this.points[0].x,y:t.y},this.points[0]],r=[[n[0],n[1]],[n[1],n[2]]]);var a="Polygon"===this.currentTool?[].concat((0,f.default)(this.points),[t,this.points[0]]):n,o=[a,this.points],s=b.select("#grid svg");if(s.selectAll(".guideline-line").append("path").datum(n).attr("fill","none").classed("guideline guideline-line",!0).attr("vector-effect","non-scaling-stroke").attr("d",b.line().x(function(e){return e.x}).y(function(e){return e.y})).lower(),s.selectAll(".guideline-area").data(o).enter().append("polygon").attr("points",function(e){return e.map(function(e){return[e.x,e.y].join(",")}).join(" ")}).classed("guideline guideline-area guideLine",!0).attr("vector-effect","non-scaling-stroke").attr("fill",function(){return"Eraser"===i.currentTool?"none":i.currentSpace?i.currentSpace.color:i.currentShading?i.currentShading.color:void 0}),"Eraser"!==this.currentTool){if(s.selectAll(".guideline-text").data(r).enter().append("text").attr("x",function(e){return e[0].x+(e[1].x-e[0].x)/2}).attr("y",function(e){return e[0].y+(e[1].y-e[0].y)/2}).attr("dx",-1.25*(this.transform.k>1?1:this.transform.k)+"em").text(function(e){var t=i.distanceBetweenPoints({x:i.gridToRWU(e[0].x,"x"),y:i.gridToRWU(e[0].y,"y")},{x:i.gridToRWU(e[1].x,"x"),y:i.gridToRWU(e[1].y,"y")});return t?t.toFixed(2):""}).classed("guideline guideline-text guideline-dist",!0).attr("font-family","sans-serif").attr("fill","red").style("font-size","1em"),a.length>3){var c=a.map(function(e){var t=i.gridToRWU(e.x,"x"),n=i.gridToRWU(e.y,"y");return{x:t,y:n,X:t,Y:n}}),u=this.polygonLabelPosition(c),d=u.x,l=u.y,p=u.area,h=p?p.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"";if(h+=" "+this.units+"²",null===d||null===l)return;s.append("text").attr("x",this.rwuToGrid(d,"x")).attr("y",this.rwuToGrid(l,"y")).text(h).classed("guideline guideline-text guideline-area-text guideLine",!0).attr("text-anchor","middle").attr("font-family","sans-serif").attr("fill","red").style("font-size","1em").raise();
}b.selectAll(".vertical, .horizontal").lower()}}},eraseGuidelines:function(){b.selectAll("#grid .guideline").remove()},escapeAction:function(e){"Escape"!==e.code&&27!==e.which||(this.points=[])},savePolygonFace:function(){var e=this,t={points:this.points.map(function(t){return{x:e.gridToRWU(t.x,"x"),y:e.gridToRWU(t.y,"y")}})};this.currentSpace?t.model_id=this.currentSpace.id:this.currentShading&&(t.model_id=this.currentShading.id),this.$store.dispatch("geometry/createFaceFromPoints",t),this.points=[]},saveRectuangularFace:function(){var e=this,t={};t.points=[this.points[0],{x:this.points[1].x,y:this.points[0].y},this.points[1],{x:this.points[0].x,y:this.points[1].y}].map(function(t){return{x:e.gridToRWU(t.x,"x"),y:e.gridToRWU(t.y,"y")}}),this.currentSpace?t.model_id=this.currentSpace.id:this.currentShading&&(t.model_id=this.currentShading.id),this.$store.dispatch("geometry/createFaceFromPoints",t),this.points=[]},eraseRectangularSelection:function(){var e=this,t={points:[this.points[0],{x:this.points[1].x,y:this.points[0].y},this.points[1],{x:this.points[0].x,y:this.points[1].y}]};t.points=t.points.map(function(t){return{x:e.gridToRWU(t.x,"x"),y:e.gridToRWU(t.y,"y")}}),this.$store.dispatch("geometry/eraseSelection",t),this.points=[]},drawPoints:function(){b.selectAll("#grid ellipse, #grid path").remove(),b.select("#grid svg").selectAll("ellipse").data(this.points).enter().append("ellipse").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("rx",2).attr("ry",2).attr("vector-effect","non-scaling-stroke"),b.select("#grid svg").select("ellipse").attr("rx",7).attr("ry",7).classed("origin",!0).attr("vector-effect","non-scaling-stroke").attr("fill","none"),b.select("#grid svg").append("path").datum(this.points).attr("fill","none").attr("vector-effect","non-scaling-stroke").attr("d",b.line().x(function(e){return e.x}).y(function(e){return e.y})).lower(),b.selectAll(".vertical, .horizontal").lower()},registerDrag:function(){var e=b.select("#grid svg").selectAll("polygon");this.deregisterD3Events(e),"Select"===this.currentTool?this.registerSelectEvents(e):"Fill"===this.currentTool&&this.registerFillEvents(e)},deregisterD3Events:function(e){e.on(".drag",null).on("click",null)},registerFillEvents:function(e){var t=this;e.on("click",function(e){(t.currentSpace||t.currentShading)&&(t.points=e.points.map(function(e){return{x:t.rwuToGrid(e.x,"x"),y:t.rwuToGrid(e.y,"y")}}),t.savePolygonFace())})},registerSelectEvents:function(e){var t=this,i=void 0,n=void 0,r=b.drag().on("start",function(e){var r=b.mouse(t.$refs.grid),a=(0,d.default)(r,2);i=a[0],n=a[1],e.previous_story||(t.currentSubSelection=_.default.modelForFace(t.$store.state.models,e.face_id))}).on("drag",function(e){if(!e.previous_story){var r=b.mouse(t.$refs.grid),a=(0,d.default)(r,2),o=a[0],s=a[1];b.select("#poly-"+e.face_id).attr("transform",function(){return"translate("+(o-i)+", "+(s-n)+")"})}}).on("end",function(e){if(!e.previous_story){var r=b.mouse(t.$refs.grid),a=(0,d.default)(r,2),o=a[0],s=a[1];t.$store.dispatch("geometry/moveFaceByOffset",{face_id:e.face_id,dx:t.gridToRWU(o,"x")-t.gridToRWU(i,"x"),dy:t.gridToRWU(s,"y")-t.gridToRWU(n,"y")})}});e.call(r)},drawPolygons:function(){var e=this;this.recalcScales();var t=b.select("#grid svg").selectAll("g.poly").data(this.polygons,function(e){return e.face_id});t.exit().remove();var i=t.enter().append("g").attr("class","poly");i.append("polygon"),i.append("text").attr("class","polygon-text"),t=i.merge(t).attr("class",function(t){return e.currentSpace&&t.face_id===e.currentSpace.face_id||e.currentShading&&t.face_id===e.currentShading.face_id?"current":t.previous_story?"previousStory":null}).classed("poly",!0).attr("id",function(e){return"poly-"+e.face_id}).attr("transform",null),t.select("polygon").attr("id",function(e){return"face-"+e.face_id}).attr("points",function(t){return t.points.map(function(t){return[e.rwuToGrid(t.x,"x"),e.rwuToGrid(t.y,"y")].join(",")}).join(" ")}).attr("fill",function(e){return e.color}).attr("vector-effect","non-scaling-stroke"),t.select("text").attr("id",function(e){return"text-"+e.face_id}).attr("x",function(t){return e.rwuToGrid(t.labelPosition.x,"x")}).attr("y",function(t){return e.rwuToGrid(t.labelPosition.y,"y")}).text(function(e){return e.name}).attr("text-anchor","middle").style("font-size","14px").style("font-weight","bold").attr("font-family","sans-serif").attr("fill","red").classed("polygon-text",!0),this.registerDrag(),b.select(".current").raise()},findSnapTarget:function(e){var t=this,i={x:this.gridToRWU(e.x,"x"),y:this.gridToRWU(e.y,"y")};if("grid-strict"===this.snapMode){var n=this.strictSnapTargets(i)[0];return(0,c.default)({},n,{x:this.rwuToGrid(n.x,"x"),y:this.rwuToGrid(n.y,"y")})}if(event.shiftKey)return(0,c.default)({type:"gridpoint"},e);var r=this.snappingVertexData(i);if(r)return r;var a=this.snappingEdgeData(i);if(a)return a;if(this.gridVisible){var o=+this.axis.x.select(".tick").attr("transform").replace("translate(","").replace(")","").split(",")[0],s=+this.axis.y.select(".tick").attr("transform").replace("translate(","").replace(")","").split(",")[1],u=this.rwuToGrid(this.spacing+this.min_x,"x"),d=this.rwuToGrid(this.max_y-this.spacing,"y"),l={type:"gridpoint",x:this.round(e.x,this.rwuToGrid(this.spacing+this.min_x,"x"))+o-.5,y:this.round(e.y,this.rwuToGrid(this.max_y-this.spacing,"y"))+s-.5};return l.x=Math.abs(e.x-(l.x-u))>Math.abs(e.x-l.x)?l.x:l.x-u,l.y=Math.abs(e.y-(l.y-d))>Math.abs(e.y-l.y)?l.y:l.y-d,l}if(this.points.length){var f,p=[-180,-90,0,90,180],h=this.points[this.points.length-1],m=Math.atan2(h.y-e.y,h.x-e.x)*(180/Math.PI);if(p.some(function(i){if(Math.abs(m-i)<t.$store.getters["project/angleTolerance"]){if(i===-180||0===i||180===i)return{x:e.x,y:t.rotatePoint(h,e,i-m).y};if(i===-90||90===i)return{x:t.rotatePoint(h,e,i-m).x,y:e.y}}}),f)return(0,c.default)({type:"gridpoint"},f)}return(0,c.default)({type:"gridpoint"},e)},strictSnapTargets:function(e){var t=[].concat((0,f.default)(this.currentStoryGeometry.vertices),(0,f.default)(this.previousStoryGeometry?this.previousStoryGeometry.vertices:[]));return this.points.length>=3&&"Polygon"===this.currentTool&&t.push({x:this.gridToRWU(this.points[0].x,"x"),y:this.gridToRWU(this.points[0].y,"y"),origin:!0}),(0,m.snapTargets)(t,this.spacing,e)},snappingVertexData:function(e){var t=this,i=[].concat((0,f.default)(this.currentStoryGeometry.vertices));if(this.previousStoryGeometry&&(i=i.concat(JSON.parse((0,o.default)(this.previousStoryGeometry.vertices)))),this.points.length>=3&&"Polygon"===this.currentTool&&i.push({x:this.gridToRWU(this.points[0].x,"x"),y:this.gridToRWU(this.points[0].y,"y"),origin:!0}),1===this.points.length&&"Rectangle"===this.currentTool&&(i=i.concat(y.default.syntheticRectangleSnaps(i,{x:this.gridToRWU(this.points[0].x,"x"),y:this.gridToRWU(this.points[0].y,"y")},e))),i.length){var n=i.reduce(function(i,n){var r=t.distanceBetweenPoints(i,e),a=t.distanceBetweenPoints(n,e);return r<a?i:n});if(this.distanceBetweenPoints(n,e)<this.$store.getters["project/snapTolerance"]){var r=(0,c.default)({},n,{x:this.rwuToGrid(n.x,"x"),y:this.rwuToGrid(n.y,"y"),type:"vertex"});return r.synthetic&&(r.originalPt.x=this.rwuToGrid(r.originalPt.x,"x"),r.originalPt.y=this.rwuToGrid(r.originalPt.y,"y")),r}}},snappingEdgeData:function(e){var t=this,i=[].concat((0,f.default)(this.currentStoryGeometry.edges));if(this.previousStoryGeometry&&(i=i.concat(JSON.parse((0,o.default)(this.previousStoryGeometry.edges.map(function(e){return(0,c.default)({},e,{previous_story:!0})}))))),i.length){var n=i.reduce(function(i,n){var r=i.previous_story?t.previousStoryGeometry:t.currentStoryGeometry,a=n.previous_story?t.previousStoryGeometry:t.currentStoryGeometry,o=y.default.vertexForId(i.v1,r),s=y.default.vertexForId(i.v2,r),c=y.default.vertexForId(n.v1,a),u=y.default.vertexForId(n.v2,a),d=y.default.projectionOfPointToLine(e,{p1:o,p2:s}),l=y.default.projectionOfPointToLine(e,{p1:c,p2:u}),f=y.default.distanceBetweenPoints(d,e),p=y.default.distanceBetweenPoints(l,e);return f<p?i:n}),r=n.previous_story?this.previousStoryGeometry:this.currentStoryGeometry,a=y.default.vertexForId(n.v1,r),s=y.default.vertexForId(n.v2,r),u=y.default.projectionOfPointToLine(e,{p1:a,p2:s}),d=this.distanceBetweenPoints(u,e),l=[-180,-90,0,90,180],p=Math.atan2(e.y-u.y,e.x-u.x)*(180/Math.PI);return l.some(function(i){if(Math.abs(p-i)<t.$store.getters["project/angleTolerance"]){var n,r;return 180===i||0===i||i===-180?(n={x:e.x-2*d,y:e.y},r={x:e.x+2*d,y:e.y}):90!==i&&i!==-90||(n={x:e.x,y:e.y-2*d},r={x:e.x,y:e.y+2*d}),u=y.default.ptsAreCollinear(n,a,r)?a:y.default.ptsAreCollinear(n,s,r)?s:y.default.intersectionOfLines(n,r,a,s),!0}return!1}),d<this.$store.getters["project/snapTolerance"]?{snappingEdge:n,dist:n.dist,type:"edge",projection:{x:this.rwuToGrid(u.x,"x"),y:this.rwuToGrid(u.y,"y")},v1GridCoords:{x:this.rwuToGrid(a.x,"x"),y:this.rwuToGrid(a.y,"y")},v2GridCoords:{x:this.rwuToGrid(s.x,"x"),y:this.rwuToGrid(s.y,"y")}}:void 0}},distanceBetweenPoints:function(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(i*i+n*n)},round:function(e,t){var i,n=e<0?-1:1;return e=Math.abs(e),i=e%t<t/2?e-e%t:e+t-e%t,i*=n},rotatePoint:function(e,t,i){var n=i*Math.PI/180,r=Math.cos(n),a=Math.sin(n),o=t.x-e.x,s=t.y-e.y;return{x:r*o-a*s+e.x,y:a*o+r*s+e.y}},resolveBounds:function(){var e=this.$refs.grid.clientWidth,t=this.$refs.grid.clientHeight,i=this.max_x-this.min_x,n=this.max_y-this.min_y,r=n*(e/t),a=i*(t/e),o=r-i,s=a-n;o<0?(this.min_x-=o/2,this.max_x+=o/2):(this.min_y-=s/2,this.max_y+=s/2)},nullTransform:function(){b.select(this.$refs.grid).call(this.zoomBehavior.transform,b.zoomIdentity)},renderGrid:function(){var e=this.$refs.grid.clientWidth,t=this.$refs.grid.clientHeight;this.resolveBounds(),this.$store.dispatch("application/setScaleX",{scaleX:{pixels:e,rwuRange:[this.min_x,this.max_x]}}),this.$store.dispatch("application/setScaleY",{scaleY:{pixels:t,rwuRange:[this.min_y,this.max_y]}}),this.calcGrid(),this.nullTransform(),this.drawPolygons()},reloadGridAndScales:function(){this.zoomXScale=null,this.zoomYScale=null,this.resolveBounds(),this.renderGrid()},recalcScales:function(){var e=this.$refs.grid.clientWidth,t=this.$refs.grid.clientHeight;this.xScale=b.scaleLinear().domain([this.min_x,this.max_x]).range([0,e]),this.yScale=b.scaleLinear().domain([this.min_y,this.max_y]).range([t,0]),this.zoomXScale=this.zoomXScale||this.xScale.copy(),this.zoomYScale=this.zoomYScale||this.yScale.copy()},calcGrid:function(){var e=this;this.recalcScales();var t=this.$refs.grid.clientWidth,i=this.$refs.grid.clientHeight,n=b.select("#grid svg"),r=1,a="14px";n.attr("height",i).attr("width",t),this.axis.x=n.selectAll("g.axis--x").data([void 0]),this.axis.x=this.axis.x.merge(this.axis.x.enter().append("g").attr("class","axis axis--x")).attr("stroke-width",r).style("font-size",a).style("display",this.gridVisible?"inline":"none"),this.axis.y=n.selectAll("g.axis--y").data([void 0]),this.axis.y=this.axis.y.merge(this.axis.y.enter().append("g").attr("class","axis axis--y")).attr("class","axis axis--y").attr("stroke-width",r).style("font-size",a).style("display",this.gridVisible?"inline":"none"),this.updateGrid(),this.zoomBehavior=b.zoom().scaleExtent([.02,200]).on("zoom",function(){var t=b.event.transform;e.transform=(0,c.default)({},t);var i=t.rescaleX(e.zoomXScale),n=t.rescaleY(e.zoomYScale),r=i.domain(),a=(0,d.default)(r,2);e.min_x=a[0],e.max_x=a[1];var o=n.domain(),s=(0,d.default)(o,2);e.min_y=s[0],e.max_y=s[1],e.axis_generator.x.scale(i),e.axis_generator.y.scale(n),e.updateGrid(),e.padTickY(-12),e.drawPolygons()}).on("end",function(){x.ResizeEvents.$emit("zoomStabilized")}),n.call(this.zoomBehavior),n.on("mousemove",this.handleMouseMove).on("click",this.gridClicked)},showOrHideAxes:function(){this.axis.x.style("visibility",this.gridVisible?"visible":"hidden"),this.axis.y.style("visibility",this.gridVisible?"visible":"hidden")},updateGrid:function(){if(this.axis.x&&this.axis.y){var e=this.$refs.grid.clientWidth,t=this.$refs.grid.clientHeight,i=this.max_x-this.min_x,n=this.max_y-this.min_y,a=r(this.min_x,this.max_x,this.spacing),o=r(this.min_y,this.max_y,this.spacing);this.reduceTicks=o.length>250||a.length>250,this.axis_generator.x=this.axis_generator.x||b.axisBottom(this.xScale),this.axis_generator.x.tickSize(t).tickPadding(-20).tickFormat(this.reduceTicks?h.default.identity:this.formatTickX.bind(this,Math.floor(10*(e/t)))),this.axis_generator.y=this.axis_generator.y||b.axisRight(this.yScale),this.axis_generator.y.tickSize(e).tickPadding(-25).tickFormat(this.reduceTicks?h.default.identity:this.formatTickY.bind(this,10)),this.reduceTicks?(this.axis_generator.x.tickValues(null).ticks(5*(i/n)),this.axis_generator.y.tickValues(null).ticks(5)):(this.axis_generator.x.ticks(null).tickValues(a),this.axis_generator.y.ticks(null).tickValues(o)),this.axis.y.call(this.axis_generator.y),this.axis.x.call(this.axis_generator.x)}},rwuToGrid:function(e,t){var i=void 0;return"x"===t?i=this.xScale:"y"===t&&(i=this.yScale),i(e)},gridToRWU:function(e,t){var i=void 0;"x"===t?i=this.xScale:"y"===t&&(i=this.yScale);var n=i.invert(e);return Math.round(1e11*n)/1e11},polygonLabelPosition:function(e){var t=[e.map(function(e){return[e.x,e.y]})],i=Math.abs(Math.round(y.default.areaOfSelection(e))),n=i?w(t,1):[null,null],r=(0,d.default)(n,2),a=r[0],o=r[1];return{x:a,y:o,area:i}},formatTickX:function(e,t){var i=this.max_x-this.min_x,n=this.spacing,r=Math.ceil(i/e/n)*n;return 0===r||t%r===0?t:""},formatTickY:function(e,t){var i=this.max_y-this.min_y,n=this.spacing,r=Math.ceil(i/e/n)*n;return 0===r||t%r===0?t:""},padTickY:function(e){var t=Math.abs(this.min_y),i=Math.abs(this.max_y),n=(t<i?i:t).toFixed(0).length,r=e*n;this.axis.y.call(this.axis_generator.y.tickPadding(r))}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=t.x,n=t.y;return[{x:Math.floor(i/e)*e,y:Math.floor(n/e)*e},{x:(Math.floor(i/e)+1)*e,y:Math.floor(n/e)*e},{x:Math.floor(i/e)*e,y:(Math.floor(n/e)+1)*e},{x:(Math.floor(i/e)+1)*e,y:(Math.floor(n/e)+1)*e}].map(function(e){return(0,d.default)({},e,{type:"grid"})})}function a(e,t,i){return e.filter(function(e){return(0,p.distanceBetweenPoints)(i,e)<=t}).map(function(e){return(0,d.default)({},e,{type:"vertex"})})}function o(e,t,i){var n=[].concat((0,c.default)(r(t,i)),(0,c.default)(a(e,t,i))).map(function(e){return(0,d.default)({},e,{dist:(0,p.distanceBetweenPoints)(e,i),dx:i.x-e.x,dy:i.y-e.y})});return f.default.orderBy(n,["dist","origin","type"],["asc","asc","desc"])}Object.defineProperty(t,"__esModule",{value:!0});var s=i(21),c=n(s),u=i(1),d=n(u);t.gridSnapTargets=r,t.snapTargets=o;var l=i(4),f=n(l),p=i(11)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(73),a=n(r),o=i(9),s=n(o),c=i(114),u=n(c),d=i(76),l=n(d),f=i(119),p=n(f),h=i(124),m=n(h),g=i(132),y=n(g),v=i(134),_=n(v),x=i(135),b=n(x),w=i(130),S=n(w);a.default.use(s.default);var M=new s.default.Store({strict:!1,modules:{application:u.default,project:l.default,geometry:p.default,models:m.default},getters:{exportData:y.default},actions:{importFloorplan:_.default,importLibrary:b.default},mutations:S.default});t.default=M},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(4),a=n(r);t.default={setCurrentStoryId:function(e,t){var i=t.id;e.rootState.models.stories.map(function(e){return e.id}).indexOf(i)!==-1&&e.commit("setCurrentStoryId",{id:i})},setCurrentSubSelectionId:function(e,t){var i=t.id;e.getters.currentStory&&(e.getters.currentStory.spaces.find(function(e){return e.id===i})||e.getters.currentStory.shading.find(function(e){return e.id===i})||e.getters.currentStory.images.find(function(e){return e.id===i}))&&e.commit("setCurrentSubSelectionId",{id:i})},setCurrentSnapMode:function(e,t){var i=t.snapMode;if(!a.default.includes(["grid-strict","grid-verts-edges"],i))throw new Error("Unknown grid mode "+i);e.commit("setCurrentSnapMode",{snapMode:i})},setCurrentTool:function(e,t){var i=t.tool;e.state.tools.indexOf(i)!==-1&&e.commit("setCurrentTool",{tool:i})},setCurrentMode:function(e,t){var i=t.mode;e.state.modes.indexOf(i)!==-1&&e.commit("setCurrentMode",{mode:i})},setCurrentBuildingUnitId:function(e,t){var i=t.id;e.rootState.models.library.building_units.map(function(e){return e.id}).indexOf(i)!==-1&&e.commit("setCurrentBuildingUnitId",{id:i})},setCurrentThermalZoneId:function(e,t){var i=t.id;e.rootState.models.library.thermal_zones.map(function(e){return e.id}).indexOf(i)!==-1&&e.commit("setCurrentThermalZoneId",{id:i})},setCurrentSpaceTypeId:function(e,t){var i=t.id;e.rootState.models.library.space_types.map(function(e){return e.id}).indexOf(i)!==-1&&e.commit("setCurrentSpaceTypeId",{id:i})},setScaleX:function(e,t){var i=t.scaleX;e.commit("setScaleX",{scaleX:i})},setScaleY:function(e,t){var i=t.scaleY;e.commit("setScaleY",{scaleY:i})}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={currentStory:function(e,t,i){return i.models.stories.find(function(t){return t.id===e.currentSelections.story_id})},currentSubSelection:function(e,t){var i=t.currentStory,n=e.currentSelections.subselection_id;return i.spaces.find(function(e){return e.id===n})||i.shading.find(function(e){return e.id===n})||i.images.find(function(e){return e.id===n})},currentSubSelectionType:function(e,t){var i=t.currentStory,n=e.currentSelections.subselection_id;return i.spaces.find(function(e){return e.id===n})?"spaces":i.shading.find(function(e){return e.id===n})?"shading":i.images.find(function(e){return e.id===n})?"images":null},currentSpace:function(e,t){return"spaces"===t.currentSubSelectionType?t.currentSubSelection:null},currentShading:function(e,t){return"shading"===t.currentSubSelectionType?t.currentSubSelection:null},currentImage:function(e,t){return"images"===t.currentSubSelectionType?t.currentSubSelection:null},currentBuildingUnit:function(e,t,i){return i.models.library.building_units.find(function(t){return t.id===e.currentSelections.building_unit_id})},currentThermalZone:function(e,t,i){return i.models.library.thermal_zones.find(function(t){return t.id===e.currentSelections.thermal_zone_id})},currentSpaceType:function(e,t,i){return i.models.library.space_types.find(function(t){return t.id===e.currentSelections.space_type_id})},currentStoryGeometry:function(e,t,i){return i.geometry.find(function(e){return e.id===t.currentStory.geometry_id})},currentSubSelectionFace:function(e,t){return t.currentSubSelection&&t.currentSubSelection.face_id?t.currentStoryGeometry.faces.find(function(e){return e.id===t.currentSubSelection.face_id}):null}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(112),a=n(r),o=i(115),s=n(o),c=i(113),u=n(c),d=i(32);t.default={namespaced:!0,state:{currentSelections:{story:null,story_id:null,subselection_id:null,building_unit_id:null,thermal_zone_id:null,space_type_id:null,tool:"Rectangle",mode:"spaces",snapMode:"grid-strict"},modes:["spaces","shading","building_units","thermal_zones","space_types","images"],tools:["Pan","Drag","Rectangle","Polygon","Eraser","Select","Map","Fill"],scale:{x:d.scaleLinear().range([0,0]).domain([0,0]),y:d.scaleLinear().range([0,0]).domain([0,0])}},actions:a.default,mutations:s.default,getters:u.default}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={setCurrentStoryId:function(e,t){e.currentSelections.story_id=t.id},setCurrentSubSelectionId:function(e,t){e.currentSelections.subselection_id=t.id},setCurrentBuildingUnitId:function(e,t){e.currentSelections.building_unit_id=t.id},setCurrentThermalZoneId:function(e,t){e.currentSelections.thermal_zone_id=t.id},setCurrentSpaceTypeId:function(e,t){e.currentSelections.space_type_id=t.id},setCurrentSnapMode:function(e,t){e.currentSelections.snapMode=t.snapMode},setCurrentTool:function(e,t){e.currentSelections.tool=t.tool},setCurrentMode:function(e,t){e.currentSelections.mode=t.mode},setScaleX:function(e,t){e.scale.x=t.scaleX},setScaleY:function(e,t){e.scale.y=t.scaleY}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return u.default.vertexForCoordinates(t,e)||s.default.Vertex(t.x,t.y)}Object.defineProperty(t,"__esModule",{value:!0}),t.getOrCreateVertex=r;var a=i(4),o=(n(a),i(74)),s=n(o),c=i(11),u=n(c),d=i(12),l=(n(d),i(117)),f=n(l);t.default={initGeometry:function(e,t){var i=t.story_id,n=new s.default.Geometry;e.commit("initGeometry",{geometry:n}),e.dispatch("models/updateStoryWithData",{story:e.rootState.models.stories.find(function(e){return e.id===i}),geometry_id:n.id},{root:!0})},eraseSelection:function(e,t){var i=t.points,n=(0,l.eraseSelection)(i,e);n||window.eventBus.$emit("error","Operation cancelled - no split faces")},moveFaceByOffset:function(e,t){var i=t.face_id,n=t.dx,r=t.dy,a=e.rootGetters["application/currentStoryGeometry"],o=u.default.faceForId(i,a),s=u.default.verticesForFaceId(o.id,a).map(function(e){return{x:e.x+n,y:e.y+r}}),c=(0,l.newGeometriesOfOverlappedFaces)(s,u.default.exceptFace(a,i));if(c.error)return window.eventBus.$emit("error","Operation cancelled - "+c.error),void window.eventBus.$emit("reload-grid");var d=(0,l.validateFaceGeometry)(s,a);return d?(c.forEach(function(t){return e.dispatch("replaceFacePoints",t)}),void e.dispatch("replaceFacePoints",{geometry_id:a.id,face_id:i,vertices:d.vertices,edges:d.edges})):(window.eventBus.$emit("error",d.error),void window.eventBus.$emit("reload-grid"))},createFaceFromPoints:f.default,splitEdge:function(e,t){var i=t.edge,n=t.vertex,r=e.rootGetters["application/currentStoryGeometry"],a=new s.default.Edge;a.v1=i.v1,a.v2=n.id,e.commit("createEdge",{geometry_id:r.id,edge:a});var o=new s.default.Edge;o.v1=n.id,o.v2=i.v2,e.commit("createEdge",{geometry_id:r.id,edge:o}),u.default.facesForEdgeId(i.id,r).forEach(function(t){e.commit("createEdgeRef",{geometry_id:r.id,face_id:t.id,edgeRef:{edge_id:a.id,reverse:!1}}),e.commit("createEdgeRef",{geometry_id:r.id,face_id:t.id,edgeRef:{edge_id:o.id,reverse:!1}}),e.commit("destroyEdgeRef",{geometry_id:r.id,edge_id:i.id,face_id:t.id})}),e.commit("destroyGeometry",{id:i.id})},destroyFaceAndDescendents:function(e,t){var i=t.geometry_id,n=t.face,r=e.state.find(function(e){return e.id===i}),a=(!!r.faces.find(function(e){return e.id===n.id}),n.edgeRefs.map(function(e){var t=u.default.edgeForId(e.edge_id,r),i=e.reverse?t.v2:t.v1;return u.default.vertexForId(i,r)}).filter(function(e){return u.default.facesForVertexId(e.id,r).length<2})),o=n.edgeRefs.filter(function(e){return u.default.facesForEdgeId(e.edge_id,r).length<2});e.commit("destroyGeometry",{id:n.id}),o.forEach(function(t){return e.commit("destroyGeometry",{id:t.edge_id})}),a.forEach(function(t){return e.commit("destroyGeometry",{id:t.id})})},replaceFacePoints:function(e,t){var i=t.geometry_id,n=t.face_id,r=t.vertices,a=t.edges;e.commit("replaceFacePoints",{geometry_id:i,vertices:r,edges:a,face_id:n})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=t.model_id,n=t.points;if(!((0,N.uniq)(n).length<3)){var r=e.rootGetters["application/currentStoryGeometry"],o=G.default.libraryObjectWithId(e.rootState.models,i),c=o.face_id?z.default.faceForId(o.face_id,r):null,u=void 0;if(c){var d=z.default.verticesForFaceId(c.id,r);if(u=z.default.setOperation("union",d,n),u.error)return void window.eventBus.$emit("error","Operation cancelled - "+u.error)}else u=n;var l=m(u,e.rootGetters["application/currentStoryGeometry"],e.rootGetters["project/snapTolerance"]);if(!l.success)return window.eventBus.$emit("error",l.error),void console.error(l.error);var f=a(u,z.default.exceptFace(r,c&&c.id));if(f.error)return void window.eventBus.$emit("error","Operation cancelled - "+f.error);f.forEach(function(t){return e.dispatch("replaceFacePoints",t)}),s(l,o,e,c),_(e)}}function a(e,t){if(e.length<3||!z.default.areaOfSelection(e))return!1;var i=z.default.denormalize(t),n=i.faces.filter(function(t){var i=z.default.intersection(t.vertices,e);return i.error||i.length>0}),r=n.map(function(t){return z.default.difference(t.vertices,e)}),a=F.default.find(r,"error");if(a)return a;var o=r.map(function(e){return m(e,t)}),s=F.default.find(o,"error");return s?s:F.default.zip(n,o).map(function(e){var i=(0,$.default)(e,2),n=i[0],r=i[1],a=r.vertices,o=r.edges;return{geometry_id:t.id,face_id:n.id,vertices:a,edges:o}})}function o(e,t){var i=t.rootGetters["application/currentStoryGeometry"];if(e.length<3||!z.default.areaOfSelection(e))return!1;var n=a(e,i);return n.error?(window.eventBus.$emit("error","Operation cancelled - "+n.error),!1):(n.forEach(function(e){return t.dispatch("replaceFacePoints",e)}),!0)}function s(e,t,i,n){var r,a=e.vertices,o=e.edges,s=i.rootGetters["application/currentStoryGeometry"],c=n||new O.default.Face([]);i.commit("replaceFacePoints",{face_id:c.id,geometry_id:s.id,vertices:a,edges:o}),i.dispatch("space"===t.type?"models/updateSpaceWithData":"models/updateShadingWithData",(r={},(0,j.default)(r,t.type,t),(0,j.default)(r,"face_id",c.id),r),{root:!0})}function c(e,t,i){var n=i.find(function(i){return i.v1===e.id&&i.v2===t.id||i.v2===e.id&&i.v1===t.id});return n&&(0,I.default)({},n,{reverse:n.v1===t.id})}function u(e,t){return e.length?F.default.zip(e,[].concat((0,S.default)(e.slice(1)),[e[0]])).map(function(e){var i=(0,$.default)(e,2),n=i[0],r=i[1];return c(n,r,t)||new O.default.Edge(n.id,r.id)}):[]}function d(e){this.message=e}function l(e){if(e.length<3)throw new d("can't make a polygon with fewer than three vertices: "+(0,b.default)(e))}function f(e){e.forEach(function(t){if(F.default.find(e,{x:t.x,y:t.y}).length>=2)throw new d("Duplicate vertex at ("+t.x+", "+t.y+")")})}function p(e,t){t.forEach(function(t){var i=t.v1,n=t.v2,r=F.default.find(e,{id:i}),a=F.default.find(e,{id:n});e.forEach(function(e){if(e.id!==i&&e.id!==n&&z.default.ptsAreCollinear(r,a,e)){var t=F.default.reject([(e.x-r.x)/(a.x-r.x),(e.y-r.y)/(a.y-r.y)],isNaN)[0];if(!(t>1||t<0))throw new d("An edge is being touched by a vertex on the same face at ("+e.x+", "+e.y+")")}})})}function h(e,t){(0,N.allPairs)(t).forEach(function(t){var i=(0,$.default)(t,2),n=i[0],r=i[1],a=F.default.find(e,{id:n.v1}),o=F.default.find(e,{id:n.v2}),s=F.default.find(e,{id:r.v1}),c=F.default.find(e,{id:r.v2}),u=z.default.intersectionOfLines(a,o,s,c);if(u)throw new d("Self intersection at "+u.x+", "+u.y)})}function m(e,t){if(0===e.length)return{success:!0,vertices:[],edges:[]};if(e.length<=2)return{success:!1,error:"need at least 3 points to make a face"};var i=e.map(function(e){return z.default.vertexForCoordinates(e,t)||new O.default.Vertex(e.x,e.y)});i=(0,N.dropConsecutiveDups)(i);var n=u(i,t.edges);try{l(i),f(i),p(i,n),h(i,n)}catch(e){if(e instanceof d)return{success:!1,error:e.message};throw e}return{success:!0,vertices:i,edges:n}}function g(e){return F.default.zip(e.slice(0,-1),e.slice(1)).map(function(e){var t=(0,$.default)(e,2),i=t[0],n=t[1];return O.default.Edge(i.id,n.id)})}function y(e,t,i){var n=z.default.facesForEdgeId(t,e),r=n.map(function(n){return{type:"replaceEdgeRef",geometry_id:e.id,edge_id:t,face_id:n.id,newEdges:F.default.map(i,"id")}});return r}function v(e){return F.default.compact(e.edges.map(function(t){var i=z.default.splittingVerticesForEdgeId(t.id,e);if(!i.length)return!1;var n=z.default.vertexForId(t.v1,e),r=z.default.vertexForId(t.v2,e);F.default.sortBy(i,function(e){return z.default.distanceBetweenPoints(e,n)}),i=[n].concat((0,S.default)(i),[r]);var a=g(i),o=y(e,t.id,a);return{edgeToDelete:t.id,newEdges:a,replaceEdgeRefs:o}}))}function _(e){var t=e.rootGetters["application/currentStoryGeometry"],i=v(t);i.forEach(function(i){return e.commit((0,I.default)({type:"splitEdge",geometry_id:t.id},i))})}Object.defineProperty(t,"__esModule",{value:!0});var x=i(10),b=n(x),w=i(21),S=n(w),M=i(1),I=n(M),T=i(77),j=n(T),P=i(78),$=n(P);t.default=r,t.newGeometriesOfOverlappedFaces=a,t.eraseSelection=o,t.findExistingEdge=c,t.matchOrCreateEdges=u,t.errOnTooFewVerts=l,t.errOnDuplicateVerts=f,t.errOnVertexIntersectsEdge=p,t.errOnEdgeIntersectsEdge=h,t.validateFaceGeometry=m,t.edgesToSplit=v;var k=i(4),F=n(k),E=i(74),O=n(E),C=i(11),z=n(C),R=i(12),G=n(R),N=i(25);d.prototype=new Error},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(11),a=n(r);t.default={exportData:function(e,t,i,n){return e.map(function(e){return{id:e.id,vertices:e.vertices.map(function(t){return{id:t.id,x:Number(t.x),y:Number(t.y),edge_ids:a.default.edgesForVertexId(t.id,e).map(function(e){return e.id})}}),edges:e.edges.map(function(t){return{id:t.id,vertex_ids:[t.v1,t.v2],face_ids:a.default.facesForEdgeId(t.id,e).map(function(e){return e.id})}}),faces:e.faces.map(function(e){return{id:e.id,edge_ids:e.edgeRefs.map(function(e){return e.edge_id}),edge_order:e.edgeRefs.map(function(e){return e.reverse?0:1})}})}})}}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(116),o=r(a),s=i(120),c=n(s),u=i(118),d=r(u);t.default={namespaced:!0,state:[],actions:o.default,mutations:c,getters:d.default}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=t.geometry_id,n=I.default.find(e,{id:i}),r=new S.default(I.default.flatMap(n.faces,function(e){return I.default.map(e.edgeRefs,"edge_id")})),a=new S.default(I.default.flatMap(n.edges.filter(function(e){return r.has(e.id)}),function(e){return[e.v1,e.v2]}));n.edges=n.edges.filter(function(e){return r.has(e.id)}),n.vertices=n.vertices.filter(function(e){return a.has(e.id)}),n.edges.length!==r.size&&console.error("An edge is referenced by a face, but does not exist!",(0,b.default)(n)),n.vertices.length!==a.size&&console.error("A vertex is referenced by a face, but does not exist!",(0,b.default)(n))}function a(e,t){var i=t.geometry;e.push(i)}function o(e,t){var i=t.geometry_id,n=t.vertex;e.find(function(e){return e.id===i}).vertices.push(n)}function s(e,t){var i=t.geometry_id,n=t.edge;e.find(function(e){return e.id===i}).edges.push(n)}function c(e,t){var i=t.geometry_id,n=t.face;e.find(function(e){return e.id===i}).faces.push(n)}function u(e,t){for(var i=t.id,n=0;n<e.length;n++){var r=e[n];if(r.id===i){e.splice(e.findIndex(function(e){return e.id===i}),1);break}if(~r.faces.map(function(e){return e.id}).indexOf(i)){r.faces.splice(r.faces.findIndex(function(e){return e.id===i}),1);break}if(~r.edges.map(function(e){return e.id}).indexOf(i)){r.edges.splice(r.edges.findIndex(function(e){return e.id===i}),1);break}if(~r.vertices.map(function(e){return e.id}).indexOf(i)){r.vertices.splice(r.vertices.findIndex(function(e){return e.id===i}),1);break}}}function d(e,t){var i=t.geometry_id,n=t.face_id,r=t.edgeRef,a=e.find(function(e){return e.id===i}),o=a.faces.find(function(e){return e.id===n}),s=a.edges.find(function(e){return e.id===r.edge_id});s&&o.edgeRefs.push(r)}function l(e,t){var i=t.geometry_id,n=t.face_id,r=t.edgeRefs,a=e.find(function(e){return e.id===i}),o=a.faces.find(function(e){return e.id===n});o.edgeRefs=r.filter(function(e){return a.edges.find(function(t){return t.id===e.edge_id})})}function f(e,t){var i=t.geometry_id,n=t.face_id,r=t.edge_id,a=e.find(function(e){return e.id===i}),o=a.faces.find(function(e){return e.id===n});o.edgeRefs.splice(o.edgeRefs.findIndex(function(e){return e.edge_id===r}),1)}function p(e,t){var i,n=t.geometry_id,r=t.face_id,a=t.edge_id,o=t.newEdges,s=e.find(function(e){return e.id===n}),c=s.faces.find(function(e){return e.id===r}),u=I.default.findIndex(c.edgeRefs,{edge_id:a}),d=c.edgeRefs[u];(i=c.edgeRefs).splice.apply(i,[u,1].concat((0,_.default)(o.map(function(e){return{
edge_id:e,reverse:d.reverse}}))))}function h(e,t){var i=t.geometry_id,n=t.edgeToDelete,r=t.newEdges,a=t.replaceEdgeRefs;r.forEach(function(t){return s(e,{edge:t,geometry_id:i})}),a.forEach(function(t){return p(e,t)}),u(e,{id:n})}function m(e,t){t.forEach(function(t){return I.default.find(e.vertices,{id:t.id})||e.vertices.push(t)})}function g(e,t){t.forEach(function(t){return I.default.find(e.edges,{id:t.id})||e.edges.push(t)})}function y(e,t){var i=t.geometry_id,n=t.vertices,a=t.edges,o=t.face_id,s=I.default.find(e,{id:i});m(s,n),g(s,a);var c=I.default.find(s.faces,{id:o});c||(c={id:o,edgeRefs:[]},s.faces.push(c)),c.edgeRefs=a.map(function(e){return{edge_id:e.id,reverse:!!e.reverse}}),r(e,{geometry_id:i})}Object.defineProperty(t,"__esModule",{value:!0});var v=i(21),_=n(v),x=i(10),b=n(x),w=i(142),S=n(w);t.trimGeometry=r,t.initGeometry=a,t.createVertex=o,t.createEdge=s,t.createFace=c,t.destroyGeometry=u,t.createEdgeRef=d,t.setEdgeRefsForFace=l,t.destroyEdgeRef=f,t.replaceEdgeRef=p,t.splitEdge=h,t.replaceFacePoints=y;var M=i(4),I=n(M)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(15),a=n(r),o=i(49),s=n(o),c=i(75),u=n(c),d=i(12),l=n(d);t.default={initStory:function(e){var t=l.default.generateName(e.state,"stories"),i=new u.default.Story(t);e.commit("initStory",{story:i}),e.dispatch("geometry/initGeometry",{story_id:i.id},{root:!0}),e.dispatch("initSpace",{story:i}),e.dispatch("selectStory",{story:i})},initSpace:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=l.default.generateName(e.state,"spaces",i),r=new u.default.Space(n);e.commit("initSpace",{story:i,space:r})},initShading:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=l.default.generateName(e.state,"shading",i),r=new u.default.Shading(n);e.commit("initShading",{story:i,shading:r})},destroyStory:function(e,t){var i=e.state.stories,n=i.findIndex(function(e){return e.id===t.story.id}),r=i[n];e.commit("destroyStory",{story:r}),0===i.length?e.dispatch("initStory"):e.dispatch("selectStory",{story:i[n-1]})},destroySpace:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=i.spaces.find(function(e){return e.id===t.space.id});e.commit("destroySpace",{space:n,story:i});var r=e.rootGetters["application/currentStoryGeometry"].faces.find(function(e){return e.id===n.face_id});r&&e.dispatch("geometry/destroyFaceAndDescendents",{face:r,geometry_id:e.rootGetters["application/currentStoryGeometry"].id},{root:!0})},destroyShading:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=i.shading.find(function(e){return e.id===t.shading.id});e.commit("destroyShading",{shading:n,story:i});var r=e.rootGetters["application/currentStoryGeometry"].faces.find(function(e){return e.id===n.face_id});r&&e.dispatch("geometry/destroyFaceAndDescendents",{face:r,geometry_id:e.rootGetters["application/currentStoryGeometry"].id},{root:!0})},destroyImage:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=i.images.find(function(e){return e.id===t.image.id});e.commit("destroyImage",{image:n,story:i})},destroyObject:function(e,t){e.commit("destroyObject",{object:t.object})},updateStoryWithData:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=(0,a.default)(s.default.stories.keymap),r={};for(var o in t)t.hasOwnProperty(o)&&~n.indexOf(o)&&(r[o]=t[o]);r.story=i,e.commit("updateStoryWithData",r)},updateSpaceWithData:function(e,t){var i=e.getters.allSpaces.find(function(e){return e.id===t.space.id}),n=(0,a.default)(i),r={};for(var o in t)t.hasOwnProperty(o)&&~n.indexOf(o)&&(r[o]=t[o]);r.space=i,e.commit("updateSpaceWithData",r)},updateShadingWithData:function(e,t){var i=e.getters.allShading.find(function(e){return e.id===t.shading.id}),n=(0,a.default)(i),r={};for(var o in t)t.hasOwnProperty(o)&&~n.indexOf(o)&&(r[o]=t[o]);r.shading=i,e.commit("updateShadingWithData",r)},updateImageWithData:function(e,t){var i=e.getters.allImages.find(function(e){return e.id===t.image.id}),n=(0,a.default)(i),r={};for(var o in t)t.hasOwnProperty(o)&&~n.indexOf(o)&&(r[o]=t[o]);r.image=i,e.commit("updateImageWithData",r)},updateObjectWithData:function(e,t){var i=l.default.libraryObjectWithId(e.state,t.object.id);t.object=i,e.commit("updateObjectWithData",t)},createImageForStory:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story_id}),n=l.default.generateName(e.state,"images",i),r=new u.default.Image(n,t.src);r.height=t.height,r.width=t.width,r.x=t.x,r.y=t.y,e.commit("createImageForStory",{story_id:i.id,image:r})},createObjectWithType:function(e,t){var i=t.type,n=l.default.generateName(e.state,i),r=new l.default.map[i].init({name:n});e.commit("initObject",{type:i,object:r})},selectStory:function(e,t){var i=t.story;e.dispatch("application/setCurrentStoryId",{id:i.id},{root:!0})}}},function(e,t){"use strict";function i(e){return+e}Object.defineProperty(t,"__esModule",{value:!0}),t.number=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(21),a=n(r),o=i(15),s=n(o),c=i(1),u=n(c);t.default={allSpaces:function(e,t,i,n){return i.models.stories.reduce(function(e,t){return e.concat(t.spaces)},[])},allShading:function(e,t,i,n){return i.models.stories.reduce(function(e,t){return e.concat(t.shading)},[])},allImages:function(e,t,i,n){return i.models.stories.reduce(function(e,t){return e.concat(t.images)},[])},all:function(e,t,i,n){var r=(0,u.default)({},i.models.library,{stories:i.models.stories,spaces:t.allSpaces,shading:t.allShading,images:t.allImages});return(0,s.default)(r).reduce(function(e,t){return e.push.apply(e,(0,a.default)(r[t])),e},[])}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(121),a=n(r),o=i(125),s=n(o),c=i(123),u=n(c);t.default={namespaced:!0,state:{stories:[],library:{building_units:[],thermal_zones:[],space_types:[],construction_sets:[],windows:[],daylighting_controls:[]}},actions:a.default,mutations:s.default,getters:u.default}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(50),a=n(r),o=i(4),s=n(o),c=i(12);n(c);t.default={initStory:function(e,t){e.stories.push(t.story)},initSpace:function(e,t){t.story.spaces.push(t.space)},initShading:function(e,t){t.story.shading.push(t.shading)},initObject:function(e,t){e.library[t.type].push(t.object)},destroySpace:function(e,t){t.story.spaces.splice(t.story.spaces.findIndex(function(e){return e.id===t.space.id}),1)},destroyShading:function(e,t){t.story.shading.splice(t.story.shading.findIndex(function(e){return e.id===t.shading.id}),1)},destroyImage:function(e,t){t.story.images.splice(t.story.images.findIndex(function(e){return e.id===t.image.id}),1)},destroyStory:function(e,t){e.stories.splice(e.stories.findIndex(function(e){return e.id===t.story.id}),1)},destroyObject:function(e,t){var i=t.object.id;e.library=s.default.mapValues(e.library,function(e){return s.default.reject(e,{id:i})})},updateStoryWithData:function(e,t){var i=t.story;delete t.story,(0,a.default)(i,t)},createImageForStory:function(e,t){var i=e.stories.find(function(e){return e.id===t.story_id});i.images.push(t.image)},updateSpaceWithData:function(e,t){var i=t.space;(0,a.default)(i,t),delete i.space},updateShadingWithData:function(e,t){var i=t.shading;(0,a.default)(i,t),delete i.shading},updateImageWithData:function(e,t){var i=t.image;(0,a.default)(i,t),delete i.image},updateObjectWithData:function(e,t){var i=t.object;(0,a.default)(i,t),delete i.object}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:function(e,t,i,n){var r=t.getters["models/all"];switch(n){case"stories":r=t.state.models.stories;break;case"spaces":r=t.getters["models/allSpaces"];break;case"shading":r=t.getters["models/allShading"];break;case"images":r=t.getters["models/allImages"];break;default:r=t.state.models.library[n]}var a="";return r.filter(function(t){return t.name===i&&t.id!==e.id}).length?a="Names must be unique.":""===i&&(a="Names must be at least 1 characters long."),a?{success:!1,error:a}:{success:!0}},number:function(e,t,i,n){var r="";return isNaN(i)&&(r="Value must be numeric."),r?{success:!1,error:r}:{success:!0}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(136),a=n(r);t.default={setUnits:function(e,t){"m"!==t.units&&"ft"!==t.units||e.commit("setUnits",t)},setLanguage:function(e,t){"EN-US"===t.language&&e.commit("setLanguage",t)},setNorthAxis:function(e,t){var i=t.north_axis;i>360||i<0||(e.commit("setConfigNorthAxis",{north_axis:i}),e.commit("setMapRotation",{rotation:i*Math.PI/180}))},setMapVisible:function(e,t){"boolean"==typeof t.visible&&e.commit("setMapVisible",t)},setMapEnabled:function(e,t){"boolean"==typeof t.enabled&&e.commit("setMapEnabled",t)},setMapInitialized:function(e,t){"boolean"==typeof t.initialized&&e.commit("setMapInitialized",t)},setGridVisible:function(e,t){"boolean"==typeof t.visible&&e.commit("setGridVisible",t)},setSpacing:function(e,t){e.commit("setSpacing",t)},setViewMinX:function(e,t){e.commit("setViewMinX",t)},setViewMinY:function(e,t){e.commit("setViewMinY",t)},setViewMaxX:function(e,t){var i=new a.default(t);i.validateInt("max_x"),i.validateMin("max_x",e.state.view.min_x),e.commit("setViewMaxX",i.validatedPayload)},setViewMaxY:function(e,t){var i=new a.default(t);i.validateInt("max_y"),i.validateMin("max_y",e.state.view.min_y),e.commit("setViewMaxY",i.validatedPayload)},setZoom:function(e,t){e.commit("setMapZoom",t)},setMapLatitude:function(e,t){var i=new a.default(t);i.validateFloat("latitude"),i.validateMax("latitude",180),i.validateMin("latitude",-180),e.commit("setMapLatitude",i.validatedPayload)},setMapLongitude:function(e,t){var i=new a.default(t);i.validateFloat("longitude"),i.validateMax("longitude",180),i.validateMin("longitude",-180),e.commit("setMapLongitude",i.validatedPayload)},setMapZoom:function(e,t){var i=new a.default(t);i.validateFloat("zoom"),e.commit("setMapZoom",{zoom:t.zoom})},setMapRotation:function(e,t){e.commit("setConfigNorthAxis",{north_axis:t.rotation/(2*Math.PI)*360}),e.commit("setMapRotation",{rotation:t.rotation})},setPreviousStoryVisible:function(e,t){e.commit("setPreviousStoryVisible",{visible:t.visible})},setShowImportExport:function(e,t){e.commit("setShowImportExport",t)},setTransform:function(e,t){e.commit("setTransform",t)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={snapTolerance:function(e){var t=.025*Math.abs(e.view.max_x-e.view.min_x);return e.grid.visible?.5*e.grid.spacing:t},angleTolerance:function(){return 20}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={setUnits:function(e,t){"units"in t&&(e.config.units=t.units)},setLanguage:function(e,t){"language"in t&&(e.config.language=t.language)},setConfigNorthAxis:function(e,t){"north_axis"in t&&(e.config.north_axis=t.north_axis)},setGridVisible:function(e,t){"visible"in t&&(e.grid.visible=t.visible)},setSpacing:function(e,t){e.grid.spacing=t.spacing},setViewMinX:function(e,t){"min_x"in t&&(e.view.min_x=t.min_x)},setViewMinY:function(e,t){"min_y"in t&&(e.view.min_y=t.min_y)},setViewMaxX:function(e,t){"max_x"in t&&(e.view.max_x=t.max_x)},setViewMaxY:function(e,t){"max_y"in t&&(e.view.max_y=t.max_y)},setMapEnabled:function(e,t){"enabled"in t&&(e.map.enabled=t.enabled)},setMapInitialized:function(e,t){"initialized"in t&&(e.map.initialized=t.initialized)},setMapVisible:function(e,t){"visible"in t&&(e.map.visible=t.visible)},setMapLatitude:function(e,t){"latitude"in t&&(e.map.latitude=t.latitude)},setMapLongitude:function(e,t){"longitude"in t&&(e.map.longitude=t.longitude)},setMapZoom:function(e,t){"zoom"in t&&(e.map.zoom=t.zoom)},setMapRotation:function(e,t){"rotation"in t&&(e.map.rotation=t.rotation)},setPreviousStoryVisible:function(e,t){"visible"in t&&(e.previous_story.visible=t.visible)},setShowImportExport:function(e,t){e.showImportExport=t},setTransform:function(e,t){e.transform=t}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(50),a=n(r),o=i(76),s=n(o);t.default={importState:function(e,t){e.project=(0,a.default)(s.default.state,t.project),e.application=t.application,e.models=t.models,e.geometry=t.geometry},importLibrary:function(e,t){e.models.library=t}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(10),s=n(o),c=i(4),u=n(c),d=function(e){var t=JSON.parse((0,s.default)(e));return t},l=["application/setScaleX","application/setCurrentTool","application/setScaleY","project/setSpacing","project/setViewMinX","project/setViewMinY","project/setViewMaxX","project/setViewMaxY","project/setTransform","application/clearSubSelections","application/setCurrentStoryId","application/setCurrentStory","application/setCurrentSpace","application/setCurrentShading","application/setCurrentImage","application/setCurrentBuildingUnit","application/setCurrentThermalZone","application/setCurrentSpaceType","project/setPreviousStoryVisible","project/setGridVisible","project/setMapLatitude","project/setMapLongitude","project/setMapRotation"],f=["importFloorplan","project/setMapEnabled","project/setMapInitialized"],p=function(e){return e};t.default={store:null,pastTimetravelStates:[],futureTimetravelStates:[],currentlyInBatch:!1,triggeringAction:"(none)",init:function(e){var t=this;this.store=e,e.timetravel=this,this.pastTimetravelStates=[],this.futureTimetravelStates=[],this.store.replaceState((0,a.default)({},e.state,{timetravelInitialized:!0}));var i=e.replaceState;e.replaceState=function(){window.api&&window.api.config.onChange();for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];r.application.scale=this.state.application.scale,r.project.view=this.state.project.view,r.project.grid=this.state.project.grid,r.project.previous_story=this.state.project.previous_story,i.apply(this,t)};var n=e.commit;e.commit=function(){window.api&&window.api.config.onChange();for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];n.apply(this,t)};var r=e.dispatch;e.dispatch=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var a=i[0];u.default.includes(l,a)||(t.maybeSaveCheckpoint(a),console.log("dispatching action:",i[0])),r.apply(this,i)}},maybeSaveCheckpoint:function(e){var t=this;this.currentlyInBatch||this.saveCheckpoint(e),this.currentlyInBatch=!0,clearTimeout(this.resetBatchFlag),this.resetBatchFlag=setTimeout(function(){t.currentlyInBatch=!1},0)},saveCheckpoint:function(e){this.pastTimetravelStates.push({triggeringAction:this.triggeringAction,state:d(this.store.state)}),this.triggeringAction=e,console.warn("saving state:",this.pastTimetravelStates[this.pastTimetravelStates.length-1]),this.futureTimetravelStates=[],this.potentiallyRollbackCheckpoint(e)},potentiallyRollbackCheckpoint:function(e){var t=this.pastTimetravelStates,i=this.store;return u.default.includes(f,e)?(this.pastTimetravelStates=[],void(this.futureTimetravelStates=[])):void u.default.defer(function(){for(;t.length>0&&u.default.isEqual(d(i.state),t[t.length-1].state);)console.log("current state matches previous, so rolling back",t[t.length-1].triggeringAction),t.pop()})},undo:function(){if(this.pastTimetravelStates.length){var e=this.pastTimetravelStates.pop(),t=e.state,i=e.triggeringAction,n=this.triggeringAction;this.futureTimetravelStates.push({triggeringAction:this.triggeringAction,state:d(this.store.state)}),this.triggeringAction=i,this.store.replaceState(t),console.log("undo",t),window.eventBus.$emit("success","undo "+n)}},redo:function(){if(this.futureTimetravelStates.length){var e=this.futureTimetravelStates.pop(),t=e.state,i=e.triggeringAction;this.pastTimetravelStates.push({state:d(this.store.state),triggeringAction:this.triggeringAction}),this.triggeringAction=i,this.store.replaceState(t),window.eventBus.$emit("success","redo "+i),console.log("redo",t)}},logTimetravel:function(){console.log("past:",this.pastTimetravelStates.map(function(e){return p(e)})),console.log("current",p(this.store.state)),console.log("future:",this.futureTimetravelStates.map(function(e){return p(e)}))}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=(0,l.default)({application:e.application,project:e.project,stories:e.models.stories},e.models.library,{version:p.default}),n=t["geometry/exportData"];return i=JSON.parse((0,u.default)(i)),i.stories.forEach(function(e){e.geometry=n.find(function(t){return t.id===e.geometry_id}),delete e.geometry_id}),a(i),i}function a(e){for(var t in e)"id"!==t&&!~t.indexOf("_id")||"number"!=typeof e[t]||(e[t]=String(e[t])),~t.indexOf("_ids")&&"object"===(0,s.default)(e[t])&&(e[t]=e[t].map(function(e){return String(e)})),null!==e[t]&&"object"===(0,s.default)(e[t])&&a(e[t])}Object.defineProperty(t,"__esModule",{value:!0});var o=i(145),s=n(o),c=i(10),u=n(c),d=i(1),l=n(d);t.default=r;var f=i(137),p=n(f)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(47),a=n(r);t.default=function(){var e={space:0,building_unit:0,thermal_zone:0,space_type:0};return function(t){return e[t]++,a.default.palette.colors[e[t]%a.default.palette.colors.length]}}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_.isObject(e)?(0,o.default)(e).forEach(function(n){return i(e[n],t,n)}):_.isArray(e)?e.forEach(function(e){return i(e,t)}):t(n,e)}window.api&&(window.versionNumber=0);var n=t.data.stories.map(function(e){var t=e.geometry.faces.map(function(e){var t=e.edge_ids.map(function(t,i){return{edge_id:t,reverse:!e.edge_order[i]}});return{id:e.id,edgeRefs:t}}),i=e.geometry.edges.map(function(e){return{id:e.id,v1:e.vertex_ids[0],v2:e.vertex_ids[1]}});return{id:e.geometry.id,faces:t,edges:i,vertices:e.geometry.vertices}}),r=t.data.stories.map(function(e){var t=(0,c.default)({geometry_id:e.geometry.id},e);return delete t.geometry,t}),a=0;i(t,function(e,t){e&&"id"===e&&+t>a&&(a=t)}),a+=1,d.default.setId(a),e.commit("importState",{project:t.data.project,application:e.state.application,models:{stories:r,library:{building_units:t.data.building_units,thermal_zones:t.data.thermal_zones,space_types:t.data.space_types,construction_sets:t.data.construction_sets,windows:t.data.windows,daylighting_controls:t.data.daylighting_controls}},geometry:n}),document.getElementById("svg-grid").dispatchEvent(new Event("reloadGrid"))}Object.defineProperty(t,"__esModule",{value:!0});var a=i(15),o=n(a),s=i(1),c=n(s);t.default=r;var u=i(36),d=n(u)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=0,n=(0,o.default)(t.data);n.forEach(function(n){if("project"!==n&&e.state.models.library[n]){var r=e.state.models.library[n].map(function(e){return/_\d+[\w\s]?$/.test(e.name)?e.name.split("_").slice(0,-1).join("_"):e.name});t.data[n]=t.data[n].map(function(e){var t=e;t.id=c.default.generate();var n=r.filter(function(t){return t===e.name}).length;return n&&(t.name+="_"+n),i+=1,t})}}),window.eventBus.$emit("success","Imported "+i+" object"+(1!==i?"s":"")),e.commit("importLibrary",{building_units:e.state.models.library.building_units.concat(t.data.building_units||[]),thermal_zones:e.state.models.library.thermal_zones.concat(t.data.thermal_zones||[]),space_types:e.state.models.library.space_types.concat(t.data.space_types||[]),construction_sets:e.state.models.library.construction_sets.concat(t.data.construction_sets||[]),windows:e.state.models.library.windows.concat(t.data.windows||[]),daylighting_controls:e.state.models.library.daylighting_controls.concat(t.data.daylighting_controls||[])})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(15),o=n(a);t.default=r;var s=i(36),c=n(s)},function(e,t){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[];return{invalidKeys:i,validatedPayload:t,validateLength:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n in e&&i.indexOf(n)===-1&&(n in e&&e[n].length>=r?t[n]=e[n]:(delete t[n],i.push(n)))},validateMin:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n in e&&i.indexOf(n)===-1&&(e[n]>r?t[n]=e[n]:(delete t[n],i.push(n)))},validateMax:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n in e&&i.indexOf(n)===-1&&(n in e&&e[n]<r?t[n]=e[n]:(delete t[n],i.push(n)))},validateFloat:function(n){n in e&&i.indexOf(n)===-1&&(n in e&&!isNaN(parseFloat(e[n]))?t[n]=parseFloat(e[n]):(delete t[n],i.push(n)))},validateInt:function(n){n in e&&i.indexOf(n)===-1&&(n in e&&!isNaN(parseInt(e[n]))?t[n]=parseInt(e[n]):(delete t[n],i.push(n)))},validateBoolean:function(n){n in e&&i.indexOf(n)===-1&&(n in e?t[n]=!!e[n]:(delete t[n],i.push(n)))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t){"use strict";e.exports="0.4.0"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,function(e,t,i){i(214),i(215);var n=i(6)(i(98),i(252),"data-v-782d1b60",null);e.exports=n.exports},function(e,t,i){i(217);var n=i(6)(i(99),i(254),"data-v-d8d46712",null);e.exports=n.exports},function(e,t,i){i(209);var n=i(6)(i(100),i(247),"data-v-312b6cd2",null);e.exports=n.exports},function(e,t,i){i(208);var n=i(6)(i(101),i(246),"data-v-2a0d4266",null);e.exports=n.exports},function(e,t,i){i(213);var n=i(6)(i(102),i(251),"data-v-6c2e0a12",null);e.exports=n.exports},function(e,t,i){i(210);var n=i(6)(i(103),i(248),"data-v-37303d42",null);e.exports=n.exports},function(e,t,i){i(218);var n=i(6)(i(104),i(255),"data-v-e5aa45ba",null);e.exports=n.exports},function(e,t,i){i(212);var n=i(6)(i(105),i(250),"data-v-64853c42",null);e.exports=n.exports},function(e,t,i){i(211);var n=i(6)(i(106),i(249),"data-v-4d4276dd",null);e.exports=n.exports},function(e,t,i){i(216);var n=i(6)(i(107),i(253),"data-v-7b01355c",null);e.exports=n.exports},function(e,t,i){i(207);var n=i(6)(i(108),i(245),"data-v-1dbce3e3",null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{attrs:{id:"toolbar"}},[i("section",{staticClass:"settings"},[i("div",{staticClass:"input-checkbox"},[i("label",[e._v("Story Below")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.previousStoryVisible,expression:"previousStoryVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.previousStoryVisible)?e._i(e.previousStoryVisible,null)>-1:e.previousStoryVisible},on:{__c:function(t){var i=e.previousStoryVisible,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a=null,o=e._i(i,a);n.checked?o<0&&(e.previousStoryVisible=i.concat(a)):o>-1&&(e.previousStoryVisible=i.slice(0,o).concat(i.slice(o+1)))}else e.previousStoryVisible=r}}})]),e._v(" "),e.mapEnabled?i("div",{staticClass:"input-checkbox"},[i("label",[e._v("map")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.mapVisible,expression:"mapVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.mapVisible)?e._i(e.mapVisible,null)>-1:e.mapVisible},on:{__c:function(t){var i=e.mapVisible,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a=null,o=e._i(i,a);n.checked?o<0&&(e.mapVisible=i.concat(a)):o>-1&&(e.mapVisible=i.slice(0,o).concat(i.slice(o+1)))}else e.mapVisible=r}}})]):e._e(),e._v(" "),i("div",{staticClass:"input-checkbox"},[i("label",[e._v("grid")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gridVisible,expression:"gridVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.gridVisible)?e._i(e.gridVisible,null)>-1:e.gridVisible},on:{__c:function(t){var i=e.gridVisible,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a=null,o=e._i(i,a);n.checked?o<0&&(e.gridVisible=i.concat(a)):o>-1&&(e.gridVisible=i.slice(0,o).concat(i.slice(o+1)))}else e.gridVisible=r}}})]),e._v(" "),i("div",{staticClass:"input-number input-select"},[i("label",[e._v("spacing")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.spacing,expression:"spacing",modifiers:{number:!0,lazy:!0}}],domProps:{value:e.spacing},on:{change:function(t){e.spacing=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}}),e._v(" "),i("select",{ref:"unitSelect",on:{change:e.updateUnits}},[i("option",{attrs:{value:"ft"}},[e._v("ft")]),e._v(" "),i("option",{attrs:{value:"m"}},[e._v("m")])]),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]),e._v(" "),i("div",{staticClass:"input-number"},[i("label",[e._v("north axis")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.northAxis,expression:"northAxis",modifiers:{number:!0,lazy:!0}}],attrs:{disabled:e.mapEnabled},domProps:{value:e.northAxis},on:{change:function(t){e.northAxis=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),e.showImportExport?i("div",{attrs:{id:"import-export"}},[i("input",{ref:"importLibrary",attrs:{type:"file"},on:{change:function(t){e.importDataAsFile(t,"library")}}}),e._v(" "),i("button",{on:{click:function(t){e.$refs.importLibrary.click()}}},[e._v("Import Library")]),e._v(" "),i("input",{ref:"importInput",attrs:{type:"file"},on:{change:function(t){e.importDataAsFile(t,"floorplan")}}}),e._v(" "),i("button",{attrs:{id:"import"},on:{click:function(t){e.$refs.importInput.click()}}},[e._v("Open Floorplan")]),e._v(" "),i("button",{attrs:{id:"export"},on:{click:e.exportData}},[e._v("Save Floorplan")])]):e._e()]),e._v(" "),i("section",{staticClass:"tools"},[i("div",{staticClass:"undo-redo"},[i("button",{attrs:{disabled:!e.timetravelInitialized},on:{click:e.undo}},[e._v("Undo")]),e._v(" "),i("button",{attrs:{disabled:!e.timetravelInitialized},on:{click:e.redo}},[e._v("Redo")])]),e._v(" "),i("div",{staticClass:"snapping-options"},[i("button",{class:{active:"grid-strict"===e.snapMode},on:{click:function(t){e.snapMode="grid-strict"}}},[e._v("Strict Grid")]),e._v(" "),i("button",{class:{active:"grid-verts-edges"===e.snapMode},on:{click:function(t){e.snapMode="grid-verts-edges"}}},[e._v("Edges too")])]),e._v(" "),i("div",e._l(e.availableTools,function(t){return i("button",{class:{active:e.tool===t},attrs:{"data-tool":t},on:{click:function(i){e.tool=t}}},[e._v(e._s(t))])}))]),e._v(" "),e.showSaveModal?i("section",{staticClass:"modals"},[i("save-as-modal",{attrs:{saveWhat:e.thingWereSaving,dataToDownload:e.dataToDownload,onClose:function(){e.showSaveModal=!1,e.thingWereSaving=""}}})],1):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"map-container"}},[i("div",{ref:"map",style:{"pointer-events":"Map"===e.tool?"all":"none"},attrs:{id:"map"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Map"===e.tool,expression:"tool === 'Map'"}],attrs:{id:"autocomplete"}},[i("span",{staticClass:"input-text"},[i("input",{ref:"addressSearch",attrs:{type:"text",placeholder:"Search for a location"}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Map"===e.tool,expression:"tool === 'Map'"}],attrs:{id:"help-text"}},[i("p",[e._v("Drag the map and/or search to set desired location.  Use alt+shift to rotate the north axis. Click 'Done' when finished.")]),e._v(" "),i("button",{on:{click:e.finishSetup}},[e._v("Done")])]),e._v(" "),e.mapModalVisible&&!e.mapInitialized?i("map-modal",{on:{close:function(t){e.mapModalVisible=!1,e.showReticle()}}}):e._e(),e._v(" "),i("svg",{attrs:{id:"reticle"}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"images",style:{"pointer-events":"Drag"===e.currentTool?"auto":"none"},attrs:{id:"images"}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{attrs:{id:"inspector"}},[i("section",{staticClass:"list",attrs:{id:"geometry-list"}},[e._l(e.currentStoryGeometry.faces,function(t){return e.currentSpace||e.currentShading?e._e():[i("header",[i("h3",[e._v("Face "+e._s(t.id))])]),e._v(" "),e._l(t.edgeRefs,function(t){return i("div",{staticClass:"list-item"},[e._v("\n        edge "+e._s(t.edge_id)+" "+e._s(t.reverse?"reversed ":"")+"\n        "),i("br"),e._v("startpoint "+e._s(e.startpoint(t))+"\n        "),i("br"),e._v("endpoint "+e._s(e.endpoint(t))+"\n      ")])})]}),e._v(" "),e.currentSubSelectionFace?[i("header",[i("h3",[e._v("Face "+e._s(e.currentSubSelectionFace.id)+" on "+e._s(e.currentSpace?e.currentSpace.name:e.currentShading.name))])]),e._v(" "),e._l(e.currentSubSelectionFace.edgeRefs,function(t){return i("div",{staticClass:"list-item"},[e._v("\n        edge "+e._s(t.edge_id)+" "+e._s(t.reverse?"reversed ":"")+"\n        "),i("br"),e._v("startpoint "+e._s(e.startpoint(t))+"\n        "),i("br"),e._v("endpoint "+e._s(e.endpoint(t))+"\n      ")])})]:e._e()],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("aside",[i("div",{staticClass:"overlay",on:{click:e.close}}),e._v(" "),i("div",{staticClass:"modal"},[i("span",[i("svg",{staticClass:"close-button",attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:e.close}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])]),e._v(" "),i("header",[i("h2",[e._v("Save "+e._s(e.saveWhat)+" as")])]),e._v(" "),i("div",{staticClass:"content"},[i("span",{staticClass:"input-text"},[i("input",{ref:"downloadName",attrs:{type:"text",spellcheck:"false"},domProps:{value:e.saveWhat.toLowerCase()},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.downloadFile(t):null}}}),e._v("\n              .json\n              "),i("button",{staticClass:"download-button",on:{click:e.downloadFile}},[e._v("Download")])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("aside",[i("div",{staticClass:"overlay"}),e._v(" "),i("div",{staticClass:"modal"},[e._m(0),e._v(" "),i("div",{staticClass:"content"},[i("p",[e._v("Choose to either open an existing floorplan, start a new floorplan without a map, or start a new floorplan with a geolocated map.")]),e._v(" "),i("button",{staticClass:"open-floorplan",attrs:{id:"import"},on:{click:function(t){e.$refs.importInput.click()}}},[e._v("Open Floorplan")]),e._v(" "),i("button",{staticClass:"new-floorplan",on:{click:function(t){e.mapEnabled=!1,e.mapVisible=!1,e.$emit("close")}}},[e._v("New Floorplan")]),e._v(" "),i("button",{attrs:{disabled:!e.online},on:{click:function(t){e.mapEnabled=!0,e.tool="Map",e.$emit("close")}}},[e._v("New Floorplan w/ Map")]),e._v(" "),i("input",{ref:"importInput",attrs:{id:"importInput",type:"file"},on:{change:e.importFloorplanAsFile}})])])])},staticRenderFns:[function(){
var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h2",[e._v("Quick Start")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{"pointer-events":"Drag"===e.currentTool||"Map"===e.currentTool?"none":"auto"},attrs:{id:"grid"}},[i("svg",{ref:"grid",attrs:{preserveAspectRatio:"none",id:"svg-grid"}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"tool_"+e.tool.toLowerCase(),attrs:{id:"app"}},[i("toolbar",{class:{"disabled-component":"Map"===e.tool}}),e._v(" "),i("div",{attrs:{id:"layout-main"}},[i("navigation",{class:{"disabled-component":"Map"===e.tool}}),e._v(" "),i("main",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.error||e.success,expression:"error || success"}],class:{error:e.error,success:e.success},attrs:{id:"alert-text"}},[i("p",[e._v(e._s(e.error||e.success))])]),e._v(" "),i("canvas-view"),e._v(" "),i("grid-view")],1)],1),e._v(" "),i("library",{class:{"disabled-component":"Map"===e.tool}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"layout-navigation"}},[i("nav",{attrs:{id:"navigation"}},[i("div",{ref:"resizebar",staticClass:"resize-bar",attrs:{id:"right-bar"},on:{mousedown:e.resizeBarClicked,dblclick:e.showHide}}),e._v(" "),i("section",{attrs:{id:"selections"}},[i("div",{staticClass:"input-select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.mode=t.target.multiple?i:i[0]}}},e._l(e.modes,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(e.displayNameForMode(t)))])})),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]),e._v(" "),i("input",{ref:"fileInput",attrs:{id:"upload-image-input",type:"file"},on:{change:e.uploadImage}}),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:"images"===e.mode,expression:"mode==='images'"}],on:{click:function(t){e.$refs.fileInput.click()}}},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M208 122h-74V48c0-3.534-2.466-6.4-6-6.4s-6 2.866-6 6.4v74H48c-3.534 0-6.4 2.466-6.4 6s2.866 6 6.4 6h74v74c0 3.534 2.466 6.4 6 6.4s6-2.866 6-6.4v-74h74c3.534 0 6.4-2.466 6.4-6s-2.866-6-6.4-6z"}})]),e._v("\n              "+e._s(e.displayNameForMode(e.mode))+"\n          ")]),e._v(" "),"images"!==e.mode?i("button",{staticClass:"add-sub-selection",on:{click:function(t){e.createItem()}}},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M208 122h-74V48c0-3.534-2.466-6.4-6-6.4s-6 2.866-6 6.4v74H48c-3.534 0-6.4 2.466-6.4 6s2.866 6 6.4 6h74v74c0 3.534 2.466 6.4 6 6.4s6-2.866 6-6.4v-74h74c3.534 0 6.4-2.466 6.4-6s-2.866-6-6.4-6z"}})]),e._v("\n              "+e._s(e.displayNameForMode(e.mode))+"\n          ")]):e._e()]),e._v(" "),i("section",{attrs:{id:"breadcrumbs"}},[i("button",{staticClass:"create-story",on:{click:function(t){e.createItem("stories")}}},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M208 122h-74V48c0-3.534-2.466-6.4-6-6.4s-6 2.866-6 6.4v74H48c-3.534 0-6.4 2.466-6.4 6s2.866 6 6.4 6h74v74c0 3.534 2.466 6.4 6 6.4s6-2.866 6-6.4v-74h74c3.534 0 6.4-2.466 6.4-6s-2.866-6-6.4-6z"}})]),e._v("\n              "+e._s(e.displayNameForMode("stories"))+"\n          ")]),e._v(" "),i("span",[e._v("\n              "+e._s(e.currentStory.name)+"\n              "),e.selectedObject?[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z"}})]),e._v("\n                  "+e._s(e.selectedObject.name)+"\n              ")]:e._e()],2)]),e._v(" "),i("div",{attrs:{id:"list"}},[i("section",{attrs:{id:"story-list"}},e._l(e.stories,function(t){return i("div",{key:t.id,class:{active:e.currentStory&&e.currentStory.id===t.id},style:{"background-color":t&&t.color},attrs:{"data-id":t.id},on:{click:function(i){e.selectItem(t,"stories")}}},[e._v("\n                  "+e._s(t.name)+"\n                  "),i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(i){e.destroyItem(t,"stories")}}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])])})),e._v(" "),i("section",{attrs:{id:"subselection-list"}},e._l(e.items,function(t){return i("div",{key:t.id,class:{active:e.selectedObject&&e.selectedObject.id===t.id},style:{"background-color":t&&e.selectedObject&&e.selectedObject.id===t.id?t.color:""},attrs:{"data-id":t.id},on:{click:function(i){e.selectItem(t)}}},[i("span",{style:{"background-color":t&&t.color}}),e._v("\n                  "+e._s(t.name)+"\n                  "),i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(i){e.destroyItem(t)}}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])])}))])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"canvas",attrs:{id:"canvas"}},[i("svg",{attrs:{id:"north_axis",height:"1792",viewBox:"0 0 1792 1792",width:"1792",xmlns:"http://www.w3.org/2000/svg",transform:"rotate("+e.northAxis+")"}},[i("path",{attrs:{d:"M1277 493q-9 19-29 19h-224v1248q0 14-9 23t-23 9H800q-14 0-23-9t-9-23V512H544q-21 0-29-19t5-35L870 74q10-10 23-10 14 0 24 10l355 384q13 16 5 35z"}})]),e._v(" "),e.mapEnabled?i("map-view",{directives:[{name:"show",rawName:"v-show",value:e.mapVisible,expression:"mapVisible"}]}):e._e(),e._v(" "),i("images-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"layout-library"}},[i("section",{attrs:{id:"library"}},[i("div",{ref:"resizebar",staticClass:"resize-bar",attrs:{id:"top-bar"},on:{mousedown:e.resizeBarClicked,dblclick:e.showHide}}),e._v(" "),i("header",[i("div",{staticClass:"input-text"},[i("label",[e._v("Search")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"input-select"},[i("label",[e._v("Type")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.type=t.target.multiple?i:i[0]}}},e._l(e.extendedLibrary,function(t,n){return i("option",{domProps:{value:n}},[e._v(e._s(e.displayTypeForType(n)))])})),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]),e._v(" "),i("button",{on:{click:e.createObject}},[e._v("New")])]),e._v(" "),i("table",{staticClass:"table"},[i("thead",[i("tr",[e._l(e.columns,function(t){return i("th",{on:{click:function(i){e.sortBy(t)}}},[i("span",[i("span",[e._v(e._s(e.displayNameForKey(t)))]),e._v(" "),i("svg",{directives:[{name:"show",rawName:"v-show",value:t===e.sortKey&&e.sortDescending,expression:"column === sortKey && sortDescending"}],attrs:{viewBox:"0 0 10 3",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M0 .5l5 5 5-5H0z"}})]),e._v(" "),i("svg",{directives:[{name:"show",rawName:"v-show",value:t===e.sortKey&&!e.sortDescending,expression:"column === sortKey && !sortDescending"}],attrs:{viewBox:"0 0 10 3",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M0 5.5l5-5 5 5H0z"}})])])])}),e._v(" "),i("th",{staticClass:"destroy"})],2)]),e._v(" "),i("tbody",e._l(e.displayObjects,function(t){return i("tr",{key:t.id,style:{"background-color":e.selectedObject&&e.selectedObject.id===t.id?"#008500":""},attrs:{"data-id":t.id},on:{click:function(i){e.selectedObject=t}}},[e._l(e.columns,function(n){return i("td",[e.inputTypeForKey(n)?e._e():i("input",{attrs:{readonly:""},domProps:{value:e.valueForKey(t,n)},on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}}),e._v(" "),"text"===e.inputTypeForKey(n)?i("input",{domProps:{value:e.valueForKey(t,n)},on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}}):e._e(),e._v(" "),"color"===e.inputTypeForKey(n)?i("div",{staticClass:"input-color"},["color"===e.inputTypeForKey(n)?i("input",{attrs:{"object-id":t.id},domProps:{value:e.valueForKey(t,n)},on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}}):e._e()]):e._e(),e._v(" "),"select"===e.inputTypeForKey(n)?i("div",{staticClass:"input-select"},[i("select",{on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}},[i("option",{attrs:{value:"null"},domProps:{selected:!e.valueForKey(t,n)}},[e._v("None")]),e._v(" "),e._l(e.selectOptionsForObjectAndKey(t,n),function(r,a){return i("option",{domProps:{value:r,selected:e.valueForKey(t,n)===a}},[e._v(e._s(a))])})],2),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]):e._e()])}),e._v(" "),i("td",{staticClass:"destroy"},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(i){i.stopPropagation(),e.destroyObject(t)}}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])])],2)}))])])])},staticRenderFns:[]}},,function(e,t){e.exports={XMLHttpRequest:XMLHttpRequest}},function(e,t){},function(e,t){}]);
//# sourceMappingURL=app.003e8adafa4eb93ae438.js.map</script>
    </body>
</html>