{"version":3,"sources":["webpack:///static/js/app.c44efa79e5c05512a34c.js","webpack:///./src/main.js","webpack:///./src/store/modules/geometry/helpers.js","webpack:///./src/store/modules/models/helpers.js","webpack:///./src/store/modules/application/appconfig.js","webpack:///./src/store/modules/application/helpers.js","webpack:///./src/store/utilities/generateId.js","webpack:///./src/store/modules/models/libconfig.js","webpack:///./src/utilities.js","webpack:///./src/components/PrettySelect.vue","webpack:///./src/components/Grid/snapping.js","webpack:///./src/components/Resize/index.js","webpack:///./src/store/modules/geometry/factory.js","webpack:///./src/store/modules/models/factory.js","webpack:///./src/assets/svg-icons/delete.svg","webpack:///./src/components/Resize/ResizeEvents.js","webpack:///./src/components/svgs.js","webpack:///./src/store/modules/geometry/actions/componentPreservationSociety.js","webpack:///./src/store/modules/project/index.js","webpack:///./src/components/GenericInput.vue","webpack:///./src/components/LibrarySelect.vue","webpack:///./src/components/Modals/ModalBase.vue","webpack:///./src/assets/svg-icons/info_icon.svg","webpack:///App.vue","webpack:///Canvas.vue","webpack:///Map.vue","webpack:///ComponentInstanceEditBar.vue","webpack:///EditBar.vue","webpack:///EditableSelectList.vue","webpack:///EditableTable.vue","webpack:///ExpandableDrawer.vue","webpack:///GenericInput.vue","webpack:///Grid.vue","webpack:///ImageUpload.vue","webpack:///Info.vue","webpack:///Inspector.vue","webpack:///Library.vue","webpack:///LibrarySelect.vue","webpack:///MapModal.vue","webpack:///ModalBase.vue","webpack:///SaveAsModal.vue","webpack:///Settings.vue","webpack:///Navigation.vue","webpack:///NonChromeWarning.vue","webpack:///PrettySelect.vue","webpack:///RenderByDropdown.vue","webpack:///Toolbar.vue","webpack:///./src/components/Grid/drawing.js","webpack:///./src/components/Grid/methods.js","webpack:///./src/store/index.js","webpack:///./src/store/modules/application/actions.js","webpack:///./src/store/modules/application/getters.js","webpack:///./src/store/modules/application/index.js","webpack:///./src/store/modules/application/mutations.js","webpack:///./src/store/modules/geometry/actions/actions.js","webpack:///./src/store/modules/geometry/actions/createFaceFromPoints.js","webpack:///./src/store/modules/geometry/getters.js","webpack:///./src/store/modules/geometry/index.js","webpack:///./src/store/modules/geometry/mutations.js","webpack:///./src/store/modules/models/actions.js","webpack:///./src/store/modules/models/converters.js","webpack:///./src/store/modules/models/getters.js","webpack:///./src/store/modules/models/index.js","webpack:///./src/store/modules/models/mutations.js","webpack:///./src/store/modules/models/validators.js","webpack:///./src/store/modules/project/actions.js","webpack:///./src/store/modules/project/getters.js","webpack:///./src/store/modules/project/mutations.js","webpack:///./src/store/mutations.js","webpack:///./src/store/timetravel.js","webpack:///./src/store/utilities/export.js","webpack:///./src/store/utilities/generateColor.js","webpack:///./src/store/utilities/importFloorplan.js","webpack:///./src/store/utilities/importLibrary.js","webpack:///./src/store/utilities/validator.js","webpack:///./src/utilities/checkGeometry.js","webpack:///./src/utilities/d3-aware-throttle.js","webpack:///./src/version.js","webpack:///./src/App.vue","webpack:///./src/components/Canvas/Canvas.vue","webpack:///./src/components/Canvas/Map.vue","webpack:///./src/components/ComponentInstanceEditBar.vue","webpack:///./src/components/EditBar.vue","webpack:///./src/components/EditableSelectList.vue","webpack:///./src/components/EditableTable.vue","webpack:///./src/components/ExpandableDrawer.vue","webpack:///./src/components/Grid/Grid.vue","webpack:///./src/components/ImageUpload.vue","webpack:///./src/components/Info.vue","webpack:///./src/components/Inspector.vue","webpack:///./src/components/Library.vue","webpack:///./src/components/Modals/MapModal.vue","webpack:///./src/components/Modals/SaveAsModal.vue","webpack:///./src/components/Modals/Settings.vue","webpack:///./src/components/Navigation.vue","webpack:///./src/components/NonChromeWarning.vue","webpack:///./src/components/RenderByDropdown.vue","webpack:///./src/components/Toolbar.vue","webpack:///./src/components/Canvas/Canvas.vue?257b","webpack:///./src/components/GenericInput.vue?08d1","webpack:///./src/components/Modals/ModalBase.vue?74fb","webpack:///./src/components/Modals/Settings.vue?c843","webpack:///./src/components/EditBar.vue?8b77","webpack:///./src/components/Modals/SaveAsModal.vue?8c66","webpack:///./src/components/Canvas/Map.vue?451e","webpack:///./src/components/Toolbar.vue?f07e","webpack:///./src/components/ComponentInstanceEditBar.vue?0fcc","webpack:///./src/components/EditableTable.vue?e383","webpack:///./src/components/ImageUpload.vue?c43c","webpack:///./src/components/ExpandableDrawer.vue?1d1c","webpack:///./src/components/Navigation.vue?481e","webpack:///./src/components/LibrarySelect.vue?8710","webpack:///./src/components/Inspector.vue?43b2","webpack:///./src/components/EditableSelectList.vue?b2f1","webpack:///./src/components/NonChromeWarning.vue?6cc1","webpack:///./src/components/RenderByDropdown.vue?abad","webpack:///./src/components/PrettySelect.vue?e127","webpack:///./src/components/Info.vue?1fa6","webpack:///./src/components/Library.vue?3699","webpack:///./src/components/Grid/Grid.vue?7aaf","webpack:///./src/App.vue?e9fb","webpack:///./src/components/Modals/MapModal.vue?dfa1","webpack:///./src/assets/svg-icons/add_image.svg","webpack:///./src/assets/svg-icons/add_new.svg","webpack:///./src/assets/svg-icons/assign_activity.svg","webpack:///./src/assets/svg-icons/assign_bldgmodule.svg","webpack:///./src/assets/svg-icons/assign_constructions.svg","webpack:///./src/assets/svg-icons/assign_roof.svg","webpack:///./src/assets/svg-icons/assign_thermalzone.svg","webpack:///./src/assets/svg-icons/components_daylighting.svg","webpack:///./src/assets/svg-icons/components_window.svg","webpack:///./src/assets/svg-icons/double_arrows.svg","webpack:///./src/assets/svg-icons/fill_icon.svg","webpack:///./src/assets/svg-icons/ground_props_icon.svg","webpack:///./src/assets/svg-icons/image_icon.svg","webpack:///./src/assets/svg-icons/import_library.svg","webpack:///./src/assets/svg-icons/lego_brick_icon.svg","webpack:///./src/assets/svg-icons/open_floorplan.svg","webpack:///./src/assets/svg-icons/pan.svg","webpack:///./src/assets/svg-icons/quickstart_icon_new_map_floorplan.svg","webpack:///./src/assets/svg-icons/quickstart_icon_newfloorplan.svg","webpack:///./src/assets/svg-icons/quickstart_icon_openfloorplan.svg","webpack:///./src/assets/svg-icons/redo.svg","webpack:///./src/assets/svg-icons/save_floorplan.svg","webpack:///./src/assets/svg-icons/settings_gear.svg","webpack:///./src/assets/svg-icons/tab_assign.svg","webpack:///./src/assets/svg-icons/tab_components.svg","webpack:///./src/assets/svg-icons/tab_floorplan.svg","webpack:///./src/assets/svg-icons/tab_shading.svg","webpack:///./src/assets/svg-icons/tool_color.svg","webpack:///./src/assets/svg-icons/tool_draw_polygon.svg","webpack:///./src/assets/svg-icons/tool_draw_rectangle.svg","webpack:///./src/assets/svg-icons/tool_erase.svg","webpack:///./src/assets/svg-icons/tool_move_size.svg","webpack:///./src/assets/svg-icons/undo.svg","webpack:///./src/assets/svg-icons/zoom_in.svg","webpack:///./src/assets/svg-icons/zoom_out.svg","webpack:///./src/assets/svg-icons/zoom_to_fit.svg","webpack:///external \"{XMLHttpRequest:XMLHttpRequest}\""],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_index","_index2","_timetravel","_timetravel2","_App","_App2","_PrettySelect","_PrettySelect2","_GenericInput","_GenericInput2","component","window","eventBus","application","store","el","template","components","App","init","distanceBetweenPoints","p1","p2","dx","Math","abs","x","dy","y","sqrt","fitToAspectRatio","xExtent","yExtent","widthOverHeight","adjustToFit","arguments","length","undefined","xSpan","ySpan","xAccordingToY","yAccordingToX","xDiff","yDiff","edgeDirection","_ref","start","end","deltaX","deltaY","PI","atan","haveSimilarAngles","edge1","edge2","angleDiff","correctedDiff","min","normalize","_ref2","normalization","unitPerpVector","unitVector","projectionOfPointToLine","point","line","_line$p","x1","y1","_line$p2","x2","y2","A","B","C","D","dot","lenSq","param","pointDistanceToSegment","pt","_ref3","proj","dist","ptsAreCollinear","p3","_ref4","a","b","_ref5","m","n","repeatingWindowCenters","_ref6","spacing","width","maxDist","centers","direction","nextCenterDist","offX","offY","push","distFromStart","margin","totalDist","map","c","alpha","isPointCoord","coord","_lodash2","isNumber","isRingCoords","coords","every","isPolygonCoords","vertInRing","vert","ring","toLst","_ref10","helpers","inRing","Object","defineProperty","value","_extends2","_extends3","_toConsumableArray2","_toConsumableArray3","_lodash","_jsClipper","_jsClipper2","_utilities","clipScale","offset","setOperation","type","f1Points","f2Points","f1Path","p","X","Y","f2Path","ClipperOffset","f1PathsOffsetted","Paths","f2PathsOffsetted","AddPaths","JoinType","jtMiter","EndType","etClosedPolygon","Execute","this","Clear","JS","ScaleUpPaths","cpr","Clipper","resultPathsOffsetted","PolyType","ptSubject","ptClip","operation","ClipType","ctUnion","ctIntersection","ctDifference","Error","PolyFillType","pftEvenOdd","ScaleDownPaths","resultPaths","error","clipperPolygonHasHoles","poly","outerRing","r","ptFromNextRing","intersection","f1","f2","union","difference","areaOfSelection","points","paths","AreaOfPolygon","splittingVerticesForEdgeId","edge_id","geometry","_this","edge","edges","find","e","id","edgeV1","vertexForId","v1","edgeV2","v2","vertices","filter","vertex","projection","intersectionOfLines","p4","eps","between","isNaN","vertex_id","v","vertexForCoordinates","coordinates","_this2","verticesForFaceId","face_id","_this3","faces","f","edgeRefs","edgeRef","edgeForId","vertexId","reverse","edgesForVertexId","edgesForFaceId","_this4","eR","faceForId","facesForVertexId","_this5","face","facesForEdgeId","pointInFace","faceVertices","facePoints","testPoint","PointInPolygon","syntheticRectangleSnaps","rectStart","cursorPt","xMid","yMid","concat","_ref7","synthetic","originalPt","_ref8","exceptFace","reject","denormalize","_this6","edgesById","zipObject","_ref9","dropConsecutiveDups","flatMap","uniqBy","pick","er","inside","ignoreBoundary","bbox","bboxOfRing","inBBox","insidePoly","i","inHole","k","max","isInside","slice","j","xi","yi","xj","yj","onBoundary","intersect","_defineProperty2","_defineProperty3","_libconfig","_libconfig2","displayNameForKey","key","keymap","private","displayName","valueForKey","object","state","get","setValueForKey","result","success","validator","validationResult","converter","dispatch","story","space","shading","image","inputTypeForKey","readonly","input_type","selectOptionsForKey","select_data","libraryObjectWithId","library","hasOwnProperty","stories","s","spaces","images","modelForFace","generateName","models","modelsForType","prefix","level","findIndex","name","reduce","accum","assignableProperties","componentTypes","config","modes","building_units","thermal_zones","space_types","pitched_roofs","construction_sets","window_definitions","daylighting_control_definitions","palette","neutral","colors","displayNameForMode","mode","_appconfig2","componentInstanceById","currStory","compInstId","windew","windows","dc","daylighting_controls","spacePropertyById","spacePropId","prop","_appconfig","some","ap","genName","nextSuffix","nameCounts","setId","newVal","generate","String","_interopRequireWildcard","newObj","prototype","call","_keys","_keys2","_factory","_factory2","_validators","_validators2","_converters","converters","columns","color","BuildingUnit","ThermalZone","options","oneOf","halfOpenInterval","number","numeric","enabled","row","window_definition_type","gt0","gt0orNull","windowDefn","chain","window_definition_id","WindowDefn","SpaceType","ConstructionSet","dcDefn","daylighting_control_definition_id","DaylightingControlDefn","d","join","indexOf","(none)","forEach","buildingUnit","building_unit_id","t","thermalZone","thermal_zone_id","spaceType","space_type_id","constructionSet","construction_set_id","fromPairs","prt","pitched_roof_id","False","True","bool","closedInterval","PitchedRoof","debounce","func","wait","timeout","_len","args","Array","_key","clearTimeout","setTimeout","apply","uniq","arr","_stringify2","alreadySeen","elem","theKey","allPairs","elems","flatten","ix","item","pos","getSiblings","siblings","sibling","parentNode","firstChild","nextSibling","nodeType","_stringify","Component","gridSnapTargets","gridSpacing","floor","vertexSnapTargets","location","_helpers","snapTargets","cursor","targets","target","orderBy","expandWindowAlongEdge","center","edge_start","theta","windowDeltaX","cos","windowDeltaY","sin","findClosestEdge","withDistance","closestEdge","minBy","findClosestWindow","w","snapWindowToEdgeAnywhere","maxSnapDist","snapWindowToEdgeAtGridIntervals","roundedDist","round","norm","snapLoc","snapWindowToEdge","snapMode","snapToVertexWithinFace","existingVerts","g","first","windowLocation","windw","ResizeEvents","_ResizeEvents","_ResizeEvents2","_generateId","_generateId2","Vertex","Edge","Face","Geometry","_generateColor","_generateColor2","Story","handle","geometry_id","below_floor_plenum_height","floor_to_ceiling_height","above_floor_plenum_height","above_ceiling_plenum_height","multiplier","image_visible","Space","floor_offset","open_to_below","Shading","Image","src","visible","height","z","opacity","opts","sill_height","wwr","window_spacing","overhang_projection_factor","fin_projection_factor","illuminance_setpoint","pitched_roof_type","pitch","shed_direction","render","_c","attrs","xmlns","cx","cy","fill","_open_floorplan","_open_floorplan2","_save_floorplan","_save_floorplan2","_import_library","_import_library2","_undo","_undo2","_redo","_redo2","_tab_floorplan","_tab_floorplan2","_tab_shading","_tab_shading2","_tab_assign","_tab_assign2","_tab_components","_tab_components2","_tool_draw_rectangle","_tool_draw_rectangle2","_tool_draw_polygon","_tool_draw_polygon2","_tool_erase","_tool_erase2","_tool_move_size","_tool_move_size2","_tool_color","_tool_color2","_image_icon","_image_icon2","_fill_icon","_fill_icon2","_lego_brick_icon","_lego_brick_icon2","_zoom_to_fit","_zoom_to_fit2","_zoom_in","_zoom_in2","_zoom_out","_zoom_out2","_pan","_pan2","_add_image","_add_image2","_ground_props_icon","_ground_props_icon2","_components_window","_components_window2","_components_daylighting","_components_daylighting2","_assign_bldgmodule","_assign_bldgmodule2","_assign_constructions","_assign_activity","_assign_activity2","_assign_thermalzone","_assign_thermalzone2","_assign_roof","_assign_roof2","_quickstart_icon_new_map_floorplan","_quickstart_icon_new_map_floorplan2","_quickstart_icon_newfloorplan","_quickstart_icon_newfloorplan2","_quickstart_icon_openfloorplan","_quickstart_icon_openfloorplan2","_info_icon","_info_icon2","_settings_gear","_settings_gear2","ComponentIcon","props","ComponentsWindow","ComponentsDaylighting","AssignSpacePropIcon","AssignBldgModule","AssignThermalZone","AssignActivity","AssignRoof","open-floorplan-svg","save-floorplan-svg","import-library-svg","undo-svg","redo-svg","tab-floorplan-svg","tab-shading-svg","tab-assign-svg","tab-components-svg","tool-color-svg","tool-draw-rectangle-svg","tool-draw-polygon-svg","tool-erase-svg","tool-move-size-svg","tool-image-svg","tool-fill-svg","tool-component-svg","zoom-in-svg","zoom-out-svg","pan-svg","add-image","ZoomToFitSvg","QuickstartIconNewMapFloorplan","QuickstartIconNewFloorplan","QuickstartIconOpenFloorplan","InfoIcon","SettingsGear","GroundPropertiesIcon","facesContainingEdge","includes","componentsOnStory","geom","_helpers2","perFaceComponents","space_id","story_id","originalLoc","_snapping","originalFaceIds","replaceComponents","context","movementsByFaceId","rootState","spaceFaces","project","grid","root","edgesPresentOnFaces","newLoc","loc","facesWithEdge","withPreservedComponents","action","_actions","_actions2","_mutations","_mutations2","_getters","_getters2","namespaced","units","unitsEditable","language","north_axis","ground","azimuth_angle","tilt_slope","view","min_x","min_y","max_x","max_y","initialized","latitude","longitude","zoom","rotation","elevation","previous_story","show_import_export","actions","mutations","getters","data-name","viewBox","_v","_vuex","_Navigation","_Navigation2","_Grid","_Grid2","_Canvas","_Canvas2","_Toolbar","_Toolbar2","_ImageUpload","_ImageUpload2","_Inspector","_Inspector2","data","navigationExpanded","beforeCreate","$store","mounted","$on","err","msg","document","getElementById","dispatchEvent","Event","addEventListener","timetravel","keyCode","ctrlKey","metaKey","shiftKey","redo","undo","preventDefault","computed","mapState","tool","currentSelections","grid-view","canvas-view","inspector-view","navigation","toolbar","ImageUpload","_Map","_Map2","mapEnabled","mapVisible","northAxis","map-view","_Resize","_MapModal","_MapModal2","googleMaps","ol","d3","startResolution","autocomplete","mapModalVisible","api","showMapDialogOnStart","showGrid","gridVisible","initAutoComplete","loadMap","updateMapView","clearStartResolution","beforeDestroy","$off","methods","then","maps","places","Autocomplete","$refs","addressSearch","addListener","place","getPlace","lat","lng","innerHTML","View","Map","layers","layer","Tile","source","OSM","on","getRotation","console","log","updateSize","gridCenterX","gridCenterY","resolution","clientWidth","mPerFt","METERS_PER_UNIT","mapCenter","fromLonLat","getCenter","getPointResolution","getProjection","getResolution","resolutionAdjustment","setResolution","setCenter","setRotation","finishSetup","transform","scale","$emit","select","remove","showReticle","size","clientHeight","selectAll","enter","append","attr","projectView","mapInitialized","set","val","watch","handler","deep","MapModal","_EditBar","_EditBar2","mapGetters","componentInstance","currentStory","currentComponent","instanceType","visibleColumns","_","showInstanceEditor","replace","destroyComponent","modifyComponentInstance","EditBar","_delete","_delete2","GenericInput","Delete","_EditableTable","_EditableTable2","_LibrarySelect","_LibrarySelect2","_double_arrows","_double_arrows2","_add_new","_add_new2","search","searchedRows","rows","omit","values","compact","toLowerCase","toggleCompact","newRows","oldRows","selectRow","maxBy","EditableTable","LibrarySelect","PrettySelect","DoubleArrows","AddNew","sortKey","sortDescending","sortedRows","sRows","sortBy","colName","expanded","caret","_slicedToArray2","_slicedToArray3","_huebee","_huebee2","blurOnEnter","evt","$el","blur","col","configurePicker","color_input","saturations","notation","onChange","selectData","toPairs","display","disabled","_d3AwareThrottle","_d3AwareThrottle2","_methods","_methods2","_helpers3","_helpers4","_helpers5","_helpers6","_drawing","_drawing2","xScale","rwuToGrid","yScale","axis","axis_generator","reduceTicks","componentFacingSelection","transformAtLastRender","zoomIdentity","lastMousePosition","handleMouseMove","selectImage","img","currentImage","updateImage","crosshatchModifiers","-highlight","-selected","-facing-selection","","highlightSnapTarget","renderGrid","reloadGridAndScales","escapeAction","handleKeyDown","zoomToFit","scaleTo","removeEventListener","currentMode","modeTab","currentTool","previousStoryVisible","scaleX","scaleY","windowDefs","windowWidths","sumBy","allVertices","currentStoryGeometry","denormalizedGeometry","currentSpace","currentShading","currentComponentInstance","currentSpaceProperty","spacePropertyKey","currentComponentType","currentComponentDefinition","definition","currentSubSelection","currentComponentInstanceId","component_instance_id","previousStory","currentStoryNumber","previousStoryGeometry","previousStoryPolygons","polygonsFromGeometry","current","clickable","polygons","currentStoryPolygons","daylightingControlLocs","spaceEdges","visibleVerts","_this7","showOrHideAxes","updateGrid","draw","clearHighlights","newTransform","lastTransform","style","windowCenterLocs","_this8","wind","denormalizeWindow","_pointDistanceToSegme","currentComponentTypeLocs","windowsOnFace","_this9","selected","facingSelection","_this10","extraPolygonAttrs","model","polygon","modelType","labelPosition","polygonLabelPosition","pitchedRoof","promptUpload","bind","pxPerRWU","_state$application$sc","pixels","rwuRange","imageInput","click","uploadImage","event","files","that","_loop","file","reader","FileReader","onload","rwuHeight","rwuWidth","readAsDataURL","geometryInspector","storyInspector","startpoint","endpoint","_v2","currentSubSelectionFace","keyForMode","_EditableSelectList","_EditableSelectList2","objectTypesDisplay","objectTypes","ot","currentComponentDef","ci","selectedObject","keyForCurrentMode","componentInstanceMode","addRowPermitted","renderByMode","currMode","oldMode","changeMode","newMode","modifyObject","rowId","createObject","selectLatest","newestRow","destroyObject","o","EditableSelectList","_svgs","_svgs2","_NonChromeWarning","_NonChromeWarning2","address","online","importFloorplanAsFile","importFloorplan","readAsText","JSON","parse","NonChromeWarning","close","_ModalBase","_ModalBase2","downloadName","focus","downloadFile","createElement","setAttribute","encodeURIComponent","dataToDownload","ModalBase","_Info","_Info2","_ExpandableDrawer","_ExpandableDrawer2","Info","ExpandableDrawer","_Library","_Library2","libraryExpanded","objectTypesForTab","subselectionType","sst","resetSize","setWidthForOpenLibrary","Library","isChrome","isChromium","chrome","qt","winNav","navigator","vendorName","vendor","isOpera","userAgent","isIEedge","isIOSChrome","match","normalizedOpts","isArray","has","isString","warn","renderableProperties","renderableOptions","_SaveAsModal","_SaveAsModal2","_Settings","_Settings2","_RenderByDropdown","_RenderByDropdown2","_ComponentInstanceEditBar","_ComponentInstanceEditBar2","showSaveModal","thingWereSaving","visibleComponentType","showGroundPropsModal","setImageTool","exportData","importDataAsFile","updateUnits","allowSettingUnits","rwUnits","latestCreatedCompId","allComponents","Number","ct","defs","timetravelInitialized","showImportExport","currentSubselectionType","availableTools","tools","mt","SaveAsModal","Settings","RenderByDropdown","ComponentInstanceEditBar","boxAroundWindow","_unitPerpVector","drawWindowToWallRatio","datum","selection","wwrE","merge","classed","drawSingleWindow","windowE","each","_unitPerpVector2","linecapOffset","$this","raise","drawRepeatingWindows","rwE","rw","widthX","widthY","thisCenter","exit","drawWindow","chart","identity","distanceMeasure","measureE","_unitPerpVector3","lineOffset","measure","_unitPerpVector4","text","distance","roundDistance","_unitVector","arrowHead","rotate","angle","adjust","drawWindowGuideline","drawMeasure","drawDaylightingControl","dcE","drawDaylightingControlGuideline","guideE","dir","nearestEdge","dotProduct","parallel","perp","guide","bestResizeCursor","xOff","yOff","RESIZE_CURSORS","vec","drawImage","startX","startY","currX","currY","invR","moveable","drag","sourceEvent","stopPropagation","_d3$mouse","mouse","querySelector","_d3$mouse2","_d3$mouse3","_d3$mouse4","_offset","_offset2","scalingFactor","pxOrigin","distCurrToOrigin","distStartToOrigin","resizeable","_d3$mouse5","_d3$mouse6","_d3$mouse7","_d3$mouse8","rotationAngle","startAngle","currAngle","rotateable","_d3$mouse9","_d3$mouse10","_d3$mouse11","_d3$mouse12","imageGroupE","moveableWrapperE","controlsE","corner","imageGroup","ig","rotateCursor","forIn","tl","tr","bl","br","label","drawMethods","_d","invRoot2","btoa","ticksInRange","stop","range","ceil","transformDiff","t1","t2","constructor","_polylabel","_polylabel2","gridClicked","addPoint","placeOrSelectComponent","deselectImages","assignProperty","gridCoords","gridPoint","rwuPoint","gridPointToRWU","sp","componentToSelect","distToComp","activeElement","tagName","deleteElement","removeSelectedComponent","payload","toSelect","placeWindow","placeDaylightingControl","highlightComponentToSelect","highlightWindowGuideline","highlightDaylightingControlGuideline","raiseOrLowerImages","lower","gridToRWU","snapTarget","findSnapTarget","origin","savePolygonFace","newPoint","drawPoints","eraseRectangularSelection","saveRectangularFace","MouseEvent","highlightComponentToPlaceOrSelect","guidePoint","ellipsePoint","drawGuideLines","v1GridCoords","v2GridCoords","clearComponentHighlights","highlightComponentToPlace","highlightWindow","highlightDaylightingControl","eraseGuidelines","guidelinePoints","guidelinePaths","guidelineArea","guidelinePolys","svg","toFixed","areaPoints","_polygonLabelPosition","area","areaTextNoUnits","toString","areaText","code","which","model_id","pointPath","registerDrag","deregisterD3Events","registerSelectEvents","registerFillEvents","endX","endY","drawPolygons","recalcScales","polyEnter","drawImages","zoomEnd","redrawPoints","snapOnlyToEdges","edge_component","strictSnapTargets","snappingEdge","snappingEdgeData","snappingVertex","snappingVertexData","xOffset","split","yOffset","xTickSpacing","yTickSpacing","snapCoords","snappableAngles","lastPoint","thetaDeg","atan2","rotatePoint","snappableVertices","nearestVertex","aDist","bDist","snappableEdges","aStoryGeometry","bStoryGeometry","aV1","aV2","bV1","bV2","aProjection","bProjection","nearestEdgeStoryGeometry","nearestEdgeV1","nearestEdgeV2","adjustedProjectionP1","adjustedProjectionP2","sign","radians","dX","dY","resolveBounds","currXExtent","currYExtent","plusMargin","extent","gridParent","_fitToAspectRatio","_xExtent","_yExtent","defer","nullTransform","zoomBehavior","h","calcGrid","zoomXScale","zoomYScale","scaleLinear","domain","copy","strokeWidth","fontSize","scaleExtent","Infinity","newScaleX","rescaleX","newScaleY","rescaleY","_newScaleX$domain","_newScaleX$domain2","_newScaleY$domain","_newScaleY$domain2","padTickY","translateEntities","transformTo","zoomBy","factor","newScale","transition","duration","_d3$zoomIdentity","_this11","translate","_d3$zoomIdentity2","xTicks","yTicks","axisBottom","tickSize","tickPadding","tickFormat","formatTickX","axisRight","formatTickY","tickValues","ticks","rwu","gridValue","invert","rwuPointToGrid","pointsIn","maxTicks","rangeX","spacingScaled","rangeY","paddingPerDigit","numDigits","yPadding","_vuex2","_index3","_index4","_index5","_index6","_index7","_index8","_export","_export2","_importFloorplan","_importFloorplan2","_importLibrary","_importLibrary2","use","Store","strict","modules","importLibrary","setCurrentStoryId","commit","setCurrentSubSelectionId","setCurrentComponentId","setCurrentComponentDefinitionId","setCurrentComponentInstanceId","setCurrentSnapMode","setCurrentModeTab","setCurrentSubselectionType","setCurrentTool","setCurrentMode","setCurrentSpacePropertyId","setScaleX","setScaleY","subSelectionId","subselection_ids","currentSubSelectionType","componentDefinitionId","component_definition_id","compDefId","spacePropertyId","space_property_id","currentStoryDenormalizedGeom","currentStoryGeom","component_id","_extends4","storyId","getOrCreateVertex","_createFaceFromPoints","_createFaceFromPoints2","_componentPreservationSociety","initGeometry","eraseSelection","rootGetters","eraseResult","moveFaceByOffset","movedPoints","newGeoms","newGeometriesOfOverlappedFaces","movedGeom","validateFaceGeometry","newGeom","createFaceFromPoints","destroyFaceAndDescendents","expVertices","expEdgeRefs","replaceFacePoints","replacementVertIds","gVert","trimGeometry","vertsReferencedByDCs","vertsReferencedElsewhere","existingFace","existingFaceVertices","faceGeometry","storeFace","splitEdges","intersectedFaces","inter","newFaceVertices","errantCase","newFaceGeometries","verts","errantGeometry","zip","_ref2$","_context$dispatch","findExistingEdge","sharedEdge","matchOrCreateEdge","existingEdges","matchOrCreateEdges","InvalidFaceGeometry","message","errOnTooFewVerts","errOnDuplicateVerts","errOnVertexIntersectsEdge","v1id","v2id","positionAlongEdge","errOnEdgeIntersectsEdge","e1","e2","e1v1","e1v2","e2v1","e2v2","faceEdges","edgesFromVerts","replacementEdgeRefs","dyingEdgeId","newEdges","affectedFaces","replaceEdgeRefs","affectedFace","partialRight","edgesToSplit","splittingVertices","edgeToDelete","edgeChanges","_checkGeometry","_checkGeometry2","denormalized","errors","edge_ids","vertex_ids","face_ids","edge_order","edgesInUse","_set2","vertsOnEdges","verticesInUse","missingEdges","missingVerts","createVertex","createFace","destroyGeometry","splice","createEdgeRef","setEdgeRefsForFace","ref","destroyEdgeRef","replaceEdgeRef","_face$edgeRefs","edgeRefIx","newEdgeId","edgeReverse","ensureVertsExist","ensureEdgesExist","splitEdge","replacement","_set","_assign","_assign2","_factory3","_factory4","initStory","initSpace","initShading","destroyStory","storyIndex","destroySpace","destroyShading","destroyImage","destroyWindowDef","destroyDaylightingControlDef","updateStoryWithData","validProperties","cleanedPayload","updateSpaceWithData","allSpaces","updateShadingWithData","allShading","updateImageWithData","allImages","updateWindowDefinitionWithData","windowsToDelete","groupBy","tail","pl","updateObjectWithData","createImageForStory","createObjectWithType","selectStory","createWindow","windowsOnEdge","createDaylightingControl","daylightingDefn","destroyDaylightingControl","destroyWindow","modifyDaylightingControl","modifyWindow","destroyAllComponents","all","objs","out","initObject","mapValues","lst","dropWindows","dropDaylightingControls","destroyWindowsByDefinition","destroyDaylightingControlsByDefinition","_ref11","_validator","_validator2","setUnits","setLanguage","setNorthAxis","setMapVisible","setMapEnabled","setMapInitialized","setGridVisible","setSpacing","setViewMinX","setViewMinY","setViewMaxX","validateInt","validateMin","validatedPayload","setViewMaxY","setZoom","setMapLatitude","validateFloat","validateMax","setMapLongitude","setMapZoom","setMapRotation","setPreviousStoryVisible","setShowImportExport","modifyGround","snapTolerance","defaultTolerance","angleTolerance","editable","setConfigNorthAxis","_project","_project2","importState","serializeState","clone","filteredActions","permanentActions","logState","pastTimetravelStates","futureTimetravelStates","currentlyInBatch","triggeringAction","replaceState","originalReplaceState","newState","originalCommit","_len2","_key2","originalDispatch","_len3","_key3","maybeSaveCheckpoint","saveCheckpoint","resetBatchFlag","potentiallyRollbackCheckpoint","prevStates","isEqual","pop","_pastTimetravelStates","replacementState","oldAction","_futureTimetravelStat","logTimetravel","formatObject","isObject","mungeWindows","repeatingWindowDefs","wd","def","mungeStories","geometries","exportObject","version","_version","_version2","colorFactory","typeIndices","maybeUpdateProject","withHandleProp","withWindowDefinitionDefaults","winDefnDefaults","withStoryDefaults","story_defaults","space_defaults","forEachNestedProp","propName","versionNumber","index","largestId","pr","count","types","existingNames","test","importObj","duplicateCount","Validator","invalidKeys","validateLength","minLength","parseFloat","parseInt","validateBoolean","checkFace","fst","snd","thd","checkGeometry","vertPos","vertPosToId","errs","d3Debounce","invokeFunc","time","lastArgs","thisArg","lastThis","saveD3Event","d3Selection","lastD3Event","lastInvokeTime","leadingEdge","timerId","timerExpired","leading","remainingWait","timeSinceLastCall","lastCallTime","timeSinceLastInvoke","maxing","maxWait","shouldInvoke","now","trailingEdge","trailing","cancel","flush","debounced","isInvoking","TypeError","toNumber","d3AwareThrottle","_vm","_h","$createElement","_self","directives","rawName","expression","_e","staticRenderFns","class","_s","domProps","keydown","$event","staticClass","object-id","change","title","_t","modifiers","lazy","_n","$forceUpdate","input","composing","_l","data-column","updateRow","destroy","saveWhat","spellcheck","keyup","_k","pointer-events","placeholder","nativeOn","importInput","active","data-modetab","_m","checked","_i","$$a","$$el","$$c","$$v","$$i","data-tool","cellspacing","selectedItemId","deleteRow","staticStyle","accept","expandable-drawer","searchAvailable","data-id","selectItem","background-color","destroyItem","data-object-type","selectedObjectType","addRow","destroyRow","selectedRowId","editRow","opt","selectObjectType","reduce-ticks","modifier","patternUnits","stroke","stroke-width","data-transform-plz","disabled-component","nav-on-top","rx","ry","text-indent","text-transform","block-progression","overflow","stroke-miterlimit","XMLHttpRequest"],"mappings":"AAAAA,cAAc,EAAE,IAEV,SAAUC,EAAQC,EAASC,GAEhC,YA0BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GCnBxF,GAAAG,GAAAL,EAAA,IDHKM,EAAQL,EAAuBI,GCIpCE,EAAAP,EAAA,KDAKQ,EAAUP,EAAuBM,GCEtCE,EAAAT,EAAA,KDEKU,EAAeT,EAAuBQ,GCD3CE,EAAAX,EAAA,KDKKY,EAAQX,EAAuBU,GCJpCE,EAAAb,EAAA,IDQKc,EAAiBb,EAAuBY,GCP7CE,EAAAf,EAAA,IDWKgB,EAAiBf,EAAuBc,ECT7CT,GAAAF,QAAIa,UAAU,gBAAdH,EAAAV,SACAE,EAAAF,QAAIa,UAAU,gBAAdD,EAAAZ,SAEAc,OAAOC,SAAW,GAAAb,GAAAF,QAGlBc,OAAOE,YAAc,GAAAd,GAAAF,SACnBiB,gBACAC,GAAI,OACJC,SAAU,SACVC,YAAcC,iBAGhBf,EAAAN,QAAWsB,KAAXlB,EAAAJ,UDeO,CACA,CACA,CAED,SAAUN,EAAQC,EAASC,GAEhC,YAoCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GErFjF,QAASyB,GAAsBC,EAAIC,GACxC,GACEC,GAAKC,KAAKC,IAAIJ,EAAGK,EAAIJ,EAAGI,GACxBC,EAAKH,KAAKC,IAAIJ,EAAGO,EAAIN,EAAGM,EAC1B,OAAOJ,MAAKK,KAAMN,EAAKA,EAAOI,EAAKA,GAG9B,QAASG,GAAiBC,EAASC,EAASC,GAAyC,GAAxBC,GAAwBC,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,GAAV,SAE9EG,EAAQP,EAAQ,GAAKA,EAAQ,GAC7BQ,EAAQP,EAAQ,GAAKA,EAAQ,GAC7BQ,EAAgBD,EAAQN,EACxBQ,EAAgBH,EAAQL,EACxBS,EAAQF,EAAgBF,EACxBK,EAAQF,EAAgBF,CAK1B,OAAKG,GAAQ,IAAwB,WAAhBR,IAIjBH,SAAUA,EAAQ,GAAKW,EAAQ,EAAGX,EAAQ,GAAKW,EAAQ,GACvDV,YAIFD,UACAC,SAAUA,EAAQ,GAAKW,EAAQ,EAAGX,EAAQ,GAAKW,EAAQ,IAIpD,QAASC,GAATC,GAAuC,GAAdC,GAAcD,EAAdC,MAAOC,EAAOF,EAAPE,IAGnCC,EAASD,EAAIrB,EAAIoB,EAAMpB,EACvBuB,EAASF,EAAInB,EAAIkB,EAAMlB,CACzB,OAAkB,KAAXoB,EAAe,GAAMxB,KAAK0B,GAAK1B,KAAK2B,KAAKF,EAASD,GAGpD,QAASI,GAAkBC,EAAOC,GACvC,GACEC,GAAYX,EAAcS,GAAST,EAAcU,GACjDE,EAAgBhC,KAAKiC,IACnBjC,KAAKC,IAAI8B,GACT/B,KAAK0B,GAAKK,EAEd,OAAOC,GAAgB,IAAOhC,KAAK0B,GAErC,QAASQ,GAATC,GAA+B,GAAVpC,GAAUoC,EAAVpC,GAAII,EAAMgC,EAANhC,EACvB,IAAW,IAAPJ,GAAmB,IAAPI,EACd,OAASJ,GAAI,EAAGI,GAAI,EAEtB,IAAMiC,GAAgBpC,KAAKK,KAAMN,EAAKA,EAAOI,EAAKA,EAClD,QACEJ,GAAIA,EAAKqC,EACTjC,GAAIA,EAAKiC,GAGN,QAASC,GAAexC,EAAIC,GACjC,GAAIC,UAAII,QAUR,OATIN,GAAGK,IAAMJ,EAAGI,GACdC,EAAK,EACLJ,GAAOF,EAAGO,EAAIN,EAAGM,IAAOP,EAAGK,EAAIJ,EAAGI,IACzBL,EAAGO,IAAMN,EAAGM,GACrBL,EAAK,EACLI,GAAON,EAAGK,EAAIJ,EAAGI,IAAOL,EAAGO,EAAIN,EAAGM,IAElCL,EAAKI,EAAK,EAEL+B,GAAYnC,KAAII,OAGlB,QAASmC,GAAWzC,EAAIC,GAC7B,GACEC,GAAKD,EAAGI,EAAIL,EAAGK,EACfC,EAAKL,EAAGM,EAAIP,EAAGO,CACjB,OAAO8B,IAAYnC,KAAII,OAQlB,QAASoC,GAAwBC,EAAOC,GAAM,GAAAC,GACID,EAA/C5C,GAAS8C,EADkCD,EACrCxC,EAAU0C,EAD2BF,EAC9BtC,EAD8ByC,EACIJ,EAAzB3C,GAASgD,EADYD,EACf3C,EAAU6C,EADKF,EACRzC,EAEzC4C,EAAIR,EAAMtC,EAAIyC,EACdM,EAAIT,EAAMpC,EAAIwC,EACdM,EAAIJ,EAAKH,EACTQ,EAAIJ,EAAKH,EACTQ,EAAOJ,EAAIE,EAAMD,EAAIE,EACrBE,EAASH,EAAIA,EAAMC,EAAIA,GAAM,EAC7BG,EAAQF,EAAMC,CAGhB,OAAIC,IAAS,EACJb,EAAK5C,GACHyD,EAAQ,EACVb,EAAK3C,IAIZI,EAAGyC,EAAMW,EAAQJ,EACjB9C,EAAGwC,EAAMU,EAAQH,GAId,QAASI,GAAuBC,EAAhCC,GAAoD,GAAdnC,GAAcmC,EAAdnC,MAAOC,EAAOkC,EAAPlC,IAC5CmC,EAAOnB,EAAwBiB,GAAM3D,GAAIyB,EAAOxB,GAAIyB,GAC1D,QACEoC,KAAM/D,EAAsB4D,EAAIE,GAChCA,QAIG,QAASE,GAAgB/D,EAAIC,EAAI+D,GAAI,GAAAC,IAE9BjE,EAAGK,EAAGL,EAAGO,GAAlB2D,EAFuCD,EAAA,GAEpCE,EAFoCF,EAAA,GAAAG,GAG9BnE,EAAGI,EAAGJ,EAAGM,GAAlB8D,EAHuCD,EAAA,GAGpCE,EAHoCF,EAAA,GAItC/D,EAAS2D,EAAT3D,EAAGE,EAAMyD,EAANzD,CACP,OAAOJ,MAAKC,KAAMkE,EAAIH,IAAM9D,EAAIgE,IAAQ9D,EAAI+D,IAAMD,EAAIH,IAAO,KAGxD,QAASK,GAATC,GAOL,IAPqE,GAA9B/C,GAA8B+C,EAA9B/C,MAAOC,EAAuB8C,EAAvB9C,IAAK+C,EAAkBD,EAAlBC,QAASC,EAASF,EAATE,MAE1DC,EAAU5E,EAAsB0B,EAAOC,GACvCkD,KACAC,EAAYpC,EAAWhB,EAAOC,GAE5BoD,EAAiBJ,EAAQ,EACtBI,EAAiBJ,EAAQ,EAAIC,GAAS,CAE3C,GACEI,GAAOF,EAAU3E,GAAK4E,EACtBE,EAAOH,EAAUvE,GAAKwE,CACxBF,GAAQK,MAAO5E,EAAGoB,EAAMpB,EAAI0E,EAAMxE,EAAGkB,EAAMlB,EAAIyE,EAAME,cAAeJ,IACpEA,GAAkBJ,GAASD,GAAW,GAExC,GAAuB,IAAnBG,EAAQ7D,OAAc,QAC1B,IACEoE,IACGpF,EAAsB6E,EAAQA,EAAQ7D,OAAS,GAAIW,GAAOgD,EAAQ,GACjE,EACJU,EAAYrF,EAAsB0B,EAAOC,GACzCqD,EAAOF,EAAU3E,GAAKiF,EACtBH,EAAOH,EAAUvE,GAAK6E,CAGxB,OAAOP,GAAQS,IAAI,SAAAC,GAAA,OACjBjF,EAAGiF,EAAEjF,EAAI0E,EACTxE,EAAG+E,EAAE/E,EAAIyE,EACTO,OAAQD,EAAEJ,cAAgBC,GAAUC,KA0XxC,QAASI,GAAaC,GACpB,MAAwB,KAAjBA,EAAM1E,QAAgB2E,EAAAlH,QAAEmH,SAASF,EAAM,KAAOC,EAAAlH,QAAEmH,SAASF,EAAM,IAGxE,QAASG,GAAaC,GACpB,MAAOA,GAAO9E,QAAU,GAAK2E,EAAAlH,QAAEsH,MAAMD,EAAQL,GAG/C,QAASO,GAAgBF,GACvB,MAAOA,GAAO9E,QAAU,GAAK2E,EAAAlH,QAAEsH,MAAMD,EAAQD,GA0ExC,QAASI,GAAWC,EAAMC,GAC/B,GAAMC,GAAQ,SAAAC,GAAA,GAAG/F,GAAH+F,EAAG/F,EAAGE,EAAN6F,EAAM7F,CAAN,QAAeF,EAAGE,GAChC,OAAO8F,GAAQC,OAAOH,EAAMF,GAAOC,EAAKb,IAAIc,IFtjB7CI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GAEnCE,EAAsBxI,EAAoB,IAE1CyI,EAAsBxI,EAAuBuI,EAEjDzI,GE/De4B,wBFgEf5B,EEzDesC,mBF0DftC,EEhCeoD,gBFiCfpD,EEzBe4D,oBF0Bf5D,EEPeqE,iBFQfrE,EEMesE,aFLftE,EEiBeuE,0BFhBfvE,EEwCeuF,yBFvCfvF,EE+Ce4F,kBF9Cf5F,EEsDeoG,yBFrDfpG,EE8hBe6H,YA3mBhB,IAAAc,GAAA1I,EAAA,GFiFKsH,EAAWrH,EAAuByI,GEhFvCC,EAAA3I,EAAA,KFoFK4I,EAAc3I,EAAuB0I,GEnF1CE,EAAA7I,EAAA,IAiKMiI,GAGJa,UAAW,IAGXC,OAAQ,IAORC,aAbc,SAaDC,EAAMC,EAAUC,GAE3B,GACEC,GAASF,EAASjC,IAAI,SAAAoC,GAAA,OAAQC,EAAGD,EAAEpH,EAAGsH,EAAGF,EAAElH,KAC3CqH,EAASL,EAASlC,IAAI,SAAAoC,GAAA,OAAQC,EAAGD,EAAEpH,EAAGsH,EAAGF,EAAElH,KAGvC4G,EAAS,GAAIH,GAAAxI,QAAWqJ,cAC5BC,EAAmB,GAAId,GAAAxI,QAAWuJ,MAClCC,EAAmB,GAAIhB,GAAAxI,QAAWuJ,KAEpCZ,GAAOc,UAAUT,GAASR,EAAAxI,QAAW0J,SAASC,QAASnB,EAAAxI,QAAW4J,QAAQC,iBAC1ElB,EAAOmB,QAAQR,EAAkBS,KAAKpB,QACtCA,EAAOqB,QACPrB,EAAOc,UAAUL,GAASZ,EAAAxI,QAAW0J,SAASC,QAASnB,EAAAxI,QAAW4J,QAAQC,iBAC1ElB,EAAOmB,QAAQN,EAAkBO,KAAKpB,QACtCA,EAAOqB,QAGPxB,EAAAxI,QAAWiK,GAAGC,aAAaZ,EAAkBS,KAAKrB,WAClDF,EAAAxI,QAAWiK,GAAGC,aAAaV,EAAkBO,KAAKrB,UAElD,IACEyB,GAAM,GAAI3B,GAAAxI,QAAWoK,QACrBC,EAAuB,GAAI7B,GAAAxI,QAAWuJ,KAExCY,GAAIV,SAASH,EAAkBd,EAAAxI,QAAWsK,SAASC,WAAW,GAC9DJ,EAAIV,SAASD,EAAkBhB,EAAAxI,QAAWsK,SAASE,QAAQ,EAE3D,IAAMC,GACK,UAAT5B,EAAmBL,EAAAxI,QAAW0K,SAASC,QAC9B,iBAAT9B,EAA0BL,EAAAxI,QAAW0K,SAASE,eACrC,eAAT/B,EAAwBL,EAAAxI,QAAW0K,SAASG,aAC5C,IACF,IAAkB,OAAdJ,EACF,KAAM,IAAIK,OAAJ,sBAAgCjC,EAAhC,iDAGRsB,GAAIL,QAAQW,EAAWJ,EAAsB7B,EAAAxI,QAAW+K,aAAaC,WAAYxC,EAAAxI,QAAW+K,aAAaC,YAGzGxC,EAAAxI,QAAWiK,GAAGgB,eAAeZ,EAAsBN,KAAKrB,UAGxD,IAAMwC,GAAc,GAAI1C,GAAAxI,QAAWuJ,KAKnC,OAJAZ,GAAOc,SAASY,EAAsB7B,EAAAxI,QAAW0J,SAASC,QAASnB,EAAAxI,QAAW4J,QAAQC,iBACtFlB,EAAOmB,QAAQoB,GAAcnB,KAAKpB,QAGP,IAAvBuC,EAAY3I,OAEP2I,EAAY,GAAGrE,IAAI,SAAAoC,GAAA,OAAQpH,EAAGoH,EAAEC,EAAGnH,EAAGkH,EAAEE,KACf,IAAvB+B,EAAY3I,WAIrB4I,MAAOtD,EAAQuD,uBAAuBF,GAAe,WAAa,mBAItEE,uBAzEc,SAyESC,GACrB,GACEC,GAAYD,EAAK,GAAGxE,IAAI,SAAA0E,GAAA,OAAMA,EAAErC,EAAGqC,EAAEpC,KACrCqC,GAAkBH,EAAK,GAAG,GAAGnC,EAAGmC,EAAK,GAAG,GAAGlC,EAE7C,OAAOtB,GAAQC,OAAO0D,EAAgBF,IAGxCG,aAjFc,SAiFDC,EAAIC,GACf,MAAO5B,MAAKnB,aAAa,eAAgB8C,EAAIC,IAE/CC,MApFc,SAoFRF,EAAIC,GACR,MAAO5B,MAAKnB,aAAa,QAAS8C,EAAIC,IAExCE,WAvFc,SAuFHH,EAAIC,GACb,MAAO5B,MAAKnB,aAAa,aAAc8C,EAAIC,IAI3CG,gBA5FY,SA4FIC,GAClB,GAAMC,GAAQD,EAAOlF,IAAI,SAAAoC,GAAA,OAAQC,EAAGD,EAAEpH,EAAGsH,EAAGF,EAAElH,IAE9C,OAAOyG,GAAAxI,QAAWiK,GAAGgC,cAAcD,IAOjCE,2BAtGY,SAsGeC,EAASC,GAAU,GAAAC,GAAAtC,KACpCuC,EAAOF,EAASG,MAAMC,KAAK,SAAAC,GAAA,MAAKA,GAAEC,KAAOP,IAC3CQ,EAAS5C,KAAK6C,YAAYN,EAAKO,GAAIT,GACnCU,EAAS/C,KAAK6C,YAAYN,EAAKS,GAAIX,EAGvC,OAAOA,GAASY,SAASC,OAAO,SAACC,GAC7B,KAAKZ,EAAKO,KAAOK,EAAOR,IAAMJ,EAAKS,KAAOG,EAAOR,IACvDC,EAAO9K,IAAMqL,EAAOrL,GAAK8K,EAAO5K,IAAMmL,EAAOnL,GAC7C+K,EAAOjL,IAAMqL,EAAOrL,GAAKiL,EAAO/K,IAAMmL,EAAOnL,GAC9C,CACW,GAAMoL,GAAad,EAAKnI,wBAAwBgJ,GAC5C1L,GAAImL,EACJlL,GAAIqL,GAER,OAAOT,GAAK9K,sBAAsB2L,EAAQC,IAAe,EAAId,EAAK3D,cAK9ExE,0BAKF3C,wBAED6L,oBAjIe,SAiIK5L,EAAIC,EAAI+D,EAAI6H,GAC5B,GAAIC,GAAM,KAEJC,EAAU,SAAC7H,EAAGC,EAAGmB,GACzB,MAASpB,GAAI4H,GAAQ3H,GAAOA,GAAMmB,EAAIwG,GAG7BzL,IAAML,EAAGK,EAAIJ,EAAGM,EAAIP,EAAGO,EAAIN,EAAGI,IAAM2D,EAAG3D,EAAIwL,EAAGxL,IAAML,EAAGK,EAAIJ,EAAGI,IAAM2D,EAAG3D,EAAIwL,EAAGtL,EAAIyD,EAAGzD,EAAIsL,EAAGxL,MAC1FL,EAAGK,EAAIJ,EAAGI,IAAM2D,EAAGzD,EAAIsL,EAAGtL,IAAMP,EAAGO,EAAIN,EAAGM,IAAMyD,EAAG3D,EAAIwL,EAAGxL,IAC5DE,IAAMP,EAAGK,EAAIJ,EAAGM,EAAIP,EAAGO,EAAIN,EAAGI,IAAM2D,EAAGzD,EAAIsL,EAAGtL,IAAMP,EAAGO,EAAIN,EAAGM,IAAMyD,EAAG3D,EAAIwL,EAAGtL,EAAIyD,EAAGzD,EAAIsL,EAAGxL,MAC1FL,EAAGK,EAAIJ,EAAGI,IAAM2D,EAAGzD,EAAIsL,EAAGtL,IAAMP,EAAGO,EAAIN,EAAGM,IAAMyD,EAAG3D,EAAIwL,EAAGxL,GAEhE,IAAI2L,MAAM3L,IAAM2L,MAAMzL,IAC3BgI,KAAKxI,uBAAwBM,IAAGE,KAAKP,GAAM8L,GAC3CvD,KAAKxI,uBAAwBM,IAAGE,KAAKN,GAAM6L,GAC3CvD,KAAKxI,uBAAwBM,IAAGE,KAAKyD,GAAM8H,GAC3CvD,KAAKxI,uBAAwBM,IAAGE,KAAKsL,GAAMC,EAClC,OAAO,CAEP,IAAI9L,EAAGK,GAAKJ,EAAGI,GACX,IAAK0L,EAAQ9L,EAAGI,EAAGA,EAAGL,EAAGK,GACrB,OAAO,MAGX,KAAK0L,EAAQ/L,EAAGK,EAAGA,EAAGJ,EAAGI,GACrB,OAAO,CAGf,IAAIL,EAAGO,GAAKN,EAAGM,GACX,IAAKwL,EAAQ9L,EAAGM,EAAGA,EAAGP,EAAGO,GACrB,OAAO,MAGX,KAAKwL,EAAQ/L,EAAGO,EAAGA,EAAGN,EAAGM,GACrB,OAAO,CAGf,IAAIyD,EAAG3D,GAAKwL,EAAGxL,GACX,IAAK0L,EAAQF,EAAGxL,EAAGA,EAAG2D,EAAG3D,GACrB,OAAO,MAGX,KAAK0L,EAAQ/H,EAAG3D,EAAGA,EAAGwL,EAAGxL,GACrB,OAAO,CAGf,IAAI2D,EAAGzD,GAAKsL,EAAGtL,GACX,IAAKwL,EAAQF,EAAGtL,EAAGA,EAAGyD,EAAGzD,GACrB,OAAO,MAGX,KAAKwL,EAAQ/H,EAAGzD,EAAGA,EAAGsL,EAAGtL,GACrB,OAAO,CAInB,QACIF,EAAGA,EACHE,EAAGA,IASX6K,YApMY,SAoMAa,EAAWrB,GACnB,MAAOA,GAASY,SAASR,KAAK,SAAAkB,GAAA,MAAKA,GAAEhB,KAAOe,KAIlDE,qBAzMc,SAyMOC,EAAaxB,GAAU,GAAAyB,GAAA9D,IAC1C,OAAOqC,GAASY,SAASR,KAAK,SAAAkB,GAAA,MAAKG,GAAKtM,sBAAsBmM,EAAGE,GAAe,QAIhFE,kBA9MY,SA8MMC,EAAS3B,GAAU,GAAA4B,GAAAjE,IACjC,OAAOqC,GAAS6B,MAAMzB,KAAK,SAAA0B,GAAA,MAAKA,GAAExB,KAAOqB,IACpCI,SAAStH,IAAI,SAACuH,GACX,GAAM9B,GAAO0B,EAAKK,UAAUD,EAAQjC,QAASC,GAEzCkC,EAAWF,EAAQG,QAAUjC,EAAKS,GAAKT,EAAKO,EAChD,OAAOmB,GAAKpB,YAAY0B,EAAUlC,MAM9CiC,UA1NY,SA0NFlC,EAASC,GACf,MAAOA,GAASG,MAAMC,KAAK,SAAAC,GAAA,MAAKA,GAAEC,KAAOP,KAI7CqC,iBA/NY,SA+NKf,EAAWrB,GACxB,MAAOA,GAASG,MAAMU,OAAO,SAAAR,GAAA,MAAMA,GAAEI,KAAOY,GAAehB,EAAEM,KAAOU,KAIxEgB,eApOY,SAoOGV,EAAS3B,GAAU,GAAAsC,GAAA3E,IAC9B,OAAOqC,GAAS6B,MAAMzB,KAAK,SAAA0B,GAAA,MAAKA,GAAExB,KAAOqB,IACpCI,SAAStH,IAAI,SAAA8H,GAAA,MAAMD,GAAKL,UAAUM,EAAGxC,QAASC,MAKvDwC,UA3OY,SA2OFb,EAAS3B,GACf,MAAOA,GAAS6B,MAAMzB,KAAK,SAAA0B,GAAA,MAAKA,GAAExB,KAAOqB,KAI7Cc,iBAhPY,SAgPKpB,EAAWrB,GAAU,GAAA0C,GAAA/E,IAClC,OAAOqC,GAAS6B,MAAMhB,OAAO,SAAC8B,GAC1B,MAAOA,GAAKZ,SAAS3B,KAAK,SAAC4B,GACvB,GAAM9B,GAAOwC,EAAKT,UAAUD,EAAQjC,QAASC,EAC7C,OAAQE,GAAKO,KAAOY,GAAanB,EAAKS,KAAOU,OAMzDuB,eA1PY,SA0PG7C,EAASC,GACpB,MAAOA,GAAS6B,MAAMhB,OAAO,SAAA8B,GAAA,MAAQA,GAAKZ,SAAS3B,KAAK,SAAAmC,GAAA,MAAMA,GAAGxC,UAAYA,OAGjF8C,YA9PY,SA8PA9K,EAAO+K,GACjB,GAAMC,GAAaD,EAAarI,IAAI,SAAAoC,GAAA,OAAQC,EAAGD,EAAEpH,EAAGsH,EAAGF,EAAElH,KACnDqN,GAAclG,EAAG/E,EAAMtC,EAAGsH,EAAGhF,EAAMpC,EACzC,SAASyG,EAAAxI,QAAWoK,QAAQiF,eAAeD,EAAWD,IAG1D5J,kBACA+J,wBArQc,SAqQUvD,EAAQwD,EAAWC,GA+BzC,GAAMC,IAAQF,EAAU1N,EAAI2N,EAAS3N,GAAK,EACpC6N,GAAQH,EAAUxN,EAAIyN,EAASzN,GAAK,CAE1C,UAAA4N,QAAA,EAAAtH,EAAArI,SACK+L,EAAOlF,IAAI,SAAA+I,GAAA,GAAG/N,GAAH+N,EAAG/N,EAAGE,EAAN6N,EAAM7N,CAAN,QACVA,IAAGF,EAAGA,EAAK,GAAK4N,EAAO5N,GAAKgO,WAAW,EAAMC,YAAcjO,IAAGE,UAFpE,EAAAsG,EAAArI,SAGK+L,EAAOlF,IAAI,SAAAkJ,GAAA,GAAGlO,GAAHkO,EAAGlO,EAAGE,EAANgO,EAAMhO,CAAN,QACVF,IAAGE,EAAGA,EAAK,GAAK2N,EAAO3N,GAAK8N,WAAW,EAAMC,YAAcjO,IAAGE,WAGtEgB,gBACAQ,oBACA2B,yBAEA8K,WAlTc,SAkTH5D,EAAU2B,GACnB,MAAKA,IACL,EAAA5F,EAAAnI,YACKoM,GACH6B,MAAO/G,EAAAlH,QAAEiQ,OAAO7D,EAAS6B,OAASvB,GAAIqB,MAHjB3B,GAOzB8D,YA1Tc,SA0TF9D,GAAU,GAAA+D,GAAApG,KAElBwC,EAAQH,EAASG,MAAM1F,IAAI,SAAAyF,GAAA,SAAAnE,EAAAnI,YACtBsM,GACHO,GAAIsD,EAAKvD,YAAYN,EAAKO,GAAIT,GAC9BW,GAAIoD,EAAKvD,YAAYN,EAAKS,GAAIX,OAEhCgE,EAAYlJ,EAAAlH,QAAEqQ,UACZnJ,EAAAlH,QAAE6G,IAAI0F,EAAO,MACbA,GACF0B,EAAQ7B,EAAS6B,MAAMpH,IAAI,SAAAkI,GAAA,OACzBrC,GAAIqC,EAAKrC,GACTH,MAAOwC,EAAKZ,SAAStH,IAAI,SAAAyJ,GAAA,GAAGnE,GAAHmE,EAAGnE,QAASoC,EAAZ+B,EAAY/B,OAAZ,UAAApG,EAAAnI,YACpBoQ,EAAUjE,IACbA,UACAoC,cAEFvB,GAAIA,YACF,OAAO,EAAAvE,EAAA8H,qBACLrJ,EAAAlH,QAAEwQ,QAAQzG,KAAKwC,MAAO,SAAAE,GAAA,MAAMA,GAAE8B,SAAW9B,EAAEM,GAAIN,EAAEI,KAAOJ,EAAEI,GAAIJ,EAAEM,MAChE,SAAAW,GAAA,MAAKA,GAAEhB,QAGf,UAAAvE,EAAAnI,YACKoM,GACHG,QACA0B,WAKJpK,UAzVc,SAyVJuI,GACR,GACEG,GAAQrF,EAAAlH,QAAEyQ,UAAFd,QAAA,EAAAtH,EAAArI,SAEDoM,EAASG,QAFR,EAAAlE,EAAArI,SAGDkH,EAAAlH,QAAEwQ,QAAQpE,EAAS6B,MAAO,SAAAC,GAAA,MAAKA,GAAE3B,UACnC,MACLS,EAAW9F,EAAAlH,QAAEyQ,UAAFd,QAAA,EAAAtH,EAAArI,SAEJoM,EAASY,WAFL,EAAA3E,EAAArI,SAGJkH,EAAAlH,QAAEwQ,QAAQjE,EAAO,SAAAE,GAAA,OAAMA,EAAEI,GAAIJ,EAAEM,QACjC,KACP,QACEL,GAAIN,EAASM,GACbM,SAAUA,EAASnG,IAAI,SAAA6G,GAAA,MAAKxG,GAAAlH,QAAE0Q,KAAKhD,GAAI,KAAM,IAAK,QAClDnB,MAAOA,EAAM1F,IAAI,SAAA4F,GAAA,OACfC,GAAID,EAAEC,GACNG,GAAIJ,EAAEI,GAAGH,GACTK,GAAIN,EAAEM,GAAGL,MAEXuB,MAAO7B,EAAS6B,MAAMpH,IAAI,SAAAqH,GAAA,OACxBxB,GAAIwB,EAAExB,GACNyB,SAAUD,EAAE3B,MAAM1F,IAAI,SAAA8J,GAAA,OAASxE,QAASwE,EAAGjE,GAAI6B,QAASoC,EAAGpC,gBAwBnE1G,GAAQ+I,OAAS,SAAUzL,EAAIkG,GAA8B,GAAxBwF,GAAwBvO,UAAAC,OAAA,GAAAC,SAAAF,UAAA,IAAAA,UAAA,EAE3D,KAAK0E,EAAa7B,GAAK,KAAM,IAAI2F,OAAJ,uCAAiD3F,EAC9E,KAAKoC,EAAgB8D,GAAO,KAAM,IAAIP,OAAJ,yCAAmDO,EAErF,IAAMyF,GAAOjJ,EAAQkJ,WAAW1F,EAAK,GAGrC,IAAIyF,GAAQjJ,EAAQmJ,OAAO7L,EAAI2L,MAAU,EAAO,OAAO,CAGvD,KAAK,GADDG,IAAa,EACRC,EAAI,EAAGA,EAAI7F,EAAK9I,SAAW0O,EAAYC,IAE9C,GAAIrJ,EAAQC,OAAO3C,EAAIkG,EAAK,GAAIwF,GAAiB,CAI/C,IAHA,GAAIM,IAAS,EACTC,EAAI,EAEDA,EAAI/F,EAAK9I,SAAW4O,GACrBtJ,EAAQC,OAAO3C,EAAIkG,EAAK+F,IAAKP,KAC/BM,GAAS,GAEXC,GAEGD,KAAQF,GAAa,GAG9B,MAAOA,IAGTpJ,EAAQkJ,WAAa,SAAUrJ,GAE7B,OACER,EAAAlH,QAAE4D,IAAIsD,EAAAlH,QAAE6G,IAAIa,EAAM,IAClBR,EAAAlH,QAAE4D,IAAIsD,EAAAlH,QAAE6G,IAAIa,EAAM,IAClBR,EAAAlH,QAAEqR,IAAInK,EAAAlH,QAAE6G,IAAIa,EAAM,IAClBR,EAAAlH,QAAEqR,IAAInK,EAAAlH,QAAE6G,IAAIa,EAAM,MAatBG,EAAQC,OAAS,SAAU3C,EAAIuC,EAAMmJ,GACnC,GAAIS,IAAW,CACX5J,GAAK,GAAG,KAAOA,EAAKA,EAAKnF,OAAS,GAAG,IAAMmF,EAAK,GAAG,KAAOA,EAAKA,EAAKnF,OAAS,GAAG,KAAImF,EAAOA,EAAK6J,MAAM,EAAG7J,EAAKnF,OAAS,GAE3H,KAAK,GAAI2O,GAAI,EAAGM,EAAI9J,EAAKnF,OAAS,EAAG2O,EAAIxJ,EAAKnF,OAAQiP,EAAIN,IAAK,CAC7D,GAAMO,GAAK/J,EAAKwJ,GAAG,GAAIQ,EAAKhK,EAAKwJ,GAAG,GAC9BS,EAAKjK,EAAK8J,GAAG,GAAII,EAAKlK,EAAK8J,GAAG,GAC9BK,EAAc1M,EAAG,IAAMsM,EAAKE,GAAMD,GAAMC,EAAKxM,EAAG,IAAMyM,GAAMzM,EAAG,GAAKsM,KAAQ,IAC9EA,EAAKtM,EAAG,KAAOwM,EAAKxM,EAAG,KAAO,IAAQuM,EAAKvM,EAAG,KAAOyM,EAAKzM,EAAG,KAAO,CACxE,IAAI0M,EAAY,OAAQhB,CACxB,IAAMiB,GAAcJ,EAAKvM,EAAG,IAASyM,EAAKzM,EAAG,IAC1CA,EAAG,IAAMwM,EAAKF,IAAOtM,EAAG,GAAKuM,IAAOE,EAAKF,GAAMD,CAC9CK,KAAWR,GAAYA,GAE7B,MAAOA,IFiCR3R,EAAQK,QEzBM6H,GF4BR,CACA,CACA,CACA,CACA,CACC,CAEF,SAAUnI,EAAQC,EAASC,GAEhC,YAcA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAZvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAI8J,GAAmBnS,EAAoB,IAEvCoS,EAAmBnS,EAAuBkS,GG7pB/CE,EAAArS,EAAA,IHiqBKsS,EAAcrS,EAAuBoS,GG/pBpCpK,GAQJhB,cAOAsL,kBAfc,SAeItJ,EAAMuJ,GACtB,MAAIrI,MAAKlD,IAAIgC,GAAMwJ,OAAOD,GACjBrI,KAAKlD,IAAIgC,GAAMwJ,OAAOD,GAAKE,QAAU,KAAOvI,KAAKlD,IAAIgC,GAAMwJ,OAAOD,GAAKG,YAEzEH,GAOTI,YA1Bc,SA0BFC,EAAQC,EAAO7J,EAAMuJ,GAC/B,MAAIrI,MAAKlD,IAAIgC,GAAMwJ,OAAOD,IAAQrI,KAAKlD,IAAIgC,GAAMwJ,OAAOD,GAAKO,IACpD5I,KAAKlD,IAAIgC,GAAMwJ,OAAOD,GAAKO,IAAIF,EAAQC,GAEzCD,EAAOL,IAShBQ,eAvCc,SAuCCH,EAAQxR,EAAO4H,EAAMuJ,EAAKnK,GACvC,GAAM4K,IAAWC,SAAS,EAG1B,IAAI/I,KAAKlD,IAAIgC,GAAMwJ,OAAOD,IAAQrI,KAAKlD,IAAIgC,GAAMwJ,OAAOD,GAAKW,UAAW,CACtE,GAAMC,GAAmBjJ,KAAKlD,IAAIgC,GAAMwJ,OAAOD,GAAKW,UAAUN,EAAQxR,EAAOgH,EAAOY,EAEpF,IADAgK,EAAOC,QAAUE,EAAiBF,SAC7BE,EAAiBF,QAEpB,MADAD,GAAO1H,MAAQ6H,EAAiB7H,MACzB0H,EAuCX,MApCI9I,MAAKlD,IAAIgC,GAAMwJ,OAAOD,IAAQrI,KAAKlD,IAAIgC,GAAMwJ,OAAOD,GAAKa,YAC3DhL,EAAQ8B,KAAKlD,IAAIgC,GAAMwJ,OAAOD,GAAKa,UAAUhL,IAGlC,YAATY,EACF5H,EAAMiS,SAAS,8BAAf,EAAAlB,EAAAhS,UACEmT,MAAOV,GACNL,EAAMnK,IAES,WAATY,EACT5H,EAAMiS,SAAS,8BAAf,EAAAlB,EAAAhS,UACEoT,MAAOX,GACNL,EAAMnK,IAES,YAATY,EACT5H,EAAMiS,SAAS,gCAAf,EAAAlB,EAAAhS,UACEqT,QAASZ,GACRL,EAAMnK,IAES,WAATY,EACT5H,EAAMiS,SAAS,8BAAf,EAAAlB,EAAAhS,UACEsT,MAAOb,GACNL,EAAMnK,IAES,uBAATY,EACT5H,EAAMiS,SAAS,yCAAf,EAAAlB,EAAAhS,UACEyS,UACCL,EAAMnK,IAGThH,EAAMiS,SAAS,+BAAf,EAAAlB,EAAAhS,UACEyS,UACCL,EAAMnK,IAIJ4K,GAGTU,gBA1Fc,SA0FE1K,EAAMuJ,GACpB,MAAOrI,MAAKlD,IAAIgC,GAAMwJ,OAAOD,KAASrI,KAAKlD,IAAIgC,GAAMwJ,OAAOD,GAAKoB,SAAWzJ,KAAKlD,IAAIgC,GAAMwJ,OAAOD,GAAKqB,WAAa,MAGtHC,oBA9Fc,SA8FMjB,EAAQC,EAAO7J,EAAMuJ,GACvC,MAAOrI,MAAKlD,IAAIgC,GAAMwJ,OAAOD,KAASrI,KAAKlD,IAAIgC,GAAMwJ,OAAOD,GAAKoB,UAAsD,WAA1CzJ,KAAKlD,IAAIgC,GAAMwJ,OAAOD,GAAKqB,WAA0B1J,KAAKlD,IAAIgC,GAAMwJ,OAAOD,GAAKuB,YAAYlB,EAAQC,OAOnLkB,oBAtGc,SAsGMlB,EAAOhG,GACvB,GAAImG,EAEJ,KAAK,GAAIhK,KAAQ6J,GAAMmB,QACfnB,EAAMmB,QAAQC,eAAejL,KAAUgK,GAAUH,EAAMmB,QAAQhL,GAAM2D,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAOA,MACxFmG,EAASH,EAAMmB,QAAQhL,GAAM2D,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAOA,IAChDmG,EAAOhK,KAAOA,EAStB,KALKgK,GAAUH,EAAMqB,QAAQvH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAOA,MAC5CmG,EAASH,EAAMqB,QAAQvH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAOA,IAC1CmG,EAAOhK,KAAO,UAGbgK,EACD,IAAK,GAAI3B,GAAI,EAAGA,EAAIwB,EAAMqB,QAAQxR,OAAQ2O,IAAK,CAC3C,GAAMiC,GAAQT,EAAMqB,QAAQ7C,IACvB2B,GAAUM,EAAMc,OAAOzH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAOA,MAC3CmG,EAASM,EAAMc,OAAOzH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAOA,IACzCmG,EAAOhK,KAAO,UAEbgK,GAAUM,EAAME,QAAQ7G,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAOA,MAC5CmG,EAASM,EAAME,QAAQ7G,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAOA,IAC1CmG,EAAOhK,KAAO,YAEbgK,GAAUM,EAAMe,OAAO1H,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAOA,MAC3CmG,EAASM,EAAMe,OAAO1H,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAOA,IACzCmG,EAAOhK,KAAO,SAI1B,MAAOgK,IAMXsB,aA5Ic,SA4IDzB,EAAO3E,GAChB,IAAK,GAAImD,GAAI,EAAGA,EAAIwB,EAAMqB,QAAQxR,OAAQ2O,IAAK,CAC3C,GAAMiC,GAAQT,EAAMqB,QAAQ7C,GACxBmC,EAAUF,EAAME,QAAQ7G,KAAK,SAAAwH,GAAA,MAAKA,GAAEjG,UAAYA,IAChDqF,EAAQD,EAAMc,OAAOzH,KAAK,SAAAwH,GAAA,MAAKA,GAAEjG,UAAYA,GACjD,IAAIsF,EAEA,MADAA,GAAQxK,KAAO,UACRwK,CACJ,IAAID,EAEP,MADAA,GAAMvK,KAAO,QACNuK,IAQnBgB,aA9Jc,SA8JD1B,EAAO7J,EAAMsK,GACxB,GAAMkB,GAAStK,KAAKuK,cAAc5B,EAAO7J,GACrC0L,EAAYrC,EAAAlS,QAAI6I,GAAM0J,YAAtB,GACJ,IAAIY,EAAO,CACT,GAAMqB,GAAQ9B,EAAMqB,QAAQU,UAAU,SAAAT,GAAA,MAAKA,GAAEtH,KAAOyG,EAAMzG,KAAM,CAChE6H,GAASA,EAAO5E,OAAU6E,EAAjB,OAKX,IAFA,GAAIE,GAAO,GACPxD,EAAI,GACAwD,GACNA,EAAOH,EAASrD,EACZmD,EAAO7H,KAAK,SAAA3G,GAAA,MAAKA,GAAE6O,OAASA,MAASA,EAAO,IAChDxD,GAAK,CAGP,OAAOwD,IAOTJ,cArLc,SAqLA5B,EAAO7J,GACnB,OAAQA,GACN,IAAK,UACH,MAAO6J,GAAMqB,OAEf,KAAK,UACL,IAAK,SACL,IAAK,SACH,MAAOrB,GAAMqB,QAAQY,OAAO,SAACC,EAAOZ,GAAR,MAAcY,GAAMjF,OAAOqE,EAAEnL,QAE3D,SACE,MAAO6J,GAAMmB,QAAQhL,KHopB5BlJ,GAAQK,QGhpBM6H,GHmpBP,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CAEF,SAAUnI,EAAQC,GAEvB,YAEAoI,QAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GIt2BH,IAAM4M,2BAAwB,iBAAkB,gBAAiB,cAAe,oBAAqB,iBAC/FC,oBAAkB,qBAAsB,mCAE/CC,GAEJC,OACEjB,QAAS,QACTG,OAAQ,QACRD,OAAQ,QACRZ,QAAS,UACT4B,eAAgB,gBAChBC,cAAe,eACfC,YAAa,aACbC,cAAe,eACfC,kBAAmB,mBACnBC,mBAAoB,qBACpBC,gCAAiC,mCAEnCT,iBACAD,uBACAW,SACEnC,QAAS,UACToC,QAAS,UAETC,QACE,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SJ+1BL/V,GAAQK,QI11BM+U,GJ81BT,SAAUrV,EAAQC,EAASC,GAEhC,YAsBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GK75BjF,QAAS6V,GAAmBC,GACjC,MAAOC,GAAA7V,QAAIgV,MAAMY,GAYZ,QAASE,GAAsBC,EAAWC,GAC/C,GAAMC,GAAS/O,EAAAlH,QAAEwM,KAAKuJ,EAAUG,SAAWxJ,GAAIsJ,GAC/C,IAAIC,EAAU,SAAA9N,EAAAnI,YAAYiW,GAAQpN,KAAM,WAExC,IAAMsN,GAAKjP,EAAAlH,QAAEwM,KAAKtF,EAAAlH,QAAEwQ,QAAQuF,EAAU9B,OAAQ,SAAAD,GAAA,MAAKA,GAAEoC,wBAAyB1J,GAAIsJ,GAClF,OAAIG,IAAM,EAAAhO,EAAAnI,YAAYmW,GAAItN,KAAM,yBAEzB,KAGF,QAASwN,GAAkBxC,EAASyC,GACzC,GAAIzN,UAAM0N,QAQV,OAPAC,GAAA3B,qBAAqB4B,KAAK,SAACC,GAIzB,OAHKH,EAAOrP,EAAAlH,QAAEwM,KAAKqH,EAAQ6C,IAAOhK,GAAI4J,OACpCzN,EAAO6N,KAEAH,IAGJA,mBAAYA,GAAM1N,SAAS,KLy2BnCd,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,EAEvCvI,GKj5BegW,qBLk5BfhW,EKr4BemW,wBLs4BfnW,EK53Be0W,mBA1BhB,IAAA/N,GAAA1I,EAAA,GL05BKsH,EAAWrH,EAAuByI,GKz5BvCkO,EAAA5W,EAAA,IL65BKiW,EAAchW,EAAuB2W,GKv5BpC3O,GAGJ8N,qBACAZ,iBL+5BDpV,GAAQK,QK75BM6H,GL47BP,CACA,CACA,CACA,CACA,CAEF,SAAUnI,EAAQC,GAEvB,YMr8BM,SAASgX,GAAQpC,GACtB,GAAMqC,IAAcC,EAAWtC,IAAW,GAAK,CAE/C,OADAsC,GAAWtC,GAAUqC,EACXrC,EAAV,MAAsBqC,ENo8BvB7O,OAAOC,eAAerI,EAAS,cAC3BsI,OAAO,IAEXtI,EM18BegX,SAZhB,IAAIjK,GAAK,CNw9BR/M,GAAQK,SMt9BL8W,MADW,SACJC,GACHrK,EAAKqK,GAGTC,SAAW,WACP,MAAO,kBAAMC,QAAOvK,SAI5B,IAAMmK,ONm+BE,CACA,CACA,CACA,CACA,CACA,CAEF,SAAUnX,EAAQC,EAASC,GAEhC,YA8BA,SAASsX,GAAwBpX,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIqX,KAAa,IAAW,MAAPrX,EAAe,IAAK,GAAIsS,KAAOtS,GAAWiI,OAAOqP,UAAUtD,eAAeuD,KAAKvX,EAAKsS,KAAM+E,EAAO/E,GAAOtS,EAAIsS,GAAgC,OAAtB+E,GAAOnX,QAAUF,EAAYqX,EAElQ,QAAStX,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GA9BvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIqP,GAAQ1X,EAAoB,IAE5B2X,EAAS1X,EAAuByX,GAEhCpP,EAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GOngCxCI,EAAA1I,EAAA,GPugCKsH,EAAWrH,EAAuByI,GOtgCvCkP,EAAA5X,EAAA,IP0gCK6X,EAAY5X,EAAuB2X,GOzgCxCE,EAAA9X,EAAA,KP6gCK+X,EAAe9X,EAAuB6X,GO5gC3CE,EAAAhY,EAAA,KAAYiY,EPghCMX,EAAwBU,GOxgCpC/Q,GACJoO,gBACE1C,YAAa,gBACbuF,UAEIpD,KAAM,KACNnC,YAAa,KACbiB,UAAU,EACVlB,SAAS,IAGToC,KAAM,OACNnC,YAAa,OACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0U,OAGtBA,KAAM,QACNnC,YAAa,QACbkB,WAAY,QACZV,UAAW4E,EAAA3X,QAAW+X,QAG1BzW,KAAMmW,EAAAzX,QAAQgY,cAEhB9C,eACE3C,YAAa,eACbuF,UAEIpD,KAAM,KACNnC,YAAa,KACbiB,UAAU,EACVlB,SAAS,IAGToC,KAAM,OACNnC,YAAa,OACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0U,OAGtBA,KAAM,QACNnC,YAAa,QACbkB,WAAY,QACZV,UAAW4E,EAAA3X,QAAW+X,QAG1BzW,KAAMmW,EAAAzX,QAAQiY,aAEhB3C,oBACE/C,YAAa,SACbuF,UAEIpD,KAAM,KACNnC,YAAa,KACbiB,UAAU,EACVlB,SAAS,IAGToC,KAAM,OACNnC,YAAa,OACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0U,OAGtBA,KAAM,yBACNnC,YAAa,OACbkB,WAAY,SACZE,YAJF,WAKI,GAAMuE,IAAW,gBAAiB,oBAAqB,uBACvD,OAAOhR,GAAAlH,QAAEqQ,UAAU6H,EAASA,IAE9BnF,UAAW4E,EAAA3X,QAAWmY,MAAM,gBAAiB,oBAAqB,0BAGlEzD,KAAM,MACNnC,YAAa,uBACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAWoY,iBAAiB,EAAG,GAC1CnF,UAAW4E,EAAWQ,OACtBC,SAAS,EACTC,QAPF,SAOUC,GACN,MAAsC,yBAA/BA,EAAIC,0BAIb/D,KAAM,SACNnC,YAAa,SACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0Y,IACtBzF,UAAW4E,EAAWQ,OACtBC,SAAS,EACTC,QAPF,SAOUC,GACN,MAAsC,kBAA/BA,EAAIC,wBAC2B,sBAA/BD,EAAIC,0BAIb/D,KAAM,QACNnC,YAAa,QACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0Y,IACtBzF,UAAW4E,EAAWQ,OACtBC,SAAS,EACTC,QAPF,SAOUC,GACN,MAAsC,kBAA/BA,EAAIC,wBAC2B,sBAA/BD,EAAIC,0BAIb/D,KAAM,cACNnC,YAAa,cACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0Y,IACtBzF,UAAW4E,EAAWQ,OACtBC,SAAS,IAGT5D,KAAM,iBACNnC,YAAa,UACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0Y,IACtBzF,UAAW4E,EAAWQ,OACtBC,SAAS,EACTC,QAPF,SAOUC,GACN,MAAsC,sBAA/BA,EAAIC,0BAIb/D,KAAM,6BACNnC,YAAa,6BACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW2Y,UACtB1F,UAAW4E,EAAWc,UACtBL,SAAS,IAGT5D,KAAM,wBACNnC,YAAa,wBACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW2Y,UACtB1F,UAAW4E,EAAWc,UACtBL,SAAS,IAGT5D,KAAM,cACNnC,YAAa,cACbiB,UAAU,EACV8E,SAAS,EACT3F,IALF,SAKMiG,EAAYlG,GACd,MAAOxL,GAAAlH,QAAE6Y,MAAMnG,EAAM2B,OAAON,SACzBvD,QAAQ,WACRvD,QAAS6L,qBAAsBF,EAAWlM,KAC1CzE,QACA1F,UAITjB,KAAMmW,EAAAzX,QAAQ+Y,YAEhB5D,aACE5C,YAAa,aACbuF,UAEIpD,KAAM,KACNnC,YAAa,KACbiB,UAAU,EACVlB,SAAS,IAGToC,KAAM,OACNnC,YAAa,OACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0U,OAGtBA,KAAM,QACNnC,YAAa,QACbkB,WAAY,QACZV,UAAW4E,EAAA3X,QAAW+X,QAG1BzW,KAAMmW,EAAAzX,QAAQgZ,WAEhB3D,mBACE9C,YAAa,mBACbuF,UAEIpD,KAAM,KACNnC,YAAa,KACbiB,UAAU,EACVlB,SAAS,IAGToC,KAAM,OACNnC,YAAa,OACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0U,OAGtBA,KAAM,QACNnC,YAAa,QACbkB,WAAY,QACZV,UAAW4E,EAAA3X,QAAW+X,QAG1BzW,KAAMmW,EAAAzX,QAAQiZ,iBAEhB1D,iCACEhD,YAAa,sBACbuF,UAEIpD,KAAM,KACNnC,YAAa,KACbiB,UAAU,EACVlB,SAAS,IAGToC,KAAM,OACNnC,YAAa,OACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0U,OAGtBA,KAAM,SACNnC,YAAa,SACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0Y,IACtBzF,UAAW4E,EAAWQ,OACtBC,SAAS,IAGT5D,KAAM,uBACNnC,YAAa,6BACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0Y,IACtBzF,UAAW4E,EAAWQ,OACtBC,SAAS,IAGT5D,KAAM,cACNnC,YAAa,cACbiB,UAAU,EACV8E,SAAS,EACT3F,IALF,SAKMuG,EAAQxG,GACV,MAAOxL,GAAAlH,QAAE6Y,MAAMnG,EAAM2B,OAAON,SACzBvD,QAAQ,UACRA,QAAQ,wBACRvD,QAASkM,kCAAmCD,EAAOxM,KACnDzE,QACA1F,UAITjB,KAAMmW,EAAAzX,QAAQoZ,wBAEhBrF,SACExB,YAAa,QACbuF,UAEIpD,KAAM,KACNnC,YAAa,KACbiB,UAAU,EACVlB,SAAS,IAGToC,KAAM,OACNnC,YAAa,OACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0U,OAGtBA,KAAM,SACNlB,UAAU,EACVlB,SAAS,IAGToC,KAAM,cACNlB,UAAU,EACVlB,SAAS,IAGToC,KAAM,4BACNnC,YAAa,4BACbkB,WAAY,OACZR,UAAW4E,EAAWQ,OACtBC,SAAS,EACTvF,UAAW4E,EAAA3X,QAAWqY,SAGtB3D,KAAM,4BACNnC,YAAa,4BACbkB,WAAY,OACZR,UAAW4E,EAAWQ,OACtBC,SAAS,EACTvF,UAAW4E,EAAA3X,QAAWqY,SAGtB3D,KAAM,0BACNnC,YAAa,0BACbkB,WAAY,OACZR,UAAW4E,EAAWQ,OACtBC,SAAS,EACTvF,UAAW4E,EAAA3X,QAAW0Y,MAGtBhE,KAAM,aACNnC,YAAa,aACbkB,WAAY,OACZR,UAAW4E,EAAWQ,OACtBC,SAAS,EACTvF,UAAW4E,EAAA3X,QAAW0Y,MAGtBhE,KAAM,SACNnC,YAAa,SACbiB,UAAU,EACV8E,SAAS,EACT3F,IALF,SAKMQ,EAAOT,GACT,MAAOS,GAAMc,OAAO1R,UAItBmS,KAAM,UACNnC,YAAa,UACbiB,UAAU,EACV8E,SAAS,EACT3F,IALF,SAKMQ,EAAOT,GACT,MAAOS,GAAME,QAAQ9Q,UAIvBmS,KAAM,SACNlB,UAAU,EACVlB,SAAS,IAGToC,KAAM,QACNnC,YAAa,QACbkB,WAAY,QACZV,UAAW4E,EAAA3X,QAAW+X,SAI5B9D,QACE1B,YAAa,QACbuF,UAEIpD,KAAM,KACNnC,YAAa,KACbiB,UAAU,EACVlB,SAAS,IAGToC,KAAM,OACNnC,YAAa,OACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0U,OAGtBA,KAAM,SACNlB,UAAU,EACVlB,SAAS,IAGToC,KAAM,UACNlB,UAAU,EACVlB,SAAS,IAGToC,KAAM,uBACNnC,YAAa,uBACbiB,UAAU,EACVlB,SAAS,EACTK,IALF,SAKMS,EAAOV,GACT,MAAOU,GAAMgD,qBAAqBvP,IAAI,SAAAwS,GAAA,MAAKA,GAAE3E,OAC5C4E,KAAK,SAIR5E,KAAM,QACNnC,YAAa,QACbiB,UAAU,EACVb,IAJF,SAIMS,EAAOV,GACT,GAAMS,GAAQT,EAAM2B,OAAON,QAAQvH,KAAK,SAAC2G,GACvC,OAAQA,EAAMc,OAAOpN,IAAI,SAAAmN,GAAA,MAAKA,GAAEtH,KAC/B6M,QAAQnG,EAAM1G,KAEjB,OAAOyG,GAAMuB,QAIfA,KAAM,mBACNnC,YAAa,gBACbkB,WAAY,SACZE,YAJF,SAIcP,EAAOV,GACjB,GAAMwF,IAAYsB,SAAU,KAE5B,OADA9G,GAAM2B,OAAOR,QAAQoB,eAAewE,QAAQ,SAAC9T,GAAQuS,EAAQvS,EAAE+O,MAAQ/O,EAAE+G,KAClEwL,GAETvF,IATF,SASMS,EAAOV,GACT,GAAMgH,GAAehH,EAAM2B,OAAOR,QAAQoB,eAAezI,KAAK,SAAA7G,GAAA,MAAKA,GAAE+G,KAAO0G,EAAMuG,kBAClF,OAAOD,GAAeA,EAAahF,KAAO,QAI5CA,KAAM,kBACNnC,YAAa,eACbkB,WAAY,SACZE,YAJF,SAIcP,EAAOV,GACjB,GAAMwF,IAAYsB,SAAU,KAE5B,OADA9G,GAAM2B,OAAOR,QAAQqB,cAAcuE,QAAQ,SAACG,GAAQ1B,EAAQ0B,EAAElF,MAAQkF,EAAElN,KACjEwL,GAETvF,IATF,SASMS,EAAOV,GACT,GAAMmH,GAAcnH,EAAM2B,OAAOR,QAAQqB,cAAc1I,KAAK,SAAA7G,GAAA,MAAKA,GAAE+G,KAAO0G,EAAM0G,iBAChF,OAAOD,GAAcA,EAAYnF,KAAO,QAI1CA,KAAM,gBACNnC,YAAa,aACbkB,WAAY,SACZE,YAJF,SAIcP,EAAOV,GACjB,GAAMwF,IAAYsB,SAAU,KAE5B,OADA9G,GAAM2B,OAAOR,QAAQsB,YAAYsE,QAAQ,SAACzF,GAAQkE,EAAQlE,EAAEU,MAAQV,EAAEtH,KAC/DwL,GAETvF,IATF,SASMS,EAAOV,GACT,GAAMqH,GAAYrH,EAAM2B,OAAOR,QAAQsB,YAAY3I,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAO0G,EAAM4G,eAC5E,OAAOD,GAAYA,EAAUrF,KAAO,QAItCA,KAAM,sBACNnC,YAAa,mBACbkB,WAAY,SACZE,YAJF,SAIcP,EAAOV,GACjB,GAAMwF,IAAYsB,SAAU,KAE5B,OADA9G,GAAM2B,OAAOR,QAAQwB,kBAAkBoE,QAAQ,SAAC3S,GAAQoR,EAAQpR,EAAE4N,MAAQ5N,EAAE4F,KACrEwL,GAETvF,IATF,SASMS,EAAOV,GACT,GAAMuH,GAAkBvH,EAAM2B,OAAOR,QAAQwB,kBAAkB7I,KAAK,SAAA1F,GAAA,MAAKA,GAAE4F,KAAO0G,EAAM8G,qBACxF,OAAOD,GAAkBA,EAAgBvF,KAAO,QAIlDA,KAAM,kBACNnC,YAAa,eACbkB,WAAY,SACZE,YAJF,SAIcP,EAAOV,GACjB,SAAAvK,EAAAnI,UACEwZ,SAAU,MACPtS,EAAAlH,QAAEma,UACHzH,EAAM2B,OAAOR,QAAQuB,cACpBvO,IAAI,SAAAuT,GAAA,OAAQA,EAAI1F,KAAM0F,EAAI1N,SAGjCiG,IAZF,SAYMS,EAAOV,GACT,GAAM0H,GAAMlT,EAAAlH,QAAEwM,KAAKkG,EAAM2B,OAAOR,QAAQuB,eAAiB1I,GAAI0G,EAAMiH,iBACnE,OAAOD,GAAMA,EAAI1F,KAAO,QAI1BA,KAAM,4BACNnC,YAAa,4BACbkB,WAAY,OACZ6E,SAAS,EACTvF,UAAW4E,EAAA3X,QAAWqY,OACtBpF,UAAW4E,EAAWQ,SAGtB3D,KAAM,0BACNnC,YAAa,0BACbkB,WAAY,OACZ6E,SAAS,EACTvF,UAAW4E,EAAA3X,QAAWqY,OACtBpF,UAAW4E,EAAWQ,SAGtB3D,KAAM,8BACNnC,YAAa,8BACbkB,WAAY,OACZ6E,SAAS,EACTvF,UAAW4E,EAAA3X,QAAWqY,OACtBpF,UAAW4E,EAAWQ,SAGtB3D,KAAM,eACNnC,YAAa,eACbkB,WAAY,OACZ6E,SAAS,EACTvF,UAAW4E,EAAA3X,QAAWqY,OACtBpF,UAAW4E,EAAWQ,SAGtB3D,KAAM,gBACNnC,YAAa,gBACbkB,WAAY,SACZE,YAJF,WAKI,OAAS2G,OAAO,EAAOC,MAAM,IAE/BtH,UAAW4E,EAAW2C,OAGtB9F,KAAM,QACNnC,YAAa,QACbkB,WAAY,QACZV,UAAW4E,EAAA3X,QAAW+X,SAI5B1E,SACEd,YAAa,UACbuF,UAEIpD,KAAM,KACNnC,YAAa,KACbiB,UAAU,EACVlB,SAAS,IAGToC,KAAM,OACNnC,YAAa,OACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0U,OAGtBA,KAAM,SACNlB,UAAU,EACVlB,SAAS,IAGToC,KAAM,UACNlB,UAAU,EACVlB,SAAS,IAGToC,KAAM,QACNlB,UAAU,EACVlB,SAAS,KAIf4B,QACE3B,YAAa,QACbuF,UAEIpD,KAAM,KACNnC,YAAa,KACbiB,UAAU,EACVlB,SAAS,IAGToC,KAAM,OACNnC,YAAa,OACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0U,OAGtBA,KAAM,SACNnC,YAAa,SACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAWqY,SAGtB3D,KAAM,IACNnC,YAAa,IACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAWqY,OACtB/F,SAAS,IAGToC,KAAM,UACNnC,YAAa,UACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAWya,eAAe,EAAG,KAIxC/F,KAAM,IACNnC,YAAa,IACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAWqY,SAItB3D,KAAM,IACNnC,YAAa,IACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAWqY,SAGtB3D,KAAM,MACNlB,UAAU,EACVlB,SAAS,KAIf4D,SACE3D,YAAa,SACbuF,UAEIpD,KAAM,KACNpC,SAAS,IAGToC,KAAM,OACNnC,YAAa,OACbkB,WAAY,SAGZiB,KAAM,uBACNnC,YAAa,aACbkB,WAAY,SACZE,YAJF,SAIcP,EAAOV,GACjB,MAAOxL,GAAAlH,QAAEma,UAAUzH,EAAM2B,OAAOR,QAAQyB,mBAAmBzO,IAAI,SAAAlB,GAAA,OAAMA,EAAE+O,KAAM/O,EAAE+G,WAKvF0J,sBACE7D,YAAa,sBACbuF,UAEIpD,KAAM,KACNpC,SAAS,IAGToC,KAAM,OACNnC,YAAa,OACbkB,WAAY,SAGZiB,KAAM,oCACNnC,YAAa,aACbkB,WAAY,SACZE,YAJF,SAIcP,EAAOV,GACjB,MAAOxL,GAAAlH,QAAEma,UAAUzH,EAAM2B,OAAOR,QAAQ0B,gCAAgC1O,IAAI,SAAAlB,GAAA,OAAMA,EAAE+O,KAAM/O,EAAE+G,WAKpG0I,eACE7C,YAAa,eACbuF,UAEIpD,KAAM,KACNnC,YAAa,KACbD,SAAS,IAGToC,KAAM,OACNnC,YAAa,OACbkB,WAAY,SAGZiB,KAAM,oBACNnC,YAAa,OACbkB,WAAY,SACZE,YAJF,WAKI,GAAMuE,IAAW,QAAS,MAAO,OACjC,OAAOhR,GAAAlH,QAAEqQ,UAAU6H,EAASA,IAE9BnF,UAAW4E,EAAA3X,QAAWmY,MAAM,QAAS,MAAO,UAG5CzD,KAAM,QACNnC,YAAa,QACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAW0Y,IACtBzF,UAAW4E,EAAWQ,OACtBC,SAAS,IAGT5D,KAAM,iBACNnC,YAAa,iBACbkB,WAAY,OACZV,UAAW4E,EAAA3X,QAAWqY,OACtBpF,UAAW4E,EAAWQ,OACtBC,SAAS,IAGT5D,KAAM,QACNnC,YAAa,QACbkB,WAAY,UAGhBnS,KAAMmW,EAAAzX,QAAQ0a,eAIlB,EAAAnD,EAAAvX,SAAY6G,GAAK4S,QAAQ,SAACrI,GACxBvK,EAAIuK,GAAGiB,OAASnL,EAAAlH,QAAEqQ,UAChBnJ,EAAAlH,QAAE6G,IAAIA,EAAIuK,GAAG0G,QAAS,QACtBjR,EAAIuK,GAAG0G,WP27BVnY,EAAQK,QOx7BM6G,GP47BT,SAAUnH,EAAQC,EAASC,GAEhC,YAoBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GQ/oDjF,QAAS6a,GAASC,EAAMC,GAC3B,GAAIC,EAEJ,OAAO,YAAkB,OAAAzO,GAAAtC,KAAAgR,EAAAzY,UAAAC,OAANyY,EAAMC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAANF,EAAME,GAAA5Y,UAAA4Y,EACrBC,cAAaL,GAEbA,EAAUM,WAAW,WACjBN,EAAU,KACVF,EAAKS,MAALhP,EAAiB2O,IAClBH,IAIJ,QAASS,GAAKC,GAA2B,GAAtBnJ,GAAsB9P,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,GAAAkZ,EAAAxb,QACxCyb,IACN,OAAOF,GAAItO,OAAO,SAACyO,GACjB,GAAMC,GAASvJ,EAAIsJ,EACnB,QAAID,EAAYE,KAGdF,EAAYE,IAAU,GACf,KAKN,QAASC,GAASC,GACvB,MAAO3U,GAAAlH,QAAE8b,QACPD,EAAMhV,IACJ,SAACoC,EAAG8S,GAAJ,MAAWF,GAAMtK,MAAMwK,EAAK,GAAGlV,IAC7B,SAAApF,GAAA,OAAQwH,EAAGxH,QAGZ,QAAS8O,GAAoBgL,GAA2B,GAAtBnJ,GAAsB9P,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,GAAAkZ,EAAAxb,OAC7D,OAAOub,GAAItO,OAAO,SAAC+O,EAAMC,GAAP,MACR,KAARA,GAAa7J,EAAI4J,KAAU5J,EAAImJ,EAAIU,EAAM,MAKtC,QAASC,GAAYhb,GAE1B,IAAK,GADCib,MACGC,EAAUlb,EAAGmb,WAAWC,WAAYF,EAASA,EAAUA,EAAQG,YAC7C,IAArBH,EAAQI,UAAkBJ,IAAYlb,GAAMib,EAAS1V,KAAK2V,EAEhE,OAAOD,GRglDRpU,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIwU,GAAa7c,EAAoB,GAEjC4b,EAAc3b,EAAuB4c,EAEzC9c,GQroDegb,WRsoDfhb,EQznDe2b,OR0nDf3b,EQ7mDeic,WR8mDfjc,EQvmDe4Q,sBRwmDf5Q,EQjmDeuc,aA1ChB,IAAA5T,GAAA1I,EAAA,GR+oDKsH,EAAWrH,EAAuByI,IAiE/B,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CAEF,SAAU5I,EAAQC,EAASC,GS/tDjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,STwuDM,SAAUD,EAAQC,EAASC,GAEhC,YA6BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GUnxDjF,QAAS6c,GAAgBC,EAAzB5Z,GAAgD,GAARnB,GAAQmB,EAARnB,EAAGE,EAAKiB,EAALjB,CAChD,SACIF,EAAGF,KAAKkb,MAAMhb,EAAI+a,GAAeA,EAAa7a,EAAGJ,KAAKkb,MAAM9a,EAAI6a,GAAeA,IAC/E/a,GAAIF,KAAKkb,MAAMhb,EAAI+a,GAAe,GAAKA,EAAa7a,EAAGJ,KAAKkb,MAAM9a,EAAI6a,GAAeA,IACrF/a,EAAGF,KAAKkb,MAAMhb,EAAI+a,GAAeA,EAAa7a,GAAIJ,KAAKkb,MAAM9a,EAAI6a,GAAe,GAAKA,IACrF/a,GAAIF,KAAKkb,MAAMhb,EAAI+a,GAAe,GAAKA,EAAa7a,GAAIJ,KAAKkb,MAAM9a,EAAI6a,GAAe,GAAKA,IAC7F/V,IAAI,SAAA+S,GAAA,SAAAzR,EAAAnI,YAAW4Z,GAAG/Q,KAAM,WAG5B,QAASiU,GAAkB9P,EAAU4P,EAAaG,GAChD,MAAO/P,GACJC,OAAO,SAAAS,GAAA,OAAK,EAAAsP,EAAAzb,uBAAsBwb,EAAUrP,IAAMkP,IAClD/V,IAAI,SAAA6G,GAAA,SAAAvF,EAAAnI,YAAW0N,GAAG7E,KAAM,aAGtB,QAASoU,GAAYjQ,EAAU4P,EAAaM,GACjD,GAAMC,MAAUxN,QAAA,EAAAtH,EAAArI,SACX2c,EAAgBC,EAAaM,KADlB,EAAA7U,EAAArI,SAEX8c,EAAkB9P,EAAU4P,EAAaM,KAC5CrW,IACA,SAAAuW,GAAA,SAAAjV,EAAAnI,YACKod,GACH9X,MAAM,EAAA0X,EAAAzb,uBAAsB6b,EAAQF,GACpCxb,GAAIwb,EAAOrb,EAAIub,EAAOvb,EACtBC,GAAIob,EAAOnb,EAAIqb,EAAOrb,KAG1B,OAAOmF,GAAAlH,QAAEqd,QAAQF,GAAU,OAAQ,SAAU,SAAU,MAAO,MAAO,SAGhE,QAASG,GAAsBhR,EAAMiR,EAArCzZ,GAAyF,GAA1CoC,GAA0CpC,EAA1CoC,MAAOD,EAAmCnC,EAAnCmC,QAASwS,EAA0B3U,EAA1B2U,sBACpE,IAA+B,yBAA3BA,GAC2B,sBAA3BA,EAEF,OACEtM,QAASG,EAAKI,GACd6Q,QACE1b,GAAIyK,EAAKO,GAAGhL,EAAIyK,EAAKS,GAAGlL,GAAK,EAC7BE,GAAIuK,EAAKO,GAAG9K,EAAIuK,EAAKS,GAAGhL,GAAK,GAE/Byb,WAAYlR,EAAKO,GACjB9F,MAAO,GACP9D,MAAOqJ,EAAKO,GACZ3J,IAAKoJ,EAAKS,GACV0L,yBACAvS,QACAD,UAGJ,IACEwX,IAAQ,EAAAT,EAAAja,gBAAgBE,MAAOqJ,EAAKO,GAAI3J,IAAKoJ,EAAKS,KAClD2Q,EAAgBxX,EAAQvE,KAAKgc,IAAIF,GAAU,EAC3CG,EAAgB1X,EAAQvE,KAAKkc,IAAIJ,GAAU,EAC3C1W,EAAQuF,EAAKS,GAAGlL,IAAMyK,EAAKO,GAAGhL,GAC3B0b,EAAOxb,EAAIuK,EAAKO,GAAG9K,IAAMuK,EAAKS,GAAGhL,EAAIuK,EAAKO,GAAG9K,IAC7Cwb,EAAO1b,EAAIyK,EAAKO,GAAGhL,IAAMyK,EAAKS,GAAGlL,EAAIyK,EAAKO,GAAGhL,EAClD,QACEsK,QAASG,EAAKI,GACd6Q,SACAC,WAAYlR,EAAKO,GACjB9F,QACA9D,OACEpB,EAAG0b,EAAO1b,EAAI6b,EACd3b,EAAGwb,EAAOxb,EAAI6b,GAEhB1a,KACErB,EAAG0b,EAAO1b,EAAI6b,EACd3b,EAAGwb,EAAOxb,EAAI6b,GAEhBnF,0BAIG,QAASqF,GAAgBvR,EAAO2Q,GACrC,GACEa,GAAexR,EAAM1F,IAAI,SAAA4F,GAAA,SAAAtE,EAAAnI,YACpByM,GACA,EAAAuQ,EAAA9X,wBAAuBgY,GAAUja,MAAOwJ,EAAEI,GAAI3J,IAAKuJ,EAAEM,QAE1DiR,EAAc9W,EAAAlH,QAAEie,MAAMF,EAAc,OACtC,OAAOC,GAGF,QAASE,GAAkBhI,EAASgH,GACzC,GAAMa,GAAe7H,EAAQrP,IAAI,SAACsX,GAGhC,GAAM7Y,GAAoC,kBAA7B6Y,EAAE1F,wBACXnT,MAAM,EAAA0X,EAAAzb,uBAAsB2b,EAAQiB,EAAEZ,QAASlY,KAAM8Y,EAAEZ,SACzD,EAAAP,EAAA9X,wBAAuBgY,EAAQiB,EAEjC,UAAAhW,EAAAnI,YACKme,EACA7Y,GAIHuH,GAAIsR,EAAElb,MACN8J,GAAIoR,EAAEjb,OAGV,OAAOgE,GAAAlH,QAAEie,MAAMF,EAAc,QAG/B,QAASK,GAAyB7R,EAAO2Q,EAAQtE,EAAYyF,GAC3D,GAAML,GAAcF,EAAgBvR,EAAO2Q,EAC3C,QAAKc,GAAeA,EAAY1Y,KAAO+Y,EAC9B,KAEFf,EAAsBU,EAAaA,EAAY3Y,KAAMuT,GAG9D,QAAS0F,GAAgC/R,EAAO2Q,EAAQtE,EAAYyF,EAAazB,GAC/E,GAAMoB,GAAcF,EAAgBvR,EAAO2Q,EAC3C,KAAKc,GAAeA,EAAY1Y,KAAO+Y,EACrC,MAAO,KAGT,IACE/Y,IAAO,EAAA0X,EAAAzb,uBAAsByc,EAAYnR,GAAImR,EAAY3Y,MACzDkZ,EAAc5c,KAAK6c,MAAMlZ,EAAOsX,GAAeA,EAC/Clb,EAAMsc,EAAYjR,GAAGlL,EAAImc,EAAYnR,GAAGhL,EACxCC,EAAMkc,EAAYjR,GAAGhL,EAAIic,EAAYnR,GAAG9K,EACxC0c,EAAO9c,KAAKK,KAAMN,EAAKA,EAAOI,EAAKA,GACnC4c,GACE7c,EAAGmc,EAAYnR,GAAGhL,EAAK0c,GAAe7c,EAAK+c,GAC3C1c,EAAGic,EAAYnR,GAAG9K,EAAKwc,GAAezc,EAAK2c,GAG/C,OAAOnB,GAAsBU,EAAaU,EAAS9F,GAG9C,QAAS+F,GAAiBC,GAAmB,OAAA7D,GAAAzY,UAAAC,OAANyY,EAAMC,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAANF,EAAME,EAAA,GAAA5Y,UAAA4Y,EAClD,OAAiB,gBAAb0D,EACKN,eAAmCtD,GAErCoD,eAA4BpD,GAG9B,QAAS6D,GAAuBD,EAAU3Q,EAAOiP,EAAQN,GAC9D,GAAMkC,GAA6B,gBAAbF,MAAmC1B,EAGzD,OAAOhW,GAAAlH,QAAE6Y,MAAMoE,EAAY6B,EAAelC,EAAaM,IACpDrW,IAAI,SAAAkY,GAAA,SAAA5W,EAAAnI,YACA+e,GACHhR,QAAS7G,EAAAlH,QAAEwM,KAAKyB,EAAO,SAAAC,GAAA,OAAK,EAAA8O,EAAAxV,YAAWuX,EAAG7Q,EAAElB,gBAE7CC,OAAO,WACPpG,IAAI,SAAAkY,GAAA,SAAA5W,EAAAnI,YAAW+e,GAAGhR,QAASgR,EAAEhR,QAAQrB,OACrCsS,QACA/W,QAGE,QAASgX,GAAe3S,EAAM4S,GACnC,GAAMnY,GAAQmY,EAAMnY,OAAS,EAE7B,QACElF,EAAGyK,EAAKO,GAAGhL,EAAKkF,GAASuF,EAAKS,GAAGlL,EAAIyK,EAAKO,GAAGhL,GAC7CE,EAAGuK,EAAKO,GAAG9K,EAAKgF,GAASuF,EAAKS,GAAGhL,EAAIuK,EAAKO,GAAG9K,IVylDhDgG,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIG,GAAsBxI,EAAoB,IAE1CyI,EAAsBxI,EAAuBuI,GAE7CF,EAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,EAEvCvI,GUpwDegd,kBVqwDfhd,EUtvDesd,cVuvDftd,EUxuDe2d,wBVyuDf3d,EU9rDeme,kBV+rDfne,EUrrDeue,oBVsrDfve,EUroDegf,mBVsoDfhf,EU/nDekf,yBVgoDflf,EUjnDesf,gBA7JhB,IAAA3W,GAAA1I,EAAA,GVkxDKsH,EAAWrH,EAAuByI,GUjxDvC0U,EAAApd,EAAA,IVg7DM,SAAUF,EAAQC,EAASC,GAEhC,YAWA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GATvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,IAETtI,EAAQwf,aAAe3c,MWh7DxB,IAAA4c,GAAAxf,EAAA,IXo7DKyf,EAAiBxf,EAAuBuf,EAI5Czf,GWt7DCwf,aXs7DsBE,EAAerf,SAIjC,SAAUN,EAAQC,EAASC,GAEhC,YAcA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAZvFiI,OAAOC,eAAerI,EAAS,cAC3BsI,OAAO,GYz8DZ,IAAAqX,GAAA1f,EAAA,IZ88DK2f,EAAe1f,EAAuByf,GY78D3CtC,EAAApd,EAAA,EZi9DiBC,GAAuBmd,EAIvCrd,GAAQK,SYl9DLwf,OADW,SACH3d,EAAGE,GACP,OACI2K,GAAI6S,EAAAvf,QAAUgX,WACdnV,EAAGA,EACHE,EAAGA,IAGX0d,KARW,SAQL5S,EAAIE,GACN,OACIL,GAAI6S,EAAAvf,QAAUgX,WACdnK,GAAIA,EACJE,GAAIA,IAGZ2S,KAfW,SAeLvR,GACF,OACIzB,GAAI6S,EAAAvf,QAAUgX,WACd7I,SAAUA,IAGlBwR,SArBW,WAsBP,OACIjT,GAAI6S,EAAAvf,QAAUgX,WACdhK,YACAT,SACA0B,aZ09DN,SAAUvO,EAAQC,EAASC,GAEhC,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,Ga5/DV,IAAAqX,GAAA1f,EAAA,IbigEK2f,EAAe1f,EAAuByf,GahgE3CM,EAAAhgB,EAAA,KbogEKigB,EAAkBhgB,EAAuB+f,GangE9CpJ,EAAA5W,EAAA,IbugEKiW,EAAchW,EAAuB2W,EAIzC7W,GAAQK,SaxgEP8f,MADa,SACPpL,GACJ,OACEhI,GAAI6S,EAAAvf,QAAUgX,WACdtC,OACAqD,OAAO,EAAA8H,EAAA7f,SAAc,SACrB+f,OAAQ,KACRC,YAAa,KACbC,0BAA2B,EAC3BC,wBAAyB,EACzBC,0BAA2B,EAC3BC,4BAA6B,EAC7BC,WAAY,EACZpM,UACAmC,wBACAF,WACA7C,WACAa,UACAoM,eAAe,IAGnBC,MArBa,SAqBP7L,GACJ,OACEhI,GAAI6S,EAAAvf,QAAUgX,WACdtC,OACAqD,OAAO,EAAA8H,EAAA7f,SAAc,SACrB+f,OAAQ,KACRhS,QAAS,KACTqI,wBACAuD,iBAAkB,KAClBG,gBAAiB,KACjBE,cAAe,KACfE,oBAAqB,KACrBG,gBAAiB,KACjB4F,0BAA2B,KAC3BC,wBAAyB,KACzBE,4BAA6B,KAC7BI,aAAc,KACdC,eAAe,EACf5X,KAAM,UAGV6X,QA1Ca,SA0CLhM,GACN,OACEhI,GAAI6S,EAAAvf,QAAUgX,WACdtC,OACAqD,MAAOlC,EAAA7V,QAAUwV,QAAQnC,QACzB0M,OAAQ,KACRhS,QAAS,OAGb4S,MAnDa,SAmDPjM,EAAMkM,GACV,OACElU,GAAI6S,EAAAvf,QAAUgX,WACd4J,MACAlM,OACAmM,SAAS,EACTC,OAAQ,EACR5a,MAAO,EACPrE,EAAG,EACHE,EAAG,EACHgf,EAAG,EACHxV,EAAG,EACHyV,QAAS,KAGbhJ,aAlEa,WAkEW,GAAXiJ,GAAW3e,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,KACtB,QACEoK,GAAI6S,EAAAvf,QAAUgX,WACde,OAAO,EAAA8H,EAAA7f,SAAc,iBACrB0U,KAAMuM,EAAKvM,KACXqL,OAAQkB,EAAKlB,QAAU,OAG3B9H,YA1Ea,WA0EU,GAAXgJ,GAAW3e,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,KACrB,QACEoK,GAAI6S,EAAAvf,QAAUgX,WACde,OAAO,EAAA8H,EAAA7f,SAAc,gBACrB0U,KAAMuM,EAAKvM,KACXqL,OAAQkB,EAAKlB,QAAU,OAG3B/G,UAlFa,WAkFQ,GAAXiI,GAAW3e,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,KACnB,QACEoK,GAAI6S,EAAAvf,QAAUgX,WACde,OAAO,EAAA8H,EAAA7f,SAAc,cACrB0U,KAAMuM,EAAKvM,KACXqL,OAAQkB,EAAKlB,QAAU,OAG3B9G,gBA1Fa,WA0Fc,GAAXgI,GAAW3e,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,KACzB,QACEoK,GAAI6S,EAAAvf,QAAUgX,WACdtC,KAAMuM,EAAKvM,KACXqD,OAAO,EAAA8H,EAAA7f,SAAc,oBACrB+f,OAAQkB,EAAKlB,QAAU,OAG3BhH,WAlGa,WAkGS,GAAXkI,GAAW3e,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,KACpB,QACEoK,GAAI6S,EAAAvf,QAAUgX,WACdtC,KAAMuM,EAAKvM,KACXoM,OAAQG,EAAKH,QAAU,EACvB5a,MAAO+a,EAAK/a,OAAS,EACrBgb,YAAaD,EAAKC,aAAe,EACjCzI,uBAAwB,gBACxB0I,IAAK,KACLC,eAAgB;AAChBC,2BAA4B,KAC5BC,sBAAuB,OAG3BlI,uBAhHa,WAgHqB,GAAX6H,GAAW3e,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,KAChC,QACEoK,GAAI6S,EAAAvf,QAAUgX,WACdtC,KAAMuM,EAAKvM,KACXoM,OAAQG,EAAKH,QAAU,EACvBS,qBAAsBN,EAAKM,sBAAwB,MAGvD7G,YAxHa,WAwHU,GAAXuG,GAAW3e,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,KACrB,QACEoK,GAAI6S,EAAAvf,QAAUgX,WACdtC,KAAMuM,EAAKvM,KACX8M,kBAAmBP,EAAKpY,MAAQ,QAChC4Y,MAAOR,EAAKQ,OAAS,EACrBC,eAAgBT,EAAKS,gBAAkB,EACvC3J,OAAO,EAAA8H,EAAA7f,SAAc,oBb6hEnB,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CAEF,SAAUN,OAAQC,ScnrExBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,UAAeC,OAAOE,GAAA,KAAAC,GAAA,KAAAC,KAAA,UAAA1W,EAAA,SAAgDqW,GAAA,QAAaC,OAAOxI,EAAA,uNAAA4I,KAAA,edwrElM,CAEF,SAAUviB,EAAQC,EAASC,GAEhC,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GARvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GevrEV,IAAAhI,GAAAL,EAAA,If4rEKM,EAAQL,EAAuBI,EAInCN,GAAQK,Qe/rEM,GAAAE,GAAAF,SfmsET,SAAUN,EAAQC,EAASC,GAEhC,YAkJA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhJvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GgBjtEV,IAAAia,GAAAtiB,EAAA,KhBstEKuiB,EAAmBtiB,EAAuBqiB,GgBrtE/CE,EAAAxiB,EAAA,KhBytEKyiB,EAAmBxiB,EAAuBuiB,GgBxtE/CE,EAAA1iB,EAAA,KhB4tEK2iB,EAAmB1iB,EAAuByiB,GgB1tE/CE,EAAA5iB,EAAA,KhB8tEK6iB,EAAS5iB,EAAuB2iB,GgB7tErCE,EAAA9iB,EAAA,KhBiuEK+iB,EAAS9iB,EAAuB6iB,GgB/tErCE,EAAAhjB,EAAA,KhBmuEKijB,EAAkBhjB,EAAuB+iB,GgBluE9CE,EAAAljB,EAAA,KhBsuEKmjB,EAAgBljB,EAAuBijB,GgBruE5CE,EAAApjB,EAAA,KhByuEKqjB,EAAepjB,EAAuBmjB,GgBxuE3CE,EAAAtjB,EAAA,KhB4uEKujB,EAAmBtjB,EAAuBqjB,GgB1uE/CE,EAAAxjB,EAAA,KhB8uEKyjB,EAAwBxjB,EAAuBujB,GgB7uEpDE,EAAA1jB,EAAA,KhBivEK2jB,EAAsB1jB,EAAuByjB,GgBhvElDE,EAAA5jB,EAAA,KhBovEK6jB,EAAe5jB,EAAuB2jB,GgBnvE3CE,EAAA9jB,EAAA,KhBuvEK+jB,EAAmB9jB,EAAuB6jB,GgBtvE/CE,EAAAhkB,EAAA,KhB0vEKikB,EAAehkB,EAAuB+jB,GgBzvE3CE,EAAAlkB,EAAA,KhB6vEKmkB,EAAelkB,EAAuBikB,GgB5vE3CE,EAAApkB,EAAA,KhBgwEKqkB,EAAcpkB,EAAuBmkB,GgB/vE1CE,EAAAtkB,EAAA,KhBmwEKukB,EAAoBtkB,EAAuBqkB,GgBjwEhDE,EAAAxkB,EAAA,KhBqwEKykB,EAAgBxkB,EAAuBukB,GgBpwE5CE,EAAA1kB,EAAA,KhBwwEK2kB,EAAY1kB,EAAuBykB,GgBvwExCE,EAAA5kB,EAAA,KhB2wEK6kB,EAAa5kB,EAAuB2kB,GgB1wEzCE,EAAA9kB,EAAA,KhB8wEK+kB,EAAQ9kB,EAAuB6kB,GgB7wEpCE,EAAAhlB,EAAA,KhBixEKilB,EAAchlB,EAAuB+kB,GgBhxE1CE,EAAAllB,EAAA,KhBoxEKmlB,EAAsBllB,EAAuBilB,GgBlxElDE,EAAAplB,EAAA,KhBsxEKqlB,EAAsBplB,EAAuBmlB,GgBrxElDE,EAAAtlB,EAAA,KhByxEKulB,EAA2BtlB,EAAuBqlB,GgB1wEvDE,GAAAxlB,EAAA,KhB8wEKylB,GAAsBxlB,EAAuBulB,IgB7wElDE,GAAA1lB,EAAA,KACA2lB,IhBgxE8B1lB,EAAuBylB,IgBhxErD1lB,EAAA,MhBoxEK4lB,GAAoB3lB,EAAuB0lB,IgBnxEhDE,GAAA7lB,EAAA,KhBuxEK8lB,GAAuB7lB,EAAuB4lB,IgBtxEnDE,GAAA/lB,EAAA,KhB0xEKgmB,GAAgB/lB,EAAuB8lB,IgBvwE5CE,GAAAjmB,EAAA,KhB2wEKkmB,GAAsCjmB,EAAuBgmB,IgB1wElEE,GAAAnmB,EAAA,KhB8wEKomB,GAAiCnmB,EAAuBkmB,IgB7wE7DE,GAAArmB,EAAA,KhBixEKsmB,GAAkCrmB,EAAuBomB,IgB/wE9DE,GAAAvmB,EAAA,IhBmxEKwmB,GAAcvmB,EAAuBsmB,IgBlxE1CE,GAAAzmB,EAAA,KhBsxEK0mB,GAAkBzmB,EAAuBwmB,IgB/zExCE,IACJ7R,KAAM,gBACN8R,OAAQ,SACRrlB,yMAIAC,YACEqlB,2BACAC,kCAUEC,IACJjS,KAAM,sBACN8R,OAAQ,SACRrlB,uUAMAC,YACEwlB,4BACAC,6BACAC,0BACAC,uBhByzEHpnB,GAAQK,SgB7yEPgnB,qBAAA7E,EAAAniB,QACAinB,qBAAA5E,EAAAriB,QACAknB,qBAAA3E,EAAAviB,QACAmnB,WAAA1E,EAAAziB,QACAonB,WAAAzE,EAAA3iB,QACAqnB,oBAAAxE,EAAA7iB,QACAsnB,kBAAAvE,EAAA/iB,QACAunB,iBAAAtE,EAAAjjB,QACAwnB,qBAAArE,EAAAnjB,QAEAynB,iBAAA5D,EAAA7jB,QACA0nB,0BAAArE,EAAArjB,QACA2nB,wBAAApE,EAAAvjB,QACA4nB,iBAAAnE,EAAAzjB,QACA6nB,qBAAAlE,EAAA3jB,QACA8nB,iBAAA/D,EAAA/jB,QACA+nB,gBAAA9D,EAAAjkB,QACAgoB,qBAAA7D,EAAAnkB,QAEAioB,cAAA1D,EAAAvkB,QACAkoB,eAAAzD,EAAAzkB,QACAmoB,UAAAxD,EAAA3kB,QACAooB,YAAAvD,EAAA7kB,QACAqoB,uBAEA9B,iBACAI,uBAEA2B,yCACAC,sCACAC,uCAEAC,oBACAC,wBACAC,iChBmzEI,SAAUjpB,EAAQC,EAASC,GAEhC,YA0BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GiBx7ExF,QAAS8oB,GAAoB3a,EAAO9B,GAClC,MAAOjF,GAAAlH,QAAEiN,OACPgB,EACA,SAAAC,GAAA,MAAKhH,GAAAlH,QAAE6Y,MAAM3K,EAAE3B,OACZ1F,IAAI,MACJgiB,SAAS1c,GACTlE,UAGP,QAAS6gB,GAAkBpW,EAAOsN,GAChC,GACE+I,GAAOC,EAAAhpB,QAAgBkQ,YAAYhJ,EAAAlH,QAAEwM,KAAKkG,EAAMtG,UAAYM,GAAIsT,KAChE7M,EAAQjM,EAAAlH,QAAEwM,KAAKkG,EAAM2B,OAAON,SAAWiM,gBAEnCiJ,EAAoB9V,EAAMc,OAAOpN,IAAI,SAAAuM,GAAA,OACzCgD,qBAAsBhD,EAAMgD,qBACzBvP,IAAI,SAAAwS,GAAA,SAAAlR,EAAAnI,YAAWqZ,GAAGnM,OAAQhG,EAAAlH,QAAEwM,KAAKuc,EAAK/b,UAAYN,GAAI2M,EAAE5L,gBAC3Dyb,SAAU9V,EAAM1G,GAChBqB,QAASqF,EAAMrF,UAEjB,QACEiS,cACAmJ,SAAUhW,EAAMzG,GAChBwJ,QAAS/C,EAAM+C,QACZrP,IAAI,SAACsX,GACJ,GACE7R,GAAOpF,EAAAlH,QAAEwM,KAAKuc,EAAKxc,OAASG,GAAIyR,EAAEhS,UAClC8B,EAAQ2a,EAAoBG,EAAK9a,MAAOkQ,EAAEhS,QAC5C,UAAAhE,EAAAnI,YACKme,GACHiL,aAAa,EAAAC,EAAApK,gBAAe3S,EAAM6R,GAClCmL,gBAAiBpiB,EAAAlH,QAAE6G,IAAIoH,EAAO,UAGpCgb,qBAIJ,QAASM,GACPC,EACApoB,GAEA,GADAqoB,GACAnnB,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,MAEI0d,EAAsD5e,EAAtD4e,YAAamJ,EAAyC/nB,EAAzC+nB,SAAUjT,EAA+B9U,EAA/B8U,QAAS+S,EAAsB7nB,EAAtB6nB,kBAClC7c,EAAW4c,EAAAhpB,QAAgBkQ,YAAYhJ,EAAAlH,QAAEwM,KAAKgd,EAAQE,UAAUtd,UAAYM,GAAIsT,KAChF7M,EAAQjM,EAAAlH,QAAEwM,KAAKgd,EAAQE,UAAUrV,OAAON,SAAWrH,GAAIyc,IACvDQ,EAAavd,EAAS6B,MAAMhB,OAAO,SAAAiB,GAAA,MAAKhH,GAAAlH,QAAEwM,KAAK2G,EAAMc,QAAUlG,QAASG,EAAExB,OAC1EzG,EAAUujB,EAAQE,UAAUE,QAAQC,KAAK5jB,OAE3CujB,GAAQtW,SAAS,+BAAiCiW,aAAcW,MAAM,GAEtE,IAAMC,GAAsB7iB,EAAAlH,QAAEwQ,QAAQmZ,EAAY,QAClDzT,GAAQuD,QAAQ,SAAC0E,GAAM,GAAAnb,GAENymB,EAAkBtL,EAAEmL,gBAAgB,MAAS5nB,GAAI,EAAGI,GAAI,GAAnEJ,EAFiBsB,EAEjBtB,GAAII,EAFakB,EAEblB,GACNkoB,GAAWnoB,EAAGsc,EAAEiL,YAAYvnB,EAAIH,EAAIK,EAAGoc,EAAEiL,YAAYrnB,EAAID,GACzDmoB,GAAM,EAAAZ,EAAA1K,kBAAgC,YAAaoL,EAAqBC,GAAU9jB,MAAO,GAAKD,EAAU,EAC1G,IAAKgkB,EAAL,CAEA,GAAMC,GAAgBhjB,EAAAlH,QAAE6G,IAAI+hB,EAAoBe,EAAYM,EAAI9d,SAAU,KACtEgS,GAAEmL,gBAAgB/mB,SAAW2nB,EAAc3nB,QAC1C4b,EAAEmL,gBAAgB/mB,OAAS,GAAK2E,EAAAlH,QAAEyL,cAAa,EAAA8L,EAAAvX,SAAYypB,GAAoBtL,EAAEmL,kBAYtFE,EAAQtW,SAAS,uBACfiW,WACAhd,QAAS8d,EAAI9d,QACbpF,MAAOkjB,EAAIljB,MACX+R,qBAAsBqF,EAAErF,uBACrBgR,MAAM,OAGbb,EAAkBxP,QAAQ,SAAA3V,GAAuC,GAApCiK,GAAoCjK,EAApCiK,QAASqI,EAA2BtS,EAA3BsS,oBACpCA,GAAqBqD,QAAQ,SAACJ,GAAM,GAAAjU,GAEnBqkB,EAAkB1b,KAAcrM,GAAI,EAAGI,GAAI,GAAtDJ,EAF8B0D,EAE9B1D,GAAII,EAF0BsD,EAE1BtD,GACNkoB,GAAWnoB,EAAGwX,EAAEnM,OAAOrL,EAAIH,EAAIK,EAAGsX,EAAEnM,OAAOnL,EAAID,GAC/CmoB,GAAM,EAAAZ,EAAAxK,wBAAsC,YAAa8K,EAAYK,EAAQ/jB,EAAU,EACpFgkB,IAELT,EAAQtW,SAAS,mCACfiG,kCAAmCE,EAAEF,kCACrCtX,EAAGooB,EAAIpoB,EACPE,EAAGkoB,EAAIloB,EACPonB,WACApb,QAASkc,EAAIlc,UACV+b,MAAM,QAKV,QAASK,KAAiC,OAC3CX,UAASxJ,SAAaoK,SAAQX,SADa1O,EAAAzY,UAAAC,OAANyY,EAAMC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAANF,EAAME,GAAA5Y,UAAA4Y,EAE/C,IAAoB,IAAhBF,EAAKzY,OACNinB,EAAgCxO,EADZ,GACXgF,EAAuBhF,EADZ,GACEoP,EAAUpP,EADZ,GAErByO,SACK,IAAoB,IAAhBzO,EAAKzY,OAGd,KAAM,IAAIuI,OAAM,oFAFf0e,GAAmDxO,EADxB,GAClBgF,EAA0ChF,EADxB,GACLyO,EAA6BzO,EADxB,GACcoP,EAAUpP,EADxB,GAM9B,GAAM5Z,GAAa0nB,EAAkBU,EAAQE,UAAW1J,EACxDoK,KACAb,EAAkBC,EAASpoB,EAAYqoB,GjB8yExC1hB,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIqP,GAAQ1X,EAAoB,IAE5B2X,EAAS1X,EAAuByX,GAEhCpP,EAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,EAEvCvI,GiBv0EewqB,yBAzGhB,IAAA7hB,GAAA1I,EAAA,GjBo7EKsH,EAAWrH,EAAuByI,GiBn7EvC0U,EAAApd,EAAA,GjBu7EKopB,EAAYnpB,EAAuBmd,GiBt7ExCqM,EAAAzpB,EAAA,KjBikFM,SAAUF,EAAQC,EAASC,GAEhC,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GkBxkFV,IAAAoiB,GAAAzqB,EAAA,KlB6kFK0qB,EAAYzqB,EAAuBwqB,GkB5kFxCE,EAAA3qB,EAAA,KlBglFK4qB,EAAc3qB,EAAuB0qB,GkB/kF1CE,EAAA7qB,EAAA,KlBmlFK8qB,EAAY7qB,EAAuB4qB,EAIvC9qB,GAAQK,SkBplFP2qB,YAAY,EACZjY,OAEEqC,QACE6V,MAAO,KACPC,eAAe,EACfC,SAAU,SAEZC,WAAY,EACZC,QACExK,aAAc,EACdyK,cAAe,EACfC,WAAY,GAEdrB,MACEhJ,SAAS,EACT5a,QAAS,GAEXklB,MAEEC,OAAO,IACPC,OAAO,IACPC,MAAO,IACPC,MAAO,KAET1kB,KACE2kB,aAAa,EACbjT,SAAS,EACTsI,SAAS,EACT4K,SAAU,QACVC,WAAW,SACXC,KAAM,IACNC,SAAU,EACVC,UAAW,GAEbC,gBACEjL,SAAS,GAEXkL,oBAAoB,GAEtBC,kBACAC,oBACAC,oBlBulFM,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CAEF,SAAUxsB,EAAQC,EAASC,GmBzpFjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,SnBkqFM,SAAUD,EAAQC,EAASC,GoB/qFjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,SpBwrFM,SAAUD,EAAQC,EAASC,GqBrsFjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,SrB8sFM,SAAUD,OAAQC,SsB7tFxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,6BAAAqK,YAAA,UAAAC,QAAA,iBAAoFxK,GAAA,SAAAyK,GAAA,iBAAAzK,GAAA,QAA6CC,OAAOxI,EAAA,kFtBmuF5M,SAAU3Z,EAAQC,EAASC,GAEhC,YAsCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GApCvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GuB1sFxCokB,EAAA1sB,EAAA,GACA2sB,EAAA3sB,EAAA,KvB+sFK4sB,EAAe3sB,EAAuB0sB,GuB9sF3CE,EAAA7sB,EAAA,KvBktFK8sB,EAAS7sB,EAAuB4sB,GuBjtFrCE,EAAA/sB,EAAA,KvBqtFKgtB,EAAW/sB,EAAuB8sB,GuBptFvCE,EAAAjtB,EAAA,KvBwtFKktB,EAAYjtB,EAAuBgtB,GuBvtFxCE,EAAAntB,EAAA,KvB2tFKotB,EAAgBntB,EAAuBktB,GuB1tF5CE,EAAArtB,EAAA,KvB8tFKstB,EAAcrtB,EAAuBotB,EuB1tF1CrtB,GAAA,GvBguFCD,GAAQK,SACN0U,KuB/tFH,MvBguFGyY,KAAM,WACJ,OACEhiB,MuB/tFP,KvBguFO2H,QuB/tFP,KvBguFOsa,oBuB9tFP,IvBiuFGC,aAAc,WACZtjB,KAAKujB,OAAOpa,SuB/tFjB,qBvBiuFGqa,QAAS,WuB9tFZ,GAAAlhB,GAAAtC,IvBiuFKjJ,QAAOC,SAASysB,IAAI,QAAS,SAAUC,GACrCphB,EAAMlB,MuBhuFbsiB,EvBiuFOrS,WAAW,WACT/O,EAAMlB,MAAQ,MuBjuFvB,OvBouFKrK,OAAOC,SAASysB,IAAI,UAAW,SAAUE,GACvCrhB,EAAMyG,QuBluFb4a,EvBmuFOtS,WAAW,WACT/O,EAAMyG,QAAU,MuBnuFzB,OvBsuFKhS,OAAOC,SAASysB,IAAI,cAAe,WACjCG,SAASC,euBnuFhB,YAAAC,cAAA,GAAAC,OACA,iBvBquFKH,SAASI,iBAAiB,UAAW,SAAUthB,GACxCJ,EAAMihB,OAAOU,aAGA,KAAdvhB,EAAEwhB,UAAmBxhB,EAAEyhB,SAAWzhB,EAAE0hB,UACtC1hB,EAAE2hB,SAAW/hB,EAAMihB,OAAOU,WAAWK,OAAShiB,EAAMihB,OAAOU,WuBluFpEM,OvBmuFS7hB,EuBluFT8hB,kBvBmuF+B,IAAb9hB,EAAEwhB,UAAkBxhB,EAAEyhB,SAAWzhB,EAAE0hB,WAC5C9hB,EAAMihB,OAAOU,WuBluFtBK,OvBmuFS5hB,EuBluFT8hB,sBAKAC,UAAA,EAAArmB,EAAAnI,aAAA,EAAAssB,EAAAmC,WAAAC,KAAA,SAAAhc,GvBouFO,MAAOA,GAAM1R,YAAY2tB,kBuBluFhCD,SvBouFGttB,YuBluFHwtB,YAAAlC,EAAA1sB,QACA6uB,cAAAjC,EAAA5sB,QACA8uB,iBAAA5B,EAAAltB,QACA+uB,WAAAvC,EAAAxsB,QACAgvB,QAAAlC,EAAA9sB,QAEAivB,YAAAjC,EAAAhtB,WvBwuFM,SAAUN,EAAQC,EAASC,GAEhC,YAgBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAdvFiI,OAAOC,eAAerI,EAAS,cAC3BsI,OAAO,GAGX,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GwBh0FxCgnB,EAAAtvB,EAAA,KxBo0FKuvB,EAAQtvB,EAAuBqvB,GwBh0FpC5C,EAAA1sB,EAAA,ExBs0FCD,GAAQK,SACJ0U,KwBr0FL,MxBs0FKyY,KAAM,WACF,UwBr0FTqB,UAAA,EAAArmB,EAAAnI,aAAA,EAAAssB,EAAAmC,WxBy0FSW,WAAY,SAAoB1c,GAC5B,MAAOA,GAAMkX,QAAQ/iB,IwBx0FlC0R,SxB00FS8W,WAAY,SAAoB3c,GAC5B,MAAOA,GAAMkX,QAAQ/iB,IwB10FlCga,SxB40FSyO,UAAW,SAAmB5c,GAC1B,MAAOA,GAAMkX,QwB10F1BmB,exB60FK3pB,YwB10FLmuB,WAAAJ,EAAAnvB,WxBi1FM,SAAUN,EAAQC,EAASC,GAEhC,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GyBn2FxCokB,EAAA1sB,EAAA,GACA4vB,EAAA5vB,EAAA,IACA6vB,EAAA7vB,EAAA,KzBy2FK8vB,EAAa7vB,EAAuB4vB,GyBv2FzCE,EAAA/vB,EAAA,2DACAgwB,EAAAhwB,EAAA,KACAiwB,EAAAjwB,EAEA,GzB22FCD,GAAQK,SACN0U,KyB12FH,MzB22FGyY,KAAM,WACJ,OACEhC,KyB12FP,KzB22FOtkB,IyB12FP,KzB22FOipB,gByB12FP,KzB22FOC,ayB12FP,KzB22FOC,iBAAiBlvB,OAAOmvB,KAAMnvB,OAAOmvB,IAAIlb,OAAOmb,qBAChDC,UyBz2FP,IzB42FG5C,QAAS,WACPxjB,KAAKomB,SAAWpmB,KyBr2FrBqmB,YzBu2FKrmB,KyBt2FLsmB,mBzBu2FKtmB,KyBt2FLumB,UzBu2FKd,EAAQrQ,aAAaqO,IAAI,SAAUzjB,KyBt2FxCwmB,ezBu2FKzvB,OAAOC,SAASysB,IAAI,iBAAkBzjB,KyBt2F3CymB,uBzBw2FGC,cAAe,WACbjB,EAAQrQ,aAAauR,KAAK,SAAU3mB,KyBl2FzCwmB,ezBm2FKzvB,OAAOC,SAAS2vB,KAAK,iBAAkB3mB,KyBl2F5CymB,uBzBs2FGG,SACEH,qBAAsB,WACpBzmB,KAAK+lB,gByBn2FZ,KzBo2FO/lB,KyBn2FPwmB,iBzBq2FKF,iBAAkB,WyB/1FvB,GAAAhkB,GAAAtC,IzBk2FO4lB,KAAaiB,KAAK,SAAUC,GAC1B,GAAId,GAAe,GAAIc,GAAKC,OAAOC,aAAa1kB,EAAM2kB,MyB/1F/DC,czBi2FSlB,GAAamB,YAAY,gBAAiB,WACxC,GAAIC,GAAQpB,EyB/1FvBqB,UzBg2FeD,GAAM/kB,WACRC,EAAMof,SAAW0F,EAAM/kB,SAAS2Q,SyB91F7CsU,MzB+1FahlB,EAAMqf,UAAYyF,EAAM/kB,SAAS2Q,SyB91F9CuU,YzBm2FKhB,QAAS,WyB11Fd,GAAAziB,GAAA9D,IzB61FOjJ,QAAO8uB,GyB51FdA,EzB61FO7lB,KAAKinB,MAAMnqB,IAAI0qB,UyB51FtB,GzB61FOxnB,KAAKohB,KAAO,GAAIyE,GyB51FvB4B,KzB61FOznB,KAAKlD,IAAM,GAAI+oB,GAAG6B,KAChBC,QAAS,GAAI9B,GAAG+B,MAAMC,MAAOC,OAAQ,GAAIjC,GAAGiC,OyB51FrDC,OzB61FS1U,OyB51FT,MzB61FS+N,KAAMphB,KyB31FfohB,OzB61FOphB,KAAKohB,KAAK4G,GAAG,iBAAkB,SAAUtlB,GACzB,aAAVA,EAAE2F,MACJvE,EAAO+d,SAAW/d,EAAOsd,KyB51FpC6G,iBzBg2FOjoB,KyB51FPwmB,iBzB81FKA,cAAe,WACb0B,QAAQC,IyBx1Ff,iBzBy1FOnoB,KAAKlD,IyBv1FZsrB,YzBy1FO,IAAIC,IAAeroB,KAAKqhB,MAAQrhB,KAAKuhB,OyBx1F5C,EzBy1FW+G,GAAetoB,KAAKshB,MAAQthB,KAAKwhB,OyBt1F5C,EzBw1FW+G,GAAcvoB,KAAKuhB,MAAQvhB,KAAKqhB,OAASrhB,KAAKinB,MAAMnqB,IyBr1F/D0rB,WzBu1FO,IAAmB,OAAfxoB,KAAK6gB,MyBr1FhB,CzBs1FS,GAAI4H,GAAS5C,EAAGvqB,KAAKotB,gByBr1F9B,QzBs1FSH,IyBr1FTE,EzBs1FSJ,GyBr1FTI,EzBs1FSH,GyBr1FTG,EzBw1FO,GAAIE,GAAY9C,EAAGvqB,KAAKstB,YAAY5oB,KAAK2hB,UAAW3hB,KyBh1F3D0hB,WzBk1FWroB,EAASgvB,EAAczwB,KAAKgc,IAAI5T,KAAK6hB,UAAYyG,EAAc1wB,KAAKkc,IAAI9T,KyBj1FnF6hB,UzBk1FWzoB,EAASkvB,EAAc1wB,KAAKgc,IAAI5T,KAAK6hB,UAAYwG,EAAczwB,KAAKkc,IAAI9T,KyB70FnF6hB,SzB+0FO,IAAI7hB,KAAKohB,KAAKyH,YyB90FrB,CzB+0FS7oB,KAAK+lB,gBAAkB/lB,KAAK+lB,iBAAmBF,EAAGvqB,KAAKwtB,mBAAmB9oB,KAAKohB,KAAK2H,gBAAiB/oB,KAAKohB,KAAK4H,gBAAiBhpB,KAAKohB,KyB90F9IyH,azB+0FSX,QAAQC,IAAI,mBAAoBnoB,KyB90FzC+lB,gBzB+0FS,IAAIkD,GAAuB,EAAIpD,EAAGvqB,KAAKwtB,mBAAmB9oB,KAAKohB,KAAK2H,gBAAiB,EAAG/oB,KAAKohB,KyB70FtGyH,YzB+0FSN,IyB90FTU,EzB+0FS5vB,GyB90FT4vB,EzB+0FS7vB,GyB90FT6vB,EzBi1FON,EAAU,IyB70FjBtvB,EzB80FOsvB,EAAU,IyB50FjBvvB,EzB80FO8uB,QAAQC,IAAI,0ByB70FnBI,GzB80FOvoB,KAAKohB,KAAK8H,cyB70FjBX,GzB80FOvoB,KAAKohB,KAAK+H,UyB70FjBR,GzB80FO3oB,KAAKohB,KAAKgI,YAAYppB,KyB70F7B6hB,WzB+0FKwH,YAAa,WACX,GAAI7V,GAASqS,EAAGvqB,KAAKguB,UAAUtpB,KAAKohB,KAAKyH,YAAa,YyBz0F7D,YzB00FO7oB,MAAK2hB,UAAYnO,EyBz0FxB,GzB00FOxT,KAAK0hB,SAAWlO,EyBx0FvB,EzB00FO,IAAI+U,GAAa1C,EAAGvqB,KAAKwtB,mBAAmB9oB,KAAKohB,KAAK2H,gBAAiB/oB,KAAKohB,KAAK4H,gBAAiBhpB,KAAKohB,KyBz0F9GyH,azB00FWU,EAAQvpB,KAAK+lB,gByBz0FxBwC,CzB00FOxxB,QAAOC,SAASwyB,MAAM,UyBx0F7BD,GzB00FOvpB,KAAK6hB,SAAW7hB,KAAKohB,KyBx0F5B6G,czB00FOjoB,KAAKujB,OAAOpa,SAAS,6BAA+BsY,ayBx0F3D,IzB00FOzhB,KAAK2kB,KyBv0FZ,YzBy0FOmB,EAAG2D,OAAO,YyBv0FjBC,SzBy0FO1pB,KAAKqmB,YAAcrmB,KyBx0F1BomB,UzB00FKuD,YAAa,WACX,GAAkB,QAAd3pB,KAAK2kB,KAAT,CAIA3kB,KAAKqmB,ayBp0FZ,CzBs0FO,IAAIuD,GyBr0FX,IzBs0FW9xB,EAAIkI,KAAKinB,MAAMnqB,IAAI0rB,YyBr0F9B,EzBs0FWxwB,EAAIgI,KAAKinB,MAAMnqB,IAAI+sB,ayBp0F9B,CzBs0FO/D,GAAG2D,OyBr0FV,YAAAK,UACA,iBAAA1G,QACAtrB,IAAAE,IAAA4xB,IAAA9xB,IAAAE,IACA4xB,MAAA9xB,IAAA8xB,EAAA5xB,MAAAF,IAAA8xB,EAEA5xB,QACA+xB,QAAAC,OACA,QAAAC,KAAA,eACA,KAAAA,KAAA,SACA,QAAAA,KAAA,IAAAnE,EAAAzrB,OAAAvC,EAAA,SAAAwX,GzB6zFS,MAAOA,GAAExX,IACRE,EAAE,SAAUsX,GACb,MAAOA,GyB9zFhBtX,QAGAysB,UAAA,EAAArmB,EAAAnI,aAAA,EAAAssB,EAAAmC,WzBg0FKwF,YAAa,SAAqBvhB,GAChC,MAAOA,GAAMkX,QyB/zFpBuB,MzBi0FKC,MAAO,SAAe1Y,GACpB,MAAOA,GAAMkX,QAAQuB,KyBj0F5BC,OzBm0FKE,MAAO,SAAe5Y,GACpB,MAAOA,GAAMkX,QAAQuB,KyBn0F5BG,OzBq0FKD,MAAO,SAAe3Y,GACpB,MAAOA,GAAMkX,QAAQuB,KyBr0F5BE,OzBu0FKE,MAAO,SAAe7Y,GACpB,MAAOA,GAAMkX,QAAQuB,KyBv0F5BI,OzBy0FKX,MAAO,SAAelY,GACpB,MAAOA,GAAMkX,QAAQ7U,OyBz0F5B6V,OzB20FKsJ,eAAgB,SAAwBxhB,GACtC,MAAOA,GAAMkX,QAAQ/iB,IyB10F5B2kB,gBzB60FK4E,aACEzd,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQC,KAAKhJ,SAExCsT,IAAK,SAAaC,GAChBrqB,KAAKujB,OAAOpa,SAAS,0BAA4B2N,QAASuT,MAG9D1F,MACE/b,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAM1R,YAAY2tB,kBAAkBD,MAEzDyF,IAAK,SAAaC,GAChBrqB,KAAKujB,OAAOpa,SAAS,8BAAgCwb,KAAM0F,MAG/D3I,UACE9Y,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQ/iB,IAAI4kB,UAEvC0I,IAAK,SAAaC,GAChBrqB,KAAKujB,OAAOpa,SAAS,0BAA4BuY,SAAU2I,MAG/D1I,WACE/Y,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQ/iB,IAAI6kB,WAEvCyI,IAAK,SAAaC,GAChBrqB,KAAKujB,OAAOpa,SAAS,2BAA6BwY,UAAW0I,MAGjExI,UACEjZ,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQ/iB,IAAI+kB,UAEvCuI,IAAK,SAAaC,GAChBrqB,KAAKujB,OAAOpa,SAAS,0BAA4B0Y,SAAUwI,QAIjEC,OACEzJ,MAAO,WACL7gB,KAAKwmB,iBAEP9E,SAAU,WACR1hB,KAAKwmB,iBAEP7E,UAAW,WACT3hB,KAAKwmB,iBAEP3E,SAAU,WACR7hB,KAAKwmB,iBAGP0D,aACEK,QAAS,WACPvqB,KAAKwmB,iBAGPgE,MyB12FP,IzB62FGnzB,YyB12FHozB,SAAA9E,EAAA1vB,WzBi3FM,SAAUN,EAAQC,EAASC,GAEhC,YAoBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAlBvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,G0B1nGxC+J,EAAArS,EAAA,I1B8nGKsS,EAAcrS,EAAuBoS,G0B7nG1Cqa,EAAA1sB,EAAA,GAGA60B,EAAA70B,EAAA,K1BgoGK80B,EAAY70B,EAAuB40B,EAIvC90B,GAAQK,S0BloGTwuB,UAAA,EAAArmB,EAAAnI,aAAA,EAAAssB,EAAAqI,a1BooGKC,kB0BloGL,uC1BmoGKC,a0BloGL,2B1BmoGKC,iB0BjoGL,kC1BmoGKC,aAAc,WACZ,MAAOhrB,MAAK6qB,mBAAqB7qB,KAAK6qB,kB0BloG7C/rB,M1BooGKiP,QAAS,WACP,MAAK/N,MAAK6qB,kBAGH1iB,EAAYlS,QAAQ+J,KAAKgrB,c0BpoGvCjd,Y1BsoGKkd,eAAgB,WACd,MAAOC,GAAEhlB,OAAOlG,KAAK+N,Q0BpoG5B,Y1BsoGKod,mBAAoB,WAClB,MAAOnrB,M0BpoGdgrB,cAAAhrB,KAAA+qB,iBAAAjsB,KAAAssB,QAAA,uBAAAprB,KACAgrB,gB1BsoGGpE,SACEyE,iBAAkB,WAChB,GAA0B,YAAtBrrB,KAAKgrB,aACPhrB,KAAKujB,OAAOpa,SAAS,wBAA0BiW,SAAUpf,KAAK8qB,aAAanoB,GAAI+F,OAAQ1I,K0BnoGhG6qB,wB1BooGc,IAA0B,yBAAtB7qB,KAAKgrB,aAGd,KAAM,IAAIjqB,OAAM,+BAAiCf,K0BnoG1DgrB,a1BioGShrB,MAAKujB,OAAOpa,SAAS,oCAAsCiW,SAAUpf,KAAK8qB,aAAanoB,GAAI+F,OAAQ1I,K0BnoG5G6qB,sB1BwoGKS,wBAAyB,SAAiC3oB,EAAI0F,EAAKnK,GACjE,GAA0B,YAAtB8B,KAAKgrB,aACPhrB,KAAKujB,OAAOpa,SAAS,uBAAyBxG,GAAIA,EAAI0F,IAAKA,EAAKnK,MAAOA,EAAOkhB,SAAUpf,KAAK8qB,a0BnoGtGnoB,S1BooGc,IAA0B,yBAAtB3C,KAAKgrB,aAGd,KAAM,IAAIjqB,OAAM,gCAAkCf,K0BnoG3D6L,KAAA,I1BioGS7L,MAAKujB,OAAOpa,SAAS,mCAAqCxG,GAAIA,EAAI0F,IAAKA,EAAKnK,MAAOA,EAAOkhB,SAAUpf,KAAK8qB,a0BnoGlHnoB,Q1ByoGGtL,Y0BjoGHk0B,QAAAZ,EAAA10B,W1BwoGM,SAAUN,EAAQC,EAASC,GAEhC,YAcA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAZvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,G2BtrGV,IAAAtH,GAAAf,EAAA,I3B2rGKgB,EAAiBf,EAAuBc,G2BvrG7C40B,EAAA31B,EAAA,I3B2rGK41B,EAAW31B,EAAuB01B,EAItC51B,GAAQK,SACNwmB,OAAQ,MAAO,UAAW,Y2B9rG7B,W3B+rGGplB,Y2B7rGHq0B,aAAA70B,EAAAZ,QAEA01B,OAAAF,EAAAx1B,W3BmsGM,SAAUN,EAAQC,EAASC,GAEhC,YA0BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAxBvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,G4B/qGV,IAAA0tB,GAAA/1B,EAAA,K5BorGKg2B,EAAkB/1B,EAAuB81B,G4BnrG9CE,EAAAj2B,EAAA,I5BurGKk2B,EAAkBj2B,EAAuBg2B,G4BtrG9Cp1B,EAAAb,EAAA,I5B0rGKc,EAAiBb,EAAuBY,G4BzrG7Cs1B,EAAAn2B,EAAA,K5B6rGKo2B,EAAkBn2B,EAAuBk2B,G4B1rG9CE,EAAAr2B,EAAA,K5B8rGKs2B,EAAYr2B,EAAuBo2B,EAIvCt2B,GAAQK,SACN0U,K4BjsGH,qB5BksGG8R,O4BjsGH,6DACA,qEAEA,W5B+rGG2G,KAAM,WACJ,OACEgJ,O4B7rGP,K5BisGG3H,UACEwG,eAAgB,WACd,MAAOC,GAAEhlB,OAAOlG,KAAK+N,Q4B/rG5B,Y5BisGKse,aAAc,W4B/rGnB,GAAA/pB,GAAAtC,I5BksGO,OAAOA,MAAKssB,K4BjsGnBppB,OAAA,SAAAuL,G5BksGS,MAAOyc,GAAEpc,M4BjsGlBL,GAAA8d,MACA,UACAC,SACAC,UAAA/f,KAAA,SAAA2d,G5B+rGW,MAAOA,GAAIqC,aAAerC,EAAIqC,cAAc5N,SAASxc,EAAM8pB,O4B9rGtEM,iBAEAxuB,Y5BisGG0oB,SACE+F,cAAe,WACb3sB,KAAKwpB,MAAM,iBAAkBxpB,K4B9rGpCysB,W5BisGGnC,OACEgC,KAAM,SAAcM,EAASC,GACvBD,IAAYC,GAGZD,EAAQp0B,OAASq0B,EAAQr0B,QAC3BwH,KAAK8sB,UAAU5B,EAAE6B,MAAM/sB,KAAKssB,KAAM,SAAU9qB,GAC1C,OAAQA,E4B9rGnBmB,Q5BmsGGtL,Y4B9rGH21B,cAAAnB,EAAA51B,QACAg3B,cAAAlB,EAAA91B,QACAi3B,aAAAv2B,EAAAV,QACAk3B,aAAAlB,EAAAh2B,QAEAm3B,OAAAjB,EAAAl2B,W5BosGM,SAAUN,EAAQC,EAASC,GAEhC,YAgBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAdvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,G6BjwGV,IAAAK,GAAA1I,EAAA,G7BswGKsH,EAAWrH,EAAuByI,G6BlwGvCitB,GAHA31B,EAAA,GAGAA,EAAA,K7BwwGK41B,EAAW31B,EAAuB01B,EAItC51B,GAAQK,SACN0U,K6B3wGH,gB7B4wGG8R,O6B3wGH,6BACA,wBAEA,kB7BywGG2G,KAAM,WACJ,OACEiK,QAAS,SAAiB7rB,GACxB,OAAQA,E6BzwGjBmB,I7B2wGO2qB,gB6BzwGP,I7B6wGG7I,UACEwG,eAAgB,WACd,MAAO9tB,GAASlH,QAAQiQ,OAAOlG,KAAK+N,Q6B3wG3C,Y7B6wGKwf,WAAY,WACV,GAAIC,GAAQrwB,EAASlH,QAAQw3B,OAAOztB,KAAKssB,KAAMtsB,K6B3wGtDqtB,Q7B+wGO,OAHIrtB,MAAKstB,gBACPE,E6B3wGThpB,UAEAgpB,I7B8wGG5G,SACE6G,OAAQ,SAAgBC,GACtB1tB,KAAKstB,eAAiBttB,KAAKqtB,UAAYK,IAAW1tB,KAAKstB,eACvDttB,KAAKqtB,Q6B3wGZK,I7B8wGGr2B,Y6BzwGHs0B,OAAAF,EAAAx1B,W7BgxGM,SAAUN,EAAQC,GAEvB,YAEAoI,QAAOC,eAAerI,EAAS,cAC7BsI,OAAO,IAETtI,EAAQK,SACNwmB,O8B/1GH,S9Bg2GG2G,KAAM,WACJ,OACEuK,U8B91GP,I9Bk2GGlJ,UACEmJ,MAAO,WACL,MAAO5tB,MAAK2tB,SAAW,I8Bh2G9B,Q9Bu2GM,SAAUh4B,EAAQC,EAASC,GAEhC,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAI2vB,GAAkBh4B,EAAoB,IAEtCi4B,EAAkBh4B,EAAuB+3B,G+Bl2G9CtvB,EAAA1I,EAAA,G/Bs2GKsH,EAAWrH,EAAuByI,G+Bn2GvCwvB,EAAAl4B,EAAA,K/Bu2GKm4B,EAAWl4B,EAAuBi4B,EAItCn4B,GAAQK,SACN0U,K+B12GH,e/B22GG8R,OAAQ,MAAO,M+B12GlB,Y/B22GGmK,SACEqH,YAAa,SAAqBC,GACZ,KAAhBA,EAAIhK,SACNlkB,KAAKmuB,I+Bz2GdC,O/B22G0B,IAAfF,EAAIhK,UACNlkB,KAAKmuB,IAAIjwB,MAAQuQ,IAAI4f,I+Bx2G9B1jB,M/By2GS3K,KAAKmuB,I+Bx2GdC,S/B42GKE,gBAAiB,W+Bx2GtB,GAAAhsB,GAAAtC,I/B22GYA,MAAKinB,MAAMsH,aAIhB,GAAIP,GAAS/3B,QAAQ+J,KAAKinB,MAAMsH,aAAeC,YAAa,EAAGC,S+B12GtE,QAAAzG,GAAA,kBAAAha,G/B22GS1L,EAAMosB,S+Bz2Gf1gB,O/B62GGwV,QAAS,WACPxjB,K+Bz2GLsuB,mB/B42GG7J,UACEkK,WAAY,WACV,MAAOxxB,GAASlH,QAAQ24B,QAAQ5uB,KAAKquB,IAAIzkB,YAAY5J,KAAKyO,IAAKzO,KAAKujB,O+B12G3E5a,QAAA7L,IAAA,SAAA7D,G/B22GS,GAAIc,IAAQ,EAAI+zB,EAAgB73B,SAASgD,EAAM,GAC3CoO,EAAItN,EAAM,GACV4J,EAAI5J,EAAM,EAEd,QAASswB,IAAK1mB,EAAGkrB,Q+B92G1BxnB,M/Bi3GKsY,UAAW,WACT,MAAO3f,MAAKujB,OAAO5a,OAErBmmB,SAAU,WACR,OAAK9uB,KAAKquB,IAAI7f,UAGNxO,KAAKquB,IAAI7f,QAAQxO,K+B/2GhCyO,S/Bs3GM,SAAU9Y,EAAQC,EAASC,GAEhC,YA0CA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAxCvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GgCl7GxCokB,EAAA1sB,EAAA,GACA6I,EAAA7I,EAAA,IACAk5B,EAAAl5B,EAAA,KhCw7GKm5B,EAAoBl5B,EAAuBi5B,GgCv7GhDE,EAAAp5B,EAAA,KhC27GKq5B,EAAYp5B,EAAuBm5B,GgC17GxChc,EAAApd,EAAA,GhC87GKopB,EAAYnpB,EAAuBmd,GgC77GxCkc,EAAAt5B,EAAA,IhCi8GKu5B,EAAYt5B,EAAuBq5B,GgCh8GxCE,EAAAx5B,EAAA,IhCo8GKy5B,EAAYx5B,EAAuBu5B,GgCn8GxC5J,EAAA5vB,EAAA,IACA05B,EAAA15B,EAAA,KhCw8GK25B,EAAY15B,EAAuBy5B,GgCv8GxCjQ,EAAAzpB,EAAA,IAEAiwB,EAAAjwB,EAEA,GhC28GCD,GAAQK,SACN0U,KgC18GH,OhC28GGyY,KAAM,WgC18GT,GAAA9gB,GAAAtC,KACAyvB,EAAA,SAAA9rB,GhC68GO,MAAOrB,GAAMotB,UAAU/rB,EgC58G9B,MhC88GSgsB,EAAS,SAAgBhsB,GAC3B,MAAOrB,GAAMotB,UAAU/rB,EgC78G9B,KACA,UAAAvF,EAAAnI,UhCg9GO+L,UACA4tB,MACE93B,EgC/8GT,KhCg9GSE,EgC98GT,MhCg9GO63B,gBACE/3B,EgC/8GT,KhCg9GSE,EgC98GT,MhCg9GO83B,agC/8GP,EhCg9GOC,yBgC/8GP,KhCg9GOzG,WAAajiB,EAAG,EAAGvP,EAAG,EAAGE,EgC/8GhC,GhCg9GOg4B,sBAAuBlK,EgC/8G9BmK,ahCg9GOC,kBgC/8GP,KhCg9GOC,gBgC/8GP,SAAAX,EAAAv5B,UAEAw5B,SACAE,ShC+8GOS,YAAa,SAAqBC,GAChC/tB,EAAMguB,aAAeD,GAEvBE,YAAa,SAAqBnN,GAChC,MAAOrsB,QAAOE,YAAYssB,OAAOpa,SAAS,6BgCh9GnDia,OhCm9GOoN,qBACEC,agCl9GT,QhCm9GSC,YgCl9GT,QhCm9GSC,oBgCl9GT,OhCm9GSC,GgCh9GT,WhCo9GGpN,QAAS,WACPxjB,KAAKmwB,iBAAkB,EAAInB,EAAkB/4B,SAAS+J,KAAK6wB,oBgC78GhE,KhC+8GK7wB,KgC78GL8wB,ahC+8GK9wB,KAAK8wB,YAAa,EAAIpyB,EAAWkS,UAAU5Q,KAAK8wB,WgC58GrD,GhC88GK9wB,KAAKinB,MAAMnH,KAAKkE,iBAAiB,aAAchkB,KgC58GpD+wB,qBhC88GKh6B,OAAOitB,iBAAiB,QAAShkB,KgC78GtCgxB,chC88GKj6B,OAAOitB,iBAAiB,UAAWhkB,KgC78GxCixB,ehC88GKl6B,OAAOitB,iBAAiB,SAAUhkB,KgC58GvC+wB,qBhC88GKtL,EAAQrQ,aAAaqO,IAAI,SAAUzjB,KgC58GxC+wB,qBhC88GKh6B,OAAOC,SAASysB,IAAI,YAAazjB,KgC78GtCkxB,WhC88GKn6B,OAAOC,SAASysB,IAAI,UAAWzjB,KgC78GpCmxB,UhC+8GGzK,cAAe,WACb1mB,KAAKinB,MAAMnH,KAAKsR,oBAAoB,aAAcpxB,KgC58GvD+wB,qBhC88GKh6B,OAAOq6B,oBAAoB,QAASpxB,KgC78GzCgxB,chC88GKj6B,OAAOq6B,oBAAoB,UAAWpxB,KgC78G3CixB,ehC88GKl6B,OAAOq6B,oBAAoB,SAAUpxB,KgC58G1C+wB,qBhC88GKtL,EAAQrQ,aAAauR,KAAK,SAAU3mB,KgC58GzC+wB,qBhC88GKh6B,OAAOC,SAAS2vB,KAAK,YAAa3mB,KgC78GvCkxB,WhC88GKn6B,OAAOC,SAAS2vB,KAAK,UAAW3mB,KgC78GrCmxB,UAEA1M,UAAA,EAAArmB,EAAAnI,aAAA,EAAAssB,EAAAmC,WhC+8GK2M,YAAa,SAAqB1oB,GAChC,MAAOA,GAAM1R,YAAY2tB,kBgC98GhC/Y,MhCg9GKylB,QAAS,SAAiB3oB,GACxB,MAAOA,GAAM1R,YAAY2tB,kBgCh9GhC0M,ShCk9GKC,YAAa,SAAqB5oB,GAChC,MAAOA,GAAM1R,YAAY2tB,kBgCl9GhCD,MhCo9GK9P,SAAU,SAAkBlM,GAC1B,MAAOA,GAAM1R,YAAY2tB,kBgCp9GhC/P,UhCs9GK2c,qBAAsB,SAA8B7oB,GAClD,MAAOA,GAAMkX,QAAQkC,egCt9G5BjL,ShCw9GKuP,YAAa,SAAqB1d,GAChC,MAAOA,GAAMkX,QAAQC,KgCx9G5BhJ,ShC09GK+J,MAAO,SAAelY,GACpB,MAAOA,GAAMkX,QAAQ7U,OgC19G5B6V,OhC49GK3kB,QAAS,SAAiByM,GACxB,MAAOA,GAAMkX,QAAQC,KgC39G5B5jB,ShC89GKu1B,OAAQ,SAAgB9oB,GACtB,MAAOA,GAAM1R,YAAYsyB,MgC99GhCzxB,GhCg+GK45B,OAAQ,SAAgB/oB,GACtB,MAAOA,GAAM1R,YAAYsyB,MgCh+GhCvxB,GhCk+GK25B,WAAY,SAAoBhpB,GAC9B,MAAOA,GAAM2B,OAAOR,QgCl+G3ByB,oBhCo+GKqmB,aAAc,SAAsBjpB,GAClC,MAAOuiB,GAAE2G,MAAMlpB,EAAM2B,OAAOR,QAAQyB,mBgCp+G3C,UhCs+GKumB,YAAa,SAAqBnpB,GAChC,MAAOuiB,GAAEzkB,QAAQkC,EAAMtG,SgCr+G9B,gBAfA,EAAAkgB,EAAAqI,ahCu/GKE,agCt+GL,2BhCu+GKiH,qBgCt+GL,mChCu+GKC,qBgCt+GL,2ChCu+GKC,agCt+GL,2BhCu+GKC,egCt+GL,6BhCu+GKnH,iBgCt+GL,+BhCu+GKoH,yBgCt+GL,uChCu+GKC,qBgCr+GL,sChCu+GKC,iBAAkB,WAChB,OAAQryB,KAAKoyB,qBgCt+GpBtzB,MhCu+GS,IAAK,iBACH,MgCv+GX,kBhCw+GS,KAAK,gBACH,MgCx+GX,iBhCy+GS,KAAK,cACH,MgCz+GX,ehC0+GS,KAAK,gBACH,MgC1+GX,iBhC2+GS,KAAK,oBACH,MgC3+GX,qBhC4+GS,SACE,KAAM,IAAIiC,OAAM,oCAAsCf,KAAKoyB,qBgC3+GtEtzB,QhC++GKwxB,cACE1nB,IAAK,WACH,MAAO5I,MAAKujB,OAAOpB,QAAQ,6BAE7BiI,IAAK,SAAanY,GAChBjS,KAAKujB,OAAOpa,SAAS,wCAA0CxG,GAAIsP,EAAKtP,OAG5E2vB,qBAAsB,WACpB,MAAOtyB,MAAK+qB,iBAAiBjsB,MAE/ByzB,2BAA4B,WAC1B,MAAOvyB,MAAK+qB,iBAAiByH,YAG/BC,qBACE7pB,IAAK,WACH,MAAO5I,MAAKujB,OAAOpB,QAAQ,oCAE7BiI,IAAK,SAAanY,GAChBjS,KAAKujB,OAAOpa,SAAS,wCAA0CxG,GAAIsP,EAAKtP,OAG5E+vB,4BACE9pB,IAAK,WgCz/GZ,MACA,eADA5I,KAAAujB,OAAA5a,MAAA1R,YAAA2tB,kBAAA0M,SACAtxB,KAAAujB,OAAA5a,MAAA1R,YAAA2tB,kBACA+N,uBhC0/GOvI,IAAK,SAAaznB,GAChB3C,KAAKujB,OAAOpa,SAAS,6CgCx/G9BxG,ShC4/GK0e,OACEzY,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQuB,KAAKC,OAExC+I,IAAK,SAAaC,GAChBrqB,KAAKujB,OAAOpa,SAAS,uBAAyBkY,MAAOgJ,MAGzD/I,OACE1Y,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQuB,KAAKE,OAExC8I,IAAK,SAAaC,GAChBrqB,KAAKujB,OAAOpa,SAAS,uBAAyBmY,MAAO+I,MAGzD9I,OACE3Y,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQuB,KAAKG,OAExC6I,IAAK,SAAaC,GAChBrqB,KAAKujB,OAAOpa,SAAS,uBAAyBoY,MAAO8I,MAGzD7I,OACE5Y,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQuB,KAAKI,OAExC4I,IAAK,SAAaC,GAChBrqB,KAAKujB,OAAOpa,SAAS,uBAAyBqY,MAAO6I,MAGzDuI,cAAe,WgCtgHpB,GAAA9uB,GAAA9D,KhCygHW6yB,EAAqB7yB,KAAKujB,OAAO5a,MAAM2B,OAAON,QAAQU,UAAU,SAAUT,GAC5E,MAAOA,KAAMnG,EgCzgHtBgnB,chC2gHO,OAA2B,KAAvB+H,EACK,KAEF7yB,KAAKujB,OAAO5a,MAAM2B,OAAON,QAAQ6oB,EgC5gH/C,IhC8gHKC,sBAAuB,WgC5gH5B,GAAA7uB,GAAAjE,IhC+gHO,OAAKA,MAAK4yB,cAGH5yB,KAAKujB,OAAO5a,MAAMtG,SAASI,KAAK,SAAUuS,GAC/C,MAAOA,GAAErS,KAAOsB,EAAO2uB,cgCjhHhC3c,chC8gHgB,MAMX8c,sBAAuB,WACrB,MAAI/yB,MAAKwxB,sBAAwBxxB,KAAK8yB,sBAC7B9yB,KAAKgzB,qBAAqBhzB,KAAK8yB,uBAAyB/Q,gBgClhHxE,QhCshHK5X,OAAQ,WgClhHb,GAAAxF,GAAA3E,IhCqhHO,OAAOA,MAAK8qB,agCphHnB3gB,OAAArN,IAAA,SAAAuzB,GACA,SAAAjyB,EAAAnI,YACAo6B,GAIA4C,QACA,UADAtuB,EAAA4sB,aACA5sB,EACA2rB,cAAA3rB,EAAA2rB,aAAA3tB,KAAA0tB,EACA1tB,GACAuwB,UACA,UADAvuB,EAAA4sB,eACA5sB,EAAA2rB,cAAA3rB,EAAA2rB,aAAA3tB,KAAA0tB,EAGA1tB,ShC6gHKwwB,SAAU,WACR,GAAIC,GAAuBpzB,KAAKgzB,qBAAqBhzB,KgCxgH5D+xB,qBhCygHO,OAAO/xB,MAAK+yB,sBAAwB/yB,KAAK+yB,sBAAsBntB,OAAOwtB,GgCxgH7EA,GhC0gHKC,uBAAwB,WgCxgH7B,GAAAtuB,GAAA/E,IhC2gHO,OAAOkrB,GgC1gHdnZ,QAAA/R,KAAA8qB,aAAA5gB,OAAApN,IAAA,SAAAuM,GhC2gHS,MAAOA,GgCzgHhBgD,qBAAAvP,IAAA,SAAAsP,GACA,SAAAhO,EAAAnI,YACAmW,EAAA6S,EAAAhpB,QAAA4M,YAAAuJ,EAAA1I,UAAAqB,EACAgtB,uBhCwgHapvB,GAAIyJ,EgCvgHjBzJ,GhCwgHa7D,KgCvgHb,uBhCwgHakF,QAASqF,EgCtgHtBrF,gBhC2gHK4b,WAAY,WgCvgHjB,GAAAxZ,GAAApG,IhC0gHO,OAAOA,MAAKgyB,qBgCzgHnB9tB,MAAAhB,OAAA,SAAAiB,GhC0gHS,MAAO+mB,GAAEzoB,KAAK2D,EAAO0kB,aAAa5gB,QAAUlG,QAASG,EgCzgH9DxB,QhC4gHK2wB,WAAY,WACV,MAAOpI,GAAEzkB,QAAQzG,KAAK4f,WgC1gH7B,UhC4gHK2T,aAAc,WgC1gHnB,GAAAC,GAAAxzB,IhC6gHO,OAAOA,MAAK8xB,YAAY5uB,OAAO,SAAUoM,GgC5gHhD,MAAAkkB,GAAAnS,OAAA/R,EAAAxX,GAAAwX,EAAAxX,GAAA07B,EACAjS,OAAAiS,EAAAlS,OAAAhS,EAAAtX,GAAAsX,EAAAtX,GAAAw7B,EAEAhS,WhC8gHG8I,OACEjE,YAAa,WACXrmB,KAAKyzB,kBAEPv3B,QAAS,WACP8D,KAAK0zB,cAEPrC,YAAa,WACXrxB,KAAK2zB,QAEPR,SAAU,WACRnzB,KAAK2zB,QAEPxpB,OAAQ,WACNnK,KAAK2zB,QAEPhC,WAAY,WACV3xB,KAAK2zB,QAEPpC,YAAa,WACXvxB,KAAKgC,UACLhC,KgCphHP2zB,OhCqhHO3zB,KgCphHP4zB,kBhCqhHgC,UAArB5zB,KAAKuxB,aAA2BvxB,KAAK8qB,aAAa3gB,OAAO3R,OACtDwH,KgCphHdswB,cAAApF,EAAApM,SAAAoM,EAAApuB,IAAAkD,KAAA8qB,aAAA3gB,OAAA,MAAAnK,KAAAswB,aACA3tB,MhCohHW3C,KAAKswB,aAAetwB,KAAK8qB,aAAa3gB,OgClhHjD,IhCohHmB+gB,EAAEpM,SAASoM,EAAEpuB,IAAIkD,KAAK8qB,aAAa5gB,OAAQ,MAAOlK,KAAKyyB,oBAAoB9vB,MACrF3C,KAAKyyB,oBAAsBzyB,KAAK8qB,aAAa5gB,OgClhHtD,KhCqhHK+nB,aAAc,WACZjyB,KAAKgC,UACLhC,KgClhHP2zB,QhCohHKzB,eAAgB,WACdlyB,KAAKgC,UACLhC,KgClhHP2zB,QhCohHKrK,UAAW,SAAmBuK,EAAcC,GACtCD,EAAaxsB,EAAI,GACnBye,EAAG2D,OAAO,aAAaK,UAAU,iBAAiBiK,MAAM,UgCjhHjE,QhCmhHSjO,EAAG2D,OAAO,aAAaK,UAAU,iBAAiBiK,MAAM,UgCjhHjE,aAKAnN,SAAA,EAAAxoB,EAAAnI,YAAAi5B,EAAAj5B,ShCihHK+9B,iBAAkB,SAA0B7gB,GgC9gHjD,GAAA8gB,GAAAj0B,IhCihHO,OAAOA,MAAK8qB,agChhHnB3e,QAAArP,IAAA,SAAAsX,GhCihHS,OAASA,EAAGA,EAAG1R,EAAGwoB,EAAEzoB,KAAKwxB,EAAOjC,qBAAqBxvB,OAASG,GAAIyR,EgChhH3EhS,ahCihHUtF,IAAI,SAAU7D,GgChhHxB,GAAAmb,GAAAnb,EAAAmb,EhCkhHa1R,EAAIzJ,EAAKyJ,EAETwxB,EAAOD,EAAOE,kBAAkBzxB,EgCnhH7C0R,GhCqhHaggB,GAAwB,EAAInhB,EAAS9X,wBAAwBgY,EgCphH1E+gB,GhCqhHa54B,EAAO84B,EAAsB94B,IgCphH1C,UAAA8C,EAAAnI,YACAi+B,GhCshHWvxB,GAAIyR,EgCrhHfzR,GhCshHW7D,KgCrhHX,WAEAxD,MhCuhHK+4B,yBAA0B,SAAkClhB,GAC1D,GAAkC,uBAA9BnT,KAAKsyB,qBACP,MAAOtyB,MAAKg0B,iBgCphHrB7gB,EhCqhHc,IAAkC,oCAA9BnT,KAAKsyB,qBACd,MAAOtyB,MgCphHhBqzB,sBhCshHS,MAAM,IAAItyB,OAAM,+BAAiCf,KgCphH1DsyB,uBhCuhHK6B,kBAAmB,SAA2B5xB,EAAMxI,GgCphHzD,GhCshHWiD,IgCthHXjD,EAAAqI,QhCshHmBrI,EAAMiD,OACd+R,EAAuBhV,EAAMgV,qBgCthHxCF,EAAAqc,EAAAzoB,KAAAzC,KAAA2xB,YAAAhvB,GACAoM,IhCwhHWyE,GAAS,EAAI8L,EAAUpK,gBAAgB3S,GgCvhHlDvF,SACA,UAAAoB,EAAAnI,aAAA,EAAAqpB,EAAA/L,uBAAAhR,EAAAiR,EACA3E,IhCuhHSH,uBAAwBG,EgCthHjCH,uBhCuhHSvS,MAAO0S,EgCthHhB1S,MhCuhHSD,QAAS2S,EgCrhHlBwI,kBhCwhHKid,cAAe,SAAuBtvB,GgCthH3C,GAAAuvB,GAAAv0B,IhCyhHO,OAAOkrB,GgCxhHdzkB,QAAAzB,EACAxC,MAAA,SAAAE,GhCwhHS,MAAOwoB,GAAEhoB,OAAOqxB,EAAOzJ,aAAa3e,SAAW/J,QAASM,EgCvhHjEC,KAAA7F,IAAA,SAAAsX,GACA,SAAAhW,EAAAnI,YAAAs+B,EAAAJ,kBAAAzxB,EACA0R,IhCuhHaogB,SAAUpgB,EAAEzR,KAAO4xB,EgCthHhC7B,2BhCuhHa+B,gBAAiBrgB,EAAEzR,KAAO4xB,EgCrhHvCxE,gChC0hHKiD,qBAAsB,SAA8B3wB,GgCxhHzD,GAAAqyB,GAAA10B,KhC2hHW20B,EAAoBp8B,UAAUC,OAAS,GAAsBC,SAAjBF,UAAU,GAAmBA,UAAU,MgC1hH9FymB,EAAAC,EAAAhpB,QAAAkQ,YACA9D,GhC4hHW8wB,EAAWnU,EAAK9a,MAAMpH,IAAI,SAAUkI,GgCzhH/C,GAAA4vB,GAAAxF,EAAAn5B,QAAAmU,aAAAsqB,EAAAnR,OAAA5a,MAAA2B,OAAAtF,EAEArC,IhCyhHaX,EAASgD,EAAK/B,SAASuE,MAAM,GAAG,GAChCqtB,GAAU,EAAIz2B,EAAUnI,UAC1B+N,QAASgB,EgCxhHpBrC,GhCyhHWgI,KAAMiqB,EgCxhHjBjqB,KhCyhHWmqB,UAAWF,EgCxhHtB91B,KhCyhHWkP,MAAO4mB,EgCxhHlB5mB,MACAhM,ShCyhHW+yB,cAAeL,EAAQM,qBgCxhHlChzB,GhCyhHWmK,QAASuoB,EAAQJ,cgCxhH5BtvB,GhCyhHWqH,sBAAuBuoB,EAAMvoB,0BgCxhHxCvP,IAAA,SAAAsP,GACA,SAAAhO,EAAAnI,YAAAgpB,EAAAhpB,QAAA4M,YAAAuJ,EAAA1I,UACArB,IhCwhHemyB,SAAUpoB,EAAGzJ,KAAO+xB,EgCvhHnChC,2BhCwhHe+B,gBAAiBroB,EAAGzJ,KAAO+xB,EgCthH1C3E,8BAEA4E,EhCwhHS,KAAK3yB,EAAOxJ,OACV,MgCvhHX,KhC0hHS,IAAmB,UAAfo8B,EAAM91B,KACR,GAA4B,kBAAxB41B,EAAQrD,YgCthHvB,ChCuhHa,GAAIvhB,GAAcsf,EAAUn5B,QAAQ4T,oBAAoB6qB,EAAQnR,OAAO5a,MAAM2B,OAAQsqB,EgCthHlG7kB,gBhCuhHa8kB,GAAQ7mB,MAAQ8B,EAAcA,EAAY9B,MAAQshB,EAAUr5B,QAAQ+U,OAAOS,QgCthHxFC,YhCuhHkB,IAA4B,gBAAxBgpB,EAAQrD,YgCthH9B,ChCuhHa,GAAIrhB,GAAYof,EAAUn5B,QAAQ4T,oBAAoB6qB,EAAQnR,OAAO5a,MAAM2B,OAAQsqB,EgCthHhG3kB,chCuhHa4kB,GAAQ7mB,MAAQgC,EAAYA,EAAUhC,MAAQshB,EAAUr5B,QAAQ+U,OAAOS,QgCthHpFC,YhCuhHkB,IAA4B,mBAAxBgpB,EAAQrD,YgCthH9B,ChCuhHa,GAAI1hB,GAAeyf,EAAUn5B,QAAQ4T,oBAAoB6qB,EAAQnR,OAAO5a,MAAM2B,OAAQsqB,EgCthHnGhlB,iBhCuhHailB,GAAQ7mB,MAAQ2B,EAAeA,EAAa3B,MAAQshB,EAAUr5B,QAAQ+U,OAAOS,QgCthH1FC,YhCuhHkB,IAA4B,kBAAxBgpB,EAAQrD,YgCthH9B,ChCuhHa,GAAI4D,GAAc7F,EAAUn5B,QAAQ4T,oBAAoB6qB,EAAQnR,OAAO5a,MAAM2B,OAAQsqB,EgCthHlGtkB,gBhCuhHaukB,GAAQ7mB,MAAQinB,EAAcA,EAAYjnB,MAAQshB,EAAUr5B,QAAQ+U,OAAOS,QgCthHxFC,YhCuhHkB,IAA4B,sBAAxBgpB,EAAQrD,YgCthH9B,ChCuhHa,GAAInhB,GAAkBkf,EAAUn5B,QAAQ4T,oBAAoB6qB,EAAQnR,OAAO5a,MAAM2B,OAAQsqB,EgCthHtGzkB,oBhCuhHa0kB,GAAQ7mB,MAAQkC,EAAkBA,EAAgBlC,MAAQshB,EAAUr5B,QAAQ+U,OAAOS,QgCthHhGC,QhCyhHS,MgCrhHTmpB,IhCwhHO,OAAO3J,GAAEuB,QgCrhHhB0G,QhC4hHM,SAAUx9B,EAAQC,EAASC,GAEhC,YAgBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAdvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GiCl7HxCokB,EAAA1sB,EAAA,GAGAod,EAAApd,EAAA,IjCq7HKopB,EAAYnpB,EAAuBmd,EAIvCrd,GAAQK,SACN0U,KiCx7HH,cjCy7HG6Y,QAAS,WACPzsB,OAAOC,SAASysB,IAAI,cAAezjB,KAAKk1B,aAAaC,KiCx7H1Dn1B,QAEAykB,UAAA,EAAArmB,EAAAnI,aAAA,EAAAssB,EAAAmC,WjC07HK0Q,SAAU,SAAkBzsB,GiCx7HjC,GAAA0sB,GAAA1sB,EAAA1R,YAAAsyB,MACAzxB,EjCy7HWw9B,EAASD,EAAsBC,OAC/BC,EAAWF,EAAsBE,QAErC,OAAOD,IAAUC,EAAS,GAAKA,EiC37HtC,KjC87HK/T,MAAO,SAAe7Y,GACpB,MAAOA,GAAMkX,QAAQuB,KiC77H5BI,OjC+7HKF,MAAO,SAAe3Y,GACpB,MAAOA,GAAMkX,QAAQuB,KiC/7H5BE,OjCi8HKD,MAAO,SAAe1Y,GACpB,MAAOA,GAAMkX,QAAQuB,KiCj8H5BC,OjCm8HKE,MAAO,SAAe5Y,GACpB,MAAOA,GAAMkX,QAAQuB,KiCl8H5BG,UATA,EAAAgB,EAAAqI,ajC88HKE,aiCj8HL,8BjCm8HGlE,SACEsO,aAAc,WACZl1B,KAAKinB,MAAMuO,WiCl8HlBC,SjCo8HKC,YAAa,SAAqBC,GAiChC,IAAK,GAhCDC,GAAQD,EAAMtiB,OiCl8HzBuiB,MjCm8HWC,EiCl8HX71B,KAFA81B,EAAA,SAAA3uB,GjCu8HS,GAAI4uB,GAAOH,EiCn8HpBzuB,GjCo8Ha6uB,EAAS,GiCl8HtBC,WjCo8HSD,GAAOhS,iBAAiB,OAAQ,WAC9B,GAAIza,GAAQ,GiCn8HvBqN,MjCo8HWrN,GAAM2sB,OAAS,WACb,GAAIC,GAAY5sB,EAAMwN,OAAS8e,EAAKT,SiCn8HjD,EjCo8HiBgB,EAAW7sB,EAAMpN,MAAQ05B,EAAKT,SiCn8H/C,CjCo8HaS,GAAKtS,OAAOpa,SAAS,8BACnBiW,SAAUyW,EAAK/K,aiCn8H9BnoB,GjCo8HekU,IAAKtN,EiCl8HpBsN,IjCo8HelM,KAAMsU,EAAUhpB,QAAQoU,aAAawrB,EAAKtS,OAAO5a,MAAM2B,OAAQ,SAAUurB,EiCl8HxF/K,cjCo8He/T,OiCn8Hfof,EjCo8Heh6B,MiCn8Hfi6B,EjCo8Het+B,GAAI+9B,EAAKxU,MAAQwU,EAAKtU,OiCn8HrC,EjCo8HevpB,GAAI69B,EAAKvU,MAAQuU,EAAKrU,OiCl8HrC,IjCo8HaqU,EAAK5O,MAAMuO,WAAWt3B,MiCn8HnC,IjCq8HWqL,EAAMsN,IAAMmf,EiCn8HvBltB,SACA,GjCo8HaitB,GACFC,EAAOK,cAAcN,IAIhB5uB,EAAI,EAAGA,EAAIyuB,EAAMp9B,OAAQ2O,IiCh+HzC2uB,EAAA3uB,OjCy+HM,SAAUxR,EAAQC,EAASC,GAEhC,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GARvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GkC7gIV,IAAAke,GAAAvmB,EAAA,IlCkhIKwmB,EAAcvmB,EAAuBsmB,EAIzCxmB,GAAQK,SACN0U,KkCrhIH,OlCshIGtT,YkCnhIHqnB,SAAArC,EAAApmB,WlC0hIM,SAAUN,EAAQC,EAASC,GAEhC,YAgBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAdvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GmC9gIxCokB,EAAA1sB,EAAA,GAGAod,EAAApd,EAAA,GnCihIKopB,EAAYnpB,EAAuBmd,EAIvCrd,GAAQK,SACN0U,KmCphIH,YnCqhIGyY,KAAM,WACJ,OACEkT,mBmCphIP,EnCqhIOC,gBmCnhIP,InCuhIG3P,SACE4P,WAAY,SAAoBnyB,GAC9B,GAAI9B,GAAOvC,KAAKsE,UAAUD,EmCrhIjCjC,QnCshIO,IAAIiC,EAAQG,QmCrhInB,CnCshIS,GAAI8d,GAAKtiB,KAAK6C,YAAYN,EmCrhInCS,GnCshIS,OAAO,MAAQsf,EAAG3f,GAAK,KAAO2f,EAAGxqB,EAAI,KAAOwqB,EmCrhIrDtqB,EAAA,InCuhIO,GAAI2L,GAAI3D,KAAK6C,YAAYN,EmCrhIhCO,GnCshIO,OAAO,MAAQa,EAAEhB,GAAK,KAAOgB,EAAE7L,EAAI,KAAO6L,EmCrhIjD3L,EAAA,KnCuhIKy+B,SAAU,SAAkBpyB,GAC1B,GAAI9B,GAAOvC,KAAKsE,UAAUD,EmCrhIjCjC,QnCshIO,KAAKiC,EAAQG,QmCrhIpB,CnCshIS,GAAIkyB,GAAM12B,KAAK6C,YAAYN,EmCrhIpCS,GnCshIS,OAAO0zB,GAAI/zB,GAAK,UAAY+zB,EAAI5+B,EAAI,KAAO4+B,EmCrhIpD1+B,EAAA,InCuhIO,GAAI2L,GAAI3D,KAAK6C,YAAYN,EmCrhIhCO,GnCshIO,OAAOa,GAAEhB,GAAK,UAAYgB,EAAE7L,EAAI,KAAO6L,EmCrhI9C3L,EAAA,KnCuhIKsM,UAAW,SAAmB3B,GAC5B,MAAOsc,GAAUhpB,QAAQqO,UAAU3B,EAAI3C,KAAK+xB,uBAE9ClvB,YAAa,SAAqBF,GAChC,MAAOsc,GAAUhpB,QAAQ4M,YAAYF,EAAI3C,KAAK+xB,wBmCthIrDtN,UAAA,EAAArmB,EAAAnI,aAAA,EAAAssB,EAAAqI,anC0hIKE,amCxhIL,2BnCyhIK6L,wBmCxhIL,sCnCyhIK5E,qBmCxhIL,mCnCyhIKE,amCxhIL,2BnCyhIKC,emCthIL,kCnC4hIM,SAAUv8B,EAAQC,EAASC,GAEhC,YA8BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GoC1mIxF,QAAA6gC,GAAA/qB,GAEA,kBAAAA,EACA,eAAAqf,EAAApM,SAAArS,EAAA1B,eAAAc,GACA,sBAAAqf,EAAApM,SAAArS,EAAA3B,qBAAAe,GACA,uBAAAqf,EAAApM,UAAA,kCAAAjT,GACA,2BACA,sBpCukIC7N,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIwU,GAAa7c,EAAoB,GAEjC4b,EAAc3b,EAAuB4c,GAErCvU,EAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GoC/lIxCokB,EAAA1sB,EAAA,GACAqS,EAAArS,EAAA,IpComIKsS,EAAcrS,EAAuBoS,GoCnmI1C2uB,EAAAhhC,EAAA,KpCumIKihC,EAAuBhhC,EAAuB+gC,GoCtmInD5jB,EAAApd,EAAA,IpC0mIKopB,EAAYnpB,EAAuBmd,GoCzmIxCxG,EAAA5W,EAAA,GpCmnICD,GAAQK,SACN0U,KoCrmIH,UpCsmIG8R,OAAQ,cAAe,OAAQ,kBoCrmIlC,WACAgI,UAAA,EAAArmB,EAAAnI,UpCsmIK8gC,mBAAoB;AAClB,MAAO/2B,MAAKg3B,YAAYl6B,IAAI,SAAUm6B,GACpC,OACE5M,IoCtmIX4M,EpCumIWpI,QAAS1mB,EAAYlS,QAAQghC,GoCrmIxCzuB,gBpCymIKuF,QAAS,WACP,MAAK5F,GAAYlS,QAAQ+J,KAAK6L,MACvB1D,EAAYlS,QAAQ+J,KAAK6L,MoCvmIvCkC,YpC0mIK+c,cACEliB,IAAK,WACH,MAAO5I,MAAKujB,OAAOpB,QAAQ,6BAE7BiI,IAAK,SAAahhB,GAChBpJ,KAAKujB,OAAOpa,SAAS,iCAAmCxG,GAAIyG,EAAMzG,OAItE8vB,qBACE7pB,IAAK,WACH,MAAO5I,MAAKujB,OAAOpB,QAAQ,oCAE7BiI,IAAK,SAAanY,GAChBjS,KAAKujB,OAAOpa,SAAS,wCAA0CxG,GAAIsP,EAAKtP,OAG5EyvB,sBACExpB,IAAK,WACH,MAAO5I,MAAKujB,OAAOpB,QAAQ,qCAE7BiI,IAAK,SAAanY,GAChBjS,KAAKujB,OAAOpa,SAAS,yCAA2CxG,GAAIsP,EAAKtP,OAG7Eu0B,qBACEtuB,IAAK,WACH,MAAO5I,MAAKujB,OAAOpB,QAAQ,2CAE7BiI,IAAK,SAAanY,GAChBjS,KAAKujB,OAAOpa,SAAS,+CAAiDxG,GAAIsP,EAAKtP,OAGnFwvB,0BACEvpB,IAAK,WACH,MAAO5I,MAAKujB,OAAOpB,QAAQ,yCAE7BiI,IAAK,SAAa+M,GAChBn3B,KAAKujB,OAAOpa,SAAS,6CAA+CxG,GAAIw0B,EAAGx0B,OAI/Ey0B,gBACExuB,IAAK,WACH,MAAO5I,MAAKA,KoCznIrBq3B,oBpC2nIOjN,IAAK,SAAanY,GAChBjS,KAAKA,KAAKq3B,mBoCznInBplB,IpC4nIKolB,kBAAmB,WACjB,MAAOT,GAAW52B,KoCznIzB6L,SpC2nIM,EAAI0W,EAAMmC,WACX1a,QAAS,SAAiBrB,GACxB,MAAOA,GAAM2B,OoC1nIpBN,SpC4nIKsnB,QAAS,SAAiB3oB,GACxB,MAAOA,GAAM1R,YAAY2tB,kBoC3nIhC0M,YpC8nIKpnB,OAAQ,WACN,MAAOlK,MAAK8qB,aAAa5gB,QAE3BZ,QAAS,WACP,MAAOtJ,MAAK8qB,aAAaxhB,SAE3Ba,OAAQ,WACN,MAAOnK,MAAK8qB,aAAa3gB,QAE3BgC,QAAS,WACP,MAAOnM,MAAK8qB,aAAa3e,SAE3BE,qBAAsB,WACpB,MAAO6e,GAAEzkB,QAAQzG,KAAK8qB,aAAa5gB,OAAQ,SAAUD,GACnD,MAAOA,GoCtoIhBoC,wBpCyoIKigB,KAAM,WACJ,MAAOpB,GoCvoIdpM,UAAA,gDACA,wBAAA9e,KACA6L,MAAA7L,UAAA6L,MAAA7L,KAAAujB,OAAA5a,MAAA2B,OAAAR,QAAA9J,KACA6L,OpCsoIKyrB,sBAAuB,WACrB,MAAOpM,GAAEpM,UAAU,UAAW,wBAAyB9e,KoCpoI9D6L,OpCsoIK0rB,gBAAiB,WACf,MAAqB,YAAdv3B,KAAK6L,MoCpoInB,cpCooIyC7L,KAAKsxB,SAGzCkG,cACE5uB,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAM1R,YAAY2tB,kBAAkB/Y,MAEzDue,IAAK,SAAave,GAChB7L,KAAKujB,OAAOpa,SAAS,8BAAgC0C,KAAMA,QAIjEye,OACEgC,KAAM,WACEtsB,KAAKo3B,gBAAkBlM,EAAEpM,SAASoM,EAAEpuB,IAAIkD,KAAKssB,KAAM,MAAOtsB,KAAKo3B,eAAez0B,OAAQ3C,KAAKssB,KAAK9zB,OAAS,KAC7GwH,KAAKo3B,eAAiBp3B,KAAKssB,KoCzoIpC,KpC4oIKzgB,KAAM,SAAc4rB,EAAUC,GACC,yBAAzBd,EAAWa,GACbz3B,KAAKw3B,aAAex3B,KoCzoI7B6L,KpC0oI0C,yBAAxB+qB,EAAWc,KACpB13B,KAAKw3B,aoCzoId,YpC6oIG5Q,SACE+Q,WAAY,SAAoBC,GAC9B,IAAK1M,EAAEpM,SAAS9e,KAAKg3B,YAAaY,GAChC,KAAM,IAAI72B,OAAM,kBAAoB62B,EAAU,gBAAiB,EAAInmB,EAAYxb,SAAS+J,KoCzoIjGg3B,apC2oIOh3B,MAAKwpB,MAAM,aoCzoIlBoO,IpC2oIKC,aAAc,SAAsBC,EAAOpK,EAASxvB,GAClD,GAAI8B,KAAKs3B,sBACP,MAAOt3B,MAAKsrB,wBAAwBwM,EAAOpK,EoCzoIpDxvB,EpC2oIO,IAAIuQ,GAAMyc,EAAEzoB,KAAKzC,KAAKssB,MAAQ3pB,GoCzoIrCm1B,IpC0oIWhvB,EAASmW,EAAUhpB,QAAQ4S,eAAe4F,EAAKzO,KAAKujB,OAAQvjB,KAAK6L,KAAM6hB,EoCzoIlFxvB,EpC0oIY4K,GAAOC,SACVhS,OAAOC,SAASwyB,MAAM,QAAS1gB,EoCzoIxC1H,QpC4oIKkqB,wBAAyB,SAAiC3oB,EAAI0F,EAAKnK,GACjE,GAAkB,YAAd8B,KAAK6L,KACP7L,KAAKujB,OAAOpa,SAAS,uBAAyBxG,GAAIA,EAAI0F,IAAKA,EAAKnK,MAAOA,EAAOkhB,SAAUpf,KAAK8qB,aoCzoItGnoB,SpC0oIc,IAAkB,yBAAd3C,KAAK6L,KAGd,KAAM,IAAI9K,OAAM,gCAAkCf,KoCzoI3D6L,KAAA,IpCuoIS7L,MAAKujB,OAAOpa,SAAS,mCAAqCxG,GAAIA,EAAI0F,IAAKA,EAAKnK,MAAOA,EAAOkhB,SAAUpf,KAAK8qB,aoCzoIlHnoB,OpC8oIKo1B,aAAc,WACZ,OAAQ/3B,KoCroIf6L,MpCsoIS,IoCroIT,UAEA,WpCooIW7L,MAAKujB,OAAOpa,SoCroIvB,mBpCuoIS,KoCroIT,SpCsoIWnJ,KAAKujB,OAAOpa,SAAS,oBAAsBC,MAAOpJ,KoCroI7D8qB,cACA,MpCsoIS,KoCroIT,UpCsoIW9qB,KAAKujB,OAAOpa,SAAS,sBAAwBC,MAAOpJ,KoCroI/D8qB,cACA,MpCsoIS,KoCroIT,SpCsoIW/zB,OAAOC,SAASwyB,MoCroI3B,cACA,MpCsoIS,KoCroIT,UpCsoIS,IoCroIT,uBpCsoIWzyB,OAAOC,SAASwyB,MAAM,QoCroIjC,8DACA,MACA,SpCsoIWxpB,KAAKujB,OAAOpa,SAAS,+BAAiCrK,KAAMkB,KoCroIvE6L,OpCwoIO7L,KoCroIPg4B,gBpCuoIKA,aAAc,WACZ,GAAIC,GAAY/M,EAAE6B,MAAM/sB,KAAKssB,KAAM,SAAU9qB,GAC3C,OAAQA,EoCtoIjBmB,IpCwoIYs1B,KAGLj4B,KAAKo3B,eoCzoIZa,IpC2oIKC,cAAe,SAAuBxvB,GoCroI3C,GAAApG,GAAAtC,IpCwoIO,QAAQA,KoCvoIf6L,MpCwoIS,IoCvoIT,UAEA,WpCsoIW7L,MAAKujB,OAAOpa,SAAS,uBAAyBC,MoCvoIzDV,GpCyoIS,KoCvoIT,SpCwoIW1I,KAAKujB,OAAOpa,SAAS,uBACnBE,MoCvoIbX,EpCwoIaU,MAAOpJ,KAAKujB,OAAO5a,MAAM2B,OAAON,QAAQvH,KAAK,SAAU2G,GACrD,MAAOA,GAAM9G,EAAMuJ,MAAMpJ,KAAK,SAAU01B,GACtC,MAAOA,GAAEx1B,KAAO+F,EoCxoIjC/F,QACA,MpC4oIS,KoC3oIT,UpC4oIW3C,KAAKujB,OAAOpa,SAAS,yBACnBG,QoC3oIbZ,EpC4oIaU,MAAOpJ,KAAKujB,OAAO5a,MAAM2B,OAAON,QAAQvH,KAAK,SAAU2G,GACrD,MAAOA,GAAM9G,EAAMuJ,MAAMpJ,KAAK,SAAU01B,GACtC,MAAOA,GAAEx1B,KAAO+F,EoC5oIjC/F,QACA,MpCgpIS,KoC/oIT,SpCgpIW3C,KAAKujB,OAAOpa,SAAS,uBACnBI,MoC/oIbb,EpCgpIaU,MAAOpJ,KAAKujB,OAAO5a,MAAM2B,OAAON,QAAQvH,KAAK,SAAU2G,GACrD,MAAOA,GAAM9G,EAAMuJ,MAAMpJ,KAAK,SAAU01B,GACtC,MAAOA,GAAEx1B,KAAO+F,EoChpIjC/F,QACA,MpCopIS,KoCnpIT,qBpCopIW3C,KAAKujB,OAAOpa,SAAS,2BoCnpIhCT,UACA,MpCopIS,KoCnpIT,kCpCopIW1I,KAAKujB,OAAOpa,SAAS,uCoCnpIhCT,UACA,MpCopIS,KoCnpIT,UpCopIW1I,KAAKujB,OAAOpa,SAAS,wBAA0BiW,SAAUpf,KAAK8qB,aAAanoB,GoCnpItF+F,UACA,MpCopIS,KoCnpIT,uBpCopIW1I,KAAKujB,OAAOpa,SAAS,oCAAsCiW,SAAUpf,KAAK8qB,aAAanoB,GoCnpIlG+F,UACA,MACA,SpCopIW1I,KAAKujB,OAAOpa,SAAS,wBoCnpIhCT,cpCwpIGrR,YoChpIH+gC,mBAAAtB,EAAA7gC,WpCupIM,SAAUN,EAAQC,EAASC,GAEhC,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GARvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GqCl3IV,IAAAstB,GAAA31B,EAAA,IrCu3IK41B,EAAW31B,EAAuB01B,EAItC51B,GAAQK,SACN0U,KqC13IH,gBrC23IG8R,OAAQ,OAAQ,iBAAkB,aqC13IrC,erC23IGplB,YqCx3IHs0B,OAAAF,EAAAx1B,WrC+3IM,SAAUN,EAAQC,EAASC,GAEhC,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GsCh4IxCk6B,EAAAxiC,EAAA,ItCo4IKyiC,EAASxiC,EAAuBuiC,GsCj4IrCE,EAAA1iC,EAAA,KtCq4IK2iC,EAAqB1iC,EAAuByiC,EAIhD3iC,GAAQK,SACN0U,KsCx4IH,WtCy4IGyY,KAAM,WACJ,OACEqV,QsCv4IP,KtC24IGhU,UACEiU,OAAQ,WACN,OAAO3hC,OAAOmvB,MAAOnvB,OAAOmvB,IAAIlb,QAASjU,OAAOmvB,IAAIlb,OAAO0tB,QAG7DrT,YACEzc,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQ/iB,IAAI0R,SAEvC4b,IAAK,SAAa5b,GAChBxO,KAAKujB,OAAOpa,SAAS,yBsC94I9BqF,ctCi5IKmW,MACE/b,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAM1R,YAAY2tB,kBAAkBD,MAEzDyF,IAAK,SAAaC,GAChBrqB,KAAKujB,OAAOpa,SAAS,8BAAgCwb,KAAM0F,OAIjEzD,SACE+R,sBAAuB,SAA+BhD,GsCl5I3D,GAAArzB,GAAAtC,KtCq5IW+1B,EAAOJ,EAAMtiB,OAAOuiB,MsCp5I/B,GtCq5IWI,EAAS,GsCp5IpBC,WtCq5IOD,GAAOhS,iBAAiB,OAAQ,WAC9B1hB,EAAMs2B,gBAAgB5C,EsCp5I/BltB,UAEA,GtCq5IWitB,GACFC,EAAO6C,WAAW9C,IAGtB6C,gBAAiB,SAAyBxV,GACxCpjB,KAAKujB,OAAOpa,SAAS,mBACnBqf,YAAa5E,SAASC,eAAe,YsCt5I9C2E,YtCu5ISqB,aAAcjG,SAASC,eAAe,YsCt5I/CgG,atCu5ISzG,KAAM0V,KAAKC,MsCr5IpB3V,KtCu5IOpjB,KAAKwpB,MsCt5IZ,WAIAnyB,YAAA,EAAA+G,EAAAnI,YAAAqiC,EAAAriC,SAEA+iC,iBAAAR,EAAAviC,YtC05IM,SAAUN,EAAQC,GAEvB,YAEAoI,QAAOC,eAAerI,EAAS,cAC7BsI,OAAO,IAETtI,EAAQK,SACN0U,KuC79IH,YvC89IG8R,OuC79IH,SvC89IGmK,SACEqS,MAAO,WACLj5B,KAAKwpB,MuC79IZ,avCo+IM,SAAU7zB,EAAQC,EAASC,GAEhC,YAcA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAZvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIwU,GAAa7c,EAAoB,GAEjC4b,EAAc3b,EAAuB4c,GwCr/I1CwmB,EAAArjC,EAAA,IxCy/IKsjC,EAAcrjC,EAAuBojC,EAIzCtjC,GAAQK,SACN0U,KwC5/IH,cxC6/IG8R,OAAQ,WwC5/IX,kBxC6/IG+G,QAAS,WACPxjB,KAAKinB,MAAMmS,awC5/IhBC,SxC+/IGzS,SACE0S,aAAc,WACZ,GAAI39B,GAAIioB,SAAS2V,cwC7/IxB,IxC8/IO59B,GAAE69B,aAAa,OAAQ,gCAAkCC,oBAAmB,EAAIhoB,EAAYxb,SAAS+J,KwC7/I5G05B,kBxC8/IO/9B,EAAE69B,aAAa,WAAYx5B,KAAKinB,MAAMmS,aAAal7B,MwC7/I1D,SxC8/IOvC,EwC5/IP85B,QxC8/IOvN,QAAQC,IAAI,gBAAiB,EAAI1W,EAAYxb,SAAS+J,KwC7/I7D05B,iBxC8/IO15B,KAAKwpB,MwC7/IZ,WxCggJGnyB,YwC3/IHsiC,UAAAR,EAAAljC,WxCkgJM,SAAUN,EAAQC,EAASC,GAEhC,YAwBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAtBvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GyCngJxCokB,EAAA1sB,EAAA,GACAqjC,EAAArjC,EAAA,IzCwgJKsjC,EAAcrjC,EAAuBojC,GyCvgJ1CU,EAAA/jC,EAAA,KzC2gJKgkC,EAAS/jC,EAAuB8jC,GyCxgJrCE,EAAAjkC,EAAA,KzC4gJKkkC,EAAqBjkC,EAAuBgkC,EAIhDlkC,GAAQK,SACN0U,KyC/gJH,WACA8Z,UAAA,EAAArmB,EAAAnI,aAAA,EAAAssB,EAAAmC,WzCghJKzD,OAAQ,SAAgBtY,GACtB,MAAOA,GAAMkX,QyC/gJpBoB,QzCihJKoE,WAAY,SAAoB1c,GAC9B,MAAOA,GAAMkX,QAAQ/iB,IyChhJ5B0R,YzCmhJKiI,cACE7N,IAAK,WACH,MAAO5I,MAAKihB,OAAOxK,cAErB2T,IAAK,SAAaC,GAChBrqB,KAAKujB,OAAOpa,SAAS,wBAA0Bd,IAAK,eAAgBgiB,IAAKA,MAG7EnJ,eACEtY,IAAK,WACH,MAAO5I,MAAKihB,OAAOC,eAErBkJ,IAAK,SAAaC,GAChBrqB,KAAKujB,OAAOpa,SAAS,wBAA0Bd,IAAK,gBAAiBgiB,IAAKA,MAG9ElJ,YACEvY,IAAK,WACH,MAAO5I,MAAKihB,OAAOE,YAErBiJ,IAAK,SAAaC,GAChBrqB,KAAKujB,OAAOpa,SAAS,wBAA0Bd,IAAK,aAAcgiB,IAAKA,MAG3E9E,WACE3c,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQmB,WAAa,KAEhDoJ,IAAK,SAAa7E,GAChBvlB,KAAKujB,OAAOpa,SAAS,wBAA0B6X,WAAYuE,QAIjEluB,YyCjiJHsiC,UAAAR,EAAAljC,QACA+jC,KAAAH,EAAA5jC,QAEAgkC,iBAAAF,EAAA9jC,WzCuiJM,SAAUN,EAAQC,EAASC,GAEhC,YAsCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GApCvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,G0CzmJxCI,EAAA1I,EAAA,G1C6mJKsH,EAAWrH,EAAuByI,G0C5mJvCgkB,EAAA1sB,EAAA,GAEAod,GADApd,EAAA,IACAA,EAAA,KACAs5B,G1CinJiBr5B,EAAuBmd,G0CjnJxCpd,EAAA,KACAwf,G1ConJiBvf,EAAuBq5B,G0CpnJxCt5B,EAAA,K1CwnJKyf,EAAiBxf,EAAuBuf,G0CvnJ7C6kB,EAAArkC,EAAA,K1C2nJKskC,EAAYrkC,EAAuBokC,G0C1nJxCpO,EAAAj2B,EAAA,G1C8nJuBC,GAAuBg2B,EAM7Cl2B,GAAQK,SACN0U,K0C/nJH,a1CgoJGyY,KAAM,WACJ,OACEgX,iB0C9nJP,IAEA3V,UAAA,EAAArmB,EAAAnI,aAAA,EAAAssB,EAAAqI,a1CioJKG,iB0C9nJL,kCAFA,EAAAxI,EAAAmC,W1CkoJK4M,QAAS,SAAiB3oB,GACxB,MAAOA,GAAM1R,YAAY2tB,kB0CznJhC0M,Y1C4nJKxG,cACEliB,IAAK,WACH,MAAO5I,MAAKujB,OAAOpB,QAAQ,6BAE7BiI,IAAK,SAAahhB,GAChBpJ,KAAKujB,OAAOpa,SAAS,iCAAmCxG,GAAIyG,EAAMzG,OAGtE8vB,qBACE7pB,IAAK,WACH,MAAO5I,MAAKujB,OAAOpB,QAAQ,oCAE7BiI,IAAK,SAAanY,GAChBjS,KAAKujB,OAAOpa,SAAS,wCAA0CxG,GAAIsP,EAAOA,EAAKtP,GAAK,SAIxFuH,OAAQ,WACN,MAAOlK,MAAK8qB,aAAa5gB,QAE3BZ,QAAS,WACP,MAAOtJ,MAAK8qB,aAAaxhB,SAE3Ba,OAAQ,WACN,MAAOnK,MAAK8qB,aAAa3gB,QAE3BkwB,kBAAmB,WACjB,OAAQr6B,K0CxoJfsxB,S1CyoJS,I0CxoJT,Y1CyoJW,OAAQ,SAAU,U0CxoJ7B,S1CyoJS,K0CxoJT,U1CyoJW,O0CxoJX,U1CyoJS,K0CxoJT,a1CyoJW,OAAQ,qB0CxoJnB,kC1CyoJS,K0CxoJT,S1CyoJW,OAAQ,iBAAkB,gBAAiB,cAAe,oB0CvoJrE,mB1C2oJKzlB,MACEjD,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAM1R,YAAY2tB,kBAAkB/Y,MAEzDue,IAAK,SAAave,GAChB7L,KAAKujB,OAAOpa,SAAS,8BAAgC0C,KAAMA,MAG/DyuB,kBACE1xB,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAM1R,YAAY2tB,kBAAkB0V,kBAEzDlQ,IAAK,SAAamQ,GAChBv6B,KAAKujB,OAAOpa,SAAS,0CAA4CmxB,iBAAkBC,QAIzF3T,SACE4T,UAAW,WACLx6B,KAAKo6B,iBAIXK,uBAAwB,WACtBz6B,KAAKwpB,MAAM,aAAcxpB,K0ChpJhCo6B,iB1CipJO9kB,EAAerf,QAAQuzB,M0ChpJ9B,Y1CmpJGc,OACE8P,gBAAiB,WACfp6B,K0C/oJPy6B,0B1CipJKJ,kBAAmB,SAA2BhQ,GACvCltB,EAASlH,QAAQ6oB,SAASuL,EAAKrqB,KAAKs6B,oBAClB,WAAjBt6B,KAAKsxB,QACPtxB,KAAKs6B,iB0C/oJhB,gB1CipJWt6B,KAAKs6B,iBAAmBjQ,E0C/oJnC,M1CopJGhzB,Y0C7oJHqjC,QAAAP,EAAAlkC,W1CopJM,SAAUN,EAAQC,GAEvB,YAEAoI,QAAOC,eAAerI,EAAS,cAC7BsI,OAAO,IAETtI,EAAQK,SACNwuB,UACEkW,SAAU,WACR,GAAIC,GAAa7jC,OAAO8jC,QAAU9jC,O2CnxJzC+jC,G3CoxJWC,EAAShkC,O2CnxJpBikC,U3CoxJWC,EAAaF,E2CnxJxBG,O3CoxJWC,EAAUJ,EAAOK,UAAU5rB,QAAQ,QAAS,EAC5C6rB,EAAWN,EAAOK,UAAU5rB,QAAQ,SAAU,EAC9C8rB,EAAcP,EAAOK,UAAUG,M2ClxJ1C,Q3CoxJO,QAAID,I2ChxJX,O3CkxJkBV,G2CjxJlB,mBADAA,IAEA,gBADAK,GACAE,KACA,GAAAE,KACA,O3CyxJM,SAAU1lC,EAAQC,EAASC,GAEhC,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GARvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,G4ClyJV,IAAAK,GAAA1I,EAAA,G5CuyJKsH,EAAWrH,EAAuByI,EAItC3I,GAAQK,SACN0U,K4C1yJH,e5C2yJG8R,OAAQ,UAAW,QAAS,Q4C1yJ/B,Y5C2yJGgI,UACE+W,eAAgB,WACd,GAAIr+B,EAASlH,QAAQwlC,QAAQz7B,KAAKmO,S4C1yJzC,C5C2yJS,IAAKnO,KAAKmO,QAAQ3V,OAChB,QAEF,IAAI2E,EAASlH,QAAQylC,IAAI17B,KAAKmO,QAAQ,GAAI,QAAUhR,EAASlH,QAAQylC,IAAI17B,KAAKmO,QAAQ,GAAI,WACxF,MAAOnO,M4C1yJlBmO,O5C4yJS,IAAIhR,EAASlH,QAAQ0lC,SAAS37B,KAAKmO,QAAQ,IACzC,MAAOnO,MAAKmO,QAAQrR,IAAI,SAAUq7B,GAChC,OAAS9N,IAAK8N,EAAGtJ,Q4C3yJ9BsJ,K5CgzJO,MADAjQ,SAAQ0T,KAAK,iCAAkC57B,K4C5yJtDmO,S5C6yJcnO,K4C5yJdmO,Y5CmzJM,SAAUxY,EAAQC,EAASC,GAEhC,YAYA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAVvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,G6Cr1JV,IAAA+U,GAAApd,EAAA,IAGAa,EAAAb,EAAA,I7Cy1JKc,EAAiBb,EAAuBY,EAI5Cd,GAAQK,SACNwuB,UACEoX,qBAAsB,WACpB,OAAQ,SAAU,iBAAkB,gBAAiB,cAAe,oB6C51J3E,kB7C81JKC,kBAAmB,WACjB,MAAO97B,MAAK67B,qBAAqB/+B,IAAI,SAAUoC,GAC7C,OACE2vB,SAAS,EAAI5b,EAASrH,oB6C71JjC1M,G7C81JWmrB,I6C51JXnrB,M7Ci2JKmyB,aACEzoB,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAM1R,YAAY2tB,kBAAkB/Y,MAEzDue,IAAK,SAAave,GAChB7L,KAAKujB,OAAOpa,SAAS,8BAAgC0C,KAAMA,OAIjExU,Y6Cj2JH61B,aAAAv2B,EAAAV,W7Cw2JM,SAAUN,EAAQC,EAASC,GAEhC,YA4CA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GA1CvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,G8C7tJxCokB,EAAA1sB,EAAA,GACAkmC,EAAAlmC,EAAA,K9CkuJKmmC,EAAgBlmC,EAAuBimC,G8CjuJ5CE,EAAApmC,EAAA,K9CquJKqmC,EAAapmC,EAAuBmmC,G8CpuJzCvlC,EAAAb,EAAA,I9CwuJKc,EAAiBb,EAAuBY,G8CvuJ7Cuc,EAAApd,EAAA,I9C2uJKopB,EAAYnpB,EAAuBmd,G8C1uJxColB,EAAAxiC,EAAA,I9C8uJKyiC,EAASxiC,EAAuBuiC,G8C7uJrC8D,EAAAtmC,EAAA,K9CivJKumC,EAAqBtmC,EAAuBqmC,G8ChvJjDE,EAAAxmC,EAAA,K9CovJKymC,EAA6BxmC,EAAuBumC,G8C9uJzD5vB,EAAA5W,EAAA,I9CkvJKiW,EAAchW,EAAuB2W,EAIzC7W,GAAQK,SACN0U,K8CrvJH,U9CsvJGyY,KAAM,WACJ,OACErY,gBACES,gC8CrvJT,kC9CsvJSD,mB8CpvJT,sB9CsvJOgxB,e8CrvJP,E9CsvJOC,gB8CrvJP,G9CsvJOC,qB8CrvJP,K9CsvJOC,sB8CpvJP,I9CwvJG9V,SACE+V,aAAc,WACZ38B,KAAK2kB,K8CtvJZ,Q9CuvJ+C,IAApC3kB,KAAK8qB,aAAa3gB,OAAO3R,QAC3BzB,OAAOC,SAASwyB,M8CtvJzB,gB9CyvJK0H,UAAW,WACTn6B,OAAOC,SAASwyB,M8CtvJvB,c9CwvJKoT,WAAY,WAGV,MAFA58B,MAAKw8B,gB8CtvJZ,Y9CuvJOx8B,KAAKu8B,e8CtvJZ,E9CuvJcv8B,KAAKujB,OAAOpB,Q8CtvJ1B,Y9CwvJK0a,iBAAkB,SAA0BlH,EAAO72B,G8CtvJxD,GAAAwD,GAAAtC,K9CyvJW+1B,EAAOJ,EAAMtiB,OAAOuiB,M8CxvJ/B,G9CyvJWI,EAAS,G8CvvJpBC,W9CyvJOD,GAAOhS,iBAAiB,OAAQ,WAC9B,G8CxvJTZ,GAAA,M9CyvJS,KACEA,EAAO0V,KAAKC,MAAM/C,E8CxvJ7BltB,Q9CyvJW,MAAOpG,G8CtvJlB,W9CuvJW3L,QAAOC,SAASwyB,MAAM,Q8CxvJjC,gB9C2vJsB,YAAT1qB,EACFwD,EAAMihB,OAAOpa,SAAS,iB8CxvJjCia,S9CyvJ6B,cAATtkB,GACTwD,EAAMihB,OAAOpa,SAAS,mBACpBqf,YAAa5E,SAASC,eAAe,Y8CxvJlD2E,Y9CyvJaqB,aAAcjG,SAASC,eAAe,Y8CxvJnDgG,aAEAzG,WAGA,G9CyvJW2S,GACFC,EAAO6C,WAAW9C,IAGtBxR,KAAM,WACJvkB,KAAKujB,OAAOU,WAAWM,QAEzBD,KAAM,WACJtkB,KAAKujB,OAAOU,WAAWK,QAEzBwY,YAAa,SAAqBzS,GAC5BrqB,KAAK+8B,kBACP/8B,KAAKg9B,Q8C9vJd3S,E9CgwJStzB,OAAOC,SAASwyB,MAAM,Q8C9vJ/B,oD9CiwJK5d,mBAAoB,SAA4BC,GAC9C,MAAOoT,GAAUhpB,QAAQ2V,mBAAmBC,K8C7vJnD4Y,UAAA,EAAArmB,EAAAnI,U9CiwJKgnC,oBAAqB,WACnB,MAAO/R,GAAEpc,MAAM9O,K8ChwJtBk9B,eAAApgC,IACA,QACAiV,UAAAjV,IACA,MAAAA,IACAqgC,QACA71B,MAAApJ,QACA,I9C4vJKg/B,cAAe,W8C1vJpB,GAAAp5B,GAAA9D,I9C6vJO,OAAOyM,GAAW1B,eAAejO,IAAI,SAAUsgC,GAC7C,OACEC,KAAMv5B,EAAOyf,OAAO5a,MAAM2B,OAAOR,Q8C7vJ5CszB,G9C8vJWzyB,KAAMmB,EAAY7V,QAAQgV,M8C7vJrCmyB,G9C8vJWt+B,K8C5vJXs+B,M9CgwJK9K,qBAAsB,WACpB,MAAOtyB,MAAK+qB,iB8C9vJnBjsB,M9CgwJKyzB,2BAA4B,WAC1B,MAAOvyB,MAAK+qB,iB8C9vJnByH,c9CgwJM,EAAIjQ,EAAMqI,aACXwH,qB8C9vJL,mC9C+vJKtH,a8C7vJL,8BAHA,EAAAvI,EAAAmC,W9CkwJKW,WAAY,SAAoB1c,GAC9B,MAAOA,GAAMkX,QAAQ/iB,I8C9vJ5B0R,S9CgwJK8uB,sBAAuB,SAA+B30B,GACpD,MAAOA,G8ChwJd20B,uB9CkwJKC,iBAAkB,SAA0B50B,GAC1C,MAAOA,GAAMkX,Q8ClwJpBmC,oB9CowJK+a,kBAAmB,SAA2Bp0B,GAC5C,MAAOA,GAAMkX,QAAQ7U,OAAO8V,eAA2C,IAA1BnY,EAAMtG,SAAS7J,Q8CnwJnE,I9CmwJmFmQ,EAAMtG,SAAS,GAAGY,SAASzK,WAGzGglC,yBACE50B,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAM1R,YAAY2tB,kBAAkB0V,kBAEzDlQ,IAAK,SAAamQ,GAChBv6B,KAAKujB,OAAOpa,SAAS,0CAA4CmxB,iBAAkBC,MAGvFkD,eAAgB,WACd,GAAIC,KACJ,QAAQ19B,K8CzwJfsxB,S9C0wJS,I8CzwJT,Y9C0wJWoM,GAAS,YAAa,UAAW,SAAU,S8CzwJtD,QACA,M9C0wJS,K8CzwJT,U9C0wJWA,GAAS,YAAa,UAAW,S8CzwJ5C,SACA,M9C0wJS,K8CzwJT,a9C0wJWA,G8CzwJX,kBACA,M9C0wJS,K8CzwJT,S9C0wJWA,G8CzwJX,kB9CixJO,OAHI19B,KAAKwxB,sBAA0C,cAAjBxxB,KAAKsxB,SAAgD,YAArBtxB,KAAKqxB,aACrEqM,EAAMhhC,K8CzwJf,QAEAghC,G9C4wJKrM,aACEzoB,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAM1R,YAAY2tB,kBAAkB/Y,MAEzDue,IAAK,SAAave,GAChB7L,KAAKujB,OAAOpa,SAAS,8BAAgC0C,KAAMA,MAG/DylB,SACE1oB,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAM1R,YAAY2tB,kBAAkB0M,SAEzDlH,IAAK,SAAauT,GAChB39B,KAAKujB,OAAOpa,SAAS,iCAAmCmoB,QAASqM,MAGrEtX,aACEzd,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQC,KAAKhJ,SAExCsT,IAAK,SAAatT,GAChB9W,KAAKujB,OAAOpa,SAAS,0BAA4B2N,QAASA,MAG9DwO,YACE1c,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQ/iB,IAAIga,SAEvCsT,IAAK,SAAatT,GAChB9W,KAAKujB,OAAOpa,SAAS,yBAA2B2N,QAASA,MAG7D0a,sBACE5oB,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQkC,eAAejL,SAElDsT,IAAK,SAAatT,GAChB9W,KAAKujB,OAAOpa,SAAS,mCAAqC2N,QAASA,MAGvE6N,MACE/b,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAM1R,YAAY2tB,kBAAkBD,MAEzDyF,IAAK,SAAazF,GAChB3kB,KAAKujB,OAAOpa,SAAS,8BAAgCwb,KAAMA,MAI/DzoB,SACE0M,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQC,KAAK5jB,SAExCkuB,IAAK,SAAaluB,GAChB8D,KAAKujB,OAAOpa,SAAS,sBAAwBjN,QAASA,MAI1D6uB,kBACEniB,IAAK,WACH,MAAO5I,MAAKujB,OAAOpB,QAAQ,iCAE7BiI,IAAK,SAAanY,GACXA,GAASA,EAAKugB,YAAevgB,EAAKugB,WAAW7vB,IAGlD3C,KAAKujB,OAAOpa,SAAS,+CAAiDxG,GAAIsP,EAAKugB,W8C1yJxF7vB,O9C6yJKq6B,SACEp0B,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAMkX,QAAQ7U,OAAO6V,OAE1CuJ,IAAK,SAAavJ,GAChB7gB,KAAKujB,OAAOpa,SAAS,oBAAsB0X,MAAOA,MAGtDhM,UACEjM,IAAK,WACH,MAAO5I,MAAKujB,OAAO5a,MAAM1R,YAAY2tB,kBAAkB/P,UAEzDuV,IAAK,SAAavV,GAChB7U,KAAKujB,OAAOpa,SAAS,kCAAoC0L,SAAUA,MAGvE6kB,eAAgB,WACd,MAAO15B,MAAKujB,OAAOpB,Q8ClzJ1B,c9CqzJGmI,OACEgH,QAAS,WACc,WAAjBtxB,KAAKsxB,SAAwBtxB,KAAKoyB,qBACpCpyB,KAAKqxB,YAAcrxB,KAAKoyB,qB8ClzJjCtzB,K9CozJSkB,KAAKqxB,Y8ClzJd,U9CqzJK1M,KAAM,SAAc0F,GACdrqB,KAAKy9B,eAAejuB,QAAQ6a,MAAS,GAAc,QAARA,IAC7CrqB,KAAK2kB,KAAO3kB,KAAKy9B,eAAe,IAEhB,UAAdz9B,KAAK2kB,MAAqD,WAAjC3kB,KAAKw9B,wBAChCx9B,KAAKw9B,wB8CpzJd,S9CqzJgC,UAAdx9B,KAAK2kB,MAAqD,WAAjC3kB,KAAKw9B,0BACvCx9B,KAAKw9B,wB8CpzJd,W9CuzJKC,eAAgB,WACTvS,EAAEpM,SAAS9e,KAAKy9B,eAAgBz9B,KAAK2kB,QACxC3kB,KAAK2kB,KAAO3kB,KAAKy9B,e8CpzJ1B,K9CuzJKD,wBAAyB,SAAiCnT,GAC5C,WAARA,GAAkC,UAAdrqB,KAAK2kB,KAC3B3kB,KAAK2kB,K8CpzJd,Q9CqzJ0B,WAAR0F,GAAkC,UAAdrqB,KAAK2kB,OAClC3kB,KAAK2kB,KAAO3kB,KAAKy9B,e8CpzJ1B,K9CuzJKR,oBAAqB,WACnBj9B,KAAKujB,OAAOpa,SAAS,+CAAiDxG,GAAI3C,K8CpzJjFi9B,wBAGA5lC,YAAA,EAAA+G,EAAAnI,UACAi3B,aAAAv2B,EAAAV,QACA2nC,YAAA5B,EAAA/lC,QACA4nC,SAAA3B,EAAAjmC,QACA6nC,iBAAA1B,EAAAnmC,QAGA8nC,yBAAAzB,EAAArmC,S9CmzJMqiC,EAAOriC,WAKP,SAAUN,EAAQC,EAASC,GAEhC,YAiCA,SAASsX,GAAwBpX,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIqX,KAAa,IAAW,MAAPrX,EAAe,IAAK,GAAIsS,KAAOtS,GAAWiI,OAAOqP,UAAUtD,eAAeuD,KAAKvX,EAAKsS,KAAM+E,EAAO/E,GAAOtS,EAAIsS,GAAgC,OAAtB+E,GAAOnX,QAAUF,EAAYqX,EAElQ,QAAStX,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,G+C/uKxF,QAASioC,GAAT/kC,GAA2D,GAAhCw2B,GAAgCx2B,EAAhCw2B,OAAQE,EAAwB12B,EAAxB02B,OAAQptB,EAAgBtJ,EAAhBsJ,KAAM3D,EAAU3F,EAAV2F,OAAUq/B,GAE1C,EAAAhrB,EAAAhZ,gBAAesI,EAAKrJ,MAAOqJ,EAAKpJ,KAA3CxB,EAFqDsmC,EAErDtmC,GAAII,EAFiDkmC,EAEjDlmC,EACR,SAEI03B,EAAOltB,EAAKrJ,MAAMpB,GAAK8G,EAASjH,EAChCg4B,EAAOptB,EAAKrJ,MAAMlB,GAAK4G,EAAS7G,IAGhC03B,EAAOltB,EAAKrJ,MAAMpB,GAAK8G,EAASjH,EAChCg4B,EAAOptB,EAAKrJ,MAAMlB,GAAK4G,EAAS7G,IAGhC03B,EAAOltB,EAAKpJ,IAAIrB,GAAK8G,EAASjH,EAC9Bg4B,EAAOptB,EAAKpJ,IAAInB,GAAK4G,EAAS7G,IAG9B03B,EAAOltB,EAAKpJ,IAAIrB,GAAK8G,EAASjH,EAC9Bg4B,EAAOptB,EAAKpJ,IAAInB,GAAK4G,EAAS7G,IAG9B03B,EAAOltB,EAAKrJ,MAAMpB,GAAK8G,EAASjH,EAChCg4B,EAAOptB,EAAKrJ,MAAMlB,GAAK4G,EAAS7G,IAKtC,QAASmmC,GAAsBzO,EAAQE,EAAQx4B,EAAIgnC,GACjDrY,EAAG2D,OAAOtyB,GACP2yB,UAAU,sCACVJ,QACH,IAAM0U,GAAYtY,EAAG2D,OAAOtyB,GACzB2yB,UAAU,sBACV1G,MAAM+a,IACHE,EAAOD,EAAUrU,QAAQC,OAAO,KAAKC,KAAK,QAAS,oBACzDoU,GAAKrU,OAAO,QAAQC,KAAK,QAAS,QAElC,IAAM5vB,GAAOyrB,EAAGzrB,OAEV+c,EAAMgnB,EAAUE,MAAMD,EAC5BjnB,GAAImnB,QAAQ,WAAY,SAAAjvB,GAAA,MAAKA,GAAEklB,WAC/Bpd,EAAImnB,QAAQ,mBAAoB,SAAAjvB,GAAA,MAAKA,GAAEmlB,kBACvCrd,EAAIqS,OAAO,UACRQ,KAAK,IAAK5vB,EACT2jC,GAAkBz7B,KAAM47B,EAAO1O,SAAQE,SAAQ/wB,OAAQ,MAK7D,QAAS4/B,GAAiB/O,EAAQE,EAAQx4B,EAAIgnC,GAC5CrY,EAAG2D,OAAOtyB,GACP2yB,UAAU,0CACVJ,QAEH,IAAM0U,GAAYtY,EAAG2D,OAAOtyB,GACzB2yB,UAAU,kBACV1G,MAAM+a,IACHM,EAAUL,EAAUrU,QAAQC,OAAO,KAAKC,KAAK,QAAS,gBAC5DwU,GAAQzU,OAAO,QAAQC,KAAK,QAAS,QACrCwU,EAAQzU,OAAO,UACfyU,EAAQzU,OAAO,QAAQC,KAAK,QAAS,iBACrCwU,EAAQzU,OAAO,QAAQC,KAAK,QAAS,cAErC,IAAM9U,GAAQipB,EAAUE,MAAMG,EAC9BtpB,GAAMopB,QAAQ,WAAY,SAAAjvB,GAAA,MAAKA,GAAEklB,WACjCrf,EAAMopB,QAAQ,mBAAoB,SAAAjvB,GAAA,MAAKA,GAAEmlB,kBACzCtf,EAAMsU,OAAO,aACVQ,KAAK,KAAM,SAAA3a,GAAA,MAAKmgB,GAAOngB,EAAEpW,MAAMpB,KAC/BmyB,KAAK,KAAM,SAAA3a,GAAA,MAAKqgB,GAAOrgB,EAAEpW,MAAMlB,KAC/BiyB,KAAK,KAAM,SAAA3a,GAAA,MAAKmgB,GAAOngB,EAAEnW,IAAIrB,KAC7BmyB,KAAK,KAAM,SAAA3a,GAAA,MAAKqgB,GAAOrgB,EAAEnW,IAAInB,KAChCmd,EAAMupB,KAAK,SAAUpvB,GAAG,GAAAqvB,IAEP,EAAA1rB,EAAAhZ,gBAAeqV,EAAEpW,MAAOoW,EAAEnW,KAArCxB,EAFkBgnC,EAElBhnC,GAAII,EAFc4mC,EAEd5mC,GACN6mC,EAAgB,EAEZC,EAAQ/Y,EAAG2D,OAAOzpB,KACxB6+B,GAAMpV,OAAO,kBACVQ,KAAK,KAAMwF,EAAOngB,EAAEpW,MAAMpB,GAAK8mC,EAAgBjnC,GAC/CsyB,KAAK,KAAM0F,EAAOrgB,EAAEpW,MAAMlB,GAAK4mC,EAAgB7mC,GAC/CkyB,KAAK,KAAMwF,EAAOngB,EAAEpW,MAAMpB,GAAK8mC,EAAgBjnC,GAC/CsyB,KAAK,KAAM0F,EAAOrgB,EAAEpW,MAAMlB,GAAK4mC,EAAgB7mC,GAClD8mC,EAAMpV,OAAO,gBACVQ,KAAK,KAAMwF,EAAOngB,EAAEnW,IAAIrB,GAAK8mC,EAAgBjnC,GAC7CsyB,KAAK,KAAM0F,EAAOrgB,EAAEnW,IAAInB,GAAK4mC,EAAgB7mC,GAC7CkyB,KAAK,KAAMwF,EAAOngB,EAAEnW,IAAIrB,GAAK8mC,EAAgBjnC,GAC7CsyB,KAAK,KAAM0F,EAAOrgB,EAAEnW,IAAInB,GAAK4mC,EAAgB7mC,IAC5CuX,EAAEklB,UAAYllB,EAAEmlB,kBAClBoK,EAAMC,UAGV3pB,EAAMsU,OAAO,UACVQ,KAAK,KAAM,SAAA3a,GAAA,MAAKmgB,GAAOngB,EAAEkE,OAAO1b,KAChCmyB,KAAK,KAAM,SAAA3a,GAAA,MAAKqgB,GAAOrgB,EAAEkE,OAAOxb,KAChCiyB,KAAK,IAAK,KAIf,QAAS8U,GAAqBtP,EAAQE,EAAQx4B,EAAIgnC,GAAO,GAC/CjlC,GAA+BilC,EAA/BjlC,MAAOC,EAAwBglC,EAAxBhlC,IAAKgD,EAAmBgiC,EAAnBhiC,MAAOD,EAAYiiC,EAAZjiC,OAC3B4pB,GAAG2D,OAAOtyB,GACP2yB,UAAU,sCACVJ,QAEH,IAAM0U,GAAYtY,EAAG2D,OAAOtyB,GACzB2yB,UAAU,sBACV1G,MAAM+a,IACHa,EAAMZ,EAAUrU,QAAQC,OAAO,KAAKC,KAAK,QAAS,oBACxD+U,GAAIhV,OAAO,QAAQC,KAAK,QAAS,OACjC+U,EAAIhV,OAAO,KAAKC,KAAK,QAAS,cAE9B,IAAM5vB,GAAOyrB,EAAGzrB,OAEV4kC,EAAKb,EAAUE,MAAMU,EAC3BC,GAAGV,QAAQ,WAAY,SAAAjvB,GAAA,MAAKA,GAAEklB,WAC9ByK,EAAGV,QAAQ,mBAAoB,SAAAjvB,GAAA,MAAKA,GAAEmlB,kBACtCwK,EAAGxV,OAAO,QACPQ,KAAK,IAAK5vB,EACT2jC,GAAkBz7B,KAAM47B,EAAO1O,SAAQE,SAAQ/wB,OAAQ,KAG3D,IACEtC,IAAY,EAAA2W,EAAA/Y,YAAWhB,EAAOC,GAC9BkD,GAAU,EAAA4W,EAAAjX,yBAAyB9C,QAAOC,MAAK+C,UAASC,UAExD+iC,EAAS5iC,EAAU3E,GAAKwE,EACxBgjC,EAAS7iC,EAAUvE,GAAKoE,EACpBgQ,EAAU9P,EAAQS,IAAI,SAAAsiC,GAAA,SAAAhhC,EAAAnI,YACvBkoC,GACH3qB,OAAQ4rB,EACRlmC,OAASpB,EAAGsnC,EAAWtnC,EAAIonC,EAAS,EAAGlnC,EAAGonC,EAAWpnC,EAAImnC,EAAS,GAClEhmC,KAAOrB,EAAGsnC,EAAWtnC,EAAIonC,EAAS,EAAGlnC,EAAGonC,EAAWpnC,EAAImnC,EAAS,OAE5DhqB,EAAQ8pB,EAAGxV,OAAO,gBACrBK,UAAU,eACV1G,KAAKjX,EACRgJ,GAAMkqB,OAAO3V,SACbvU,EACGmpB,MAAMnpB,EAAM4U,QAAQC,OAAO,KAAKC,KAAK,QAAS,eAC9CyU,KAAK,SAAUpvB,GACdkvB,EAAiB/O,EAAQE,EAAQ3vB,KAAMsP,KAItC,QAASgwB,KAId,QAASC,GAAMnB,GACbA,EAAUiB,OAAO3V,SACjB0U,EACGE,MAAMF,EAAUrU,QAAQC,OAAO,KAAKC,KAAK,QAAS,WAClDyU,KAAK,SAAUpvB,GACd,GAAiC,kBAA7BA,EAAEZ,uBACJ8vB,EAAiB/O,EAAQE,EAAQ3vB,KAAMsP,OAClC,IAAiC,yBAA7BA,EAAEZ,uBACXwvB,EAAsBzO,EAAQE,EAAQ3vB,KAAMsP,OACvC,IAAiC,sBAA7BA,EAAEZ,uBAGX,KAAM,IAAI3N,OAAJ,sCAAgDuO,EAAEZ,uBAFxDqwB,GAAqBtP,EAAQE,EAAQ3vB,KAAMsP,MAbnD,GACEmgB,GAAStyB,EAAAlH,QAAEupC,SACX7P,EAASxyB,EAAAlH,QAAEupC,QA6Bb,OAXAD,GAAM9P,OAAS,SAAUvE,GACvB,MAAK3yB,WAAUC,QACfi3B,EAASvE,EACFqU,GAFuB9P,GAIhC8P,EAAM5P,OAAS,SAAUzE,GACvB,MAAK3yB,WAAUC,QACfm3B,EAASzE,EACFqU,GAFuB5P,GAKzB4P,EAGT,QAASE,KAMP,QAASF,GAAMnB,GACbA,EAAUiB,OAAO3V,QACjB,IAAMgW,GAAWtB,EAAUrU,QAAQC,OAAO,KACvCC,KAAK,QAAS,oBACdA,KAAK,YAAa,SAAC3a,GAAM,GAAAqwB,IACL,EAAA1sB,EAAAhZ,gBAAeqV,EAAEpW,MAAOoW,EAAEnW,KAArCxB,EADgBgoC,EAChBhoC,GAAII,EADY4nC,EACZ5nC,GACVyE,EAAOojC,EAAajoC,EACpB8E,EAAOmjC,EAAa7nC,CACtB,oBAAoByE,EAApB,KAA6BC,EAA7B,KAEJijC,GAAS1V,OAAO,QAChB0V,EAAS1V,OAAO,QAChB0V,EAAS1V,OAAO,QAAQC,KAAK,QAAS,SACtCyV,EAAS1V,OAAO,QAAQC,KAAK,QAAS,MAEtC,IAAM4V,GAAUzB,EAAUE,MAAMoB,EAEhCG,GAAQpW,OAAO,QACZQ,KAAK,IAAK,SAAA3a,GAAA,OAAM,EAAIylB,GAAiBtF,EAAOngB,EAAEpW,MAAMpB,GAAKi9B,EAAgBtF,EAAOngB,EAAEnW,IAAIrB,KACtFmyB,KAAK,IAAK,SAAA3a,GAAA,OAAM,EAAIylB,GAAiBpF,EAAOrgB,EAAEpW,MAAMlB,GAAK+8B,EAAgBpF,EAAOrgB,EAAEnW,IAAInB,KACtFiyB,KAAK,oBAAqB,oBAC1BnS,MAAM,SAACxI,GAAM,GAAAwwB,IAEG,EAAA7sB,EAAAhZ,gBAAeqV,EAAEpW,MAAOoW,EAAEnW,KAArCxB,EAFQmoC,EAERnoC,GAAII,EAFI+nC,EAEJ/nC,GACN6G,EAAS,CACX,QACEjH,GAAIA,EAAKiH,EACT7G,GAAIA,EAAK6G,KAGZmhC,KAAK,SAACzwB,GACL,GACE0wB,IAAW,EAAA/sB,EAAAzb,uBAAsB8X,EAAEpW,MAAOoW,EAAEnW,KAC5C8mC,EAAgBroC,KAAK6c,MAAiB,IAAXurB,GAAkB,GAC/C,UAAUC,IAEdJ,EAAQpW,OAAO,QACZ3R,MAAM,SAACxI,GAAM,GAAA4wB,IACO,EAAAjtB,EAAA/Y,YAAWoV,EAAEpW,MAAOoW,EAAEnW,KAAjCxB,EADIuoC,EACJvoC,GAAII,EADAmoC,EACAnoC,GACV6G,EAAS,KACTpC,EAAO7E,EAAKiH,EACZnC,EAAO1E,EAAK6G,CAEd,QACErE,GAAIk1B,EAAOngB,EAAEpW,MAAMpB,GAAK0E,EACxBhC,GAAIm1B,EAAOrgB,EAAEpW,MAAMlB,GAAKyE,EACxB/B,GAAI+0B,EAAOngB,EAAEnW,IAAIrB,GAAK0E,EACtB7B,GAAIg1B,EAAOrgB,EAAEnW,IAAInB,GAAKyE,IAG5B,IACE0jC,GAAY,qBACZC,EAAS,SAAC9wB,GAER,GACE+wB,GAA4B,KAAnB,EAAAptB,EAAAja,eAAcsW,GAAY1X,KAAK0B,GACxCgnC,EAAShxB,EAAEpW,MAAMpB,IAAMwX,EAAEnW,IAAIrB,EAClBwX,EAAEpW,MAAMlB,EAAIsX,EAAEnW,IAAInB,EAAI,EAAI,IAC1BsX,EAAEpW,MAAMpB,EAAIwX,EAAEnW,IAAIrB,EAAI,EAAI,GAEvC,OAAOwoC,GAASD,EAGpBR,GAAQpW,OAAO,cACZQ,KAAK,YACJ,SAAA3a,GAAA,mBAAkBmgB,EAAOngB,EAAEpW,MAAMpB,GAAjC,KAAwC63B,EAAOrgB,EAAEpW,MAAMlB,GAAvD,qBAA8EooC,EAAO9wB,GAArF,MACD2a,KAAK,IAAKkW,GAEbN,EAAQpW,OAAO,YACZQ,KAAK,YACJ,SAAA3a,GAAA,mBAAkBmgB,EAAOngB,EAAEnW,IAAIrB,GAA/B,KAAsC63B,EAAOrgB,EAAEnW,IAAInB,GAAnD,sBAA0E,IAAMooC,EAAO9wB,IAAvF,MACD2a,KAAK,IAAKkW,GA5Ef,GACE1Q,GAAStyB,EAAAlH,QAAEupC,SACX7P,EAASxyB,EAAAlH,QAAEupC,SACXI,EAAa,GACb7K,EAAgB,CAkGlB,OAxBAwK,GAAM9P,OAAS,SAAUvE,GACvB,MAAK3yB,WAAUC,QACfi3B,EAASvE,EACFqU,GAFuB9P,GAIhC8P,EAAM5P,OAAS,SAAUzE,GACvB,MAAK3yB,WAAUC,QACfm3B,EAASzE,EACFqU,GAFuB5P,GAIhC4P,EAAMK,WAAa,SAAS1U,GAC1B,MAAK3yB,WAAUC,QACfonC,EAAa1U,EACNqU,GAFuBK,GAIhCL,EAAMxK,cAAgB,SAAS7J,GAC7B,MAAK3yB,WAAUC,SACX0yB,EAAI,GAAKA,EAAI,IACfhD,QAAQ0T,KAAR,+CAA4D1Q,EAA5D,KAEF6J,EAAgB7J,EACTqU,GALuBxK,GAQzBwK,EAGF,QAASgB,KAKd,QAAShB,GAAMnB,GACboC,EAAY/Q,OAAOA,GAAQE,OAAOA,GAClCyO,EAAUiB,OAAO3V,SACjB0U,EACGE,MAAMF,EAAUrU,QAAQC,OAAO,KAAKuU,QAAQ,wCAAwC,IACpFzU,UAAU,qBACV1G,KAECgb,EAAUE,MAAMF,EAAUrU,SAAS3G,OAChCtmB,IAAI,SAAAwS,GAAA,OAAQpW,MAAOoW,EAAEmE,WAAYta,IAAKmW,EAAEkE,WAE5CtQ,OAAO,SAAAoM,GAAA,MAAkC,kBAA7BA,EAAEZ,yBACdpB,KAAKkzB,GAhBV,GACE/Q,GAAStyB,EAAAlH,QAAEupC,SACX7P,EAASxyB,EAAAlH,QAAEupC,SACPgB,EAAcf,GA0BpB,OAVAF,GAAM9P,OAAS,SAAUvE,GACvB,MAAK3yB,WAAUC,QACfi3B,EAASvE,EACFqU,GAFuB9P,GAIhC8P,EAAM5P,OAAS,SAAUzE,GACvB,MAAK3yB,WAAUC,QACfm3B,EAASzE,EACFqU,GAFuB5P,GAIzB4P,EAIF,QAASkB,KAKd,QAASlB,GAAMnB,GACbA,EAAUiB,OAAO3V,QACjB,IAAMgX,GAAMtC,EAAUrU,QAAQC,OAAO,KAAKC,KAAK,QAAS,sBACxDyW,GAAI1W,OAAO,UAAUC,KAAK,QAAS,MACnCyW,EAAI1W,OAAO,QAAQC,KAAK,QAAS,YACjC,IAAM7d,GAAKgyB,EAAUE,MAAMoC,EAC3Bt0B,GAAGmyB,QAAQ,WAAY,SAAAjvB,GAAA,MAAKA,GAAEklB,WAC9BpoB,EAAGmyB,QAAQ,mBAAoB,SAAAjvB,GAAA,MAAKA,GAAEmlB,kBACtCroB,EAAGqd,OAAO,aACPQ,KAAK,KAAM,SAAA3a,GAAA,MAAKmgB,GAAOngB,EAAExX,KACzBmyB,KAAK,KAAM,SAAA3a,GAAA,MAAKqgB,GAAOrgB,EAAEtX,KACzBiyB,KAAK,IAAK,IACb7d,EAAGqd,OAAO,kBACPQ,KAAK,IAAK,SAAC3a,GACV,GAAMxX,GAAI23B,EAAOngB,EAAExX,GAAIE,EAAI23B,EAAOrgB,EAAEtX,GAAIwJ,EAAI,EAC5C,WAAW1J,EAAX,IAAgBE,EAAhB,MAAsBF,EAAI0J,GAA1B,IAA+BxJ,EAA/B,MAAsCwJ,EAAtC,IAA2CA,EAA3C,UAAsD1J,EAAtD,KAA2DE,EAAIwJ,GAA/D,MAAsE1J,EAAtE,KAA2EE,EAAIwJ,GAA/E,MAAsFA,EAAtF,IAA2FA,EAA3F,WAAsG1J,EAAI0J,GAA1G,IAA+GxJ,EAA/G,OAEJoU,EAAGsyB,KAAK,SAAUpvB,IACZA,EAAEklB,UAAYllB,EAAEmlB,kBAClB3O,EAAG2D,OAAOzpB,MAAM8+B,UAvBtB,GACErP,GAAStyB,EAAAlH,QAAEupC,SACX7P,EAASxyB,EAAAlH,QAAEupC,QAoCb,OAVAD,GAAM9P,OAAS,SAAUvE,GACvB,MAAK3yB,WAAUC,QACfi3B,EAASvE,EACFqU,GAFuB9P,GAIhC8P,EAAM5P,OAAS,SAAUzE,GACvB,MAAK3yB,WAAUC,QACfm3B,EAASzE,EACFqU,GAFuB5P,GAIzB4P,EAGF,QAASoB,KAOd,QAASpB,GAAMnB,GACboC,EAAY/Q,OAAOA,GAAQE,OAAOA,GAClCyO,EAAUiB,OAAO3V,QACjB,IAAMkX,GAASxC,EAAUrU,QAAQC,OAAO,KACrCuU,QAAQ,qDAAqD,GAE1Dnb,EAAOjmB,EAAAlH,QAAEwQ,QACb23B,EAAUE,MAAMF,EAAUrU,SAAS3G,OACnC,SAAC9T,GACC,GACEuxB,IAAM,EAAA5tB,EAAA/Y,YAAWoV,EAAEwxB,YAAYh+B,GAAIwM,EAAEwxB,YAAY99B,IACjDW,GAAMzK,MAAOoW,EAAE4Q,IAAK/mB,IAAKmW,EAAEwxB,YAAYxlC,MACvCylC,GAAep9B,EAAExK,IAAIrB,EAAI6L,EAAEzK,MAAMpB,GAAK+oC,EAAIlpC,IAAQgM,EAAExK,IAAInB,EAAI2L,EAAEzK,MAAMlB,GAAK6oC,EAAI9oC,GAC7EipC,GACE9nC,MAAOyK,EAAEzK,MACTC,KACErB,EAAG6L,EAAEzK,MAAMpB,EAAIipC,EAAaF,EAAIlpC,GAChCK,EAAG2L,EAAEzK,MAAMlB,EAAI+oC,EAAaF,EAAI9oC,KAGpCkpC,GACE/nC,MAAO8nC,EAAS7nC,IAChBA,IAAKwK,EAAExK,IAEX,QAAQwK,EAAGs9B,EAAMD,GAAU99B,OACzB,SAAAnJ,GAAA,GAAGb,GAAHa,EAAGb,MAAOC,EAAVY,EAAUZ,GAAV,QAAoB,EAAA8Z,EAAAzb,uBAAsB0B,EAAOC,GAAO,QAGxD+nC,EAAQ9C,EAAUE,MAAMsC,EAC9BM,GACGpX,UAAU,qBACV1G,KAAKA,GACL9V,KAAKkzB,GAtCV,GACE/Q,GAAStyB,EAAAlH,QAAEupC,SACX7P,EAASxyB,EAAAlH,QAAEupC,SACPgB,EAAcf,IACjBG,WAAW,GACX7K,cAAc,GA8CjB,OAVAwK,GAAM9P,OAAS,SAAUvE,GACvB,MAAK3yB,WAAUC,QACfi3B,EAASvE,EACFqU,GAFuB9P,GAIhC8P,EAAM5P,OAAS,SAAUzE,GACvB,MAAK3yB,WAAUC,QACfm3B,EAASzE,EACFqU,GAFuB5P,GAIzB4P,EAaT,QAAS4B,GAAiBC,EAAMC,EAAMxf,GACpC,GACEnN,GAAO9c,KAAKK,KAAKmpC,EAAOA,EAAOC,EAAOA,GACtCvpC,EAAIspC,EAAO1sB,EACX1c,EAAIqpC,EAAO3sB,EACX/Y,EAAI/D,KAAK0B,GAAKuoB,EAAW,IACzBzmB,GACEtD,EAAGA,EAAIF,KAAKgc,IAAIjY,GAAK3D,EAAIJ,KAAKkc,IAAInY,GAClC3D,EAAGF,EAAIF,KAAKkc,IAAInY,GAAK3D,EAAIJ,KAAKgc,IAAIjY,GAGtC,OAAOwB,GAAAlH,QAAEie,MAAMotB,EAAgB,SAAAvkC,GAAA,OAAK,EAAAkW,EAAAzb,uBAAsBuF,EAAEwkC,IAAKnmC,KAAK+X,OAWjE,QAASquB,KAMd,QAASjC,GAAMnB,GACb,GAAMhJ,IAAY3F,EAAO,KAAOA,EAAO,IAAM,IAEzCgS,SAAQC,SAAQC,SAAOC,SAEzBhjC,EAAS,SAAC0Q,GACR,GACExX,GAAK6pC,EAAQF,EACbzpC,EAAK4pC,EAAQF,EACbG,GAAO,EAAKvyB,EAAE9N,EAAI5J,KAAK0B,GAAK,GAC9B,QACE3B,GAAIG,EAAIF,KAAKgc,IAAIiuB,GAAQ7pC,EAAIJ,KAAKkc,IAAI+tB,GACtC9pC,GAAID,EAAIF,KAAKkc,IAAI+tB,GAAQ7pC,EAAIJ,KAAKgc,IAAIiuB,KAG1CC,EAAWhc,EAAGic,OACb/Z,GAAG,QAAS,WACXlC,EAAG6P,MAAMqM,YAAYC,iBADC,IAAAC,GAEHpc,EAAGqc,MAAMve,SAASwe,cAAc,cAF7BC,GAAA,EAAAvU,EAAA73B,SAAAisC,EAAA,EAErBT,GAFqBY,EAAA,GAEbX,EAFaW,EAAA,GAGtBV,EAAQC,EAAQnpC,SAEjBuvB,GAAG,OAAQ,SAAS1Y,GAAG,GAAAgzB,GACLxc,EAAGqc,MAAMve,SAASwe,cAAc,cAD3BG,GAAA,EAAAzU,EAAA73B,SAAAqsC,EAAA,EACrBX,GADqBY,EAAA,GACdX,EADcW,EAAA,MAAAC,GAEH5jC,EAAO0Q,GAAlB3X,EAFc6qC,EAEd7qC,GAAII,EAFUyqC,EAEVzqC,EACZ+tB,GAAG2D,OAAOzpB,MACPiqB,KAAK,YADR,aACkCtyB,EADlC,KACyCI,EADzC,OAGDiwB,GAAG,MAAO,SAAS1Y,GAClB,GAAqB,mBAAVqyB,GAAX,CADqB,GAAAc,GAKF7jC,EAAO0Q,EALLmzB,GAKb9qC,GALa8qC,EAKT1qC,EACZw4B,IACEhnB,MAAO+F,EACPxX,EAAGwX,EAAExX,GAAK6pC,EAAQF,GAAUrM,EAC5Bp9B,EAAGsX,EAAEtX,GAAK4pC,EAAQF,GAAUtM,OAKhCsN,EAAgB,SAACpzB,GACf,GACEqzB,IAAa7qC,EAAG23B,EAAOngB,EAAExX,GAAIE,EAAG23B,EAAOrgB,EAAEtX,IACzC4qC,GAAmB,EAAA3vB,EAAAzb,wBACfM,EAAG6pC,EAAO3pC,EAAG4pC,GAASe,GAC1BE,GAAoB,EAAA5vB,EAAAzb,wBAChBM,EAAG2pC,EAAQzpC,EAAG0pC,GAAUiB,GAC5BpZ,EAAQqZ,EAAmBC,CAC7B,OAAOtZ,IAETuZ,EAAahd,EAAGic,OACb/Z,GAAG,QAAS,WACXlC,EAAG6P,MAAMqM,YAAYC,iBADC,IAAAc,GAEHjd,EAAGqc,MAAMve,SAASwe,cAAc,cAF7BY,GAAA,EAAAlV,EAAA73B,SAAA8sC,EAAA,EAErBtB,GAFqBuB,EAAA,GAEbtB,EAFasB,EAAA,GAGtBrB,EAAQC,EAAQnpC,SAEjBuvB,GAAG,OAAQ,SAAS1Y,GAAG,GAAA2zB,GACLnd,EAAGqc,MAAMve,SAASwe,cAAc,cAD3Bc,GAAA,EAAApV,EAAA73B,SAAAgtC,EAAA,EACrBtB,GADqBuB,EAAA,GACdtB,EADcsB,EAAA,GAEtBpd,EAAG2D,OAAOzpB,KAAKsS,WAAWA,YACvB2X,KAAK,YADR,SAC8ByY,EAAcpzB,GAD5C,OAGD0Y,GAAG,MAAO,SAAS1Y,GAClB,GAAqB,mBAAVqyB,GAAX,CAIA,GAAMpY,GAAQmZ,EAAcpzB,EAC5BihB,IACEhnB,MAAO+F,EACPnT,MAAOmT,EAAEnT,MAAQotB,EACjBxS,OAAQzH,EAAEyH,OAASwS,OAKzB4Z,EAAgB,SAAC7zB,GACf,GACEqzB,IAAa7qC,EAAG23B,EAAOngB,EAAExX,GAAIE,EAAG23B,EAAOrgB,EAAEtX,IACzCorC,GAAa,EAAAnwB,EAAAja,gBAAgBE,MAAOypC,EAAUxpC,KAAOrB,EAAG2pC,EAAQzpC,EAAG0pC,KACnE2B,GAAY,EAAApwB,EAAAja,gBAAgBE,MAAOypC,EAAUxpC,KAAOrB,EAAG6pC,EAAO3pC,EAAG4pC,IACnE,OAAS,MAAOyB,EAAYD,GAAcxrC,KAAK0B,GAC3C,KAAOm2B,EAAOngB,EAAExX,GAAK6pC,GAAUlS,EAAOngB,EAAExX,GAAK2pC,IAGnD6B,EAAaxd,EAAGic,OACb/Z,GAAG,QAAS,WACXlC,EAAG6P,MAAMqM,YAAYC,iBADC,IAAAsB,GAEHzd,EAAGqc,MAAMve,SAASwe,cAAc,cAF7BoB,GAAA,EAAA1V,EAAA73B,SAAAstC,EAAA,EAErB9B,GAFqB+B,EAAA,GAEb9B,EAFa8B,EAAA,GAGtB7B,EAAQC,EAAQnpC,SAEjBuvB,GAAG,OAAQ,SAAS1Y,GAAG,GAAAm0B,GACL3d,EAAGqc,MAAMve,SAASwe,cAAc,cAD3BsB,GAAA,EAAA5V,EAAA73B,SAAAwtC,EAAA,EACrB9B,GADqB+B,EAAA,GACd9B,EADc8B,EAAA,GAEtB5d,EAAG2D,OAAOzpB,KAAKsS,WAAWA,YACvB2X,KAAK,YADR,UAC+BkZ,EAAc7zB,GAD7C,OAGD0Y,GAAG,MAAO,SAAS1Y,GAClB,GAAqB,mBAAVqyB,GAAX,CAIA,GAAM9f,GAAWshB,EAAc7zB,EAC/BihB,IACEhnB,MAAO+F,EACP9N,EAAGqgB,EAAWvS,EAAE9N,MAIxB48B,GAAUiB,OAAO3V,QACjB,IAAMia,GAAcvF,EAAUrU,QAAQC,OAAO,KAAKC,KAAK,QAAS,eAC1D2Z,EAAmBD,EAAY3Z,OAAO,KAAKC,KAAK,QAAS,mBAC/D2Z,GAAiB5Z,OAAO,QACxB,IAAM6Z,GAAYD,EAAiB5Z,OAAO,KAAKC,KAAK,QAAS,WAC7D4Z,GAAU7Z,OAAO,QAAQC,KAAK,QAAS,sBACvC4Z,EAAU7Z,OAAO,UAAUC,KAAK,QAAS,oBACxC,KAAM,KAAM,KAAM,MAChBva,QAAQ,SAAAo0B,GAAA,MAAUD,GAAU7Z,OAAO,UAAUC,KAAK,QAAhC,UAAmD6Z,IAExE,IAAMC,GAAa3F,EAAUE,MAAMqF,EAEnCI,GACG9Z,KAAK,YAAa,SAAA3a,GAAA,mBAAkBmgB,EAAOngB,EAAExX,GAA3B,KAAkC63B,EAAOrgB,EAAEtX,GAA3C,YAAyDsX,EAAE9N,EAA3D,MAErBuiC,EAAWta,OAAO,SACfQ,KAAK,IAAK,SAAA3a,GAAA,OAAK,EAAK8lB,EAAW9lB,EAAEnT,MAAQ,IACzC8tB,KAAK,IAAK,SAAA3a,GAAA,OAAK,EAAK8lB,EAAW9lB,EAAEyH,OAAS,IAC1CkT,KAAK,QAAS,SAAA3a,GAAA,MAAK8lB,GAAW9lB,EAAEnT,QAChC8tB,KAAK,SAAU,SAAA3a,GAAA,MAAK8lB,GAAW9lB,EAAEyH,SACjCkT,KAAK,UAAW,SAAA3a,GAAA,MAAKA,GAAE2H,UACvBgT,KAAK,aAAc,SAAA3a,GAAA,MAAKA,GAAEuH,MAE7BktB,EAAWta,OAAO,qBACfQ,KAAK,YAAa,kBAClB8J,MAAM,SAAU,SAAAzkB,GAAA,MAAMA,GAAE2jB,QAAU,OAAS3jB,EAAE4jB,UAAY,UAAY,OACrEa,MAAM,iBAAkB,SAAAzkB,GAAA,MAAMA,GAAE2jB,QAAU,OAAS,SAEtD8Q,EAAWta,OAAO,aACfQ,KAAK,UAAW,SAAA3a,GAAA,MAAMA,GAAE2jB,QAAU,GAAK,SAE1C8Q,EAAWrF,KAAK,SAAUpvB,GACxB,GAAM00B,GAAKle,EAAG2D,OAAOzpB,KAChBsP,GAAE4jB,UAIL8Q,EAAGhc,GAAG,QAAS,SAAC1Y,GACdwW,EAAG6P,MAAMsM,kBACT7R,EAAY9gB,KALd00B,EACGhc,GAAG,QAAS,MAOZ1Y,EAAE2jB,SAIL+Q,EAAGva,OAAO,qBACPnc,KAAKw0B,GAERkC,EAAGva,OAAO,qBACPQ,KAAK,KAAM,GACXA,KAAK,KAAM,GACXA,KAAK,IAAK,GAEb+Z,EAAGva,OAAO,8BACPQ,KAAK,KAAM,GACXA,KAAK,KAAMmL,EAAW9lB,EAAEyH,OAAS,IACjCkT,KAAK,IAAK,GACV8J,MAAM,SAAUkQ,GAChB32B,KAAKg2B,GACRU,EAAGva,OAAO,iCACPQ,KAAK,KAAM,GACXA,KAAK,KAAMmL,EAAW9lB,EAAEyH,OAAS,GACjCkT,KAAK,KAAM,GACXA,KAAK,KAAMmL,EAAW9lB,EAAEyH,OAAS,GAAM,GAC1C5Z,EAAAlH,QAAEiuC,OACEC,KAAK,GAAI,GAAKC,IAAK,GAAG,GAAKC,KAAK,EAAI,GAAIC,IAAK,EAAG,IAClD,SAAAjpC,EAAekpC,GAAU,GAAA7oC,IAAA,EAAAoyB,EAAA73B,SAAAoF,EAAA,GAAvB+lC,EAAuB1lC,EAAA,GAAjB2lC,EAAiB3lC,EAAA,EACvBsoC,GAAGva,OAAH,cAAwB8a,GACrBta,KAAK,KAAMmX,EAAOhM,EAAW9lB,EAAEnT,MAAQ,GACvC8tB,KAAK,KAAMoX,EAAOjM,EAAW9lB,EAAEyH,OAAS,GACxCkT,KAAK,IAAK,GACV8J,MAAM,SAAUoN,EAAiBC,EAAMC,EAAM/xB,EAAE9N,IAC/C8L,KAAKw1B,MA9BZkB,EAAGva,OAAO,gDACPzB,GAAG,QAAS,QA7JrB,GACEyH,GAAStyB,EAAAlH,QAAEupC,SACX7P,EAASxyB,EAAAlH,QAAEupC,SACXjP,EAAcpzB,EAAAlH,QAAEupC,SAChBpP,EAAcjzB,EAAAlH,QAAEupC,QAiNlB,OApBAD,GAAM9P,OAAS,SAAUvE,GACvB,MAAK3yB,WAAUC,QACfi3B,EAASvE,EACFqU,GAFuB9P,GAIhC8P,EAAM5P,OAAS,SAAUzE,GACvB,MAAK3yB,WAAUC,QACfm3B,EAASzE,EACFqU,GAFuB5P,GAIhC4P,EAAMhP,YAAc,SAAUrF,GAC5B,MAAK3yB,WAAUC,QACf+3B,EAAcrF,EACPqU,GAFuBhP,GAIhCgP,EAAMnP,YAAc,SAAUlF,GAC5B,MAAK3yB,WAAUC,QACf43B,EAAclF,EACPqU,GAFuBnP,GAIzBmP,EAGM,QAASiF,GAAT3oC,GAAmE,GAA5C4zB,GAA4C5zB,EAA5C4zB,OAAQE,EAAoC9zB,EAApC8zB,OAAQY,EAA4B10B,EAA5B00B,YAAaH,EAAev0B,EAAfu0B,WAEjE,QACEkP,WAAYA,IACT7P,OAAOA,GACPE,OAAOA,GACV4Q,oBAAqBA,IAClB9Q,OAAOA,GACPE,OAAOA,GACV8Q,uBAAwBA,IACrBhR,OAAOA,GACPE,OAAOA,GACVgR,gCAAiCA,IAC9BlR,OAAOA,GACPE,OAAOA,GACV6R,UAAWA,IACR/R,OAAOA,GACPE,OAAOA,GACPY,YAAYA,GACZH,YAAYA,I/CkiJlBpyB,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAI2vB,GAAkBh4B,EAAoB,IAEtCi4B,EAAkBh4B,EAAuB+3B,GAEzC1vB,EAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,EAEvCvI,G+C1kKe0pC,a/C2kKf1pC,E+C97Je2qC,sB/C+7Jf3qC,E+C75Je6qC,yB/C85Jf7qC,E+Cp3Je+qC,kC/Cq3Jf/qC,E+C9xJe4rC,Y/C+xJf5rC,EAAQK,Q+CtkJeuuC,CAjqBxB,IAAAC,GAAA5uC,EAAA,IAAYiwB,E/C2uKF3Y,EAAwBs3B,E+C1uKlC5uC,GAAA,IACA,IAAA0I,GAAA1I,EAAA,G/C+uKKsH,EAAWrH,EAAuByI,G+C9uKvC0U,EAAApd,EAAA,GAoaM6uC,EAAW,EAAI9sC,KAAKK,KAAK,GACzBqpC,IACFC,KAAOzpC,EAAG,EAAGE,EAAG,GAAKmb,OAAQ,cAC7BouB,KAAOzpC,GAAG,EAAIE,EAAG,GAAKmb,OAAQ,cAC9BouB,KAAOzpC,EAAG,EAAGE,EAAG,GAAKmb,OAAQ,cAC7BouB,KAAOzpC,EAAG,EAAGE,GAAG,GAAMmb,OAAQ,cAC9BouB,KAAOzpC,EAAG4sC,EAAU1sC,EAAG0sC,GAAYvxB,OAAQ,gBAC3CouB,KAAOzpC,GAAG,EAAK4sC,EAAU1sC,GAAG,EAAK0sC,GAAYvxB,OAAQ,gBACrDouB,KAAOzpC,EAAG4sC,EAAU1sC,GAAG,EAAK0sC,GAAYvxB,OAAQ,gBAChDouB,KAAOzpC,GAAG,EAAK4sC,EAAU1sC,EAAG0sC,GAAYvxB,OAAQ,gBAe9C8wB,EACJ,iCACAU,KACF,mWAIE,wB/Cg7KI,SAAUhvC,EAAQC,EAASC,GAEhC,YAgDA,SAASsX,GAAwBpX,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIqX,KAAa,IAAW,MAAPrX,EAAe,IAAK,GAAIsS,KAAOtS,GAAWiI,OAAOqP,UAAUtD,eAAeuD,KAAKvX,EAAKsS,KAAM+E,EAAO/E,GAAOtS,EAAIsS,GAAgC,OAAtB+E,GAAOnX,QAAUF,EAAYqX,EAElQ,QAAStX,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GgD35LxF,QAAS6uC,GAAa1rC,EAAO2rC,EAAM3oC,GACjC,MAAOiB,GAAAlH,QAAE6uC,MACPltC,KAAKmtC,KAAK7rC,EAAQgD,GAAWA,EAC7B2oC,EACA3oC,GAGJ,QAAS8oC,GAAcC,EAAIC,GAMzB,MAAO,IAAIpf,GAAGmK,aAAakV,YACzBD,EAAG79B,EAAI49B,EAAG59B,GACT69B,EAAGptC,EAAIotC,EAAG79B,EAAI49B,EAAGntC,EAAImtC,EAAG59B,GAAK69B,EAAG79B,GAChC69B,EAAGltC,EAAIktC,EAAG79B,EAAI49B,EAAGjtC,EAAIitC,EAAG59B,GAAK69B,EAAG79B;ChD21LpCrJ,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIwU,GAAa7c,EAAoB,GAEjC4b,EAAc3b,EAAuB4c,GAErCmb,EAAkBh4B,EAAoB,IAEtCi4B,EAAkBh4B,EAAuB+3B,GAEzCxvB,EAAsBxI,EAAoB,IAE1CyI,EAAsBxI,EAAuBuI,GAE7CF,EAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GAEnC6J,EAAmBnS,EAAoB,IAEvCoS,EAAmBnS,EAAuBkS,GgDx4L/Cy8B,EAAA5uC,EAAA,IAAYiwB,EhD44LF3Y,EAAwBs3B,GgD34LlCW,EAAAvvC,EAAA,KhD+4LKwvC,EAAcvvC,EAAuBsvC,GgD94L1C7mC,EAAA1I,EAAA,GhDk5LKsH,EAAWrH,EAAuByI,GgDj5LvC+gB,EAAAzpB,EAAA,IACAod,EAAApd,EAAA,GhDs5LKopB,EAAYnpB,EAAuBmd,GgDr5LxCkc,EAAAt5B,EAAA,IhDy5LKu5B,EAAYt5B,EAAuBq5B,EAcvCv5B,GAAQK,SgD34LPqvC,YALa,WAMc,WAArBtlC,KAAKuxB,cACc,cAArBvxB,KAAKuxB,aAAoD,YAArBvxB,KAAKuxB,cAA+BvxB,KAAKiyB,eAAgBjyB,KAAKkyB,iBAClGlyB,KAAKulC,WAEkB,oBAArBvlC,KAAKuxB,aACPvxB,KAAKwlC,yBAEkB,UAArBxlC,KAAKuxB,aACPvxB,KAAKylC,iBAEkB,mBAArBzlC,KAAKuxB,aACPvxB,KAAK0lC,kBAGTA,eApBa,WAoBI,GAAApjC,GAAAtC,IACf,IAAKA,KAAKoyB,qBAAV,CACA,GACEuT,GAAa7f,EAAGqc,MAAMniC,KAAKinB,MAAMnH,MACjC8lB,GAAc9tC,EAAG6tC,EAAW,GAAI3tC,EAAG2tC,EAAW,IAC9CE,EAAW7lC,KAAK8lC,eAAeF,GAC/Bv8B,EAAQrJ,KAAK8qB,aAAa5gB,OAAOzH,KAAK,SAACsjC,GACrC,GAAM/gC,GAAO7H,EAAAlH,QAAEwM,KAAKH,EAAK0vB,qBAAqB9tB,OAASvB,GAAIojC,EAAG/hC,SAC9D,SAAKgB,GAIEia,EAAAhpB,QAAgBiP,YAAY2gC,EAAU7gC,EAAK/B,WAEjDoG,IACLrJ,KAAKujB,OAAOpa,SAAS,8BAArB,EAAAlB,EAAAhS,UACEoT,SACCrJ,KAAKqyB,iBAAmBryB,KAAKoyB,qBAAqBzvB,OAGvD8iC,eAxCa,WAyCXzlC,KAAKujB,OAAOpa,SAAS,uCAAwCnJ,KAAK8qB,aAAa5gB,OAAO,KAExF87B,kBA3Ca,WA4CX,GACEL,GAAa7f,EAAGqc,MAAMniC,KAAKinB,MAAMnH,MACjC8lB,GAAc9tC,EAAG6tC,EAAW,GAAI3tC,EAAG2tC,EAAW,IAC9CE,EAAW7lC,KAAK8lC,eAAeF,GAC/B9uC,EAAYqG,EAAAlH,QAAEie,MACZlU,KAAKq0B,yBAAyBwR,GAC9B,SAAA1O,GAAA,OAAM,EAAAlkB,EAAAzb,uBAAsB2/B,EAAI0O,KAClCI,EAAanvC,IAAa,EAAAmc,EAAAzb,uBAAsBV,EAAW+uC,EAC7D,QAAK/uC,GAAamvC,EAAajmC,KAAK9D,QAAU,EACrC,KAEFpF,GAETm6B,cAzDa,SAyDCvuB,GACO,IAAdA,EAAEwhB,SAA+B,KAAdxhB,EAAEwhB,SACrB/mB,EAAAlH,QAAE6oB,UAAU,QAAS,YAAa8E,SAASsiB,cAAcC,QAAQzZ,gBACpE1sB,KAAKomC,iBAGTA,cA/Da,WAgEU,eAAjBpmC,KAAKsxB,SACPtxB,KAAKqmC,2BAGTA,wBApEa,WAqEX,GAAMvvC,GAAYkJ,KAAKmyB,wBACvB,IAAKr7B,EAAL,CAGA,GAAMwvC,IAAYlnB,SAAUpf,KAAK8qB,aAAanoB,GAAI+F,QAAU/F,GAAI7L,EAAU6L,IACnD,aAAnB7L,EAAUgI,KACZkB,KAAKujB,OAAOpa,SAAS,uBAAwBm9B,GACjB,yBAAnBxvC,EAAUgI,KACnBkB,KAAKujB,OAAOpa,SAAS,mCAAoCm9B,GAEzDpe,QAAQ9mB,MAAR,qCAAmDtK,KAGvD0uC,uBAlFa,WAoFX,GAAMe,IAAWzgB,EAAG6P,MAAMtR,UAAmBrkB,KAAKgmC,mBAClD,IAAIO,EAEF,YADAvmC,KAAK0yB,2BAA6B6T,EAAS5jC,GAK7C,IAAkC,uBAA9B3C,KAAKsyB,qBACPtyB,KAAKwmC,kBACA,IAAkC,oCAA9BxmC,KAAKsyB,qBAGd,KAAM,IAAIvxB,OAAJ,+BAAyCf,KAAKsyB,qBAFpDtyB,MAAKymC,4BAKTC,2BAnGa,WAoGX,GAAI5gB,EAAG6P,MAAMtR,SACX,MAAO,KAET,IAAMvtB,GAAYkJ,KAAKgmC,mBAEvB,IADAhmC,KAAK+vB,yBAA2Bj5B,GAAaA,EAAU6L,GAClD7L,EAEE,GAAuB,YAAnBA,EAAUgI,KACnBkB,KAAK2mC,yBAAyB7vC,OACzB,IAAuB,yBAAnBA,EAAUgI,KAGnB,KAAM,IAAIiC,OAAJ,+BAAyCf,KAAKsyB,qBAFpDtyB,MAAK4mC,qCAAqC9vC,QAI5C,MAAOA,IAET0vC,YApHa,WAqHX,GACEb,GAAa7f,EAAGqc,MAAMniC,KAAKinB,MAAMnH,MACjC8lB,GAAc9tC,EAAG6tC,EAAW,GAAI3tC,EAAG2tC,EAAW,IAC9CE,EAAW7lC,KAAK8lC,eAAeF,GAC/B1lB,GAAM,EAAAZ,EAAA1K,kBACJ5U,KAAK6U,SACL7U,KAAKszB,WAAYuS,EACjB7lC,KAAKuyB,2BAA2C,EAAfvyB,KAAK9D,QAAa8D,KAAK9D,QAG5D,IAAKgkB,EAAL,CAEA,GAAMomB,IACJlnB,SAAUpf,KAAK8qB,aAAanoB,GAC5BP,QAAS8d,EAAI9d,QACb2M,qBAAsB/O,KAAKuyB,2BAA2B5vB,GACtD3F,MAAOkjB,EAAIljB,MAEbgD,MAAKujB,OAAOpa,SAAS,sBAAuBm9B,KAE9CO,mBAzIa,WA0Ic,UAArB7mC,KAAKuxB,YACPzL,EAAG2D,OAAO,qBAAqBqV,QAE/BhZ,EAAG2D,OAAO,qBAAqBqd,SAGnCL,wBAhJa,WAiJX,GACEd,GAAa7f,EAAGqc,MAAMniC,KAAKinB,MAAMnH,MACjC8lB,GAAc9tC,EAAG6tC,EAAW,GAAI3tC,EAAG2tC,EAAW,IAC9CE,GACE/tC,EAAGkI,KAAK+mC,UAAUnB,EAAU9tC,EAAG,KAC/BE,EAAGgI,KAAK+mC,UAAUnB,EAAU5tC,EAAG,MAEjCkoB,GAAM,EAAAZ,EAAAxK,wBACJ9U,KAAK6U,SACL7U,KAAK4f,WAAYimB,EAAU7lC,KAAK9D,QAEpC,IAAKgkB,EAAL,CAEA,GAAMomB,kBACJlnB,SAAUpf,KAAK8qB,aAAanoB,GAC5BqB,QAASkc,EAAIlc,QACboL,kCAAmCpP,KAAKuyB,2BAA2B5vB,IAChEud,EAELlgB,MAAKujB,OAAOpa,SAAS,kCAAmCm9B,KAO1Df,SA3Ka,WA6KX,GACEI,GAAa7f,EAAGqc,MAAMniC,KAAKinB,MAAMnH,MACjC8lB,GAAc9tC,EAAG6tC,EAAW,GAAI3tC,EAAG2tC,EAAW,IAC9CqB,EAAahnC,KAAKinC,eAAerB,EAGnC,IAAwB,WAApBoB,EAAWloC,MAAqBkoC,EAAWE,QAA+B,YAArBlnC,KAAKuxB,YAE5D,WADAvxB,MAAKmnC,iBAKP,IAAMC,GAA+B,SAApBJ,EAAWloC,KAAkBkoC,EAAW5jC,WAAa4jC,CACtEhnC,MAAKgC,OAAOtF,KAAK0qC,GACjBpnC,KAAKqnC,aAGoB,WAArBrnC,KAAKuxB,aAAmD,IAAvBvxB,KAAKgC,OAAOxJ,QAAgBwH,KAAKsnC,4BAC7C,cAArBtnC,KAAKuxB,aAAsD,IAAvBvxB,KAAKgC,OAAOxJ,QAAgBwH,KAAKunC,uBAS3E1W,oBAxMa,SAwMOnuB,GAElB,GAA2B,WAArB1C,KAAKuxB,aACW,oBAArBvxB,KAAKuxB,aAAqCvxB,KAAKuyB,6BACzB,cAArBvyB,KAAKuxB,aAAoD,YAArBvxB,KAAKuxB,eAA+BvxB,KAAKiyB,cAAgBjyB,KAAKkyB,gBAFpG,CAKAlyB,KAAK4zB,iBAIL,IAAIgS,SACJ,IAAI9f,EAAG6P,gBAAiB6R,YAAY,CAElC,GAAM7B,GAAa7f,EAAGqc,MAAMniC,KAAKinB,MAAMnH,KACvC8lB,IAAc9tC,EAAG6tC,EAAW,GAAI3tC,EAAG2tC,EAAW,QAE9CC,GAAY5lC,KAAKkwB,iBAEnB,IAAK0V,EAAL,CAIA,GAAyB,oBAArB5lC,KAAKuxB,YAEP,WADAvxB,MAAKynC,kCAAkC7B,EAIzC,IAAMoB,GAAahnC,KAAKinC,eAAerB,GAGjC8B,EAAiC,SAApBV,EAAWloC,KAAkBkoC,EAAW5jC,WACzD4jC,EAEIW,EAAeX,EAAWlhC,UAAYkhC,EAAWjhC,WAAa2hC,CACpE1nC,MAAK4nC,eAAellC,EAAGglC,GAIC,SAApBV,EAAWloC,MAAuC,WAApBkoC,EAAWloC,KAC3CgnB,EAAG2D,OAAO,aACTO,OAAO,WACPC,KAAK,KAAMjqB,KAAK0vB,UAAUiY,EAAa7vC,EAAG,MAC1CmyB,KAAK,KAAMjqB,KAAK0vB,UAAUiY,EAAa3vC,EAAG,MAC1CiyB,KAAK,KAAM,GACXA,KAAK,KAAM,GACXsU,QAAQ,aAAa,GACrBtU,KAAK,qBAAsB,IAC3BA,KAAK,gBAAiB,sBAEvBnE,EAAG2D,OAAO,aACTO,OAAO,WACPC,KAAK,KAAMjqB,KAAK0vB,UAAUiY,EAAa7vC,EAAG,MAC1CmyB,KAAK,KAAMjqB,KAAK0vB,UAAUiY,EAAa3vC,EAAG,MAC1CiyB,KAAK,KAAM,GACXA,KAAK,KAAM,GACXsU,QAAQ,aAAa,GACrBtU,KAAK,qBAAsB,IAC3BA,KAAK,gBAAiB,sBAID,SAApB+c,EAAWloC,MAAwC,WAArBkB,KAAKuxB,aACrCzL,EAAG2D,OAAO,aACTO,OAAO,QACPC,KAAK,KAAMjqB,KAAK0vB,UAAUsX,EAAWa,aAAa/vC,EAAG,MACrDmyB,KAAK,KAAMjqB,KAAK0vB,UAAUsX,EAAWa,aAAa7vC,EAAG,MACrDiyB,KAAK,KAAMjqB,KAAK0vB,UAAUsX,EAAWc,aAAahwC,EAAG,MACrDmyB,KAAK,KAAMjqB,KAAK0vB,UAAUsX,EAAWc,aAAa9vC,EAAG,MACrDiyB,KAAK,eAAgB,GACrBsU,QAAQ,aAAa,GACrBtU,KAAK,qBAAsB,IAC3BA,KAAK,gBAAiB,sBAIzBjqB,KAAKkwB,kBAAoB0V,KAG3BhS,gBAvRa,WAwRX9N,EAAGgE,UAAU,wDAAwDJ,SACrE1pB,KAAK+vB,yBAA2B,MAElCgY,yBA3Ra,WA4RXjiB,EAAGgE,UAAU,gDAAgDJ,SAC7D1pB,KAAK+vB,yBAA2B,MAElC0X,kCA/Ra,SA+RqB7B,GAC5B5lC,KAAK0mC,8BAIT1mC,KAAKgoC,0BAA0BpC,IAGjCoC,0BAvSa,SAuSapC,GACU,uBAA9B5lC,KAAKsyB,qBACPtyB,KAAKioC,gBAAgBrC,GAErB5lC,KAAKkoC,4BAA4BtC,IAIrCqC,gBA/Sa,SA+SGrC,GACd,GACEC,GAAW7lC,KAAK8lC,eAAeF,GAC/B1lB,GAAM,EAAAZ,EAAA1K,kBACJ5U,KAAK6U,SACL7U,KAAKszB,WAAYuS,EACjB7lC,KAAKuyB,2BAA2C,EAAfvyB,KAAK9D,QAAa8D,KAAK9D,QAGvDgkB,KACL4F,EAAG2D,OAAO,aACPO,OAAO,KACPuU,QAAQ,aAAa,GACrBzU,UAAU,WACV1G,OAAK,EAAAhlB,EAAAnI,YACDiqB,GACHxR,uBAAwB1O,KAAKuyB,2BAA2B7jB,uBACxDvS,MAAO6D,KAAKuyB,2BAA2Bp2B,MACvCD,QAAS8D,KAAKuyB,2BAA2Blb,mBAE1C/J,KAAKtN,KAAKs/B,YACbt/B,KAAK2mC,yBAAyBzmB,KAEhCymB,yBAtUa,SAsUYzmB,GACvB4F,EAAG2D,OAAO,aACPO,OAAO,KACPuU,QAAQ,aAAa,GACrBzU,UAAU,qBACV1G,MAAMlD,IACN5S,KAAKtN,KAAKugC,sBAEf2H,4BA9Ua,SA8UetC,GAC1B,GACEC,GAAW7lC,KAAK8lC,eAAeF,GAC/B1lB,GAAM,EAAAZ,EAAAxK,wBACJ9U,KAAK6U,SACL7U,KAAK4f,WAAYimB,EACjB7lC,KAAK9D,QAEJgkB,KACL4F,EAAG2D,OAAO,aACPO,OAAO,KACPuU,QAAQ,aAAa,GACrBzU,UAAU,wBACV1G,MAAMlD,IACN5S,KAAKtN,KAAKygC,wBAEbzgC,KAAK4mC,qCAAqC1mB,KAE5C0mB,qCAhWa,SAgWwB1mB,GACnC,GACElb,GAAO7H,EAAAlH,QAAEwM,KAAKzC,KAAKgyB,qBAAqB9tB,OAASvB,GAAIud,EAAIlc,UACzDmI,EAAUnM,KAAKs0B,cAActvB,GAC7B87B,GAAc,EAAAxhB,EAAAnL,mBAAkBhI,EAAS+T,KAAQ,EAAAZ,EAAAvL,iBAAgB/O,EAAKxC,MAAO0d,EAC/E4F,GAAG2D,OAAO,aACPO,OAAO,KACPuU,QAAQ,aAAa,GACrBzU,UAAU,kCACV1G,OAAQlD,MAAK4gB,iBACbxzB,KAAKtN,KAAK2gC,kCAOfiH,eAjXa,SAiXEllC,EAAGglC,GAAY,GAAA5jC,GAAA9D,IAC5B,IAAKA,KAAKgC,OAAOxJ,OAAjB,CAGAwH,KAAKmoC,iBAEL,IAAIC,UAAiBC,QAII,aAArBroC,KAAKuxB,aACP6W,GAAmBV,EAAY1nC,KAAKgC,OAAOhC,KAAKgC,OAAOxJ,OAAS,IAChE6vC,GAAkBD,IACY,cAArBpoC,KAAKuxB,aAAoD,WAArBvxB,KAAKuxB,cAClD6W,GACEpoC,KAAKgC,OAAO,IACVlK,EAAG4vC,EAAW5vC,EAAGE,EAAGgI,KAAKgC,OAAO,GAAGhK,GACrC0vC,GACE5vC,EAAGkI,KAAKgC,OAAO,GAAGlK,EAAGE,EAAG0vC,EAAW1vC,GACrCgI,KAAKgC,OAAO,IAGdqmC,IACGD,EAAgB,GAAIA,EAAgB,KACpCA,EAAgB,GAAIA,EAAgB,KAIzC,IACEE,GAAqC,YAArBtoC,KAAKuxB,eAAL3rB,QAAA,EAAAtH,EAAArI,SAAqC+J,KAAKgC,SAAQ0lC,EAAY1nC,KAAKgC,OAAO,KAAMomC,EAChGG,GAAkBD,EAAetoC,KAAKgC,QACtCwmC,EAAM1iB,EAAG2D,OAAO,YAkClB,IA/BA+e,EAAI1e,UAAU,mBACbE,OAAO,QACPmU,MAAMiK,GACNne,KAAK,OAAQ,QACbsU,QAAQ,4BAA4B,GACpCtU,KAAK,gBAAiB,sBACtBA,KAAK,qBAAsB,IAC3BA,KAAK,IAAKnE,EAAGzrB,OAAOvC,EAAE,SAAAwX,GAAA,MAAKxL,GAAK4rB,UAAUpgB,EAAExX,EAAG,OAC3BE,EAAE,SAAAsX,GAAA,MAAKxL,GAAK4rB,UAAUpgB,EAAEtX,EAAG,QAC/C8uC,QAGD0B,EAAI1e,UAAU,mBACb1G,KAAKmlB,GACLxe,QACAC,OAAO,WACPC,KAAK,SAAU,SAAA3a,GAAA,MAAKA,GAAExS,IAAI,SAAAoC,GAAA,OACtB4E,EAAK4rB,UAAUxwB,EAAEpH,EAAG,KAAMgM,EAAK4rB,UAAUxwB,EAAElH,EAAG,MAC9CuX,KAAK,OACNA,KAAK,OACRgvB,QAAQ,sCAAsC,GAC9CtU,KAAK,gBAAiB,sBACtBA,KAAK,qBAAsB,IAC3BA,KAAK,OAAQ,WACZ,MAAyB,WAArBnmB,EAAKytB,YAAmC,OACxCztB,EAAKmuB,aAAuBnuB,EAAKmuB,aAAajkB,MAC9ClK,EAAKouB,eAAyBpuB,EAAKouB,eAAelkB,MAC/C,OAIgB,WAArBhO,KAAKuxB,YAAT,CAoBA,GAjBAiX,EAAI1e,UAAU,mBACb1G,KAAKilB,GACLte,QACAC,OAAO,QACPC,KAAK,IAAK,SAAA3a,GAAA,MAAKxL,GAAK4rB,UAAUpgB,EAAE,GAAGxX,EAAG,MAAQgM,EAAK4rB,UAAUpgB,EAAE,GAAGxX,EAAG,KAAOgM,EAAK4rB,UAAUpgB,EAAE,GAAGxX,EAAG,MAAQ,IAC3GmyB,KAAK,IAAK,SAAA3a,GAAA,MAAKxL,GAAK4rB,UAAUpgB,EAAE,GAAGtX,EAAG,MAAQ8L,EAAK4rB,UAAUpgB,EAAE,GAAGtX,EAAG,KAAO8L,EAAK4rB,UAAUpgB,EAAE,GAAGtX,EAAG,MAAQ,IAC3GiyB,KAAK,MAAM,MAASjqB,KAAKspB,UAAUjiB,EAAI,EAAI,EAAIrH,KAAKspB,UAAUjiB,GAAK,MACnE4iB,KAAK,qBAAsB,IAC3B8V,KAAK,SAACzwB,GACL,GAAM/T,GAAOuI,EAAKtM,sBAAsB8X,EAAE,GAAIA,EAAE,GAChD,OAAO/T,GAAOA,EAAKktC,QAAQ,GAAK,KAEjClK,QAAQ,2CAA2C,GACnDtU,KAAK,cAAe,cACpBA,KAAK,OAAQ,OACb8J,MAAM,YAAa,OAEhBuU,EAAc9vC,OAAS,EAAG,CAE1B,GAAAkwC,GAAaJ,EAAcxrC,IAAI,SAACoC,GAC9B,GAAMpH,GAAIoH,EAAEpH,EAAGE,EAAIkH,EAAElH,CACrB,QAASF,IAAGE,IAAGmH,EAAGrH,EAAGsH,EAAGpH,KAF1B2wC,EAIiB3oC,KAAKg1B,qBAAqB0T,GAAzC5wC,EAJF6wC,EAIE7wC,EAAGE,EAJL2wC,EAIK3wC,EAAG4wC,EAJRD,EAIQC,KACRC,EAAkBD,EAAOA,EAAKE,WAAW1d,QAAQ,0BAA2B,OAAS,GACrF2d,EAAcF,EANd,IAMiC7oC,KAAK6gB,MANtC,GAQF,IAAU,OAAN/oB,GAAoB,OAANE,EAEhB,MAIFwwC,GAAIxe,OAAO,QACVC,KAAK,IAAKjqB,KAAK0vB,UAAU53B,EAAG,MAC5BmyB,KAAK,IAAKjqB,KAAK0vB,UAAU13B,EAAG,MAC5B+nC,KAAKgJ,GACLxK,QAAQ,0DAA0D,GAClEtU,KAAK,qBAAsB,IAC3BA,KAAK,cAAe,UACpBA,KAAK,cAAe,cACpBA,KAAK,OAAQ,OACb8J,MAAM,YAAa,OACnB+K,QAGHhZ,EAAGgE,UAAU,0BAA0Bgd,WAKzCqB,gBAxea,WAyeXriB,EAAGgE,UAAU,oBAAoBJ,UAKnCsH,aA9ea,SA8eAtuB,GACI,WAAXA,EAAEsmC,MAAiC,KAAZtmC,EAAEumC,QAC3BjpC,KAAKgC,UACLhC,KAAK4zB,kBACL9N,EAAGgE,UAAU,qBAAqBJ,WAQtCyd,gBA1fa,WA2fXnnC,KAAK4zB,kBACL9N,EAAGgE,UAAU,qBAAqBJ,QAElC,IAAM4c,IACJtkC,+BAAYhC,KAAKgC,SAGfhC,MAAKiyB,aACPqU,EAAQ4C,SAAWlpC,KAAKiyB,aAAatvB,GAC5B3C,KAAKkyB,iBACdoU,EAAQ4C,SAAWlpC,KAAKkyB,eAAevvB,IAGzC3C,KAAKujB,OAAOpa,SAAS,gCAAiCm9B,GAGtDtmC,KAAKgC,WAOPulC,oBAlhBa,WAmhBXvnC,KAAK4zB,kBACL9N,EAAGgE,UAAU,qBAAqBJ,QAGlC,IAAM4c,KAENA,GAAQtkC,QACNhC,KAAKgC,OAAO,IACVlK,EAAGkI,KAAKgC,OAAO,GAAGlK,EAAGE,EAAGgI,KAAKgC,OAAO,GAAGhK,GACzCgI,KAAKgC,OAAO,IACVlK,EAAGkI,KAAKgC,OAAO,GAAGlK,EAAGE,EAAGgI,KAAKgC,OAAO,GAAGhK,IAGvCgI,KAAKiyB,aACPqU,EAAQ4C,SAAWlpC,KAAKiyB,aAAatvB,GAC5B3C,KAAKkyB,iBACdoU,EAAQ4C,SAAWlpC,KAAKkyB,eAAevvB,IAEzC3C,KAAKujB,OAAOpa,SAAS,gCAAiCm9B,GAGtDtmC,KAAKgC,WASPslC,0BAjjBa,WAmjBXtnC,KAAK4zB,kBACL9N,EAAGgE,UAAU,qBAAqBJ,QAElC,IAAM4c,IACJtkC,QACEhC,KAAKgC,OAAO,IACVlK,EAAGkI,KAAKgC,OAAO,GAAGlK,EAAGE,EAAGgI,KAAKgC,OAAO,GAAGhK,GACzCgI,KAAKgC,OAAO,IACVlK,EAAGkI,KAAKgC,OAAO,GAAGlK,EAAGE,EAAGgI,KAAKgC,OAAO,GAAGhK,IAI7CgI,MAAKujB,OAAOpa,SAAS,0BAA2Bm9B,GAGhDtmC,KAAKgC,WAQPqlC,WA1kBa,WA0kBA,GAAApjC,GAAAjE,IAEX8lB,GAAGgE,UAAU,qBAAqBJ,QAGlC,IAAMyf,GAAYrjB,EAAG2D,OAAO,aAC3BK,UAAU,sBAAsB1G,KAAKpjB,KAAKgC,OAE3CmnC,GAAU7K,MACR6K,EAAUpf,QAAQC,OAAO,WAAWC,KAAK,QAAS,eAEnDsU,QAAQ,SAAU,SAACjvB,EAAG0C,GAAJ,MAAkB,KAAPA,IAC7BiY,KAAK,qBAAsB,IAC3BA,KAAK,KAAM,SAAA3a,GAAA,MAAKrL,GAAKyrB,UAAUpgB,EAAExX,EAAG,OACpCmyB,KAAK,KAAM,SAAA3a,GAAA,MAAKrL,GAAKyrB,UAAUpgB,EAAEtX,EAAG,OACpCiyB,KAAK,KAAM,SAAC3a,EAAG0C,GAAJ,MAAmB,KAAPA,EAAW,EAAI,IACtCiY,KAAK,KAAM,SAAC3a,EAAG0C,GAAJ,MAAmB,KAAPA,EAAW,EAAI,IACtCiY,KAAK,gBAAiB,sBACtBA,KAAK,OAAQ,SAAC3a,EAAG0C,GAAJ,MAAmB,KAAPA,EAAW,OAAS,KAG9C8T,EAAG2D,OAAO,aAAaO,OAAO,QAAQC,KAAK,QAAS,cACnDkU,MAAMn+B,KAAKgC,QACXioB,KAAK,OAAQ,QACbA,KAAK,gBAAiB,sBACtBA,KAAK,qBAAsB,IAC3BA,KAAK,IAAKnE,EAAGzrB,OAAOvC,EAAE,SAAAwX,GAAA,MAAKrL,GAAKyrB,UAAUpgB,EAAExX,EAAG,OAAME,EAAE,SAAAsX,GAAA,MAAKrL,GAAKyrB,UAAUpgB,EAAEtX,EAAG,QAEhF8uC,QAGDhhB,EAAGgE,UAAU,0BAA0Bgd,SAEzCsC,aA3mBa,WA4mBX,GAAMjW,GAAWrN,EAAG2D,OAAO,aAAaK,UAAU,UAElD9pB,MAAKqpC,mBAAmBlW,GACC,WAArBnzB,KAAKuxB,YACPvxB,KAAKspC,qBAAqBnW,GACI,SAArBnzB,KAAKuxB,aACdvxB,KAAKupC,mBAAmBpW,IAG5BkW,mBArnBa,SAqnBMlW,GACjBA,EACGnL,GAAG,QAAS,MACZA,GAAG,QAAS,OAGjBuhB,mBA3nBa,SA2nBMpW,GAAU,GAAAxuB,GAAA3E,IAC3BmzB,GAASnL,GAAG,QAAS,SAAC1Y,IAChB3K,EAAKstB,cAAgBttB,EAAKutB,kBAC5BvtB,EAAK3C,UAAL4D,QAAA,EAAAtH,EAAArI,SAAkBqZ,EAAEtN,SACpB2C,EAAKwiC,sBAKXmC,qBApoBa,SAooBQnW,GAAU,GAAApuB,GAAA/E,KAEzByhC,SAAQC,SAGNK,EAAOjc,EAAGic,OACb/Z,GAAG,QAAS,SAAC1Y,GAAM,GAAA4yB,GACCpc,EAAGqc,MAAMp9B,EAAKkiB,MAAMnH,MADrBuiB,GAAA,EAAAvU,EAAA73B,SAAAisC,EAAA,EACjBT,GADiBY,EAAA,GACTX,EADSW,EAAA,GAEd/yB,EAAEyS,iBAGNhd,EAAK0tB,oBAAsBrD,EAAAn5B,QAAamU,aAAarF,EAAKwe,OAAO5a,MAAM2B,OAAQgF,EAAEtL,YAElFgkB,GAAG,OAAQ,SAAC1Y,GACX,IAAIA,EAAEyS,eAAN,CADiB,GAAAugB,GAGMxc,EAAGqc,MAAMp9B,EAAKkiB,MAAMnH,MAH1ByiB,GAAA,EAAAzU,EAAA73B,SAAAqsC,EAAA,GAGVX,EAHUY,EAAA,GAGHX,EAHGW,EAAA,EAIjBzc,GAAG2D,OAAH,SAAmBna,EAAEtL,SAClBimB,KAAK,YAAa,+BAAmB0X,EAAQF,GAA3B,MAAsCG,EAAQF,GAA9C,SAEtB1Z,GAAG,MAAO,SAAC1Y,GACV,IAAIA,EAAEyS,eAAN,CADgB,GAAAghB,GAIKjd,EAAGqc,MAAMp9B,EAAKkiB,MAAMnH,MAJzBkjB,GAAA,EAAAlV,EAAA73B,SAAA8sC,EAAA,GAITyG,EAJSxG,EAAA,GAIHyG,EAJGzG,EAAA,EAKhBj+B,GAAKwe,OAAOpa,SAAS,6BACnBnF,QAASsL,EAAEtL,QACXrM,GAAIoN,EAAKgiC,UAAUyC,EAAM,KAAOzkC,EAAKgiC,UAAUtF,EAAQ,KACvD1pC,GAAIgN,EAAKgiC,UAAU0C,EAAM,KAAO1kC,EAAKgiC,UAAUrF,EAAQ,SAG7DvO,GAAS7lB,KAAKy0B,IAMhB2H,aAzqBa,WAyqBE,GAAAtjC,GAAApG,IACbA,MAAK2pC,cAEL,IAAIroC,GAAOwkB,EAAG2D,OAAO,uBAAuBK,UAAU,UACnD1G,KAAKpjB,KAAKmzB,SAAU,SAAA7jB,GAAA,MAAKA,GAAEtL,SAE9B1C,GAAK+9B,OAAO3V,QACZ,IAAMkgB,GAAYtoC,EAAKyoB,QAAQC,OAAO,KAAKC,KAAK,QAAS,OACzD2f,GAAU5f,OAAO,WACjB4f,EAAU5f,OAAO,QAAQC,KAAK,QAAS,gBACvC2f,EAAU5f,OAAO,KAAKC,KAAK,QAAS,WACpC2f,EAAU5f,OAAO,KAAKC,KAAK,QAAS,wBAGpC3oB,EAAOsoC,EACJtL,MAAMh9B,GACR2oB,KAAK,QAAS,SAAC3a,GACd,MAAKlJ,GAAK6rB,cAAgB3iB,EAAEtL,UAAYoC,EAAK6rB,aAAajuB,SACzDoC,EAAK8rB,gBAAkB5iB,EAAEtL,UAAYoC,EAAK8rB,eAAeluB,QAAmB,UACzEsL,EAAEyS,eAAyB,gBACxB,OAERwc,QAAQ,QAAQ,GAChBtU,KAAK,kBAAmB,SAAA3a,GAAA,MAAKA,GAAEwlB,YAC/B7K,KAAK,KAAM,SAAA/qB,GAAA,cAAaA,EAAE8E,UAC1BimB,KAAK,YAAa,MAEnB3oB,EAAKmoB,OAAO,WACTQ,KAAK,KAAM,SAAA3a,GAAA,cAAaA,EAAEtL,UAC1BimB,KAAK,SAAU,SAAA3a,GAAA,MAAKA,GAAEtN,OAAOlF,IAAI,SAAAoC,GAAA,OAAMkH,EAAKspB,UAAUxwB,EAAEpH,EAAG,KAAMsO,EAAKspB,UAAUxwB,EAAElH,EAAG,MAAMuX,KAAK,OAAMA,KAAK,OAC3G0a,KAAK,OAAQ,SAAA3a,GAAA,MAAKA,GAAEtB,QACpBic,KAAK,gBAAiB,sBAGzB3oB,EAAKmoB,OAAO,QACTQ,KAAK,KAAM,SAAA/qB,GAAA,cAAaA,EAAE8E,UAC1BimB,KAAK,IAAK,SAAA/qB,GAAA,MAAKkH,GAAKspB,UAAUxwB,EAAE61B,cAAcj9B,EAAG,OACjDmyB,KAAK,IAAK,SAAA/qB,GAAA,MAAKkH,GAAKspB,UAAUxwB,EAAE61B,cAAc/8B,EAAG,OACjD+nC,KAAK,SAAA7gC,GAAA,MAAKA,GAAEyL,OACZsf,KAAK,cAAe,UACpB8J,MAAM,YAAa,QACnBA,MAAM,cAAe,QACrB9J,KAAK,cAAe,cACpBA,KAAK,OAAQ,OACbsU,QAAQ,gBAAgB,GAE3Bj9B,EAAKmoB,OAAO,YACTK,UAAU,WACV1G,KAAK,SAAA9T,GAAA,MAAKA,GAAEnD,UACZmB,KAAKtN,KAAKs/B,YAEbh+B,EAAKmoB,OAAO,yBACTK,UAAU,wBACV1G,KAAK,SAAA9T,GAAA,MAAKA,GAAEjD,uBACZiB,KAAKtN,KAAKygC,wBAEbzgC,KAAKopC,eAGLtjB,EAAG2D,OAAO,YAAYqV,SAExB+K,WAtuBa,WAuuBX/jB,EAAG2D,OAAO,qBAAqBK,UAAU,gBACtC1G,KAAKpjB,KAAKmK,OAAQ,SAAAmF,GAAA,MAAKA,GAAE3M,KACzB2K,KAAKtN,KAAKwhC,YAGf7N,KA5uBa,WA4uBU,GAAA16B,GAAAV,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,MAAhBuxC,EAAgB7wC,EAAhB6wC,OACL9pC,MAAKgwB,uBAAL,EAAA5xB,EAAAnI,YAAkC+J,KAAKspB,WACvCxD,EAAGgE,UAAU,wBACVG,KAAK,YAAa,IAErBjqB,KAAK0pC,eACL1pC,KAAK6pC,aACL7pC,KAAK6mC,oBAEL,IAAMkD,GAAeD,GAAW9pC,KAAKgC,OAAOxJ,OAAS,CACjDuxC,KACF/pC,KAAK6wB,sBACL7wB,KAAKqnC,eASTJ,eAjwBa,SAiwBErB,GAAyB,GAAApS,GAAAxzB,KAAdmO,EAAc5V,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,MACdyxC,EAAoB77B,EAApC87B,eAEFpE,GACJ/tC,EAAGkI,KAAK+mC,UAAUnB,EAAU9tC,EAAG,KAC/BE,EAAGgI,KAAK+mC,UAAUnB,EAAU5tC,EAAG,KAEjC,IAAsB,gBAAlBgI,KAAK6U,SACP,MAAO7U,MAAKkqC,kBAAkBrE,GAAU,EAG1C,IAAIlQ,MAAMtR,SAER,SAAAjmB,EAAAnI,UACE6I,KAAM,aACH+mC,EAKP,IAAImE,EAAiB,CACnB,GAAMG,GAAenqC,KAAKoqC,iBAAiBvE,EAC3C,OAAOsE,mBACLrrC,KAAM,aACH+mC,GAIP,GAAMwE,GAAiBrqC,KAAKsqC,mBAAmBzE,EAC/C,IAAIwE,EAAkB,MAAOA,EAE7B,IAAMF,GAAenqC,KAAKoqC,iBAAiBvE,EAC3C,IAAIsE,EAAgB,MAAOA,EAG3B,IAAInqC,KAAKqmB,YAAa,CAEpB,GAAMkkB,IAAWvqC,KAAK4vB,KAAK93B,EAAE2xB,OAAO,SAASQ,KAAK,aAAamB,QAAQ,aAAc,IAAIA,QAAQ,IAAK,IAAIof,MAAM,KAAK,GACrHC,GAAWzqC,KAAK4vB,KAAK53B,EAAEyxB,OAAO,SAASQ,KAAK,aAAamB,QAAQ,aAAc,IAAIA,QAAQ,IAAK,IAAIof,MAAM,KAAK,GAG/GE,EAAe1qC,KAAK0vB,UAAU1vB,KAAK9D,QAAU8D,KAAKqhB,MAAO,KAEzDspB,EAAe3qC,KAAK0vB,UAAU1vB,KAAKwhB,MAAQxhB,KAAK9D,QAAS,KAGnD8qC,GACJloC,KAAM,YACNhH,EAAGkI,KAAKyU,MAAMmxB,EAAU9tC,EAAGkI,KAAK0vB,UAAU1vB,KAAK9D,QAAU8D,KAAKqhB,MAAO,MAAQkpB,EAAU,GACvFvyC,EAAGgI,KAAKyU,MAAMmxB,EAAU5tC,EAAGgI,KAAK0vB,UAAU1vB,KAAKwhB,MAAQxhB,KAAK9D,QAAS,MAAQuuC,EAAU,GAOzF,OAHAzD,GAAWlvC,EAAIF,KAAKC,IAAI+tC,EAAU9tC,GAAKkvC,EAAWlvC,EAAI4yC,IAAiB9yC,KAAKC,IAAI+tC,EAAU9tC,EAAIkvC,EAAWlvC,GAAKkvC,EAAWlvC,EAAIkvC,EAAWlvC,EAAI4yC,EAC5I1D,EAAWhvC,EAAIJ,KAAKC,IAAI+tC,EAAU5tC,GAAKgvC,EAAWhvC,EAAI2yC,IAAiB/yC,KAAKC,IAAI+tC,EAAU5tC,EAAIgvC,EAAWhvC,GAAKgvC,EAAWhvC,EAAIgvC,EAAWhvC,EAAI2yC,EAErI3D,EAGJ,GAAIhnC,KAAKgC,OAAOxJ,OAAQ,CAC3B,GAOIoyC,GAPEC,IAAmB,KAAM,GAAK,EAAG,GAAI,KACrCC,EAAY9qC,KAAKgC,OAAOhC,KAAKgC,OAAOxJ,OAAS,GAE7CuyC,EAAWnzC,KAAKozC,MAAMF,EAAU9yC,EAAI4tC,EAAU5tC,EAAG8yC,EAAUhzC,EAAI8tC,EAAU9tC,IAC5E,IAAMF,KAAK0B,GAyBd,IArBAuxC,EAAgBn+B,KAAK,SAAC2zB,GAEpB,GAAIzoC,KAAKC,IAAIkzC,EAAW1K,GAAS7M,EAAKjQ,OAAOpB,QAAQ,0BAA2B,CAG9E,GAAIke,KAAU,KAAkB,IAAVA,GAAyB,MAAVA,EAEnC,OACEvoC,EAAG8tC,EAAU9tC,EACbE,EAAGw7B,EAAKyX,YAAYH,EAAWlF,EAAWvF,EAAQ0K,GAAU/yC,EAEzD,IAAIqoC,KAAU,IAAiB,KAAVA,EAE1B,OACEvoC,EAAG07B,EAAKyX,YAAYH,EAAWlF,EAAWvF,EAAQ0K,GAAUjzC,EAC5DE,EAAG4tC,EAAU5tC,MAMjB4yC,EACF,SAAAxsC,EAAAnI,UACE6I,KAAM,aACH8rC,GAMT,SAAAxsC,EAAAnI,UACE6I,KAAM,aACH8mC,IAIPsE,kBAz2Ba,SAy2BKl3B,GAChB,GAAMk4B,2BACDlrC,KAAK+xB,qBAAqB9uB,WADzB,EAAA3E,EAAArI,SAEA+J,KAAK8yB,sBAAwB9yB,KAAK8yB,sBAAsB7vB,aAW9D,OARIjD,MAAKgC,OAAOxJ,QAAU,GAA0B,YAArBwH,KAAKuxB,aAElC2Z,EAAkBxuC,MAAlB,EAAA0B,EAAAnI,YACK+J,KAAKgC,OAAO,IACfklC,QAAQ,MAIL,EAAA5nB,EAAApM,aAAYg4B,EAAmBlrC,KAAK9D,QAAS8W,IAOtDs3B,mBA93Ba,SA83BMlwC,GAAO,GAAA65B,GAAAj0B,KAGpBkrC,0BAAwBlrC,KAAK+xB,qBAAqB9uB,UAyBtD,IAtBIjD,KAAK8yB,wBACPoY,EAAoBA,EAAkBtlC,OAAOkzB,KAAKC,OAAM,EAAAtnB,EAAAxb,SAAe+J,KAAK8yB,sBAAsB7vB,aAIhGjD,KAAKgC,OAAOxJ,QAAU,GAA0B,YAArBwH,KAAKuxB,aAElC2Z,EAAkBxuC,MAAlB,EAAA0B,EAAAnI,YACK+J,KAAKgC,OAAO,IACfklC,QAAQ,KAIe,IAAvBlnC,KAAKgC,OAAOxJ,QAAqC,cAArBwH,KAAKuxB,cACnC2Z,EAAoBA,EAAkBtlC,OACpCqZ,EAAAhpB,QAAgBsP,wBACd2lC,EACAlrC,KAAKgC,OAAO,GACZ5H,MAID8wC,EAAkB1yC,OAAU,MAAO,KAGxC,IAAM2yC,GAAgBD,EAAkBtgC,OAAO,SAACjP,EAAGC,GACjD,GAAMwvC,GAAQnX,EAAKz8B,sBAAsBmE,EAAGvB,GACtCixC,EAAQpX,EAAKz8B,sBAAsBoE,EAAGxB,EAC5C,OAAOgxC,GAAQC,EAAQ1vC,EAAIC,GAI7B,OAAIoE,MAAKxI,sBAAsB2zC,EAAe/wC,GAAS4F,KAAKujB,OAAOpB,QAAQ,0BACzE,EAAA/jB,EAAAnI,YACKk1C,GACHrsC,KAAM,WAHV,QAaFsrC,iBAj7Ba,SAi7BIhwC,GAAO,GAAAm6B,GAAAv0B,KAGlBsrC,0BAAqBtrC,KAAK+xB,qBAAqBvvB,OAUnD,IAPIxC,KAAK8yB,wBACPwY,EAAiBA,EAAe1lC,OAAOkzB,KAAKC,OAAM,EAAAtnB,EAAAxb,SAAe+J,KAAK8yB,sBAAsBtwB,MAAM1F,IAAI,SAAA4F,GAAA,SAAAtE,EAAAnI,YACjGyM,GACHqf,gBAAgB,WAIfupB,EAAe9yC,OAAU,MAAO,KAGrC,IAAMsoC,GAAcwK,EAAe1gC,OAAO,SAACjP,EAAGC,GAC5C,GAAM2vC,GAAiB5vC,EAAEomB,eAAiBwS,EAAKzB,sBAAwByB,EAAKxC,qBAC5EyZ,EAAiB5vC,EAAEmmB,eAAiBwS,EAAKzB,sBAAwByB,EAAKxC,qBAEtE0Z,EAAMxsB,EAAAhpB,QAAgB4M,YAAYlH,EAAEmH,GAAIyoC,GACxCG,EAAMzsB,EAAAhpB,QAAgB4M,YAAYlH,EAAEqH,GAAIuoC,GAExCI,EAAM1sB,EAAAhpB,QAAgB4M,YAAYjH,EAAEkH,GAAI0oC,GACxCI,EAAM3sB,EAAAhpB,QAAgB4M,YAAYjH,EAAEoH,GAAIwoC,GAGxCK,EAAc5sB,EAAAhpB,QAAgBkE,wBAAwBC,GAAS3C,GAAIg0C,EAAK/zC,GAAIg0C,IAC5EI,EAAc7sB,EAAAhpB,QAAgBkE,wBAAwBC,GAAS3C,GAAIk0C,EAAKj0C,GAAIk0C,IAG5ER,EAAQnsB,EAAAhpB,QAAgBuB,sBAAsBq0C,EAAazxC,GAC3DixC,EAAQpsB,EAAAhpB,QAAgBuB,sBAAsBs0C,EAAa1xC,EAG3D,OAAOgxC,GAAQC,EAAQ1vC,EAAIC,IAIvBmwC,EAA2BjL,EAAY/e,eAAiB/hB,KAAK8yB,sBAAwB9yB,KAAK+xB,qBAC1Fia,EAAgB/sB,EAAAhpB,QAAgB4M,YAAYi+B,EAAYh+B,GAAIipC,GAC5DE,EAAgBhtB,EAAAhpB,QAAgB4M,YAAYi+B,EAAY99B,GAAI+oC,GAG9D3oC,EAAa6b,EAAAhpB,QAAgBkE,wBAAwBC,GAAS3C,GAAIu0C,EAAet0C,GAAIu0C,IAGnF1wC,EAAOyE,KAAKxI,sBAAsB4L,EAAYhJ,GAG9CywC,IAAmB,KAAM,GAAK,EAAG,GAAI,KAErCE,EAAWnzC,KAAKozC,MAAM5wC,EAAMpC,EAAIoL,EAAWpL,EAAGoC,EAAMtC,EAAIsL,EAAWtL,IACtE,IAAMF,KAAK0B,GAiCd,OA5BAuxC,GAAgBn+B,KAAK,SAAC2zB,GAGpB,GAAIzoC,KAAKC,IAAIkzC,EAAW1K,GAAS9L,EAAKhR,OAAOpB,QAAQ,0BAA2B,CAE9E,GAAI+pB,GACAC,CAgBJ,OAfc,OAAV9L,GAA2B,IAAVA,GAAeA,KAAU,KAC5C6L,GAAyBp0C,EAAGsC,EAAMtC,EAAK,EAAIyD,EAAOvD,EAAGoC,EAAMpC,GAC3Dm0C,GAAyBr0C,EAAGsC,EAAMtC,EAAK,EAAIyD,EAAOvD,EAAGoC,EAAMpC,IACxC,KAAVqoC,GAAgBA,KAAU,KACnC6L,GAAyBp0C,EAAGsC,EAAMtC,EAAGE,EAAGoC,EAAMpC,EAAK,EAAIuD,GACvD4wC,GAAyBr0C,EAAGsC,EAAMtC,EAAGE,EAAGoC,EAAMpC,EAAK,EAAIuD,IAIvD6H,EADE6b,EAAAhpB,QAAgBuF,gBAAgB0wC,EAAsBF,EAAeG,GAC1DH,EACJ/sB,EAAAhpB,QAAgBuF,gBAAgB0wC,EAAsBD,EAAeE,GACjEF,EAEAhtB,EAAAhpB,QAAgBoN,oBAAoB6oC,EAAsBC,EAAsBH,EAAeC,IAEvG,EAET,OAAO,IAIL1wC,EAAOyE,KAAKujB,OAAOpB,QAAQ,0BAE3BgoB,aAAcrJ,EACdvlC,KAAMulC,EAAYvlC,KAClBuD,KAAM,OAENsE,aACAykC,aAAcmE,EACdlE,aAAcmE,GAGX,MAOTz0C,sBAzhCa,SAyhCUC,EAAIC,GACzB,GAAMC,GAAKC,KAAKC,IAAIJ,EAAGK,EAAIJ,EAAGI,GAC9BC,EAAKH,KAAKC,IAAIJ,EAAGO,EAAIN,EAAGM,EACxB,OAAOJ,MAAKK,KAAMN,EAAKA,EAAOI,EAAKA,IAMrC0c,MAliCa,SAkiCN1Y,EAAGjE,GACR,GAAIgR,GACJsjC,EAAOrwC,EAAI,GAAI,EAAK,CASpB,OARAA,GAAInE,KAAKC,IAAIkE,GAEX+M,EADE/M,EAAIjE,EAAIA,EAAI,EACLiE,EAAKA,EAAIjE,EAETiE,EAAIjE,EAAKiE,EAAIjE,EAGxBgR,GAAUsjC,GAGZnB,YA/iCa,SA+iCAz3B,EAAQpZ,EAAOimC,GAC1B,GAAMgM,GAAUhM,EAAQzoC,KAAK0B,GAAK,IAClCsa,EAAMhc,KAAKgc,IAAIy4B,GACfv4B,EAAMlc,KAAKkc,IAAIu4B,GACfC,EAAKlyC,EAAMtC,EAAI0b,EAAO1b,EACtBy0C,EAAKnyC,EAAMpC,EAAIwb,EAAOxb,CAEtB,QACEF,EAAG8b,EAAM04B,EAAKx4B,EAAMy4B,EAAK/4B,EAAO1b,EAChCE,EAAG8b,EAAMw4B,EAAK14B,EAAM24B,EAAK/4B,EAAOxb,IAIpCw0C,cA5jCa,WAokCX,GACEC,IAAezsC,KAAKqhB,MAAOrhB,KAAKuhB,OAChCmrB,GAAe1sC,KAAKshB,MAAOthB,KAAKwhB,OAC5BmrB,EAAa,SAAA5yC,GAAY,GAAAsB,IAAA,EAAAyyB,EAAA73B,SAAA8D,EAAA,GAAVoN,EAAU9L,EAAA,GAAP4O,EAAO5O,EAAA,GACvBiU,GAAKrF,EAAI9C,GAAK,EACpB,QAAQA,EAAImI,EAAGrF,EAAIqF,GAEjBtP,MAAKuzB,aAAa/6B,SACpBi0C,EAAcE,EAAW7mB,EAAG8mB,OAAO5sC,KAAK8xB,YAAa,SAAAxiB,GAAA,MAAKA,GAAExX,KAC5D40C,EAAcC,EAAW7mB,EAAG8mB,OAAO5sC,KAAK8xB,YAAa,SAAAxiB,GAAA,MAAKA,GAAEtX,KAG5D,IAAAmE,GAAQ6D,KAAKinB,MAAM4lB,WAAWrkB,YAC9BzR,EAAS/W,KAAKinB,MAAM4lB,WAAWhjB,aAD/BijB,GAEuB,EAAA75B,EAAA/a,kBACrBu0C,EACAC,EACAvwC,EAAQ4a,EACR,UAJA5e,EAFF20C,EAEE30C,QAASC,EAFX00C,EAEW10C,QAtBC20C,GAAA,EAAAjf,EAAA73B,SA4BakC,EA5Bb,EA4Bb6H,MAAKqhB,MA5BQ0rB,EAAA,GA4BD/sC,KAAKuhB,MA5BJwrB,EAAA,MAAAC,IAAA,EAAAlf,EAAA73B,SA6BamC,EA7Bb,EA6Bb4H,MAAKshB,MA7BQ0rB,EAAA,GA6BDhtC,KAAKwhB,MA7BJwrB,EAAA,GA8Bd7vC,EAAAlH,QAAEg3C,MAAM,WACNl2C,OAAOC,SAASwyB,MAAM,qBAG1B0jB,cA9lCa,WA+lCXpnB,EAAG2D,OAAOzpB,KAAKinB,MAAMnH,MAAMxS,KAAKtN,KAAKmtC,aAAa7jB,UAAWxD,EAAGmK,eAGlEa,WAlmCa,WAmmCX,GACE1c,GAAIpU,KAAKinB,MAAM4lB,WAAWrkB,YAC1B4kB,EAAIptC,KAAKinB,MAAM4lB,WAAWhjB,YAE5B7pB,MAAKwsC,gBAELxsC,KAAKujB,OAAOpa,SAAS,yBACnBsoB,QACE6D,OAAQlhB,EACRmhB,UAAWv1B,KAAKqhB,MAAOrhB,KAAKuhB,UAIhCvhB,KAAKujB,OAAOpa,SAAS,yBACnBuoB,QACE4D,OAAQ8X,EACR7X,UAAWv1B,KAAKshB,MAAOthB,KAAKwhB,UAIhCxhB,KAAKqtC,WAULrtC,KAAKktC,gBAELltC,KAAK2zB,QAEP5C,oBAroCa,WAsoCX/wB,KAAKstC,WAAa,KAClBttC,KAAKutC,WAAa,KAClBvtC,KAAKwsC,gBACLxsC,KAAK8wB,cAEP6Y,aA3oCa,WA4oCX,GACExtC,GAAQ6D,KAAKinB,MAAM4lB,WAAWrkB,YAC9BzR,EAAS/W,KAAKinB,MAAM4lB,WAAWhjB,YAEjC7pB,MAAKyvB,OAAS3J,EAAG0nB,cACdC,QAAQztC,KAAKqhB,MAAOrhB,KAAKuhB,QACzBujB,OAAO,EAAG3oC,IACb6D,KAAK2vB,OAAS7J,EAAG0nB,cACdC,QAAQztC,KAAKshB,MAAOthB,KAAKwhB,QACzBsjB,OAAO/tB,EAAQ,IAGlB/W,KAAKstC,WAAattC,KAAKstC,YAActtC,KAAKyvB,OAAOie,OACjD1tC,KAAKutC,WAAavtC,KAAKutC,YAAcvtC,KAAK2vB,OAAO+d,QAEnDL,SA3pCa,WA2pCF,GAAA3Y,GAAA10B,IACTA,MAAK2pC,cACL,IACExtC,GAAQ6D,KAAKinB,MAAM4lB,WAAWrkB,YAC9BzR,EAAS/W,KAAKinB,MAAM4lB,WAAWhjB,aAE/B2e,EAAM1iB,EAAG2D,OAAO,aAEhBkkB,EAAc,EACdC,EAAW,MAEbpF,GAAIve,KAAK,SAAUlT,GAChBkT,KAAK,QAAS9tB,GACjB6D,KAAK4vB,KAAK93B,EAAI0wC,EAAI1e,UAAU,aACzB1G,MAAM3qB,SAETuH,KAAK4vB,KAAK93B,EAAIkI,KAAK4vB,KAAK93B,EAAEwmC,MACxBt+B,KAAK4vB,KAAK93B,EAAEiyB,QAAQC,OAAO,KAAKC,KAAK,QAAS,iBAE/CA,KAAK,eAAgB0jB,GACrB5Z,MAAM,YAAa6Z,GACnB7Z,MAAM,UAAW/zB,KAAKqmB,YAAc,SAAW,QAEhDrmB,KAAK4vB,KAAK53B,EAAIwwC,EAAI1e,UAAU,aACzB1G,MAAM3qB,SAETuH,KAAK4vB,KAAK53B,EAAIgI,KAAK4vB,KAAK53B,EAAEsmC,MACxBt+B,KAAK4vB,KAAK53B,EAAE+xB,QAAQC,OAAO,KAAKC,KAAK,QAAS,iBAE/CA,KAAK,QAAS,gBACdA,KAAK,eAAgB0jB,GACrB5Z,MAAM,YAAa6Z,GACnB7Z,MAAM,UAAW/zB,KAAKqmB,YAAc,SAAW,QAGhDrmB,KAAK0zB,aAGL1zB,KAAKmtC,aAAernB,EAAGlE,OACtBisB,aAAa,EAAGC,MACf9lB,GAAG,OAAQ,WACV,GAAMsB,GAAYxD,EAAG6P,MAAMrM,SAE3BoL,GAAKpL,WAAL,EAAAlrB,EAAAnI,YAAsBqzB,EAKtB,IACEykB,GAAYzkB,EAAU0kB,SAAStZ,EAAK4Y,YACpCW,EAAY3kB,EAAU4kB,SAASxZ,EAAK6Y,YAVtBY,EAYWJ,EAAUN,SAZrBW,GAAA,EAAAtgB,EAAA73B,SAAAk4C,EAAA,EAYfzZ,GAAKrT,MAZU+sB,EAAA,GAYH1Z,EAAKnT,MAZF6sB,EAAA,MAAAC,GAaWJ,EAAUR,SAbrBa,GAAA,EAAAxgB,EAAA73B,SAAAo4C,EAAA,EAaf3Z,GAAKpT,MAbUgtB,EAAA,GAaH5Z,EAAKlT,MAbF8sB,EAAA,GAehB5Z,EAAK7E,eAAe/3B,EAAEyxB,MAAMwkB,GAC5BrZ,EAAK7E,eAAe73B,EAAEuxB,MAAM0kB,GAC5BvZ,EAAKhB,aAGLgB,EAAK6Z,UAAS,IAId7Z,EAAK8Z,oBACL9Z,EAAKqT,6BAEN/f,GAAG,MAAO,WAET0M,EAAKf,MAAOmW,SAAS,MAGxBtB,EAAIl7B,KAAKtN,KAAKmtC,cACd3E,EACGxgB,GAAG,YAAahoB,KAAKmwB,iBACrBnI,GAAG,QAAShoB,KAAKslC,cAEtBmJ,YAxuCa,SAwuCD5+B,GACViW,EAAG2D,OAAOzpB,KAAKinB,MAAMnH,MAClBxS,KAAKtN,KAAKmtC,aAAa7jB,UAAWzZ,IAEvC6+B,OA5uCa,SA4uCNC,GACL,GAAMC,GAAW5uC,KAAKspB,UAAUjiB,EAAIsnC,CACpC7oB,GAAG2D,OAAOzpB,KAAKinB,MAAMnH,MAClB+uB,aACAC,SAAS,KACTxhC,KAAKtN,KAAKmtC,aAAa7jB,UAAWxD,EAAGmK,aAAa1G,MAAMqlB,KAE7D1d,UAnvCa,WAmvCD,GAAA6d,GAAAC,EAAAhvC,KAER7D,EAAQ6D,KAAKinB,MAAMnH,KAAK0I,YACxBzR,EAAS/W,KAAKinB,MAAMnH,KAAK+J,YAE3B,IAAK7pB,KAAK8xB,YAAYt5B,OAAtB,CAIA,GACEL,GAAU2tB,EAAG8mB,OAAO5sC,KAAK8xB,YAAa,SAAAxiB,GAAA,MAAK0/B,GAAK1B,WAAWh+B,EAAExX,KAC7DM,EAAU0tB,EAAG8mB,OAAO5sC,KAAK8xB,YAAa,SAAAxiB,GAAA,MAAK0/B,GAAKzB,WAAWj+B,EAAEtX,KAC7DL,EAAKQ,EAAQ,GAAKA,EAAQ,GAC1BJ,EAAKK,EAAQ,GAAKA,EAAQ,GAC1BN,GAAKK,EAAQ,GAAKA,EAAQ,IAAM,EAChCH,GAAKI,EAAQ,GAAKA,EAAQ,IAAM,EAChCmxB,EAAQ,GAAM3xB,KAAK0P,IAAI3P,EAAKwE,EAAOpE,EAAKgf,GACxCk4B,GAAa9yC,EAAQ,EAAIotB,EAAQzxB,EAAGif,EAAS,EAAIwS,EAAQvxB,GACzDwwC,EAAM1iB,EAAG2D,OAAO,aAChBH,GAAYylB,EAAAjpB,EAAGmK,cAAagf,UAAhB39B,MAAAy9B,EAA6BE,GAAW1lB,MAAMA,EAE5Dif,GAAIl7B,KAAKtN,KAAKmtC,aAAa7jB,UAAWA,KAExC6H,QA1wCa,SA0wCL5H,GAAO,GAAA2lB,GAEX/yC,EAAQ6D,KAAKinB,MAAMnH,KAAK0I,YACxBzR,EAAS/W,KAAKinB,MAAMnH,KAAK+J,aACzB/xB,GAAKkI,KAAKstC,WAAWttC,KAAKuhB,OAASvhB,KAAKstC,WAAWttC,KAAKqhB,QAAU,EAClErpB,GAAKgI,KAAKutC,WAAWvtC,KAAKwhB,OAASxhB,KAAKutC,WAAWvtC,KAAKshB,QAAU,EAClE2tB,GAAa9yC,EAAQ,EAAIotB,EAAQzxB,EAAGif,EAAS,EAAIwS,EAAQvxB,EAC3D8tB,GAAG2D,OAAOzpB,KAAKinB,MAAMnH,MAClBxS,KAAKtN,KAAKmtC,aAAa7jB,WAAW4lB,EAAAppB,EAAGmK,cACjCgf,UAD8B39B,MAAA49B,EACjBD,GACb1lB,MAAMA,KAEfilB,kBAtxCa,WAkyCX1oB,EAAGgE,UAAU,wBACVG,KAAK,YAAa+a,EAAchlC,KAAKgwB,sBAAuBlK,EAAG6P,MAAMrM,aAE1EmK,eAryCa,WAsyCXzzB,KAAK4vB,KAAK93B,EAAEi8B,MAAM,aAAc/zB,KAAKqmB,YAAc,UAAY,UAC/DrmB,KAAK4vB,KAAK53B,EAAE+7B,MAAM,aAAc/zB,KAAKqmB,YAAc,UAAY,WAEjEqN,WAzyCa,WA0yCX,GAAK1zB,KAAK4vB,KAAK93B,GAAMkI,KAAK4vB,KAAK53B,EAA/B,CAIA,GACEmE,GAAQ6D,KAAKinB,MAAM4lB,WAAWrkB,YAC9BzR,EAAS/W,KAAKinB,MAAM4lB,WAAWhjB,aAC/BuM,EAAWp2B,KAAKuhB,MAAQvhB,KAAKqhB,MAC7B8U,EAAYn2B,KAAKwhB,MAAQxhB,KAAKshB,MAC9B6tB,EAASvK,EAAa5kC,KAAKqhB,MAAOrhB,KAAKuhB,MAAOvhB,KAAK9D,SACnDkzC,EAASxK,EAAa5kC,KAAKshB,MAAOthB,KAAKwhB,MAAOxhB,KAAK9D,QAErD8D,MAAK8vB,YAAcsf,EAAO52C,OAAS,KAAO22C,EAAO32C,OAAS,IAE1DwH,KAAK6vB,eAAe/3B,EAAIkI,KAAK6vB,eAAe/3B,GAAKguB,EAAGupB,WAAWrvC,KAAKyvB,QACpEzvB,KAAK6vB,eAAe/3B,EACjBw3C,SAASv4B,GACTw4B,aAAY,IACZC,WAAWxvC,KAAK8vB,YAAc3yB,EAAAlH,QAAEupC,SAAWx/B,KAAKyvC,YAAYta,KAAKn1B,KAAMpI,KAAKkb,MAAM,IAAM3W,EAAQ4a,MAEnG/W,KAAK6vB,eAAe73B,EAAIgI,KAAK6vB,eAAe73B,GAAK8tB,EAAG4pB,UAAU1vC,KAAK2vB,QACnE3vB,KAAK6vB,eAAe73B,EACjBs3C,SAASnzC,GACTozC,aAAY,IACZC,WAAWxvC,KAAK8vB,YAAc3yB,EAAAlH,QAAEupC,SAAWx/B,KAAK2vC,YAAYxa,KAAKn1B,KAAM,KAEtEA,KAAK8vB,aACP9vB,KAAK6vB,eAAe/3B,EACjB83C,WAAW,MACXC,MAAM,GAAKzZ,EAAWD,IACzBn2B,KAAK6vB,eAAe73B,EACjB43C,WAAW,MACXC,MAAM,KAET7vC,KAAK6vB,eAAe/3B,EACjB+3C,MAAM,MACND,WAAWT,GACdnvC,KAAK6vB,eAAe73B,EACjB63C,MAAM,MACND,WAAWR,IAGhBpvC,KAAK4vB,KAAK53B,EAAEsV,KAAKtN,KAAK6vB,eAAe73B,GACrCgI,KAAK4vB,KAAK93B,EAAEwV,KAAKtN,KAAK6vB,eAAe/3B,KAQvC43B,UA71Ca,SA61CFogB,EAAKlgB,GACd,GAAIrG,SAMJ,OALa,MAATqG,EACFrG,EAAQvpB,KAAKyvB,OACK,MAATG,IACTrG,EAAQvpB,KAAK2vB,QAERpG,EAAMumB,IAMf/I,UA12Ca,SA02CHgJ,EAAWngB,GACnB,GAAIrG,SACS,OAATqG,EACFrG,EAAQvpB,KAAKyvB,OACK,MAATG,IACTrG,EAAQvpB,KAAK2vB,OAEf,IAAM7mB,GAASygB,EAAMymB,OAAOD,EAE5B,OAAQn4C,MAAK6c,MAAe,KAAT3L,GAAwB,MAG7Cg9B,eAt3Ca,SAs3CE1qC,GACb,OACEtD,EAAGkI,KAAK+mC,UAAU3rC,EAAGtD,EAAG,KACxBE,EAAGgI,KAAK+mC,UAAU3rC,EAAGpD,EAAG,OAI5Bi4C,eA73Ca,SA63CE70C,GACb,OACEtD,EAAGkI,KAAK0vB,UAAUt0B,EAAGtD,EAAG,KACxBE,EAAGgI,KAAK0vB,UAAUt0B,EAAGpD,EAAG,OAO5Bg9B,qBAv4Ca,SAu4CQkb,GAEjB,GAAAluC,IAAUkuC,EAASpzC,IAAI,SAAAoC,GAAA,OAAMA,EAAEpH,EAAGoH,EAAElH,MACpC4wC,EAAOhxC,KAAKC,IAAID,KAAK6c,MAAMwK,EAAAhpB,QAAgB8L,gBAAgBmuC,KAD3Dx0C,EAESktC,GAAO,EAAAvD,EAAApvC,SAAU+L,EAAQ,IAAQ,KAAM,MAFhDnG,GAAA,EAAAiyB,EAAA73B,SAAAyF,EAAA,GAEC5D,EAFD+D,EAAA,GAEI7D,EAFJ6D,EAAA,EAIF,QAAS/D,IAAGE,IAAG4wC,SAMjB6G,YAn5Ca,SAm5CAU,EAAU9lB,GACrB,GAAM+lB,GAASpwC,KAAKuhB,MAAQvhB,KAAKqhB,MACjCnlB,EAAU8D,KAAK9D,QACfm0C,EAAgBz4C,KAAKmtC,KAAMqL,EAASD,EAAYj0C,GAAWA,CAE3D,OAA0B,KAAlBm0C,GAAuBhmB,EAAMgmB,IAAkB,EAAKhmB,EAAM,IAEpEslB,YA15Ca,SA05CAQ,EAAU9lB,GACrB,GAAMimB,GAAStwC,KAAKwhB,MAAQxhB,KAAKshB,MACjCplB,EAAU8D,KAAK9D,QACfm0C,EAAgBz4C,KAAKmtC,KAAMuL,EAASH,EAAYj0C,GAAWA,CAE3D,OAA0B,KAAlBm0C,GAAuBhmB,EAAMgmB,IAAkB,EAAKhmB,EAAM,IAKpEkkB,SAp6Ca,SAo6CHgC,GACR,GAAI12C,GAAMjC,KAAKC,IAAImI,KAAKshB,OACxBha,EAAM1P,KAAKC,IAAImI,KAAKwhB,OACpBgvB,GAAa32C,EAAMyN,EAAMA,EAAMzN,GAAK4uC,QAAQ,GAAGjwC,OAC/Ci4C,EAAWF,EAAkBC,CAE7BxwC,MAAK4vB,KAAK53B,EAAEsV,KAAKtN,KAAK6vB,eAAe73B,EAAEu3C,YAAYkB,OhDslLjD,SAAU96C,EAAQC,EAASC,GAEhC,YA8CA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GA5CvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GiDziOV,IAAAhI,GAAAL,EAAA,IjD8iOKM,EAAQL,EAAuBI,GiD7iOpCqsB,EAAA1sB,EAAA,GjDijOK66C,EAAS56C,EAAuBysB,GiD9iOrCnsB,EAAAP,EAAA,KjDkjOKQ,EAAUP,EAAuBM,GiDjjOtCu6C,EAAA96C,EAAA,IjDqjOK+6C,EAAU96C,EAAuB66C,GiDpjOtCE,EAAAh7C,EAAA,KjDwjOKi7C,EAAUh7C,EAAuB+6C,GiDvjOtCE,EAAAl7C,EAAA,KjD2jOKm7C,EAAUl7C,EAAuBi7C,GiDzjOtCE,EAAAp7C,EAAA,KjD6jOKq7C,EAAWp7C,EAAuBm7C,GiD5jOvCE,EAAAt7C,EAAA,KjDgkOKu7C,EAAoBt7C,EAAuBq7C,GiD/jOhDE,EAAAx7C,EAAA,KjDmkOKy7C,EAAkBx7C,EAAuBu7C,GiDlkO9C7wB,EAAA3qB,EAAA,KjDskOK4qB,EAAc3qB,EAAuB0qB,EiDpkO1CrqB,GAAAF,QAAIs7C,IAAJb,EAAAz6C,QAEA,IAAMiB,GAAQ,GAAIw5C,GAAAz6C,QAAKu7C,OACrBC,QAAQ,EACRC,SACEz6C,sBACA4oB,kBACAxd,mBACAiI,kBAEF6X,SACEya,sBAEF3a,SACE2W,0BACA+Y,yBAEFzvB,qBjD2kODtsB,GAAQK,QiDxkOMiB,GjD4kOT,SAAUvB,EAAQC,EAASC,GAEhC,YAcA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAZvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GkDnnOV,IAAAK,GAAA1I,EAAA,GlDwnOKsH,EAAWrH,EAAuByI,GkDvnOvCkO,EAAA5W,EAAA,IACAod,EAAApd,EAAA,GlD8nOCD,GAAQK,SkD3nOP27C,kBADa,SACKnyB,EAAS6mB,GAAS,GAC1B3jC,GAAO2jC,EAAP3jC,EACJ8c,GAAQE,UAAUrV,OAAON,QAAQlN,IAAI,SAAAmN,GAAA,MAAKA,GAAEtH,KAAI6M,QAAQ7M,MAAQ,GAClE8c,EAAQoyB,OAAO,qBAAuBlvC,QAI1CmvC,yBARa,SAQYryB,EAAS6mB,GAAS,GACjC3jC,GAAO2jC,EAAP3jC,EACJ8c,GAAQ0C,QAAQ2I,eAClBrL,EAAQ0C,QAAQ2I,aAAa5gB,OAAOzH,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAOA,KACvD8c,EAAQ0C,QAAQ2I,aAAaxhB,QAAQ7G,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAOA,KACxD8c,EAAQ0C,QAAQ2I,aAAa3gB,OAAO1H,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAOA,MAEvD8c,EAAQoyB,OAAO,4BAA8BlvC,QAIjDovC,sBAnBa,SAmBStyB,EAAS6mB,GAAS,GAC9B3jC,GAAO2jC,EAAP3jC,EACJ8c,GAAQ0C,QAAQ2I,eAClBrL,EAAQ0C,QAAQ2I,aAAa3e,QAAQ1J,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAOA,KACxD8c,EAAQ0C,QAAQ2I,aAAaze,qBAAqB5J,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAOA,MAErE8c,EAAQoyB,OAAO,yBAA2BlvC,QAI9CqvC,gCA7Ba,SA6BmBvyB,EAAS6mB,GAAS,GACxC3jC,GAAO2jC,EAAP3jC,IACJ8c,EAAQE,UAAUrV,OAAOR,QAAQ0B,gCAAgC/I,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAOA,KACtF8c,EAAQE,UAAUrV,OAAOR,QAAQyB,mBAAmB9I,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAOA,MACvE8c,EAAQoyB,OAAO,mCAAqClvC,QAIxDsvC,8BArCa,SAqCiBxyB,EAAS6mB,GAAS,GACtC3jC,GAAO2jC,EAAP3jC,IACH,EAAAsQ,EAAAlH,uBAAsB0T,EAAQ0C,QAAQ2I,aAAcnoB,GAGvD8c,EAAQoyB,OAAO,gCAAiCvL,GAFhDpe,QAAQ9mB,MAAM,iEAMlB8wC,mBA9Ca,SA8CMzyB,EA9CNxmB,GA8C6B,GAAZ4b,GAAY5b,EAAZ4b,QAC5B,KAAK1X,EAAAlH,QAAE6oB,UAAU,cAAe,oBAAqBjK,GACnD,KAAM,IAAI9T,OAAJ,qBAA+B8T,EAEvC4K,GAAQoyB,OAAO,sBAAwBh9B,cAEzCs9B,kBApDa,SAoDK1yB,EApDL1lB,GAoD2B,GAAXu3B,GAAWv3B,EAAXu3B,OAC3B7R,GAAQoyB,OAAO,qBAAuBvgB,aAExC8gB,2BAvDa,SAuDc3yB,EAvDdpkB,GAuD6C,GAApBi/B,GAAoBj/B,EAApBi/B,gBACpC7a,GAAQoyB,OAAO,8BAAgCvX,sBAEjD+X,eA1Da,SA0DE5yB,EAAS6mB,GAAS,GACvB3hB,GAAS2hB,EAAT3hB,IACJlF,GAAQ9W,MAAM+0B,MAAMluB,QAAQmV,MAAU,GACxClF,EAAQoyB,OAAO,kBAAoBltB,UAIvC2tB,eAjEa,SAiEE7yB,EAAS6mB,GAAS,GACvBz6B,GAASy6B,EAATz6B,IACK,YAATA,GAAqB1O,EAAAlH,QAAE6oB,SAAFrS,EAAA3B,qBAAiCe,GACxD4T,EAAQoyB,OAAO,kBAAoBhmC,SAEnCqc,QAAQ9mB,MAAR,gCAA8CyK,IAIlD0mC,0BA1Ea,SA0Ea9yB,EAAS6mB,GAAS,GAClC3jC,GAAO2jC,EAAP3jC,IACHA,IAAM,EAAAsQ,EAAA3G,mBAAkBmT,EAAQE,UAAUrV,OAAOR,QAASnH,GAC7D8c,EAAQoyB,OAAO,6BAA+BlvC,OAE9CulB,QAAQ9mB,MAAR,0CAAwDuB,IAM5D6vC,UArFa,SAqFH/yB,EAAS6mB,GAAS,GAClB7U,GAAW6U,EAAX7U,MACRhS,GAAQoyB,OAAO,aAAepgB,YAEhCghB,UAzFa,SAyFHhzB,EAAS6mB,GAAS,GAClB5U,GAAW4U,EAAX5U,MACRjS,GAAQoyB,OAAO,aAAengB,clDgpO5B,SAAU/7B,EAAQC,EAASC,GAEhC,YAgBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAdvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GmDpvOV,IAAAK,GAAA1I,EAAA,GACAod,GnDwvOgBnd,EAAuByI,GmDxvOvC1I,EAAA,InD4vOKopB,EAAYnpB,EAAuBmd,GmD3vOxCkc,EAAAt5B,EAAA,GnDiwOCD,GAAQK,SmD7vOP60B,aAFa,SAEAniB,EAAOwZ,EAASxC,GAAkF,MAArEuI,SAAQC,IAAI,6BAA8BxI,EAAUrV,OAAON,SAAiB2V,EAAUrV,OAAON,QAAQvH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAOgG,EAAMic,kBAAkBxF,YAG1LqT,oBALa,SAKO9pB,EAAOwZ,GACzB,GAAM2I,GAAe3I,EAAA,YACrB,KAAK2I,EAAgB,MAAO,KAC5B,IAAM4nB,GAAiB/pC,EAAMic,kBAAkB+tB,iBAAiB7nB,EAAanoB,GAC7E,OAAOmoB,GAAa5gB,OAAOzH,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAO+vC,KAC5C5nB,EAAaxhB,QAAQ7G,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAO+vC,KACxC5nB,EAAa3gB,OAAO1H,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAO+vC,KAG3CE,wBAda,SAcWjqC,EAAOwZ,GAC7B,GAAM2I,GAAe3I,EAAA,YACrB,KAAK2I,EAAgB,MAAO,KAC5B,IAAM4nB,GAAiB/pC,EAAMic,kBAAkB+tB,iBAAiB7nB,EAAanoB,GAC7E,OAAImoB,GAAa5gB,OAAOzH,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAO+vC,IAClC,SACE5nB,EAAaxhB,QAAQ7G,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAO+vC,IAC1C,UACE5nB,EAAa3gB,OAAO1H,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAO+vC,IACzC,SAEF,MAITzgB,aA7Ba,SA6BAtpB,EAAOwZ,GAAW,MAA2C,WAApCA,EAAQywB,wBAAuCzwB,EAAQsQ,oBAAsB,MACnHP,eA9Ba,SA8BEvpB,EAAOwZ,GAAW,MAA2C,YAApCA,EAAQywB,wBAAwCzwB,EAAQsQ,oBAAsB,MACtHnC,aA/Ba,SA+BA3nB,EAAOwZ,GAAW,MAA2C,WAApCA,EAAQywB,wBAAuCzwB,EAAQsQ,oBAAsB,MAInH1H,iBAnCa,SAmCIpiB,EAAOwZ,EAASxC,GAC/B,GAAMkzB,GAAwBlqC,EAAMic,kBAAkBkuB,wBAClDh0C,SAAM0zB,QAMV,QALKA,EAAa7S,EAAUrV,OAAOR,QAAQyB,mBAAmB9I,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAOkwC,KAC/E/zC,EAAO,sBACG0zB,EAAa7S,EAAUrV,OAAOR,QAAQ0B,gCAAgC/I,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAOkwC,OACnG/zC,EAAO,oCAEAA,OAAM0zB,eAGjBD,2BA9Ca,SA8Cc5pB,EAAOwZ,GAChC,MAAOA,GAAA,6BAGTgQ,yBAlDa,SAkDYxpB,EAAOwZ,GAC9B,GAAM4wB,GAAYpqC,EAAMic,kBAAkB+N,qBAC1C,OAAKogB,IACE,EAAA5jB,EAAApjB,uBAAsBoW,EAAA,aAAyB4wB,GAD7B,MAI3B3gB,qBAxDa,SAwDQzpB,EAAOwZ,EAASxC,GACnC,GACEqzB,GAAkBrqC,EAAMic,kBAAkBquB,kBAC1CnpC,EAAU6V,EAAUrV,OAAOR,OAC7B,QAAO,EAAAqlB,EAAA7iB,mBAAkBxC,EAASkpC,IAIpCjhB,qBAhEa,SAgEQppB,EAAOwZ,EAASxC,GACnC,GAAMmL,GAAe3I,EAAA,YACrB,OAAK2I,GACEnL,EAAUtd,SAASI,KAAK,SAAAuS,GAAA,MAAKA,GAAErS,KAAOmoB,EAAa7U,cAD9B,MAG9Bi9B,6BArEa,SAqEgBvqC,EAAOwZ,GAClC,GAAMgxB,GAAmBhxB,EAAA,oBACzB,OAAKgxB,GACEl0B,EAAAhpB,QAAgBkQ,YAAYgtC,GADH,MAKlCxc,wBA5Ea,SA4EWhuB,EAAOwZ,GAE7B,MAAIA,GAAA,qBAAkCA,EAAA,oBAA+Bne,QAC5Dme,EAAA,qBAAgCje,MAAMzB,KAAK,SAAA0B,GAAA,MAAKA,GAAExB,KAAOwf,EAAA,oBAA+Bne,UAE1F,QnD0xOL,SAAUrO,EAAQC,EAASC,GAEhC,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GoDp3OV,IAAAoiB,GAAAzqB,EAAA,KpDy3OK0qB,EAAYzqB,EAAuBwqB,GoDx3OxCE,EAAA3qB,EAAA,KpD43OK4qB,EAAc3qB,EAAuB0qB,GoD33O1CE,EAAA7qB,EAAA,KpD+3OK8qB,EAAY7qB,EAAuB4qB,GoD73OlCoF,EAAKjwB,EAAQ,GpDm4OlBD,GAAQK,SoDh4OP2qB,YAAY,EACZjY;AACEic,mBAEExb,MAAO,KACPgW,SAAU,KACVuzB,oBAEAS,aAAc,KACdN,wBAAyB,KACzBngB,sBAAuB,KAEvBsgB,kBAAmB,KAGnBtuB,KAAM,YACN9Y,KAAM,SACNgJ,SAAU,cACVyc,QAAS,YACTgJ,iBAAkB,UAEpBrvB,OAAQ,SAAU,UAAW,iBAAkB,gBAAiB,gBAAiB,cAAe,UAChGyyB,OAAQ,MAAO,OAAQ,YAAa,UAAW,SAAU,SAAU,MAAO,OAAQ,kBAAmB,QAAS,kBAE9GnU,OACEzxB,EAAGguB,EAAG0nB,cAAc1I,OAAO,EAAG,IAAI2I,QAAQ,EAAG,IAC7Cz1C,EAAG8tB,EAAG0nB,cAAc1I,OAAO,EAAG,IAAI2I,QAAQ,EAAG,MAGjDxrB,kBACAC,oBACAC,oBpDo4OI,SAAUxsB,EAAQC,EAASC,GAEhC,YAcA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAZvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAI8J,GAAmBnS,EAAoB,IAEvCoS,EAAmBnS,EAAuBkS,GAE1C5J,EAAYvI,EAAoB,GAEhCw9C,EAAYv9C,EAAuBsI,EAIvCxI,GAAQK,SqD17OP27C,kBAFa,SAEKjpC,EAAO29B,GAAW39B,EAAMic,kBAAkBxF,SAAWknB,EAAQ3jC,IAC/EmvC,yBAHa,SAGYnpC,EAAO29B,GAC9B,GAAMgN,GAAU3qC,EAAMic,kBAAkBxF,QACxC,OAAKk0B,QAIL3qC,EAAMic,kBAAkB+tB,kBAAxB,EAAAU,EAAAp9C,YACK0S,EAAMic,kBAAkB+tB,kBAD7B,EAAA1qC,EAAAhS,YAEGq9C,EAAUhN,EAAQ3jC,UALnBulB,SAAQ9mB,MAAM,oEASlB2wC,sBAfa,SAeSppC,EAAO29B,GAAW39B,EAAMic,kBAAkBwuB,aAAe9M,EAAQ3jC,IACvFqvC,gCAhBa,SAgBmBrpC,EAAO29B,GAAW39B,EAAMic,kBAAkBkuB,wBAA0BxM,EAAQ3jC,IAC5GsvC,8BAjBa,SAiBiBtpC,EAAO29B,GAAW39B,EAAMic,kBAAkB+N,sBAAwB2T,EAAQ3jC,IAExG4vC,0BAnBa,SAmBa5pC,EAAO29B,GAAW39B,EAAMic,kBAAkBquB,kBAAoB3M,EAAQ3jC,IAEhGuvC,mBArBa,SAqBMvpC,EAAO29B,GAAW39B,EAAMic,kBAAkB/P,SAAWyxB,EAAQzxB,UAChFs9B,kBAtBa,SAsBKxpC,EAAO29B,GAAW39B,EAAMic,kBAAkB0M,QAAUgV,EAAQhV,SAC9E8gB,2BAvBa,SAuBczpC,EAAO29B,GAAW39B,EAAMic,kBAAkB0V,iBAAmBgM,EAAQhM,kBAGhG+X,eA1Ba,SA0BE1pC,EAAO29B,GAAW39B,EAAMic,kBAAkBD,KAAO2hB,EAAQ3hB,MACxE2tB,eA3Ba,SA2BE3pC,EAAO29B,GAAW39B,EAAMic,kBAAkB/Y,KAAOy6B,EAAQz6B,MAGxE2mC,UA9Ba,SA8BH7pC,EAAO29B,GAAW39B,EAAM4gB,MAAMzxB,EAAIwuC,EAAQ7U,QACpDghB,UA/Ba,SA+BH9pC,EAAO29B,GAAW39B,EAAM4gB,MAAMvxB,EAAIsuC,EAAQ5U,UrD88OhD,SAAU/7B,EAAQC,EAASC,GAEhC,YA8BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GsDvgPjF,QAASw9C,GAAkBlxC,EAAU/E,GAC1C,MAAO2hB,GAAAhpB,QAAgB2N,qBAAqBtG,EAAQ+E,IAAaqL,EAAAzX,QAAQwf,OAAOnY,EAAOxF,EAAGwF,EAAOtF,GtD0+OlGgG,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAI8J,GAAmBnS,EAAoB,IAEvCoS,EAAmBnS,EAAuBkS,EAE9CpS,GsDn/Oe29C,mBANhB,IAAAh1C,GAAA1I,EAAA,GtD6/OKsH,EAAWrH,EAAuByI,GsD5/OvCkP,EAAA5X,EAAA,ItDggPK6X,EAAY5X,EAAuB2X,GsD//OxCwF,EAAApd,EAAA,GtDmgPKopB,EAAYnpB,EAAuBmd,GsDlgPxCugC,EAAA39C,EAAA,KtDsgPK49C,EAAyB39C,EAAuB09C,GsDrgPrDE,EAAA79C,EAAA,GtD+gPCD,GAAQK,SsDrgPP09C,aAJa,SAIAl0B,EAAS6mB,GAAS,GACrBlnB,GAAaknB,EAAblnB,SACF/c,EAAW,GAAIqL,GAAAzX,QAAQ2f,QAC7B6J,GAAQoyB,OAAO,gBAAkBxvC,aAGjCod,EAAQtW,SAAS,8BACfC,MAAOqW,EAAQE,UAAUrV,OAAON,QAAQvH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAOyc,IAC3DnJ,YAAa5T,EAASM,KACnBod,MAAM,KAOb6zB,eApBa,SAoBEn0B,EAAS6mB,GAEpB,GAAEtkC,GAAWskC,EAAXtkC,OACFiU,EAAcwJ,EAAQo0B,YAAY,oCAAoClxC,IAExE,EAAA+wC,EAAAtzB,yBAAwBX,EAASxJ,EAAa,WAC5C,GAAM69B,IAAc,EAAAN,EAAAI,gBAAe5xC,EAAQyd,EAEtCq0B,IACH/8C,OAAOC,SAASwyB,MAAM,QAAS,0CAInC/J,EAAQtW,SAAS,gBAAkB8M,iBAQrC89B,iBAzCa,SAyCIt0B,EAAS6mB,GAAS,GAE7BtiC,GAAoBsiC,EAApBtiC,QAASrM,EAAW2uC,EAAX3uC,GAAII,EAAOuuC,EAAPvuC,GACfg6B,EAAuBtS,EAAQo0B,YAAY,oCAC3C7uC,EAAOia,EAAAhpB,QAAgB4O,UAAUb,EAAS+tB,GAC1CiiB,EAAc/0B,EAAAhpB,QAAgB8N,kBAAkBiB,EAAKrC,GAAIovB,GAAsBj1B,IAAI,SAAA6G,GAAA,OACjF7L,EAAG6L,EAAE7L,EAAIH,EACTK,EAAG2L,EAAE3L,EAAID,KAEXk8C,GAAW,EAAAT,EAAAU,gCACTF,EAEA/0B,EAAAhpB,QAAgBgQ,WAAW8rB,EAAsB/tB,GAGrD,IAAIiwC,EAAS7yC,MAIX,MAHArK,QAAOC,SAASwyB,MAAM,QAAtB,yBAAwDyqB,EAAS7yC,WAEjErK,QAAOC,SAASwyB,MAAM,cAIxB,IAAM2qB,IAAY,EAAAX,EAAAY,sBAAqBJ,EAAajiB,EACpD,KAAKoiB,EAAUprC,QAGb,MAFAhS,QAAOC,SAASwyB,MAAM,QAAS2qB,EAAU/yC,WACzCrK,QAAOC,SAASwyB,MAAM,cAIxB,IAAM9J,oBAAuB1b,GAAYrM,KAAII,QAE7C,EAAA27C,EAAAtzB,yBAAwBX,EAASsS,EAAqBpvB,GAAI+c,EAAmB,WAC3Eu0B,EAASvkC,QAAQ,SAAA2kC,GAAA,MAAW50B,GAAQtW,SAAS,oBAAqBkrC,KAElE50B,EAAQtW,SAAS,qBACf8M,YAAa8b,EAAqBpvB,GAClCqB,UACAf,SAAUkxC,EAAUlxC,SACpBT,MAAO2xC,EAAU3xC,MACjB7K,KACAI,SAIJ0nB,EAAQtW,SAAS,gBAAkB8M,YAAa8b,EAAqBpvB,MAMvE2xC,+BAOAC,0BAlGa,SAkGa90B,EAAS6mB,GAAS,GAClCrwB,GAAsBqwB,EAAtBrwB,YAAajR,EAASshC,EAATthC,KAGnB3C,EAAWod,EAAQ9W,MAAMlG,KAAK,SAAAuS,GAAA,MAAKA,GAAErS,KAAOsT,IAE5Cu+B,EAAcxvC,EAAKZ,SAChBtH,IAAI,SAACuH,GACJ,GACE9B,GAAO0c,EAAAhpB,QAAgBqO,UAAUD,EAAQjC,QAASC,GAElDkC,EAAWF,EAAQG,QAAUjC,EAAKS,GAAKT,EAAKO,EAC9C,OAAOmc,GAAAhpB,QAAgB4M,YAAY0B,EAAUlC,KAE9Ca,OAAO,SAAAS,GAAA,MAAKsb,GAAAhpB,QAAgB6O,iBAAiBnB,EAAEhB,GAAIN,GAAU7J,OAAS,IACzEi8C,EAAczvC,EAAKZ,SAASlB,OAAO,SAAAmB,GAAA,MAAW4a,GAAAhpB,QAAgBgP,eAAeZ,EAAQjC,QAASC,GAAU7J,OAAS,GAGnHinB,GAAQoyB,OAAO,mBAAqBlvC,GAAIqC,EAAKrC,KAC7C8xC,EAAY/kC,QAAQ,SAAArL,GAAA,MAAWob,GAAQoyB,OAAO,mBAAqBlvC,GAAI0B,EAAQjC,YAC/EoyC,EAAY9kC,QAAQ,SAAAvM,GAAA,MAAUsc,GAAQoyB,OAAO,mBAAqBlvC,GAAIQ,EAAOR,QAG/E+xC,kBAzHa,SAyHKj1B,EAzHLxmB,GAyHyD,GAAzCgd,GAAyChd,EAAzCgd,YAAajS,EAA4B/K,EAA5B+K,QAASf,EAAmBhK,EAAnBgK,SAAUT,EAASvJ,EAATuJ,MACrDwc,EAAO7hB,EAAAlH,QAAEwM,KAAKgd,EAAQ9W,OAAShG,GAAIsT,IAKnC0+B,EAAqBx3C,EAAAlH,QAAE6Y,MAAM7L,GAChCnG,IAAI,SAACY,GACJ,GAAMk3C,GAAQz3C,EAAAlH,QAAEwM,KAAKuc,EAAK/b,SAAU9F,EAAAlH,QAAE0Q,KAAKjJ,GAAO,IAAK,MACvD,OAAKk3C,GACDl3C,EAAKiF,KAAOiyC,EAAMjyC,GAAW,MACzBjF,EAAKiF,GAAIiyC,EAAMjyC,IAFJ,OAIpB8pB,UACArc,YACAlS,OAEH+E,GAASyM,QAAQ,SAAC/L,GAChBA,EAAEhB,GAAKgyC,EAAmBhxC,EAAEhB,KAAOgB,EAAEhB,KAEvCH,EAAMkN,QAAQ,SAAChN,GACbA,EAAEI,GAAK6xC,EAAmBjyC,EAAEI,KAAOJ,EAAEI,GACrCJ,EAAEM,GAAK2xC,EAAmBjyC,EAAEM,KAAON,EAAEM,KAGvCyc,EAAQoyB,OAAO,qBACb57B,cACAhT,WACAT,QACAwB,aAIJ6wC,aA1Ja,SAAA96C,EAAAsB,GA0JwC,GAAtCskB,GAAsC5lB,EAAtC4lB,UAAWkyB,EAA2B93C,EAA3B83C,OAAY57B,EAAe5a,EAAf4a,YAElC7M,EAAQjM,EAAAlH,QAAEwM,KAAKkd,EAAUrV,OAAON,SAAWiM,gBAC3C6+B,EAAuB33C,EAAAlH,QAAEwQ,QAAQ2C,EAAMc,OAAQ,SAAAD,GAAA,MAAK9M,GAAAlH,QAAE6G,IAAImN,EAAEoC,qBAAsB,cAEpFwlC,GAAO,gBAAkB57B,cAAa8+B,yBAA0BD,OtDkgP9D,SAAUn/C,EAAQC,EAASC,GAEhC,YA0DA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GuD5tPzE,QAASu+C,GAAqB70B,EAAS6mB,GAAS,GAE3D4C,GAEE5C,EAFF4C,SACAlnC,EACEskC,EADFtkC,MAGF,OAAI,EAAAtD,EAAA6S,MAAKvP,GAAQxJ,OAAS,GAA1B,CAEA,GAAMu5B,GAAuBtS,EAAQo0B,YAAY,oCAC3CxgC,EAAS+b,EAAAn5B,QAAa4T,oBAAoB4V,EAAQE,UAAUrV,OAAQ4+B,GAGpE8L,EAAe3hC,EAAOrP,QAAUib,EAAAhpB,QAAgB4O,UAAUwO,EAAOrP,QAAS+tB,GAAwB,KACpG3sB,QAEJ,IAAI4vC,EAAc,CAChB,GAAMC,GAAuBh2B,EAAAhpB,QAAgB8N,kBAAkBixC,EAAaryC,GAAIovB,EAEhF,IADA3sB,EAAa6Z,EAAAhpB,QAAgB4I,aAAa,QAASo2C,EAAsBjzC,GACrEoD,EAAWhE,MAEb,WADArK,QAAOC,SAASwyB,MAAM,QAAtB,yBAAwDpkB,EAAWhE,WAIrEgE,GAAapD,CAIf,IAAMkzC,GAAed,EAAqBhvC,EAAYqa,EAAQo0B,YAAY,oCAAqCp0B,EAAQo0B,YAAY,yBACnI,KAAKqB,EAAansC,QAGhB,MAFAhS,QAAOC,SAASwyB,MAAM,QAAS0rB,EAAa9zC,WAC5C8mB,SAAQ9mB,MAAM8zC,EAAa9zC,MAI7B,IAAM6yC,GAAWC,EACf9uC,EAEA6Z,EAAAhpB,QAAgBgQ,WAAW8rB,EAAsBijB,GAAgBA,EAAaryC,IAIhF,IAAIsxC,EAAS7yC,MAEX,WADArK,QAAOC,SAASwyB,MAAM,QAAtB,yBAAwDyqB,EAAS7yC,QAInE,EAAAsyC,EAAAtzB,yBAAwBX,EAASsS,EAAqBpvB,GAAI,WACxDsxC,EAASvkC,QAAQ,SAAA2kC,GAAA,MAAW50B,GAAQtW,SAAS,oBAAqBkrC,KAGlEc,EAAUD,EAAc7hC,EAAQoM,EAASu1B,GAGzCI,EAAW31B,KAGbA,EAAQtW,SAAS,gBAAkB8M,YAAa8b,EAAqBpvB,MAKhE,QAASuxC,GAA+BlyC,EAAQK,GACrD,GAAIL,EAAOxJ,OAAS,IAAMymB,EAAAhpB,QAAgB8L,gBAAgBC,GACxD,OAAO,CAGT,IAAMgd,GAAOC,EAAAhpB,QAAgBkQ,YAAY9D,GACnCgzC,EAAmBr2B,EAAK9a,MAC3BhB,OAAO,SAAC8B,GACP,GAAMswC,GAAQr2B,EAAAhpB,QAAgByL,aAAasD,EAAK/B,SAAUjB,EAI1D,OAAOszC,GAAMl0C,OAASk0C,EAAM98C,OAAS,IAGnC+8C,EAAkBF,EAAiBv4C,IAAI,SAAAk4C,GAAA,MAC3C/1B,GAAAhpB,QAAgB6L,WAAWkzC,EAAa/xC,SAAUjB,KAG9CwzC,EAAar4C,EAAAlH,QAAEwM,KAAK8yC,EAAiB,QAC3C,IAAIC,EAEF,MAAOA,EAGT,IAAMC,GAAoBF,EAAgBz4C,IACxC,SAAA44C,GAAA,MAAStB,GAAqBsB,EAAOrzC,KAEjCszC,EAAiBx4C,EAAAlH,QAAEwM,KAAKgzC,EAAmB,QACjD,OAAIE,GAEKA,EAGFx4C,EAAAlH,QAAE2/C,IAAIP,EAAkBI,GAAmB34C,IAAI,SAAA7D,GAAA,GAAAc,IAAA,EAAA+zB,EAAA73B,SAAAgD,EAAA,GAAE+L,EAAFjL,EAAA,GAAA87C,EAAA97C,EAAA,GAAUkJ,EAAV4yC,EAAU5yC,SAAUT,EAApBqzC,EAAoBrzC,KAApB,QACpDyT,YAAa5T,EAASM,GACtBqB,QAASgB,EAAKrC,GACdM,WACAT,WASG,QAASoxC,GAAe5xC,EAAQyd,GACrC,GAAMsS,GAAuBtS,EAAQo0B,YAAY,mCAGjD,IAAI7xC,EAAOxJ,OAAS,IAAMymB,EAAAhpB,QAAgB8L,gBAAgBC,GACxD,OAAO,CAQT,IAAMiyC,GAAWC,EAA+BlyC,EAAQ+vB,EAExD,OAAIkiB,GAAS7yC,OACXrK,OAAOC,SAASwyB,MAAM,QAAtB,yBAAwDyqB,EAAS7yC,QAC1D,IAGT6yC,EAASvkC,QAAQ,SAAA2kC,GAAA,MAAW50B,GAAQtW,SAAS,oBAAqBkrC,MAC3D,GAQT,QAASc,GAAT95C,EAAwCgY,EAAQoM,EAASu1B,GAAc,GAAAc,GAAlD7yC,EAAkD5H,EAAlD4H,SAAUT,EAAwCnH,EAAxCmH,MACvBuvB,EAAuBtS,EAAQo0B,YAAY,oCAE3C7uC,EAAOgwC,GAAgB,GAAItnC,GAAAzX,QAAQ0f,QAEzC8J,GAAQtW,SAAS,qBACfnF,QAASgB,EAAKrC,GACdsT,YAAa8b,EAAqBpvB,GAClCM,WACAT,UAGFid,EAAQtW,SAAyB,UAAhBkK,EAAOvU,KAAmB,6BAA+B,gCAA1Eg3C,MAAA,EAAA7tC,EAAAhS,SAAA6/C,EACGziC,EAAOvU,KAAOuU,IADjB,EAAApL,EAAAhS,SAAA6/C,EAAA,UAEW9wC,EAAKrC,IAFhBmzC,IAIE/1B,MAAM,IAIH,QAASg2B,GAAiBjzC,EAAIE,EAAIR,GACvC,GAAMwzC,GAAaxzC,EAAMC,KAAK,SAAAC,GAAA,MAC3BA,GAAEI,KAAOA,EAAGH,IAAMD,EAAEM,KAAOA,EAAGL,IAC9BD,EAAEM,KAAOF,EAAGH,IAAMD,EAAEI,KAAOE,EAAGL,IAGjC,OAAOqzC,qBACFA,GAEHxxC,QAASwxC,EAAWlzC,KAAOE,EAAGL,KAIlC,QAASszC,GAAkBC,GACzB,MAAO,UAAAx6C,GAAA,GAAAG,IAAA,EAAAiyB,EAAA73B,SAAAyF,EAAA,GAAEoH,EAAFjH,EAAA,GAAMmH,EAANnH,EAAA,SAAek6C,GAAiBjzC,EAAIE,EAAIkzC,IAAkB,GAAIxoC,GAAAzX,QAAQyf,KAAK5S,EAAGH,GAAIK,EAAGL,KAGvF,QAASwzC,GAAmBlzC,EAAUizC,GAE3C,MAAKjzC,GAASzK,OAGP2E,EAAAlH,QAAE2/C,IAAI3yC,KAAN2C,QAAA,EAAAtH,EAAArI,SAAoBgN,EAASuE,MAAM,KAAIvE,EAAS,MAEpDnG,IAAIm5C,EAAkBC,OAG3B,QAASE,GAAoBC,GAC3Br2C,KAAKq2C,QAAUA,EAIV,QAASC,GAAiBrzC,GAC/B,GAAIA,EAASzK,OAAS,EACpB,KAAM,IAAI49C,GAAJ,yDAAgF,EAAA3kC,EAAAxb,SAAegN,IAIlG,QAASszC,GAAoBtzC,GAClCA,EAASyM,QAAQ,SAACvM,GAChB,GACEhG,EAAAlH,QAAEwM,KAAKQ,GAAYnL,EAAGqL,EAAOrL,EAAGE,EAAGmL,EAAOnL,IAAKQ,QAAU,EAEzD,KAAM,IAAI49C,GAAJ,wBAAgDjzC,EAAOrL,EAAvD,KAA6DqL,EAAOnL,EAApE,OAKL,QAASw+C,GAA0BvzC,EAAUT,GAClDA,EAAMkN,QAAQ,SAAAzT,GAA4B,GAArBw6C,GAAqBx6C,EAAzB6G,GAAc4zC,EAAWz6C,EAAf+G,GAEvBF,EAAK3F,EAAAlH,QAAEwM,KAAKQ,GAAYN,GAAI8zC,IAC5BzzC,EAAK7F,EAAAlH,QAAEwM,KAAKQ,GAAYN,GAAI+zC,GAE9BzzC,GAASyM,QAAQ,SAAC/L,GAChB,GAAIA,EAAEhB,KAAO8zC,GAAQ9yC,EAAEhB,KAAO+zC,GAIzBz3B,EAAAhpB,QAAgBuF,gBAAgBsH,EAAIE,EAAIW,GAA7C,CAKA,GAAMgzC,GAAoBx5C,EAAAlH,QAAEiQ,SAEvBvC,EAAE7L,EAAIgL,EAAGhL,IAAMkL,EAAGlL,EAAIgL,EAAGhL,IACzB6L,EAAE3L,EAAI8K,EAAG9K,IAAMgL,EAAGhL,EAAI8K,EAAG9K,IAE5ByL,OAAO,EAIT,MAAIkzC,EAAoB,GAAKA,EAAoB,GAGjD,KAAM,IAAIP,GAAJ,6DACyDzyC,EAAE7L,EAD3D,KACiE6L,EAAE3L,EADnE,UAML,QAAS4+C,GAAwB3zC,EAAUT,IAChD,EAAA9D,EAAAmT,UAASrP,GAAOkN,QAAQ,SAAA7J,GAAc,GAAAG,IAAA,EAAA8nB,EAAA73B,SAAA4P,EAAA,GAAZgxC,EAAY7wC,EAAA,GAAR8wC,EAAQ9wC,EAAA,GAElC+wC,EAAO55C,EAAAlH,QAAEwM,KAAKQ,GAAYN,GAAIk0C,EAAG/zC,KACjCk0C,EAAO75C,EAAAlH,QAAEwM,KAAKQ,GAAYN,GAAIk0C,EAAG7zC,KACjCi0C,EAAO95C,EAAAlH,QAAEwM,KAAKQ,GAAYN,GAAIm0C,EAAGh0C,KACjCo0C,EAAO/5C,EAAAlH,QAAEwM,KAAKQ,GAAYN,GAAIm0C,EAAG9zC,KAE7BtB,EAAeud,EAAAhpB,QAAgBoN,oBAAoB0zC,EAAMC,EAAMC,EAAMC,EAC3E,IAAIx1C,EACF,KAAM,IAAI00C,GAAJ,wBACoB10C,EAAa5J,EADjC,KACuC4J,EAAa1J,KAUzD,QAASo8C,GAAqBpyC,EAAQ+vB,GA4C3C,GAAsB,IAAlB/vB,EAAOxJ,OACT,OACEuQ,SAAS,EACT9F,YACAT,SAGJ,IAAIR,EAAOxJ,QAAU,EACnB,OAASuQ,SAAS,EAAO3H,MAAO,wCAIlC,IAAI+D,GAAenD,EAAOlF,IAAI,SAAA1C,GAAA,MAE5B6kB,GAAAhpB,QAAgB2N,qBAAqBxJ,EAAO23B,IAAyB,GAAIrkB,GAAAzX,QAAQwf,OAAOrb,EAAMtC,EAAGsC,EAAMpC,IAMzGmN,IAAe,EAAAzG,EAAA8H,qBAAoBrB,EAGnC,IAAMgyC,GAAYhB,EAAmBhxC,EAAc4sB,EAAqBvvB,MAExE,KACE8zC,EAAiBnxC,GACjBoxC,EAAoBpxC,GACpBqxC,EAA0BrxC,EAAcgyC,GACxCP,EAAwBzxC,EAAcgyC,GACtC,MAAOz0C,GACP,GAAIA,YAAa0zC,GACf,OACErtC,SAAS,EACT3H,MAAOsB,EAAE2zC,QAKb,MAAM3zC,GAGR,OACEqG,SAAS,EACT9F,SAAUkC,EACV3C,MAAO20C,GAIX,QAASC,GAAe1B,EAAOQ,GAC7B,MAAO/4C,GAAAlH,QAAE2/C,IAAIF,EAAMluC,MAAM,GAAG,GAAKkuC,EAAMluC,MAAM,IAC1C1K,IAAIm5C,EAAkBC,IAG3B,QAASmB,GAAoBh1C,EAAUi1C,EAAaC,GAElD,GAAMC,GAAgBv4B,EAAAhpB,QAAgBgP,eAAeqyC,EAAaj1C,GAG5Do1C,EAAkBD,EAAc16C,IAAI,SAAA46C,GAAA,OACxC54C,KAAM,iBACNmX,YAAa5T,EAASM,GACtBP,QAASk1C,EACTtzC,QAAS0zC,EAAa/0C,GACtB40C,SAAUp6C,EAAAlH,QAAE6G,IAAIy6C,EAAUp6C,EAAAlH,QAAE0hD,aAAax6C,EAAAlH,QAAE0Q,MAAO,KAAM,eAG1D,OAAO8wC,GAGF,QAASG,GAAav1C,GAC3B,MAAOlF,GAAAlH,QAAEw2B,QAAQpqB,EAASG,MAAM1F,IAAI,SAACyF,GACnC,GAAIs1C,GAAoB54B,EAAAhpB,QAAgBkM,2BAA2BI,EAAKI,GAAIN,EAC5E,KAAKw1C,EAAkBr/C,OACrB,OAAO,CAET,IACEg+B,GAAavX,EAAAhpB,QAAgB4M,YAAYN,EAAKO,GAAIT,GAClDo0B,EAAWxX,EAAAhpB,QAAgB4M,YAAYN,EAAKS,GAAIX,EAGlDw1C,GAAoB16C,EAAAlH,QAAEw3B,OAAOoqB,EAAmB,SAAAl0C,GAAA,OAAK,EAAAsP,EAAAzb,uBAAsBmM,EAAG6yB,KAG9EqhB,GAAqBrhB,GAArB5wB,QAAA,EAAAtH,EAAArI,SAAoC4hD,IAAmBphB,GAIvD,IACE8gB,GAAWH,EAAeS,EAAmBx1C,EAASG,OACtDi1C,EAAkBJ,EAAoBh1C,EAAUE,EAAKI,GAAI40C,EAC3D,QACEO,aAAcv1C,EAAKI,GACnB40C,WACAE,sBAYN,QAASrC,GAAW31B,GAClB,GACEsS,GAAuBtS,EAAQo0B,YAAY,oCAC3CkE,EAAcH,EAAa7lB,EAE7BgmB,GAAYroC,QAAQ,SAAA42B,GAAA,MAAW7mB,GAAQoyB,QAAR,EAAAzzC,EAAAnI,UAC7B6I,KAAM,YACNmX,YAAa8b,EAAqBpvB,IAC/B2jC,MvDkwONtoC,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIwU,GAAa7c,EAAoB,GAEjC4b,EAAc3b,EAAuB4c,GAErCrU,EAAsBxI,EAAoB,IAE1CyI,EAAsBxI,EAAuBuI,GAE7CF,EAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GAEnC6J,EAAmBnS,EAAoB,IAEvCoS,EAAmBnS,EAAuBkS,GAE1C6lB,EAAkBh4B,EAAoB,IAEtCi4B,EAAkBh4B,EAAuB+3B,EAE7Cj4B,GAAQK,QuD5rPeq+C,EvD6rPvB1+C,EuDhoPes+C,iCvDioPft+C,EuDllPeg+C,iBvDmlPfh+C,EuDliPemgD,mBvDmiPfngD,EuDlhPeugD,qBvDmhPfvgD,EuDpgPe0gD,mBvDqgPf1gD,EuD//Oe2gD,sBvDggPf3gD,EuDt/Oe4gD,4BvDu/Of5gD,EuDr9OeghD,0BvDs9OfhhD,EuDj8Oew+C,uBvDk8Ofx+C,EuDh1OegiD,cAjYhB,IAAAr5C,GAAA1I,EAAA,GvDqtPKsH,EAAWrH,EAAuByI,GuDptPvCkP,EAAA5X,EAAA,IvDwtPK6X,EAAY5X,EAAuB2X,GuDvtPxCwF,EAAApd,EAAA,GvD2tPKopB,EAAYnpB,EAAuBmd,GuD1tPxCkc,EAAAt5B,EAAA,IvD8tPKu5B,EAAYt5B,EAAuBq5B,GuD7tPxCzwB,EAAA7I,EAAA,IACA69C,EAAA79C,EAAA,GAiMAugD,GAAoB/oC,UAAY,GAAItM,QvDk3P9B,SAAUpL,EAAQC,EAASC,GAEhC,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFiI,OAAOC,eAAerI,EAAS,cAC3BsI,OAAO,GwD7jQZ,IAAAK,GAAA1I,EAAA,GxDkkQKsH,EAAWrH,EAAuByI,GwDjkQvC0U,EAAApd,EAAA,GxDqkQKopB,EAAYnpB,EAAuBmd,GwDpkQxC+kC,EAAAniD,EAAA,KxDwkQKoiD,EAAkBniD,EAAuBkiD,EAI7CpiD,GAAQK,SwDzkQPiiD,aADa,SACAvvC,GACX,MAAOA,GAAM7L,IAAI,SAAAkY,GAAA,MAAKiK,GAAAhpB,QAAQkQ,YAAY6O,MAG5CmjC,OALa,SAKNxvC,EAAOwZ,GACZ,MAAOhlB,GAAAlH,QAAEwQ,QAAQ0b,EAAA,aAAV81B,EAAAhiD,UAMP2mC,WAZW,SAYCj0B,EAAOwZ,EAASxC,EAAWk0B,GACnC,MAAOlrC,GAAM7L,IAAI,SAAAuF,GAAA,OACtBM,GAAIN,EAASM,GACJM,SAAUZ,EAASY,SAASnG,IAAI,SAAAqG,GAAA,OAC5BR,GAAIQ,EAAOR,GACX7K,EAAGqlC,OAAOh6B,EAAOrL,GACjBE,EAAGmlC,OAAOh6B,EAAOnL,GACjBogD,SAAUn5B,EAAAhpB,QAAQwO,iBAAiBtB,EAAOR,GAAIN,GAAUvF,IAAI,SAAA4F,GAAA,MAAKA,GAAEC,QAGvEH,MAAOH,EAASG,MAAM1F,IAAI,SAAAyF,GAAA,OACtBI,GAAIJ,EAAKI,GACT01C,YAAa91C,EAAKO,GAAIP,EAAKS,IAC3Bs1C,SAAUr5B,EAAAhpB,QAAQgP,eAAe1C,EAAKI,GAAIN,GAAUvF,IAAI,SAAAqH,GAAA,MAAKA,GAAExB,QAGnEuB,MAAO7B,EAAS6B,MAAMpH,IAAI,SAAAkI,GAAA,OACtBrC,GAAIqC,EAAKrC,GACTy1C,SAAUpzC,EAAKZ,SAAStH,IAAI,SAAA8H,GAAA,MAAMA,GAAGxC,UAErCm2C,WAAYvzC,EAAKZ,SAAStH,IAAI,SAAA8H,GAAA,MAAMA,GAAGJ,QAAU,EAAI,axD+lQ/D,SAAU7O,EAAQC,EAASC,GAEhC,YAkBA,SAASsX,GAAwBpX,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIqX,KAAa,IAAW,MAAPrX,EAAe,IAAK,GAAIsS,KAAOtS,GAAWiI,OAAOqP,UAAUtD,eAAeuD,KAAKvX,EAAKsS,KAAM+E,EAAO/E,GAAOtS,EAAIsS,GAAgC,OAAtB+E,GAAOnX,QAAUF,EAAYqX,EAElQ,QAAStX,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAlBvFiI,OAAOC,eAAerI,EAAS,cAC3BsI,OAAO,GyDxoQZ,IAAAoiB,GAAAzqB,EAAA,KzD6oQK0qB,EAAYzqB,EAAuBwqB,GyD5oQxCE,EAAA3qB,EAAA,KAAYqsB,EzDgpQK/U,EAAwBqT,GyD/oQzCE,EAAA7qB,EAAA,KzDmpQK8qB,EAAY7qB,EAAuB4qB,EAMvC9qB,GAAQK,SyDtpQL2qB,YAAY,EAEZjY,SAoBAsZ,kBACAC,UAAWA,EACXC,oBzDyoQE,SAAUxsB,EAAQC,EAASC,GAEhC,YAoCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,G0DvsQjF,QAAS8+C,GAAalsC,EAAtB1P,GAAwE,GAAzCgd,GAAyChd,EAAzCgd,YAAa8+B,EAA4B97C,EAA5B87C,yBAE/C1yC,EAAWlF,EAAAlH,QAAEwM,KAAKkG,GAAShG,GAAIsT,IAC/BuiC,EAAa,GAAAC,GAAAxiD,QAAQkH,EAAAlH,QAAEwQ,QAAQpE,EAAS6B,MAAO,SAAAC,GAAA,MAAKhH,GAAAlH,QAAE6G,IAAIqH,EAAEC,SAAU,cACtEs0C,EAAev7C,EAAAlH,QAAEwQ,QACfpE,EAASG,MAAMU,OAAO,SAAAR,GAAA,MAAK81C,GAAW9c,IAAIh5B,EAAEC,MAC5C,SAAAD,GAAA,OAAMA,EAAEI,GAAIJ,EAAEM,MAChB21C,EAAgB,GAAAF,GAAAxiD,WAAA2P,QAAA,EAAAtH,EAAArI,SACV8+C,QADU,EAAAz2C,EAAArI,SAEXyiD,IAEPr2C,GAASG,MAAQH,EAASG,MAAMU,OAAO,SAAAR,GAAA,MAAK81C,GAAW9c,IAAIh5B,EAAEC,MAC7DN,EAASY,SAAWZ,EAASY,SAASC,OAAO,SAAAS,GAAA,MAAKg1C,GAAcjd,IAAI/3B,EAAEhB,KACtE,IAAMi2C,GAAez7C,EAAAlH,QAAE6L,cAAF8D,QAAA,EAAAtH,EAAArI,SAAiBuiD,IAAar7C,EAAAlH,QAAE6G,IAAIuF,EAASG,MAAO,MACrEo2C,GAAapgD,QACf0vB,QAAQ9mB,MAAM,wDAAwD,EAAAqQ,EAAAxb,SAAeoM,GAEvF,IAAMw2C,GAAe17C,EAAAlH,QAAE6L,WAAW42C,EAAcv7C,EAAAlH,QAAE6G,IAAIuF,EAASY,SAAU,MACrE41C,GAAargD,QACf0vB,QAAQ9mB,MAAM,yDAAyD,EAAAqQ,EAAAxb,SAAeoM,IAInF,QAASsxC,GAAahrC,EAAO29B,GAAS,GAC/BjkC,GAAaikC,EAAbjkC,QACRsG,GAAMjM,KAAK2F,GAEV,QAASy2C,GAAanwC,EAAO29B,GAAS,GAC/BrwB,GAAwBqwB,EAAxBrwB,YAAa9S,EAAWmjC,EAAXnjC,MACrBwF,GAAMlG,KAAK,SAAAuS,GAAA,MAAKA,GAAErS,KAAOsT,IAAahT,SAASvG,KAAKyG,GAEnD,QAAS41C,GAAWpwC,EAAO29B,GAAS,GAC7BrwB,GAAsBqwB,EAAtBrwB,YAAajR,EAASshC,EAATthC,IACrB2D,GAAMlG,KAAK,SAAAuS,GAAA,MAAKA,GAAErS,KAAOsT,IAAa/R,MAAMxH,KAAKsI,GAOhD,QAASg0C,GAAgBrwC,EAAO29B,GAM/B,IAAK,GAJG3jC,GAAO2jC,EAAP3jC,GAICwE,EAAI,EAAGA,EAAIwB,EAAMnQ,OAAQ2O,IAAK,CACnC,GAAM6N,GAAIrM,EAAMxB,EAChB,IAAI6N,EAAErS,KAAOA,EAAI,CACbgG,EAAMswC,OAAOtwC,EAAM+B,UAAU,SAAAsK,GAAA,MAAKA,GAAErS,KAAOA,IAAK,EAChD,OACG,IAAKqS,EAAE9Q,MAAMpH,IAAI,SAAAqH,GAAA,MAAKA,GAAExB,KAAI6M,QAAQ7M,GAAK,CAC5CqS,EAAE9Q,MAAM+0C,OAAOjkC,EAAE9Q,MAAMwG,UAAU,SAAAvG,GAAA,MAAKA,GAAExB,KAAOA,IAAK,EACpD,OACG,IAAKqS,EAAExS,MAAM1F,IAAI,SAAA4F,GAAA,MAAKA,GAAEC,KAAI6M,QAAQ7M,GAAK,CAC5CqS,EAAExS,MAAMy2C,OAAOjkC,EAAExS,MAAMkI,UAAU,SAAAhI,GAAA,MAAKA,GAAEC,KAAOA,IAAK,EACpD,OACG,IAAKqS,EAAE/R,SAASnG,IAAI,SAAA6G,GAAA,MAAKA,GAAEhB,KAAI6M,QAAQ7M,GAAK,CAC/CqS,EAAE/R,SAASg2C,OAAOjkC,EAAE/R,SAASyH,UAAU,SAAA/G,GAAA,MAAKA,GAAEhB,KAAOA,IAAK,EAC1D,SAMT,QAASu2C,GAAcvwC,EAAO29B,GAAS,GAC9BrwB,GAAkCqwB,EAAlCrwB,YAAajS,EAAqBsiC,EAArBtiC,QAASK,EAAYiiC,EAAZjiC,QAC1BhC,EAAWsG,EAAMlG,KAAK,SAAAuS,GAAA,MAAKA,GAAErS,KAAOsT,IACpCjR,EAAO3C,EAAS6B,MAAMzB,KAAK,SAAA0B,GAAA,MAAKA,GAAExB,KAAOqB,IACzCzB,EAAOF,EAASG,MAAMC,KAAK,SAAAC,GAAA,MAAKA,GAAEC,KAAO0B,EAAQjC,SAEjDG,IAAQyC,EAAKZ,SAAS1H,KAAK2H,GAIhC,QAAS80C,GAAmBxwC,EAAO29B,GAAS,GACnCrwB,GAAmCqwB,EAAnCrwB,YAAajS,EAAsBsiC,EAAtBtiC,QAASI,EAAakiC,EAAbliC,SAC1B/B,EAAWsG,EAAMlG,KAAK,SAAAuS,GAAA,MAAKA,GAAErS,KAAOsT,IACpCjR,EAAO3C,EAAS6B,MAAMzB,KAAK,SAAA0B,GAAA,MAAKA,GAAExB,KAAOqB,GAC7CgB,GAAKZ,SAAWA,EAASlB,OAAO,SAAAk2C,GAAA,MAAO/2C,GAASG,MAAMC,KAAK,SAAAC,GAAA,MAAKA,GAAEC,KAAOy2C,EAAIh3C,YAI9E,QAASi3C,GAAe1wC,EAAO29B,GAAS,GAC/BrwB,GAAkCqwB,EAAlCrwB,YAAajS,EAAqBsiC,EAArBtiC,QAAS5B,EAAYkkC,EAAZlkC,QAC1BC,EAAWsG,EAAMlG,KAAK,SAAAuS,GAAA,MAAKA,GAAErS,KAAOsT,IACpCjR,EAAO3C,EAAS6B,MAAMzB,KAAK,SAAA0B,GAAA,MAAKA,GAAExB,KAAOqB,GAC7CgB,GAAKZ,SAAS60C,OAAOj0C,EAAKZ,SAASsG,UAAU,SAAA9F,GAAA,MAAMA,GAAGxC,UAAYA,IAAU,GAG7E,QAASk3C,GAAe3wC,EAAO29B,GAAS,GAAAiT,GAEzCtjC,EAA4CqwB,EAA5CrwB,YAAajS,EAA+BsiC,EAA/BtiC,QAAS5B,EAAsBkkC,EAAtBlkC,QAASm1C,EAAajR,EAAbiR,SACjCl1C,EAAWsG,EAAMlG,KAAK,SAAAuS,GAAA,MAAKA,GAAErS,KAAOsT,IACpCjR,EAAO3C,EAAS6B,MAAMzB,KAAK,SAAA0B,GAAA,MAAKA,GAAExB,KAAOqB,IACzCw1C,EAAYr8C,EAAAlH,QAAEyU,UAAU1F,EAAKZ,UAAYhC,YACzCiC,EAAUW,EAAKZ,SAASo1C,IAE1BD,EAAAv0C,EAAKZ,UAAS60C,OAAd3nC,MAAAioC,GACEC,EAAW,GADb5zC,QAAA,EAAAtH,EAAArI,SAGKshD,EAASz6C,IAAI,SAAA/C,GAAA,GAAO0/C,GAAP1/C,EAAG4I,GAAwB+2C,EAA3B3/C,EAAkByK,OAAlB,QACdpC,QAASq3C,EACTj1C,QAASH,EAAQG,QAAUk1C,QAM1B,QAASC,GAAiBhxC,EAA1BtN,GAA4D,GAAzB4a,GAAyB5a,EAAzB4a,YAAahT,EAAY5H,EAAZ4H,SAC/CZ,EAAWlF,EAAAlH,QAAEwM,KAAKkG,GAAShG,GAAIsT,GACrChT,GAASyM,QAAQ,SAAA/L,GAAA,MACfxG,GAAAlH,QAAEwM,KAAKJ,EAASY,UAAYN,GAAIgB,EAAEhB,MAASN,EAASY,SAASvG,KAAKiH,KAI/D,QAASi2C,GAAiBjxC,EAA1BjN,GAAyD,GAAtBua,GAAsBva,EAAtBua,YAAazT,EAAS9G,EAAT8G,MAC/CH,EAAWlF,EAAAlH,QAAEwM,KAAKkG,GAAShG,GAAIsT,GACrCzT,GAAMkN,QAAQ,SAAAhN,GAAA,MACZvF,GAAAlH,QAAEwM,KAAKJ,EAASG,OAASG,GAAID,EAAEC,MAASN,EAASG,MAAM9F,KAAKgG,KAIzD,QAASm3C,GAAUlxC,EAAnB9M,GAAoF,GAAxDoa,GAAwDpa,EAAxDoa,YAAa6hC,EAA2Cj8C,EAA3Ci8C,aAAcP,EAA6B17C,EAA7B07C,SAAUE,EAAmB57C,EAAnB47C,eACtEmC,GAAiBjxC,GAASsN,cAAazT,MAAO+0C,IAC9CE,EAAgB/nC,QAAQ,SAAAoqC,GAAA,MAAeR,GAAe3wC,EAAOmxC,KAC7Dd,EAAgBrwC,GAAShG,GAAIm1C,IAIxB,QAASpD,GAAkB/rC,EAA3B1M,GAA6E,GAAzCga,GAAyCha,EAAzCga,YAAahT,EAA4BhH,EAA5BgH,SAAUT,EAAkBvG,EAAlBuG,MAAOwB,EAAW/H,EAAX+H,QACjE3B,EAAWlF,EAAAlH,QAAEwM,KAAKkG,GAAShG,GAAIsT,GACrC0jC,GAAiBhxC,GAASsN,cAAahT,aACvC22C,EAAiBjxC,GAASsN,cAAazT,SAEvC,IAAIwC,GAAO7H,EAAAlH,QAAEwM,KAAKJ,EAAS6B,OAASvB,GAAIqB,GACnCgB,KACHA,GAASrC,GAAIqB,EAASI,aACtB/B,EAAS6B,MAAMxH,KAAKsI,IAGtBA,EAAKZ,SAAW5B,EAAM1F,IAAI,SAAA4F,GAAA,OACxBN,QAASM,EAAEC,GACX6B,UAAW9B,EAAE8B,W1DshQhBxG,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIwU,GAAa7c,EAAoB,GAEjC4b,EAAc3b,EAAuB4c,GAErCrU,EAAsBxI,EAAoB,IAE1CyI,EAAsBxI,EAAuBuI,GAE7C07C,EAAOlkD,EAAoB,KAE3B4iD,EAAQ3iD,EAAuBikD,EAEnCnkD,G0DrrQei/C,e1DsrQfj/C,E0D/pQe+9C,e1DgqQf/9C,E0D5pQekjD,e1D6pQfljD,E0DzpQemjD,a1D0pQfnjD,E0DjpQeojD,kB1DkpQfpjD,E0DznQesjD,gB1D0nQftjD,E0DhnQeujD,qB1DinQfvjD,E0DzmQeyjD,iB1D0mQfzjD,E0DnmQe0jD,iB1DomQf1jD,E0DjlQe+jD,mB1DklQf/jD,E0D3kQegkD,mB1D4kQfhkD,E0DrkQeikD,Y1DskQfjkD,E0D/jQe8+C,mBAvIhB,IAAAn2C,GAAA1I,EAAA,G1D0sQKsH,EAAWrH,EAAuByI,IAsOjC,SAAU5I,EAAQC,EAASC,GAEhC,YA8CA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GA5CvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GAEnC67C,EAAUnkD,EAAoB,IAE9BokD,EAAWnkD,EAAuBkkD,GAElCzsC,EAAQ1X,EAAoB,IAE5B2X,EAAS1X,EAAuByX,G2Dl8QrChP,EAAA1I,EAAA,G3Ds8QKsH,EAAWrH,EAAuByI,G2Dr8QvC2J,EAAArS,EAAA,I3Dy8QKsS,EAAcrS,EAAuBoS,G2Dx8Q1CuF,EAAA5X,EAAA,I3D48QK6X,EAAY5X,EAAuB2X,G2D38QxC8H,EAAA1f,EAAA,I3D+8QK2f,EAAe1f,EAAuByf,G2D98Q3C2kC,EAAArkD,EAAA,I3Dk9QKskD,EAAYrkD,EAAuBokD,G2Dj9QxCjnC,EAAApd,EAAA,I3Dq9QKopB,EAAYnpB,EAAuBmd,G2Dp9QxCkc,EAAAt5B,EAAA,G3Dw9QKu5B,EAAYt5B,EAAuBq5B,EAIvCv5B,GAAQK,S2Dz9QPmkD,UADa,SACH36B,GACN,GAAM9U,GAAOsU,EAAAhpB,QAAQoU,aAAaoV,EAAQ9W,MAAO,WAC3CS,EAAQ,GAAIsE,GAAAzX,QAAQ8f,MAAMpL,EAGhC8U,GAAQoyB,OAAO,aAAezoC,UAE9BqW,EAAQtW,SAAS,yBAA2BiW,SAAUhW,EAAMzG,KAAQod,MAAM,IAE1EN,EAAQtW,SAAS,aAAeC,UAChCqW,EAAQtW,SAAS,eAAiBC,UAClCqW,EAAQtW,SAAS,eAAiBC,WAGpCixC,UAfW,SAeA56B,EAAS6mB,GAChB,GAAMl9B,GAAQqW,EAAQ9W,MAAMqB,QAAQvH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAO2jC,EAAQl9B,MAAMzG,KACjEgI,EAAOsU,EAAAhpB,QAAQoU,aAAaoV,EAAQ9W,MAAO,SAAUS,GACrDC,EAAQ,GAAIqE,GAAAzX,QAAQugB,MAAM7L,EAE9B8U,GAAQoyB,OAAO,aAAezoC,QAAOC,WAGzCixC,YAvBW,SAuBE76B,EAAS6mB,GAClB,GAAMl9B,GAAQqW,EAAQ9W,MAAMqB,QAAQvH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAO2jC,EAAQl9B,MAAMzG,KACjEgI,EAAOsU,EAAAhpB,QAAQoU,aAAaoV,EAAQ9W,MAAO,UAAWS,GACtDE,EAAU,GAAIoE,GAAAzX,QAAQ0gB,QAAQhM,EAElC8U,GAAQoyB,OAAO,eAAiBzoC,QAAOE,aAG3CixC,aA/BW,SA+BE96B,EAAS6mB,GACpB,GAAMt8B,GAAUyV,EAAQ9W,MAAMqB,QACxBwwC,EAAaxwC,EAAQU,UAAU,SAAAT,GAAA,MAAKA,GAAEtH,KAAO2jC,EAAQl9B,MAAMzG,KAC3DyG,EAAQY,EAAQwwC,EAEtB/6B,GAAQoyB,OAAO,gBAAkBzoC,UAEV,IAAnBY,EAAQxR,OACVinB,EAAQtW,SAAS,aAEjBsW,EAAQtW,SAAS,eAAiBC,MAAOY,EAAQwwC,EAAa,MAIlEC,aA7CW,SA6CGh7B,EAAS6mB,GACnB,GAAMl9B,GAAQqW,EAAQ9W,MAAMqB,QAAQvH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAO2jC,EAAQl9B,MAAMzG,KACjE0G,EAAQD,EAAMc,OAAOzH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAO2jC,EAAQj9B,MAAM1G,IAE1D8c,GAAQoyB,OAAO,gBACXxoC,MAAOA,EACPD,MAAOA,GAEX,IAAMpE,GAAOya,EAAQo0B,YAAY,oCAAoC3vC,MAAMzB,KAAK,SAAA0B,GAAA,MAAKA,GAAExB,KAAO0G,EAAMrF,SAChGgB,IAEAya,EAAQtW,SAAS,sCACbnE,KAAMA,EACNiR,YAAawJ,EAAQo0B,YAAY,oCAAoClxC,KACpEod,MAAM,KAInB26B,eA/DW,SA+DKj7B,EAAS6mB,GACrB,GAAMl9B,GAAQqW,EAAQ9W,MAAMqB,QAAQvH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAO2jC,EAAQl9B,MAAMzG,KACjE2G,EAAUF,EAAME,QAAQ7G,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAO2jC,EAAQh9B,QAAQ3G,IAE/D8c,GAAQoyB,OAAO,kBACXvoC,QAASA,EACTF,MAAOA,GAGX,IAAMpE,GAAOya,EAAQo0B,YAAY,oCAAoC3vC,MAAMzB,KAAK,SAAA0B,GAAA,MAAKA,GAAExB,KAAO2G,EAAQtF,SAClGgB,IAEAya,EAAQtW,SAAS,sCACbnE,KAAMA,EACNiR,YAAawJ,EAAQo0B,YAAY,oCAAoClxC,KACpEod,MAAM,KAInB46B,aAlFW,SAkFGl7B,EAAS6mB,GACnB,GAAMl9B,GAAQqW,EAAQ9W,MAAMqB,QAAQvH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAO2jC,EAAQl9B,MAAMzG,KACjE4G,EAAQH,EAAMe,OAAO1H,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAO2jC,EAAQ/8B,MAAM5G,IAE1D8c,GAAQoyB,OAAO,gBACXtoC,MAAOA,EACPH,MAAOA,KAIjBwxC,iBA5Fa,SA4FIn7B,EAAS6mB,GACxB7mB,EAAQoyB,OAAO,6BAA8BvL,EAAQ59B,QACrD+W,EAAQoyB,OAAO,gBAAiBvL,IAGlCuU,6BAjGa,SAiGgBp7B,EAAS6mB,GACpC7mB,EAAQoyB,OAAO,yCAA0CvL,EAAQ59B,QACjE+W,EAAQoyB,OAAO,gBAAiBvL,IAIhCpO,cAvGW,SAuGIzY,EAAS6mB,GACpB7mB,EAAQoyB,OAAO,iBACXnpC,OAAQ49B,EAAQ59B,UAIxBoyC,oBA7GW,SA6GUr7B,EAAS6mB,GAC1B,GAAMl9B,GAAQqW,EAAQ9W,MAAMqB,QAAQvH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAO2jC,EAAQl9B,MAAMzG,KACjEo4C,GAAkB,EAAAvtC,EAAAvX,SAAYkS,EAAAlS,QAAU+T,QAAQ1B,QAChD0yC,IAGJ,KAAK,GAAI3yC,KAAOi+B,GACRA,EAAQv8B,eAAe1B,KAAS0yC,EAAgBvrC,QAAQnH,KACxD2yC,EAAe3yC,GAAOi+B,EAAQj+B,GAGtC2yC,GAAe5xC,MAAQA,EAGvBqW,EAAQoyB,OAAO,sBAAuBmJ,IAG1CC,oBA9HW,SA8HUx7B,EAAS6mB,GAC1B,GAAMj9B,GAAQoW,EAAQ0C,QAAQ+4B,UAAUz4C,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAO2jC,EAAQj9B,MAAM1G,KACrEo4C,GAAkB,EAAAvtC,EAAAvX,SAAYoT,GAC9B2xC,IAGJ,KAAK,GAAI3yC,KAAOi+B,GACRA,EAAQv8B,eAAe1B,KAAS0yC,EAAgBvrC,QAAQnH,KACxD2yC,EAAe3yC,GAAOi+B,EAAQj+B,GAGtC2yC,GAAe3xC,MAAQA,EAGvBoW,EAAQoyB,OAAO,sBAAuBmJ,IAG1CG,sBA/IW,SA+IY17B,EAAS6mB,GAC5B,GAAMh9B,GAAUmW,EAAQ0C,QAAQi5B,WAAW34C,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAO2jC,EAAQh9B,QAAQ3G,KAC1Eo4C,GAAkB,EAAAvtC,EAAAvX,SAAYqT,GAC9B0xC,IAGJ,KAAK,GAAI3yC,KAAOi+B,GACRA,EAAQv8B,eAAe1B,KAAS0yC,EAAgBvrC,QAAQnH,KACxD2yC,EAAe3yC,GAAOi+B,EAAQj+B,GAGtC2yC,GAAe1xC,QAAUA,EAGzBmW,EAAQoyB,OAAO,wBAAyBmJ,IAG5CK,oBAhKW,SAgKU57B,EAAS6mB,GAC1B,GAAM/8B,GAAQkW,EAAQ0C,QAAQm5B,UAAU74C,KAAK,SAAA0E,GAAA,MAAKA,GAAExE,KAAO2jC,EAAQ/8B,MAAM5G,KACrEo4C,GAAkB,EAAAvtC,EAAAvX,SAAYsT,GAC9ByxC,IAGJ,KAAK,GAAI3yC,KAAOi+B,GACRA,EAAQv8B,eAAe1B,KAAS0yC,EAAgBvrC,QAAQnH,KACxD2yC,EAAe3yC,GAAOi+B,EAAQj+B,GAGtC2yC,GAAezxC,MAAQA,EAGvBkW,EAAQoyB,OAAO,sBAAuBmJ,IAG5CO,+BAjLa,SAAAtiD,EAiLuCqtC,GAAS,GAA5B39B,GAA4B1P,EAA5B0P,MAAOQ,EAAqBlQ,EAArBkQ,SACpBxG,EAAS2jC,EAAnB59B,OAAU/F,EAGlB,IAAuC,yBAAnC2jC,EAAQ53B,wBACV,EAAAurC,EAAAhkD,SAAcqwC,GACZvvB,OAAQ,KACR5a,MAAO,KACPD,QAAS,WAEN,IAAuC,sBAAnCoqC,EAAQ53B,wBACjB,EAAAurC,EAAAhkD,SAAcqwC,GACZlvB,IAAK,WAEF,IAAuC,kBAAnCkvB,EAAQ53B,wBACjB,EAAAurC,EAAAhkD,SAAcqwC,GACZlvB,IAAK,KACLlb,QAAS,WAEN,IAAIoqC,EAAQ53B,uBACjB,KAAM,IAAI3N,OAAJ,wCAAkDulC,EAAQ53B,uBAGlE,IAAIvR,EAAAlH,QAAE6oB,UAAU,uBAAwB,qBAAsBwnB,EAAQ53B,wBAAyB,CAG7F,GAAM8sC,GAAkBr+C,EAAAlH,QAAEwQ,QAAQkC,EAAMqB,QAAS,SAAAZ,GAAA,MAC/CjM,GAAAlH,QAAE6Y,MAAM1F,EAAM+C,SACXjJ,QAAS6L,qBAAsBpM,IAC/B84C,QAAQ,WACRjvB,SACA/lB,QAAQtJ,EAAAlH,QAAEylD,MACV5+C,IAAI,SAAAsX,GAAA,OAAQgL,SAAUhW,EAAMzG,GAAI+F,QAAU/F,GAAIyR,EAAEzR,OAChDzE,SAELs9C,GAAgB9rC,QAAQ,SAAAisC,GAAA,MAAMxyC,GAAS,gBAAiBwyC,KAG1DxyC,EAAS,uBAAwBm9B,IAGjCsV,qBA1NW,SA0NWn8B,EAAS6mB,GAC3B,GAAM59B,GAASuW,EAAAhpB,QAAQ4T,oBAAoB4V,EAAQ9W,MAAO29B,EAAQ59B,OAAO/F,GACzE2jC,GAAQ59B,OAASA,EAEjB+W,EAAQoyB,OAAO,uBAAwBvL,IAG7CuV,oBAjOa,SAiOOp8B,EAAS6mB,GAC3B,GAAMl9B,GAAQqW,EAAQ9W,MAAMqB,QAAQvH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAO2jC,EAAQlnB,WACzDzU,EAAOsU,EAAAhpB,QAAQoU,aAAaoV,EAAQ9W,MAAO,SAAUS,GACrDG,EAAQ,GAAImE,GAAAzX,QAAQ2gB,MAAMjM,EAAM27B,EAAQzvB,IAE9CtN,GAAMwN,OAASuvB,EAAQvvB,OACvBxN,EAAMpN,MAAQmqC,EAAQnqC,MACtBoN,EAAMzR,EAAIwuC,EAAQxuC,EAClByR,EAAMvR,EAAIsuC,EAAQtuC,EAElBynB,EAAQoyB,OAAO,uBACbzyB,SAAUhW,EAAMzG,GAChB4G,WAIFuyC,qBAjPW,SAiPWr8B,EAAS6mB,GAC3B,GAAMxnC,GAAOwnC,EAAQxnC,KACjB6L,EAAOsU,EAAAhpB,QAAQoU,aAAaoV,EAAQ9W,MAAO7J,GAC3C4J,EAAS,GAAIuW,GAAAhpB,QAAQ6G,IAAIgC,GAAMvH,MAAOoT,QAE1C8U,GAAQoyB,OAAO,cAAgB/yC,OAAM4J,YAG3CqzC,YAzPa,SAyPDt8B,EAAS6mB,GACnB,GAAMl9B,GAAQk9B,EAAQl9B,KACtBqW,GAAQtW,SAAS,iCAAmCxG,GAAIyG,EAAMzG,KAAQod,MAAM,KAG9Ei8B,aA9Pa,SA8PAv8B,EAAS6mB,GAAS,GAEzBlnB,GAAmDknB,EAAnDlnB,SAAUhd,EAAyCkkC,EAAzClkC,QAAS2M,EAAgCu3B,EAAhCv3B,qBAAsB/R,EAAUspC,EAAVtpC,MAC3CoM,EAAQjM,EAAAlH,QAAEwM,KAAKgd,EAAQ9W,MAAMqB,SAAWrH,GAAIyc,IAC5CvQ,EAAa1R,EAAAlH,QAAEwM,KAAKgd,EAAQ9W,MAAMmB,QAAQyB,oBAAsB5I,GAAIoM,IACpE1M,EAAW+G,GAASjM,EAAAlH,QAAEwM,KAAKgd,EAAQE,UAAUtd,UAAYM,GAAIyG,EAAM6M,cACnE1T,EAAOF,GAAYlF,EAAAlH,QAAEwM,KAAKJ,EAASG,OAASG,GAAIP,GAClD,KAAKgH,EACH,KAAM,IAAIrI,OAAM,kBACX,KAAK8N,EACV,KAAM,IAAI9N,OAAM,8BACX,KAAKsB,EACV,KAAM,IAAItB,OAAM,qBACX,KAAKwB,EACV,KAAM,IAAIxB,OAAM,iBACX,IAAI/D,EAAQ,GAAKA,EAAQ,EAC9B,KAAM,IAAI+D,OAAM,gCAGlB,IAAMk7C,GAAgB9+C,EAAAlH,QAAEiN,OAAOkG,EAAM+C,SAAW/J,YAC7CtF,IAAI,SAAAsX,GAAA,SAAAhW,EAAAnI,YACAme,GACH1F,uBAAwBvR,EAAAlH,QAAEwM,KACxBgd,EAAQ9W,MAAMmB,QAAQyB,oBACpB5I,GAAIyR,EAAErF,uBACRL,2BAEF8sC,QAGFA,GAFwC,kBAAtC3sC,EAAWH,uBAEKvR,EAAAlH,QAAEiQ,OAAO+1C,GAAiBvtC,uBAAwB,kBAGlDutC,EAEpBT,EAAgB9rC,QACd,SAAA0E,GAAA,MAAKqL,GAAQoyB,OACX,iBACEzyB,WAAU1W,QAAU/F,GAAIyR,EAAEzR,QAEhC8c,EAAQoyB,OAAO,gBAAf,EAAAzzC,EAAAnI,YACKqwC,GACH3jC,GAAI6S,EAAAvf,QAAUgX,WACdtC,MAAM,EAAA4K,EAAA3I,SAAQiC,EAAWlE,UAI7BuxC,yBA7Sa,SA6SYz8B,EAAS6mB,GAAS,GAErClnB,GAA+DknB,EAA/DlnB,SAAUpb,EAAqDsiC,EAArDtiC,QAASoL,EAA4Ck3B,EAA5Cl3B,kCAAmCtX,EAASwuC,EAATxuC,EAAGE,EAAMsuC,EAANtuC,EAC3DoR,EAAQjM,EAAAlH,QAAEwM,KAAKgd,EAAQ9W,MAAMqB,SAAWrH,GAAIyc,IAC5C+8B,EAAkBh/C,EAAAlH,QAAEwM,KAAKgd,EAAQ9W,MAAMmB,QAAQ0B,iCAAmC7I,GAAIyM,IACtF/M,EAAW+G,GAASjM,EAAAlH,QAAEwM,KAAKgd,EAAQE,UAAUtd,UAAYM,GAAIyG,EAAM6M,cACnEjR,EAAO3C,GAAYlF,EAAAlH,QAAEwM,KAAKJ,EAAS6B,OAASvB,GAAIqB,IAChDb,EAASd,IACP+sB,EAAAn5B,QAAgB2N,sBAAuB9L,IAAGE,KAAKqK,IAAa83C,EAAAlkD,QAAgBwf,OAAO3d,EAAGE,GAC1F,KAAKoR,EACH,KAAM,IAAIrI,OAAM,kBACX,KAAKo7C,EACV,KAAM,IAAIp7C,OAAM,2CACX,KAAKsB,EACV,KAAM,IAAItB,OAAM,qBACX,KAAKiE,EACV,KAAM,IAAIjE,OAAM,iBACX,KAAKoC,EAAOR,GACjB,KAAM,IAAI5B,OAAM,kCAElB0e,GAAQoyB,OAAO,6BAA+B57B,YAAa5T,EAASM,GAAIM,UAAWE,KAAa4c,MAAM,IACtGN,EAAQoyB,OAAO,4BAAf,EAAAzzC,EAAAnI,YACKqwC,GACH5iC,UAAWP,EAAOR,GAClBA,GAAI6S,EAAAvf,QAAUgX,WACdtC,MAAM,EAAA4K,EAAA3I,SAAQuvC,EAAgBxxC,UAGlCyxC,0BAzUa,SAAAriD,EAyUyBusC,GAAS,GAAnBuL,GAAmB93C,EAAnB83C,MAC1BA,GAAO,4BAA6BvL,IAEtC+V,cA5Ua,SAAAhhD,EA4UairC,GAAS,GAAnBuL,GAAmBx2C,EAAnBw2C,MACdA,GAAO,gBAAiBvL,IAE1BgW,yBA/Ua,SAAA5gD,EA+UwB4qC,GAAS,GAAnBuL,GAAmBn2C,EAAnBm2C,MACzBA,GAAO,2BAA4BvL,IAErCiW,aAlVa,SAAA1gD,EAkVYyqC,GAAS,GAAnBuL,GAAmBh2C,EAAnBg2C,MACbA,GAAO,eAAgBvL,IAEzBkW,qBArVa,SAAAvgD,EAAA4J,GAqVkC,GAAxBgsC,GAAwB51C,EAAxB41C,OAAYzyB,EAAYvZ,EAAZuZ,QACjCyyB,GAAO,2BAA6BzyB,aACpCyyB,EAAO,eAAiBzyB,gB3Du+QtB,SAAUzpB,EAAQC,GAEvB,Y4Dx0RM,SAAS0Y,GAAOvS,GAAK,OAAQA,EAC7B,QAAS0U,GAAK7U,GAAK,MAA2B,SAApBA,EAAE8wB,cAC5B,QAAS9d,GAAU7S,GAAK,OAAQA,GAAK,K5Dw0R3CiC,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,IAETtI,E4D70Re0Y,S5D80Rf1Y,E4D70Re6a,O5D80Rf7a,E4D70RegZ,a5D01RV,SAAUjZ,EAAQC,EAASC,GAEhC,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFiI,OAAOC,eAAerI,EAAS,cAC3BsI,OAAO,GAGX,IAAIG,GAAsBxI,EAAoB,IAE1CyI,EAAsBxI,EAAuBuI,GAE7CkP,EAAQ1X,EAAoB,IAE5B2X,EAAS1X,EAAuByX,GAEhCpP,EAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,EAIvCvI,GAAQK,S6Dh3RLilD,UAFW,SAEAvyC,EAAOwZ,EAASxC,EAAWk0B,GAClC,MAAOl0B,GAAUrV,OAAON,QAAQY,OAAO,SAACV,EAAQd,GAC5C,MAAOc,GAAOtE,OAAOwD,EAAMc,cAInCkxC,WARW,SAQCzyC,EAAOwZ,EAASxC,EAAWk0B,GACnC,MAAOl0B,GAAUrV,OAAON,QAAQY,OAAO,SAACtB,EAASF,GAC7C,MAAOE,GAAQ1D,OAAOwD,EAAME,eAIpCgyC,UAdW,SAcA3yC,EAAOwZ,EAASxC,EAAWk0B,GAClC,MAAOl0B,GAAUrV,OAAON,QAAQY,OAAO,SAACT,EAAQf,GAC5C,MAAOe,GAAOvE,OAAOwD,EAAMe,cAGnCsyC,IAnBW,SAmBN9zC,EAAOwZ,EAASxC,EAAWk0B,GAC5B,GAAI6I,oBACG/8B,EAAUrV,OAAOR,SACpBE,QAAS2V,EAAUrV,OAAON,QAC1BE,OAAQiY,EAAQ+4B,UAChB5xC,QAAS6Y,EAAQi5B,WACjBjxC,OAAQgY,EAAQm5B,WAGpB,QAAO,EAAA9tC,EAAAvX,SAAYymD,GAAM9xC,OAAO,SAAC+xC,EAAIt0C,GAEjC,MADAs0C,GAAIjgD,KAAJ4U,MAAAqrC,GAAA,EAAAr+C,EAAArI,SAAYymD,EAAKr0C,KACVs0C,U7Dq3Rb,SAAUhnD,EAAQC,EAASC,GAEhC,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFiI,OAAOC,eAAerI,EAAS,cAC3BsI,OAAO,G8Dx5RZ,IAAAoiB,GAAAzqB,EAAA,K9D65RK0qB,EAAYzqB,EAAuBwqB,G8D55RxCE,EAAA3qB,EAAA,K9Dg6RK4qB,EAAc3qB,EAAuB0qB,G8D/5R1CE,EAAA7qB,EAAA,K9Dm6RK8qB,EAAY7qB,EAAuB4qB,EAIvC9qB,GAAQK,S8Dp6RL2qB,YAAY,EACZjY,OACIqB,WA8CAF,SACIoB,kBACAC,iBACAC,eACAE,qBACAC,sBACAC,mCACAH,mBAGR4W,kBACAC,oBACAC,oB9D83RE,SAAUxsB,EAAQC,EAASC,GAEhC,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAI87C,GAAUnkD,EAAoB,IAE9BokD,EAAWnkD,EAAuBkkD,G+Dz8RvCz7C,EAAA1I,EAAA,G/D68RKsH,EAAWrH,EAAuByI,G+D58RvC0U,EAAApd,EAAA,G/Dg9RiBC,GAAuBmd,EAIvCrd,GAAQK,S+Dj9RLmkD,UADW,SACAzxC,EAAO29B,GAAW39B,EAAMqB,QAAQtN,KAAK4pC,EAAQl9B,QACxDixC,UAFW,SAEA1xC,EAAO29B,GAAWA,EAAQl9B,MAAMc,OAAOxN,KAAK4pC,EAAQj9B,QAC/DixC,YAHW,SAGE3xC,EAAO29B,GAAWA,EAAQl9B,MAAME,QAAQ5M,KAAK4pC,EAAQh9B,UAElEszC,WALW,SAKCj0C,EAAO29B,GACf39B,EAAMmB,QAAQw8B,EAAQxnC,MAAMpC,KAAK4pC,EAAQ59B,SAG7C+xC,aATW,SASG9xC,EAAO29B,GACjBA,EAAQl9B,MAAMc,OAAO+uC,OAAO3S,EAAQl9B,MAAMc,OAAOQ,UAAU,SAACT,GACxD,MAAOA,GAAEtH,KAAO2jC,EAAQj9B,MAAM1G,KAC9B,IAER+3C,eAdW,SAcK/xC,EAAO29B,GACnBA,EAAQl9B,MAAME,QAAQ2vC,OAAO3S,EAAQl9B,MAAME,QAAQoB,UAAU,SAACT,GAC1D,MAAOA,GAAEtH,KAAO2jC,EAAQh9B,QAAQ3G,KAChC,IAERg4C,aAnBW,SAmBGhyC,EAAO29B,GACjBA,EAAQl9B,MAAMe,OAAO8uC,OAAO3S,EAAQl9B,MAAMe,OAAOO,UAAU,SAACvD,GACxD,MAAOA,GAAExE,KAAO2jC,EAAQ/8B,MAAM5G,KAC9B,IAER43C,aAxBW,SAwBG5xC,EAAO29B,GACjB39B,EAAMqB,QAAQivC,OAAOtwC,EAAMqB,QAAQU,UAAU,SAACT,GAC1C,MAAOA,GAAEtH,KAAO2jC,EAAQl9B,MAAMzG,KAC9B,IAEVu1B,cA7Ba,SA6BCvvB,EA7BD1P,GA6B4B,GAAR0J,GAAQ1J,EAAlByP,OAAU/F,EAE/BgG,GAAMmB,QAAU3M,EAAAlH,QAAE4mD,UAChBl0C,EAAMmB,QACN,SAAAgzC,GAAA,MAAO3/C,GAAAlH,QAAEiQ,OAAO42C,GAAOn6C,UAIzBm4C,oBArCW,SAqCUnyC,EAAO29B,GACxB,GAAMl9B,GAAQk9B,EAAQl9B,YACfk9B,GAAQl9B,OACf,EAAA6wC,EAAAhkD,SAAcmT,EAAOk9B,IAEzBuV,oBA1CW,SA0CUlzC,EAAO29B,GACxB,GAAMl9B,GAAQT,EAAMqB,QAAQvH,KAAK,SAAAwH,GAAA,MAAKA,GAAEtH,KAAO2jC,EAAQlnB,UACvDhW,GAAMe,OAAOzN,KAAK4pC,EAAQ/8B,QAG9B0xC,oBA/CW,SA+CUtyC,EAAO29B,GACxB,GAAIj9B,GAAQi9B,EAAQj9B,OACpB,EAAA4wC,EAAAhkD,SAAcoT,EAAOi9B,SACdj9B,GAAMA,OAGjB8xC,sBArDW,SAqDYxyC,EAAO29B,GAC1B,GAAMh9B,GAAUg9B,EAAQh9B,SACxB,EAAA2wC,EAAAhkD,SAAcqT,EAASg9B,SAChBh9B,GAAQA,SAEnB+xC,oBA1DW,SA0DU1yC,EAAO29B,GACxB,GAAM/8B,GAAQ+8B,EAAQ/8B,OACtB,EAAA0wC,EAAAhkD,SAAcsT,EAAO+8B,SACd/8B,GAAMA,OAEjBqyC,qBA/DW,SA+DWjzC,EAAO29B,GACzB,GAAM59B,GAAS49B,EAAQ59B,QACvB,EAAAuxC,EAAAhkD,SAAcyS,EAAQ49B,SACf59B,GAAOA,QAEpBszC,aApEa,SAoEArzC,EApEA5O,GAoEqE,GAA5DqlB,GAA4DrlB,EAA5DqlB,SAAUhd,EAAkDrI,EAAlDqI,QAAS2M,EAAyChV,EAAzCgV,qBAAsB/R,EAAmBjD,EAAnBiD,MAAO2F,EAAY5I,EAAZ4I,GAAIgI,EAAQ5Q,EAAR4Q,KAClEvB,EAAQjM,EAAAlH,QAAEwM,KAAKkG,EAAMqB,SAAWrH,GAAIyc,GAC1ChW,GAAM+C,QAAQzP,MACZqS,uBACA3M,UACApF,QACA2F,KACAgI,UAGJoyC,YA9Ea,SA8EDp0C,EA9ECtN,GA8EoB,GAAZ+jB,GAAY/jB,EAAZ+jB,SACbhW,EAAQjM,EAAAlH,QAAEwM,KAAKkG,EAAMqB,SAAWrH,GAAIyc,GAC1ChW,GAAM+C,YAER+vC,yBAlFa,SAkFYvzC,EAlFZjN,GAkFkG,GAA7E0jB,GAA6E1jB,EAA7E0jB,SAAUpb,EAAmEtI,EAAnEsI,QAASoL,EAA0D1T,EAA1D0T,kCAAmC1L,EAAuBhI,EAAvBgI,UAAWiH,EAAYjP,EAAZiP,KAAMhI,EAAMjH,EAANiH,GAErGyG,EAAQjM,EAAAlH,QAAEwM,KAAKkG,EAAMqB,SAAWrH,GAAIyc,IACpC/V,EAAQlM,EAAAlH,QAAEwM,KAAK2G,EAAMc,QAAUlG,WAEjCqF,GAAMgD,qBAAqB3P,MACzB0S,oCACA1L,YACAf,KACAgI,UAGJqyC,wBA9Fa,SA8FWr0C,EA9FX9M,GA8FgC,GAAZujB,GAAYvjB,EAAZujB,SACzBhW,EAAQjM,EAAAlH,QAAEwM,KAAKkG,EAAMqB,SAAWrH,GAAIyc,GAC1ChW,GAAMc,OAAOwF,QAAQ,SAACrG,GACpBA,EAAMgD,2BAGV4wC,2BApGa,SAoGct0C,EApGd1M,GAoG6B,GAAN0G,GAAM1G,EAAN0G,EAClCgG,GAAMqB,QAAQ0F,QAAQ,SAACtG,GACrBA,EAAM+C,QAAUhP,EAAAlH,QAAEiQ,OAAOkD,EAAM+C,SAAW4C,qBAAsBpM,OAGpEu6C,uCAzGa,SAyG0Bv0C,EAzG1B9C,GAyGyC,GAANlD,GAAMkD,EAANlD,EAC9CgG,GAAMqB,QAAQ0F,QAAQ,SAACtG,GACrBA,EAAMc,OAAOwF,QAAQ,SAACrG,GACpBA,EAAMgD,qBAAuBlP,EAAAlH,QAAEiQ,OAAOmD,EAAMgD,sBAAwB+C,kCAAmCzM,SAI7Gy5C,0BAhHa,SAgHazzC,EAhHb3C,GAgHkD,GAA5BoZ,GAA4BpZ,EAA5BoZ,SAAoBzc,EAAQqD,EAAlB0C,OAAU/F,GAC/CyG,EAAQjM,EAAAlH,QAAEwM,KAAKkG,EAAMqB,SAAWrH,GAAIyc,GAC1ChW,GAAMc,OAAOwF,QAAQ,SAACrG,GACpBA,EAAMgD,qBAAuBlP,EAAAlH,QAAEiQ,OAAOmD,EAAMgD,sBAAwB1J,UAGxE25C,yBAtHa,SAsHY3zC,EAtHZpC,GAsHiD,GAA5B6Y,GAA4B7Y,EAA5B6Y,SAAUzc,EAAkB4D,EAAlB5D,GAAI0F,EAAc9B,EAAd8B,IAAKnK,EAASqI,EAATrI,MAC7CkL,EAAQjM,EAAAlH,QAAEwM,KAAKkG,EAAMqB,SAAWrH,GAAIyc,GAC1ChW,GAAMc,OAAOwC,KAAK,SAACrD,GACjB,GAAM+C,GAAKjP,EAAAlH,QAAEwM,KAAK4G,EAAMgD,sBAAwB1J,MAChD,SAAIyJ,IACFA,EAAG/D,GAAOnK,GACH,MAMbm+C,cAlIa,SAkIC1zC,EAlID9K,GAkIsC,GAA5BuhB,GAA4BvhB,EAA5BuhB,SAAoBzc,EAAQ9E,EAAlB6K,OAAU/F,GACnCyG,EAAQjM,EAAAlH,QAAEwM,KAAKkG,EAAMqB,SAAWrH,GAAIyc,GAC1ChW,GAAM+C,QAAUhP,EAAAlH,QAAEiQ,OAAOkD,EAAM+C,SAAWxJ,QAE5C45C,aAtIa,SAsIA5zC,EAtIAw0C,GAsIqC,GAA5B/9B,GAA4B+9B,EAA5B/9B,SAAUzc,EAAkBw6C,EAAlBx6C,GAAI0F,EAAc80C,EAAd90C,IAAKnK,EAASi/C,EAATj/C,MAErCkL,EAAQjM,EAAAlH,QAAEwM,KAAKkG,EAAMqB,SAAWrH,GAAIyc,IACpClT,EAAS/O,EAAAlH,QAAEwM,KAAK2G,EAAM+C,SAAWxJ,MACnCuJ,GAAO7D,GAAOnK,K/D+/RZ,SAAUvI,EAAQC,EAASC,GAEhC,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GARvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GgEjpSV,IAAAK,GAAA1I,EAAA,GhEspSKsH,EAAWrH,EAAuByI,EAItC3I,GAAQK,SgEvpSP0U,KADa,SACRjC,EAAQxR,EAAOgH,EAAOY,GACzB,GAAI49C,GAAOxlD,EAAMirB,QAAQ,aAEzB,QAAQrjB,GACN,IAAK,UACH49C,EAAOxlD,EAAMyR,MAAM2B,OAAON,OAC1B,MACF,KAAK,SACH0yC,EAAOxlD,EAAMirB,QAAQ,mBACrB,MACF,KAAK,UACHu6B,EAAOxlD,EAAMirB,QAAQ,oBACrB,MACF,KAAK,SACHu6B,EAAOxlD,EAAMirB,QAAQ,mBACrB,MACF,SACEu6B,EAAOxlD,EAAMyR,MAAM2B,OAAOR,QAAQhL,GAGtC,GAAIsC,GAAQ,EAOZ,OANIs7C,GAAKx5C,OAAO,SAAA+G,GAAA,MAAMA,GAAEU,OAASzM,GAAW+L,EAAEtH,KAAO+F,EAAO/F,KAAKnK,OAC/D4I,EAAQ,wBACW,KAAVlD,IACTkD,EAAQ,6CAGHA,GAAU2H,SAAS,EAAO3H,UAAY2H,SAAS,IAExDuF,OA9Ba,SA8BN5F,EAAQxR,EAAOgH,EAAOY,GAC3B,GAAIsC,GAAQ,EAKZ,OAJIqC,OAAMvF,KACRkD,EAAQ,0BAGHA,GAAU2H,SAAS,EAAO3H,UAAY2H,SAAS,IAExDqF,MAtCa,WAsCE,OAAA4C,GAAAzY,UAAAC,OAANyY,EAAMC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAANF,EAAME,GAAA5Y,UAAA4Y,EACb,OAAO,UAACzI,EAAQxR,EAAOgH,EAAOY,GAC5B,MAAK3B,GAAAlH,QAAE6oB,SAAS7N,EAAM/S,IAGb6K,SAAS,IAFPA,SAAS,EAAO3H,yBAA0B6P,EAA1B,SAAuC/S,KAKtEyQ,IA9Ca,SA8CTjG,EAAQU,EAAOlL,EAAOY,GACxB,MAAOZ,GAAQ,GAAM6K,SAAS,IAAWA,SAAS,EAAO3H,MAAO,2CAElEsP,eAjDa,SAiDExX,EAAOC,GACpB,MAAO,UAACuP,EAAQxR,EAAOgH,EAAOY,GAC5B,GAAIZ,EAAQhF,GAASgF,EAAQ/E,EAC3B,OAAS4P,SAAS,EAAO3H,yBAA0BlI,EAA1B,QAAuCC,KAItEkV,iBAxDa,SAwDInV,EAAOC,GACtB,MAAO,UAACuP,EAAQxR,EAAOgH,EAAOY,GAC5B,MAAIZ,GAAQhF,GAASgF,GAAS/E,GACnB4P,SAAS,EAAO3H,uCAAwClI,EAAxC,kBAA+DC,IAEjF4P,SAAS,KAGtB6F,UAhEa,SAgEHlG,EAAQU,EAAOlL,EAAOY,GAC9B,MAAc,QAAVZ,GAA4B,KAAVA,GAAgBA,EAAQ,GACnC6K,SAAS,IAEXA,SAAS,EAAO3H,MAAO,gDhEoqS9B,SAAUzL,EAAQC,EAASC,GAEhC,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFiI,OAAOC,eAAerI,EAAS,cAC3BsI,OAAO,GAGX,IAAIqP,GAAQ1X,EAAoB,IAE5B2X,EAAS1X,EAAuByX,GiEpvSrChP,EAAA1I,EAAA,GjEwvSKsH,EAAWrH,EAAuByI,GiEvvSvC6+C,EAAAvnD,EAAA,KjE2vSKwnD,EAAcvnD,EAAuBsnD,EAIzCxnD,GAAQK,SiE3vSPqnD,SAFa,SAEJ79B,EAAS6mB,GACM,MAAlBA,EAAQzlB,OAAmC,OAAlBylB,EAAQzlB,OACnCpB,EAAQoyB,OAAO,WAAYvL,IAG7BiX,YAPW,SAOE99B,EAAS6mB,GACO,UAArBA,EAAQvlB,UACRtB,EAAQoyB,OAAO,cAAevL,IAGtCkX,aAZW,SAYG/9B,EAAS6mB,GAAS,GACtBtlB,GAAeslB,EAAftlB,UACJA,GAAa,KAAOA,EAAa,IACrCvB,EAAQoyB,OAAO,sBAAwB7wB,eACvCvB,EAAQoyB,OAAO,kBAAoBhwB,SAAWb,EAAappB,KAAK0B,GAAM,QAExEmkD,cAlBW,SAkBIh+B,EAAS6mB,GACW,iBAApBA,GAAQxvB,SACf2I,EAAQoyB,OAAO,gBAAiBvL,IAGxCoX,cAvBW,SAuBGj+B,EAAS6mB,GACY,iBAApBA,GAAQ93B,SACfiR,EAAQoyB,OAAO,gBAAiBvL,IAGxCqX,kBA5BW,SA4BOl+B,EAAS6mB,GACY,iBAAxBA,GAAQ7kB,aACfhC,EAAQoyB,OAAO,oBAAqBvL,IAG5CsX,eAjCW,SAiCKn+B,EAAS6mB,GACU,iBAApBA,GAAQxvB,SACf2I,EAAQoyB,OAAO,iBAAkBvL,IAKzCuX,WAxCW,SAwCCp+B,EAAS6mB,GAClB7mB,EAAQoyB,OAAO,aAAcvL,IAGhCwX,YA5CW,SA4CEr+B,EAAS6mB,GAClB7mB,EAAQoyB,OAAO,cAAevL,IAElCyX,YA/CW,SA+CEt+B,EAAS6mB,GAClB7mB,EAAQoyB,OAAO,cAAevL,IAGlC0X,YAnDW,SAmDEv+B,EAAS6mB,GAClB,GAAMt9B,GAAY,GAAAq0C,GAAApnD,QAAcqwC,EAChCt9B,GAAUi1C,YAAY,SAEtBj1C,EAAUk1C,YAAY,QAASz+B,EAAQ9W,MAAMyY,KAAKC,OAClD5B,EAAQoyB,OAAO,cAAe7oC,EAAUm1C,mBAE5CC,YA1DW,SA0DE3+B,EAAS6mB,GAClB,GAAMt9B,GAAY,GAAAq0C,GAAApnD,QAAcqwC,EAChCt9B,GAAUi1C,YAAY,SAEtBj1C,EAAUk1C,YAAY,QAASz+B,EAAQ9W,MAAMyY,KAAKE,OAClD7B,EAAQoyB,OAAO,cAAe7oC,EAAUm1C,mBAK5CE,QApEW,SAoEF5+B,EAAS6mB,GACd7mB,EAAQoyB,OAAO,aAAcvL,IAMjCgY,eA3EW,SA2EK7+B,EAAS6mB,GACrB,GAAMt9B,GAAY,GAAAq0C,GAAApnD,QAAcqwC,EAChCt9B,GAAUu1C,cAAc,YACxBv1C,EAAUw1C,YAAY,WAAY,KAClCx1C,EAAUk1C,YAAY,YAAY,KAClCz+B,EAAQoyB,OAAO,iBAAkB7oC,EAAUm1C,mBAG/CM,gBAnFW,SAmFMh/B,EAAS6mB,GACtB,GAAMt9B,GAAY,GAAAq0C,GAAApnD,QAAcqwC,EAChCt9B,GAAUu1C,cAAc,aACxBv1C,EAAUw1C,YAAY,YAAa,KACnCx1C,EAAUk1C,YAAY,aAAa,KACnCz+B,EAAQoyB,OAAO,kBAAmB7oC,EAAUm1C,mBAGhDO,WA3FW,SA2FCj/B,EAAS6mB,GACjB,GAAMt9B,GAAY,GAAAq0C,GAAApnD,QAAcqwC,EAChCt9B,GAAUu1C,cAAc,QACxB9+B,EAAQoyB,OAAO,cAAiBjwB,KAAM0kB,EAAQ1kB,QAIlD+8B,eAlGW,SAkGKl/B,EAAS6mB,GACrB7mB,EAAQoyB,OAAO,sBAAwB7wB,WAAaslB,EAAQzkB,UAAU,EAAEjqB,KAAK0B,IAAO,MACpFmmB,EAAQoyB,OAAO,kBAAoBhwB,SAAUykB,EAAQzkB,YAIzD+8B,wBAxGW,SAwGcn/B,EAAS6mB,GAC9B7mB,EAAQoyB,OAAO,2BAA6B/6B,QAASwvB,EAAQxvB,WAIjE+nC,oBA7GW,SA6GSp/B,EAAS6mB,GAC3B7mB,EAAQoyB,OAAO,sBAAuBvL,IAG1CpV,UAjHa,SAiHHzR,EAjHGxmB,GAiHwCA,EAAhCgd,YAAgChd,EAAnBZ,eAChConB,GAAQoyB,OAAO,WAAa15C,gBAASC,mBAGvC0mD,aArHa,SAAA/kD,EAAAsB,GAqHiC,GAA/BsN,GAA+B5O,EAA/B4O,MAAOkpC,EAAwB93C,EAAxB83C,OAAYxpC,EAAYhN,EAAZgN,IAAKgiB,EAAOhvB,EAAPgvB,IACjCnsB,GAASmsB,CAIb,OAHI5mB,OAAMvF,KACRA,EAAQ,GAELf,EAAAlH,QAAE6oB,UAAS,EAAAtR,EAAAvX,SAAY0S,EAAMsY,QAAS5Y,GAI/B,eAARA,IAAyBnK,EAAQ,GAAKA,GAAS,QACjDnH,QAAOC,SAASwyB,MAAM,QAAS,qCAGjCqoB,GAAO,gBAAkBxpC,MAAKnK,cAP5BgqB,SAAQ9mB,MAAR,iCAA+CiH,EAA/C;IjE+vSA,SAAU1S,EAAQC,GAEvB,YAEAoI,QAAOC,eAAerI,EAAS,cAC7BsI,OAAO,IAETtI,EAAQK,SkEn4SP8oD,cADa,SACCp2C,GACZ,GAAMq2C,GAAmE,KAAhDpnD,KAAKC,IAAI8Q,EAAMyY,KAAKG,MAAQ5Y,EAAMyY,KAAKC,MAChE,OAAO1Y,GAAMmX,KAAKhJ,QAA+B,GAArBnO,EAAMmX,KAAK5jB,QAAgB8iD,GAEzDC,eALa,WAMX,MAAO,OlE04SL,SAAUtpD,EAAQC,GAEvB,YAEAoI,QAAOC,eAAerI,EAAS,cAC3BsI,OAAO,IAEXtI,EAAQK,SmEr5SPqnD,SAFa,SAEJ30C,EAAO29B,GACV,SAAWA,KACb39B,EAAMqC,OAAO6V,MAAQylB,EAAQzlB,OAE3B,YAAcylB,KAChB39B,EAAMqC,OAAO8V,cAAgBwlB,EAAQ4Y,WAGvC3B,YAVW,SAUE50C,EAAO29B,GACZ,YAAcA,KACd39B,EAAMqC,OAAO+V,SAAWulB,EAAQvlB,WAGxCo+B,mBAfW,SAeSx2C,EAAO29B,GACnB,cAAgBA,KAChB39B,EAAMqY,WAAaslB,EAAQtlB,aAKnC48B,eAtBW,SAsBKj1C,EAAO29B,GACrB,WAAaA,KACP39B,EAAMmX,KAAKhJ,QAAUwvB,EAAQxvB,UAGrC+mC,WA3BW,SA2BCl1C,EAAO29B,GACf39B,EAAMmX,KAAK5jB,QAAUoqC,EAAQpqC,SAIjC4hD,YAhCW,SAgCEn1C,EAAO29B,GACZ,SAAWA,KACX39B,EAAMyY,KAAKC,MAAQilB,EAAQjlB,QAGnC08B,YArCW,SAqCEp1C,EAAO29B,GACZ,SAAWA,KACX39B,EAAMyY,KAAKE,MAAQglB,EAAQhlB,QAGnC08B,YA1CW,SA0CEr1C,EAAO29B,GACZ,SAAWA,KACX39B,EAAMyY,KAAKG,MAAQ+kB,EAAQ/kB,QAGnC68B,YA/CW,SA+CEz1C,EAAO29B,GACZ,SAAWA,KACX39B,EAAMyY,KAAKI,MAAQ8kB,EAAQ9kB,QAKnCk8B,cAtDW,SAsDI/0C,EAAO29B,GACd,WAAaA,KACb39B,EAAM7L,IAAI0R,QAAU83B,EAAQ93B,UAGpCmvC,kBA3DW,SA2DQh1C,EAAO29B,GAClB,eAAiBA,KACjB39B,EAAM7L,IAAI2kB,YAAc6kB,EAAQ7kB,cAGxCg8B,cAhEW,SAgEI90C,EAAO29B,GACd,WAAaA,KACb39B,EAAM7L,IAAIga,QAAUwvB,EAAQxvB,UAIpCwnC,eAtEW,SAsEK31C,EAAO29B,GACf,YAAcA,KACd39B,EAAM7L,IAAI4kB,SAAW4kB,EAAQ5kB,WAIrC+8B,gBA5EW,SA4EM91C,EAAO29B,GAChB,aAAeA,KACf39B,EAAM7L,IAAI6kB,UAAY2kB,EAAQ3kB,YAItC+8B,WAlFW,SAkFC/1C,EAAO29B,GACX,QAAUA,KACV39B,EAAM7L,IAAI8kB,KAAO0kB,EAAQ1kB,OAIjC+8B,eAxFW,SAwFKh2C,EAAO29B,GACf,YAAcA,KACd39B,EAAM7L,IAAI+kB,SAAWykB,EAAQzkB,WAIrC+8B,wBA9FW,SA8Fcj2C,EAAO29B,GACxB,WAAaA,KACb39B,EAAMoZ,eAAejL,QAAUwvB,EAAQxvB,UAGjD+nC,oBAnGa,SAmGOl2C,EAAO29B,GACzB39B,EAAMqZ,mBAAqBskB,GAG7BwY,aAvGa,SAuGAn2C,EAvGA1P,GAuGuB,GAAdoP,GAAcpP,EAAdoP,IAAKnK,EAASjF,EAATiF,KACzByK,GAAMqC,OAAOiW,OAAO5Y,GAAOnK,KnEm5SzB,SAAUvI,EAAQC,EAASC,GAEhC,YAcA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAZvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAI87C,GAAUnkD,EAAoB,IAE9BokD,EAAWnkD,EAAuBkkD,GoErgTvCoF,EAAAvpD,EAAA,IpEygTKwpD,EAAYvpD,EAAuBspD,EAIvCxpD,GAAQK,SoE1gTPqpD,YADa,SACD32C,EAAO29B,GAGjB39B,EAAMkX,SAAU,EAAAo6B,EAAAhkD,SAAcopD,EAAAppD,QAAQ0S,MAAO29B,EAAQzmB,SACrDlX,EAAM1R,YAAcqvC,EAAQrvC,YAC5B0R,EAAM2B,OAASg8B,EAAQh8B,OACvB3B,EAAMtG,SAAWikC,EAAQjkC,UAE3BsvC,cATa,SASChpC,EAAO29B,GACnB39B,EAAM2B,OAAOR,QAAUw8B,KpE+gTrB,SAAU3wC,EAAQC,EAASC,GAEhC,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFiI,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIC,GAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,GAEnCuU,EAAa7c,EAAoB,GAEjC4b,EAAc3b,EAAuB4c,GqEziT1CnU,EAAA1I,EAAA,GrE6iTKsH,EAAWrH,EAAuByI,GqE3iTjCghD,EAAiB,SAAC52C,GACtB,GAAM62C,GAAQ1mB,KAAKC,OAAM,EAAAtnB,EAAAxb,SAAe0S,GAGxC,OAAO62C,IAEHC,GACJ,wBACA,6BACA,wBACA,qBACA,sBACA,sBACA,sBACA,sBACA,iCACA,gCACA,8BACA,8BACA,gCACA,8BACA,wCACA,yCACA,kCACA,yBACA,yBACA,0BACA,0BAEIC,GACJ,kBACA,wBACA,6BAGIC,EAAW,SAAAh3C,GAAA,MAASA,GrEwhTzB/S,GAAQK,SqErhTPiB,MAAO,KACP0oD,wBACAC,0BACAC,kBAAkB,EAClBC,iBAAkB,SAClBxoD,KANa,SAMRL,GACH,GAAM2+B,GAAO71B,IACbA,MAAK9I,MAAQA,EACbA,EAAM+sB,WAAajkB,KAEnBA,KAAK4/C,wBACL5/C,KAAK6/C,0BAEL7/C,KAAK9I,MAAM8oD,cAAX,EAAA5hD,EAAAnI,YAA6BiB,EAAMyR,OAAO20B,uBAAuB,IAKjE,IAAM2iB,GAAuB/oD,EAAM8oD,YACnC9oD,GAAM8oD,aAAe,WACfjpD,OAAOmvB,KAAOnvB,OAAOmvB,IAAIlb,OAAO0jB,UADsB,QAAA1d,GAAAzY,UAAAC,OAANyY,EAAMC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAANF,EAAME,GAAA5Y,UAAA4Y,EAE1D,IAAM+uC,GAAWjvC,EAAK,EAGtBivC,GAASjpD,YAAYsyB,MAAQvpB,KAAK2I,MAAM1R,YAAYsyB,MACpD22B,EAASrgC,QAAQuB,KAAOphB,KAAK2I,MAAMkX,QAAQuB,KAC3C8+B,EAASrgC,QAAQC,KAAO9f,KAAK2I,MAAMkX,QAAQC,KAC3CogC,EAASrgC,QAAQkC,eAAiB/hB,KAAK2I,MAAMkX,QAAQkC,eAErDk+B,EAAqB3uC,MAAMtR,KAAMiR,GAEnC,IAAMkvC,GAAiBjpD,EAAM26C,MAC7B36C,GAAM26C,OAAS,WACT96C,OAAOmvB,KAAOnvB,OAAOmvB,IAAIlb,OAAO0jB,UADU,QAAA0xB,GAAA7nD,UAAAC,OAANyY,EAAMC,MAAAkvC,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANpvC,EAAMovC,GAAA9nD,UAAA8nD,EAE9CF,GAAe7uC,MAAMtR,KAAMiR,GAO7B,IAAMqvC,GAAmBppD,EAAMiS,QAC/BjS,GAAMiS,SAAW,WAAmC,OAAAo3C,GAAAhoD,UAAAC,OAANyY,EAAMC,MAAAqvC,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANvvC,EAAMuvC,GAAAjoD,UAAAioD,EAClD,IAAMngC,GAASpP,EAAK,EAGf9T,GAAAlH,QAAE6oB,SAAS2gC,EAAiBp/B,KAC/BwV,EAAK4qB,oBAAoBpgC,GACzB6H,QAAQC,IAAI,sBAAuBlX,EAAK,KAG1CqvC,EAAiBhvC,MAAMtR,KAAMiR,KAGjCwvC,oBAvDa,SAuDOpgC,GAAQ,GAAA/d,GAAAtC,IACrBA,MAAK8/C,kBACR9/C,KAAK0gD,eAAergC,GAGtBrgB,KAAK8/C,kBAAmB,EACxB1uC,aAAapR,KAAK2gD,gBAClB3gD,KAAK2gD,eAAiBtvC,WAAW,WAAQ/O,EAAKw9C,kBAAmB,GAAU,IAK7EY,eAnEa,SAmEErgC,GACbrgB,KAAK4/C,qBAAqBljD,MACxBqjD,iBAAkB//C,KAAK+/C,iBACvBp3C,MAAO42C,EAAev/C,KAAK9I,MAAMyR,SAEnC3I,KAAK+/C,iBAAmB1/B,EACxB6H,QAAQ0T,KAAK,gBAAiB57B,KAAK4/C,qBAAqB5/C,KAAK4/C,qBAAqBpnD,OAAS,IAC3FwH,KAAK6/C,0BACL7/C,KAAK4gD,8BAA8BvgC,IAGrCugC,8BA9Ea,SA8EiBvgC,GAC5B,GAAMwgC,GAAa7gD,KAAK4/C,qBAClB1oD,EAAQ8I,KAAK9I,KACnB,OAAIiG,GAAAlH,QAAE6oB,SAAS4gC,EAAkBr/B,IAE/BrgB,KAAK4/C,6BACL5/C,KAAK6/C,gCAGP1iD,GAAAlH,QAAEg3C,MAAM,WAEN,KACE4T,EAAWroD,OAAS,GACpB2E,EAAAlH,QAAE6qD,QAAQvB,EAAeroD,EAAMyR,OAAQk4C,EAAWA,EAAWroD,OAAS,GAAGmQ,QAEzEuf,QAAQC,IAAI,kDAAmD04B,EAAWA,EAAWroD,OAAS,GAAGunD,kBACjGc,EAAWE,SAKjBx8B,KAnGa,WAoGX,GAAKvkB,KAAK4/C,qBAAqBpnD,OAA/B,CADK,GAAAwoD,GAEiDhhD,KAAK4/C,qBAAqBmB,MAAjEE,EAFVD,EAEGr4C,MAAyBo3C,EAF5BiB,EAE4BjB,iBAC3BmB,EAAYlhD,KAAK+/C,gBACvB//C,MAAK6/C,uBAAuBnjD,MAC1BqjD,iBAAkB//C,KAAK+/C,iBACvBp3C,MAAO42C,EAAev/C,KAAK9I,MAAMyR,SAEnC3I,KAAK+/C,iBAAmBA,EACxB//C,KAAK9I,MAAM8oD,aAAaiB,GACxB/4B,QAAQC,IAAI,OAAQ84B,GACpBlqD,OAAOC,SAASwyB,MAAM,UAAtB,QAAyC03B,KAG3C58B,KAjHa,WAkHX,GAAKtkB,KAAK6/C,uBAAuBrnD,OAAjC,CADK,GAAA2oD,GAEiDnhD,KAAK6/C,uBAAuBkB,MAAnEE,EAFVE,EAEGx4C,MAAyBo3C,EAF5BoB,EAE4BpB,gBACjC//C,MAAK4/C,qBAAqBljD,MACxBiM,MAAO42C,EAAev/C,KAAK9I,MAAMyR,OACjCo3C,iBAAkB//C,KAAK+/C,mBAEzB//C,KAAK+/C,iBAAmBA,EACxB//C,KAAK9I,MAAM8oD,aAAaiB,GACxBlqD,OAAOC,SAASwyB,MAAM,UAAtB,QAAyCu2B,GACzC73B,QAAQC,IAAI,OAAQ84B,KAEtBG,cA7Ha,WA8HXl5B,QAAQC,IAAI,QAASnoB,KAAK4/C,qBAAqB9iD,IAAI,SAAAmN,GAAA,MAAK01C,GAAS11C,MACjEie,QAAQC,IAAI,UAAWw3B,EAAS3/C,KAAK9I,MAAMyR,QAC3Cuf,QAAQC,IAAI,UAAWnoB,KAAK6/C,uBAAuB/iD,IAAI,SAAAmN,GAAA,MAAK01C,GAAS11C,SrE8iTnE,SAAUtU,EAAQC,EAASC,GAEhC,YA0BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GsE7uTxF,QAASsrD,GAAatrD,GACpB,MAAIoH,GAAAlH,QAAEwlC,QAAQ1lC,GACLA,EAAI+G,IAAIukD,GACNlkD,EAAAlH,QAAEqrD,SAASvrD,GACboH,EAAAlH,QAAE4mD,UAAU9mD,EAAK,SAACs0B,EAAKhiB,GAC5B,OAAa,OAARA,GAAgBA,EAAImH,QAAQ,QAAU,IAAMrS,EAAAlH,QAAEmH,SAASitB,GACnDnd,OAAOmd,GAETg3B,EAAah3B,KAGjBt0B,EAGT,QAASwrD,GAAap1C,EAAS9J,EAAUsvB,GACvC,GAAM6vB,GAAsBrkD,EAAAlH,QAAE6Y,MAAM6iB,GACjCzuB,QAASwL,uBAAwB,sBACjC5R,IAAI,SAAA2kD,GAAA,OAAOA,EAAG9+C,GAAI8+C,KAClBrxC,YACAlS,OAEH,OAAOiO,GAAQrP,IAAI,SAACsX,GAClB,GAAMstC,GAAMF,EAAoBptC,EAAErF,qBAClC,IAAI2yC,EAAK,CACP,GAAMn/C,GAAOpF,EAAAlH,QAAEwM,KAAKJ,EAASG,OAASG,GAAIyR,EAAEhS,UACtC/F,GAAU,EAAA4W,EAAAjX,yBACd9C,MAAOiE,EAAAlH,QAAEwM,KAAKJ,EAASY,UAAYN,GAAIJ,EAAK81C,WAAW,KACvDl/C,IAAKgE,EAAAlH,QAAEwM,KAAKJ,EAASY,UAAYN,GAAIJ,EAAK81C,WAAW,KACrDn8C,QAASwlD,EAAIrqC,eACblb,MAAOulD,EAAIvlD,OAEb,UAAAiC,EAAAnI,YACKme,GACHpX,MAAOG,EAAAlH,QAAE6G,IAAIT,EAAS,WAG1B,MAAO+X,KAKX,QAASutC,GAAa33C,EAAS43C,EAAYjwB,GACzC,MAAO3nB,GAAQlN,IAAI,SAACsM,GAClB,GAAM/G,GAAWy2B,KAAKC,OAAM,EAAAtnB,EAAAxb,SAC1BkH,EAAAlH,QAAEwM,KAAKm/C,GAAcj/C,GAAIyG,EAAM6M,eAEjC,UAAA7X,EAAAnI,YACKmT,GACHc,OAAQd,EAAMc,OACd7H,WACA8J,QAASo1C,EAAan4C,EAAM+C,QAAS9J,EAAUsvB,GAC/C1b,YAAaxd,WAKJ,QAASmkC,GAAWj0B,EAAOwZ,GACxC,GAAM0/B,kBACJ5qD,YAAa0R,EAAM1R,YACnB4oB,QAASlX,EAAMkX,QACf7V,QAAS23C,EACPh5C,EAAM2B,OAAON,QACbmY,EAAQ,uBACRxZ,EAAM2B,OAAOR,QAAQyB,qBAEpB5C,EAAM2B,OAAOR,SAChBg4C,mBAEF,OAAOT,GAAaQ,GtEipTrB7jD,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIwU,GAAa7c,EAAoB,GAEjC4b,EAAc3b,EAAuB4c,GAErCvU,EAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,EAEvCvI,GAAQK,QsEzqTe2mC,CA5DxB,IAAAr+B,GAAA1I,EAAA,GtEyuTKsH,EAAWrH,EAAuByI,GsExuTvCwjD,EAAAlsD,EAAA,KtE4uTKmsD,EAAYlsD,EAAuBisD,GsE3uTxC9uC,EAAApd,EAAA,ItE+yTM,SAAUF,EAAQC,EAASC,GAEhC,YAWA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GuE1zTzE,QAASksD,GAAanjD,GAEnC,MADAojD,GAAYpjD,IAASojD,EAAYpjD,IAAS,GAAK,EACxCgN,EAAA7V,QAAUwV,QAAQE,OAAOu2C,EAAYpjD,GAAQgN,EAAA7V,QAAUwV,QAAQE,OAAOnT,QvE+yT9EwF,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,IAETtI,EAAQK,QuEpzTegsD,CAJxB,IAAAx1C,GAAA5W,EAAA,IvE4zTKiW,EAAchW,EAAuB2W,GuE1zTpCy1C,MvEu0TA,SAAUvsD,EAAQC,EAASC,GAEhC,YA4BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GwEn2TxF,QAASosD,GAAmBtiC,GAQ1B,MALIA,GAAQ7U,OAAOgW,aAEjBnB,EAAQmB,WAAanB,EAAQmB,YAAcnB,EAAQ7U,OAAOgW,iBACnDnB,GAAQ7U,OAAOgW,YAEjBnB,EAGT,QAASuiC,GAAe5wC,GACtB,MAAKA,IAAQA,EAAIhZ,OAGVgZ,EAAI1U,IAAI,SAAA/G,GAAA,SAAAqI,EAAAnI,UACb+f,OAAQ,MACLjgB,QAIP,QAASssD,GAA6B7wC,GACpC,IAAKA,IAAQA,EAAIhZ,OAAQ,QACzB,IAAM8pD,GAAkB50C,EAAAzX,QAAQ+Y,YAChC,OAAOwC,GAAI1U,IAAI,SAAA/G,GAAA,SAAAqI,EAAAnI,YACVqsD,EACAvsD,KAIP,QAASwsD,GAAkBv4C,GACzB,GACEw4C,GAAiB90C,EAAAzX,QAAQ8f,QACzB0sC,EAAiB/0C,EAAAzX,QAAQugB,OAC3B,OAAOxM,GAAQlN,IAAI,SAACsM,GAClB,GAAMkN,GAAalN,EAAMkN,YAAc,EACrClN,EAAMkN,WAAaksC,EAAelsC,UAEpC,UAAAlY,EAAAnI,YACKusD,EACAp5C,GACHc,OAAQd,EAAMc,OACXpN,IAAI,SAAAuM,GAAA,SAAAjL,EAAAnI,YACAwsD,EACAp5C,KAEPC,QAAS84C,EAAeh5C,EAAME,SAC9BgN,iBAKS,QAASsiB,GAAgBnZ,EAAS6mB,GAwC/C,QAASoc,GAAkB3sD,EAAK8a,GAAuB,GAAjB8xC,GAAiBpqD,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,GAAN,IAC3C4E,GAAAlH,QAAEqrD,SAASvrD,IACb,EAAAyX,EAAAvX,SAAYF,GAAK2Z,QAAQ,SAAArI,GAAA,MAAKq7C,GAAkB3sD,EAAIsR,GAAIwJ,EAAMxJ,KACrDlK,EAAAlH,QAAEwlC,QAAQ1lC,GACnBA,EAAI2Z,QAAQ,SAAAiC,GAAA,MAAQ+wC,GAAkB/wC,EAAMd,KAE5CA,EAAK8xC,EAAU5sD,GA5CfgB,OAAOmvB,MAAOnvB,OAAO6rD,cAAgB,EAGzC,IAAMvgD,GAAWikC,EAAQljB,KAAKpZ,QAAQlN,IAAI,SAACsM,GACzC,GAAMlF,GAAQkF,EAAM/G,SAAS6B,MAAMpH,IAAI,SAACkI,GACtC,GAAMZ,GAAWY,EAAKozC,SAASt7C,IAAI,SAAC6F,EAAIkgD,GAAL,OACjCzgD,QAASO,EACT6B,SAAUQ,EAAKuzC,WAAWsK,KAE5B,QACElgD,GAAIqC,EAAKrC,GACTyB,cAIE5B,EAAQ4G,EAAM/G,SAASG,MAAM1F,IAAI,SAAA4F,GAAA,OACrCC,GAAID,EAAEC,GACNG,GAAIJ,EAAE21C,WAAW,GACjBr1C,GAAIN,EAAE21C,WAAW,KAEnB,QACE11C,GAAIyG,EAAM/G,SAASM,GACnBuB,QACA1B,QACAS,SAAUmG,EAAM/G,SAASY,YAKvB+G,EAAUs8B,EAAQljB,KAAKpZ,QAAQlN,IAAI,SAACmN,GACxC,GAAMb,kBACJ6M,YAAahM,EAAE5H,SAASM,IACrBsH,EAGL,cADOb,GAAM/G,SACN+G,IAcL05C,EAAY,CAChBJ,GAAkBpc,EAAS,SAACj/B,EAAG1D,GACzB0D,GAAW,OAANA,IAAgB1D,EAAIm/C,IAC3BA,EAAYn/C,KAKhBm/C,GAAa,EACbttC,EAAAvf,QAAU8W,MAAM+1C,GAEhBrjC,EAAQoyB,OAAO,eACbhyB,QAASsiC,EAAmB7b,EAAQljB,KAAKvD,SACzC5oB,YAAawoB,EAAQ9W,MAAM1R,YAC3BqT,QACEN,QAASu4C,EAAkBv4C,GAC3BF,SACEoB,eAAgBk3C,EAAe9b,EAAQljB,KAAKlY,gBAC5CC,cAAei3C,EAAe9b,EAAQljB,KAAKjY,eAC3CC,YAAag3C,EAAe9b,EAAQljB,KAAKhY,aACzCE,kBAAmB82C,EAAe9b,EAAQljB,KAAK9X,mBAC/CC,mBAAoB82C,EAA6B/b,EAAQljB,KAAK7X,oBAC9DC,gCAAiC86B,EAAQljB,KAAK5X,oCAC9CH,eAAgBi7B,EAAQljB,KAAK/X,mBAAqBvO,IAAI,SAAAimD,GAAA,SAAA3kD,EAAAnI,UACpD0hB,eAAgB,MACborC,OAIT1gD,aAEFlF,EAAAlH,QAAEg3C,MAAM,WACNxtB,EAAQtW,SACN,iCACExG,GAAIqH,EAAQ,GAAGrH,KACfod,MAAM,IAEV/V,EAAQ0F,QAAQ,SAAAtG,GAAA,MAASqW,GAAQtW,SAAS,yBAA2B8M,YAAa7M,EAAM6M,gBAExF9Y,EAAAlH,QAAEg3C,MAAM,iBAAMl2C,QAAOC,SAASwyB,MAAM,iBAGtC5F,SAASC,eAAe,YAAYC,cAAc,GAAIC,OAAM,exEwrT7D/lB,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIqP,GAAQ1X,EAAoB,IAE5B2X,EAAS1X,EAAuByX,GAEhCpP,EAAYtI,EAAoB,GAEhCuI,EAAYtI,EAAuBqI,EAEvCvI,GAAQK,QwEjyTe2iC,CAxDxB,IAAAr6B,GAAA1I,EAAA,GxE61TKsH,EAAWrH,EAAuByI,GwE51TvCgX,EAAA1f,EAAA,IxEg2TK2f,EAAe1f,EAAuByf,GwE/1T3C9H,EAAA5X,EAAA,IxEm2TK6X,EAAY5X,EAAuB2X,IAyJlC,SAAU9X,EAAQC,EAASC,GAEhC,YAoBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GyEjhUzE,QAAS47C,GAAclyB,EAAS6mB,GAC7C,GAAI0c,GAAQ,EACNC,GAAQ,EAAAz1C,EAAAvX,SAAYqwC,EAAQljB,KAClC6/B,GAAMvzC,QAAQ,SAAC5Q,GACb,GAAa,YAATA,GAAuB2gB,EAAQ9W,MAAM2B,OAAOR,QAAQhL,GAAxD,CACA,GAAMokD,GAAgBzjC,EAAQ9W,MAAM2B,OAAOR,QAAQhL,GAAMhC,IAAI,SAACq7B,GAG5D,MAAI,eAAegrB,KAAKhrB,EAAExtB,MACjBwtB,EAAExtB,KAAK6/B,MAAM,KAAKhjC,MAAM,GAAG,GAAI+H,KAAK,KAEtC4oB,EAAExtB,MAEX27B,GAAQljB,KAAKtkB,GAAQwnC,EAAQljB,KAAKtkB,GAAMhC,IAAI,SAAC/G,GAC3C,GAAMqtD,GAAYrtD,CAClBqtD,GAAUzgD,GAAK6S,EAAAvf,QAAUgX,UAEzB,IAAMo2C,GAAiBH,EAAchgD,OAAO,SAAAnH,GAAA,MAAKA,KAAMhG,EAAI4U,OAAMnS,MAGjE,OAFI6qD,KAAkBD,EAAUz4C,MAAV,IAAsB04C,GAC5CL,GAAS,EACFI,OAKXrsD,OAAOC,SAASwyB,MAAM,UAAtB,YAA6Cw5B,EAA7C,WAAsE,IAAVA,EAAc,IAAM,KAEhFvjC,EAAQoyB,OACN,gBACA10C,EAAAlH,QAAEma,WACA,iBAAkB,gBAAiB,cAAe,oBAClD,qBAAsB,kCAAmC,iBACzDtT,IAAI,SAAAuK,GAAA,OACHA,EAAGoY,EAAQ9W,MAAM2B,OAAOR,QAAQzC,GAAGzB,OAAO0gC,EAAQljB,KAAK/b,azE89T7DrJ,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIqP,GAAQ1X,EAAoB,IAE5B2X,EAAS1X,EAAuByX,EAEpC3X,GAAQK,QyEvgUe07C,CAHxB,IAAApzC,GAAA1I,EAAA,GzE8gUKsH,EAAWrH,EAAuByI,GyE7gUvCgX,EAAA1f,EAAA,IzEihUK2f,EAAe1f,EAAuByf,IAyCrC,SAAU5f,EAAQC,GAEvB,Y0EvjUc,SAAS0tD,GAAWhd,GAAgC,GAAvB6X,GAAuB5lD,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,MAEzDgrD,IACN,QACIA,YAAaA,EACbpF,iBAAkBA,EAClBqF,eAHG,SAGan7C,GAAoB,GAAfo7C,GAAelrD,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,GAAH,CACvB8P,KAAOi+B,IAAYid,EAAY/zC,QAAQnH,MAAS,IAClDA,IAAOi+B,IAAWA,EAAQj+B,GAAK7P,QAAUirD,EACzCtF,EAAiB91C,GAAOi+B,EAAQj+B,UAEzB81C,GAAiB91C,GACxBk7C,EAAY7mD,KAAK2L,MAIzB61C,YAbG,SAaU71C,GAAc,GAATxO,GAAStB,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,GAAH,CACd8P,KAAOi+B,IAAYid,EAAY/zC,QAAQnH,MAAS,IAClDi+B,EAAQj+B,GAAOxO,EACfskD,EAAiB91C,GAAOi+B,EAAQj+B,UAEzB81C,GAAiB91C,GACxBk7C,EAAY7mD,KAAK2L,MAIzBm2C,YAvBG,SAuBUn2C,GAAc,GAATf,GAAS/O,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,GAAH,CACd8P,KAAOi+B,IAAYid,EAAY/zC,QAAQnH,MAAS,IAClDA,IAAOi+B,IAAWA,EAAQj+B,GAAOf,EACjC62C,EAAiB91C,GAAOi+B,EAAQj+B,UAEzB81C,GAAiB91C,GACxBk7C,EAAY7mD,KAAK2L,MAGzBk2C,cAhCG,SAgCYl2C,GACLA,IAAOi+B,IAAYid,EAAY/zC,QAAQnH,MAAS,IAClDA,IAAOi+B,KAAY7iC,MAAMigD,WAAWpd,EAAQj+B,KAC5C81C,EAAiB91C,GAAOq7C,WAAWpd,EAAQj+B,WAEpC81C,GAAiB91C,GACxBk7C,EAAY7mD,KAAK2L,MAGzB41C,YAzCG,SAyCU51C,GACHA,IAAOi+B,IAAYid,EAAY/zC,QAAQnH,MAAS,IAClDA,IAAOi+B,KAAY7iC,MAAMkgD,SAASrd,EAAQj+B,KAC1C81C,EAAiB91C,GAAOs7C,SAASrd,EAAQj+B,WAElC81C,GAAiB91C,GACxBk7C,EAAY7mD,KAAK2L,MAGzBu7C,gBAlDG,SAkDcv7C,GACPA,IAAOi+B,IAAYid,EAAY/zC,QAAQnH,MAAS,IAClDA,IAAOi+B,GACP6X,EAAiB91C,KAAUi+B,EAAQj+B,UAE5B81C,GAAiB91C,GACxBk7C,EAAY7mD,KAAK2L,O1E8/ThCrK,OAAOC,eAAerI,EAAS,cAC3BsI,OAAO,IAEXtI,EAAQK,Q0E5jUeqtD,G1EipUlB,SAAU3tD,EAAQC,EAASC,GAEhC,YA2BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,G2EjrUjF,QAAS8tD,GAAU7+C,GACxB,GAAMmzC,KAgBN,OAdAnzC,GAAK/B,SACFnG,IAAI,SAAC6G,EAAGqO,EAAIrW,GAAR,OACHA,EAAS,IAAPqW,EAAWrW,EAAEnD,OAAS,EAAIwZ,EAAK,GACjCrW,EAAEqW,GACFrW,GAAGqW,EAAK,GAAKrW,EAAEnD,WAEhBkX,QAAQ,SAAAzW,GAAqB,GAAAc,IAAA,EAAA+zB,EAAA73B,SAAAgD,EAAA,GAAnB6qD,EAAmB/pD,EAAA,GAAdgqD,EAAchqD,EAAA,GAATiqD,EAASjqD,EAAA,IAE1B,EAAAkZ,EAAAzX,iBAAgBsoD,EAAKC,EAAKC,KAC1B,EAAA/wC,EAAAzb,uBAAsBssD,EAAKC,IAAO,EAAA9wC,EAAAzb,uBAAsBssD,EAAKE,IAE7D7L,EAAOz7C,KAAP,QAAoBsI,EAAKrC,GAAzB,8BAAwD,EAAA8O,EAAAxb,SAAe6tD,GAAvE,QAAkF,EAAAryC,EAAAxb,SAAe8tD,GAAjG,QAA4G,EAAAtyC,EAAAxb,SAAe+tD,GAA3H,OAGC7L,EAGM,QAAS8L,GAAcjlC,GACpC,GACEm5B,MACA+L,EAAU,SAAAvgD,GAAA,MAAQA,GAAE7L,EAAV,IAAe6L,EAAE3L,GAC3BmsD,EAAchnD,EAAAlH,QAAEma,UAAU4O,EAAK/b,SAASnG,IAAI,SAAA6G,GAAA,OAAMugD,EAAQvgD,GAAIA,EAAEhB,MAoBlE,OAlBAqc,GAAK/b,SAASyM,QAAQ,SAAChS,GACjBA,EAAKiF,KAAOwhD,EAAYD,EAAQxmD,KAClCy6C,EAAOz7C,KAAP,UAAsBgB,EAAKiF,GAA3B,sBAAmDwhD,EAAYD,EAAQxmD,OAI3EshB,EAAKxc,MAAMkN,QAAQ,SAACnN,GAEhBA,EAAKO,GAAGH,KAAOJ,EAAKS,GAAGL,IACvBuhD,EAAQ3hD,EAAKO,MAAQohD,EAAQ3hD,EAAKS,KAElCm1C,EAAOz7C,KAAP,QAAoB6F,EAAKI,GAAzB,wBAIJqc,EAAK9a,MAAMpH,IAAI+mD,GACZn0C,QAAQ,SAAA00C,GAAA,MAAQjM,GAAOz7C,KAAP4U,MAAA6mC,GAAA,EAAA75C,EAAArI,SAAemuD,MAE3BjM,E3E4mURn6C,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,GAGT,IAAIG,GAAsBxI,EAAoB,IAE1CyI,EAAsBxI,EAAuBuI,GAE7CqU,EAAa7c,EAAoB,GAEjC4b,EAAc3b,EAAuB4c,GAErCmb,EAAkBh4B,EAAoB,IAEtCi4B,EAAkBh4B,EAAuB+3B,EAE7Cj4B,G2ExqUeiuD,Y3EyqUfjuD,EAAQK,Q2ErpUeguD,CAvBxB,IAAA1lD,GAAA1I,EAAA,G3EgrUKsH,EAAWrH,EAAuByI,G2E/qUvC0U,EAAApd,EAAA,I3EquUM,SAAUF,EAAQC,EAASC,GAEhC,YAWA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,G4E3pUxF,QAASsuD,GAAWxzC,EAAMC,EAAM3C,GAwB9B,QAASm2C,GAAWC,GAClB,GAAItzC,GAAOuzC,EACPC,EAAUC,EACVC,EAAc7+B,EAAG6P,KAOrB,OALAivB,GAAYjvB,MAAQkvB,EACpBA,EAAcL,EAAWE,EAAWjsD,OACpCqsD,EAAiBP,EACjBz7C,EAAS+H,EAAKS,MAAMmzC,EAASxzC,GAC7B2zC,EAAYjvB,MAAQgvB,EACb77C,EAGT,QAASi8C,GAAYR,GAMnB,MAJAO,GAAiBP,EAEjBS,EAAU3zC,WAAW4zC,EAAcn0C,GAE5Bo0C,EAAUZ,EAAWC,GAAQz7C,EAGtC,QAASq8C,GAAcZ,GACrB,GAAIa,GAAoBb,EAAOc,EAC3BC,EAAsBf,EAAOO,EAC7Bh8C,EAASgI,EAAOs0C,CAEpB,OAAOG,GAAS3tD,KAAKiC,IAAIiP,EAAQ08C,EAAUF,GAAuBx8C,EAGpE,QAAS28C,GAAalB,GACpB,GAAIa,GAAoBb,EAAOc,EAC3BC,EAAsBf,EAAOO,CAKjC,OAAyBrsD,UAAjB4sD,GAA+BD,GAAqBt0C,GACzDs0C,EAAoB,GAAOG,GAAUD,GAAuBE,EAGjE,QAASP,KACP,GAAIV,GAAOpnD,EAAAlH,QAAEyvD,KACb,OAAID,GAAalB,GACRoB,EAAapB,QAGtBS,EAAU3zC,WAAW4zC,EAAcE,EAAcZ,KAGnD,QAASoB,GAAapB,GAKpB,MAJAS,GAAUvsD,OAINmtD,GAAYpB,EACPF,EAAWC,IAEpBM,EAAcL,EAAWE,EAAWjsD,OAC7BqQ,GAGT,QAAS+8C,KACSptD,SAAZusD,GACF5zC,aAAa4zC,GAEfF,EAAiB,EACjBD,EAAcL,EAAWa,EAAeX,EAAWM,EAAUvsD,OAG/D,QAASqtD,KACP,MAAmBrtD,UAAZusD,EAAwBl8C,EAAS68C,EAAaxoD,EAAAlH,QAAEyvD,OAGzD,QAASK,KACP,GAAIxB,GAAOpnD,EAAAlH,QAAEyvD,MACTM,EAAaP,EAAalB,EAO9B,IALAC,EAAWjsD,UACXmsD,EAAW1kD,KACXqlD,EAAed,EACfM,EAAc/+B,EAAG6P,MAEbqwB,EAAY,CACd,GAAgBvtD,SAAZusD,EACF,MAAOD,GAAYM,EAErB,IAAIE,EAGF,MADAP,GAAU3zC,WAAW4zC,EAAcn0C,GAC5BwzC,EAAWe,GAMtB,MAHgB5sD,UAAZusD,IACFA,EAAU3zC,WAAW4zC,EAAcn0C,IAE9BhI,EAvHT,GAAI07C,GACAE,EACAG,EACAW,EACA18C,EACAk8C,EACAK,EACAP,EAAiB,EACjBI,GAAU,EACVK,GAAS,EACTK,GAAW,CAEf,IAAmB,kBAAR/0C,GACT,KAAM,IAAIo1C,WAAU,sBA8GtB,OA5GAn1C,GAAO3T,EAAAlH,QAAEiwD,SAASp1C,IAAS,EACvB3T,EAAAlH,QAAEqrD,SAASnzC,KACb+2C,IAAY/2C,EAAQ+2C,QACpBK,EAAS,WAAap3C,GACtBq3C,EAAUD,EAAS3tD,KAAK0P,IAAInK,EAAAlH,QAAEiwD,SAAS/3C,EAAQq3C,UAAY,EAAG10C,GAAQ00C,EACtEI,EAAW,YAAcz3C,KAAYA,EAAQy3C,SAAWA,GAqG1DG,EAAUF,OAASA,EACnBE,EAAUD,MAAQA,EACXC,EAGM,QAASI,GAAgBt1C,EAAMC,GAC5C,MAAOuzC,GAAWxzC,EAAMC,GACtBo0C,SAAS,EACTU,UAAU,EACVJ,QAAS10C,I5E+gUZ9S,OAAOC,eAAerI,EAAS,cAC7BsI,OAAO,IAETtI,EAAQK,Q4EthUekwD,CA/MxB,IAAA5nD,GAAA1I,EAAA,G5EyuUKsH,EAAWrH,EAAuByI,G4EvuUjCunB,EAAKjwB,EAAQ,IACb+uD,EAAc/uD,EAAQ,K5E82UtB,SAAUF,EAAQC,GAEvB,Y6E33UDD,GAAOC,QAAU,S7Eg4UR,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CAEH,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAMlB,SAAUD,EAAQC,KAKf,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CAEH,SAAUD,EAAQC,EAASC,G8E1kVjCA,EAAA,KACAA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,IAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,S9EmlVM,SAAUD,EAAQC,EAASC,G+EjmVjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,IAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,S/E0mVM,SAAUD,EAAQC,EAASC,GgFvnVjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,ShFgoVM,SAAUD,EAAQC,EAASC,GiF/oVjC,GAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,SjFspVM,SAAUD,EAAQC,EAASC,GkF/pVjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,SlFwqVM,SAAUD,EAAQC,EAASC,GmFrrVjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,SnF8rVM,SAAUD,EAAQC,EAASC,GoF3sVjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,SpFotVM,SAAUD,EAAQC,EAASC,GqFnuVjC,GAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,SrF0uVM,SAAUD,EAAQC,EAASC,GsFnvVjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,StF4vVM,SAAUD,EAAQC,EAASC,GuF3wVjC,GAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,SvFkxVM,SAAUD,EAAQC,EAASC,GwF3xVjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,SxFoyVM,SAAUD,EAAQC,EAASC,GyFjzVjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,SzF0zVM,SAAUD,EAAQC,EAASC,G0Fz0VjC,GAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,S1Fg1VM,SAAUD,EAAQC,EAASC,G2Fz1VjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,S3Fk2VM,SAAUD,EAAQC,EAASC,G4F/2VjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,S5Fw3VM,SAAUD,EAAQC,EAASC,G6Fr4VjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,S7F84VM,SAAUD,EAAQC,EAASC,G8F35VjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,S9Fo6VM,SAAUD,EAAQC,EAASC,G+Fj7VjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,S/F07VM,SAAUD,EAAQC,EAASC,GgGz8VjC,GAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,ShGg9VM,SAAUD,EAAQC,EAASC,GiGz9VjCA,EAAA,IAEA,IAAA8c,GAAA9c,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAF,GAAAC,QAAA+c,EAAA/c,SjGk+VM,SAAUD,EAAQC,GkGj/VxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAuhC,IAAA,SACAthC,OACAnV,GAAA,YAEGkV,EAAA,OACHC,OACAnV,GAAA,aACAoU,OAAA,OACAsL,QAAA,gBACAlmB,MAAA,OACA4b,MAAA,6BACAuR,UAAA,UAAA88B,EAAA7gC,UAAA,OAEG1N,EAAA,QACHC,OACAxI,EAAA,uJAEG82C,EAAA9jC,GAAA,KAAA8jC,EAAA,WAAAvuC,EAAA,YACH2uC,aACA77C,KAAA,OACA87C,QAAA,SACAvoD,MAAAkoD,EAAA,WACAM,WAAA,iBAEGN,EAAAO,MAAA,IACFC,qBlGu/VK,SAAUjxD,EAAQC,GmGlhWxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAD,GAAA/3B,IAAA5kB,WAAA28C,EAAA/3B,IAAA3kB,WAAAmO,EAAA,QACAgvC,OACAt4C,QAAA63C,EAAA/3B,IAAA9f,WAEG63C,EAAA9jC,GAAA,OAAA8jC,EAAAU,GAAAV,EAAA/3B,IAAAzlB,IAAAw9C,EAAA/3B,IAAAzlB,IAAAw9C,EAAA33C,IAAA23C,EAAAzmC,WAAAymC,EAAA33C,IAAA23C,EAAA/3B,IAAA1jB,OAAA,iBAAAy7C,EAAA/3B,IAAA3kB,WAAAmO,EAAA,SACHgvC,OACAt4C,QAAA63C,EAAA/3B,IAAA9f,SAEAuJ,OACAgX,SAAAs3B,EAAAt3B,UAEAi4B,UACA7oD,MAAAkoD,EAAA33C,IAAA23C,EAAA/3B,IAAA1jB,OAEAqd,IACAg/B,QAAAZ,EAAAn4B,YACAG,KAAA,SAAA64B,GACAb,EAAA13B,SAAAu4B,EAAA5zC,OAAAnV,WAGG,UAAAkoD,EAAA/3B,IAAA3kB,WAAAmO,EAAA,OACHqvC,YAAA,kBACGrvC,EAAA,SACHuhC,IAAA,cACA8N,YAAA,cACApvC,OACAqvC,YAAAf,EAAA33C,IAAA9L,GACAmsB,SAAAs3B,EAAAt3B,UAEAi4B,UACA7oD,MAAAkoD,EAAA33C,IAAA23C,EAAA/3B,IAAA1jB,WAEG,WAAAy7C,EAAA/3B,IAAA3kB,WAAAmO,EAAA,iBACHC,OACA3J,QAAAi4C,EAAAz3B,WACAzwB,MAAAkoD,EAAA33C,IAAA23C,EAAA/3B,IAAA1jB,MACAmkB,SAAAs3B,EAAAt3B,UAEA9G,IACAo/B,OAAA,SAAA/8B,GAAgC,MAAA+7B,GAAA13B,SAAArE,OAE7B+7B,EAAAO,MACFC,qBnGwhWK,SAAUjxD,EAAQC,GoGnkWxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,SAAAA,EAAA,OACAqvC,YAAA,UACAl/B,IACAyN,MAAA2wB,EAAAntB,SAEGmtB,EAAA9jC,GAAA,KAAAzK,EAAA,OACHqvC,YAAA,UACGrvC,EAAA,QAAAA,EAAA,OACHqvC,YAAA,eACApvC,OACAuK,QAAA,cACAtK,MAAA,8BAEAiQ,IACAyN,MAAA2wB,EAAAntB,SAEGphB,EAAA,QACHC,OACAxI,EAAA,mXAEG82C,EAAA9jC,GAAA,KAAAzK,EAAA,UAAAA,EAAA,MAAAuuC,EAAA9jC,GAAA8jC,EAAAU,GAAAV,EAAAiB,YAAAjB,EAAA9jC,GAAA,KAAAzK,EAAA,OACHqvC,YAAA,YACGd,EAAAkB,GAAA,oBACFV,qBpGykWK,SAAUjxD,EAAQC,GqGjmWxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,aACAqvC,YAAA,iBACApvC,OACAuvC,MAAA,YAEAr/B,IACAiR,MAAA,SAAAguB,GACAb,EAAA58B,MAAA,aAGG3R,EAAA,OACHqvC,YAAA,aACGrvC,EAAA,KAAAA,EAAA,SACHqvC,YAAA,eACGd,EAAA9jC,GAAA,kCAAAzK,EAAA,SACH2uC,aACA77C,KAAA,QACA87C,QAAA,sBACAvoD,MAAAkoD,EAAA,UACAM,WAAA,YACAa,WACAj5C,QAAA,EACAk5C,MAAA,KAGA1vC,OACAhZ,KAAA,OACAgwB,SAAAs3B,EAAA/gC,YAEA0hC,UACA7oD,MAAAkoD,EAAA,WAEAp+B,IACAo/B,OAAA,SAAAH,GACAb,EAAA7gC,UAAA6gC,EAAAqB,GAAAR,EAAA5zC,OAAAnV,QAEAkwB,KAAA,SAAA64B,GACAb,EAAAsB,uBAGGtB,EAAA9jC,GAAA,KAAAzK,EAAA,oBACHqvC,YAAA,sBACApvC,OACAuvC,MAAA,uBAEGxvC,EAAA,KAAAA,EAAA,SACHqvC,YAAA,eACGd,EAAA9jC,GAAA,wCAAAzK,EAAA,QAAAuuC,EAAA9jC,GAAA,6OAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,SACH2uC,aACA77C,KAAA,QACA87C,QAAA,UACAvoD,MAAAkoD,EAAA,aACAM,WAAA,iBAEA5uC,OACAhZ,KAAA,QAEAioD,UACA7oD,MAAAkoD,EAAA,cAEAp+B,IACA2/B,MAAA,SAAAV,GACAA,EAAA5zC,OAAAu0C,YACAxB,EAAA3vC,aAAAwwC,EAAA5zC,OAAAnV,YAGG,KAAAkoD,EAAA9jC,GAAA,KAAAzK,EAAA,KAAAA,EAAA,SACHqvC,YAAA,eACGd,EAAA9jC,GAAA,yCAAAzK,EAAA,QAAAuuC,EAAA9jC,GAAA,iJAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,SACH2uC,aACA77C,KAAA,QACA87C,QAAA,UACAvoD,MAAAkoD,EAAA,cACAM,WAAA,kBAEA5uC,OACAhZ,KAAA,QAEAioD,UACA7oD,MAAAkoD,EAAA,eAEAp+B,IACA2/B,MAAA,SAAAV,GACAA,EAAA5zC,OAAAu0C,YACAxB,EAAAllC,cAAA+lC,EAAA5zC,OAAAnV,YAGG,KAAAkoD,EAAA9jC,GAAA,KAAAzK,EAAA,KAAAA,EAAA,SACHqvC,YAAA,eACGd,EAAA9jC,GAAA,sCAAAzK,EAAA,QAAAuuC,EAAA9jC,GAAA,yHAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,SACH2uC,aACA77C,KAAA,QACA87C,QAAA,UACAvoD,MAAAkoD,EAAA,WACAM,WAAA,eAEA5uC,OACAhZ,KAAA,QAEAioD,UACA7oD,MAAAkoD,EAAA,YAEAp+B,IACA2/B,MAAA,SAAAV,GACAA,EAAA5zC,OAAAu0C,YACAxB,EAAAjlC,WAAA8lC,EAAA5zC,OAAAnV,YAGG,OAAAkoD,EAAA9jC,GAAA,KAAAzK,EAAA,UACHqvC,YAAA,SACAl/B,IACAyN,MAAA,SAAAwxB,GACAb,EAAA58B,MAAA,aAGG48B,EAAA9jC,GAAA,iBACFskC,qBrGumWK,SAAUjxD,EAAQC,GsG5tWxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAqvC,YAAA,aACGd,EAAAyB,GAAAzB,EAAA,iBAAA/3B,GACH,MAAAxW,GAAA,QACAxP,IAAAgmB,EAAA1jB,KACAmN,OACAgwC,cAAAz5B,EAAA1jB,QAEKkN,EAAA,gBACLC,OACAuW,MACA5f,IAAA23C,EAAA33C,IACAigB,SAAA03B,EAAA2B,UAAA5yB,KAAA,KAAAixB,EAAA33C,IAAA9L,GAAA0rB,EAAA1jB,UAEK,KACFy7C,EAAA9jC,GAAA,KAAAzK,EAAA,QACHqvC,YAAA,UACAl/B,IACAyN,MAAA,SAAAwxB,GACAb,EAAA4B,cAGGnwC,EAAA,UACHqvC,YAAA,YACG,QACFN,qBtGkuWK,SAAUjxD,EAAQC,GuG5vWxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,aACAC,OACAuvC,MAAA,QAAAjB,EAAA6B,SAAA,OAEAjgC,IACAiR,MAAA,SAAAguB,GACAb,EAAA58B,MAAA,aAGG3R,EAAA,QACHqvC,YAAA,eACGrvC,EAAA,SACHuhC,IAAA,eACAthC,OACAhZ,KAAA,OACA6D,GAAA,gBACAulD,WAAA,SAEAnB,UACA7oD,MAAAkoD,EAAA6B,SAAAv7B,eAEA1E,IACAmgC,MAAA,SAAAlB,GACA,gBAAAA,KAAAb,EAAAgC,GAAAnB,EAAA/iC,QAAA,WAAA+iC,EAAA5+C,SACA+9C,GAAA9sB,aAAA2tB,GADuF,SAIpFb,EAAA9jC,GAAA,qBAAAzK,EAAA,UACHqvC,YAAA,kBACAl/B,IACAyN,MAAA2wB,EAAA9sB,gBAEG8sB,EAAA9jC,GAAA,mBACFskC,qBvGkwWK,SAAUjxD,EAAQC,GwGpyWxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAC,OACAnV,GAAA,mBAEGkV,EAAA,OACHuhC,IAAA,MACArlB,OACAs0B,iBAAA,QAAAjC,EAAAzhC,KAAA,cAEA7M,OACAnV,GAAA,SAEGyjD,EAAA9jC,GAAA,KAAAzK,EAAA,OACH2uC,aACA77C,KAAA,OACA87C,QAAA,SACAvoD,MAAA,QAAAkoD,EAAAzhC,KACA+hC,WAAA,mBAEA5uC,OACAnV,GAAA,kBAEGkV,EAAA,QACHqvC,YAAA,eACGrvC,EAAA,SACHuhC,IAAA,gBACAthC,OACAhZ,KAAA,OACAwpD,YAAA,+BAEGlC,EAAA9jC,GAAA,KAAAzK,EAAA,OACH2uC,aACA77C,KAAA,OACA87C,QAAA,SACAvoD,MAAA,QAAAkoD,EAAAzhC,KACA+hC,WAAA,mBAEA5uC,OACAnV,GAAA,eAEGkV,EAAA,KAAAuuC,EAAA9jC,GAAA,8HAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,UACHmQ,IACAyN,MAAA2wB,EAAA/8B,eAEG+8B,EAAA9jC,GAAA,YAAA8jC,EAAA9jC,GAAA,KAAA8jC,EAAAngC,kBAAAmgC,EAAAj8B,eAAAtS,EAAA,aACHmQ,IACAiR,MAAA,SAAAguB,GACAb,EAAAngC,iBAAA,EACAmgC,EAAAz8B,kBAGGy8B,EAAAO,KAAAP,EAAA9jC,GAAA,KAAAzK,EAAA,OACHC,OACAnV,GAAA,cAEG,IACFikD,qBxG0yWK,SAAUjxD,EAAQC,GyGn2WxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAC,OACAnV,GAAA,aAEGkV,EAAA,WACHC,OACAnV,GAAA,SAEGkV,EAAA,OACHC,OACAnV,GAAA,qBAEGyjD,EAAA,iBAAAvuC,EAAA,OACHqvC,YAAA,0BACGrvC,EAAA,SACHuhC,IAAA,gBACAthC,OACAhZ,KAAA,QAEAkpB,IACAo/B,OAAA,SAAAH,GACAb,EAAAvpB,iBAAAoqB,EAAA,eAGGb,EAAA9jC,GAAA,KAAAzK,EAAA,SACHuhC,IAAA,cACAthC,OACAhZ,KAAA,QAEAkpB,IACAo/B,OAAA,SAAAH,GACAb,EAAAvpB,iBAAAoqB,EAAA,iBAGGb,EAAA9jC,GAAA,KAAAzK,EAAA,OACHC,OACAuvC,MAAA,oBAEGxvC,EAAA,sBACHqvC,YAAA,SACApvC,OACAnV,GAAA,UAEA4lD,UACA9yB,MAAA,SAAAwxB,GACAb,EAAAn/B,MAAAuhC,YAAA/yB,aAGG,GAAA2wB,EAAA9jC,GAAA,KAAAzK,EAAA,OACHC,OACAuvC,MAAA,oBAEGxvC,EAAA,sBACHqvC,YAAA,SACApvC,OACAnV,GAAA,UAEA4lD,UACA9yB,MAAA,SAAAwxB,GACAb,EAAAxpB,WAAAqqB,QAGG,GAAAb,EAAA9jC,GAAA,KAAAzK,EAAA,OACHC,OACAuvC,MAAA,oBAEGxvC,EAAA,sBACHqvC,YAAA,SACAqB,UACA9yB,MAAA,SAAAwxB,GACAb,EAAAn/B,MAAA0qB,cAAAlc,aAGG,KAAA2wB,EAAAO,KAAAP,EAAA9jC,GAAA,KAAAzK,EAAA,OACHC,OACAnV,GAAA,eAEGkV,EAAA,OACHC,OACAuvC,MAAA,UAEGxvC,EAAA,YACHqvC,YAAA,SACAL,OACA/3B,UAAAs3B,EAAA9oB,uBAEAirB,UACA9yB,MAAA,SAAAwxB,GACAb,EAAA7hC,KAAA0iC,QAGG,GAAAb,EAAA9jC,GAAA,KAAAzK,EAAA,OACHC,OACAuvC,MAAA,UAEGxvC,EAAA,YACHqvC,YAAA,SACAL,OACA/3B,UAAAs3B,EAAA9oB,uBAEAxlB,OACAgX,UAAAs3B,EAAA9oB,uBAEAirB,UACA9yB,MAAA,SAAAwxB,GACAb,EAAA9hC,KAAA2iC,QAGG,OAAAb,EAAA9jC,GAAA,KAAAzK,EAAA,MACHC,OACAnV,GAAA,eAEGkV,EAAA,MACHqvC,YAAA,MACAL,OACA4B,OAAA,cAAArC,EAAA90B,SAEAxZ,OACA4wC,eAAA,aAEA1gC,IACAyN,MAAA,SAAAwxB,GACAb,EAAA90B,QAAA,gBAGGzZ,EAAA,QAAAuuC,EAAA9jC,GAAA,qCAAAzK,EAAA,qBACHqvC,YAAA,UACG,KAAAd,EAAA9jC,GAAA,KAAAzK,EAAA,MACHqvC,YAAA,MACAL,OACA4B,OAAA,WAAArC,EAAA90B,SAEAtJ,IACAyN,MAAA,SAAAwxB,GACAb,EAAA90B,QAAA,aAGGzZ,EAAA,QAAAuuC,EAAA9jC,GAAA,uCAAAzK,EAAA,kBACHqvC,YAAA,UACG,KAAAd,EAAA9jC,GAAA,KAAAzK,EAAA,MACHqvC,YAAA,MACAL,OACA4B,OAAA,eAAArC,EAAA90B,SAEAxZ,OACA4wC,eAAA,cAEA1gC,IACAyN,MAAA,SAAAwxB,GACAb,EAAA90B,QAAA,iBAGGzZ,EAAA,QAAAuuC,EAAA9jC,GAAA,sCAAAzK,EAAA,sBACHqvC,YAAA,UACG,KAAAd,EAAA9jC,GAAA,KAAA8jC,EAAAuC,GAAA,WAAAvC,EAAA9jC,GAAA,KAAAzK,EAAA,OACHC,OACAnV,GAAA,mBAEGkV,EAAA,OACHqvC,YAAA,mBACGrvC,EAAA,SAAAuuC,EAAA9jC,GAAA,iBAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,SACH2uC,aACA77C,KAAA,QACA87C,QAAA,UACAvoD,MAAAkoD,EAAA,qBACAM,WAAA,yBAEA5uC,OACAhZ,KAAA,YAEAioD,UACA6B,QAAA13C,MAAAuqB,QAAA2qB,EAAA50B,sBAAA40B,EAAAyC,GAAAzC,EAAA50B,qBAAA,SAAA40B,EAAA,sBAEAp+B,IACAo/B,OAAA,SAAAH,GACA,GAAA6B,GAAA1C,EAAA50B,qBACAu3B,EAAA9B,EAAA5zC,OACA21C,IAAAD,EAAAH,OACA,IAAA13C,MAAAuqB,QAAAqtB,GAAA,CACA,GAAAG,GAAA,KACAC,EAAA9C,EAAAyC,GAAAC,EAAAG,EACAF,GAAAH,QACAM,EAAA,IAAA9C,EAAA50B,qBAAAs3B,EAAAljD,QAAAqjD,KAEAC,GAAA,IAAA9C,EAAA50B,qBAAAs3B,EAAAthD,MAAA,EAAA0hD,GAAAtjD,OAAAkjD,EAAAthD,MAAA0hD,EAAA,SAGA9C,GAAA50B,qBAAAw3B,QAIG5C,EAAA9jC,GAAA,KAAA8jC,EAAA,WAAAvuC,EAAA,OACHqvC,YAAA,mBACGrvC,EAAA,SAAAuuC,EAAA9jC,GAAA,SAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,SACH2uC,aACA77C,KAAA,QACA87C,QAAA,UACAvoD,MAAAkoD,EAAA,WACAM,WAAA,eAEA5uC,OACAhZ,KAAA,YAEAioD,UACA6B,QAAA13C,MAAAuqB,QAAA2qB,EAAA9gC,YAAA8gC,EAAAyC,GAAAzC,EAAA9gC,WAAA,SAAA8gC,EAAA,YAEAp+B,IACAo/B,OAAA,SAAAH,GACA,GAAA6B,GAAA1C,EAAA9gC,WACAyjC,EAAA9B,EAAA5zC,OACA21C,IAAAD,EAAAH,OACA,IAAA13C,MAAAuqB,QAAAqtB,GAAA,CACA,GAAAG,GAAA,KACAC,EAAA9C,EAAAyC,GAAAC,EAAAG,EACAF,GAAAH,QACAM,EAAA,IAAA9C,EAAA9gC,WAAAwjC,EAAAljD,QAAAqjD,KAEAC,GAAA,IAAA9C,EAAA9gC,WAAAwjC,EAAAthD,MAAA,EAAA0hD,GAAAtjD,OAAAkjD,EAAAthD,MAAA0hD,EAAA,SAGA9C,GAAA9gC,WAAA0jC,QAIG5C,EAAAO,KAAAP,EAAA9jC,GAAA,KAAAzK,EAAA,OACHqvC,YAAA,mBACGrvC,EAAA,SAAAuuC,EAAA9jC,GAAA,UAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,SACH2uC,aACA77C,KAAA,QACA87C,QAAA,UACAvoD,MAAAkoD,EAAA,YACAM,WAAA,gBAEA5uC,OACAhZ,KAAA,YAEAioD,UACA6B,QAAA13C,MAAAuqB,QAAA2qB,EAAA//B,aAAA+/B,EAAAyC,GAAAzC,EAAA//B,YAAA,SAAA+/B,EAAA,aAEAp+B,IACAo/B,OAAA,SAAAH,GACA,GAAA6B,GAAA1C,EAAA//B,YACA0iC,EAAA9B,EAAA5zC,OACA21C,IAAAD,EAAAH,OACA,IAAA13C,MAAAuqB,QAAAqtB,GAAA,CACA,GAAAG,GAAA,KACAC,EAAA9C,EAAAyC,GAAAC,EAAAG,EACAF,GAAAH,QACAM,EAAA,IAAA9C,EAAA//B,YAAAyiC,EAAAljD,QAAAqjD,KAEAC,GAAA,IAAA9C,EAAA//B,YAAAyiC,EAAAthD,MAAA,EAAA0hD,GAAAtjD,OAAAkjD,EAAAthD,MAAA0hD,EAAA,SAGA9C,GAAA//B,YAAA2iC,QAIG5C,EAAA9jC,GAAA,KAAAzK,EAAA,OACHqvC,YAAA,iBACGrvC,EAAA,SAAAuuC,EAAA9jC,GAAA,aAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,SACH2uC,aACA77C,KAAA,QACA87C,QAAA,sBACAvoD,MAAAkoD,EAAA,QACAM,WAAA,UACAa,WACAj5C,QAAA,EACAk5C,MAAA,KAGAT,UACA7oD,MAAAkoD,EAAA,SAEAp+B,IACAo/B,OAAA,SAAAH,GACAb,EAAAlqD,QAAAkqD,EAAAqB,GAAAR,EAAA5zC,OAAAnV,QAEAkwB,KAAA,SAAA64B,GACAb,EAAAsB,mBAGGtB,EAAA9jC,GAAA,KAAA8jC,EAAArpB,kBAAAqpB,EAAAO,KAAA9uC,EAAA,SAAAuuC,EAAA9jC,GAAA8jC,EAAAU,GAAAV,EAAAppB,cAAAopB,EAAA9jC,GAAA,KAAA8jC,EAAA,kBAAAvuC,EAAA,gBACHuhC,IAAA,cACAthC,OACA3J,SAAA,UACAjQ,MAAAkoD,EAAAppB,SAEAhV,IACAo/B,OAAAhB,EAAAtpB,eAEGspB,EAAAO,KAAAP,EAAA9jC,GAAA,KAAAzK,EAAA,OACHC,OACAuvC,MAAA,YAEAr/B,IACAyN,MAAA,SAAAwxB,GACAb,EAAA1pB,sBAAA,MAGG7kB,EAAA,gBACHqvC,YAAA,YACG,SAAAd,EAAA9jC,GAAA,KAAAzK,EAAA,WACHgvC,MAAAT,EAAA90B,QACAxZ,OACAnV,GAAA,YAEG,cAAAyjD,EAAA90B,SAAAzZ,EAAA,OACHC,OACAnV,GAAA,kBAEGyjD,EAAA9jC,GAAA,wCAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,OACHqvC,YAAA,mBACApvC,OACAnV,GAAA,mBAEGkV,EAAA,OACHgvC,OACA4B,OAAA,cAAArC,EAAAzhC,MAEA7M,OACAqxC,YAAA,YACA9B,MAAA,aAEAr/B,IACAyN,MAAA,SAAAwxB,GACAb,EAAAzhC,KAAA,gBAGG9M,EAAA,2BACHqvC,YAAA,YACG,GAAAd,EAAA9jC,GAAA,KAAAzK,EAAA,OACHgvC,OACA4B,OAAA,YAAArC,EAAAzhC,MAEA7M,OACAqxC,YAAA,UACA9B,MAAA,WAEAr/B,IACAyN,MAAA,SAAAwxB,GACAb,EAAAzhC,KAAA,cAGG9M,EAAA,yBACHqvC,YAAA,YACG,GAAAd,EAAA9jC,GAAA,KAAAzK,EAAA,OACHgvC,OACA4B,OAAA,SAAArC,EAAAzhC,MAEA7M,OACAqxC,YAAA,OACA9B,MAAA,QAEAr/B,IACAyN,MAAA,SAAAwxB,GACAb,EAAAzhC,KAAA,WAGG9M,EAAA,iBACHqvC,YAAA,YACG,GAAAd,EAAA9jC,GAAA,KAAAzK,EAAA,OACHgvC,OACA4B,OAAA,WAAArC,EAAAzhC,MAEA7M,OACAqxC,YAAA,SACA9B,MAAA,UAEAr/B,IACAyN,MAAA,SAAAwxB,GACAb,EAAAzhC,KAAA,aAGG9M,EAAA,kBACHqvC,YAAA,YACG,GAAAd,EAAA9jC,GAAA,KAAAzK,EAAA,OACHgvC,OACA4B,OAAA,UAAArC,EAAAzhC,MAEA7M,OACAqxC,YAAA,QACA9B,MAAA,SAEAr/B,IACAyN,MAAA2wB,EAAAzpB,gBAEG9kB,EAAA,kBACHqvC,YAAA,YACG,MAAAd,EAAAO,KAAAP,EAAA9jC,GAAA,oBAAA8jC,EAAA90B,SAAAzZ,EAAA,OACHC,OACAnV,GAAA,kBAEGyjD,EAAA7zB,2BAAA1a,EAAA,QAAAuuC,EAAA9jC,GAAA,oBAAA8jC,EAAAU,GAAAV,EAAA7zB,2BAAA5nB,SAAAkN,EAAA,QAAAuuC,EAAA9jC,GAAA,6CAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,6BAAAuuC,EAAAO,KAAAP,EAAA9jC,GAAA,gBAAA8jC,EAAA90B,SAAAzZ,EAAA,OACHC,OACAnV,GAAA,kBAEGyjD,EAAA9jC,GAAA,2CAAA8jC,EAAAO,KAAAP,EAAA9jC,GAAA,KAAAzK,EAAA,OACHC,OACAnV,GAAA,gBAEGkV,EAAA,oBAAAuuC,EAAA9jC,GAAA,KAAAzK,EAAA,OACHC,OACAuvC,MAAA,iBAEGxvC,EAAA,gBACHqvC,YAAA,SACAqB,UACA9yB,MAAA,SAAAwxB,GACAb,EAAAl1B,UAAA+1B,QAGG,WAAAb,EAAA9jC,GAAA,KAAAzK,EAAA,WACHqvC,YAAA,WACGd,EAAA,cAAAvuC,EAAA,eACHC,OACAmwC,SAAA7B,EAAA5pB,gBACA9C,eAAA0sB,EAAA1sB,gBAEA1R,IACAiR,MAAA,WACAmtB,EAAA7pB,eAAA,EACA6pB,EAAA5pB,gBAAA,OAGG4pB,EAAA,qBAAAvuC,EAAA,YACHmQ,IACAiR,MAAA,SAAAguB,GACAb,EAAA1pB,sBAAA,MAGG0pB,EAAAO,MAAA,MACFC,iBAAA,WAA+B,GAAAR,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CACvE,OAAAxuC,GAAA,MAAAA,EAAA,czG02WM,SAAUliB,EAAQC,G0G3xXxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAD,GAAA,mBAAAvuC,EAAA,WACAC,OACArJ,IAAA23C,EAAAv7B,kBACA9c,QAAAq4C,EAAAn7B,eACA88B,UAAA3B,EAAA96B,wBACA08B,QAAA5B,EAAA/6B,oBAEG+6B,EAAAO,MACFC,qB1GiyXK,SAAUjxD,EAAQC,G2G1yXxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAqvC,YAAA,mBACGrvC,EAAA,SACHqvC,YAAA,QACApvC,OACAsxC,YAAA,OAEGvxC,EAAA,SACHC,OACAsxC,YAAA,OAEGvxC,EAAA,MAAAA,EAAA,MACHqvC,YAAA,WACGd,EAAA9jC,GAAA,KAAA8jC,EAAAyB,GAAAzB,EAAA,wBAAA/3B,GACH,MAAAxW,GAAA,MACAmQ,IACAyN,MAAA,SAAAwxB,GACAb,EAAA34B,OAAAY,EAAA1jB,UAGKkN,EAAA,QAAAuuC,EAAA9jC,GAAA8jC,EAAAU,GAAAz4B,EAAA7lB,gBAAA49C,EAAA9jC,GAAA,KAAAzK,EAAA,OACL2uC,aACA77C,KAAA,OACA87C,QAAA,SACAvoD,MAAAmwB,EAAA1jB,OAAAy7C,EAAA/4B,SAAA+4B,EAAA94B,eACAo5B,WAAA,2CAEA5uC,OACAuK,QAAA,WACAtK,MAAA,gCAEKF,EAAA,QACLC,OACAxI,EAAA,wBAEK82C,EAAA9jC,GAAA,KAAAzK,EAAA,OACL2uC,aACA77C,KAAA,OACA87C,QAAA,SACAvoD,MAAAmwB,EAAA1jB,OAAAy7C,EAAA/4B,UAAA+4B,EAAA94B,eACAo5B,WAAA,4CAEA5uC,OACAuK,QAAA,WACAtK,MAAA,gCAEKF,EAAA,QACLC,OACAxI,EAAA,6BAGG82C,EAAA9jC,GAAA,KAAAzK,EAAA,MACHqvC,YAAA,aACG,KAAAd,EAAA9jC,GAAA,KAAAzK,EAAA,SACHC,OACAsxC,YAAA,MAEGhD,EAAAyB,GAAAzB,EAAA,oBAAA33C,GACH,MAAAoJ,GAAA,MACAxP,IAAAoG,EAAA9L,GACAkkD,OACAryB,SAAA4xB,EAAAiD,iBAAA56C,EAAA9L,MAEKkV,EAAA,MACLqvC,YAAA,SACAl/B,IACAyN,MAAA,SAAAwxB,GACAA,EAAAhlB,kBACAmkB,EAAAt5B,UAAAre,OAGKoJ,EAAA,SACLC,OACAhZ,KAAA,SAEAioD,UACA6B,QAAAxC,EAAAiD,iBAAA56C,EAAA9L,QAEKyjD,EAAA9jC,GAAA,KAAA8jC,EAAAyB,GAAAzB,EAAA,wBAAA/3B;AACL,MAAAxW,GAAA,MACAxP,IAAAgmB,EAAA1jB,KACAmN,OACAgwC,cAAAz5B,EAAA1jB,QAEOkN,EAAA,iBACPC,OACAuW,MACA5f,MACAigB,SAAA03B,EAAA2B,UAAA5yB,KAAA,KAAA1mB,EAAA9L,GAAA0rB,EAAA1jB,UAEO,KACFy7C,EAAA9jC,GAAA,KAAAzK,EAAA,MACLqvC,YAAA,UACApvC,OACAuvC,MAAA,UAEAr/B,IACAyN,MAAA,SAAAwxB,GACAA,EAAAhlB,kBACAmkB,EAAAkD,UAAA76C,OAGKoJ,EAAA,UACLqvC,YAAA,YACK,eAEJN,qB3GgzXK,SAAUjxD,EAAQC,G4G35XxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,SACAuhC,IAAA,aACAmQ,aACA16B,QAAA,QAEA/W,OACAhZ,KAAA,OACA0qD,OAAA,2CACA7mD,GAAA,sBAEAqlB,IACAo/B,OAAAhB,EAAA1wB,gBAGCkxB,qB5Gi6XK,SAAUjxD,EAAQC,G6Gh7XxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAgvC,OACA4C,qBAAA,EACA97B,SAAAy4B,EAAAz4B,YAEG9V,EAAA,KACHqvC,YAAA,QACAl/B,IACAyN,MAAA,SAAAwxB,GACAb,EAAAz4B,UAAAy4B,EAAAz4B,aAGGy4B,EAAA9jC,GAAA,SAAA8jC,EAAAU,GAAAV,EAAAx4B,OAAA,IAAAw4B,EAAAU,GAAAV,EAAAiB,OAAA,UAAAjB,EAAA9jC,GAAA,KAAA8jC,EAAA,SAAAvuC,EAAA,KAAAuuC,EAAAkB,GAAA,eAAAlB,EAAAO,QACFC,qB7Gs7XK,SAAUjxD,EAAQC,G8Gp8XxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAC,OACAnV,GAAA,uBAEGkV,EAAA,OACHC,OACAnV,GAAA,gBAEGkV,EAAA,WACHC,OACAnV,GAAA,gBAEGyjD,EAAA9jC,GAAA,KAAAzK,EAAA,OACHC,OACAnV,GAAA,UAEGkV,EAAA,WACHC,OACAkf,aAAA,WACAnrB,KAAA,UACA4gB,QAAA,YAAA25B,EAAAhsB,iBAEApS,IACA2E,cAAA,SAAAs6B,GACAb,EAAAhsB,gBAAA,YAAAgsB,EAAAhsB,iBAAA,cAGGgsB,EAAA9jC,GAAA,KAAAzK,EAAA,WACHC,OACAkf,YAAAovB,EAAA/rB,kBACAxuB,KAAAu6C,EAAA9rB,iBACAovB,iBAAA,EACAj9B,QAAA,iBAAA25B,EAAAhsB,iBAEApS,IACA2P,WAAA,SAAAC,GACAwuB,EAAA9rB,iBAAA1C,GAEAjL,cAAA,SAAAs6B,GACAb,EAAAhsB,gBAAA,iBAAAgsB,EAAAhsB,iBAAA,oBAGG,QACFwsB,qB9G08XK,SAAUjxD,EAAQC,G+Gt/XxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAqvC,YAAA,mBACGrvC,EAAA,OACHqvC,YAAA,QACGd,EAAAyB,GAAAzB,EAAA,cAAAn0C,GACH,MAAA4F,GAAA,OACAxP,IAAA4J,EAAAtP,GACAkkD,OACA4B,OAAArC,EAAAiD,iBAAAp3C,EAAAtP,IAEAmV,OACA6xC,UAAA13C,EAAAtP,IAEAqlB,IACAyN,MAAA,SAAAwxB,GACAb,EAAAwD,WAAA33C,OAGK4F,EAAA,QACLkc,OACA81B,mBAAA53C,EAAAjE,SAEKo4C,EAAA9jC,GAAA,aAAA8jC,EAAAU,GAAA70C,EAAAtH,MAAA,cAAAkN,EAAA,KACLqvC,YAAA,UACApvC,OACAuvC,MAAA,UAEAr/B,IACAyN,MAAA,SAAAwxB,GACAA,EAAAhlB,kBACAmkB,EAAA0D,YAAA73C,OAGK4F,EAAA,UACLqvC,YAAA,YACK,WAEJN,qB/G4/XK,SAAUjxD,EAAQC,GgHliYxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,WACAC,OACAnV,GAAA,eAEGkV,EAAA,WACHqvC,YAAA,OACApvC,OACAnV,GAAA,mBAEGyjD,EAAAyB,GAAAzB,EAAAr0B,qBAAA,eAAA/sB,GACH,MAAAohD,GAAAn0B,cAAAm0B,EAAAl0B,eAIKk0B,EAAAO,MAJL9uC,EAAA,UAAAA,EAAA,MAAAuuC,EAAA9jC,GAAA,QAAA8jC,EAAAU,GAAA9hD,EAAArC,SAAAyjD,EAAA9jC,GAAA,KAAA8jC,EAAAyB,GAAA7iD,EAAA,kBAAAX,GACA,MAAAwT,GAAA,OACAqvC,YAAA,cACOd,EAAA9jC,GAAA,kBAAA8jC,EAAAU,GAAAziD,EAAAjC,SAAA,IAAAgkD,EAAAU,GAAAziD,EAAAG,QAAA,8BAAAqT,EAAA,MAAAuuC,EAAA9jC,GAAA,cAAA8jC,EAAAU,GAAAV,EAAA5vB,WAAAnyB,IAAA,cAAAwT,EAAA,MAAAuuC,EAAA9jC,GAAA,YAAA8jC,EAAAU,GAAAV,EAAA3vB,SAAApyB,IAAA,mBAEJ+hD,EAAA9jC,GAAA,KAAA8jC,EAAA,yBAAAvuC,EAAA,UAAAA,EAAA,MAAAuuC,EAAA9jC,GAAA,QAAA8jC,EAAAU,GAAAV,EAAAzvB,wBAAAh0B,IAAA,OAAAyjD,EAAAU,GAAAV,EAAAn0B,aAAAm0B,EAAAn0B,aAAAtnB,KAAAy7C,EAAAl0B,eAAAvnB,WAAAy7C,EAAA9jC,GAAA,KAAA8jC,EAAAyB,GAAAzB,EAAAzvB,wBAAA,kBAAAtyB,GACH,MAAAwT,GAAA,OACAqvC,YAAA,cACKd,EAAA9jC,GAAA,kBAAA8jC,EAAAU,GAAAziD,EAAAjC,SAAA,IAAAgkD,EAAAU,GAAAziD,EAAAG,QAAA,8BAAAqT,EAAA,MAAAuuC,EAAA9jC,GAAA,cAAA8jC,EAAAU,GAAAV,EAAA5vB,WAAAnyB,IAAA,cAAAwT,EAAA,MAAAuuC,EAAA9jC,GAAA,YAAA8jC,EAAAU,GAAAV,EAAA3vB,SAAApyB,IAAA,iBACF+hD,EAAAO,MAAA,MACFC,qBhHwiYK,SAAUjxD,EAAQC,GiH7jYxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAqvC,YAAA,uBACAL,OACAl5B,UAAAy4B,EAAA35B,SAEA3U,OACAiyC,mBAAA3D,EAAA4D,sBAEGnyC,EAAA,OACHqvC,YAAA,aACGrvC,EAAA,OACHqvC,YAAA,kBACGd,EAAApvB,YAAAx+B,OAAA,EAAAqf,EAAA,gBACHC,OACA3J,QAAAi4C,EAAApvB,YACA94B,MAAAkoD,EAAA4D,oBAEAhiC,IACAo/B,OAAA,SAAA/8B,GAAgC,MAAA+7B,GAAA58B,MAAA,mBAAAa,OAE7BxS,EAAA,QAAAuuC,EAAA9jC,GAAA8jC,EAAAU,GAAAV,EAAApvB,YAAA,GAAAnI,SAAAu3B,EAAApvB,YAAA,GAAAxuB,gBAAA49C,EAAA9jC,GAAA,KAAA8jC,EAAA,OAAAvuC,EAAA,KACHqvC,YAAA,UACApvC,OACAuvC,MAAA,cAEAr/B,IACAyN,MAAA2wB,EAAA6D,UAEGpyC,EAAA,UACHqvC,YAAA,YACG,GAAAd,EAAAO,MAAA,GAAAP,EAAA9jC,GAAA,KAAAzK,EAAA,OACHqvC,YAAA,kBACGrvC,EAAA,KACHC,OACAuvC,MAAAjB,EAAA35B,QAAA,qBAEAzE,IACAyN,MAAA2wB,EAAAz5B,iBAEG9U,EAAA,gBACHqvC,YAAA,SACApvC,OACAwR,UAAA88B,EAAA35B,QAAA,sBAEG,OAAA25B,EAAA9jC,GAAA,KAAAzK,EAAA,OACHqvC,YAAA,2BACGd,EAAA,gBAAAvuC,EAAA,SACH2uC,aACA77C,KAAA,QACA87C,QAAA,UACAvoD,MAAAkoD,EAAA,OACAM,WAAA,WAEAQ,YAAA,aACApvC,OACAwwC,YAAA,UAEAvB,UACA7oD,MAAAkoD,EAAA,QAEAp+B,IACA2/B,MAAA,SAAAV,GACAA,EAAA5zC,OAAAu0C,YACAxB,EAAAh6B,OAAA66B,EAAA5zC,OAAAnV,WAGGkoD,EAAAO,OAAAP,EAAA9jC,GAAA,KAAA8jC,EAAA,QAAAvuC,EAAA,iBACHC,OACAwU,KAAA85B,EAAA/5B,aACAu9B,WAAAxD,EAAAt5B,UACAg9B,YAAA1D,EAAA8D,WACAb,eAAAjD,EAAA+D,iBAEGtyC,EAAA,iBACHC,OACAgV,UAAAs5B,EAAAt5B,UACAu8B,eAAAjD,EAAA+D,cACAp8C,QAAAq4C,EAAAn7B,eACAqB,KAAA85B,EAAA/5B,aACAi9B,UAAAlD,EAAA8D,WACAnC,UAAA3B,EAAAgE,YAEG,IACFxD,qBjHmkYK,SAAUjxD,EAAQC,GkHvpYxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAD,GAAAzrB,SAEGyrB,EAAAO,KAFH9uC,EAAA,KACAqvC,YAAA,uBACGd,EAAA9jC,GAAA,+FACFskC,qBlH6pYK,SAAUjxD,EAAQC,GmHjqYxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAqvC,YAAA,cACGrvC,EAAA,gBACHC,OACAysB,MAAA,UACAp2B,QAAAi4C,EAAAtqB,kBACA59B,MAAAkoD,EAAA/0B,aAEArJ,IACAo/B,OAAA,SAAA/8B,GACA+7B,EAAA/0B,YAAAhH,OAGG,IACFu8B,qBnHuqYK,SAAUjxD,EAAQC,GoHtrYxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAqvC,YAAA,iBACGd,EAAA,MAAAvuC,EAAA,SAAAuuC,EAAA9jC,GAAA8jC,EAAAU,GAAAV,EAAA7hB,UAAA6hB,EAAAO,KAAAP,EAAA9jC,GAAA,KAAAzK,EAAA,UACHC,OACAgX,SAAAs3B,EAAAt3B,UAEA9G,IACAo/B,OAAA,SAAAH,GACAb,EAAA58B,MAAA,SAAAy9B,EAAA5zC,OAAAnV,UAGGkoD,EAAAyB,GAAAzB,EAAA,wBAAAiE,GACH,MAAAxyC,GAAA,UACAkvC,UACA7oD,MAAAmsD,EAAAhgC,IACAmK,SAAA61B,EAAAhgC,MAAA+7B,EAAAloD,SAEKkoD,EAAA9jC,GAAA8jC,EAAAU,GAAAuD,EAAAx7B,eACFu3B,EAAA9jC,GAAA,KAAAzK,EAAA,OACHC,OACAC,MAAA,6BACAsK,QAAA,YACAtL,OAAA,UAEGc,EAAA,QACHC,OACAxI,EAAA,sBACAga,UAAA,mCAGCs9B,qBpH4rYK,SAAUjxD,EAAQC,GqH3tYxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAqvC,YAAA,SACGrvC,EAAA,YACHqvC,YAAA,WACGd,EAAA9jC,GAAA,KAAAzK,EAAA,QACHqvC,YAAA,iBACGd,EAAAkB,GAAA,oBACFV,qBrHiuYK,SAAUjxD,EAAQC,GsHzuYxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,sBACAC,OACAkyC,mBAAA5D,EAAAv6C,KACAmrB,YAAAovB,EAAArvB,mBACAzK,KAAA85B,EAAA95B,KACAve,QAAAq4C,EAAAr4C,QACAo8C,cAAA/D,EAAAhvB,gBAAAgvB,EAAAhvB,eAAAz0B,GACAmqB,UAAA,SAAAre,GACA23C,EAAAhvB,eAAA3oB,GAEAw7C,OAAA7D,EAAA7uB,iBAAA6uB,EAAAruB,aACAqyB,QAAAhE,EAAAvuB,aACAqyB,WAAA9D,EAAAluB,cACAwxB,gBAAAtD,EAAAsD,gBACAj9B,QAAA25B,EAAA35B,SAEAzE,IACA2E,cAAA,SAAA5vB,GAAqC,MAAAqpD,GAAA58B,MAAA,gBAAAzsB,IACrCutD,iBAAAlE,EAAAzuB,eAGCivB,qBtH+uYK,SAAUjxD,EAAQC,GuHrwYxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAuhC,IAAA,aACAyN,OACA0D,eAAAnE,EAAAt2B,aAEAiE,OACAs0B,iBAAA,SAAAjC,EAAA70B,aAAA,QAAA60B,EAAA70B,YAAA,eAEAzZ,OACAnV,GAAA,UAEGkV,EAAA,OACHuhC,IAAA,OACAthC,OACAnV,GAAA,cAEGkV,EAAA,OAAAuuC,EAAAyB,GAAAzB,EAAA,6BAAAp4C,EAAAw8C,GACH,MAAA3yC,GAAA,WACAC,OACAnV,GAAA,aAAA6nD,EACAC,aAAA,iBACAtuD,MAAA,KACA4a,OAAA,QAEKc,EAAA,QACLC,OACAxI,EAAA,4EACAo7C,OAAA18C,EACA28C,eAAA,YAGGvE,EAAA9jC,GAAA,KAAAzK,EAAA,KACHqvC,YAAA,iBACGd,EAAA9jC,GAAA,KAAAzK,EAAA,KACHqvC,YAAA,iBACGd,EAAA9jC,GAAA,KAAAzK,EAAA,KACHqvC,YAAA,SACApvC,OACA8yC,qBAAA,MAEGxE,EAAA9jC,GAAA,KAAAzK,EAAA,KACHqvC,YAAA,WACApvC,OACA8yC,qBAAA,WAGChE,qBvH2wYK,SAAUjxD,EAAQC,GwH1zYxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,OACAgvC,MAAA,QAAAT,EAAAzhC,KAAA+H,cACA5U,OACAnV,GAAA,SAEGkV,EAAA,WACHgvC,OACAgE,qBAAA,QAAAzE,EAAAzhC,QAEGyhC,EAAA9jC,GAAA,KAAAzK,EAAA,OACHgvC,OACAiE,aAAA1E,EAAA/iC,oBAEAvL,OACAnV,GAAA,iBAEGkV,EAAA,cACHgvC,OACAgE,qBAAA,QAAAzE,EAAAzhC,MAEAqD,IACA2F,SAAA,SAAAtD,GACA+7B,EAAA/iC,mBAAAgH,MAGG+7B,EAAA9jC,GAAA,KAAAzK,EAAA,QAAAA,EAAA,OACH2uC,aACA77C,KAAA,OACA87C,QAAA,SACAvoD,MAAAkoD,EAAAhlD,OAAAglD,EAAAr9C,QACA29C,WAAA,qBAEAG,OACAzlD,MAAAglD,EAAAhlD,MAAA2H,QAAAq9C,EAAAr9C,SAEA+O,OACAnV,GAAA,gBAEGkV,EAAA,KAAAuuC,EAAA9jC,GAAA8jC,EAAAU,GAAAV,EAAAhlD,OAAAglD,EAAAr9C,cAAAq9C,EAAA9jC,GAAA,KAAAzK,EAAA,eAAAuuC,EAAA9jC,GAAA,KAAAzK,EAAA,qBAAAuuC,EAAA9jC,GAAA,KAAAzK,EAAA,oBACF+uC,qBxHg0YK,SAAUjxD,EAAQC,GyHx2YxBD,EAAAC,SAAgBgiB,OAAA,WAAmB,GAAAwuC,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CAC1E,OAAAxuC,GAAA,SAAAA,EAAA,OACAqvC,YAAA,YACGd,EAAA9jC,GAAA,KAAAzK,EAAA,OACHqvC,YAAA,UACGd,EAAAuC,GAAA,SAAAvC,EAAA9jC,GAAA,KAAAzK,EAAA,oBAAAuuC,EAAA9jC,GAAA,KAAAzK,EAAA,OACHqvC,YAAA,YACGrvC,EAAA,KAAAA,EAAA,KACHqvC,YAAA,kCACAl/B,IACAyN,MAAA,SAAAwxB,GACAb,EAAA/gC,YAAA,EACA+gC,EAAA9gC,YAAA,EACA8gC,EAAA58B,MAAA,aAGG3R,EAAA,OACHqvC,YAAA,UACGd,EAAA9jC,GAAA,SAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,8BAAAuuC,EAAA9jC,GAAA,KAAAzK,EAAA,OACHqvC,YAAA,gBACGd,EAAA9jC,GAAA,kCAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,KAAAA,EAAA,KACHqvC,YAAA,oBACApvC,OACAgX,UAAAs3B,EAAA1tB,QAEA1Q,IACAyN,MAAA,SAAAwxB,GACAb,EAAA/gC,YAAA,EACA+gC,EAAAzhC,KAAA,MACAyhC,EAAA58B,MAAA,aAGG3R,EAAA,OACHqvC,YAAA,UACGd,EAAA9jC,GAAA,kBAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,iCAAAuuC,EAAA9jC,GAAA,KAAAzK,EAAA,OACHqvC,YAAA,gBACGd,EAAA9jC,GAAA,6CAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,KAAAA,EAAA,KACHqvC,YAAA,mCACApvC,OACAnV,GAAA,UAEAqlB,IACAyN,MAAA,SAAAwxB,GACAb,EAAAn/B,MAAAuhC,YAAA/yB,YAGG5d,EAAA,OACHqvC,YAAA,UACGd,EAAA9jC,GAAA,UAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,+BAAAuuC,EAAA9jC,GAAA,KAAAzK,EAAA,OACHqvC,YAAA,gBACGd,EAAA9jC,GAAA,sCAAA8jC,EAAA9jC,GAAA,KAAAzK,EAAA,SACHuhC,IAAA,cACAthC,OACAnV,GAAA,cACA7D,KAAA,QAEAkpB,IACAo/B,OAAAhB,EAAAztB,4BAEG,MACFiuB,iBAAA,WAA+B,GAAAR,GAAApmD,KAAaqmD,EAAAD,EAAAE,eAA0BzuC,EAAAuuC,EAAAG,MAAA1uC,IAAAwuC,CACvE,OAAAxuC,GAAA,UAAAA,EAAA,MAAAuuC,EAAA9jC,GAAA,sBzH+2YM,SAAU3sB,OAAQC,S0H56YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,sFAAA4I,KAAA,UAAyGL,GAAA,UAAeC,OAAOE,GAAA,MAAAC,GAAA,MAAAC,KAAA,UAAA1W,EAAA,OAAgDqW,GAAA,QAAaC,OAAOxI,EAAA,sLAAA4I,KAAA,kB1Hk7YjU,SAAUviB,OAAQC,S2Hl7YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,UAAeC,OAAOE,GAAA,OAAAC,GAAA,KAAAC,KAAA,UAAA1W,EAAA,SAAkDqW,GAAA,QAAaC,OAAOxI,EAAA,yLAAA4I,KAAA,kB3Hw7YtM,SAAUviB,OAAQC,S4Hx7YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,gzB5H87Y9H,SAAU3Z,OAAQC,S6H97YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,yEAA2EuI,GAAA,QAAaC,OAAOxI,EAAA,2E7Ho8Y7N,SAAU3Z,OAAQC,S8Hp8YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,ovB9H08Y9H,SAAU3Z,OAAQC,S+H18YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,0F/Hg9Y9H,SAAU3Z,OAAQC,SgIh9YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,0LhIs9Y9H,SAAU3Z,OAAQC,SiIt9YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,owBAAswBuI,GAAA,WAAgBC,OAAOE,GAAA,OAAAC,GAAA,OAAA8yC,GAAA,MAAAC,GAAA,cjI49Y35B,SAAUr1D,OAAQC,SkI59YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,sFlIk+Y9H,SAAU3Z,OAAQC,SmIl+YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,0CAAA4I,KAAA,kBnIw+Y9H,SAAUviB,OAAQC,SoIx+YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOI,KAAA,OAAAH,MAAA,6BAAAsK,QAAA,eAA0ExK,GAAA,QAAaC,OAAOxI,EAAA,iOpI8+YlK,SAAU3Z,OAAQC,SqI9+YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOI,KAAA,OAAAH,MAAA,6BAAAsK,QAAA,oBAA+ExK,GAAA,QAAaC,OAAOxI,EAAA,0GAA4GuI,GAAA,QAAaC,OAAOxI,EAAA,ifrIo/YvS,SAAU3Z,OAAQC,SsIp/YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOI,KAAA,OAAAH,MAAA,6BAAAsK,QAAA,iBAA4ExK,GAAA,QAAa0xC,aAAa0B,cAAA,IAAAC,iBAAA,OAAAC,oBAAA,MAAmErzC,OAAQxI,EAAA,wnBAAA87C,SAAA,UAAAp9C,MAAA,etI0/YrP,SAAUrY,OAAQC,SuI1/YxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,oXAAA4I,KAAA,aAA0YL,GAAA,QAAaC,OAAOxI,EAAA,g6CAAA4I,KAAA,aAAs7CL,GAAA,QAAaC,OAAOxI,EAAA,mXAAA4I,KAAA,aAAyYL,GAAA,WAAgBC,OAAOE,GAAA,OAAAC,GAAA,OAAAC,KAAA,OAAA6yC,GAAA,MAAAC,GAAA,MAAA1hC,UAAA,mCAAyGzR,GAAA,QAAaC,OAAOxI,EAAA,mEvIggZngF,SAAU3Z,OAAQC,SwIhgZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOI,KAAA,OAAAH,MAAA,6BAAAsK,QAAA,iBAA4ExK,GAAA,QAAaC,OAAOxI,EAAA,0PAA4PuI,GAAA,QAAaC,OAAOxI,EAAA,2uBAA6uBuI,GAAA,QAAaC,OAAOxI,EAAA,q8JAAu8JuI,GAAA,QAAaC,OAAOxI,EAAA,8hBAAgiBuI,GAAA,QAAaC,OAAOxI,EAAA,ugDAAygDuI,GAAA,QAAaC,OAAOxI,EAAA,wnBxIsgZjuQ,SAAU3Z,OAAQC,SyItgZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,6DAAA4I,KAAA,aAAmFL,GAAA,QAAaC,OAAOxI,EAAA,6DAAA4I,KAAA,aAAmFL,GAAA,UAAeC,OAAOE,GAAA,OAAAC,GAAA,MAAAC,KAAA,OAAA1W,EAAA,SAAgDqW,GAAA,QAAaC,OAAOxI,EAAA,mDzI4gZlZ,SAAU3Z,OAAQC,S0I5gZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,4dAAA4I,KAAA,e1IkhZ9H,SAAUviB,OAAQC,S2IlhZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,8EAAA4I,KAAA,OAAAwyC,OAAA,UAAAW,oBAAA,KAAAV,eAAA,WAAoK9yC,GAAA,QAAaC,OAAOxI,EAAA,qHAAA4I,KAAA,aAA2IL,GAAA,QAAaC,OAAOxI,EAAA,gOAAA4I,KAAA,kB3IwhZrd,SAAUviB,OAAQC,S4IxhZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,4DAAA4I,KAAA,aAAkFL,GAAA,QAAaC,OAAOxI,EAAA,2FAAA4I,KAAA,aAAiHL,GAAA,UAAeC,OAAOE,GAAA,OAAAC,GAAA,OAAAC,KAAA,UAAA1W,EAAA,UAAqDqW,GAAA,QAAaC,OAAOxI,EAAA,+NAAA4I,KAAA,kB5I8hZpb,SAAUviB,OAAQC,S6I9hZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA;AAAA4I,KAAA,aAAoFL,GAAA,QAAaC,OAAOxI,EAAA,sEAAA4I,KAAA,aAA4FL,GAAA,UAAeC,OAAOE,GAAA,OAAAC,GAAA,OAAAC,KAAA,OAAA1W,EAAA,UAAkDqW,GAAA,QAAaC,OAAOxI,EAAA,yD7IoiZ9Z,SAAU3Z,OAAQC,S8IpiZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,+FAAA4I,KAAA,kB9I0iZ9H,SAAUviB,OAAQC,S+I1iZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,6DAAA4I,KAAA,aAAmFL,GAAA,QAAaC,OAAOxI,EAAA,6DAAA4I,KAAA,aAAmFL,GAAA,UAAeC,OAAOE,GAAA,OAAAC,GAAA,MAAAC,KAAA,OAAA1W,EAAA,SAAgDqW,GAAA,QAAaC,OAAOxI,EAAA,mD/IgjZlZ,SAAU3Z,OAAQC,SgJhjZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,83BAAA4I,KAAA,ehJsjZ9H,SAAUviB,OAAQC,SiJtjZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,qVAAA4I,KAAA,UAAwWL,GAAA,QAAaC,OAAOxI,EAAA,iSAAA4I,KAAA,ejJ4jZ1f,SAAUviB,OAAQC,SkJ5jZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,83BAAA4I,KAAA,elJkkZ9H,SAAUviB,OAAQC,SmJlkZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,sEAAA4I,KAAA,kBnJwkZ9H,SAAUviB,OAAQC,SoJxkZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,gCAAA4I,KAAA,UAAmDL,GAAA,QAAaC,OAAOxI,EAAA,gCAAA4I,KAAA,epJ8kZrM,SAAUviB,OAAQC,SqJ9kZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,gMAAA4I,KAAA,erJolZ9H,SAAUviB,OAAQC,SsJplZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,8IAAA4I,KAAA,etJ0lZ9H,SAAUviB,OAAQC,SuJ1lZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,qHAAA4I,KAAA,evJgmZ9H,SAAUviB,OAAQC,SwJhmZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOI,KAAA,OAAAH,MAAA,6BAAAqK,YAAA,UAAAC,QAAA,iBAAkGxK,GAAA,KAAUC,OAAOwR,UAAA,6BAAuCzR,GAAA,SAAAyK,GAAA,YAAAzK,GAAA,QAAwCC,OAAOxI,EAAA,sZxJsmZ7Q,SAAU3Z,OAAQC,SyJtmZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,wFAAA4I,KAAA,UAA2GL,GAAA,QAAaC,OAAOxI,EAAA,wBAAA4I,KAAA,UAA2CL,GAAA,QAAaC,OAAOxI,EAAA,uBAAA4I,KAAA,ezJ4mZ5T,SAAUviB,OAAQC,S0J5mZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,6FAAA4I,KAAA,kB1JknZ9H,SAAUviB,OAAQC,S2JlnZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,gPAAA4I,KAAA,UAAmQL,GAAA,QAAaC,OAAOxI,EAAA,yLAAA4I,KAAA,e3JwnZrZ,SAAUviB,OAAQC,S4JxnZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOC,MAAA,gCAAsCF,GAAA,QAAaC,OAAOxI,EAAA,8PAAA4I,KAAA,UAAiRL,GAAA,QAAaC,OAAOxI,EAAA,yFAAA4I,KAAA,e5J8nZna,SAAUviB,OAAQC,S6J9nZxBD,OAAAC,SAAkBgiB,OAAA,WAAqB,KAAA5X,KAAW,MAAA6X,IAAA,OAAiBC,OAAOI,KAAA,OAAAH,MAAA,6BAAAsK,QAAA,iBAA4ExK,GAAA,QAAaC,OAAOxI,EAAA,4HAA8HuI,GAAA,QAAaC,OAAOxI,EAAA,wQAA0QuI,GAAA,QAAaC,OAAOxI,EAAA,8D7JmoZjlB,CAEH,SAAU3Z,EAAQC,G8JroZxBD,EAAAC,SAAkB01D","file":"static/js/app.c44efa79e5c05512a34c.js","sourcesContent":["webpackJsonp([1,0],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(69);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _index = __webpack_require__(124);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _timetravel = __webpack_require__(144);\n\t\n\tvar _timetravel2 = _interopRequireDefault(_timetravel);\n\t\n\tvar _App = __webpack_require__(256);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _PrettySelect = __webpack_require__(45);\n\t\n\tvar _PrettySelect2 = _interopRequireDefault(_PrettySelect);\n\t\n\tvar _GenericInput = __webpack_require__(94);\n\t\n\tvar _GenericInput2 = _interopRequireDefault(_GenericInput);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.component('pretty-select', _PrettySelect2.default);\n\t_vue2.default.component('generic-input', _GenericInput2.default);\n\t\n\twindow.eventBus = new _vue2.default();\n\t\n\twindow.application = new _vue2.default({\n\t  store: _index2.default,\n\t  el: '#app',\n\t  template: '<App/>',\n\t  components: { App: _App2.default }\n\t});\n\t\n\t_timetravel2.default.init(_index2.default);\n\n/***/ }),\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _toConsumableArray2 = __webpack_require__(15);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\texports.distanceBetweenPoints = distanceBetweenPoints;\n\texports.fitToAspectRatio = fitToAspectRatio;\n\texports.edgeDirection = edgeDirection;\n\texports.haveSimilarAngles = haveSimilarAngles;\n\texports.unitPerpVector = unitPerpVector;\n\texports.unitVector = unitVector;\n\texports.projectionOfPointToLine = projectionOfPointToLine;\n\texports.pointDistanceToSegment = pointDistanceToSegment;\n\texports.ptsAreCollinear = ptsAreCollinear;\n\texports.repeatingWindowCenters = repeatingWindowCenters;\n\texports.vertInRing = vertInRing;\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _jsClipper = __webpack_require__(245);\n\t\n\tvar _jsClipper2 = _interopRequireDefault(_jsClipper);\n\t\n\tvar _utilities = __webpack_require__(35);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction distanceBetweenPoints(p1, p2) {\n\t  var dx = Math.abs(p1.x - p2.x),\n\t      dy = Math.abs(p1.y - p2.y);\n\t  return Math.sqrt(dx * dx + dy * dy);\n\t}\n\t\n\tfunction fitToAspectRatio(xExtent, yExtent, widthOverHeight) {\n\t  var adjustToFit = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'expand';\n\t\n\t  var xSpan = xExtent[1] - xExtent[0],\n\t      ySpan = yExtent[1] - yExtent[0],\n\t      xAccordingToY = ySpan * widthOverHeight,\n\t      yAccordingToX = xSpan / widthOverHeight,\n\t      xDiff = xAccordingToY - xSpan,\n\t      yDiff = yAccordingToX - ySpan;\n\t\n\t  if (xDiff > 0 === (adjustToFit === 'expand')) {\n\t    return {\n\t      xExtent: [xExtent[0] - xDiff / 2, xExtent[1] + xDiff / 2],\n\t      yExtent: yExtent\n\t    };\n\t  }\n\t  return {\n\t    xExtent: xExtent,\n\t    yExtent: [yExtent[0] - yDiff / 2, yExtent[1] + yDiff / 2]\n\t  };\n\t}\n\t\n\tfunction edgeDirection(_ref) {\n\t  var start = _ref.start,\n\t      end = _ref.end;\n\t\n\t  var deltaX = end.x - start.x,\n\t      deltaY = end.y - start.y;\n\t  return deltaX === 0 ? 0.5 * Math.PI : Math.atan(deltaY / deltaX);\n\t}\n\t\n\tfunction haveSimilarAngles(edge1, edge2) {\n\t  var angleDiff = edgeDirection(edge1) - edgeDirection(edge2),\n\t      correctedDiff = Math.min(Math.abs(angleDiff), Math.PI - angleDiff);\n\t  return correctedDiff < 0.05 * Math.PI;\n\t}\n\tfunction normalize(_ref2) {\n\t  var dx = _ref2.dx,\n\t      dy = _ref2.dy;\n\t\n\t  if (dx === 0 && dy === 0) {\n\t    return { dx: 0, dy: 0 };\n\t  }\n\t  var normalization = Math.sqrt(dx * dx + dy * dy);\n\t  return {\n\t    dx: dx / normalization,\n\t    dy: dy / normalization\n\t  };\n\t}\n\tfunction unitPerpVector(p1, p2) {\n\t  var dx = void 0,\n\t      dy = void 0;\n\t  if (p1.x !== p2.x) {\n\t    dy = 1;\n\t    dx = (p1.y - p2.y) / (p1.x - p2.x);\n\t  } else if (p1.y !== p2.y) {\n\t    dx = 1;\n\t    dy = (p1.x - p2.x) / (p1.y - p2.y);\n\t  } else {\n\t    dx = dy = 1;\n\t  }\n\t  return normalize({ dx: dx, dy: dy });\n\t}\n\t\n\tfunction unitVector(p1, p2) {\n\t  var dx = p2.x - p1.x,\n\t      dy = p2.y - p1.y;\n\t  return normalize({ dx: dx, dy: dy });\n\t}\n\t\n\tfunction projectionOfPointToLine(point, line) {\n\t  var _line$p = line.p1,\n\t      x1 = _line$p.x,\n\t      y1 = _line$p.y,\n\t      _line$p2 = line.p2,\n\t      x2 = _line$p2.x,\n\t      y2 = _line$p2.y;\n\t\n\t  var A = point.x - x1,\n\t      B = point.y - y1,\n\t      C = x2 - x1,\n\t      D = y2 - y1,\n\t      dot = A * C + B * D,\n\t      lenSq = C * C + D * D || 2,\n\t      param = dot / lenSq;\n\t\n\t  if (param <= 0) {\n\t    return line.p1;\n\t  } else if (param > 1) {\n\t    return line.p2;\n\t  }\n\t\n\t  return {\n\t    x: x1 + param * C,\n\t    y: y1 + param * D\n\t  };\n\t}\n\t\n\tfunction pointDistanceToSegment(pt, _ref3) {\n\t  var start = _ref3.start,\n\t      end = _ref3.end;\n\t\n\t  var proj = projectionOfPointToLine(pt, { p1: start, p2: end });\n\t  return {\n\t    dist: distanceBetweenPoints(pt, proj),\n\t    proj: proj\n\t  };\n\t}\n\t\n\tfunction ptsAreCollinear(p1, p2, p3) {\n\t  var _ref4 = [p1.x, p1.y],\n\t      a = _ref4[0],\n\t      b = _ref4[1],\n\t      _ref5 = [p2.x, p2.y],\n\t      m = _ref5[0],\n\t      n = _ref5[1],\n\t      x = p3.x,\n\t      y = p3.y;\n\t\n\t  return Math.abs((n - b) * (x - m) - (y - n) * (m - a)) < 0.00001;\n\t}\n\t\n\tfunction repeatingWindowCenters(_ref6) {\n\t  var start = _ref6.start,\n\t      end = _ref6.end,\n\t      spacing = _ref6.spacing,\n\t      width = _ref6.width;\n\t\n\t  var maxDist = distanceBetweenPoints(start, end),\n\t      centers = [],\n\t      direction = unitVector(start, end);\n\t\n\t  var nextCenterDist = width / 2;\n\t  while (nextCenterDist + width / 2 < maxDist) {\n\t    var _offX = direction.dx * nextCenterDist,\n\t        _offY = direction.dy * nextCenterDist;\n\t    centers.push({ x: start.x + _offX, y: start.y + _offY, distFromStart: nextCenterDist });\n\t    nextCenterDist += width + (spacing || 1);\n\t  }\n\t  if (centers.length === 0) return [];\n\t  var margin = (distanceBetweenPoints(centers[centers.length - 1], end) - width / 2) / 2,\n\t      totalDist = distanceBetweenPoints(start, end),\n\t      offX = direction.dx * margin,\n\t      offY = direction.dy * margin;\n\t\n\t  return centers.map(function (c) {\n\t    return {\n\t      x: c.x + offX,\n\t      y: c.y + offY,\n\t      alpha: (c.distFromStart + margin) / totalDist\n\t    };\n\t  });\n\t}\n\t\n\tvar helpers = {\n\t  clipScale: 100,\n\t\n\t  offset: 0.01,\n\t\n\t  setOperation: function setOperation(type, f1Points, f2Points) {\n\t    var f1Path = f1Points.map(function (p) {\n\t      return { X: p.x, Y: p.y };\n\t    }),\n\t        f2Path = f2Points.map(function (p) {\n\t      return { X: p.x, Y: p.y };\n\t    });\n\t\n\t    var offset = new _jsClipper2.default.ClipperOffset(),\n\t        f1PathsOffsetted = new _jsClipper2.default.Paths(),\n\t        f2PathsOffsetted = new _jsClipper2.default.Paths();\n\t\n\t    offset.AddPaths([f1Path], _jsClipper2.default.JoinType.jtMiter, _jsClipper2.default.EndType.etClosedPolygon);\n\t    offset.Execute(f1PathsOffsetted, this.offset);\n\t    offset.Clear();\n\t    offset.AddPaths([f2Path], _jsClipper2.default.JoinType.jtMiter, _jsClipper2.default.EndType.etClosedPolygon);\n\t    offset.Execute(f2PathsOffsetted, this.offset);\n\t    offset.Clear();\n\t\n\t    _jsClipper2.default.JS.ScaleUpPaths(f1PathsOffsetted, this.clipScale);\n\t    _jsClipper2.default.JS.ScaleUpPaths(f2PathsOffsetted, this.clipScale);\n\t\n\t    var cpr = new _jsClipper2.default.Clipper(),\n\t        resultPathsOffsetted = new _jsClipper2.default.Paths();\n\t\n\t    cpr.AddPaths(f1PathsOffsetted, _jsClipper2.default.PolyType.ptSubject, true);\n\t    cpr.AddPaths(f2PathsOffsetted, _jsClipper2.default.PolyType.ptClip, true);\n\t\n\t    var operation = type === 'union' ? _jsClipper2.default.ClipType.ctUnion : type === 'intersection' ? _jsClipper2.default.ClipType.ctIntersection : type === 'difference' ? _jsClipper2.default.ClipType.ctDifference : null;\n\t    if (operation === null) {\n\t      throw new Error('invalid operation \"' + type + '\". expected union, intersection, or difference');\n\t    }\n\t\n\t    cpr.Execute(operation, resultPathsOffsetted, _jsClipper2.default.PolyFillType.pftEvenOdd, _jsClipper2.default.PolyFillType.pftEvenOdd);\n\t\n\t    _jsClipper2.default.JS.ScaleDownPaths(resultPathsOffsetted, this.clipScale);\n\t\n\t    var resultPaths = new _jsClipper2.default.Paths();\n\t    offset.AddPaths(resultPathsOffsetted, _jsClipper2.default.JoinType.jtMiter, _jsClipper2.default.EndType.etClosedPolygon);\n\t    offset.Execute(resultPaths, -this.offset);\n\t\n\t    if (resultPaths.length === 1) {\n\t      return resultPaths[0].map(function (p) {\n\t        return { x: p.X, y: p.Y };\n\t      });\n\t    } else if (resultPaths.length === 0) {\n\t      return [];\n\t    }\n\t    return {\n\t      error: helpers.clipperPolygonHasHoles(resultPaths) ? 'no holes' : 'no split faces'\n\t    };\n\t  },\n\t  clipperPolygonHasHoles: function clipperPolygonHasHoles(poly) {\n\t    var outerRing = poly[0].map(function (r) {\n\t      return [r.X, r.Y];\n\t    }),\n\t        ptFromNextRing = [poly[1][0].X, poly[1][0].Y];\n\t\n\t    return helpers.inRing(ptFromNextRing, outerRing);\n\t  },\n\t  intersection: function intersection(f1, f2) {\n\t    return this.setOperation('intersection', f1, f2);\n\t  },\n\t  union: function union(f1, f2) {\n\t    return this.setOperation('union', f1, f2);\n\t  },\n\t  difference: function difference(f1, f2) {\n\t    return this.setOperation('difference', f1, f2);\n\t  },\n\t  areaOfSelection: function areaOfSelection(points) {\n\t    var paths = points.map(function (p) {\n\t      return { X: p.x, Y: p.y };\n\t    });\n\t\n\t    return _jsClipper2.default.JS.AreaOfPolygon(paths);\n\t  },\n\t  splittingVerticesForEdgeId: function splittingVerticesForEdgeId(edge_id, geometry) {\n\t    var _this = this;\n\t\n\t    var edge = geometry.edges.find(function (e) {\n\t      return e.id === edge_id;\n\t    }),\n\t        edgeV1 = this.vertexForId(edge.v1, geometry),\n\t        edgeV2 = this.vertexForId(edge.v2, geometry);\n\t\n\t    return geometry.vertices.filter(function (vertex) {\n\t      if (edge.v1 !== vertex.id && edge.v2 !== vertex.id && !(edgeV1.x === vertex.x && edgeV1.y === vertex.y) && !(edgeV2.x === vertex.x && edgeV2.y === vertex.y)) {\n\t        var projection = _this.projectionOfPointToLine(vertex, {\n\t          p1: edgeV1,\n\t          p2: edgeV2\n\t        });\n\t        return _this.distanceBetweenPoints(vertex, projection) <= 1 / _this.clipScale;\n\t      }\n\t    });\n\t  },\n\t\n\t\n\t  projectionOfPointToLine: projectionOfPointToLine,\n\t\n\t  distanceBetweenPoints: distanceBetweenPoints,\n\t\n\t  intersectionOfLines: function intersectionOfLines(p1, p2, p3, p4) {\n\t    var eps = 0.0000001;\n\t\n\t    var between = function between(a, b, c) {\n\t      return a - eps <= b && b <= c + eps;\n\t    };\n\t\n\t    var x = ((p1.x * p2.y - p1.y * p2.x) * (p3.x - p4.x) - (p1.x - p2.x) * (p3.x * p4.y - p3.y * p4.x)) / ((p1.x - p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x - p4.x));\n\t    var y = ((p1.x * p2.y - p1.y * p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x * p4.y - p3.y * p4.x)) / ((p1.x - p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x - p4.x));\n\t\n\t    if (isNaN(x) || isNaN(y) || this.distanceBetweenPoints({ x: x, y: y }, p1) < eps || this.distanceBetweenPoints({ x: x, y: y }, p2) < eps || this.distanceBetweenPoints({ x: x, y: y }, p3) < eps || this.distanceBetweenPoints({ x: x, y: y }, p4) < eps) {\n\t      return false;\n\t    } else {\n\t      if (p1.x >= p2.x) {\n\t        if (!between(p2.x, x, p1.x)) {\n\t          return false;\n\t        }\n\t      } else {\n\t        if (!between(p1.x, x, p2.x)) {\n\t          return false;\n\t        }\n\t      }\n\t      if (p1.y >= p2.y) {\n\t        if (!between(p2.y, y, p1.y)) {\n\t          return false;\n\t        }\n\t      } else {\n\t        if (!between(p1.y, y, p2.y)) {\n\t          return false;\n\t        }\n\t      }\n\t      if (p3.x >= p4.x) {\n\t        if (!between(p4.x, x, p3.x)) {\n\t          return false;\n\t        }\n\t      } else {\n\t        if (!between(p3.x, x, p4.x)) {\n\t          return false;\n\t        }\n\t      }\n\t      if (p3.y >= p4.y) {\n\t        if (!between(p4.y, y, p3.y)) {\n\t          return false;\n\t        }\n\t      } else {\n\t        if (!between(p3.y, y, p4.y)) {\n\t          return false;\n\t        }\n\t      }\n\t    }\n\t    return {\n\t      x: x,\n\t      y: y\n\t    };\n\t  },\n\t  vertexForId: function vertexForId(vertex_id, geometry) {\n\t    return geometry.vertices.find(function (v) {\n\t      return v.id === vertex_id;\n\t    });\n\t  },\n\t  vertexForCoordinates: function vertexForCoordinates(coordinates, geometry) {\n\t    var _this2 = this;\n\t\n\t    return geometry.vertices.find(function (v) {\n\t      return _this2.distanceBetweenPoints(v, coordinates) < 0.00001;\n\t    });\n\t  },\n\t  verticesForFaceId: function verticesForFaceId(face_id, geometry) {\n\t    var _this3 = this;\n\t\n\t    return geometry.faces.find(function (f) {\n\t      return f.id === face_id;\n\t    }).edgeRefs.map(function (edgeRef) {\n\t      var edge = _this3.edgeForId(edgeRef.edge_id, geometry),\n\t          vertexId = edgeRef.reverse ? edge.v2 : edge.v1;\n\t      return _this3.vertexForId(vertexId, geometry);\n\t    });\n\t  },\n\t  edgeForId: function edgeForId(edge_id, geometry) {\n\t    return geometry.edges.find(function (e) {\n\t      return e.id === edge_id;\n\t    });\n\t  },\n\t  edgesForVertexId: function edgesForVertexId(vertex_id, geometry) {\n\t    return geometry.edges.filter(function (e) {\n\t      return e.v1 === vertex_id || e.v2 === vertex_id;\n\t    });\n\t  },\n\t  edgesForFaceId: function edgesForFaceId(face_id, geometry) {\n\t    var _this4 = this;\n\t\n\t    return geometry.faces.find(function (f) {\n\t      return f.id === face_id;\n\t    }).edgeRefs.map(function (eR) {\n\t      return _this4.edgeForId(eR.edge_id, geometry);\n\t    });\n\t  },\n\t  faceForId: function faceForId(face_id, geometry) {\n\t    return geometry.faces.find(function (f) {\n\t      return f.id === face_id;\n\t    });\n\t  },\n\t  facesForVertexId: function facesForVertexId(vertex_id, geometry) {\n\t    var _this5 = this;\n\t\n\t    return geometry.faces.filter(function (face) {\n\t      return face.edgeRefs.find(function (edgeRef) {\n\t        var edge = _this5.edgeForId(edgeRef.edge_id, geometry);\n\t        return edge.v1 === vertex_id || edge.v2 === vertex_id;\n\t      });\n\t    });\n\t  },\n\t  facesForEdgeId: function facesForEdgeId(edge_id, geometry) {\n\t    return geometry.faces.filter(function (face) {\n\t      return face.edgeRefs.find(function (eR) {\n\t        return eR.edge_id === edge_id;\n\t      });\n\t    });\n\t  },\n\t  pointInFace: function pointInFace(point, faceVertices) {\n\t    var facePoints = faceVertices.map(function (p) {\n\t      return { X: p.x, Y: p.y };\n\t    });\n\t    var testPoint = { X: point.x, Y: point.y };\n\t    return !!_jsClipper2.default.Clipper.PointInPolygon(testPoint, facePoints);\n\t  },\n\t\n\t\n\t  ptsAreCollinear: ptsAreCollinear,\n\t  syntheticRectangleSnaps: function syntheticRectangleSnaps(points, rectStart, cursorPt) {\n\t    var xMid = (rectStart.x + cursorPt.x) / 2;\n\t    var yMid = (rectStart.y + cursorPt.y) / 2;\n\t\n\t    return [].concat((0, _toConsumableArray3.default)(points.map(function (_ref7) {\n\t      var x = _ref7.x,\n\t          y = _ref7.y;\n\t      return { y: y, x: x + 2 * (xMid - x), synthetic: true, originalPt: { x: x, y: y } };\n\t    })), (0, _toConsumableArray3.default)(points.map(function (_ref8) {\n\t      var x = _ref8.x,\n\t          y = _ref8.y;\n\t      return { x: x, y: y + 2 * (yMid - y), synthetic: true, originalPt: { x: x, y: y } };\n\t    })));\n\t  },\n\t\n\t  edgeDirection: edgeDirection,\n\t  haveSimilarAngles: haveSimilarAngles,\n\t  pointDistanceToSegment: pointDistanceToSegment,\n\t\n\t  exceptFace: function exceptFace(geometry, face_id) {\n\t    if (!face_id) {\n\t      return geometry;\n\t    }\n\t    return (0, _extends3.default)({}, geometry, {\n\t      faces: _lodash2.default.reject(geometry.faces, { id: face_id })\n\t    });\n\t  },\n\t  denormalize: function denormalize(geometry) {\n\t    var _this6 = this;\n\t\n\t    var edges = geometry.edges.map(function (edge) {\n\t      return (0, _extends3.default)({}, edge, {\n\t        v1: _this6.vertexForId(edge.v1, geometry),\n\t        v2: _this6.vertexForId(edge.v2, geometry)\n\t      });\n\t    }),\n\t        edgesById = _lodash2.default.zipObject(_lodash2.default.map(edges, 'id'), edges),\n\t        faces = geometry.faces.map(function (face) {\n\t      return {\n\t        id: face.id,\n\t        edges: face.edgeRefs.map(function (_ref9) {\n\t          var edge_id = _ref9.edge_id,\n\t              reverse = _ref9.reverse;\n\t          return (0, _extends3.default)({}, edgesById[edge_id], {\n\t            edge_id: edge_id,\n\t            reverse: reverse\n\t          });\n\t        }),\n\t        get vertices() {\n\t          return (0, _utilities.dropConsecutiveDups)(_lodash2.default.flatMap(this.edges, function (e) {\n\t            return e.reverse ? [e.v2, e.v1] : [e.v1, e.v2];\n\t          }), function (v) {\n\t            return v.id;\n\t          });\n\t        }\n\t      };\n\t    });\n\t    return (0, _extends3.default)({}, geometry, {\n\t      edges: edges,\n\t      faces: faces\n\t    });\n\t  },\n\t  normalize: function normalize(geometry) {\n\t    var edges = _lodash2.default.uniqBy([].concat((0, _toConsumableArray3.default)(geometry.edges), (0, _toConsumableArray3.default)(_lodash2.default.flatMap(geometry.faces, function (f) {\n\t      return f.edges;\n\t    }))), 'id'),\n\t        vertices = _lodash2.default.uniqBy([].concat((0, _toConsumableArray3.default)(geometry.vertices), (0, _toConsumableArray3.default)(_lodash2.default.flatMap(edges, function (e) {\n\t      return [e.v1, e.v2];\n\t    }))), 'id');\n\t    return {\n\t      id: geometry.id,\n\t      vertices: vertices.map(function (v) {\n\t        return _lodash2.default.pick(v, ['id', 'x', 'y']);\n\t      }),\n\t      edges: edges.map(function (e) {\n\t        return {\n\t          id: e.id,\n\t          v1: e.v1.id,\n\t          v2: e.v2.id\n\t        };\n\t      }),\n\t      faces: geometry.faces.map(function (f) {\n\t        return {\n\t          id: f.id,\n\t          edgeRefs: f.edges.map(function (er) {\n\t            return { edge_id: er.id, reverse: er.reverse };\n\t          })\n\t        };\n\t      })\n\t    };\n\t  }\n\t};\n\t\n\tfunction isPointCoord(coord) {\n\t  return coord.length === 2 && _lodash2.default.isNumber(coord[0]) && _lodash2.default.isNumber(coord[1]);\n\t}\n\t\n\tfunction isRingCoords(coords) {\n\t  return coords.length >= 1 && _lodash2.default.every(coords, isPointCoord);\n\t}\n\t\n\tfunction isPolygonCoords(coords) {\n\t  return coords.length >= 1 && _lodash2.default.every(coords, isRingCoords);\n\t}\n\t\n\thelpers.inside = function (pt, poly) {\n\t  var ignoreBoundary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\t\n\t  if (!isPointCoord(pt)) throw new Error('point does not have correct coords: ' + pt);\n\t  if (!isPolygonCoords(poly)) throw new Error('polygon does not have correct coords: ' + poly);\n\t\n\t  var bbox = helpers.bboxOfRing(poly[0]);\n\t\n\t  if (bbox && helpers.inBBox(pt, bbox) === false) return false;\n\t\n\t  var insidePoly = false;\n\t  for (var i = 0; i < poly.length && !insidePoly; i++) {\n\t    if (helpers.inRing(pt, poly[0], ignoreBoundary)) {\n\t      var inHole = false;\n\t      var k = 1;\n\t\n\t      while (k < poly.length && !inHole) {\n\t        if (helpers.inRing(pt, poly[k], !ignoreBoundary)) {\n\t          inHole = true;\n\t        }\n\t        k++;\n\t      }\n\t      if (!inHole) insidePoly = true;\n\t    }\n\t  }\n\t  return insidePoly;\n\t};\n\t\n\thelpers.bboxOfRing = function (ring) {\n\t  return [_lodash2.default.min(_lodash2.default.map(ring, 0)), _lodash2.default.min(_lodash2.default.map(ring, 1)), _lodash2.default.max(_lodash2.default.map(ring, 0)), _lodash2.default.max(_lodash2.default.map(ring, 1))];\n\t};\n\t\n\thelpers.inRing = function (pt, ring, ignoreBoundary) {\n\t  var isInside = false;\n\t  if (ring[0][0] === ring[ring.length - 1][0] && ring[0][1] === ring[ring.length - 1][1]) ring = ring.slice(0, ring.length - 1);\n\t\n\t  for (var i = 0, j = ring.length - 1; i < ring.length; j = i++) {\n\t    var xi = ring[i][0],\n\t        yi = ring[i][1];\n\t    var xj = ring[j][0],\n\t        yj = ring[j][1];\n\t    var onBoundary = pt[1] * (xi - xj) + yi * (xj - pt[0]) + yj * (pt[0] - xi) === 0 && (xi - pt[0]) * (xj - pt[0]) <= 0 && (yi - pt[1]) * (yj - pt[1]) <= 0;\n\t    if (onBoundary) return !ignoreBoundary;\n\t    var intersect = yi > pt[1] !== yj > pt[1] && pt[0] < (xj - xi) * (pt[1] - yi) / (yj - yi) + xi;\n\t    if (intersect) isInside = !isInside;\n\t  }\n\t  return isInside;\n\t};\n\t\n\tfunction vertInRing(vert, ring) {\n\t  var toLst = function toLst(_ref10) {\n\t    var x = _ref10.x,\n\t        y = _ref10.y;\n\t    return [x, y];\n\t  };\n\t  return helpers.inRing(toLst(vert), ring.map(toLst));\n\t}\n\t\n\texports.default = helpers;\n\n/***/ }),\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _defineProperty2 = __webpack_require__(28);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _libconfig = __webpack_require__(34);\n\t\n\tvar _libconfig2 = _interopRequireDefault(_libconfig);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar helpers = {\n\t  map: _libconfig2.default,\n\t\n\t  displayNameForKey: function displayNameForKey(type, key) {\n\t    if (this.map[type].keymap[key]) {\n\t      return this.map[type].keymap[key].private ? null : this.map[type].keymap[key].displayName;\n\t    }\n\t    return key;\n\t  },\n\t  valueForKey: function valueForKey(object, state, type, key) {\n\t    if (this.map[type].keymap[key] && this.map[type].keymap[key].get) {\n\t      return this.map[type].keymap[key].get(object, state);\n\t    }\n\t    return object[key];\n\t  },\n\t  setValueForKey: function setValueForKey(object, store, type, key, value) {\n\t    var result = { success: true };\n\t\n\t    if (this.map[type].keymap[key] && this.map[type].keymap[key].validator) {\n\t      var validationResult = this.map[type].keymap[key].validator(object, store, value, type);\n\t      result.success = validationResult.success;\n\t      if (!validationResult.success) {\n\t        result.error = validationResult.error;\n\t        return result;\n\t      }\n\t    }\n\t    if (this.map[type].keymap[key] && this.map[type].keymap[key].converter) {\n\t      value = this.map[type].keymap[key].converter(value);\n\t    }\n\t\n\t    if (type === 'stories') {\n\t      store.dispatch('models/updateStoryWithData', (0, _defineProperty3.default)({\n\t        story: object\n\t      }, key, value));\n\t    } else if (type === 'spaces') {\n\t      store.dispatch('models/updateSpaceWithData', (0, _defineProperty3.default)({\n\t        space: object\n\t      }, key, value));\n\t    } else if (type === 'shading') {\n\t      store.dispatch('models/updateShadingWithData', (0, _defineProperty3.default)({\n\t        shading: object\n\t      }, key, value));\n\t    } else if (type === 'images') {\n\t      store.dispatch('models/updateImageWithData', (0, _defineProperty3.default)({\n\t        image: object\n\t      }, key, value));\n\t    } else if (type === 'window_definitions') {\n\t      store.dispatch('models/updateWindowDefinitionWithData', (0, _defineProperty3.default)({\n\t        object: object\n\t      }, key, value));\n\t    } else {\n\t      store.dispatch('models/updateObjectWithData', (0, _defineProperty3.default)({\n\t        object: object\n\t      }, key, value));\n\t    }\n\t\n\t    return result;\n\t  },\n\t  inputTypeForKey: function inputTypeForKey(type, key) {\n\t    return this.map[type].keymap[key] && !this.map[type].keymap[key].readonly ? this.map[type].keymap[key].input_type : null;\n\t  },\n\t  selectOptionsForKey: function selectOptionsForKey(object, state, type, key) {\n\t    return this.map[type].keymap[key] && !this.map[type].keymap[key].readonly && this.map[type].keymap[key].input_type === 'select' ? this.map[type].keymap[key].select_data(object, state) : [];\n\t  },\n\t  libraryObjectWithId: function libraryObjectWithId(state, id) {\n\t    var result;\n\t\n\t    for (var type in state.library) {\n\t      if (state.library.hasOwnProperty(type) && !result && state.library[type].find(function (i) {\n\t        return i.id === id;\n\t      })) {\n\t        result = state.library[type].find(function (i) {\n\t          return i.id === id;\n\t        });\n\t        result.type = type;\n\t      }\n\t    }\n\t\n\t    if (!result && state.stories.find(function (s) {\n\t      return s.id === id;\n\t    })) {\n\t      result = state.stories.find(function (s) {\n\t        return s.id === id;\n\t      });\n\t      result.type = 'story';\n\t    }\n\t\n\t    if (!result) {\n\t      for (var i = 0; i < state.stories.length; i++) {\n\t        var story = state.stories[i];\n\t        if (!result && story.spaces.find(function (s) {\n\t          return s.id === id;\n\t        })) {\n\t          result = story.spaces.find(function (s) {\n\t            return s.id === id;\n\t          });\n\t          result.type = 'space';\n\t        }\n\t        if (!result && story.shading.find(function (s) {\n\t          return s.id === id;\n\t        })) {\n\t          result = story.shading.find(function (s) {\n\t            return s.id === id;\n\t          });\n\t          result.type = 'shading';\n\t        }\n\t        if (!result && story.images.find(function (i) {\n\t          return i.id === id;\n\t        })) {\n\t          result = story.images.find(function (i) {\n\t            return i.id === id;\n\t          });\n\t          result.type = 'image';\n\t        }\n\t      }\n\t    }\n\t    return result;\n\t  },\n\t  modelForFace: function modelForFace(state, face_id) {\n\t    for (var i = 0; i < state.stories.length; i++) {\n\t      var story = state.stories[i],\n\t          shading = story.shading.find(function (s) {\n\t        return s.face_id === face_id;\n\t      }),\n\t          space = story.spaces.find(function (s) {\n\t        return s.face_id === face_id;\n\t      });\n\t      if (shading) {\n\t        shading.type = 'shading';\n\t        return shading;\n\t      } else if (space) {\n\t        space.type = 'space';\n\t        return space;\n\t      }\n\t    }\n\t  },\n\t  generateName: function generateName(state, type, story) {\n\t    var models = this.modelsForType(state, type);\n\t    var prefix = _libconfig2.default[type].displayName + ' ';\n\t    if (story) {\n\t      var level = state.stories.findIndex(function (s) {\n\t        return s.id === story.id;\n\t      }) + 1;\n\t      prefix = prefix.concat(level + ' - ');\n\t    }\n\t\n\t    var name = '';\n\t    var i = 1;\n\t    while (!name) {\n\t      name = prefix + i;\n\t      if (models.find(function (m) {\n\t        return m.name === name;\n\t      })) {\n\t        name = '';\n\t      }\n\t      i += 1;\n\t    }\n\t\n\t    return name;\n\t  },\n\t  modelsForType: function modelsForType(state, type) {\n\t    switch (type) {\n\t      case 'stories':\n\t        return state.stories;\n\t\n\t      case 'shading':\n\t      case 'spaces':\n\t      case 'images':\n\t        return state.stories.reduce(function (accum, s) {\n\t          return accum.concat(s[type]);\n\t        }, []);\n\t\n\t      default:\n\t        return state.library[type];\n\t    }\n\t  }\n\t};\n\texports.default = helpers;\n\n/***/ }),\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar assignableProperties = exports.assignableProperties = ['building_units', 'thermal_zones', 'space_types', 'construction_sets', 'pitched_roofs'];\n\tvar componentTypes = exports.componentTypes = ['window_definitions', 'daylighting_control_definitions'];\n\t\n\tvar config = {\n\t  modes: {\n\t    stories: 'Story',\n\t    images: 'Image',\n\t    spaces: 'Space',\n\t    shading: 'Shading',\n\t    building_units: 'Building Unit',\n\t    thermal_zones: 'Thermal Zone',\n\t    space_types: 'Space Type',\n\t    pitched_roofs: 'Pitched Roof',\n\t    construction_sets: 'Construction Set',\n\t    window_definitions: 'Window Definitions',\n\t    daylighting_control_definitions: 'Daylighting Control Definitions'\n\t  },\n\t  componentTypes: componentTypes,\n\t  assignableProperties: assignableProperties,\n\t  palette: {\n\t    shading: '#E8E3E5',\n\t    neutral: '#bbc3c7',\n\t\n\t    colors: ['#a49', '#8ce', '#328', '#173', '#993', '#dc7', '#c67', '#825', '#4a9', '#69c', '#610', '#a46']\n\t  }\n\t};\n\t\n\texports.default = config;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\texports.displayNameForMode = displayNameForMode;\n\texports.componentInstanceById = componentInstanceById;\n\texports.spacePropertyById = spacePropertyById;\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _appconfig = __webpack_require__(20);\n\t\n\tvar _appconfig2 = _interopRequireDefault(_appconfig);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction displayNameForMode(mode) {\n\t  return _appconfig2.default.modes[mode];\n\t}\n\t\n\tvar helpers = {\n\t  displayNameForMode: displayNameForMode,\n\t  config: _appconfig2.default\n\t};\n\texports.default = helpers;\n\tfunction componentInstanceById(currStory, compInstId) {\n\t  var windew = _lodash2.default.find(currStory.windows, { id: compInstId });\n\t  if (windew) {\n\t    return (0, _extends3.default)({}, windew, { type: 'windows' });\n\t  }\n\t\n\t  var dc = _lodash2.default.find(_lodash2.default.flatMap(currStory.spaces, function (s) {\n\t    return s.daylighting_controls;\n\t  }), { id: compInstId });\n\t  if (dc) {\n\t    return (0, _extends3.default)({}, dc, { type: 'daylighting_controls' });\n\t  }\n\t\n\t  return null;\n\t}\n\t\n\tfunction spacePropertyById(library, spacePropId) {\n\t  var type = void 0,\n\t      prop = void 0;\n\t  _appconfig.assignableProperties.some(function (ap) {\n\t    if (prop = _lodash2.default.find(library[ap], { id: spacePropId })) {\n\t      type = ap;\n\t    }\n\t    return !!prop;\n\t  });\n\t\n\t  return prop ? (0, _extends3.default)({}, prop, { type: type }) : null;\n\t}\n\n/***/ }),\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.genName = genName;\n\tvar id = 1;\n\texports.default = {\n\t    setId: function setId(newVal) {\n\t        id = newVal;\n\t    },\n\t\n\t\n\t    generate: function () {\n\t        return function () {\n\t            return String(id++);\n\t        };\n\t    }()\n\t};\n\t\n\t\n\tvar nameCounts = {};\n\tfunction genName(prefix) {\n\t    var nextSuffix = (nameCounts[prefix] || 0) + 1;\n\t    nameCounts[prefix] = nextSuffix;\n\t    return prefix + \" - \" + nextSuffix;\n\t}\n\n/***/ }),\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _keys = __webpack_require__(14);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _factory = __webpack_require__(49);\n\t\n\tvar _factory2 = _interopRequireDefault(_factory);\n\t\n\tvar _validators = __webpack_require__(139);\n\t\n\tvar _validators2 = _interopRequireDefault(_validators);\n\t\n\tvar _converters = __webpack_require__(135);\n\t\n\tvar converters = _interopRequireWildcard(_converters);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar map = {\n\t  building_units: {\n\t    displayName: 'Building Unit',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color',\n\t      validator: _validators2.default.color\n\t    }],\n\t    init: _factory2.default.BuildingUnit\n\t  },\n\t  thermal_zones: {\n\t    displayName: 'Thermal Zone',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color',\n\t      validator: _validators2.default.color\n\t    }],\n\t    init: _factory2.default.ThermalZone\n\t  },\n\t  window_definitions: {\n\t    displayName: 'Window',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'window_definition_type',\n\t      displayName: 'Type',\n\t      input_type: 'select',\n\t      select_data: function select_data() {\n\t        var options = ['Single Window', 'Repeating Windows', 'Window to Wall Ratio'];\n\t        return _lodash2.default.zipObject(options, options);\n\t      },\n\t\n\t      validator: _validators2.default.oneOf('Single Window', 'Repeating Windows', 'Window to Wall Ratio')\n\t    }, {\n\t      name: 'wwr',\n\t      displayName: 'Window to Wall ratio',\n\t      input_type: 'text',\n\t      validator: _validators2.default.halfOpenInterval(0, 1),\n\t      converter: converters.number,\n\t      numeric: true,\n\t      enabled: function enabled(row) {\n\t        return row.window_definition_type === 'Window to Wall Ratio';\n\t      }\n\t    }, {\n\t      name: 'height',\n\t      displayName: 'Height',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true,\n\t      enabled: function enabled(row) {\n\t        return row.window_definition_type === 'Single Window' || row.window_definition_type === 'Repeating Windows';\n\t      }\n\t    }, {\n\t      name: 'width',\n\t      displayName: 'Width',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true,\n\t      enabled: function enabled(row) {\n\t        return row.window_definition_type === 'Single Window' || row.window_definition_type === 'Repeating Windows';\n\t      }\n\t    }, {\n\t      name: 'sill_height',\n\t      displayName: 'Sill Height',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'window_spacing',\n\t      displayName: 'Spacing',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true,\n\t      enabled: function enabled(row) {\n\t        return row.window_definition_type === 'Repeating Windows';\n\t      }\n\t    }, {\n\t      name: 'overhang_projection_factor',\n\t      displayName: 'Overhang Projection Factor',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0orNull,\n\t      converter: converters.gt0orNull,\n\t      numeric: true\n\t    }, {\n\t      name: 'fin_projection_factor',\n\t      displayName: 'Fin Projection Factor',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0orNull,\n\t      converter: converters.gt0orNull,\n\t      numeric: true\n\t    }, {\n\t      name: 'total_count',\n\t      displayName: 'Total Count',\n\t      readonly: true,\n\t      numeric: true,\n\t      get: function get(windowDefn, state) {\n\t        return _lodash2.default.chain(state.models.stories).flatMap('windows').filter({ window_definition_id: windowDefn.id }).value().length;\n\t      }\n\t    }],\n\t    init: _factory2.default.WindowDefn\n\t  },\n\t  space_types: {\n\t    displayName: 'Space Type',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color',\n\t      validator: _validators2.default.color\n\t    }],\n\t    init: _factory2.default.SpaceType\n\t  },\n\t  construction_sets: {\n\t    displayName: 'Construction Set',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color',\n\t      validator: _validators2.default.color\n\t    }],\n\t    init: _factory2.default.ConstructionSet\n\t  },\n\t  daylighting_control_definitions: {\n\t    displayName: 'Daylighting Control',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'height',\n\t      displayName: 'Height',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'illuminance_setpoint',\n\t      displayName: 'Illuminance Setpoint (lux)',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'total_count',\n\t      displayName: 'Total Count',\n\t      readonly: true,\n\t      numeric: true,\n\t      get: function get(dcDefn, state) {\n\t        return _lodash2.default.chain(state.models.stories).flatMap('spaces').flatMap('daylighting_controls').filter({ daylighting_control_definition_id: dcDefn.id }).value().length;\n\t      }\n\t    }],\n\t    init: _factory2.default.DaylightingControlDefn\n\t  },\n\t  stories: {\n\t    displayName: 'Story',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'handle',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'geometry_id',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'below_floor_plenum_height',\n\t      displayName: 'Below Floor Plenum Height',\n\t      input_type: 'text',\n\t      converter: converters.number,\n\t      numeric: true,\n\t      validator: _validators2.default.number\n\t    }, {\n\t      name: 'above_floor_plenum_height',\n\t      displayName: 'Above Floor Plenum Height',\n\t      input_type: 'text',\n\t      converter: converters.number,\n\t      numeric: true,\n\t      validator: _validators2.default.number\n\t    }, {\n\t      name: 'floor_to_ceiling_height',\n\t      displayName: 'Floor To Ceiling Height',\n\t      input_type: 'text',\n\t      converter: converters.number,\n\t      numeric: true,\n\t      validator: _validators2.default.gt0\n\t    }, {\n\t      name: 'multiplier',\n\t      displayName: 'Multiplier',\n\t      input_type: 'text',\n\t      converter: converters.number,\n\t      numeric: true,\n\t      validator: _validators2.default.gt0\n\t    }, {\n\t      name: 'spaces',\n\t      displayName: 'Spaces',\n\t      readonly: true,\n\t      numeric: true,\n\t      get: function get(story, state) {\n\t        return story.spaces.length;\n\t      }\n\t    }, {\n\t      name: 'shading',\n\t      displayName: 'Shading',\n\t      readonly: true,\n\t      numeric: true,\n\t      get: function get(story, state) {\n\t        return story.shading.length;\n\t      }\n\t    }, {\n\t      name: 'images',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color',\n\t      validator: _validators2.default.color\n\t    }]\n\t  },\n\t  spaces: {\n\t    displayName: 'Space',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'handle',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'face_id',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'daylighting_controls',\n\t      displayName: 'Daylighting Controls',\n\t      readonly: true,\n\t      private: true,\n\t      get: function get(space, state) {\n\t        return space.daylighting_controls.map(function (d) {\n\t          return d.name;\n\t        }).join(', ');\n\t      }\n\t    }, {\n\t      name: 'story',\n\t      displayName: 'Story',\n\t      readonly: true,\n\t      get: function get(space, state) {\n\t        var story = state.models.stories.find(function (story) {\n\t          return ~story.spaces.map(function (s) {\n\t            return s.id;\n\t          }).indexOf(space.id);\n\t        });\n\t        return story.name;\n\t      }\n\t    }, {\n\t      name: 'building_unit_id',\n\t      displayName: 'Building Unit',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        var options = { '(none)': null };\n\t        state.models.library.building_units.forEach(function (b) {\n\t          options[b.name] = b.id;\n\t        });\n\t        return options;\n\t      },\n\t      get: function get(space, state) {\n\t        var buildingUnit = state.models.library.building_units.find(function (b) {\n\t          return b.id === space.building_unit_id;\n\t        });\n\t        return buildingUnit ? buildingUnit.name : null;\n\t      }\n\t    }, {\n\t      name: 'thermal_zone_id',\n\t      displayName: 'Thermal Zone',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        var options = { '(none)': null };\n\t        state.models.library.thermal_zones.forEach(function (t) {\n\t          options[t.name] = t.id;\n\t        });\n\t        return options;\n\t      },\n\t      get: function get(space, state) {\n\t        var thermalZone = state.models.library.thermal_zones.find(function (b) {\n\t          return b.id === space.thermal_zone_id;\n\t        });\n\t        return thermalZone ? thermalZone.name : null;\n\t      }\n\t    }, {\n\t      name: 'space_type_id',\n\t      displayName: 'Space Type',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        var options = { '(none)': null };\n\t        state.models.library.space_types.forEach(function (s) {\n\t          options[s.name] = s.id;\n\t        });\n\t        return options;\n\t      },\n\t      get: function get(space, state) {\n\t        var spaceType = state.models.library.space_types.find(function (s) {\n\t          return s.id === space.space_type_id;\n\t        });\n\t        return spaceType ? spaceType.name : null;\n\t      }\n\t    }, {\n\t      name: 'construction_set_id',\n\t      displayName: 'Construction Set',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        var options = { '(none)': null };\n\t        state.models.library.construction_sets.forEach(function (c) {\n\t          options[c.name] = c.id;\n\t        });\n\t        return options;\n\t      },\n\t      get: function get(space, state) {\n\t        var constructionSet = state.models.library.construction_sets.find(function (c) {\n\t          return c.id === space.construction_set_id;\n\t        });\n\t        return constructionSet ? constructionSet.name : null;\n\t      }\n\t    }, {\n\t      name: 'pitched_roof_id',\n\t      displayName: 'Pitched Roof',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        return (0, _extends3.default)({\n\t          '(none)': null\n\t        }, _lodash2.default.fromPairs(state.models.library.pitched_roofs.map(function (prt) {\n\t          return [prt.name, prt.id];\n\t        })));\n\t      },\n\t      get: function get(space, state) {\n\t        var prt = _lodash2.default.find(state.models.library.pitched_roofs, { id: space.pitched_roof_id });\n\t        return prt ? prt.name : null;\n\t      }\n\t    }, {\n\t      name: 'below_floor_plenum_height',\n\t      displayName: 'Below Floor Plenum Height',\n\t      input_type: 'text',\n\t      numeric: true,\n\t      validator: _validators2.default.number,\n\t      converter: converters.number\n\t    }, {\n\t      name: 'floor_to_ceiling_height',\n\t      displayName: 'Floor to Ceiling Height',\n\t      input_type: 'text',\n\t      numeric: true,\n\t      validator: _validators2.default.number,\n\t      converter: converters.number\n\t    }, {\n\t      name: 'above_ceiling_plenum_height',\n\t      displayName: 'Above Ceiling Plenum Height',\n\t      input_type: 'text',\n\t      numeric: true,\n\t      validator: _validators2.default.number,\n\t      converter: converters.number\n\t    }, {\n\t      name: 'floor_offset',\n\t      displayName: 'Floor Offset',\n\t      input_type: 'text',\n\t      numeric: true,\n\t      validator: _validators2.default.number,\n\t      converter: converters.number\n\t    }, {\n\t      name: 'open_to_below',\n\t      displayName: 'Open To Below',\n\t      input_type: 'select',\n\t      select_data: function select_data() {\n\t        return { False: false, True: true };\n\t      },\n\t\n\t      converter: converters.bool\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color',\n\t      validator: _validators2.default.color\n\t    }]\n\t  },\n\t  shading: {\n\t    displayName: 'Shading',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'handle',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'face_id',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'color',\n\t      readonly: true,\n\t      private: true\n\t    }]\n\t  },\n\t  images: {\n\t    displayName: 'Image',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      readonly: true,\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text',\n\t      validator: _validators2.default.name\n\t    }, {\n\t      name: 'height',\n\t      displayName: 'Height',\n\t      input_type: 'text',\n\t      validator: _validators2.default.number\n\t    }, {\n\t      name: 'z',\n\t      displayName: 'z',\n\t      input_type: 'text',\n\t      validator: _validators2.default.number,\n\t      private: true\n\t    }, {\n\t      name: 'opacity',\n\t      displayName: 'opacity',\n\t      input_type: 'text',\n\t      validator: _validators2.default.closedInterval(0, 1)\n\t    }, {\n\t      name: 'x',\n\t      displayName: 'x',\n\t      input_type: 'text',\n\t      validator: _validators2.default.number\n\t    }, {\n\t      name: 'y',\n\t      displayName: 'y',\n\t      input_type: 'text',\n\t      validator: _validators2.default.number\n\t    }, {\n\t      name: 'src',\n\t      readonly: true,\n\t      private: true\n\t    }]\n\t  },\n\t  windows: {\n\t    displayName: 'Window',\n\t    columns: [{\n\t      name: 'id',\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text'\n\t    }, {\n\t      name: 'window_definition_id',\n\t      displayName: 'Definition',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        return _lodash2.default.fromPairs(state.models.library.window_definitions.map(function (b) {\n\t          return [b.name, b.id];\n\t        }));\n\t      }\n\t    }]\n\t  },\n\t  daylighting_controls: {\n\t    displayName: 'Daylighting Control',\n\t    columns: [{\n\t      name: 'id',\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text'\n\t    }, {\n\t      name: 'daylighting_control_definition_id',\n\t      displayName: 'Definition',\n\t      input_type: 'select',\n\t      select_data: function select_data(space, state) {\n\t        return _lodash2.default.fromPairs(state.models.library.daylighting_control_definitions.map(function (b) {\n\t          return [b.name, b.id];\n\t        }));\n\t      }\n\t    }]\n\t  },\n\t  pitched_roofs: {\n\t    displayName: 'Pitched Roof',\n\t    columns: [{\n\t      name: 'id',\n\t      displayName: 'ID',\n\t      private: true\n\t    }, {\n\t      name: 'name',\n\t      displayName: 'Name',\n\t      input_type: 'text'\n\t    }, {\n\t      name: 'pitched_roof_type',\n\t      displayName: 'Type',\n\t      input_type: 'select',\n\t      select_data: function select_data() {\n\t        var options = ['Gable', 'Hip', 'Shed'];\n\t        return _lodash2.default.zipObject(options, options);\n\t      },\n\t\n\t      validator: _validators2.default.oneOf('Gable', 'Hip', 'Shed')\n\t    }, {\n\t      name: 'pitch',\n\t      displayName: 'Pitch',\n\t      input_type: 'text',\n\t      validator: _validators2.default.gt0,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'shed_direction',\n\t      displayName: 'Shed Direction',\n\t      input_type: 'text',\n\t      validator: _validators2.default.number,\n\t      converter: converters.number,\n\t      numeric: true\n\t    }, {\n\t      name: 'color',\n\t      displayName: 'Color',\n\t      input_type: 'color'\n\t    }],\n\t    init: _factory2.default.PitchedRoof\n\t  }\n\t};\n\t\n\t(0, _keys2.default)(map).forEach(function (k) {\n\t  map[k].keymap = _lodash2.default.zipObject(_lodash2.default.map(map[k].columns, 'name'), map[k].columns);\n\t});\n\t\n\texports.default = map;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(8);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\texports.debounce = debounce;\n\texports.uniq = uniq;\n\texports.allPairs = allPairs;\n\texports.dropConsecutiveDups = dropConsecutiveDups;\n\texports.getSiblings = getSiblings;\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction debounce(func, wait) {\n\t  var timeout;\n\t\n\t  return function () {\n\t    var _this = this;\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    clearTimeout(timeout);\n\t\n\t    timeout = setTimeout(function () {\n\t      timeout = null;\n\t      func.apply(_this, args);\n\t    }, wait);\n\t  };\n\t};\n\t\n\tfunction uniq(arr) {\n\t  var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _stringify2.default;\n\t\n\t  var alreadySeen = {};\n\t  return arr.filter(function (elem) {\n\t    var theKey = key(elem);\n\t    if (alreadySeen[theKey]) {\n\t      return false;\n\t    } else {\n\t      alreadySeen[theKey] = true;\n\t      return true;\n\t    }\n\t  });\n\t}\n\t\n\tfunction allPairs(elems) {\n\t  return _lodash2.default.flatten(elems.map(function (p, ix) {\n\t    return elems.slice(ix + 1).map(function (p2) {\n\t      return [p, p2];\n\t    });\n\t  }));\n\t}\n\t\n\tfunction dropConsecutiveDups(arr) {\n\t  var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _stringify2.default;\n\t\n\t  return arr.filter(function (item, pos) {\n\t    return pos === 0 || key(item) !== key(arr[pos - 1]);\n\t  });\n\t}\n\t\n\tfunction getSiblings(el) {\n\t  var siblings = [];\n\t  for (var sibling = el.parentNode.firstChild; sibling; sibling = sibling.nextSibling) {\n\t    if (sibling.nodeType === 1 && sibling !== el) {\n\t      siblings.push(sibling);\n\t    }\n\t  }\n\t  return siblings;\n\t}\n\n/***/ }),\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */,\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(237)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(119),\n\t  /* template */\n\t  __webpack_require__(294),\n\t  /* scopeId */\n\t  \"data-v-8f6e6820\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _toConsumableArray2 = __webpack_require__(15);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\texports.gridSnapTargets = gridSnapTargets;\n\texports.snapTargets = snapTargets;\n\texports.expandWindowAlongEdge = expandWindowAlongEdge;\n\texports.findClosestEdge = findClosestEdge;\n\texports.findClosestWindow = findClosestWindow;\n\texports.snapWindowToEdge = snapWindowToEdge;\n\texports.snapToVertexWithinFace = snapToVertexWithinFace;\n\texports.windowLocation = windowLocation;\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction gridSnapTargets(gridSpacing, _ref) {\n\t  var x = _ref.x,\n\t      y = _ref.y;\n\t\n\t  return [{ x: Math.floor(x / gridSpacing) * gridSpacing, y: Math.floor(y / gridSpacing) * gridSpacing }, { x: (Math.floor(x / gridSpacing) + 1) * gridSpacing, y: Math.floor(y / gridSpacing) * gridSpacing }, { x: Math.floor(x / gridSpacing) * gridSpacing, y: (Math.floor(y / gridSpacing) + 1) * gridSpacing }, { x: (Math.floor(x / gridSpacing) + 1) * gridSpacing, y: (Math.floor(y / gridSpacing) + 1) * gridSpacing }].map(function (t) {\n\t    return (0, _extends3.default)({}, t, { type: 'grid' });\n\t  });\n\t}\n\t\n\tfunction vertexSnapTargets(vertices, gridSpacing, location) {\n\t  return vertices.filter(function (v) {\n\t    return (0, _helpers.distanceBetweenPoints)(location, v) <= gridSpacing;\n\t  }).map(function (v) {\n\t    return (0, _extends3.default)({}, v, { type: 'vertex' });\n\t  });\n\t}\n\t\n\tfunction snapTargets(vertices, gridSpacing, cursor) {\n\t  var targets = [].concat((0, _toConsumableArray3.default)(gridSnapTargets(gridSpacing, cursor)), (0, _toConsumableArray3.default)(vertexSnapTargets(vertices, gridSpacing, cursor))).map(function (target) {\n\t    return (0, _extends3.default)({}, target, {\n\t      dist: (0, _helpers.distanceBetweenPoints)(target, cursor),\n\t      dx: cursor.x - target.x,\n\t      dy: cursor.y - target.y\n\t    });\n\t  });\n\t\n\t  return _lodash2.default.orderBy(targets, ['dist', 'origin', 'type'], ['asc', 'asc', 'desc']);\n\t}\n\t\n\tfunction expandWindowAlongEdge(edge, center, _ref2) {\n\t  var width = _ref2.width,\n\t      spacing = _ref2.spacing,\n\t      window_definition_type = _ref2.window_definition_type;\n\t\n\t  if (window_definition_type === 'Window to Wall Ratio' || window_definition_type === 'Repeating Windows') {\n\t    return {\n\t      edge_id: edge.id,\n\t      center: {\n\t        x: (edge.v1.x + edge.v2.x) / 2,\n\t        y: (edge.v1.y + edge.v2.y) / 2\n\t      },\n\t      edge_start: edge.v1,\n\t      alpha: 0.5,\n\t      start: edge.v1,\n\t      end: edge.v2,\n\t      window_definition_type: window_definition_type,\n\t      width: width,\n\t      spacing: spacing\n\t    };\n\t  }\n\t  var theta = (0, _helpers.edgeDirection)({ start: edge.v1, end: edge.v2 }),\n\t      windowDeltaX = width * Math.cos(theta) / 2,\n\t      windowDeltaY = width * Math.sin(theta) / 2,\n\t      alpha = edge.v2.x === edge.v1.x ? (center.y - edge.v1.y) / (edge.v2.y - edge.v1.y) : (center.x - edge.v1.x) / (edge.v2.x - edge.v1.x);\n\t  return {\n\t    edge_id: edge.id,\n\t    center: center,\n\t    edge_start: edge.v1,\n\t    alpha: alpha,\n\t    start: {\n\t      x: center.x - windowDeltaX,\n\t      y: center.y - windowDeltaY\n\t    },\n\t    end: {\n\t      x: center.x + windowDeltaX,\n\t      y: center.y + windowDeltaY\n\t    },\n\t    window_definition_type: window_definition_type\n\t  };\n\t}\n\t\n\tfunction findClosestEdge(edges, cursor) {\n\t  var withDistance = edges.map(function (e) {\n\t    return (0, _extends3.default)({}, e, (0, _helpers.pointDistanceToSegment)(cursor, { start: e.v1, end: e.v2 }));\n\t  }),\n\t      closestEdge = _lodash2.default.minBy(withDistance, 'dist');\n\t  return closestEdge;\n\t}\n\t\n\tfunction findClosestWindow(windows, cursor) {\n\t  var withDistance = windows.map(function (w) {\n\t    var dist = w.window_definition_type === 'Single Window' ? { dist: (0, _helpers.distanceBetweenPoints)(cursor, w.center), proj: w.center } : (0, _helpers.pointDistanceToSegment)(cursor, w);\n\t\n\t    return (0, _extends3.default)({}, w, dist, {\n\t      v1: w.start,\n\t      v2: w.end\n\t    });\n\t  });\n\t  return _lodash2.default.minBy(withDistance, 'dist');\n\t}\n\t\n\tfunction snapWindowToEdgeAnywhere(edges, cursor, windowDefn, maxSnapDist) {\n\t  var closestEdge = findClosestEdge(edges, cursor);\n\t  if (!closestEdge || closestEdge.dist > maxSnapDist) {\n\t    return null;\n\t  }\n\t  return expandWindowAlongEdge(closestEdge, closestEdge.proj, windowDefn);\n\t}\n\t\n\tfunction snapWindowToEdgeAtGridIntervals(edges, cursor, windowDefn, maxSnapDist, gridSpacing) {\n\t  var closestEdge = findClosestEdge(edges, cursor);\n\t  if (!closestEdge || closestEdge.dist > maxSnapDist) {\n\t    return null;\n\t  }\n\t\n\t  var dist = (0, _helpers.distanceBetweenPoints)(closestEdge.v1, closestEdge.proj),\n\t      roundedDist = Math.round(dist / gridSpacing) * gridSpacing,\n\t      dx = closestEdge.v2.x - closestEdge.v1.x,\n\t      dy = closestEdge.v2.y - closestEdge.v1.y,\n\t      norm = Math.sqrt(dx * dx + dy * dy),\n\t      snapLoc = {\n\t    x: closestEdge.v1.x + roundedDist * (dx / norm),\n\t    y: closestEdge.v1.y + roundedDist * (dy / norm)\n\t  };\n\t\n\t  return expandWindowAlongEdge(closestEdge, snapLoc, windowDefn);\n\t}\n\t\n\tfunction snapWindowToEdge(snapMode) {\n\t  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t    args[_key - 1] = arguments[_key];\n\t  }\n\t\n\t  if (snapMode === 'grid-strict') {\n\t    return snapWindowToEdgeAtGridIntervals.apply(undefined, args);\n\t  }\n\t  return snapWindowToEdgeAnywhere.apply(undefined, args);\n\t}\n\t\n\tfunction snapToVertexWithinFace(snapMode, faces, cursor, gridSpacing) {\n\t  var existingVerts = snapMode === 'grid-strict' ? [] : [cursor];\n\t\n\t  return _lodash2.default.chain(snapTargets(existingVerts, gridSpacing, cursor)).map(function (g) {\n\t    return (0, _extends3.default)({}, g, {\n\t      face_id: _lodash2.default.find(faces, function (f) {\n\t        return (0, _helpers.vertInRing)(g, f.vertices);\n\t      })\n\t    });\n\t  }).filter('face_id').map(function (g) {\n\t    return (0, _extends3.default)({}, g, { face_id: g.face_id.id });\n\t  }).first().value();\n\t}\n\t\n\tfunction windowLocation(edge, windw) {\n\t  var alpha = windw.alpha || 0.5;\n\t  return {\n\t    x: edge.v1.x + alpha * (edge.v2.x - edge.v1.x),\n\t    y: edge.v1.y + alpha * (edge.v2.y - edge.v1.y)\n\t  };\n\t}\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.ResizeEvents = undefined;\n\t\n\tvar _ResizeEvents = __webpack_require__(70);\n\t\n\tvar _ResizeEvents2 = _interopRequireDefault(_ResizeEvents);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.ResizeEvents = _ResizeEvents2.default;\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _generateId = __webpack_require__(27);\n\t\n\tvar _generateId2 = _interopRequireDefault(_generateId);\n\t\n\tvar _helpers = __webpack_require__(4);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    Vertex: function Vertex(x, y) {\n\t        return {\n\t            id: _generateId2.default.generate(),\n\t            x: x,\n\t            y: y\n\t        };\n\t    },\n\t    Edge: function Edge(v1, v2) {\n\t        return {\n\t            id: _generateId2.default.generate(),\n\t            v1: v1,\n\t            v2: v2\n\t        };\n\t    },\n\t    Face: function Face(edgeRefs) {\n\t        return {\n\t            id: _generateId2.default.generate(),\n\t            edgeRefs: edgeRefs\n\t        };\n\t    },\n\t    Geometry: function Geometry() {\n\t        return {\n\t            id: _generateId2.default.generate(),\n\t            vertices: [],\n\t            edges: [],\n\t            faces: []\n\t        };\n\t    }\n\t};\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _generateId = __webpack_require__(27);\n\t\n\tvar _generateId2 = _interopRequireDefault(_generateId);\n\t\n\tvar _generateColor = __webpack_require__(146);\n\t\n\tvar _generateColor2 = _interopRequireDefault(_generateColor);\n\t\n\tvar _appconfig = __webpack_require__(20);\n\t\n\tvar _appconfig2 = _interopRequireDefault(_appconfig);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  Story: function Story(name) {\n\t    return {\n\t      id: _generateId2.default.generate(),\n\t      name: name,\n\t      color: (0, _generateColor2.default)('story'),\n\t      handle: null,\n\t      geometry_id: null,\n\t      below_floor_plenum_height: 0,\n\t      floor_to_ceiling_height: 8,\n\t      above_floor_plenum_height: 0,\n\t      above_ceiling_plenum_height: 0,\n\t      multiplier: 1,\n\t      spaces: [],\n\t      daylighting_controls: [],\n\t      windows: [],\n\t      shading: [],\n\t      images: [],\n\t      image_visible: true\n\t    };\n\t  },\n\t  Space: function Space(name) {\n\t    return {\n\t      id: _generateId2.default.generate(),\n\t      name: name,\n\t      color: (0, _generateColor2.default)('space'),\n\t      handle: null,\n\t      face_id: null,\n\t      daylighting_controls: [],\n\t      building_unit_id: null,\n\t      thermal_zone_id: null,\n\t      space_type_id: null,\n\t      construction_set_id: null,\n\t      pitched_roof_id: null,\n\t      below_floor_plenum_height: null,\n\t      floor_to_ceiling_height: null,\n\t      above_ceiling_plenum_height: null,\n\t      floor_offset: null,\n\t      open_to_below: false,\n\t      type: 'space'\n\t    };\n\t  },\n\t  Shading: function Shading(name) {\n\t    return {\n\t      id: _generateId2.default.generate(),\n\t      name: name,\n\t      color: _appconfig2.default.palette.shading,\n\t      handle: null,\n\t      face_id: null\n\t    };\n\t  },\n\t  Image: function Image(name, src) {\n\t    return {\n\t      id: _generateId2.default.generate(),\n\t      src: src,\n\t      name: name,\n\t      visible: true,\n\t      height: 0,\n\t      width: 0,\n\t      x: 0,\n\t      y: 0,\n\t      z: 0,\n\t      r: 0,\n\t      opacity: 0.6\n\t    };\n\t  },\n\t  BuildingUnit: function BuildingUnit() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return {\n\t      id: _generateId2.default.generate(),\n\t      color: (0, _generateColor2.default)('building_unit'),\n\t      name: opts.name,\n\t      handle: opts.handle || null\n\t    };\n\t  },\n\t  ThermalZone: function ThermalZone() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return {\n\t      id: _generateId2.default.generate(),\n\t      color: (0, _generateColor2.default)('thermal_zone'),\n\t      name: opts.name,\n\t      handle: opts.handle || null\n\t    };\n\t  },\n\t  SpaceType: function SpaceType() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return {\n\t      id: _generateId2.default.generate(),\n\t      color: (0, _generateColor2.default)('space_type'),\n\t      name: opts.name,\n\t      handle: opts.handle || null\n\t    };\n\t  },\n\t  ConstructionSet: function ConstructionSet() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return {\n\t      id: _generateId2.default.generate(),\n\t      name: opts.name,\n\t      color: (0, _generateColor2.default)('construction_set'),\n\t      handle: opts.handle || null\n\t    };\n\t  },\n\t  WindowDefn: function WindowDefn() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return {\n\t      id: _generateId2.default.generate(),\n\t      name: opts.name,\n\t      height: opts.height || 4,\n\t      width: opts.width || 2,\n\t      sill_height: opts.sill_height || 3,\n\t      window_definition_type: 'Single Window',\n\t      wwr: null,\n\t      window_spacing: null,\n\t      overhang_projection_factor: null,\n\t      fin_projection_factor: null\n\t    };\n\t  },\n\t  DaylightingControlDefn: function DaylightingControlDefn() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return {\n\t      id: _generateId2.default.generate(),\n\t      name: opts.name,\n\t      height: opts.height || 3,\n\t      illuminance_setpoint: opts.illuminance_setpoint || 300\n\t    };\n\t  },\n\t  PitchedRoof: function PitchedRoof() {\n\t    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    return {\n\t      id: _generateId2.default.generate(),\n\t      name: opts.name,\n\t      pitched_roof_type: opts.type || 'Gable',\n\t      pitch: opts.pitch || 6,\n\t      shed_direction: opts.shed_direction || 0,\n\t      color: (0, _generateColor2.default)('pitched_roof')\n\t    };\n\t  }\n\t};\n\n/***/ }),\n/* 50 */,\n/* 51 */,\n/* 52 */,\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */,\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */,\n/* 66 */,\n/* 67 */,\n/* 68 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"10\",\"cy\":\"10\",\"fill\":\"#bf0049\",\"r\":\"5.6\"}}),_c('path',{attrs:{\"d\":\"M10.8 9.9L12.7 8c.2-.2.2-.6 0-.8-.2-.2-.6-.2-.8 0L10 9 8.1 7.1c-.2-.2-.6-.2-.8 0s-.3.7-.1.9l1.9 1.9-1.9 1.9c-.2.2-.2.6 0 .8.1.1.3.2.4.2s.3-.1.4-.2l1.9-1.9 1.9 1.9c.1.1.3.2.4.2s.3-.1.4-.2c.2-.2.2-.6 0-.8l-1.8-1.9z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 69 */,\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(69);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = new _vue2.default();\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _open_floorplan = __webpack_require__(315);\n\t\n\tvar _open_floorplan2 = _interopRequireDefault(_open_floorplan);\n\t\n\tvar _save_floorplan = __webpack_require__(321);\n\t\n\tvar _save_floorplan2 = _interopRequireDefault(_save_floorplan);\n\t\n\tvar _import_library = __webpack_require__(313);\n\t\n\tvar _import_library2 = _interopRequireDefault(_import_library);\n\t\n\tvar _undo = __webpack_require__(332);\n\t\n\tvar _undo2 = _interopRequireDefault(_undo);\n\t\n\tvar _redo = __webpack_require__(320);\n\t\n\tvar _redo2 = _interopRequireDefault(_redo);\n\t\n\tvar _tab_floorplan = __webpack_require__(325);\n\t\n\tvar _tab_floorplan2 = _interopRequireDefault(_tab_floorplan);\n\t\n\tvar _tab_shading = __webpack_require__(326);\n\t\n\tvar _tab_shading2 = _interopRequireDefault(_tab_shading);\n\t\n\tvar _tab_assign = __webpack_require__(323);\n\t\n\tvar _tab_assign2 = _interopRequireDefault(_tab_assign);\n\t\n\tvar _tab_components = __webpack_require__(324);\n\t\n\tvar _tab_components2 = _interopRequireDefault(_tab_components);\n\t\n\tvar _tool_draw_rectangle = __webpack_require__(329);\n\t\n\tvar _tool_draw_rectangle2 = _interopRequireDefault(_tool_draw_rectangle);\n\t\n\tvar _tool_draw_polygon = __webpack_require__(328);\n\t\n\tvar _tool_draw_polygon2 = _interopRequireDefault(_tool_draw_polygon);\n\t\n\tvar _tool_erase = __webpack_require__(330);\n\t\n\tvar _tool_erase2 = _interopRequireDefault(_tool_erase);\n\t\n\tvar _tool_move_size = __webpack_require__(331);\n\t\n\tvar _tool_move_size2 = _interopRequireDefault(_tool_move_size);\n\t\n\tvar _tool_color = __webpack_require__(327);\n\t\n\tvar _tool_color2 = _interopRequireDefault(_tool_color);\n\t\n\tvar _image_icon = __webpack_require__(312);\n\t\n\tvar _image_icon2 = _interopRequireDefault(_image_icon);\n\t\n\tvar _fill_icon = __webpack_require__(310);\n\t\n\tvar _fill_icon2 = _interopRequireDefault(_fill_icon);\n\t\n\tvar _lego_brick_icon = __webpack_require__(314);\n\t\n\tvar _lego_brick_icon2 = _interopRequireDefault(_lego_brick_icon);\n\t\n\tvar _zoom_to_fit = __webpack_require__(335);\n\t\n\tvar _zoom_to_fit2 = _interopRequireDefault(_zoom_to_fit);\n\t\n\tvar _zoom_in = __webpack_require__(333);\n\t\n\tvar _zoom_in2 = _interopRequireDefault(_zoom_in);\n\t\n\tvar _zoom_out = __webpack_require__(334);\n\t\n\tvar _zoom_out2 = _interopRequireDefault(_zoom_out);\n\t\n\tvar _pan = __webpack_require__(316);\n\t\n\tvar _pan2 = _interopRequireDefault(_pan);\n\t\n\tvar _add_image = __webpack_require__(300);\n\t\n\tvar _add_image2 = _interopRequireDefault(_add_image);\n\t\n\tvar _ground_props_icon = __webpack_require__(311);\n\t\n\tvar _ground_props_icon2 = _interopRequireDefault(_ground_props_icon);\n\t\n\tvar _components_window = __webpack_require__(308);\n\t\n\tvar _components_window2 = _interopRequireDefault(_components_window);\n\t\n\tvar _components_daylighting = __webpack_require__(307);\n\t\n\tvar _components_daylighting2 = _interopRequireDefault(_components_daylighting);\n\t\n\tvar _assign_bldgmodule = __webpack_require__(303);\n\t\n\tvar _assign_bldgmodule2 = _interopRequireDefault(_assign_bldgmodule);\n\t\n\tvar _assign_constructions = __webpack_require__(304);\n\t\n\tvar _assign_constructions2 = _interopRequireDefault(_assign_constructions);\n\t\n\tvar _assign_activity = __webpack_require__(302);\n\t\n\tvar _assign_activity2 = _interopRequireDefault(_assign_activity);\n\t\n\tvar _assign_thermalzone = __webpack_require__(306);\n\t\n\tvar _assign_thermalzone2 = _interopRequireDefault(_assign_thermalzone);\n\t\n\tvar _assign_roof = __webpack_require__(305);\n\t\n\tvar _assign_roof2 = _interopRequireDefault(_assign_roof);\n\t\n\tvar _quickstart_icon_new_map_floorplan = __webpack_require__(317);\n\t\n\tvar _quickstart_icon_new_map_floorplan2 = _interopRequireDefault(_quickstart_icon_new_map_floorplan);\n\t\n\tvar _quickstart_icon_newfloorplan = __webpack_require__(318);\n\t\n\tvar _quickstart_icon_newfloorplan2 = _interopRequireDefault(_quickstart_icon_newfloorplan);\n\t\n\tvar _quickstart_icon_openfloorplan = __webpack_require__(319);\n\t\n\tvar _quickstart_icon_openfloorplan2 = _interopRequireDefault(_quickstart_icon_openfloorplan);\n\t\n\tvar _info_icon = __webpack_require__(97);\n\t\n\tvar _info_icon2 = _interopRequireDefault(_info_icon);\n\t\n\tvar _settings_gear = __webpack_require__(322);\n\t\n\tvar _settings_gear2 = _interopRequireDefault(_settings_gear);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ComponentIcon = {\n\t  name: 'ComponentIcon',\n\t  props: ['which'],\n\t  template: '\\n    <ComponentsWindow v-if=\"which === \\'window_definitions\\'\" class=\"button\" />\\n    <ComponentsDaylighting v-else-if=\"which === \\'daylighting_control_definitions\\'\" class=\"button\" />\\n  ',\n\t  components: {\n\t    ComponentsWindow: _components_window2.default,\n\t    ComponentsDaylighting: _components_daylighting2.default\n\t  }\n\t};\n\t\n\tvar AssignSpacePropIcon = {\n\t  name: 'AssignSpacePropIcon',\n\t  props: ['which'],\n\t  template: '\\n    <AssignBldgModule v-if=\"which === \\'building_units\\'\" class=\"button\" />\\n    <AssignThermalZone v-else-if=\"which === \\'thermal_zones\\'\" class=\"button\" />\\n    <AssignActivity v-else-if=\"which === \\'space_types\\'\" class=\"button\" />\\n    <AssignRoof v-else-if=\"which === \\'pitched_roofs\\'\" class=\"button\" />\\n  ',\n\t  components: {\n\t    AssignBldgModule: _assign_bldgmodule2.default,\n\t    AssignThermalZone: _assign_thermalzone2.default,\n\t    AssignActivity: _assign_activity2.default,\n\t    AssignRoof: _assign_roof2.default\n\t  }\n\t};\n\t\n\texports.default = {\n\t  'open-floorplan-svg': _open_floorplan2.default,\n\t  'save-floorplan-svg': _save_floorplan2.default,\n\t  'import-library-svg': _import_library2.default,\n\t  'undo-svg': _undo2.default,\n\t  'redo-svg': _redo2.default,\n\t  'tab-floorplan-svg': _tab_floorplan2.default,\n\t  'tab-shading-svg': _tab_shading2.default,\n\t  'tab-assign-svg': _tab_assign2.default,\n\t  'tab-components-svg': _tab_components2.default,\n\t\n\t  'tool-color-svg': _tool_color2.default,\n\t  'tool-draw-rectangle-svg': _tool_draw_rectangle2.default,\n\t  'tool-draw-polygon-svg': _tool_draw_polygon2.default,\n\t  'tool-erase-svg': _tool_erase2.default,\n\t  'tool-move-size-svg': _tool_move_size2.default,\n\t  'tool-image-svg': _image_icon2.default,\n\t  'tool-fill-svg': _fill_icon2.default,\n\t  'tool-component-svg': _lego_brick_icon2.default,\n\t\n\t  'zoom-in-svg': _zoom_in2.default,\n\t  'zoom-out-svg': _zoom_out2.default,\n\t  'pan-svg': _pan2.default,\n\t  'add-image': _add_image2.default,\n\t  ZoomToFitSvg: _zoom_to_fit2.default,\n\t\n\t  ComponentIcon: ComponentIcon,\n\t  AssignSpacePropIcon: AssignSpacePropIcon,\n\t\n\t  QuickstartIconNewMapFloorplan: _quickstart_icon_new_map_floorplan2.default,\n\t  QuickstartIconNewFloorplan: _quickstart_icon_newfloorplan2.default,\n\t  QuickstartIconOpenFloorplan: _quickstart_icon_openfloorplan2.default,\n\t\n\t  InfoIcon: _info_icon2.default,\n\t  SettingsGear: _settings_gear2.default,\n\t  GroundPropertiesIcon: _ground_props_icon2.default\n\t};\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _keys = __webpack_require__(14);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\texports.withPreservedComponents = withPreservedComponents;\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(4);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _snapping = __webpack_require__(46);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction facesContainingEdge(faces, edge_id) {\n\t  return _lodash2.default.filter(faces, function (f) {\n\t    return _lodash2.default.chain(f.edges).map('id').includes(edge_id).value();\n\t  });\n\t}\n\t\n\tfunction componentsOnStory(state, geometry_id) {\n\t  var geom = _helpers2.default.denormalize(_lodash2.default.find(state.geometry, { id: geometry_id })),\n\t      story = _lodash2.default.find(state.models.stories, { geometry_id: geometry_id });\n\t\n\t  var perFaceComponents = story.spaces.map(function (space) {\n\t    return {\n\t      daylighting_controls: space.daylighting_controls.map(function (d) {\n\t        return (0, _extends3.default)({}, d, { vertex: _lodash2.default.find(geom.vertices, { id: d.vertex_id }) });\n\t      }),\n\t      space_id: space.id,\n\t      face_id: space.face_id\n\t    };\n\t  });\n\t  return {\n\t    geometry_id: geometry_id,\n\t    story_id: story.id,\n\t    windows: story.windows.map(function (w) {\n\t      var edge = _lodash2.default.find(geom.edges, { id: w.edge_id }),\n\t          faces = facesContainingEdge(geom.faces, w.edge_id);\n\t      return (0, _extends3.default)({}, w, {\n\t        originalLoc: (0, _snapping.windowLocation)(edge, w),\n\t        originalFaceIds: _lodash2.default.map(faces, 'id')\n\t      });\n\t    }),\n\t    perFaceComponents: perFaceComponents\n\t  };\n\t}\n\t\n\tfunction replaceComponents(context, components) {\n\t  var movementsByFaceId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\n\t  var geometry_id = components.geometry_id,\n\t      story_id = components.story_id,\n\t      windows = components.windows,\n\t      perFaceComponents = components.perFaceComponents,\n\t      geometry = _helpers2.default.denormalize(_lodash2.default.find(context.rootState.geometry, { id: geometry_id })),\n\t      story = _lodash2.default.find(context.rootState.models.stories, { id: story_id }),\n\t      spaceFaces = geometry.faces.filter(function (f) {\n\t    return _lodash2.default.find(story.spaces, { face_id: f.id });\n\t  }),\n\t      spacing = context.rootState.project.grid.spacing;\n\t\n\t  context.dispatch('models/destroyAllComponents', { story_id: story_id }, { root: true });\n\t\n\t  var edgesPresentOnFaces = _lodash2.default.flatMap(spaceFaces, 'edges');\n\t  windows.forEach(function (w) {\n\t    var _ref = movementsByFaceId[w.originalFaceIds[0]] || { dx: 0, dy: 0 },\n\t        dx = _ref.dx,\n\t        dy = _ref.dy,\n\t        newLoc = { x: w.originalLoc.x + dx, y: w.originalLoc.y + dy },\n\t        loc = (0, _snapping.snapWindowToEdge)('nonstrict', edgesPresentOnFaces, newLoc, { width: 1 }, spacing / 4);\n\t\n\t    if (!loc) {\n\t      return;\n\t    }\n\t\n\t    var facesWithEdge = _lodash2.default.map(facesContainingEdge(spaceFaces, loc.edge_id), 'id');\n\t    if (w.originalFaceIds.length !== facesWithEdge.length || w.originalFaceIds.length > 1 && _lodash2.default.intersection((0, _keys2.default)(movementsByFaceId), w.originalFaceIds)) {\n\t      return;\n\t    }\n\t\n\t    context.dispatch('models/createWindow', {\n\t      story_id: story_id,\n\t      edge_id: loc.edge_id,\n\t      alpha: loc.alpha,\n\t      window_definition_id: w.window_definition_id\n\t    }, { root: true });\n\t  });\n\t\n\t  perFaceComponents.forEach(function (_ref2) {\n\t    var face_id = _ref2.face_id,\n\t        daylighting_controls = _ref2.daylighting_controls;\n\t\n\t    daylighting_controls.forEach(function (d) {\n\t      var _ref3 = movementsByFaceId[face_id] || { dx: 0, dy: 0 },\n\t          dx = _ref3.dx,\n\t          dy = _ref3.dy,\n\t          newLoc = { x: d.vertex.x + dx, y: d.vertex.y + dy },\n\t          loc = (0, _snapping.snapToVertexWithinFace)('nonstrict', spaceFaces, newLoc, spacing / 4);\n\t\n\t      if (!loc) {\n\t        return;\n\t      }\n\t\n\t      context.dispatch('models/createDaylightingControl', {\n\t        daylighting_control_definition_id: d.daylighting_control_definition_id,\n\t        x: loc.x,\n\t        y: loc.y,\n\t        story_id: story_id,\n\t        face_id: loc.face_id\n\t      }, { root: true });\n\t    });\n\t  });\n\t}\n\t\n\tfunction withPreservedComponents() {\n\t  var context = void 0,\n\t      geometry_id = void 0,\n\t      action = void 0,\n\t      movementsByFaceId = void 0;\n\t\n\t  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t    args[_key] = arguments[_key];\n\t  }\n\t\n\t  if (args.length === 3) {\n\t    context = args[0];\n\t    geometry_id = args[1];\n\t    action = args[2];\n\t\n\t    movementsByFaceId = {};\n\t  } else if (args.length === 4) {\n\t    context = args[0];\n\t    geometry_id = args[1];\n\t    movementsByFaceId = args[2];\n\t    action = args[3];\n\t  } else {\n\t    throw new Error('usage: withPreservedComponents(context, geometry_id, action [,movementsByFaceId])');\n\t  }\n\t\n\t  var components = componentsOnStory(context.rootState, geometry_id);\n\t  action();\n\t  replaceComponents(context, components, movementsByFaceId);\n\t}\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(140);\n\t\n\tvar _actions2 = _interopRequireDefault(_actions);\n\t\n\tvar _mutations = __webpack_require__(142);\n\t\n\tvar _mutations2 = _interopRequireDefault(_mutations);\n\t\n\tvar _getters = __webpack_require__(141);\n\t\n\tvar _getters2 = _interopRequireDefault(_getters);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  namespaced: true,\n\t  state: {\n\t    config: {\n\t      units: 'ft',\n\t      unitsEditable: true,\n\t      language: 'EN-US'\n\t    },\n\t    north_axis: 0,\n\t    ground: {\n\t      floor_offset: 0,\n\t      azimuth_angle: 0,\n\t      tilt_slope: 0\n\t    },\n\t    grid: {\n\t      visible: true,\n\t      spacing: 5\n\t    },\n\t    view: {\n\t      min_x: -250,\n\t      min_y: -150,\n\t      max_x: 250,\n\t      max_y: 150\n\t    },\n\t    map: {\n\t      initialized: false,\n\t      enabled: true,\n\t      visible: true,\n\t      latitude: 39.7653,\n\t      longitude: -104.9863,\n\t      zoom: 4.5,\n\t      rotation: 0,\n\t      elevation: 0\n\t    },\n\t    previous_story: {\n\t      visible: true\n\t    },\n\t    show_import_export: true\n\t  },\n\t  actions: _actions2.default,\n\t  mutations: _mutations2.default,\n\t  getters: _getters2.default\n\t};\n\n/***/ }),\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(224)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(106),\n\t  /* template */\n\t  __webpack_require__(277),\n\t  /* scopeId */\n\t  \"data-v-14ece691\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(233)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(112),\n\t  /* template */\n\t  __webpack_require__(289),\n\t  /* scopeId */\n\t  \"data-v-6bbb2c29\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(225)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(114),\n\t  /* template */\n\t  __webpack_require__(278),\n\t  /* scopeId */\n\t  \"data-v-20be75f3\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"data-name\":\"Layer 1\",\"viewBox\":\"0 0 100 100\"}},[_c('title',[_v(\"Artboard 10\")]),_c('path',{attrs:{\"d\":\"M50 18a32 32 0 1 0 32 32 32 32 0 0 0-32-32zm4 49h-8V47h8zm0-26h-8v-8h8z\"}})])}}};\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _Navigation = __webpack_require__(272);\n\t\n\tvar _Navigation2 = _interopRequireDefault(_Navigation);\n\t\n\tvar _Grid = __webpack_require__(264);\n\t\n\tvar _Grid2 = _interopRequireDefault(_Grid);\n\t\n\tvar _Canvas = __webpack_require__(257);\n\t\n\tvar _Canvas2 = _interopRequireDefault(_Canvas);\n\t\n\tvar _Toolbar = __webpack_require__(275);\n\t\n\tvar _Toolbar2 = _interopRequireDefault(_Toolbar);\n\t\n\tvar _ImageUpload = __webpack_require__(265);\n\t\n\tvar _ImageUpload2 = _interopRequireDefault(_ImageUpload);\n\t\n\tvar _Inspector = __webpack_require__(267);\n\t\n\tvar _Inspector2 = _interopRequireDefault(_Inspector);\n\t\n\tvar _Resize = __webpack_require__(47);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'app',\n\t  data: function data() {\n\t    return {\n\t      error: null,\n\t      success: null,\n\t      navigationExpanded: false\n\t    };\n\t  },\n\t  beforeCreate: function beforeCreate() {\n\t    this.$store.dispatch('models/initStory');\n\t  },\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t\n\t    window.eventBus.$on('error', function (err) {\n\t      _this.error = err;\n\t      setTimeout(function () {\n\t        _this.error = null;\n\t      }, 5000);\n\t    });\n\t    window.eventBus.$on('success', function (msg) {\n\t      _this.success = msg;\n\t      setTimeout(function () {\n\t        _this.success = null;\n\t      }, 5000);\n\t    });\n\t    window.eventBus.$on('reload-grid', function () {\n\t      document.getElementById('svg-grid').dispatchEvent(new Event('reloadGrid'));\n\t    });\n\t\n\t    document.addEventListener('keydown', function (e) {\n\t      if (!_this.$store.timetravel) {\n\t        return;\n\t      }\n\t      if (e.keyCode === 90 && (e.ctrlKey || e.metaKey)) {\n\t        e.shiftKey ? _this.$store.timetravel.redo() : _this.$store.timetravel.undo();\n\t        e.preventDefault();\n\t      } else if (e.keyCode == 89 && (e.ctrlKey || e.metaKey)) {\n\t        _this.$store.timetravel.redo();\n\t        e.preventDefault();\n\t      }\n\t    });\n\t  },\n\t\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({ tool: function tool(state) {\n\t      return state.application.currentSelections.tool;\n\t    } })),\n\t  components: {\n\t    'grid-view': _Grid2.default,\n\t    'canvas-view': _Canvas2.default,\n\t    'inspector-view': _Inspector2.default,\n\t    navigation: _Navigation2.default,\n\t    toolbar: _Toolbar2.default,\n\t    ImageUpload: _ImageUpload2.default\n\t  }\n\t};\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _Map = __webpack_require__(258);\n\t\n\tvar _Map2 = _interopRequireDefault(_Map);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    name: 'app',\n\t    data: function data() {\n\t        return {};\n\t    },\n\t\n\t    computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t        mapEnabled: function mapEnabled(state) {\n\t            return state.project.map.enabled;\n\t        },\n\t        mapVisible: function mapVisible(state) {\n\t            return state.project.map.visible;\n\t        },\n\t        northAxis: function northAxis(state) {\n\t            return state.project.north_axis;\n\t        }\n\t    })),\n\t    components: {\n\t        'map-view': _Map2.default\n\t    }\n\t};\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _Resize = __webpack_require__(47);\n\t\n\tvar _MapModal = __webpack_require__(269);\n\t\n\tvar _MapModal2 = _interopRequireDefault(_MapModal);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar googleMaps = __webpack_require__(243)('AIzaSyDIja3lnhq63SxukBm9_mA-jn5R0Bj9RN8', ['places']);\n\tvar ol = __webpack_require__(246);\n\tvar d3 = __webpack_require__(26);\n\t\n\texports.default = {\n\t  name: 'map',\n\t  data: function data() {\n\t    return {\n\t      view: null,\n\t      map: null,\n\t      startResolution: null,\n\t      autocomplete: null,\n\t      mapModalVisible: window.api ? window.api.config.showMapDialogOnStart : true,\n\t      showGrid: false\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    this.showGrid = this.gridVisible;\n\t\n\t    this.initAutoComplete();\n\t    this.loadMap();\n\t    _Resize.ResizeEvents.$on('resize', this.updateMapView);\n\t    window.eventBus.$on('boundsResolved', this.clearStartResolution);\n\t  },\n\t  beforeDestroy: function beforeDestroy() {\n\t    _Resize.ResizeEvents.$off('resize', this.updateMapView);\n\t    window.eventBus.$off('boundsResolved', this.clearStartResolution);\n\t  },\n\t\n\t\n\t  methods: {\n\t    clearStartResolution: function clearStartResolution() {\n\t      this.startResolution = null;\n\t      this.updateMapView();\n\t    },\n\t    initAutoComplete: function initAutoComplete() {\n\t      var _this = this;\n\t\n\t      googleMaps().then(function (maps) {\n\t        var autocomplete = new maps.places.Autocomplete(_this.$refs.addressSearch);\n\t\n\t        autocomplete.addListener('place_changed', function () {\n\t          var place = autocomplete.getPlace();\n\t          if (place.geometry) {\n\t            _this.latitude = place.geometry.location.lat();\n\t            _this.longitude = place.geometry.location.lng();\n\t          }\n\t        });\n\t      });\n\t    },\n\t    loadMap: function loadMap() {\n\t      var _this2 = this;\n\t\n\t      window.ol = ol;\n\t      this.$refs.map.innerHTML = '';\n\t      this.view = new ol.View();\n\t      this.map = new ol.Map({\n\t        layers: [new ol.layer.Tile({ source: new ol.source.OSM() })],\n\t        target: 'map',\n\t        view: this.view\n\t      });\n\t      this.view.on('propertychange', function (e) {\n\t        if (e.key === 'rotation') {\n\t          _this2.rotation = _this2.view.getRotation();\n\t        }\n\t      });\n\t\n\t      this.updateMapView();\n\t    },\n\t    updateMapView: function updateMapView() {\n\t      console.log('updateMapView');\n\t      this.map.updateSize();\n\t\n\t      var gridCenterX = (this.min_x + this.max_x) / 2;\n\t      var gridCenterY = (this.min_y + this.max_y) / 2;\n\t\n\t      var resolution = (this.max_x - this.min_x) / this.$refs.map.clientWidth;\n\t\n\t      if (this.units === 'ft') {\n\t        var mPerFt = ol.proj.METERS_PER_UNIT['us-ft'];\n\t        resolution *= mPerFt;\n\t        gridCenterX *= mPerFt;\n\t        gridCenterY *= mPerFt;\n\t      }\n\t\n\t      var mapCenter = ol.proj.fromLonLat([this.longitude, this.latitude]);\n\t\n\t      var deltaY = gridCenterX * Math.cos(this.rotation) - gridCenterY * Math.sin(this.rotation);\n\t      var deltaX = gridCenterY * Math.cos(this.rotation) + gridCenterX * Math.sin(this.rotation);\n\t\n\t      if (this.view.getCenter()) {\n\t        this.startResolution = this.startResolution || ol.proj.getPointResolution(this.view.getProjection(), this.view.getResolution(), this.view.getCenter());\n\t        console.log(\"start resolution\", this.startResolution);\n\t        var resolutionAdjustment = 1 / ol.proj.getPointResolution(this.view.getProjection(), 1, this.view.getCenter());\n\t\n\t        resolution *= resolutionAdjustment;\n\t        deltaY *= resolutionAdjustment;\n\t        deltaX *= resolutionAdjustment;\n\t      }\n\t\n\t      mapCenter[0] += deltaY;\n\t      mapCenter[1] += deltaX;\n\t\n\t      console.log('setting view resolution', resolution);\n\t      this.view.setResolution(resolution);\n\t      this.view.setCenter(mapCenter);\n\t      this.view.setRotation(this.rotation);\n\t    },\n\t    finishSetup: function finishSetup() {\n\t      var center = ol.proj.transform(this.view.getCenter(), 'EPSG:3857', 'EPSG:4326');\n\t      this.longitude = center[0];\n\t      this.latitude = center[1];\n\t\n\t      var resolution = ol.proj.getPointResolution(this.view.getProjection(), this.view.getResolution(), this.view.getCenter());\n\t      var scale = this.startResolution / resolution;\n\t      window.eventBus.$emit('scaleTo', scale);\n\t\n\t      this.rotation = this.view.getRotation();\n\t\n\t      this.$store.dispatch('project/setMapInitialized', { initialized: true });\n\t\n\t      this.tool = 'Rectangle';\n\t\n\t      d3.select('#reticle').remove();\n\t\n\t      this.gridVisible = this.showGrid;\n\t    },\n\t    showReticle: function showReticle() {\n\t      if (this.tool !== 'Map') {\n\t        return;\n\t      }\n\t\n\t      this.gridVisible = false;\n\t\n\t      var size = 100;\n\t      var x = this.$refs.map.clientWidth / 2;\n\t      var y = this.$refs.map.clientHeight / 2;\n\t\n\t      d3.select('#reticle').selectAll('#reticle path').data([[{ x: x, y: y - size }, { x: x, y: y + size }], [{ x: x - size, y: y }, { x: x + size, y: y }]]).enter().append('path').attr('stroke-width', '1').attr('stroke', 'gray').attr('d', d3.line().x(function (d) {\n\t        return d.x;\n\t      }).y(function (d) {\n\t        return d.y;\n\t      }));\n\t    }\n\t  },\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    projectView: function projectView(state) {\n\t      return state.project.view;\n\t    },\n\t    min_x: function min_x(state) {\n\t      return state.project.view.min_x;\n\t    },\n\t    max_x: function max_x(state) {\n\t      return state.project.view.max_x;\n\t    },\n\t    min_y: function min_y(state) {\n\t      return state.project.view.min_y;\n\t    },\n\t    max_y: function max_y(state) {\n\t      return state.project.view.max_y;\n\t    },\n\t    units: function units(state) {\n\t      return state.project.config.units;\n\t    },\n\t    mapInitialized: function mapInitialized(state) {\n\t      return state.project.map.initialized;\n\t    }\n\t  }), {\n\t    gridVisible: {\n\t      get: function get() {\n\t        return this.$store.state.project.grid.visible;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setGridVisible', { visible: val });\n\t      }\n\t    },\n\t    tool: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.tool;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('application/setCurrentTool', { tool: val });\n\t      }\n\t    },\n\t    latitude: {\n\t      get: function get() {\n\t        return this.$store.state.project.map.latitude;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setMapLatitude', { latitude: val });\n\t      }\n\t    },\n\t    longitude: {\n\t      get: function get() {\n\t        return this.$store.state.project.map.longitude;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setMapLongitude', { longitude: val });\n\t      }\n\t    },\n\t    rotation: {\n\t      get: function get() {\n\t        return this.$store.state.project.map.rotation;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setMapRotation', { rotation: val });\n\t      }\n\t    }\n\t  }),\n\t  watch: {\n\t    units: function units() {\n\t      this.updateMapView();\n\t    },\n\t    latitude: function latitude() {\n\t      this.updateMapView();\n\t    },\n\t    longitude: function longitude() {\n\t      this.updateMapView();\n\t    },\n\t    rotation: function rotation() {\n\t      this.updateMapView();\n\t    },\n\t\n\t    projectView: {\n\t      handler: function handler() {\n\t        this.updateMapView();\n\t      },\n\t\n\t      deep: true\n\t    }\n\t  },\n\t  components: {\n\t    MapModal: _MapModal2.default\n\t  }\n\t};\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _libconfig = __webpack_require__(34);\n\t\n\tvar _libconfig2 = _interopRequireDefault(_libconfig);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _EditBar = __webpack_require__(260);\n\t\n\tvar _EditBar2 = _interopRequireDefault(_EditBar);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapGetters)({\n\t    componentInstance: 'application/currentComponentInstance',\n\t    currentStory: 'application/currentStory',\n\t    currentComponent: 'application/currentComponent'\n\t  }), {\n\t    instanceType: function instanceType() {\n\t      return this.componentInstance && this.componentInstance.type;\n\t    },\n\t    columns: function columns() {\n\t      if (!this.componentInstance) {\n\t        return [];\n\t      }\n\t      return _libconfig2.default[this.instanceType].columns;\n\t    },\n\t    visibleColumns: function visibleColumns() {\n\t      return _.reject(this.columns, 'private');\n\t    },\n\t    showInstanceEditor: function showInstanceEditor() {\n\t      return this.instanceType && this.currentComponent.type.replace(/_definitions$/, 's') === this.instanceType;\n\t    }\n\t  }),\n\t  methods: {\n\t    destroyComponent: function destroyComponent() {\n\t      if (this.instanceType === 'windows') {\n\t        this.$store.dispatch('models/destroyWindow', { story_id: this.currentStory.id, object: this.componentInstance });\n\t      } else if (this.instanceType === 'daylighting_controls') {\n\t        this.$store.dispatch('models/destroyDaylightingControl', { story_id: this.currentStory.id, object: this.componentInstance });\n\t      } else {\n\t        throw new Error('Unrecognized component type ' + this.instanceType);\n\t      }\n\t    },\n\t    modifyComponentInstance: function modifyComponentInstance(id, key, value) {\n\t      if (this.instanceType === 'windows') {\n\t        this.$store.dispatch('models/modifyWindow', { id: id, key: key, value: value, story_id: this.currentStory.id });\n\t      } else if (this.instanceType === 'daylighting_controls') {\n\t        this.$store.dispatch('models/modifyDaylightingControl', { id: id, key: key, value: value, story_id: this.currentStory.id });\n\t      } else {\n\t        throw new Error('unrecognized component mode \"' + this.mode + '\"');\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    EditBar: _EditBar2.default\n\t  }\n\t};\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _GenericInput = __webpack_require__(94);\n\t\n\tvar _GenericInput2 = _interopRequireDefault(_GenericInput);\n\t\n\tvar _delete = __webpack_require__(68);\n\t\n\tvar _delete2 = _interopRequireDefault(_delete);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  props: ['row', 'columns', 'updateRow', 'destroy'],\n\t  components: {\n\t    GenericInput: _GenericInput2.default,\n\t    Delete: _delete2.default\n\t  }\n\t};\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _EditableTable = __webpack_require__(262);\n\t\n\tvar _EditableTable2 = _interopRequireDefault(_EditableTable);\n\t\n\tvar _LibrarySelect = __webpack_require__(95);\n\t\n\tvar _LibrarySelect2 = _interopRequireDefault(_LibrarySelect);\n\t\n\tvar _PrettySelect = __webpack_require__(45);\n\t\n\tvar _PrettySelect2 = _interopRequireDefault(_PrettySelect);\n\t\n\tvar _double_arrows = __webpack_require__(309);\n\t\n\tvar _double_arrows2 = _interopRequireDefault(_double_arrows);\n\t\n\tvar _add_new = __webpack_require__(301);\n\t\n\tvar _add_new2 = _interopRequireDefault(_add_new);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'EditableSelectList',\n\t  props: ['columns', 'rows', 'addRow', 'editRow', 'destroyRow', 'selectRow', 'selectedRowId', 'objectTypes', 'selectedObjectType', 'searchAvailable', 'compact'],\n\t  data: function data() {\n\t    return {\n\t      search: ''\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    visibleColumns: function visibleColumns() {\n\t      return _.reject(this.columns, 'private');\n\t    },\n\t    searchedRows: function searchedRows() {\n\t      var _this = this;\n\t\n\t      return this.rows.filter(function (row) {\n\t        return _.chain(row).omit(['color']).values().compact().some(function (val) {\n\t          return val.toLowerCase && val.toLowerCase().includes(_this.search.toLowerCase());\n\t        }).value();\n\t      });\n\t    }\n\t  },\n\t  methods: {\n\t    toggleCompact: function toggleCompact() {\n\t      this.$emit('toggleCompact', !this.compact);\n\t    }\n\t  },\n\t  watch: {\n\t    rows: function rows(newRows, oldRows) {\n\t      if (newRows !== oldRows) {\n\t        return;\n\t      }\n\t      if (newRows.length > oldRows.length) {\n\t        this.selectRow(_.maxBy(this.rows, function (r) {\n\t          return +r.id;\n\t        }));\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    EditableTable: _EditableTable2.default,\n\t    LibrarySelect: _LibrarySelect2.default,\n\t    PrettySelect: _PrettySelect2.default,\n\t    DoubleArrows: _double_arrows2.default,\n\t    AddNew: _add_new2.default\n\t  }\n\t};\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _delete = __webpack_require__(68);\n\t\n\tvar _delete2 = _interopRequireDefault(_delete);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'EditableTable',\n\t  props: ['columns', 'rows', 'deleteRow', 'updateRow', 'selectRow', 'selectedItemId'],\n\t  data: function data() {\n\t    return {\n\t      sortKey: function sortKey(r) {\n\t        return +r.id;\n\t      },\n\t      sortDescending: false\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    visibleColumns: function visibleColumns() {\n\t      return _lodash2.default.reject(this.columns, 'private');\n\t    },\n\t    sortedRows: function sortedRows() {\n\t      var sRows = _lodash2.default.sortBy(this.rows, this.sortKey);\n\t      if (this.sortDescending) {\n\t        sRows.reverse();\n\t      }\n\t      return sRows;\n\t    }\n\t  },\n\t  methods: {\n\t    sortBy: function sortBy(colName) {\n\t      this.sortDescending = this.sortKey === colName ? !this.sortDescending : true;\n\t      this.sortKey = colName;\n\t    }\n\t  },\n\t  components: {\n\t    Delete: _delete2.default\n\t  }\n\t};\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  props: ['title'],\n\t  data: function data() {\n\t    return {\n\t      expanded: false\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    caret: function caret() {\n\t      return this.expanded ? '\\u25BC' : '\\u25BA';\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray2 = __webpack_require__(29);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _huebee = __webpack_require__(244);\n\t\n\tvar _huebee2 = _interopRequireDefault(_huebee);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'GenericInput',\n\t  props: ['col', 'row', 'onChange'],\n\t  methods: {\n\t    blurOnEnter: function blurOnEnter(evt) {\n\t      if (evt.keyCode === 13) {\n\t        this.$el.blur();\n\t      }\n\t      if (evt.keyCode == 27) {\n\t        this.$el.value = row[col.name];\n\t        this.$el.blur();\n\t      }\n\t      return;\n\t    },\n\t    configurePicker: function configurePicker() {\n\t      var _this = this;\n\t\n\t      if (!this.$refs.color_input) {\n\t        return;\n\t      }\n\t\n\t      new _huebee2.default(this.$refs.color_input, { saturations: 1, notation: 'hex' }).on('change', function (color) {\n\t        _this.onChange(color);\n\t      });\n\t    }\n\t  },\n\t  mounted: function mounted() {\n\t    this.configurePicker();\n\t  },\n\t\n\t  computed: {\n\t    selectData: function selectData() {\n\t      return _lodash2.default.toPairs(this.col.select_data(this.row, this.$store.state)).map(function (_ref) {\n\t        var _ref2 = (0, _slicedToArray3.default)(_ref, 2),\n\t            k = _ref2[0],\n\t            v = _ref2[1];\n\t\n\t        return { val: v, display: k };\n\t      });\n\t    },\n\t    rootState: function rootState() {\n\t      return this.$store.state;\n\t    },\n\t    disabled: function disabled() {\n\t      if (!this.col.enabled) {\n\t        return true;\n\t      }\n\t      return !this.col.enabled(this.row);\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _utilities = __webpack_require__(35);\n\t\n\tvar _d3AwareThrottle = __webpack_require__(151);\n\t\n\tvar _d3AwareThrottle2 = _interopRequireDefault(_d3AwareThrottle);\n\t\n\tvar _methods = __webpack_require__(123);\n\t\n\tvar _methods2 = _interopRequireDefault(_methods);\n\t\n\tvar _helpers = __webpack_require__(4);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _helpers3 = __webpack_require__(11);\n\t\n\tvar _helpers4 = _interopRequireDefault(_helpers3);\n\t\n\tvar _helpers5 = __webpack_require__(21);\n\t\n\tvar _helpers6 = _interopRequireDefault(_helpers5);\n\t\n\tvar _Resize = __webpack_require__(47);\n\t\n\tvar _drawing = __webpack_require__(122);\n\t\n\tvar _drawing2 = _interopRequireDefault(_drawing);\n\t\n\tvar _snapping = __webpack_require__(46);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar d3 = __webpack_require__(26);\n\t\n\texports.default = {\n\t  name: 'grid',\n\t  data: function data() {\n\t    var _this = this;\n\t\n\t    var xScale = function xScale(v) {\n\t      return _this.rwuToGrid(v, 'x');\n\t    },\n\t        yScale = function yScale(v) {\n\t      return _this.rwuToGrid(v, 'y');\n\t    };\n\t\n\t    return (0, _extends3.default)({\n\t      points: [],\n\t      axis: {\n\t        x: null,\n\t        y: null\n\t      },\n\t      axis_generator: {\n\t        x: null,\n\t        y: null\n\t      },\n\t      reduceTicks: false,\n\t      componentFacingSelection: null,\n\t      transform: { k: 1, x: 0, y: 0 },\n\t      transformAtLastRender: d3.zoomIdentity,\n\t      lastMousePosition: null,\n\t      handleMouseMove: null }, (0, _drawing2.default)({\n\t      xScale: xScale,\n\t      yScale: yScale,\n\t      selectImage: function selectImage(img) {\n\t        _this.currentImage = img;\n\t      },\n\t      updateImage: function updateImage(data) {\n\t        return window.application.$store.dispatch('models/updateImageWithData', data);\n\t      }\n\t    }), {\n\t      crosshatchModifiers: {\n\t        '-highlight': 'green',\n\t        '-selected': 'green',\n\t        '-facing-selection': 'blue',\n\t        '': '#222'\n\t      }\n\t    });\n\t  },\n\t  mounted: function mounted() {\n\t    this.handleMouseMove = (0, _d3AwareThrottle2.default)(this.highlightSnapTarget, 100);\n\t\n\t    this.renderGrid();\n\t\n\t    this.renderGrid = (0, _utilities.debounce)(this.renderGrid, 5);\n\t\n\t    this.$refs.grid.addEventListener('reloadGrid', this.reloadGridAndScales);\n\t\n\t    window.addEventListener('keyup', this.escapeAction);\n\t    window.addEventListener('keydown', this.handleKeyDown);\n\t    window.addEventListener('resize', this.reloadGridAndScales);\n\t\n\t    _Resize.ResizeEvents.$on('resize', this.reloadGridAndScales);\n\t\n\t    window.eventBus.$on('zoomToFit', this.zoomToFit);\n\t    window.eventBus.$on('scaleTo', this.scaleTo);\n\t  },\n\t  beforeDestroy: function beforeDestroy() {\n\t    this.$refs.grid.removeEventListener('reloadGrid', this.reloadGridAndScales);\n\t\n\t    window.removeEventListener('keyup', this.escapeAction);\n\t    window.removeEventListener('keydown', this.handleKeyDown);\n\t    window.removeEventListener('resize', this.reloadGridAndScales);\n\t\n\t    _Resize.ResizeEvents.$off('resize', this.reloadGridAndScales);\n\t\n\t    window.eventBus.$off('zoomToFit', this.zoomToFit);\n\t    window.eventBus.$off('scaleTo', this.scaleTo);\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    currentMode: function currentMode(state) {\n\t      return state.application.currentSelections.mode;\n\t    },\n\t    modeTab: function modeTab(state) {\n\t      return state.application.currentSelections.modeTab;\n\t    },\n\t    currentTool: function currentTool(state) {\n\t      return state.application.currentSelections.tool;\n\t    },\n\t    snapMode: function snapMode(state) {\n\t      return state.application.currentSelections.snapMode;\n\t    },\n\t    previousStoryVisible: function previousStoryVisible(state) {\n\t      return state.project.previous_story.visible;\n\t    },\n\t    gridVisible: function gridVisible(state) {\n\t      return state.project.grid.visible;\n\t    },\n\t    units: function units(state) {\n\t      return state.project.config.units;\n\t    },\n\t    spacing: function spacing(state) {\n\t      return state.project.grid.spacing;\n\t    },\n\t\n\t    scaleX: function scaleX(state) {\n\t      return state.application.scale.x;\n\t    },\n\t    scaleY: function scaleY(state) {\n\t      return state.application.scale.y;\n\t    },\n\t    windowDefs: function windowDefs(state) {\n\t      return state.models.library.window_definitions;\n\t    },\n\t    windowWidths: function windowWidths(state) {\n\t      return _.sumBy(state.models.library.window_definitions, 'width');\n\t    },\n\t    allVertices: function allVertices(state) {\n\t      return _.flatMap(state.geometry, 'vertices');\n\t    }\n\t  }), (0, _vuex.mapGetters)({\n\t    currentStory: 'application/currentStory',\n\t    currentStoryGeometry: 'application/currentStoryGeometry',\n\t    denormalizedGeometry: 'application/currentStoryDenormalizedGeom',\n\t    currentSpace: 'application/currentSpace',\n\t    currentShading: 'application/currentShading',\n\t    currentComponent: 'application/currentComponent',\n\t    currentComponentInstance: 'application/currentComponentInstance',\n\t    currentSpaceProperty: 'application/currentSpaceProperty'\n\t  }), {\n\t    spacePropertyKey: function spacePropertyKey() {\n\t      switch (this.currentSpaceProperty.type) {\n\t        case 'building_units':\n\t          return 'building_unit_id';\n\t        case 'thermal_zones':\n\t          return 'thermal_zone_id';\n\t        case 'space_types':\n\t          return 'space_type_id';\n\t        case 'pitched_roofs':\n\t          return 'pitched_roof_id';\n\t        case 'construction_sets':\n\t          return 'construction_set_id';\n\t        default:\n\t          throw new Error('unrecognized space property type ' + this.currentSpaceProperty.type);\n\t      }\n\t    },\n\t\n\t    currentImage: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentImage'];\n\t      },\n\t      set: function set(item) {\n\t        this.$store.dispatch('application/setCurrentSubSelectionId', { id: item.id });\n\t      }\n\t    },\n\t    currentComponentType: function currentComponentType() {\n\t      return this.currentComponent.type;\n\t    },\n\t    currentComponentDefinition: function currentComponentDefinition() {\n\t      return this.currentComponent.definition;\n\t    },\n\t\n\t    currentSubSelection: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentSubSelection'];\n\t      },\n\t      set: function set(item) {\n\t        this.$store.dispatch('application/setCurrentSubSelectionId', { id: item.id });\n\t      }\n\t    },\n\t    currentComponentInstanceId: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.modeTab === 'components' && this.$store.state.application.currentSelections.component_instance_id;\n\t      },\n\t      set: function set(id) {\n\t        this.$store.dispatch('application/setCurrentComponentInstanceId', { id: id });\n\t      }\n\t    },\n\t\n\t    min_x: {\n\t      get: function get() {\n\t        return this.$store.state.project.view.min_x;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setViewMinX', { min_x: val });\n\t      }\n\t    },\n\t    min_y: {\n\t      get: function get() {\n\t        return this.$store.state.project.view.min_y;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setViewMinY', { min_y: val });\n\t      }\n\t    },\n\t    max_x: {\n\t      get: function get() {\n\t        return this.$store.state.project.view.max_x;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setViewMaxX', { max_x: val });\n\t      }\n\t    },\n\t    max_y: {\n\t      get: function get() {\n\t        return this.$store.state.project.view.max_y;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/setViewMaxY', { max_y: val });\n\t      }\n\t    },\n\t    previousStory: function previousStory() {\n\t      var _this2 = this;\n\t\n\t      var currentStoryNumber = this.$store.state.models.stories.findIndex(function (s) {\n\t        return s === _this2.currentStory;\n\t      });\n\t      if (currentStoryNumber === 0) {\n\t        return null;\n\t      }\n\t      return this.$store.state.models.stories[currentStoryNumber - 1];\n\t    },\n\t    previousStoryGeometry: function previousStoryGeometry() {\n\t      var _this3 = this;\n\t\n\t      if (!this.previousStory) {\n\t        return null;\n\t      }\n\t      return this.$store.state.geometry.find(function (g) {\n\t        return g.id === _this3.previousStory.geometry_id;\n\t      });\n\t    },\n\t    previousStoryPolygons: function previousStoryPolygons() {\n\t      if (this.previousStoryVisible && this.previousStoryGeometry) {\n\t        return this.polygonsFromGeometry(this.previousStoryGeometry, { previous_story: true });\n\t      }\n\t      return [];\n\t    },\n\t    images: function images() {\n\t      var _this4 = this;\n\t\n\t      return this.currentStory.images.map(function (img) {\n\t        return (0, _extends3.default)({}, img, {\n\t          current: _this4.currentTool === 'Image' && _this4.currentImage && _this4.currentImage.id === img.id,\n\t          clickable: _this4.currentTool === 'Image' && (!_this4.currentImage || _this4.currentImage.id !== img.id)\n\t        });\n\t      });\n\t    },\n\t    polygons: function polygons() {\n\t      var currentStoryPolygons = this.polygonsFromGeometry(this.currentStoryGeometry);\n\t      return this.previousStoryPolygons ? this.previousStoryPolygons.concat(currentStoryPolygons) : currentStoryPolygons;\n\t    },\n\t    daylightingControlLocs: function daylightingControlLocs() {\n\t      var _this5 = this;\n\t\n\t      return _.flatten(this.currentStory.spaces.map(function (space) {\n\t        return space.daylighting_controls.map(function (dc) {\n\t          return (0, _extends3.default)({}, dc, _helpers2.default.vertexForId(dc.vertex_id, _this5.currentStoryGeometry), {\n\t            id: dc.id,\n\t            type: 'daylighting_controls',\n\t            face_id: space.face_id\n\t          });\n\t        });\n\t      }));\n\t    },\n\t    spaceFaces: function spaceFaces() {\n\t      var _this6 = this;\n\t\n\t      return this.denormalizedGeometry.faces.filter(function (f) {\n\t        return _.find(_this6.currentStory.spaces, { face_id: f.id });\n\t      });\n\t    },\n\t    spaceEdges: function spaceEdges() {\n\t      return _.flatMap(this.spaceFaces, 'edges');\n\t    },\n\t    visibleVerts: function visibleVerts() {\n\t      var _this7 = this;\n\t\n\t      return this.allVertices.filter(function (d) {\n\t        return _this7.min_x <= d.x && d.x <= _this7.max_x && _this7.min_y <= d.y && d.y <= _this7.max_y;\n\t      });\n\t    }\n\t  }),\n\t  watch: {\n\t    gridVisible: function gridVisible() {\n\t      this.showOrHideAxes();\n\t    },\n\t    spacing: function spacing() {\n\t      this.updateGrid();\n\t    },\n\t    currentMode: function currentMode() {\n\t      this.draw();\n\t    },\n\t    polygons: function polygons() {\n\t      this.draw();\n\t    },\n\t    images: function images() {\n\t      this.draw();\n\t    },\n\t    windowDefs: function windowDefs() {\n\t      this.draw();\n\t    },\n\t    currentTool: function currentTool() {\n\t      this.points = [];\n\t      this.draw();\n\t      this.clearHighlights();\n\t      if (this.currentTool === 'Image' && this.currentStory.images.length) {\n\t        if (!this.currentImage || !_.includes(_.map(this.currentStory.images, 'id'), this.currentImage.id)) {\n\t          this.currentImage = this.currentStory.images[0];\n\t        }\n\t      } else if (!_.includes(_.map(this.currentStory.spaces, 'id'), this.currentSubSelection.id)) {\n\t        this.currentSubSelection = this.currentStory.spaces[0];\n\t      }\n\t    },\n\t    currentSpace: function currentSpace() {\n\t      this.points = [];\n\t      this.draw();\n\t    },\n\t    currentShading: function currentShading() {\n\t      this.points = [];\n\t      this.draw();\n\t    },\n\t    transform: function transform(newTransform, lastTransform) {\n\t      if (newTransform.k < 0.5) {\n\t        d3.select('#svg-grid').selectAll('.polygon-text').style('display', 'none');\n\t      } else {\n\t        d3.select('#svg-grid').selectAll('.polygon-text').style('display', 'initial');\n\t      }\n\t    }\n\t  },\n\t  methods: (0, _extends3.default)({}, _methods2.default, {\n\t    windowCenterLocs: function windowCenterLocs(cursor) {\n\t      var _this8 = this;\n\t\n\t      return this.currentStory.windows.map(function (w) {\n\t        return { w: w, e: _.find(_this8.denormalizedGeometry.edges, { id: w.edge_id }) };\n\t      }).map(function (_ref) {\n\t        var w = _ref.w,\n\t            e = _ref.e;\n\t\n\t        var wind = _this8.denormalizeWindow(e, w);\n\t\n\t        var _pointDistanceToSegme = (0, _helpers.pointDistanceToSegment)(cursor, wind),\n\t            proj = _pointDistanceToSegme.proj;\n\t\n\t        return (0, _extends3.default)({}, wind, {\n\t          id: w.id,\n\t          type: 'windows'\n\t        }, proj);\n\t      });\n\t    },\n\t    currentComponentTypeLocs: function currentComponentTypeLocs(cursor) {\n\t      if (this.currentComponentType === 'window_definitions') {\n\t        return this.windowCenterLocs(cursor);\n\t      } else if (this.currentComponentType === 'daylighting_control_definitions') {\n\t        return this.daylightingControlLocs;\n\t      } else {\n\t        throw new Error('unrecognized componentType: ' + this.currentComponentType);\n\t      }\n\t    },\n\t    denormalizeWindow: function denormalizeWindow(edge, _ref2) {\n\t      var edge_id = _ref2.edge_id,\n\t          alpha = _ref2.alpha,\n\t          window_definition_id = _ref2.window_definition_id;\n\t\n\t      var windowDefn = _.find(this.windowDefs, { id: window_definition_id }),\n\t          center = (0, _snapping.windowLocation)(edge, { alpha: alpha });\n\t      return (0, _extends3.default)({}, (0, _snapping.expandWindowAlongEdge)(edge, center, windowDefn), {\n\t        window_definition_type: windowDefn.window_definition_type,\n\t        width: windowDefn.width,\n\t        spacing: windowDefn.window_spacing\n\t      });\n\t    },\n\t    windowsOnFace: function windowsOnFace(face) {\n\t      var _this9 = this;\n\t\n\t      return _.flatMap(face.edges, function (e) {\n\t        return _.filter(_this9.currentStory.windows, { edge_id: e.id }).map(function (w) {\n\t          return (0, _extends3.default)({}, _this9.denormalizeWindow(e, w), {\n\t            selected: w.id === _this9.currentComponentInstanceId,\n\t            facingSelection: w.id === _this9.componentFacingSelection\n\t          });\n\t        });\n\t      });\n\t    },\n\t    polygonsFromGeometry: function polygonsFromGeometry(geometry) {\n\t      var _this10 = this;\n\t\n\t      var extraPolygonAttrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t      var geom = _helpers2.default.denormalize(geometry);\n\t      var polygons = geom.faces.map(function (face) {\n\t        var model = _helpers4.default.modelForFace(_this10.$store.state.models, face.id),\n\t            points = face.vertices.slice(0, -1),\n\t            polygon = (0, _extends3.default)({\n\t          face_id: face.id,\n\t          name: model.name,\n\t          modelType: model.type,\n\t          color: model.color,\n\t          points: points,\n\t          labelPosition: _this10.polygonLabelPosition(points),\n\t          windows: _this10.windowsOnFace(face),\n\t          daylighting_controls: (model.daylighting_controls || []).map(function (dc) {\n\t            return (0, _extends3.default)({}, _helpers2.default.vertexForId(dc.vertex_id, geometry), {\n\t              selected: dc.id === _this10.currentComponentInstanceId,\n\t              facingSelection: dc.id === _this10.componentFacingSelection\n\t            });\n\t          })\n\t        }, extraPolygonAttrs);\n\t        if (!points.length) {\n\t          return null;\n\t        }\n\t\n\t        if (model.type === 'space') {\n\t          if (_this10.currentMode === 'thermal_zones') {\n\t            var thermalZone = _helpers4.default.libraryObjectWithId(_this10.$store.state.models, model.thermal_zone_id);\n\t            polygon.color = thermalZone ? thermalZone.color : _helpers6.default.config.palette.neutral;\n\t          } else if (_this10.currentMode === 'space_types') {\n\t            var spaceType = _helpers4.default.libraryObjectWithId(_this10.$store.state.models, model.space_type_id);\n\t            polygon.color = spaceType ? spaceType.color : _helpers6.default.config.palette.neutral;\n\t          } else if (_this10.currentMode === 'building_units') {\n\t            var buildingUnit = _helpers4.default.libraryObjectWithId(_this10.$store.state.models, model.building_unit_id);\n\t            polygon.color = buildingUnit ? buildingUnit.color : _helpers6.default.config.palette.neutral;\n\t          } else if (_this10.currentMode === 'pitched_roofs') {\n\t            var pitchedRoof = _helpers4.default.libraryObjectWithId(_this10.$store.state.models, model.pitched_roof_id);\n\t            polygon.color = pitchedRoof ? pitchedRoof.color : _helpers6.default.config.palette.neutral;\n\t          } else if (_this10.currentMode === 'construction_sets') {\n\t            var constructionSet = _helpers4.default.libraryObjectWithId(_this10.$store.state.models, model.construction_set_id);\n\t            polygon.color = constructionSet ? constructionSet.color : _helpers6.default.config.palette.neutral;\n\t          }\n\t        }\n\t        return polygon;\n\t      });\n\t\n\t      return _.compact(polygons);\n\t    }\n\t  })\n\t};\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _helpers = __webpack_require__(11);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'ImageUpload',\n\t  mounted: function mounted() {\n\t    window.eventBus.$on('uploadImage', this.promptUpload.bind(this));\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    pxPerRWU: function pxPerRWU(state) {\n\t      var _state$application$sc = state.application.scale.x,\n\t          pixels = _state$application$sc.pixels,\n\t          rwuRange = _state$application$sc.rwuRange;\n\t\n\t      return pixels / (rwuRange[1] - rwuRange[0]);\n\t    },\n\t\n\t    max_y: function max_y(state) {\n\t      return state.project.view.max_y;\n\t    },\n\t    min_y: function min_y(state) {\n\t      return state.project.view.min_y;\n\t    },\n\t    min_x: function min_x(state) {\n\t      return state.project.view.min_x;\n\t    },\n\t    max_x: function max_x(state) {\n\t      return state.project.view.max_x;\n\t    }\n\t  }), (0, _vuex.mapGetters)({\n\t    currentStory: 'application/currentStory'\n\t  })),\n\t  methods: {\n\t    promptUpload: function promptUpload() {\n\t      this.$refs.imageInput.click();\n\t    },\n\t    uploadImage: function uploadImage(event) {\n\t      var files = event.target.files;\n\t      var that = this;\n\t\n\t      var _loop = function _loop(i) {\n\t        var file = files[i];\n\t        var reader = new FileReader();\n\t\n\t        reader.addEventListener('load', function () {\n\t          var image = new Image();\n\t          image.onload = function () {\n\t            var rwuHeight = image.height / that.pxPerRWU / 4;\n\t            var rwuWidth = image.width / that.pxPerRWU / 4;\n\t            that.$store.dispatch('models/createImageForStory', {\n\t              story_id: that.currentStory.id,\n\t              src: image.src,\n\t\n\t              name: _helpers2.default.generateName(that.$store.state.models, 'images', that.currentStory),\n\t\n\t              height: rwuHeight,\n\t              width: rwuWidth,\n\t              x: (that.min_x + that.max_x) / 2,\n\t              y: (that.min_y + that.max_y) / 2\n\t            });\n\t            that.$refs.imageInput.value = '';\n\t          };\n\t          image.src = reader.result;\n\t        }, false);\n\t        if (file) {\n\t          reader.readAsDataURL(file);\n\t        }\n\t      };\n\t\n\t      for (var i = 0; i < files.length; i++) {\n\t        _loop(i);\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _info_icon = __webpack_require__(97);\n\t\n\tvar _info_icon2 = _interopRequireDefault(_info_icon);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'Info',\n\t  components: {\n\t    InfoIcon: _info_icon2.default\n\t  }\n\t};\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _helpers = __webpack_require__(4);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'inspector',\n\t  data: function data() {\n\t    return {\n\t      geometryInspector: true,\n\t      storyInspector: false\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    startpoint: function startpoint(edgeRef) {\n\t      var edge = this.edgeForId(edgeRef.edge_id);\n\t      if (edgeRef.reverse) {\n\t        var _v = this.vertexForId(edge.v2);\n\t        return 'v2 ' + _v.id + ' (' + _v.x + ', ' + _v.y + ')';\n\t      }\n\t      var v = this.vertexForId(edge.v1);\n\t      return 'v1 ' + v.id + ' (' + v.x + ', ' + v.y + ')';\n\t    },\n\t    endpoint: function endpoint(edgeRef) {\n\t      var edge = this.edgeForId(edgeRef.edge_id);\n\t      if (!edgeRef.reverse) {\n\t        var _v2 = this.vertexForId(edge.v2);\n\t        return _v2.id + ' (v2) (' + _v2.x + ', ' + _v2.y + ')';\n\t      }\n\t      var v = this.vertexForId(edge.v1);\n\t      return v.id + ' (v1) (' + v.x + ', ' + v.y + ')';\n\t    },\n\t    edgeForId: function edgeForId(id) {\n\t      return _helpers2.default.edgeForId(id, this.currentStoryGeometry);\n\t    },\n\t    vertexForId: function vertexForId(id) {\n\t      return _helpers2.default.vertexForId(id, this.currentStoryGeometry);\n\t    }\n\t  },\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapGetters)({\n\t    currentStory: 'application/currentStory',\n\t    currentSubSelectionFace: 'application/currentSubSelectionFace',\n\t    currentStoryGeometry: 'application/currentStoryGeometry',\n\t    currentSpace: 'application/currentSpace',\n\t    currentShading: 'application/currentShading'\n\t  }))\n\t};\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(8);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _libconfig = __webpack_require__(34);\n\t\n\tvar _libconfig2 = _interopRequireDefault(_libconfig);\n\t\n\tvar _EditableSelectList = __webpack_require__(261);\n\t\n\tvar _EditableSelectList2 = _interopRequireDefault(_EditableSelectList);\n\t\n\tvar _helpers = __webpack_require__(11);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _appconfig = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction keyForMode(mode) {\n\t  return mode === 'stories' ? 'currentStory' : _.includes(_appconfig.componentTypes, mode) ? 'currentComponentDef' : _.includes(_appconfig.assignableProperties, mode) ? 'currentSpaceProperty' : _.includes(['windows', 'daylighting_controls'], mode) ? 'currentComponentInstance' : 'currentSubSelection';\n\t}\n\t\n\texports.default = {\n\t  name: 'Library',\n\t  props: ['objectTypes', 'mode', 'searchAvailable', 'compact'],\n\t  computed: (0, _extends3.default)({\n\t    objectTypesDisplay: function objectTypesDisplay() {\n\t      return this.objectTypes.map(function (ot) {\n\t        return {\n\t          val: ot,\n\t          display: _libconfig2.default[ot].displayName\n\t        };\n\t      });\n\t    },\n\t    columns: function columns() {\n\t      if (!_libconfig2.default[this.mode]) return [];\n\t      return _libconfig2.default[this.mode].columns;\n\t    },\n\t\n\t    currentStory: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentStory'];\n\t      },\n\t      set: function set(story) {\n\t        this.$store.dispatch('application/setCurrentStoryId', { id: story.id });\n\t      }\n\t    },\n\t\n\t    currentSubSelection: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentSubSelection'];\n\t      },\n\t      set: function set(item) {\n\t        this.$store.dispatch('application/setCurrentSubSelectionId', { id: item.id });\n\t      }\n\t    },\n\t    currentSpaceProperty: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentSpaceProperty'];\n\t      },\n\t      set: function set(item) {\n\t        this.$store.dispatch('application/setCurrentSpacePropertyId', { id: item.id });\n\t      }\n\t    },\n\t    currentComponentDef: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentComponentDefinition'];\n\t      },\n\t      set: function set(item) {\n\t        this.$store.dispatch('application/setCurrentComponentDefinitionId', { id: item.id });\n\t      }\n\t    },\n\t    currentComponentInstance: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentComponentInstance'];\n\t      },\n\t      set: function set(ci) {\n\t        this.$store.dispatch('application/setCurrentComponentInstanceId', { id: ci.id });\n\t      }\n\t    },\n\t\n\t    selectedObject: {\n\t      get: function get() {\n\t        return this[this.keyForCurrentMode];\n\t      },\n\t      set: function set(item) {\n\t        this[this.keyForCurrentMode] = item;\n\t      }\n\t    },\n\t    keyForCurrentMode: function keyForCurrentMode() {\n\t      return keyForMode(this.mode);\n\t    }\n\t  }, (0, _vuex.mapState)({\n\t    stories: function stories(state) {\n\t      return state.models.stories;\n\t    },\n\t    modeTab: function modeTab(state) {\n\t      return state.application.currentSelections.modeTab;\n\t    }\n\t  }), {\n\t    spaces: function spaces() {\n\t      return this.currentStory.spaces;\n\t    },\n\t    shading: function shading() {\n\t      return this.currentStory.shading;\n\t    },\n\t    images: function images() {\n\t      return this.currentStory.images;\n\t    },\n\t    windows: function windows() {\n\t      return this.currentStory.windows;\n\t    },\n\t    daylighting_controls: function daylighting_controls() {\n\t      return _.flatMap(this.currentStory.spaces, function (s) {\n\t        return s.daylighting_controls;\n\t      });\n\t    },\n\t    rows: function rows() {\n\t      return _.includes(['stories', 'spaces', 'shading', 'images', 'windows', 'daylighting_controls'], this.mode) ? this[this.mode] : this.$store.state.models.library[this.mode];\n\t    },\n\t    componentInstanceMode: function componentInstanceMode() {\n\t      return _.includes(['windows', 'daylighting_controls'], this.mode);\n\t    },\n\t    addRowPermitted: function addRowPermitted() {\n\t      return this.mode !== 'stories' || this.modeTab === 'floorplan';\n\t    },\n\t\n\t    renderByMode: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.mode;\n\t      },\n\t      set: function set(mode) {\n\t        this.$store.dispatch('application/setCurrentMode', { mode: mode });\n\t      }\n\t    }\n\t  }),\n\t  watch: {\n\t    rows: function rows() {\n\t      if (!(this.selectedObject && _.includes(_.map(this.rows, 'id'), this.selectedObject.id)) && this.rows.length > 0) {\n\t        this.selectedObject = this.rows[0];\n\t      }\n\t    },\n\t    mode: function mode(currMode, oldMode) {\n\t      if (keyForMode(currMode) === 'currentSpaceProperty') {\n\t        this.renderByMode = this.mode;\n\t      } else if (keyForMode(oldMode) === 'currentSpaceProperty') {\n\t        this.renderByMode = 'spaces';\n\t      }\n\t    }\n\t  },\n\t  methods: {\n\t    changeMode: function changeMode(newMode) {\n\t      if (!_.includes(this.objectTypes, newMode)) {\n\t        throw new Error('Unable to find ' + newMode + ' in options ' + (0, _stringify2.default)(this.objectTypes));\n\t      }\n\t      this.$emit('changeMode', newMode);\n\t    },\n\t    modifyObject: function modifyObject(rowId, colName, value) {\n\t      if (this.componentInstanceMode) {\n\t        return this.modifyComponentInstance(rowId, colName, value);\n\t      }\n\t      var row = _.find(this.rows, { id: rowId });\n\t      var result = _helpers2.default.setValueForKey(row, this.$store, this.mode, colName, value);\n\t      if (!result.success) {\n\t        window.eventBus.$emit('error', result.error);\n\t      }\n\t    },\n\t    modifyComponentInstance: function modifyComponentInstance(id, key, value) {\n\t      if (this.mode === 'windows') {\n\t        this.$store.dispatch('models/modifyWindow', { id: id, key: key, value: value, story_id: this.currentStory.id });\n\t      } else if (this.mode === 'daylighting_controls') {\n\t        this.$store.dispatch('models/modifyDaylightingControl', { id: id, key: key, value: value, story_id: this.currentStory.id });\n\t      } else {\n\t        throw new Error('unrecognized component mode \"' + this.mode + '\"');\n\t      }\n\t    },\n\t    createObject: function createObject() {\n\t      switch (this.mode) {\n\t        case 'stories':\n\t          this.$store.dispatch('models/initStory');\n\t          return;\n\t        case 'spaces':\n\t          this.$store.dispatch('models/initSpace', { story: this.currentStory });\n\t          break;\n\t        case 'shading':\n\t          this.$store.dispatch('models/initShading', { story: this.currentStory });\n\t          break;\n\t        case 'images':\n\t          window.eventBus.$emit('uploadImage');\n\t          break;\n\t        case 'windows':\n\t        case 'daylighting_controls':\n\t          window.eventBus.$emit('error', 'Create components by clicking where you would like it to be');\n\t          break;\n\t        default:\n\t          this.$store.dispatch('models/createObjectWithType', { type: this.mode });\n\t          break;\n\t      }\n\t      this.selectLatest();\n\t    },\n\t    selectLatest: function selectLatest() {\n\t      var newestRow = _.maxBy(this.rows, function (r) {\n\t        return +r.id;\n\t      });\n\t      if (!newestRow) {\n\t        return;\n\t      }\n\t      this.selectedObject = newestRow;\n\t    },\n\t    destroyObject: function destroyObject(object) {\n\t      var _this = this;\n\t\n\t      switch (this.mode) {\n\t        case 'stories':\n\t          this.$store.dispatch('models/destroyStory', { story: object });\n\t          return;\n\t        case 'spaces':\n\t          this.$store.dispatch('models/destroySpace', {\n\t            space: object,\n\t            story: this.$store.state.models.stories.find(function (story) {\n\t              return story[_this.mode].find(function (o) {\n\t                return o.id === object.id;\n\t              });\n\t            })\n\t          });\n\t          break;\n\t        case 'shading':\n\t          this.$store.dispatch('models/destroyShading', {\n\t            shading: object,\n\t            story: this.$store.state.models.stories.find(function (story) {\n\t              return story[_this.mode].find(function (o) {\n\t                return o.id === object.id;\n\t              });\n\t            })\n\t          });\n\t          break;\n\t        case 'images':\n\t          this.$store.dispatch('models/destroyImage', {\n\t            image: object,\n\t            story: this.$store.state.models.stories.find(function (story) {\n\t              return story[_this.mode].find(function (o) {\n\t                return o.id === object.id;\n\t              });\n\t            })\n\t          });\n\t          break;\n\t        case 'window_definitions':\n\t          this.$store.dispatch('models/destroyWindowDef', { object: object });\n\t          break;\n\t        case 'daylighting_control_definitions':\n\t          this.$store.dispatch('models/destroyDaylightingControlDef', { object: object });\n\t          break;\n\t        case 'windows':\n\t          this.$store.dispatch('models/destroyWindow', { story_id: this.currentStory.id, object: object });\n\t          break;\n\t        case 'daylighting_controls':\n\t          this.$store.dispatch('models/destroyDaylightingControl', { story_id: this.currentStory.id, object: object });\n\t          break;\n\t        default:\n\t          this.$store.dispatch('models/destroyObject', { object: object });\n\t          break;\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    EditableSelectList: _EditableSelectList2.default\n\t  }\n\t};\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _delete = __webpack_require__(68);\n\t\n\tvar _delete2 = _interopRequireDefault(_delete);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'LibrarySelect',\n\t  props: ['rows', 'selectedItemId', 'selectItem', 'destroyItem'],\n\t  components: {\n\t    Delete: _delete2.default\n\t  }\n\t};\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _svgs = __webpack_require__(71);\n\t\n\tvar _svgs2 = _interopRequireDefault(_svgs);\n\t\n\tvar _NonChromeWarning = __webpack_require__(273);\n\t\n\tvar _NonChromeWarning2 = _interopRequireDefault(_NonChromeWarning);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'MapModal',\n\t  data: function data() {\n\t    return {\n\t      address: ''\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    online: function online() {\n\t      return window.api && window.api.config ? window.api.config.online : true;\n\t    },\n\t\n\t    mapEnabled: {\n\t      get: function get() {\n\t        return this.$store.state.project.map.enabled;\n\t      },\n\t      set: function set(enabled) {\n\t        this.$store.dispatch('project/setMapEnabled', { enabled: enabled });\n\t      }\n\t    },\n\t    tool: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.tool;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('application/setCurrentTool', { tool: val });\n\t      }\n\t    }\n\t  },\n\t  methods: {\n\t    importFloorplanAsFile: function importFloorplanAsFile(event) {\n\t      var _this = this;\n\t\n\t      var file = event.target.files[0];\n\t      var reader = new FileReader();\n\t      reader.addEventListener('load', function () {\n\t        _this.importFloorplan(reader.result);\n\t      }, false);\n\t\n\t      if (file) {\n\t        reader.readAsText(file);\n\t      }\n\t    },\n\t    importFloorplan: function importFloorplan(data) {\n\t      this.$store.dispatch('importFloorplan', {\n\t        clientWidth: document.getElementById('svg-grid').clientWidth,\n\t        clientHeight: document.getElementById('svg-grid').clientHeight,\n\t        data: JSON.parse(data)\n\t      });\n\t      this.$emit('close');\n\t    }\n\t  },\n\t  components: (0, _extends3.default)({}, _svgs2.default, {\n\t    NonChromeWarning: _NonChromeWarning2.default\n\t  })\n\t};\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'ModalBase',\n\t  props: ['title'],\n\t  methods: {\n\t    close: function close() {\n\t      this.$emit('close');\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(8);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _ModalBase = __webpack_require__(96);\n\t\n\tvar _ModalBase2 = _interopRequireDefault(_ModalBase);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'SaveAsModal',\n\t  props: ['saveWhat', 'dataToDownload'],\n\t  mounted: function mounted() {\n\t    this.$refs.downloadName.focus();\n\t  },\n\t\n\t  methods: {\n\t    downloadFile: function downloadFile() {\n\t      var a = document.createElement('a');\n\t      a.setAttribute('href', 'data:text/json;charset=utf-8,' + encodeURIComponent((0, _stringify2.default)(this.dataToDownload)));\n\t      a.setAttribute('download', this.$refs.downloadName.value + '.json');\n\t      a.click();\n\t\n\t      console.log('exporting:\\n' + (0, _stringify2.default)(this.dataToDownload));\n\t      this.$emit('close');\n\t    }\n\t  },\n\t  components: {\n\t    ModalBase: _ModalBase2.default\n\t  }\n\t};\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _ModalBase = __webpack_require__(96);\n\t\n\tvar _ModalBase2 = _interopRequireDefault(_ModalBase);\n\t\n\tvar _Info = __webpack_require__(266);\n\t\n\tvar _Info2 = _interopRequireDefault(_Info);\n\t\n\tvar _ExpandableDrawer = __webpack_require__(263);\n\t\n\tvar _ExpandableDrawer2 = _interopRequireDefault(_ExpandableDrawer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'Settings',\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    ground: function ground(state) {\n\t      return state.project.ground;\n\t    },\n\t    mapEnabled: function mapEnabled(state) {\n\t      return state.project.map.enabled;\n\t    }\n\t  }), {\n\t    floor_offset: {\n\t      get: function get() {\n\t        return this.ground.floor_offset;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/modifyGround', { key: 'floor_offset', val: val });\n\t      }\n\t    },\n\t    azimuth_angle: {\n\t      get: function get() {\n\t        return this.ground.azimuth_angle;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/modifyGround', { key: 'azimuth_angle', val: val });\n\t      }\n\t    },\n\t    tilt_slope: {\n\t      get: function get() {\n\t        return this.ground.tilt_slope;\n\t      },\n\t      set: function set(val) {\n\t        this.$store.dispatch('project/modifyGround', { key: 'tilt_slope', val: val });\n\t      }\n\t    },\n\t    northAxis: {\n\t      get: function get() {\n\t        return this.$store.state.project.north_axis + '\\xB0';\n\t      },\n\t      set: function set(northAxis) {\n\t        this.$store.dispatch('project/setNorthAxis', { north_axis: northAxis });\n\t      }\n\t    }\n\t  }),\n\t  components: {\n\t    ModalBase: _ModalBase2.default,\n\t    Info: _Info2.default,\n\t    ExpandableDrawer: _ExpandableDrawer2.default\n\t  }\n\t};\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _utilities = __webpack_require__(35);\n\t\n\tvar _helpers = __webpack_require__(21);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _helpers3 = __webpack_require__(11);\n\t\n\tvar _helpers4 = _interopRequireDefault(_helpers3);\n\t\n\tvar _ResizeEvents = __webpack_require__(70);\n\t\n\tvar _ResizeEvents2 = _interopRequireDefault(_ResizeEvents);\n\t\n\tvar _Library = __webpack_require__(268);\n\t\n\tvar _Library2 = _interopRequireDefault(_Library);\n\t\n\tvar _LibrarySelect = __webpack_require__(95);\n\t\n\tvar _LibrarySelect2 = _interopRequireDefault(_LibrarySelect);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar fullWidth = void 0;\n\tvar collapsedWidth = 8;\n\texports.default = {\n\t  name: 'navigation',\n\t  data: function data() {\n\t    return {\n\t      libraryExpanded: false\n\t    };\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapGetters)({\n\t    currentComponent: 'application/currentComponent'\n\t  }), (0, _vuex.mapState)({\n\t    modeTab: function modeTab(state) {\n\t      return state.application.currentSelections.modeTab;\n\t    }\n\t  }), {\n\t    currentStory: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentStory'];\n\t      },\n\t      set: function set(story) {\n\t        this.$store.dispatch('application/setCurrentStoryId', { id: story.id });\n\t      }\n\t    },\n\t    currentSubSelection: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentSubSelection'];\n\t      },\n\t      set: function set(item) {\n\t        this.$store.dispatch('application/setCurrentSubSelectionId', { id: item ? item.id : null });\n\t      }\n\t    },\n\t\n\t    spaces: function spaces() {\n\t      return this.currentStory.spaces;\n\t    },\n\t    shading: function shading() {\n\t      return this.currentStory.shading;\n\t    },\n\t    images: function images() {\n\t      return this.currentStory.images;\n\t    },\n\t    objectTypesForTab: function objectTypesForTab() {\n\t      switch (this.modeTab) {\n\t        case 'floorplan':\n\t          return ['spaces', 'shading', 'images'];\n\t        case 'shading':\n\t          return ['shading'];\n\t        case 'components':\n\t          return ['window_definitions', 'daylighting_control_definitions'];\n\t        case 'assign':\n\t          return ['building_units', 'thermal_zones', 'space_types', 'construction_sets', 'pitched_roofs'];\n\t      }\n\t    },\n\t\n\t    mode: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.mode;\n\t      },\n\t      set: function set(mode) {\n\t        this.$store.dispatch('application/setCurrentMode', { mode: mode });\n\t      }\n\t    },\n\t    subselectionType: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.subselectionType;\n\t      },\n\t      set: function set(sst) {\n\t        this.$store.dispatch('application/setCurrentSubselectionType', { subselectionType: sst });\n\t      }\n\t    }\n\t  }),\n\t  methods: {\n\t    resetSize: function resetSize() {\n\t      if (this.libraryExpanded) {\n\t        return;\n\t      }\n\t    },\n\t    setWidthForOpenLibrary: function setWidthForOpenLibrary() {\n\t      this.$emit('expanded', !!this.libraryExpanded);\n\t      _ResizeEvents2.default.$emit('resize');\n\t    }\n\t  },\n\t  watch: {\n\t    libraryExpanded: function libraryExpanded() {\n\t      this.setWidthForOpenLibrary();\n\t    },\n\t    objectTypesForTab: function objectTypesForTab(val) {\n\t      if (!_lodash2.default.includes(val, this.subselectionType)) {\n\t        if (this.modeTab === 'assign') {\n\t          this.subselectionType = 'thermal_zones';\n\t        } else {\n\t          this.subselectionType = val[0];\n\t        }\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    Library: _Library2.default\n\t  }\n\t};\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  computed: {\n\t    isChrome: function isChrome() {\n\t      var isChromium = window.chrome || window.qt,\n\t          winNav = window.navigator,\n\t          vendorName = winNav.vendor,\n\t          isOpera = winNav.userAgent.indexOf(\"OPR\") > -1,\n\t          isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1,\n\t          isIOSChrome = winNav.userAgent.match(\"CriOS\");\n\t\n\t      if (isIOSChrome) {\n\t        return false;\n\t      } else if (isChromium !== null && typeof isChromium !== \"undefined\" && vendorName === \"Google Inc.\" && isOpera === false && isIEedge === false) {\n\t        return true;\n\t      } else {\n\t        return false;\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'PrettySelect',\n\t  props: ['options', 'value', 'label', 'disabled'],\n\t  computed: {\n\t    normalizedOpts: function normalizedOpts() {\n\t      if (_lodash2.default.isArray(this.options)) {\n\t        if (!this.options.length) {\n\t          return [];\n\t        }\n\t        if (_lodash2.default.has(this.options[0], 'val') && _lodash2.default.has(this.options[0], 'display')) {\n\t          return this.options;\n\t        }\n\t        if (_lodash2.default.isString(this.options[0])) {\n\t          return this.options.map(function (o) {\n\t            return { val: o, display: o };\n\t          });\n\t        }\n\t      }\n\t      console.warn('unrecognized options structure', this.options);\n\t      return this.options;\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _helpers = __webpack_require__(21);\n\t\n\tvar _PrettySelect = __webpack_require__(45);\n\t\n\tvar _PrettySelect2 = _interopRequireDefault(_PrettySelect);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  computed: {\n\t    renderableProperties: function renderableProperties() {\n\t      return ['spaces', 'building_units', 'thermal_zones', 'space_types', 'construction_sets', 'pitched_roofs'];\n\t    },\n\t    renderableOptions: function renderableOptions() {\n\t      return this.renderableProperties.map(function (p) {\n\t        return {\n\t          display: (0, _helpers.displayNameForMode)(p),\n\t          val: p\n\t        };\n\t      });\n\t    },\n\t\n\t    currentMode: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.mode;\n\t      },\n\t      set: function set(mode) {\n\t        this.$store.dispatch('application/setCurrentMode', { mode: mode });\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    PrettySelect: _PrettySelect2.default\n\t  }\n\t};\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _SaveAsModal = __webpack_require__(270);\n\t\n\tvar _SaveAsModal2 = _interopRequireDefault(_SaveAsModal);\n\t\n\tvar _Settings = __webpack_require__(271);\n\t\n\tvar _Settings2 = _interopRequireDefault(_Settings);\n\t\n\tvar _PrettySelect = __webpack_require__(45);\n\t\n\tvar _PrettySelect2 = _interopRequireDefault(_PrettySelect);\n\t\n\tvar _helpers = __webpack_require__(21);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _svgs = __webpack_require__(71);\n\t\n\tvar _svgs2 = _interopRequireDefault(_svgs);\n\t\n\tvar _RenderByDropdown = __webpack_require__(274);\n\t\n\tvar _RenderByDropdown2 = _interopRequireDefault(_RenderByDropdown);\n\t\n\tvar _ComponentInstanceEditBar = __webpack_require__(259);\n\t\n\tvar _ComponentInstanceEditBar2 = _interopRequireDefault(_ComponentInstanceEditBar);\n\t\n\tvar _appconfig = __webpack_require__(20);\n\t\n\tvar _appconfig2 = _interopRequireDefault(_appconfig);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'toolbar',\n\t  data: function data() {\n\t    return {\n\t      componentTypes: {\n\t        daylighting_control_definitions: 'Daylighting Control Definitions',\n\t        window_definitions: 'Window Definitions'\n\t      },\n\t      showSaveModal: false,\n\t      thingWereSaving: '',\n\t      visibleComponentType: null,\n\t      showGroundPropsModal: false\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    setImageTool: function setImageTool() {\n\t      this.tool = 'Image';\n\t      if (this.currentStory.images.length === 0) {\n\t        window.eventBus.$emit('uploadImage');\n\t      }\n\t    },\n\t    zoomToFit: function zoomToFit() {\n\t      window.eventBus.$emit('zoomToFit');\n\t    },\n\t    exportData: function exportData() {\n\t      this.thingWereSaving = 'Floorplan';\n\t      this.showSaveModal = true;\n\t      return this.$store.getters['exportData'];\n\t    },\n\t    importDataAsFile: function importDataAsFile(event, type) {\n\t      var _this = this;\n\t\n\t      var file = event.target.files[0];\n\t      var reader = new FileReader();\n\t\n\t      reader.addEventListener('load', function () {\n\t        var data = void 0;\n\t        try {\n\t          data = JSON.parse(reader.result);\n\t        } catch (e) {\n\t          window.eventBus.$emit('error', 'Invalid JSON');\n\t          return;\n\t        }\n\t        if (type === 'library') {\n\t          _this.$store.dispatch('importLibrary', { data: data });\n\t        } else if (type === 'floorplan') {\n\t          _this.$store.dispatch('importFloorplan', {\n\t            clientWidth: document.getElementById('svg-grid').clientWidth,\n\t            clientHeight: document.getElementById('svg-grid').clientHeight,\n\t            data: data\n\t          });\n\t        }\n\t      }, false);\n\t\n\t      if (file) {\n\t        reader.readAsText(file);\n\t      }\n\t    },\n\t    undo: function undo() {\n\t      this.$store.timetravel.undo();\n\t    },\n\t    redo: function redo() {\n\t      this.$store.timetravel.redo();\n\t    },\n\t    updateUnits: function updateUnits(val) {\n\t      if (this.allowSettingUnits) {\n\t        this.rwUnits = val;\n\t      } else {\n\t        window.eventBus.$emit('error', 'Units must be set before any geometry is drawn.');\n\t      }\n\t    },\n\t    displayNameForMode: function displayNameForMode(mode) {\n\t      return _helpers2.default.displayNameForMode(mode);\n\t    }\n\t  },\n\t  computed: (0, _extends3.default)({\n\t    latestCreatedCompId: function latestCreatedCompId() {\n\t      return _.chain(this.allComponents).map('defs').flatten().map('id').map(Number).max().value() + '';\n\t    },\n\t    allComponents: function allComponents() {\n\t      var _this2 = this;\n\t\n\t      return _appconfig.componentTypes.map(function (ct) {\n\t        return {\n\t          defs: _this2.$store.state.models.library[ct],\n\t          name: _appconfig2.default.modes[ct],\n\t          type: ct\n\t        };\n\t      });\n\t    },\n\t    currentComponentType: function currentComponentType() {\n\t      return this.currentComponent.type;\n\t    },\n\t    currentComponentDefinition: function currentComponentDefinition() {\n\t      return this.currentComponent.definition;\n\t    }\n\t  }, (0, _vuex.mapGetters)({\n\t    currentSpaceProperty: 'application/currentSpaceProperty',\n\t    currentStory: 'application/currentStory'\n\t  }), (0, _vuex.mapState)({\n\t    mapEnabled: function mapEnabled(state) {\n\t      return state.project.map.enabled;\n\t    },\n\t    timetravelInitialized: function timetravelInitialized(state) {\n\t      return state.timetravelInitialized;\n\t    },\n\t    showImportExport: function showImportExport(state) {\n\t      return state.project.show_import_export;\n\t    },\n\t    allowSettingUnits: function allowSettingUnits(state) {\n\t      return state.project.config.unitsEditable && state.geometry.length === 1 && state.geometry[0].vertices.length === 0;\n\t    }\n\t  }), {\n\t    currentSubselectionType: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.subselectionType;\n\t      },\n\t      set: function set(sst) {\n\t        this.$store.dispatch('application/setCurrentSubselectionType', { subselectionType: sst });\n\t      }\n\t    },\n\t    availableTools: function availableTools() {\n\t      var tools = [];\n\t      switch (this.modeTab) {\n\t        case 'floorplan':\n\t          tools = ['Rectangle', 'Polygon', 'Eraser', 'Select', 'Image'];\n\t          break;\n\t        case 'shading':\n\t          tools = ['Rectangle', 'Polygon', 'Eraser', 'Select'];\n\t          break;\n\t        case 'components':\n\t          tools = ['Place Component'];\n\t          break;\n\t        case 'assign':\n\t          tools = ['Apply Property'];\n\t          break;\n\t        default:\n\t          break;\n\t      }\n\t      if (this.previousStoryVisible && (this.modeTab === 'floorplan' || this.currentMode === 'shading')) {\n\t        tools.push('Fill');\n\t      }\n\t      return tools;\n\t    },\n\t\n\t    currentMode: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.mode;\n\t      },\n\t      set: function set(mode) {\n\t        this.$store.dispatch('application/setCurrentMode', { mode: mode });\n\t      }\n\t    },\n\t    modeTab: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.modeTab;\n\t      },\n\t      set: function set(mt) {\n\t        this.$store.dispatch('application/setCurrentModeTab', { modeTab: mt });\n\t      }\n\t    },\n\t    gridVisible: {\n\t      get: function get() {\n\t        return this.$store.state.project.grid.visible;\n\t      },\n\t      set: function set(visible) {\n\t        this.$store.dispatch('project/setGridVisible', { visible: visible });\n\t      }\n\t    },\n\t    mapVisible: {\n\t      get: function get() {\n\t        return this.$store.state.project.map.visible;\n\t      },\n\t      set: function set(visible) {\n\t        this.$store.dispatch('project/setMapVisible', { visible: visible });\n\t      }\n\t    },\n\t    previousStoryVisible: {\n\t      get: function get() {\n\t        return this.$store.state.project.previous_story.visible;\n\t      },\n\t      set: function set(visible) {\n\t        this.$store.dispatch('project/setPreviousStoryVisible', { visible: visible });\n\t      }\n\t    },\n\t    tool: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.tool;\n\t      },\n\t      set: function set(tool) {\n\t        this.$store.dispatch('application/setCurrentTool', { tool: tool });\n\t      }\n\t    },\n\t\n\t    spacing: {\n\t      get: function get() {\n\t        return this.$store.state.project.grid.spacing;\n\t      },\n\t      set: function set(spacing) {\n\t        this.$store.dispatch('project/setSpacing', { spacing: spacing });\n\t      }\n\t    },\n\t\n\t    currentComponent: {\n\t      get: function get() {\n\t        return this.$store.getters['application/currentComponent'];\n\t      },\n\t      set: function set(item) {\n\t        if (!item || !item.definition || !item.definition.id) {\n\t          return;\n\t        }\n\t        this.$store.dispatch('application/setCurrentComponentDefinitionId', { id: item.definition.id });\n\t      }\n\t    },\n\t    rwUnits: {\n\t      get: function get() {\n\t        return this.$store.state.project.config.units;\n\t      },\n\t      set: function set(units) {\n\t        this.$store.dispatch('project/setUnits', { units: units });\n\t      }\n\t    },\n\t    snapMode: {\n\t      get: function get() {\n\t        return this.$store.state.application.currentSelections.snapMode;\n\t      },\n\t      set: function set(snapMode) {\n\t        this.$store.dispatch('application/setCurrentSnapMode', { snapMode: snapMode });\n\t      }\n\t    },\n\t    dataToDownload: function dataToDownload() {\n\t      return this.$store.getters['exportData'];\n\t    }\n\t  }),\n\t  watch: {\n\t    modeTab: function modeTab() {\n\t      if (this.modeTab === 'assign' && this.currentSpaceProperty) {\n\t        this.currentMode = this.currentSpaceProperty.type;\n\t      } else {\n\t        this.currentMode = 'spaces';\n\t      }\n\t    },\n\t    tool: function tool(val) {\n\t      if (this.availableTools.indexOf(val) === -1 && val !== 'Map') {\n\t        this.tool = this.availableTools[0];\n\t      }\n\t      if (this.tool === 'Image' && this.currentSubselectionType !== 'images') {\n\t        this.currentSubselectionType = 'images';\n\t      } else if (this.tool !== 'Image' && this.currentSubselectionType === 'images') {\n\t        this.currentSubselectionType = 'spaces';\n\t      }\n\t    },\n\t    availableTools: function availableTools() {\n\t      if (!_.includes(this.availableTools, this.tool)) {\n\t        this.tool = this.availableTools[0];\n\t      }\n\t    },\n\t    currentSubselectionType: function currentSubselectionType(val) {\n\t      if (val === 'images' && this.tool !== 'Image') {\n\t        this.tool = 'Image';\n\t      } else if (val !== 'images' && this.tool === 'Image') {\n\t        this.tool = this.availableTools[0];\n\t      }\n\t    },\n\t    latestCreatedCompId: function latestCreatedCompId() {\n\t      this.$store.dispatch('application/setCurrentComponentDefinitionId', { id: this.latestCreatedCompId });\n\t    }\n\t  },\n\t  components: (0, _extends3.default)({\n\t    PrettySelect: _PrettySelect2.default,\n\t    SaveAsModal: _SaveAsModal2.default,\n\t    Settings: _Settings2.default,\n\t    RenderByDropdown: _RenderByDropdown2.default,\n\t    ComponentInstanceEditBar: _ComponentInstanceEditBar2.default\n\t  }, _svgs2.default)\n\t};\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray2 = __webpack_require__(29);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\texports.drawWindow = drawWindow;\n\texports.drawWindowGuideline = drawWindowGuideline;\n\texports.drawDaylightingControl = drawDaylightingControl;\n\texports.drawDaylightingControlGuideline = drawDaylightingControlGuideline;\n\texports.drawImage = drawImage;\n\texports.default = drawMethods;\n\t\n\tvar _d = __webpack_require__(26);\n\t\n\tvar d3 = _interopRequireWildcard(_d);\n\t\n\t__webpack_require__(219);\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(4);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction boxAroundWindow(_ref) {\n\t  var xScale = _ref.xScale,\n\t      yScale = _ref.yScale,\n\t      edge = _ref.edge,\n\t      offset = _ref.offset;\n\t\n\t  var _unitPerpVector = (0, _helpers.unitPerpVector)(edge.start, edge.end),\n\t      dx = _unitPerpVector.dx,\n\t      dy = _unitPerpVector.dy;\n\t\n\t  return [[xScale(edge.start.x) + offset * dx, yScale(edge.start.y) + offset * dy], [xScale(edge.start.x) - offset * dx, yScale(edge.start.y) - offset * dy], [xScale(edge.end.x) - offset * dx, yScale(edge.end.y) - offset * dy], [xScale(edge.end.x) + offset * dx, yScale(edge.end.y) + offset * dy], [xScale(edge.start.x) + offset * dx, yScale(edge.start.y) + offset * dy]];\n\t}\n\t\n\tfunction drawWindowToWallRatio(xScale, yScale, el, datum) {\n\t  d3.select(el).selectAll('.single-window, .repeating-windows').remove();\n\t  var selection = d3.select(el).selectAll('.window-wall-ratio').data([datum]);\n\t  var wwrE = selection.enter().append('g').attr('class', 'window-wall-ratio');\n\t  wwrE.append('path').attr('class', 'hatch');\n\t\n\t  var line = d3.line();\n\t\n\t  var wwr = selection.merge(wwrE);\n\t  wwr.classed('selected', function (d) {\n\t    return d.selected;\n\t  });\n\t  wwr.classed('facing-selection', function (d) {\n\t    return d.facingSelection;\n\t  });\n\t  wwr.select('.hatch').attr('d', line(boxAroundWindow({ edge: datum, xScale: xScale, yScale: yScale, offset: 6 })));\n\t}\n\t\n\tfunction drawSingleWindow(xScale, yScale, el, datum) {\n\t  d3.select(el).selectAll('.window-wall-ratio, .repeating-windows').remove();\n\t\n\t  var selection = d3.select(el).selectAll('.single-window').data([datum]);\n\t  var windowE = selection.enter().append('g').attr('class', 'single-window');\n\t  windowE.append('line').attr('class', 'pane');\n\t  windowE.append('circle');\n\t  windowE.append('line').attr('class', 'start-linecap');\n\t  windowE.append('line').attr('class', 'end-linecap');\n\t\n\t  var windw = selection.merge(windowE);\n\t  windw.classed('selected', function (d) {\n\t    return d.selected;\n\t  });\n\t  windw.classed('facing-selection', function (d) {\n\t    return d.facingSelection;\n\t  });\n\t  windw.select('line.pane').attr('x1', function (d) {\n\t    return xScale(d.start.x);\n\t  }).attr('y1', function (d) {\n\t    return yScale(d.start.y);\n\t  }).attr('x2', function (d) {\n\t    return xScale(d.end.x);\n\t  }).attr('y2', function (d) {\n\t    return yScale(d.end.y);\n\t  });\n\t  windw.each(function (d) {\n\t    var _unitPerpVector2 = (0, _helpers.unitPerpVector)(d.start, d.end),\n\t        dx = _unitPerpVector2.dx,\n\t        dy = _unitPerpVector2.dy,\n\t        linecapOffset = 6;\n\t\n\t    var $this = d3.select(this);\n\t    $this.select('.start-linecap').attr('x1', xScale(d.start.x) + linecapOffset * dx).attr('y1', yScale(d.start.y) + linecapOffset * dy).attr('x2', xScale(d.start.x) - linecapOffset * dx).attr('y2', yScale(d.start.y) - linecapOffset * dy);\n\t    $this.select('.end-linecap').attr('x1', xScale(d.end.x) + linecapOffset * dx).attr('y1', yScale(d.end.y) + linecapOffset * dy).attr('x2', xScale(d.end.x) - linecapOffset * dx).attr('y2', yScale(d.end.y) - linecapOffset * dy);\n\t    if (d.selected || d.facingSelection) {\n\t      $this.raise();\n\t    }\n\t  });\n\t  windw.select('circle').attr('cx', function (d) {\n\t    return xScale(d.center.x);\n\t  }).attr('cy', function (d) {\n\t    return yScale(d.center.y);\n\t  }).attr('r', '2');\n\t}\n\t\n\tfunction drawRepeatingWindows(xScale, yScale, el, datum) {\n\t  var start = datum.start,\n\t      end = datum.end,\n\t      width = datum.width,\n\t      spacing = datum.spacing;\n\t\n\t  d3.select(el).selectAll('.window-wall-ratio, .single-window').remove();\n\t\n\t  var selection = d3.select(el).selectAll('.repeating-windows').data([datum]);\n\t  var rwE = selection.enter().append('g').attr('class', 'repeating-windows');\n\t  rwE.append('path').attr('class', 'box');\n\t  rwE.append('g').attr('class', 'sub-windows');\n\t\n\t  var line = d3.line();\n\t\n\t  var rw = selection.merge(rwE);\n\t  rw.classed('selected', function (d) {\n\t    return d.selected;\n\t  });\n\t  rw.classed('facing-selection', function (d) {\n\t    return d.facingSelection;\n\t  });\n\t  rw.select('.box').attr('d', line(boxAroundWindow({ edge: datum, xScale: xScale, yScale: yScale, offset: 6 })));\n\t\n\t  var direction = (0, _helpers.unitVector)(start, end),\n\t      centers = (0, _helpers.repeatingWindowCenters)({ start: start, end: end, spacing: spacing, width: width });\n\t  var widthX = direction.dx * width,\n\t      widthY = direction.dy * width;\n\t  var windows = centers.map(function (thisCenter) {\n\t    return (0, _extends3.default)({}, datum, {\n\t      center: thisCenter,\n\t      start: { x: thisCenter.x - widthX / 2, y: thisCenter.y - widthY / 2 },\n\t      end: { x: thisCenter.x + widthX / 2, y: thisCenter.y + widthY / 2 }\n\t    });\n\t  });\n\t  var windw = rw.select('.sub-windows').selectAll('.sub-window').data(windows);\n\t  windw.exit().remove();\n\t  windw.merge(windw.enter().append('g').attr('class', 'sub-window')).each(function (d) {\n\t    drawSingleWindow(xScale, yScale, this, d);\n\t  });\n\t}\n\t\n\tfunction drawWindow() {\n\t  var xScale = _lodash2.default.identity,\n\t      yScale = _lodash2.default.identity;\n\t  function chart(selection) {\n\t    selection.exit().remove();\n\t    selection.merge(selection.enter().append('g').attr('class', 'window')).each(function (d) {\n\t      if (d.window_definition_type === 'Single Window') {\n\t        drawSingleWindow(xScale, yScale, this, d);\n\t      } else if (d.window_definition_type === 'Window to Wall Ratio') {\n\t        drawWindowToWallRatio(xScale, yScale, this, d);\n\t      } else if (d.window_definition_type === 'Repeating Windows') {\n\t        drawRepeatingWindows(xScale, yScale, this, d);\n\t      } else {\n\t        throw new Error('unexpected window_definition_type: ' + d.window_definition_type);\n\t      }\n\t    });\n\t  }\n\t\n\t  chart.xScale = function (_) {\n\t    if (!arguments.length) return xScale;\n\t    xScale = _;\n\t    return chart;\n\t  };\n\t  chart.yScale = function (_) {\n\t    if (!arguments.length) return yScale;\n\t    yScale = _;\n\t    return chart;\n\t  };\n\t\n\t  return chart;\n\t}\n\t\n\tfunction distanceMeasure() {\n\t  var xScale = _lodash2.default.identity,\n\t      yScale = _lodash2.default.identity,\n\t      lineOffset = 20,\n\t      labelPosition = 1;\n\t  function chart(selection) {\n\t    selection.exit().remove();\n\t    var measureE = selection.enter().append('g').attr('class', 'distance-measure').attr('transform', function (d) {\n\t      var _unitPerpVector3 = (0, _helpers.unitPerpVector)(d.start, d.end),\n\t          dx = _unitPerpVector3.dx,\n\t          dy = _unitPerpVector3.dy,\n\t          offX = lineOffset * dx,\n\t          offY = lineOffset * dy;\n\t\n\t      return 'translate(' + offX + ', ' + offY + ')';\n\t    });\n\t    measureE.append('line');\n\t    measureE.append('text');\n\t    measureE.append('path').attr('class', 'start');\n\t    measureE.append('path').attr('class', 'end');\n\t\n\t    var measure = selection.merge(measureE);\n\t\n\t    measure.select('text').attr('x', function (d) {\n\t      return (1 - labelPosition) * xScale(d.start.x) + labelPosition * xScale(d.end.x);\n\t    }).attr('y', function (d) {\n\t      return (1 - labelPosition) * yScale(d.start.y) + labelPosition * yScale(d.end.y);\n\t    }).attr('dominant-baseline', 'text-before-edge').attrs(function (d) {\n\t      var _unitPerpVector4 = (0, _helpers.unitPerpVector)(d.start, d.end),\n\t          dx = _unitPerpVector4.dx,\n\t          dy = _unitPerpVector4.dy,\n\t          offset = 4;\n\t\n\t      return {\n\t        dx: dx * offset,\n\t        dy: dy * offset\n\t      };\n\t    }).text(function (d) {\n\t      var distance = (0, _helpers.distanceBetweenPoints)(d.start, d.end),\n\t          roundDistance = Math.round(distance * 100) / 100;\n\t      return '' + roundDistance;\n\t    });\n\t    measure.select('line').attrs(function (d) {\n\t      var _unitVector = (0, _helpers.unitVector)(d.start, d.end),\n\t          dx = _unitVector.dx,\n\t          dy = _unitVector.dy,\n\t          offset = 11.5,\n\t          offX = dx * offset,\n\t          offY = dy * offset;\n\t\n\t      return {\n\t        x1: xScale(d.start.x) + offX,\n\t        y1: yScale(d.start.y) - offY,\n\t        x2: xScale(d.end.x) - offX,\n\t        y2: yScale(d.end.y) + offY\n\t      };\n\t    });\n\t    var arrowHead = 'M -6,-2 V 2 L0,0 Z',\n\t        rotate = function rotate(d) {\n\t      var angle = (0, _helpers.edgeDirection)(d) * 180 / Math.PI,\n\t          adjust = d.start.x === d.end.x ? d.start.y > d.end.y ? 0 : 180 : d.start.x > d.end.x ? 0 : 180;\n\t\n\t      return adjust - angle;\n\t    };\n\t\n\t    measure.select('path.start').attr('transform', function (d) {\n\t      return 'translate(' + xScale(d.start.x) + ', ' + yScale(d.start.y) + ') scale(2) rotate(' + rotate(d) + ')';\n\t    }).attr('d', arrowHead);\n\t\n\t    measure.select('path.end').attr('transform', function (d) {\n\t      return 'translate(' + xScale(d.end.x) + ', ' + yScale(d.end.y) + ') scale(2) rotate(' + (180 + rotate(d)) + ')';\n\t    }).attr('d', arrowHead);\n\t  }\n\t  chart.xScale = function (_) {\n\t    if (!arguments.length) return xScale;\n\t    xScale = _;\n\t    return chart;\n\t  };\n\t  chart.yScale = function (_) {\n\t    if (!arguments.length) return yScale;\n\t    yScale = _;\n\t    return chart;\n\t  };\n\t  chart.lineOffset = function (_) {\n\t    if (!arguments.length) return lineOffset;\n\t    lineOffset = _;\n\t    return chart;\n\t  };\n\t  chart.labelPosition = function (_) {\n\t    if (!arguments.length) return labelPosition;\n\t    if (_ < 0 || _ > 1) {\n\t      console.warn('Expected labelPosition to be in [0, 1] (got ' + _ + ')');\n\t    }\n\t    labelPosition = _;\n\t    return chart;\n\t  };\n\t\n\t  return chart;\n\t}\n\t\n\tfunction drawWindowGuideline() {\n\t  var xScale = _lodash2.default.identity,\n\t      yScale = _lodash2.default.identity;\n\t  var drawMeasure = distanceMeasure();\n\t  function chart(selection) {\n\t    drawMeasure.xScale(xScale).yScale(yScale);\n\t    selection.exit().remove();\n\t    selection.merge(selection.enter().append('g').classed('window-guideline component-guideline', true)).selectAll('.distance-measure').data(selection.merge(selection.enter()).data().map(function (d) {\n\t      return { start: d.edge_start, end: d.center };\n\t    })).filter(function (d) {\n\t      return d.window_definition_type === 'Single Window';\n\t    }).call(drawMeasure);\n\t  }\n\t\n\t  chart.xScale = function (_) {\n\t    if (!arguments.length) return xScale;\n\t    xScale = _;\n\t    return chart;\n\t  };\n\t  chart.yScale = function (_) {\n\t    if (!arguments.length) return yScale;\n\t    yScale = _;\n\t    return chart;\n\t  };\n\t  return chart;\n\t}\n\t\n\tfunction drawDaylightingControl() {\n\t  var xScale = _lodash2.default.identity,\n\t      yScale = _lodash2.default.identity;\n\t\n\t  function chart(selection) {\n\t    selection.exit().remove();\n\t    var dcE = selection.enter().append('g').attr('class', 'daylighting-control');\n\t    dcE.append('circle').attr('class', 'bg');\n\t    dcE.append('path').attr('class', 'quadrants');\n\t    var dc = selection.merge(dcE);\n\t    dc.classed('selected', function (d) {\n\t      return d.selected;\n\t    });\n\t    dc.classed('facing-selection', function (d) {\n\t      return d.facingSelection;\n\t    });\n\t    dc.select('circle.bg').attr('cx', function (d) {\n\t      return xScale(d.x);\n\t    }).attr('cy', function (d) {\n\t      return yScale(d.y);\n\t    }).attr('r', 10);\n\t    dc.select('path.quadrants').attr('d', function (d) {\n\t      var x = xScale(d.x),\n\t          y = yScale(d.y),\n\t          r = 10;\n\t      return 'M' + x + ' ' + y + ' L' + (x + r) + ' ' + y + ' A ' + r + ' ' + r + ' 0 0 1 ' + x + ' ' + (y + r) + ' L ' + x + ' ' + (y - r) + ' A ' + r + ' ' + r + ' 0 0 0 ' + (x - r) + ' ' + y + ' Z';\n\t    });\n\t    dc.each(function (d) {\n\t      if (d.selected || d.facingSelection) {\n\t        d3.select(this).raise();\n\t      }\n\t    });\n\t  }\n\t\n\t  chart.xScale = function (_) {\n\t    if (!arguments.length) return xScale;\n\t    xScale = _;\n\t    return chart;\n\t  };\n\t  chart.yScale = function (_) {\n\t    if (!arguments.length) return yScale;\n\t    yScale = _;\n\t    return chart;\n\t  };\n\t  return chart;\n\t}\n\t\n\tfunction drawDaylightingControlGuideline() {\n\t  var xScale = _lodash2.default.identity,\n\t      yScale = _lodash2.default.identity;\n\t  var drawMeasure = distanceMeasure().lineOffset(0).labelPosition(0.5);\n\t  function chart(selection) {\n\t    drawMeasure.xScale(xScale).yScale(yScale);\n\t    selection.exit().remove();\n\t    var guideE = selection.enter().append('g').classed('daylighting-control-guideline component-guideline', true);\n\t\n\t    var data = _lodash2.default.flatMap(selection.merge(selection.enter()).data(), function (d) {\n\t      var dir = (0, _helpers.unitVector)(d.nearestEdge.v1, d.nearestEdge.v2),\n\t          v = { start: d.loc, end: d.nearestEdge.proj },\n\t          dotProduct = (v.end.x - v.start.x) * dir.dx + (v.end.y - v.start.y) * dir.dy,\n\t          parallel = {\n\t        start: v.start,\n\t        end: {\n\t          x: v.start.x + dotProduct * dir.dx,\n\t          y: v.start.y + dotProduct * dir.dy\n\t        }\n\t      },\n\t          perp = {\n\t        start: parallel.end,\n\t        end: v.end\n\t      };\n\t      return [v, perp, parallel].filter(function (_ref2) {\n\t        var start = _ref2.start,\n\t            end = _ref2.end;\n\t        return (0, _helpers.distanceBetweenPoints)(start, end) > 0.01;\n\t      });\n\t    });\n\t    var guide = selection.merge(guideE);\n\t    guide.selectAll('.distance-measure').data(data).call(drawMeasure);\n\t  }\n\t\n\t  chart.xScale = function (_) {\n\t    if (!arguments.length) return xScale;\n\t    xScale = _;\n\t    return chart;\n\t  };\n\t  chart.yScale = function (_) {\n\t    if (!arguments.length) return yScale;\n\t    yScale = _;\n\t    return chart;\n\t  };\n\t  return chart;\n\t}\n\tvar invRoot2 = 1 / Math.sqrt(2);\n\tvar RESIZE_CURSORS = [{ vec: { x: 1, y: 0 }, cursor: 'ew-resize' }, { vec: { x: -1, y: 0 }, cursor: 'ew-resize' }, { vec: { x: 0, y: 1 }, cursor: 'ns-resize' }, { vec: { x: 0, y: -1 }, cursor: 'ns-resize' }, { vec: { x: invRoot2, y: invRoot2 }, cursor: 'nwse-resize' }, { vec: { x: -1 * invRoot2, y: -1 * invRoot2 }, cursor: 'nwse-resize' }, { vec: { x: invRoot2, y: -1 * invRoot2 }, cursor: 'nesw-resize' }, { vec: { x: -1 * invRoot2, y: invRoot2 }, cursor: 'nesw-resize' }];\n\tfunction bestResizeCursor(xOff, yOff, rotation) {\n\t  var norm = Math.sqrt(xOff * xOff + yOff * yOff),\n\t      x = xOff / norm,\n\t      y = yOff / norm,\n\t      a = Math.PI * rotation / 180,\n\t      pt = {\n\t    x: x * Math.cos(a) - y * Math.sin(a),\n\t    y: x * Math.sin(a) + y * Math.cos(a)\n\t  };\n\t\n\t  return _lodash2.default.minBy(RESIZE_CURSORS, function (c) {\n\t    return (0, _helpers.distanceBetweenPoints)(c.vec, pt);\n\t  }).cursor;\n\t}\n\tvar rotateCursor = 'url(data:image/svg+xml;base64,' + btoa('<svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0\" y=\"0\" width=\"25.6\" height=\"25.6\" viewBox=\"0 0 25.6 25.6\">' + '  <path transform=\"scale(0.5)\" d=\"M25.6,44.8c7.9406,0,14.4-6.4594,14.4-14.4s-6.4594-14.4-14.4-14.4v9.6L9.6,12.8L25.6,0v9.6c11.4688,0,20.8,9.3313,20.8,20.8s-9.3313,20.8-20.8,20.8S4.8,41.8688,4.8,30.4h6.4C11.2,38.3406,17.6594,44.8,25.6,44.8z\"/>' + '</svg>') + ') 12.8 12.8, pointer';\n\t\n\tfunction drawImage() {\n\t  var xScale = _lodash2.default.identity,\n\t      yScale = _lodash2.default.identity,\n\t      updateImage = _lodash2.default.identity,\n\t      selectImage = _lodash2.default.identity;\n\t  function chart(selection) {\n\t    var pxPerRWU = (xScale(100) - xScale(0)) / 100;\n\t\n\t    var startX = void 0,\n\t        startY = void 0,\n\t        currX = void 0,\n\t        currY = void 0;\n\t    var offset = function offset(d) {\n\t      var x = currX - startX,\n\t          y = currY - startY,\n\t          invR = -1 * d.r * Math.PI / 180;\n\t      return {\n\t        dx: x * Math.cos(invR) - y * Math.sin(invR),\n\t        dy: x * Math.sin(invR) + y * Math.cos(invR)\n\t      };\n\t    },\n\t        moveable = d3.drag().on('start', function () {\n\t      d3.event.sourceEvent.stopPropagation();\n\t      var _d3$mouse = d3.mouse(document.querySelector('#grid svg'));\n\t\n\t      var _d3$mouse2 = (0, _slicedToArray3.default)(_d3$mouse, 2);\n\t\n\t      startX = _d3$mouse2[0];\n\t      startY = _d3$mouse2[1];\n\t\n\t      currX = currY = undefined;\n\t    }).on('drag', function (d) {\n\t      var _d3$mouse3 = d3.mouse(document.querySelector('#grid svg'));\n\t\n\t      var _d3$mouse4 = (0, _slicedToArray3.default)(_d3$mouse3, 2);\n\t\n\t      currX = _d3$mouse4[0];\n\t      currY = _d3$mouse4[1];\n\t\n\t      var _offset = offset(d),\n\t          dx = _offset.dx,\n\t          dy = _offset.dy;\n\t\n\t      d3.select(this).attr('transform', 'translate(' + dx + ', ' + dy + ')');\n\t    }).on('end', function (d) {\n\t      if (typeof currX === 'undefined') {\n\t        return;\n\t      }\n\t\n\t      var _offset2 = offset(d),\n\t          dx = _offset2.dx,\n\t          dy = _offset2.dy;\n\t\n\t      updateImage({\n\t        image: d,\n\t        x: d.x + (currX - startX) / pxPerRWU,\n\t        y: d.y - (currY - startY) / pxPerRWU\n\t      });\n\t    });\n\t\n\t    var scalingFactor = function scalingFactor(d) {\n\t      var pxOrigin = { x: xScale(d.x), y: yScale(d.y) },\n\t          distCurrToOrigin = (0, _helpers.distanceBetweenPoints)({ x: currX, y: currY }, pxOrigin),\n\t          distStartToOrigin = (0, _helpers.distanceBetweenPoints)({ x: startX, y: startY }, pxOrigin),\n\t          scale = distCurrToOrigin / distStartToOrigin;\n\t      return scale;\n\t    },\n\t        resizeable = d3.drag().on('start', function () {\n\t      d3.event.sourceEvent.stopPropagation();\n\t\n\t      var _d3$mouse5 = d3.mouse(document.querySelector('#grid svg'));\n\t\n\t      var _d3$mouse6 = (0, _slicedToArray3.default)(_d3$mouse5, 2);\n\t\n\t      startX = _d3$mouse6[0];\n\t      startY = _d3$mouse6[1];\n\t\n\t      currX = currY = undefined;\n\t    }).on('drag', function (d) {\n\t      var _d3$mouse7 = d3.mouse(document.querySelector('#grid svg'));\n\t\n\t      var _d3$mouse8 = (0, _slicedToArray3.default)(_d3$mouse7, 2);\n\t\n\t      currX = _d3$mouse8[0];\n\t      currY = _d3$mouse8[1];\n\t\n\t      d3.select(this.parentNode.parentNode).attr('transform', 'scale(' + scalingFactor(d) + ')');\n\t    }).on('end', function (d) {\n\t      if (typeof currX === 'undefined') {\n\t        return;\n\t      }\n\t      var scale = scalingFactor(d);\n\t      updateImage({\n\t        image: d,\n\t        width: d.width * scale,\n\t        height: d.height * scale\n\t      });\n\t    });\n\t\n\t    var rotationAngle = function rotationAngle(d) {\n\t      var pxOrigin = { x: xScale(d.x), y: yScale(d.y) },\n\t          startAngle = (0, _helpers.edgeDirection)({ start: pxOrigin, end: { x: startX, y: startY } }),\n\t          currAngle = (0, _helpers.edgeDirection)({ start: pxOrigin, end: { x: currX, y: currY } });\n\t      return 180 * (currAngle - startAngle) / Math.PI + 180 * (xScale(d.x) > currX !== xScale(d.x) > startX);\n\t    },\n\t        rotateable = d3.drag().on('start', function () {\n\t      d3.event.sourceEvent.stopPropagation();\n\t\n\t      var _d3$mouse9 = d3.mouse(document.querySelector('#grid svg'));\n\t\n\t      var _d3$mouse10 = (0, _slicedToArray3.default)(_d3$mouse9, 2);\n\t\n\t      startX = _d3$mouse10[0];\n\t      startY = _d3$mouse10[1];\n\t\n\t      currX = currY = undefined;\n\t    }).on('drag', function (d) {\n\t      var _d3$mouse11 = d3.mouse(document.querySelector('#grid svg'));\n\t\n\t      var _d3$mouse12 = (0, _slicedToArray3.default)(_d3$mouse11, 2);\n\t\n\t      currX = _d3$mouse12[0];\n\t      currY = _d3$mouse12[1];\n\t\n\t      d3.select(this.parentNode.parentNode).attr('transform', 'rotate(' + rotationAngle(d) + ')');\n\t    }).on('end', function (d) {\n\t      if (typeof currX === 'undefined') {\n\t        return;\n\t      }\n\t      var rotation = rotationAngle(d);\n\t      updateImage({\n\t        image: d,\n\t        r: rotation + d.r\n\t      });\n\t    });\n\t\n\t    selection.exit().remove();\n\t    var imageGroupE = selection.enter().append('g').attr('class', 'image-group');\n\t    var moveableWrapperE = imageGroupE.append('g').attr('class', 'moveable-wrapper');\n\t    moveableWrapperE.append('image');\n\t    var controlsE = moveableWrapperE.append('g').attr('class', 'controls');\n\t    controlsE.append('line').attr('class', 'rotation-to-center');\n\t    controlsE.append('circle').attr('class', 'rotation-handle');\n\t    ['tl', 'tr', 'bl', 'br'].forEach(function (corner) {\n\t      return controlsE.append('circle').attr('class', 'corner ' + corner);\n\t    });\n\t\n\t    var imageGroup = selection.merge(imageGroupE);\n\t\n\t    imageGroup.attr('transform', function (d) {\n\t      return 'translate(' + xScale(d.x) + ', ' + yScale(d.y) + ') rotate(' + d.r + ')';\n\t    });\n\t\n\t    imageGroup.select('image').attr('x', function (d) {\n\t      return -1 * pxPerRWU * d.width / 2;\n\t    }).attr('y', function (d) {\n\t      return -1 * pxPerRWU * d.height / 2;\n\t    }).attr('width', function (d) {\n\t      return pxPerRWU * d.width;\n\t    }).attr('height', function (d) {\n\t      return pxPerRWU * d.height;\n\t    }).attr('opacity', function (d) {\n\t      return d.opacity;\n\t    }).attr('xlink:href', function (d) {\n\t      return d.src;\n\t    });\n\t\n\t    imageGroup.select('.moveable-wrapper').attr('transform', 'translate(0,0)').style('cursor', function (d) {\n\t      return d.current ? 'move' : d.clickable ? 'pointer' : null;\n\t    }).style('pointer-events', function (d) {\n\t      return d.current ? 'auto' : 'none';\n\t    });\n\t\n\t    imageGroup.select('.controls').attr('display', function (d) {\n\t      return d.current ? '' : 'none';\n\t    });\n\t\n\t    imageGroup.each(function (d) {\n\t      var ig = d3.select(this);\n\t      if (!d.clickable) {\n\t        ig.on('click', null);\n\t      } else {\n\t        ig.on('click', function (d) {\n\t          d3.event.stopPropagation();\n\t          selectImage(d);\n\t        });\n\t      }\n\t      if (!d.current) {\n\t        ig.select('.moveable-wrapper, .rotation-handle, .corner').on('.drag', null);\n\t      } else {\n\t        ig.select('.moveable-wrapper').call(moveable);\n\t\n\t        ig.select('.controls .center').attr('cx', 0).attr('cy', 0).attr('r', 3);\n\t\n\t        ig.select('.controls .rotation-handle').attr('cx', 0).attr('cy', pxPerRWU * d.height * 0.7).attr('r', 5).style('cursor', rotateCursor).call(rotateable);\n\t        ig.select('.controls .rotation-to-center').attr('x1', 0).attr('y1', pxPerRWU * d.height / 2).attr('x2', 0).attr('y2', pxPerRWU * d.height * 0.7 - 5);\n\t        _lodash2.default.forIn({ tl: [-1, -1], tr: [1, -1], bl: [-1, 1], br: [1, 1] }, function (_ref3, label) {\n\t          var _ref4 = (0, _slicedToArray3.default)(_ref3, 2),\n\t              xOff = _ref4[0],\n\t              yOff = _ref4[1];\n\t\n\t          ig.select('.controls .' + label).attr('cx', xOff * pxPerRWU * d.width / 2).attr('cy', yOff * pxPerRWU * d.height / 2).attr('r', 5).style('cursor', bestResizeCursor(xOff, yOff, d.r)).call(resizeable);\n\t        });\n\t      }\n\t    });\n\t  }\n\t\n\t  chart.xScale = function (_) {\n\t    if (!arguments.length) return xScale;\n\t    xScale = _;\n\t    return chart;\n\t  };\n\t  chart.yScale = function (_) {\n\t    if (!arguments.length) return yScale;\n\t    yScale = _;\n\t    return chart;\n\t  };\n\t  chart.updateImage = function (_) {\n\t    if (!arguments.length) return updateImage;\n\t    updateImage = _;\n\t    return chart;\n\t  };\n\t  chart.selectImage = function (_) {\n\t    if (!arguments.length) return selectImage;\n\t    selectImage = _;\n\t    return chart;\n\t  };\n\t  return chart;\n\t}\n\t\n\tfunction drawMethods(_ref5) {\n\t  var xScale = _ref5.xScale,\n\t      yScale = _ref5.yScale,\n\t      updateImage = _ref5.updateImage,\n\t      selectImage = _ref5.selectImage;\n\t\n\t\n\t  return {\n\t    drawWindow: drawWindow().xScale(xScale).yScale(yScale),\n\t    drawWindowGuideline: drawWindowGuideline().xScale(xScale).yScale(yScale),\n\t    drawDaylightingControl: drawDaylightingControl().xScale(xScale).yScale(yScale),\n\t    drawDaylightingControlGuideline: drawDaylightingControlGuideline().xScale(xScale).yScale(yScale),\n\t    drawImage: drawImage().xScale(xScale).yScale(yScale).updateImage(updateImage).selectImage(selectImage)\n\t  };\n\t}\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(8);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _slicedToArray2 = __webpack_require__(29);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\tvar _toConsumableArray2 = __webpack_require__(15);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _defineProperty2 = __webpack_require__(28);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _d = __webpack_require__(26);\n\t\n\tvar d3 = _interopRequireWildcard(_d);\n\t\n\tvar _polylabel = __webpack_require__(247);\n\t\n\tvar _polylabel2 = _interopRequireDefault(_polylabel);\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _snapping = __webpack_require__(46);\n\t\n\tvar _helpers = __webpack_require__(4);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _helpers3 = __webpack_require__(11);\n\t\n\tvar _helpers4 = _interopRequireDefault(_helpers3);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction ticksInRange(start, stop, spacing) {\n\t  return _lodash2.default.range(Math.ceil(start / spacing) * spacing, stop, spacing);\n\t}\n\t\n\tfunction transformDiff(t1, t2) {\n\t  return new d3.zoomIdentity.constructor(t2.k / t1.k, (t2.x / t2.k - t1.x / t1.k) * t2.k, (t2.y / t2.k - t1.y / t1.k) * t2.k);\n\t}\n\t\n\texports.default = {\n\t  gridClicked: function gridClicked() {\n\t    if (this.currentTool === 'Eraser' || (this.currentTool === 'Rectangle' || this.currentTool === 'Polygon') && (this.currentSpace || this.currentShading)) {\n\t      this.addPoint();\n\t    }\n\t    if (this.currentTool === 'Place Component') {\n\t      this.placeOrSelectComponent();\n\t    }\n\t    if (this.currentTool === 'Image') {\n\t      this.deselectImages();\n\t    }\n\t    if (this.currentTool === 'Apply Property') {\n\t      this.assignProperty();\n\t    }\n\t  },\n\t  assignProperty: function assignProperty() {\n\t    var _this = this;\n\t\n\t    if (!this.currentSpaceProperty) {\n\t      return;\n\t    }\n\t    var gridCoords = d3.mouse(this.$refs.grid),\n\t        gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n\t        rwuPoint = this.gridPointToRWU(gridPoint),\n\t        space = this.currentStory.spaces.find(function (sp) {\n\t      var face = _lodash2.default.find(_this.denormalizedGeometry.faces, { id: sp.face_id });\n\t      if (!face) {\n\t        return false;\n\t      }\n\t      return _helpers2.default.pointInFace(rwuPoint, face.vertices);\n\t    });\n\t    if (!space) {\n\t      return;\n\t    }\n\t    this.$store.dispatch('models/updateSpaceWithData', (0, _defineProperty3.default)({\n\t      space: space\n\t    }, this.spacePropertyKey, this.currentSpaceProperty.id));\n\t  },\n\t  deselectImages: function deselectImages() {\n\t    this.$store.dispatch('application/setCurrentSubSelectionId', this.currentStory.spaces[0]);\n\t  },\n\t  componentToSelect: function componentToSelect() {\n\t    var gridCoords = d3.mouse(this.$refs.grid),\n\t        gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n\t        rwuPoint = this.gridPointToRWU(gridPoint),\n\t        component = _lodash2.default.minBy(this.currentComponentTypeLocs(rwuPoint), function (ci) {\n\t      return (0, _helpers.distanceBetweenPoints)(ci, rwuPoint);\n\t    }),\n\t        distToComp = component && (0, _helpers.distanceBetweenPoints)(component, rwuPoint);\n\t    if (!component || distToComp > this.spacing / 2) {\n\t      return null;\n\t    }\n\t    return component;\n\t  },\n\t  handleKeyDown: function handleKeyDown(e) {\n\t    if ((e.keyCode === 8 || e.keyCode === 46) && !_lodash2.default.includes(['input', 'textarea'], document.activeElement.tagName.toLowerCase())) {\n\t      this.deleteElement();\n\t    }\n\t  },\n\t  deleteElement: function deleteElement() {\n\t    if (this.modeTab === 'components') {\n\t      this.removeSelectedComponent();\n\t    }\n\t  },\n\t  removeSelectedComponent: function removeSelectedComponent() {\n\t    var component = this.currentComponentInstance;\n\t    if (!component) {\n\t      return;\n\t    }\n\t    var payload = { story_id: this.currentStory.id, object: { id: component.id } };\n\t    if (component.type === 'windows') {\n\t      this.$store.dispatch('models/destroyWindow', payload);\n\t    } else if (component.type === 'daylighting_controls') {\n\t      this.$store.dispatch('models/destroyDaylightingControl', payload);\n\t    } else {\n\t      console.error('unrecognized component to remove: ' + component);\n\t    }\n\t  },\n\t  placeOrSelectComponent: function placeOrSelectComponent() {\n\t    var toSelect = d3.event.shiftKey ? false : this.componentToSelect();\n\t    if (toSelect) {\n\t      this.currentComponentInstanceId = toSelect.id;\n\t      return;\n\t    }\n\t\n\t    if (this.currentComponentType === 'window_definitions') {\n\t      this.placeWindow();\n\t    } else if (this.currentComponentType === 'daylighting_control_definitions') {\n\t      this.placeDaylightingControl();\n\t    } else {\n\t      throw new Error('unrecognized componentType: ' + this.currentComponentType);\n\t    }\n\t  },\n\t  highlightComponentToSelect: function highlightComponentToSelect() {\n\t    if (d3.event.shiftKey) {\n\t      return null;\n\t    }\n\t    var component = this.componentToSelect();\n\t    this.componentFacingSelection = component && component.id;\n\t    if (!component) {} else if (component.type === 'windows') {\n\t      this.highlightWindowGuideline(component);\n\t    } else if (component.type === 'daylighting_controls') {\n\t      this.highlightDaylightingControlGuideline(component);\n\t    } else {\n\t      throw new Error('unrecognized componentType: ' + this.currentComponentType);\n\t    }\n\t    return component;\n\t  },\n\t  placeWindow: function placeWindow() {\n\t    var gridCoords = d3.mouse(this.$refs.grid),\n\t        gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n\t        rwuPoint = this.gridPointToRWU(gridPoint),\n\t        loc = (0, _snapping.snapWindowToEdge)(this.snapMode, this.spaceEdges, rwuPoint, this.currentComponentDefinition, this.spacing * 2, this.spacing);\n\t\n\t    if (!loc) {\n\t      return;\n\t    }\n\t\n\t    var payload = {\n\t      story_id: this.currentStory.id,\n\t      edge_id: loc.edge_id,\n\t      window_definition_id: this.currentComponentDefinition.id,\n\t      alpha: loc.alpha\n\t    };\n\t    this.$store.dispatch('models/createWindow', payload);\n\t  },\n\t  raiseOrLowerImages: function raiseOrLowerImages() {\n\t    if (this.currentTool === 'Image') {\n\t      d3.select('#grid svg .images').raise();\n\t    } else {\n\t      d3.select('#grid svg .images').lower();\n\t    }\n\t  },\n\t  placeDaylightingControl: function placeDaylightingControl() {\n\t    var gridCoords = d3.mouse(this.$refs.grid),\n\t        gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n\t        rwuPoint = {\n\t      x: this.gridToRWU(gridPoint.x, 'x'),\n\t      y: this.gridToRWU(gridPoint.y, 'y')\n\t    },\n\t        loc = (0, _snapping.snapToVertexWithinFace)(this.snapMode, this.spaceFaces, rwuPoint, this.spacing);\n\t\n\t    if (!loc) {\n\t      return;\n\t    }\n\t\n\t    var payload = (0, _extends3.default)({\n\t      story_id: this.currentStory.id,\n\t      face_id: loc.face_id,\n\t      daylighting_control_definition_id: this.currentComponentDefinition.id\n\t    }, loc);\n\t    this.$store.dispatch('models/createDaylightingControl', payload);\n\t  },\n\t  addPoint: function addPoint() {\n\t    var gridCoords = d3.mouse(this.$refs.grid),\n\t        gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n\t        snapTarget = this.findSnapTarget(gridPoint);\n\t\n\t    if (snapTarget.type === 'vertex' && snapTarget.origin && this.currentTool === 'Polygon') {\n\t      this.savePolygonFace();\n\t      return;\n\t    }\n\t\n\t    var newPoint = snapTarget.type === 'edge' ? snapTarget.projection : snapTarget;\n\t    this.points.push(newPoint);\n\t    this.drawPoints();\n\t\n\t    if (this.currentTool === 'Eraser' && this.points.length === 2) {\n\t      this.eraseRectangularSelection();\n\t    }\n\t    if (this.currentTool === 'Rectangle' && this.points.length === 2) {\n\t      this.saveRectangularFace();\n\t    }\n\t  },\n\t  highlightSnapTarget: function highlightSnapTarget(e) {\n\t    if (!(this.currentTool === 'Eraser' || this.currentTool === 'Place Component' && this.currentComponentDefinition || (this.currentTool === 'Rectangle' || this.currentTool === 'Polygon') && (this.currentSpace || this.currentShading))) {\n\t      return;\n\t    }\n\t\n\t    this.clearHighlights();\n\t\n\t    var gridPoint = void 0;\n\t    if (d3.event instanceof MouseEvent) {\n\t      var gridCoords = d3.mouse(this.$refs.grid);\n\t      gridPoint = { x: gridCoords[0], y: gridCoords[1] };\n\t    } else {\n\t      gridPoint = this.lastMousePosition;\n\t    }\n\t    if (!gridPoint) {\n\t      return;\n\t    }\n\t\n\t    if (this.currentTool === 'Place Component') {\n\t      this.highlightComponentToPlaceOrSelect(gridPoint);\n\t      return;\n\t    }\n\t\n\t    var snapTarget = this.findSnapTarget(gridPoint);\n\t\n\t    var guidePoint = snapTarget.type === 'edge' ? snapTarget.projection : snapTarget;\n\t\n\t    var ellipsePoint = snapTarget.synthetic ? snapTarget.originalPt : guidePoint;\n\t    this.drawGuideLines(e, guidePoint);\n\t\n\t    if (snapTarget.type === 'edge' || snapTarget.type === 'vertex') {\n\t      d3.select('#grid svg').append('ellipse').attr('cx', this.rwuToGrid(ellipsePoint.x, 'x')).attr('cy', this.rwuToGrid(ellipsePoint.y, 'y')).attr('rx', 5).attr('ry', 5).classed('highlight', true).attr('data-transform-plz', '').attr('vector-effect', 'non-scaling-stroke');\n\t    } else {\n\t      d3.select('#grid svg').append('ellipse').attr('cx', this.rwuToGrid(ellipsePoint.x, 'x')).attr('cy', this.rwuToGrid(ellipsePoint.y, 'y')).attr('rx', 2).attr('ry', 2).classed('gridpoint', true).attr('data-transform-plz', '').attr('vector-effect', 'non-scaling-stroke');\n\t    }\n\t\n\t    if (snapTarget.type === 'edge' && this.currentTool !== 'Eraser') {\n\t      d3.select('#grid svg').append('line').attr('x1', this.rwuToGrid(snapTarget.v1GridCoords.x, 'x')).attr('y1', this.rwuToGrid(snapTarget.v1GridCoords.y, 'y')).attr('x2', this.rwuToGrid(snapTarget.v2GridCoords.x, 'x')).attr('y2', this.rwuToGrid(snapTarget.v2GridCoords.y, 'y')).attr('stroke-width', 1).classed('highlight', true).attr('data-transform-plz', '').attr('vector-effect', 'non-scaling-stroke');\n\t    }\n\t\n\t    this.lastMousePosition = gridPoint;\n\t  },\n\t  clearHighlights: function clearHighlights() {\n\t    d3.selectAll('#grid .highlight, #grid .gridpoint, #grid .guideline').remove();\n\t    this.componentFacingSelection = null;\n\t  },\n\t  clearComponentHighlights: function clearComponentHighlights() {\n\t    d3.selectAll('#grid .highlight, #grid .component-guideline').remove();\n\t    this.componentFacingSelection = null;\n\t  },\n\t  highlightComponentToPlaceOrSelect: function highlightComponentToPlaceOrSelect(gridPoint) {\n\t    if (this.highlightComponentToSelect()) {\n\t      return;\n\t    }\n\t\n\t    this.highlightComponentToPlace(gridPoint);\n\t  },\n\t  highlightComponentToPlace: function highlightComponentToPlace(gridPoint) {\n\t    if (this.currentComponentType === 'window_definitions') {\n\t      this.highlightWindow(gridPoint);\n\t    } else {\n\t      this.highlightDaylightingControl(gridPoint);\n\t    }\n\t  },\n\t  highlightWindow: function highlightWindow(gridPoint) {\n\t    var rwuPoint = this.gridPointToRWU(gridPoint),\n\t        loc = (0, _snapping.snapWindowToEdge)(this.snapMode, this.spaceEdges, rwuPoint, this.currentComponentDefinition, this.spacing * 2, this.spacing);\n\t\n\t    if (!loc) {\n\t      return;\n\t    }\n\t    d3.select('#grid svg').append('g').classed('highlight', true).selectAll('.window').data([(0, _extends3.default)({}, loc, {\n\t      window_definition_type: this.currentComponentDefinition.window_definition_type,\n\t      width: this.currentComponentDefinition.width,\n\t      spacing: this.currentComponentDefinition.window_spacing\n\t    })]).call(this.drawWindow);\n\t    this.highlightWindowGuideline(loc);\n\t  },\n\t  highlightWindowGuideline: function highlightWindowGuideline(loc) {\n\t    d3.select('#grid svg').append('g').classed('guideline', true).selectAll('.window-guideline').data([loc]).call(this.drawWindowGuideline);\n\t  },\n\t  highlightDaylightingControl: function highlightDaylightingControl(gridPoint) {\n\t    var rwuPoint = this.gridPointToRWU(gridPoint),\n\t        loc = (0, _snapping.snapToVertexWithinFace)(this.snapMode, this.spaceFaces, rwuPoint, this.spacing);\n\t    if (!loc) {\n\t      return;\n\t    }\n\t    d3.select('#grid svg').append('g').classed('highlight', true).selectAll('.daylighting-control').data([loc]).call(this.drawDaylightingControl);\n\t\n\t    this.highlightDaylightingControlGuideline(loc);\n\t  },\n\t  highlightDaylightingControlGuideline: function highlightDaylightingControlGuideline(loc) {\n\t    var face = _lodash2.default.find(this.denormalizedGeometry.faces, { id: loc.face_id }),\n\t        windows = this.windowsOnFace(face),\n\t        nearestEdge = (0, _snapping.findClosestWindow)(windows, loc) || (0, _snapping.findClosestEdge)(face.edges, loc);\n\t    d3.select('#grid svg').append('g').classed('guideline', true).selectAll('.daylighting-control-guideline').data([{ loc: loc, nearestEdge: nearestEdge }]).call(this.drawDaylightingControlGuideline);\n\t  },\n\t  drawGuideLines: function drawGuideLines(e, guidePoint) {\n\t    var _this2 = this;\n\t\n\t    if (!this.points.length) {\n\t      return;\n\t    }\n\t\n\t    this.eraseGuidelines();\n\t\n\t    var guidelinePoints = void 0,\n\t        guidelinePaths = void 0;\n\t\n\t    if (this.currentTool === 'Polygon') {\n\t      guidelinePoints = [guidePoint, this.points[this.points.length - 1]];\n\t      guidelinePaths = [guidelinePoints];\n\t    } else if (this.currentTool === 'Rectangle' || this.currentTool === 'Eraser') {\n\t      guidelinePoints = [this.points[0], { x: guidePoint.x, y: this.points[0].y }, guidePoint, { x: this.points[0].x, y: guidePoint.y }, this.points[0]];\n\t\n\t      guidelinePaths = [[guidelinePoints[0], guidelinePoints[1]], [guidelinePoints[1], guidelinePoints[2]]];\n\t    }\n\t\n\t    var guidelineArea = this.currentTool === 'Polygon' ? [].concat((0, _toConsumableArray3.default)(this.points), [guidePoint, this.points[0]]) : guidelinePoints,\n\t        guidelinePolys = [guidelineArea, this.points],\n\t        svg = d3.select('#grid svg');\n\t\n\t    svg.selectAll('.guideline-line').append('path').datum(guidelinePoints).attr('fill', 'none').classed('guideline guideline-line', true).attr('vector-effect', 'non-scaling-stroke').attr('data-transform-plz', '').attr('d', d3.line().x(function (d) {\n\t      return _this2.rwuToGrid(d.x, 'x');\n\t    }).y(function (d) {\n\t      return _this2.rwuToGrid(d.y, 'y');\n\t    })).lower();\n\t\n\t    svg.selectAll('.guideline-area').data(guidelinePolys).enter().append('polygon').attr('points', function (d) {\n\t      return d.map(function (p) {\n\t        return [_this2.rwuToGrid(p.x, 'x'), _this2.rwuToGrid(p.y, 'y')].join(',');\n\t      }).join(' ');\n\t    }).classed('guideline guideline-area guideLine', true).attr('vector-effect', 'non-scaling-stroke').attr('data-transform-plz', '').attr('fill', function () {\n\t      if (_this2.currentTool === 'Eraser') {\n\t        return 'none';\n\t      }\n\t      if (_this2.currentSpace) {\n\t        return _this2.currentSpace.color;\n\t      }\n\t      if (_this2.currentShading) {\n\t        return _this2.currentShading.color;\n\t      }\n\t      return null;\n\t    });\n\t\n\t    if (this.currentTool === 'Eraser') {\n\t      return;\n\t    }\n\t\n\t    svg.selectAll('.guideline-text').data(guidelinePaths).enter().append('text').attr('x', function (d) {\n\t      return _this2.rwuToGrid(d[0].x, 'x') + (_this2.rwuToGrid(d[1].x, 'x') - _this2.rwuToGrid(d[0].x, 'x')) / 2;\n\t    }).attr('y', function (d) {\n\t      return _this2.rwuToGrid(d[0].y, 'y') + (_this2.rwuToGrid(d[1].y, 'y') - _this2.rwuToGrid(d[0].y, 'y')) / 2;\n\t    }).attr('dx', -1.25 * (this.transform.k > 1 ? 1 : this.transform.k) + 'em').attr('data-transform-plz', '').text(function (d) {\n\t      var dist = _this2.distanceBetweenPoints(d[0], d[1]);\n\t      return dist ? dist.toFixed(2) : '';\n\t    }).classed('guideline guideline-text guideline-dist', true).attr('font-family', 'sans-serif').attr('fill', 'red').style('font-size', '1em');\n\t\n\t    if (guidelineArea.length > 3) {\n\t      var areaPoints = guidelineArea.map(function (p) {\n\t        var x = p.x,\n\t            y = p.y;\n\t        return { x: x, y: y, X: x, Y: y };\n\t      }),\n\t          _polygonLabelPosition = this.polygonLabelPosition(areaPoints),\n\t          x = _polygonLabelPosition.x,\n\t          y = _polygonLabelPosition.y,\n\t          area = _polygonLabelPosition.area,\n\t          areaTextNoUnits = area ? area.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,') : '',\n\t          areaText = areaTextNoUnits + ' ' + this.units + '\\xB2';\n\t\n\t\n\t      if (x === null || y === null) {\n\t        return;\n\t      }\n\t\n\t      svg.append('text').attr('x', this.rwuToGrid(x, 'x')).attr('y', this.rwuToGrid(y, 'y')).text(areaText).classed('guideline guideline-text guideline-area-text guideLine', true).attr('data-transform-plz', '').attr('text-anchor', 'middle').attr('font-family', 'sans-serif').attr('fill', 'red').style('font-size', '1em').raise();\n\t    }\n\t\n\t    d3.selectAll('.vertical, .horizontal').lower();\n\t  },\n\t  eraseGuidelines: function eraseGuidelines() {\n\t    d3.selectAll('#grid .guideline').remove();\n\t  },\n\t  escapeAction: function escapeAction(e) {\n\t    if (e.code === 'Escape' || e.which === 27) {\n\t      this.points = [];\n\t      this.clearHighlights();\n\t      d3.selectAll('#grid .point-path').remove();\n\t    }\n\t  },\n\t  savePolygonFace: function savePolygonFace() {\n\t    this.clearHighlights();\n\t    d3.selectAll('#grid .point-path').remove();\n\t\n\t    var payload = {\n\t      points: [].concat((0, _toConsumableArray3.default)(this.points))\n\t    };\n\t\n\t    if (this.currentSpace) {\n\t      payload.model_id = this.currentSpace.id;\n\t    } else if (this.currentShading) {\n\t      payload.model_id = this.currentShading.id;\n\t    }\n\t\n\t    this.$store.dispatch('geometry/createFaceFromPoints', payload);\n\t\n\t    this.points = [];\n\t  },\n\t  saveRectangularFace: function saveRectangularFace() {\n\t    this.clearHighlights();\n\t    d3.selectAll('#grid .point-path').remove();\n\t\n\t    var payload = {};\n\t\n\t    payload.points = [this.points[0], { x: this.points[1].x, y: this.points[0].y }, this.points[1], { x: this.points[0].x, y: this.points[1].y }];\n\t\n\t    if (this.currentSpace) {\n\t      payload.model_id = this.currentSpace.id;\n\t    } else if (this.currentShading) {\n\t      payload.model_id = this.currentShading.id;\n\t    }\n\t    this.$store.dispatch('geometry/createFaceFromPoints', payload);\n\t\n\t    this.points = [];\n\t  },\n\t  eraseRectangularSelection: function eraseRectangularSelection() {\n\t    this.clearHighlights();\n\t    d3.selectAll('#grid .point-path').remove();\n\t\n\t    var payload = {\n\t      points: [this.points[0], { x: this.points[1].x, y: this.points[0].y }, this.points[1], { x: this.points[0].x, y: this.points[1].y }]\n\t    };\n\t\n\t    this.$store.dispatch('geometry/eraseSelection', payload);\n\t\n\t    this.points = [];\n\t  },\n\t  drawPoints: function drawPoints() {\n\t    var _this3 = this;\n\t\n\t    d3.selectAll('#grid .point-path').remove();\n\t\n\t    var pointPath = d3.select('#grid svg').selectAll('ellipse.point-path').data(this.points);\n\t\n\t    pointPath.merge(pointPath.enter().append('ellipse').attr('class', 'point-path')).classed('origin', function (d, ix) {\n\t      return ix === 0;\n\t    }).attr('data-transform-plz', '').attr('cx', function (d) {\n\t      return _this3.rwuToGrid(d.x, 'x');\n\t    }).attr('cy', function (d) {\n\t      return _this3.rwuToGrid(d.y, 'y');\n\t    }).attr('rx', function (d, ix) {\n\t      return ix === 0 ? 7 : 2;\n\t    }).attr('ry', function (d, ix) {\n\t      return ix === 0 ? 7 : 2;\n\t    }).attr('vector-effect', 'non-scaling-stroke').attr('fill', function (d, ix) {\n\t      return ix === 0 ? 'none' : '';\n\t    });\n\t\n\t    d3.select('#grid svg').append('path').attr('class', 'point-path').datum(this.points).attr('fill', 'none').attr('vector-effect', 'non-scaling-stroke').attr('data-transform-plz', '').attr('d', d3.line().x(function (d) {\n\t      return _this3.rwuToGrid(d.x, 'x');\n\t    }).y(function (d) {\n\t      return _this3.rwuToGrid(d.y, 'y');\n\t    })).lower();\n\t\n\t    d3.selectAll('.vertical, .horizontal').lower();\n\t  },\n\t  registerDrag: function registerDrag() {\n\t    var polygons = d3.select('#grid svg').selectAll('polygon');\n\t\n\t    this.deregisterD3Events(polygons);\n\t    if (this.currentTool === 'Select') {\n\t      this.registerSelectEvents(polygons);\n\t    } else if (this.currentTool === 'Fill') {\n\t      this.registerFillEvents(polygons);\n\t    }\n\t  },\n\t  deregisterD3Events: function deregisterD3Events(polygons) {\n\t    polygons.on('.drag', null).on('click', null);\n\t  },\n\t  registerFillEvents: function registerFillEvents(polygons) {\n\t    var _this4 = this;\n\t\n\t    polygons.on('click', function (d) {\n\t      if (_this4.currentSpace || _this4.currentShading) {\n\t        _this4.points = [].concat((0, _toConsumableArray3.default)(d.points));\n\t        _this4.savePolygonFace();\n\t      }\n\t    });\n\t  },\n\t  registerSelectEvents: function registerSelectEvents(polygons) {\n\t    var _this5 = this;\n\t\n\t    var startX = void 0,\n\t        startY = void 0;\n\t\n\t    var drag = d3.drag().on('start', function (d) {\n\t      var _d3$mouse = d3.mouse(_this5.$refs.grid);\n\t\n\t      var _d3$mouse2 = (0, _slicedToArray3.default)(_d3$mouse, 2);\n\t\n\t      startX = _d3$mouse2[0];\n\t      startY = _d3$mouse2[1];\n\t\n\t      if (d.previous_story) {\n\t        return;\n\t      }\n\t\n\t      _this5.currentSubSelection = _helpers4.default.modelForFace(_this5.$store.state.models, d.face_id);\n\t    }).on('drag', function (d) {\n\t      if (d.previous_story) {\n\t        return;\n\t      }\n\t\n\t      var _d3$mouse3 = d3.mouse(_this5.$refs.grid),\n\t          _d3$mouse4 = (0, _slicedToArray3.default)(_d3$mouse3, 2),\n\t          currX = _d3$mouse4[0],\n\t          currY = _d3$mouse4[1];\n\t\n\t      d3.select('#poly-' + d.face_id).attr('transform', function () {\n\t        return 'translate(' + (currX - startX) + ', ' + (currY - startY) + ')';\n\t      });\n\t    }).on('end', function (d) {\n\t      if (d.previous_story) {\n\t        return;\n\t      }\n\t\n\t      var _d3$mouse5 = d3.mouse(_this5.$refs.grid),\n\t          _d3$mouse6 = (0, _slicedToArray3.default)(_d3$mouse5, 2),\n\t          endX = _d3$mouse6[0],\n\t          endY = _d3$mouse6[1];\n\t\n\t      _this5.$store.dispatch('geometry/moveFaceByOffset', {\n\t        face_id: d.face_id,\n\t        dx: _this5.gridToRWU(endX, 'x') - _this5.gridToRWU(startX, 'x'),\n\t        dy: _this5.gridToRWU(endY, 'y') - _this5.gridToRWU(startY, 'y')\n\t      });\n\t    });\n\t    polygons.call(drag);\n\t  },\n\t  drawPolygons: function drawPolygons() {\n\t    var _this6 = this;\n\t\n\t    this.recalcScales();\n\t\n\t    var poly = d3.select('#grid svg .polygons').selectAll('g.poly').data(this.polygons, function (d) {\n\t      return d.face_id;\n\t    });\n\t\n\t    poly.exit().remove();\n\t    var polyEnter = poly.enter().append('g').attr('class', 'poly');\n\t    polyEnter.append('polygon');\n\t    polyEnter.append('text').attr('class', 'polygon-text');\n\t    polyEnter.append('g').attr('class', 'windows');\n\t    polyEnter.append('g').attr('class', 'daylighting-controls');\n\t\n\t    poly = polyEnter.merge(poly).attr('class', function (d) {\n\t      if (_this6.currentSpace && d.face_id === _this6.currentSpace.face_id || _this6.currentShading && d.face_id === _this6.currentShading.face_id) {\n\t        return 'current';\n\t      }\n\t      if (d.previous_story) {\n\t        return 'previousStory';\n\t      }\n\t      return null;\n\t    }).classed('poly', true).attr('data-model-type', function (d) {\n\t      return d.modelType;\n\t    }).attr('id', function (p) {\n\t      return 'poly-' + p.face_id;\n\t    }).attr('transform', null);\n\t\n\t    poly.select('polygon').attr('id', function (d) {\n\t      return 'face-' + d.face_id;\n\t    }).attr('points', function (d) {\n\t      return d.points.map(function (p) {\n\t        return [_this6.rwuToGrid(p.x, 'x'), _this6.rwuToGrid(p.y, 'y')].join(',');\n\t      }).join(' ');\n\t    }).attr('fill', function (d) {\n\t      return d.color;\n\t    }).attr('vector-effect', 'non-scaling-stroke');\n\t\n\t    poly.select('text').attr('id', function (p) {\n\t      return 'text-' + p.face_id;\n\t    }).attr('x', function (p) {\n\t      return _this6.rwuToGrid(p.labelPosition.x, 'x');\n\t    }).attr('y', function (p) {\n\t      return _this6.rwuToGrid(p.labelPosition.y, 'y');\n\t    }).text(function (p) {\n\t      return p.name;\n\t    }).attr('text-anchor', 'middle').style('font-size', '14px').style('font-weight', 'bold').attr('font-family', 'sans-serif').attr('fill', 'red').classed('polygon-text', true);\n\t\n\t    poly.select('.windows').selectAll('.window').data(function (d) {\n\t      return d.windows;\n\t    }).call(this.drawWindow);\n\t\n\t    poly.select('.daylighting-controls').selectAll('.daylighting-control').data(function (d) {\n\t      return d.daylighting_controls;\n\t    }).call(this.drawDaylightingControl);\n\t\n\t    this.registerDrag();\n\t\n\t    d3.select('.current').raise();\n\t  },\n\t  drawImages: function drawImages() {\n\t    d3.select('#grid svg .images').selectAll('.image-group').data(this.images, function (d) {\n\t      return d.id;\n\t    }).call(this.drawImage);\n\t  },\n\t  draw: function draw() {\n\t    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t        zoomEnd = _ref.zoomEnd;\n\t\n\t    this.transformAtLastRender = (0, _extends3.default)({}, this.transform);\n\t    d3.selectAll('[data-transform-plz]').attr('transform', '');\n\t\n\t    this.drawPolygons();\n\t    this.drawImages();\n\t    this.raiseOrLowerImages();\n\t\n\t    var redrawPoints = zoomEnd && this.points.length > 0;\n\t    if (redrawPoints) {\n\t      this.highlightSnapTarget();\n\t      this.drawPoints();\n\t    }\n\t  },\n\t  findSnapTarget: function findSnapTarget(gridPoint) {\n\t    var _this7 = this;\n\t\n\t    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t    var snapOnlyToEdges = options.edge_component;\n\t\n\t    var rwuPoint = {\n\t      x: this.gridToRWU(gridPoint.x, 'x'),\n\t      y: this.gridToRWU(gridPoint.y, 'y')\n\t    };\n\t    if (this.snapMode === 'grid-strict') {\n\t      return this.strictSnapTargets(rwuPoint)[0];\n\t    }\n\t\n\t    if (event.shiftKey) {\n\t      return (0, _extends3.default)({\n\t        type: 'gridpoint'\n\t      }, rwuPoint);\n\t    }\n\t\n\t    if (snapOnlyToEdges) {\n\t      var _snappingEdge = this.snappingEdgeData(rwuPoint);\n\t      return _snappingEdge || (0, _extends3.default)({\n\t        type: 'gridpoint'\n\t      }, rwuPoint);\n\t    }\n\t\n\t    var snappingVertex = this.snappingVertexData(rwuPoint);\n\t    if (snappingVertex) {\n\t      return snappingVertex;\n\t    }\n\t\n\t    var snappingEdge = this.snappingEdgeData(rwuPoint);\n\t    if (snappingEdge) {\n\t      return snappingEdge;\n\t    }\n\t\n\t    if (this.gridVisible) {\n\t      var xOffset = +this.axis.x.select('.tick').attr('transform').replace('translate(', '').replace(')', '').split(',')[0],\n\t          yOffset = +this.axis.y.select('.tick').attr('transform').replace('translate(', '').replace(')', '').split(',')[1],\n\t          xTickSpacing = this.rwuToGrid(this.spacing + this.min_x, 'x'),\n\t          yTickSpacing = this.rwuToGrid(this.max_y - this.spacing, 'y');\n\t      var snapTarget = {\n\t        type: 'gridpoint',\n\t        x: this.round(gridPoint.x, this.rwuToGrid(this.spacing + this.min_x, 'x')) + xOffset - 0.5,\n\t        y: this.round(gridPoint.y, this.rwuToGrid(this.max_y - this.spacing, 'y')) + yOffset - 0.5\n\t      };\n\t\n\t      snapTarget.x = Math.abs(gridPoint.x - (snapTarget.x - xTickSpacing)) > Math.abs(gridPoint.x - snapTarget.x) ? snapTarget.x : snapTarget.x - xTickSpacing;\n\t      snapTarget.y = Math.abs(gridPoint.y - (snapTarget.y - yTickSpacing)) > Math.abs(gridPoint.y - snapTarget.y) ? snapTarget.y : snapTarget.y - yTickSpacing;\n\t\n\t      return snapTarget;\n\t    } else if (this.points.length) {\n\t        var snappableAngles = [-180, -90, 0, 90, 180];\n\t        var lastPoint = this.points[this.points.length - 1];\n\t\n\t        var thetaDeg = Math.atan2(lastPoint.y - gridPoint.y, lastPoint.x - gridPoint.x) * (180 / Math.PI);\n\t\n\t        var snapCoords;\n\t        snappableAngles.some(function (angle) {\n\t          if (Math.abs(thetaDeg - angle) < _this7.$store.getters['project/angleTolerance']) {\n\t            if (angle === -180 || angle === 0 || angle === 180) {\n\t              return {\n\t                x: gridPoint.x,\n\t                y: _this7.rotatePoint(lastPoint, gridPoint, angle - thetaDeg).y\n\t              };\n\t            } else if (angle === -90 || angle === 90) {\n\t              return {\n\t                x: _this7.rotatePoint(lastPoint, gridPoint, angle - thetaDeg).x,\n\t                y: gridPoint.y\n\t              };\n\t            }\n\t          }\n\t        });\n\t\n\t        if (snapCoords) {\n\t          return (0, _extends3.default)({\n\t            type: 'gridpoint'\n\t          }, snapCoords);\n\t        }\n\t      }\n\t\n\t    return (0, _extends3.default)({\n\t      type: 'gridpoint'\n\t    }, gridPoint);\n\t  },\n\t  strictSnapTargets: function strictSnapTargets(location) {\n\t    var snappableVertices = [].concat((0, _toConsumableArray3.default)(this.currentStoryGeometry.vertices), (0, _toConsumableArray3.default)(this.previousStoryGeometry ? this.previousStoryGeometry.vertices : []));\n\t\n\t    if (this.points.length >= 3 && this.currentTool === 'Polygon') {\n\t      snappableVertices.push((0, _extends3.default)({}, this.points[0], {\n\t        origin: true }));\n\t    }\n\t\n\t    return (0, _snapping.snapTargets)(snappableVertices, this.spacing, location);\n\t  },\n\t  snappingVertexData: function snappingVertexData(point) {\n\t    var _this8 = this;\n\t\n\t    var snappableVertices = [].concat((0, _toConsumableArray3.default)(this.currentStoryGeometry.vertices));\n\t\n\t    if (this.previousStoryGeometry) {\n\t      snappableVertices = snappableVertices.concat(JSON.parse((0, _stringify2.default)(this.previousStoryGeometry.vertices)));\n\t    }\n\t\n\t    if (this.points.length >= 3 && this.currentTool === 'Polygon') {\n\t      snappableVertices.push((0, _extends3.default)({}, this.points[0], {\n\t        origin: true }));\n\t    }\n\t\n\t    if (this.points.length === 1 && this.currentTool === 'Rectangle') {\n\t      snappableVertices = snappableVertices.concat(_helpers2.default.syntheticRectangleSnaps(snappableVertices, this.points[0], point));\n\t    }\n\t\n\t    if (!snappableVertices.length) {\n\t      return null;\n\t    }\n\t\n\t    var nearestVertex = snappableVertices.reduce(function (a, b) {\n\t      var aDist = _this8.distanceBetweenPoints(a, point);\n\t      var bDist = _this8.distanceBetweenPoints(b, point);\n\t      return aDist < bDist ? a : b;\n\t    });\n\t\n\t    if (this.distanceBetweenPoints(nearestVertex, point) < this.$store.getters['project/snapTolerance']) {\n\t      return (0, _extends3.default)({}, nearestVertex, {\n\t        type: 'vertex'\n\t      });\n\t    }\n\t  },\n\t  snappingEdgeData: function snappingEdgeData(point) {\n\t    var _this9 = this;\n\t\n\t    var snappableEdges = [].concat((0, _toConsumableArray3.default)(this.currentStoryGeometry.edges));\n\t\n\t    if (this.previousStoryGeometry) {\n\t      snappableEdges = snappableEdges.concat(JSON.parse((0, _stringify2.default)(this.previousStoryGeometry.edges.map(function (e) {\n\t        return (0, _extends3.default)({}, e, {\n\t          previous_story: true\n\t        });\n\t      }))));\n\t    }\n\t\n\t    if (!snappableEdges.length) {\n\t      return null;\n\t    }\n\t\n\t    var nearestEdge = snappableEdges.reduce(function (a, b) {\n\t      var aStoryGeometry = a.previous_story ? _this9.previousStoryGeometry : _this9.currentStoryGeometry,\n\t          bStoryGeometry = b.previous_story ? _this9.previousStoryGeometry : _this9.currentStoryGeometry,\n\t          aV1 = _helpers2.default.vertexForId(a.v1, aStoryGeometry),\n\t          aV2 = _helpers2.default.vertexForId(a.v2, aStoryGeometry),\n\t          bV1 = _helpers2.default.vertexForId(b.v1, bStoryGeometry),\n\t          bV2 = _helpers2.default.vertexForId(b.v2, bStoryGeometry),\n\t          aProjection = _helpers2.default.projectionOfPointToLine(point, { p1: aV1, p2: aV2 }),\n\t          bProjection = _helpers2.default.projectionOfPointToLine(point, { p1: bV1, p2: bV2 }),\n\t          aDist = _helpers2.default.distanceBetweenPoints(aProjection, point),\n\t          bDist = _helpers2.default.distanceBetweenPoints(bProjection, point);\n\t\n\t      return aDist < bDist ? a : b;\n\t    });\n\t\n\t    var nearestEdgeStoryGeometry = nearestEdge.previous_story ? this.previousStoryGeometry : this.currentStoryGeometry;\n\t    var nearestEdgeV1 = _helpers2.default.vertexForId(nearestEdge.v1, nearestEdgeStoryGeometry);\n\t    var nearestEdgeV2 = _helpers2.default.vertexForId(nearestEdge.v2, nearestEdgeStoryGeometry);\n\t\n\t    var projection = _helpers2.default.projectionOfPointToLine(point, { p1: nearestEdgeV1, p2: nearestEdgeV2 });\n\t\n\t    var dist = this.distanceBetweenPoints(projection, point);\n\t\n\t    var snappableAngles = [-180, -90, 0, 90, 180];\n\t\n\t    var thetaDeg = Math.atan2(point.y - projection.y, point.x - projection.x) * (180 / Math.PI);\n\t\n\t    snappableAngles.some(function (angle) {\n\t      if (Math.abs(thetaDeg - angle) < _this9.$store.getters['project/angleTolerance']) {\n\t        var adjustedProjectionP1;\n\t        var adjustedProjectionP2;\n\t        if (angle === 180 || angle === 0 || angle === -180) {\n\t          adjustedProjectionP1 = { x: point.x - 2 * dist, y: point.y };\n\t          adjustedProjectionP2 = { x: point.x + 2 * dist, y: point.y };\n\t        } else if (angle === 90 || angle === -90) {\n\t          adjustedProjectionP1 = { x: point.x, y: point.y - 2 * dist };\n\t          adjustedProjectionP2 = { x: point.x, y: point.y + 2 * dist };\n\t        }\n\t\n\t        if (_helpers2.default.ptsAreCollinear(adjustedProjectionP1, nearestEdgeV1, adjustedProjectionP2)) {\n\t          projection = nearestEdgeV1;\n\t        } else if (_helpers2.default.ptsAreCollinear(adjustedProjectionP1, nearestEdgeV2, adjustedProjectionP2)) {\n\t          projection = nearestEdgeV2;\n\t        } else {\n\t          projection = _helpers2.default.intersectionOfLines(adjustedProjectionP1, adjustedProjectionP2, nearestEdgeV1, nearestEdgeV2);\n\t        }\n\t        return true;\n\t      }\n\t      return false;\n\t    });\n\t\n\t    if (dist < this.$store.getters['project/snapTolerance']) {\n\t      return {\n\t        snappingEdge: nearestEdge,\n\t        dist: nearestEdge.dist,\n\t        type: 'edge',\n\t\n\t        projection: projection,\n\t        v1GridCoords: nearestEdgeV1,\n\t        v2GridCoords: nearestEdgeV2\n\t      };\n\t    }\n\t    return null;\n\t  },\n\t  distanceBetweenPoints: function distanceBetweenPoints(p1, p2) {\n\t    var dx = Math.abs(p1.x - p2.x),\n\t        dy = Math.abs(p1.y - p2.y);\n\t    return Math.sqrt(dx * dx + dy * dy);\n\t  },\n\t  round: function round(n, x) {\n\t    var result,\n\t        sign = n < 0 ? -1 : 1;\n\t    n = Math.abs(n);\n\t    if (n % x < x / 2) {\n\t      result = n - n % x;\n\t    } else {\n\t      result = n + x - n % x;\n\t    }\n\t\n\t    result *= sign;\n\t    return result;\n\t  },\n\t  rotatePoint: function rotatePoint(center, point, angle) {\n\t    var radians = angle * Math.PI / 180.0,\n\t        cos = Math.cos(radians),\n\t        sin = Math.sin(radians),\n\t        dX = point.x - center.x,\n\t        dY = point.y - center.y;\n\t\n\t    return {\n\t      x: cos * dX - sin * dY + center.x,\n\t      y: sin * dX + cos * dY + center.y\n\t    };\n\t  },\n\t  resolveBounds: function resolveBounds() {\n\t    var currXExtent = [this.min_x, this.max_x],\n\t        currYExtent = [this.min_y, this.max_y];\n\t    var plusMargin = function plusMargin(_ref2) {\n\t      var _ref3 = (0, _slicedToArray3.default)(_ref2, 2),\n\t          i = _ref3[0],\n\t          s = _ref3[1];\n\t\n\t      var d = (s - i) / 20;\n\t      return [i - d, s + d];\n\t    };\n\t    if (this.visibleVerts.length) {\n\t      currXExtent = plusMargin(d3.extent(this.allVertices, function (d) {\n\t        return d.x;\n\t      }));\n\t      currYExtent = plusMargin(d3.extent(this.allVertices, function (d) {\n\t        return d.y;\n\t      }));\n\t    }\n\t\n\t    var width = this.$refs.gridParent.clientWidth,\n\t        height = this.$refs.gridParent.clientHeight,\n\t        _fitToAspectRatio = (0, _helpers.fitToAspectRatio)(currXExtent, currYExtent, width / height, 'expand'),\n\t        xExtent = _fitToAspectRatio.xExtent,\n\t        yExtent = _fitToAspectRatio.yExtent;\n\t\n\t    var _xExtent = (0, _slicedToArray3.default)(xExtent, 2);\n\t\n\t    this.min_x = _xExtent[0];\n\t    this.max_x = _xExtent[1];\n\t\n\t    var _yExtent = (0, _slicedToArray3.default)(yExtent, 2);\n\t\n\t    this.min_y = _yExtent[0];\n\t    this.max_y = _yExtent[1];\n\t\n\t    _lodash2.default.defer(function () {\n\t      window.eventBus.$emit('boundsResolved');\n\t    });\n\t  },\n\t  nullTransform: function nullTransform() {\n\t    d3.select(this.$refs.grid).call(this.zoomBehavior.transform, d3.zoomIdentity);\n\t  },\n\t  renderGrid: function renderGrid() {\n\t    var w = this.$refs.gridParent.clientWidth,\n\t        h = this.$refs.gridParent.clientHeight;\n\t\n\t    this.resolveBounds();\n\t\n\t    this.$store.dispatch('application/setScaleX', {\n\t      scaleX: {\n\t        pixels: w,\n\t        rwuRange: [this.min_x, this.max_x]\n\t      }\n\t    });\n\t\n\t    this.$store.dispatch('application/setScaleY', {\n\t      scaleY: {\n\t        pixels: h,\n\t        rwuRange: [this.min_y, this.max_y]\n\t      }\n\t    });\n\t\n\t    this.calcGrid();\n\t\n\t    this.nullTransform();\n\t\n\t    this.draw();\n\t  },\n\t  reloadGridAndScales: function reloadGridAndScales() {\n\t    this.zoomXScale = null;\n\t    this.zoomYScale = null;\n\t    this.resolveBounds();\n\t    this.renderGrid();\n\t  },\n\t  recalcScales: function recalcScales() {\n\t    var width = this.$refs.gridParent.clientWidth,\n\t        height = this.$refs.gridParent.clientHeight;\n\t\n\t    this.xScale = d3.scaleLinear().domain([this.min_x, this.max_x]).range([0, width]);\n\t    this.yScale = d3.scaleLinear().domain([this.min_y, this.max_y]).range([height, 0]);\n\t    this.zoomXScale = this.zoomXScale || this.xScale.copy();\n\t    this.zoomYScale = this.zoomYScale || this.yScale.copy();\n\t  },\n\t  calcGrid: function calcGrid() {\n\t    var _this10 = this;\n\t\n\t    this.recalcScales();\n\t    var width = this.$refs.gridParent.clientWidth,\n\t        height = this.$refs.gridParent.clientHeight;\n\t    var svg = d3.select('#grid svg'),\n\t        strokeWidth = 1,\n\t        fontSize = '14px';\n\t\n\t    svg.attr('height', height).attr('width', width);\n\t    this.axis.x = svg.selectAll('g.axis--x').data([undefined]);\n\t\n\t    this.axis.x = this.axis.x.merge(this.axis.x.enter().append('g').attr('class', 'axis axis--x')).attr('stroke-width', strokeWidth).style('font-size', fontSize).style('display', this.gridVisible ? 'inline' : 'none');\n\t\n\t    this.axis.y = svg.selectAll('g.axis--y').data([undefined]);\n\t\n\t    this.axis.y = this.axis.y.merge(this.axis.y.enter().append('g').attr('class', 'axis axis--y')).attr('class', 'axis axis--y').attr('stroke-width', strokeWidth).style('font-size', fontSize).style('display', this.gridVisible ? 'inline' : 'none');\n\t\n\t    this.updateGrid();\n\t\n\t    this.zoomBehavior = d3.zoom().scaleExtent([0, Infinity]).on('zoom', function () {\n\t      var transform = d3.event.transform;\n\t\n\t      _this10.transform = (0, _extends3.default)({}, transform);\n\t\n\t      var newScaleX = transform.rescaleX(_this10.zoomXScale),\n\t          newScaleY = transform.rescaleY(_this10.zoomYScale);\n\t\n\t      var _newScaleX$domain = newScaleX.domain();\n\t\n\t      var _newScaleX$domain2 = (0, _slicedToArray3.default)(_newScaleX$domain, 2);\n\t\n\t      _this10.min_x = _newScaleX$domain2[0];\n\t      _this10.max_x = _newScaleX$domain2[1];\n\t\n\t      var _newScaleY$domain = newScaleY.domain();\n\t\n\t      var _newScaleY$domain2 = (0, _slicedToArray3.default)(_newScaleY$domain, 2);\n\t\n\t      _this10.min_y = _newScaleY$domain2[0];\n\t      _this10.max_y = _newScaleY$domain2[1];\n\t\n\t\n\t      _this10.axis_generator.x.scale(newScaleX);\n\t      _this10.axis_generator.y.scale(newScaleY);\n\t      _this10.updateGrid();\n\t\n\t      _this10.padTickY(-12);\n\t\n\t      _this10.translateEntities();\n\t      _this10.clearComponentHighlights();\n\t    }).on('end', function () {\n\t      _this10.draw({ zoomEnd: true });\n\t    });\n\t\n\t    svg.call(this.zoomBehavior);\n\t    svg.on('mousemove', this.handleMouseMove).on('click', this.gridClicked);\n\t  },\n\t  transformTo: function transformTo(t) {\n\t    d3.select(this.$refs.grid).call(this.zoomBehavior.transform, t);\n\t  },\n\t  zoomBy: function zoomBy(factor) {\n\t    var newScale = this.transform.k * factor;\n\t    d3.select(this.$refs.grid).transition().duration(400).call(this.zoomBehavior.transform, d3.zoomIdentity.scale(newScale));\n\t  },\n\t  zoomToFit: function zoomToFit() {\n\t    var _this11 = this,\n\t        _d3$zoomIdentity;\n\t\n\t    var width = this.$refs.grid.clientWidth,\n\t        height = this.$refs.grid.clientHeight;\n\t\n\t    if (!this.allVertices.length) {\n\t      return;\n\t    }\n\t\n\t    var xExtent = d3.extent(this.allVertices, function (d) {\n\t      return _this11.zoomXScale(d.x);\n\t    }),\n\t        yExtent = d3.extent(this.allVertices, function (d) {\n\t      return _this11.zoomYScale(d.y);\n\t    }),\n\t        dx = xExtent[1] - xExtent[0],\n\t        dy = yExtent[1] - yExtent[0],\n\t        x = (xExtent[0] + xExtent[1]) / 2,\n\t        y = (yExtent[0] + yExtent[1]) / 2,\n\t        scale = 0.9 / Math.max(dx / width, dy / height),\n\t        translate = [width / 2 - scale * x, height / 2 - scale * y],\n\t        svg = d3.select('#grid svg'),\n\t        transform = (_d3$zoomIdentity = d3.zoomIdentity).translate.apply(_d3$zoomIdentity, translate).scale(scale);\n\t\n\t    svg.call(this.zoomBehavior.transform, transform);\n\t  },\n\t  scaleTo: function scaleTo(scale) {\n\t    var _d3$zoomIdentity2;\n\t\n\t    var width = this.$refs.grid.clientWidth,\n\t        height = this.$refs.grid.clientHeight,\n\t        x = (this.zoomXScale(this.max_x) + this.zoomXScale(this.min_x)) / 2,\n\t        y = (this.zoomYScale(this.max_y) + this.zoomYScale(this.min_y)) / 2,\n\t        translate = [width / 2 - scale * x, height / 2 - scale * y];\n\t    d3.select(this.$refs.grid).call(this.zoomBehavior.transform, (_d3$zoomIdentity2 = d3.zoomIdentity).translate.apply(_d3$zoomIdentity2, translate).scale(scale));\n\t  },\n\t  translateEntities: function translateEntities() {\n\t\n\t    d3.selectAll('[data-transform-plz]').attr('transform', transformDiff(this.transformAtLastRender, d3.event.transform));\n\t  },\n\t  showOrHideAxes: function showOrHideAxes() {\n\t    this.axis.x.style('visibility', this.gridVisible ? 'visible' : 'hidden');\n\t    this.axis.y.style('visibility', this.gridVisible ? 'visible' : 'hidden');\n\t  },\n\t  updateGrid: function updateGrid() {\n\t    if (!this.axis.x || !this.axis.y) {\n\t      return;\n\t    }\n\t    var width = this.$refs.gridParent.clientWidth,\n\t        height = this.$refs.gridParent.clientHeight,\n\t        rwuWidth = this.max_x - this.min_x,\n\t        rwuHeight = this.max_y - this.min_y,\n\t        xTicks = ticksInRange(this.min_x, this.max_x, this.spacing),\n\t        yTicks = ticksInRange(this.min_y, this.max_y, this.spacing);\n\t\n\t    this.reduceTicks = yTicks.length > 250 || xTicks.length > 250;\n\t\n\t    this.axis_generator.x = this.axis_generator.x || d3.axisBottom(this.xScale);\n\t    this.axis_generator.x.tickSize(height).tickPadding(-20).tickFormat(this.reduceTicks ? _lodash2.default.identity : this.formatTickX.bind(this, Math.floor(10 * (width / height))));\n\t\n\t    this.axis_generator.y = this.axis_generator.y || d3.axisRight(this.yScale);\n\t    this.axis_generator.y.tickSize(width).tickPadding(-25).tickFormat(this.reduceTicks ? _lodash2.default.identity : this.formatTickY.bind(this, 10));\n\t\n\t    if (this.reduceTicks) {\n\t      this.axis_generator.x.tickValues(null).ticks(5 * (rwuWidth / rwuHeight));\n\t      this.axis_generator.y.tickValues(null).ticks(5);\n\t    } else {\n\t      this.axis_generator.x.ticks(null).tickValues(xTicks);\n\t      this.axis_generator.y.ticks(null).tickValues(yTicks);\n\t    }\n\t\n\t    this.axis.y.call(this.axis_generator.y);\n\t    this.axis.x.call(this.axis_generator.x);\n\t  },\n\t  rwuToGrid: function rwuToGrid(rwu, axis) {\n\t    var scale = void 0;\n\t    if (axis === 'x') {\n\t      scale = this.xScale;\n\t    } else if (axis === 'y') {\n\t      scale = this.yScale;\n\t    }\n\t    return scale(rwu);\n\t  },\n\t  gridToRWU: function gridToRWU(gridValue, axis) {\n\t    var scale = void 0;\n\t    if (axis === 'x') {\n\t      scale = this.xScale;\n\t    } else if (axis === 'y') {\n\t      scale = this.yScale;\n\t    }\n\t    var result = scale.invert(gridValue);\n\t\n\t    return Math.round(result * 100000000000) / 100000000000;\n\t  },\n\t  gridPointToRWU: function gridPointToRWU(pt) {\n\t    return {\n\t      x: this.gridToRWU(pt.x, 'x'),\n\t      y: this.gridToRWU(pt.y, 'y')\n\t    };\n\t  },\n\t  rwuPointToGrid: function rwuPointToGrid(pt) {\n\t    return {\n\t      x: this.rwuToGrid(pt.x, 'x'),\n\t      y: this.rwuToGrid(pt.y, 'y')\n\t    };\n\t  },\n\t  polygonLabelPosition: function polygonLabelPosition(pointsIn) {\n\t    var points = [pointsIn.map(function (p) {\n\t      return [p.x, p.y];\n\t    })],\n\t        area = Math.abs(Math.round(_helpers2.default.areaOfSelection(pointsIn))),\n\t        _ref4 = area ? (0, _polylabel2.default)(points, 1.0) : [null, null],\n\t        _ref5 = (0, _slicedToArray3.default)(_ref4, 2),\n\t        x = _ref5[0],\n\t        y = _ref5[1];\n\t\n\t\n\t    return { x: x, y: y, area: area };\n\t  },\n\t  formatTickX: function formatTickX(maxTicks, val) {\n\t    var rangeX = this.max_x - this.min_x,\n\t        spacing = this.spacing,\n\t        spacingScaled = Math.ceil(rangeX / maxTicks / spacing) * spacing;\n\t\n\t    return spacingScaled === 0 || val % spacingScaled === 0 ? val : '';\n\t  },\n\t  formatTickY: function formatTickY(maxTicks, val) {\n\t    var rangeY = this.max_y - this.min_y,\n\t        spacing = this.spacing,\n\t        spacingScaled = Math.ceil(rangeY / maxTicks / spacing) * spacing;\n\t\n\t    return spacingScaled === 0 || val % spacingScaled === 0 ? val : '';\n\t  },\n\t  padTickY: function padTickY(paddingPerDigit) {\n\t    var min = Math.abs(this.min_y),\n\t        max = Math.abs(this.max_y),\n\t        numDigits = (min < max ? max : min).toFixed(0).length,\n\t        yPadding = paddingPerDigit * numDigits;\n\t\n\t    this.axis.y.call(this.axis_generator.y.tickPadding(yPadding));\n\t  }\n\t};\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(69);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _vuex2 = _interopRequireDefault(_vuex);\n\t\n\tvar _index = __webpack_require__(127);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _index3 = __webpack_require__(73);\n\t\n\tvar _index4 = _interopRequireDefault(_index3);\n\t\n\tvar _index5 = __webpack_require__(132);\n\t\n\tvar _index6 = _interopRequireDefault(_index5);\n\t\n\tvar _index7 = __webpack_require__(137);\n\t\n\tvar _index8 = _interopRequireDefault(_index7);\n\t\n\tvar _export = __webpack_require__(145);\n\t\n\tvar _export2 = _interopRequireDefault(_export);\n\t\n\tvar _importFloorplan = __webpack_require__(147);\n\t\n\tvar _importFloorplan2 = _interopRequireDefault(_importFloorplan);\n\t\n\tvar _importLibrary = __webpack_require__(148);\n\t\n\tvar _importLibrary2 = _interopRequireDefault(_importLibrary);\n\t\n\tvar _mutations = __webpack_require__(143);\n\t\n\tvar _mutations2 = _interopRequireDefault(_mutations);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vuex2.default);\n\t\n\tvar store = new _vuex2.default.Store({\n\t  strict: (\"production\") !== 'production',\n\t  modules: {\n\t    application: _index2.default,\n\t    project: _index4.default,\n\t    geometry: _index6.default,\n\t    models: _index8.default\n\t  },\n\t  getters: {\n\t    exportData: _export2.default\n\t  },\n\t  actions: {\n\t    importFloorplan: _importFloorplan2.default,\n\t    importLibrary: _importLibrary2.default\n\t  },\n\t  mutations: _mutations2.default\n\t});\n\t\n\texports.default = store;\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _appconfig = __webpack_require__(20);\n\t\n\tvar _helpers = __webpack_require__(21);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  setCurrentStoryId: function setCurrentStoryId(context, payload) {\n\t    var id = payload.id;\n\t\n\t    if (context.rootState.models.stories.map(function (s) {\n\t      return s.id;\n\t    }).indexOf(id) !== -1) {\n\t      context.commit('setCurrentStoryId', { id: id });\n\t    }\n\t  },\n\t  setCurrentSubSelectionId: function setCurrentSubSelectionId(context, payload) {\n\t    var id = payload.id;\n\t\n\t    if (context.getters.currentStory && (context.getters.currentStory.spaces.find(function (i) {\n\t      return i.id === id;\n\t    }) || context.getters.currentStory.shading.find(function (i) {\n\t      return i.id === id;\n\t    }) || context.getters.currentStory.images.find(function (i) {\n\t      return i.id === id;\n\t    }))) {\n\t      context.commit('setCurrentSubSelectionId', { id: id });\n\t    }\n\t  },\n\t  setCurrentComponentId: function setCurrentComponentId(context, payload) {\n\t    var id = payload.id;\n\t\n\t    if (context.getters.currentStory && (context.getters.currentStory.windows.find(function (i) {\n\t      return i.id === id;\n\t    }) || context.getters.currentStory.daylighting_controls.find(function (i) {\n\t      return i.id === id;\n\t    }))) {\n\t      context.commit('setCurrentComponentId', { id: id });\n\t    }\n\t  },\n\t  setCurrentComponentDefinitionId: function setCurrentComponentDefinitionId(context, payload) {\n\t    var id = payload.id;\n\t\n\t    if (context.rootState.models.library.daylighting_control_definitions.find(function (i) {\n\t      return i.id === id;\n\t    }) || context.rootState.models.library.window_definitions.find(function (i) {\n\t      return i.id === id;\n\t    })) {\n\t      context.commit('setCurrentComponentDefinitionId', { id: id });\n\t    }\n\t  },\n\t  setCurrentComponentInstanceId: function setCurrentComponentInstanceId(context, payload) {\n\t    var id = payload.id;\n\t\n\t    if (!(0, _helpers.componentInstanceById)(context.getters.currentStory, id)) {\n\t      console.error('unable to find an instance with that id on the current story');\n\t    } else {\n\t      context.commit('setCurrentComponentInstanceId', payload);\n\t    }\n\t  },\n\t  setCurrentSnapMode: function setCurrentSnapMode(context, _ref) {\n\t    var snapMode = _ref.snapMode;\n\t\n\t    if (!_lodash2.default.includes(['grid-strict', 'grid-verts-edges'], snapMode)) {\n\t      throw new Error('Unknown grid mode ' + snapMode);\n\t    }\n\t    context.commit('setCurrentSnapMode', { snapMode: snapMode });\n\t  },\n\t  setCurrentModeTab: function setCurrentModeTab(context, _ref2) {\n\t    var modeTab = _ref2.modeTab;\n\t\n\t    context.commit('setCurrentModeTab', { modeTab: modeTab });\n\t  },\n\t  setCurrentSubselectionType: function setCurrentSubselectionType(context, _ref3) {\n\t    var subselectionType = _ref3.subselectionType;\n\t\n\t    context.commit('setCurrentSubselectionType', { subselectionType: subselectionType });\n\t  },\n\t  setCurrentTool: function setCurrentTool(context, payload) {\n\t    var tool = payload.tool;\n\t\n\t    if (context.state.tools.indexOf(tool) !== -1) {\n\t      context.commit('setCurrentTool', { tool: tool });\n\t    }\n\t  },\n\t  setCurrentMode: function setCurrentMode(context, payload) {\n\t    var mode = payload.mode;\n\t\n\t    if (mode === 'spaces' || _lodash2.default.includes(_appconfig.assignableProperties, mode)) {\n\t      context.commit('setCurrentMode', { mode: mode });\n\t    } else {\n\t      console.error('unrecognized view-by option: ' + mode);\n\t    }\n\t  },\n\t  setCurrentSpacePropertyId: function setCurrentSpacePropertyId(context, payload) {\n\t    var id = payload.id;\n\t\n\t    if (!id || (0, _helpers.spacePropertyById)(context.rootState.models.library, id)) {\n\t      context.commit('setCurrentSpacePropertyId', { id: id });\n\t    } else {\n\t      console.error('unable to find space property with id: ' + id);\n\t    }\n\t  },\n\t  setScaleX: function setScaleX(context, payload) {\n\t    var scaleX = payload.scaleX;\n\t\n\t    context.commit('setScaleX', { scaleX: scaleX });\n\t  },\n\t  setScaleY: function setScaleY(context, payload) {\n\t    var scaleY = payload.scaleY;\n\t\n\t    context.commit('setScaleY', { scaleY: scaleY });\n\t  }\n\t};\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(4);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _helpers3 = __webpack_require__(21);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  currentStory: function currentStory(state, getters, rootState) {\n\t    console.log('trying to get currentStory', rootState.models.stories);return rootState.models.stories.find(function (s) {\n\t      return s.id === state.currentSelections.story_id;\n\t    });\n\t  },\n\t  currentSubSelection: function currentSubSelection(state, getters) {\n\t    var currentStory = getters['currentStory'];\n\t    if (!currentStory) {\n\t      return null;\n\t    }\n\t    var subSelectionId = state.currentSelections.subselection_ids[currentStory.id];\n\t    return currentStory.spaces.find(function (i) {\n\t      return i.id === subSelectionId;\n\t    }) || currentStory.shading.find(function (i) {\n\t      return i.id === subSelectionId;\n\t    }) || currentStory.images.find(function (i) {\n\t      return i.id === subSelectionId;\n\t    });\n\t  },\n\t  currentSubSelectionType: function currentSubSelectionType(state, getters) {\n\t    var currentStory = getters['currentStory'];\n\t    if (!currentStory) {\n\t      return null;\n\t    }\n\t    var subSelectionId = state.currentSelections.subselection_ids[currentStory.id];\n\t    if (currentStory.spaces.find(function (i) {\n\t      return i.id === subSelectionId;\n\t    })) {\n\t      return 'spaces';\n\t    } else if (currentStory.shading.find(function (i) {\n\t      return i.id === subSelectionId;\n\t    })) {\n\t      return 'shading';\n\t    } else if (currentStory.images.find(function (i) {\n\t      return i.id === subSelectionId;\n\t    })) {\n\t      return 'images';\n\t    }\n\t    return null;\n\t  },\n\t  currentSpace: function currentSpace(state, getters) {\n\t    return getters.currentSubSelectionType === 'spaces' ? getters.currentSubSelection : null;\n\t  },\n\t  currentShading: function currentShading(state, getters) {\n\t    return getters.currentSubSelectionType === 'shading' ? getters.currentSubSelection : null;\n\t  },\n\t  currentImage: function currentImage(state, getters) {\n\t    return getters.currentSubSelectionType === 'images' ? getters.currentSubSelection : null;\n\t  },\n\t  currentComponent: function currentComponent(state, getters, rootState) {\n\t    var componentDefinitionId = state.currentSelections.component_definition_id;\n\t    var type = void 0,\n\t        definition = void 0;\n\t    if (definition = rootState.models.library.window_definitions.find(function (i) {\n\t      return i.id === componentDefinitionId;\n\t    })) {\n\t      type = 'window_definitions';\n\t    } else if (definition = rootState.models.library.daylighting_control_definitions.find(function (i) {\n\t      return i.id === componentDefinitionId;\n\t    })) {\n\t      type = 'daylighting_control_definitions';\n\t    }\n\t    return { type: type, definition: definition };\n\t  },\n\t  currentComponentDefinition: function currentComponentDefinition(state, getters) {\n\t    return getters['currentComponent']['definition'];\n\t  },\n\t  currentComponentInstance: function currentComponentInstance(state, getters) {\n\t    var compDefId = state.currentSelections.component_instance_id;\n\t    if (!compDefId) {\n\t      return null;\n\t    }\n\t    return (0, _helpers3.componentInstanceById)(getters['currentStory'], compDefId);\n\t  },\n\t  currentSpaceProperty: function currentSpaceProperty(state, getters, rootState) {\n\t    var spacePropertyId = state.currentSelections.space_property_id,\n\t        library = rootState.models.library;\n\t    return (0, _helpers3.spacePropertyById)(library, spacePropertyId);\n\t  },\n\t  currentStoryGeometry: function currentStoryGeometry(state, getters, rootState) {\n\t    var currentStory = getters['currentStory'];\n\t    if (!currentStory) {\n\t      return null;\n\t    }\n\t    return rootState.geometry.find(function (g) {\n\t      return g.id === currentStory.geometry_id;\n\t    });\n\t  },\n\t  currentStoryDenormalizedGeom: function currentStoryDenormalizedGeom(state, getters) {\n\t    var currentStoryGeom = getters['currentStoryGeometry'];\n\t    if (!currentStoryGeom) {\n\t      return null;\n\t    }\n\t    return _helpers2.default.denormalize(currentStoryGeom);\n\t  },\n\t  currentSubSelectionFace: function currentSubSelectionFace(state, getters) {\n\t    if (getters['currentSubSelection'] && getters['currentSubSelection'].face_id) {\n\t      return getters['currentStoryGeometry'].faces.find(function (f) {\n\t        return f.id === getters['currentSubSelection'].face_id;\n\t      });\n\t    }\n\t    return null;\n\t  }\n\t};\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(125);\n\t\n\tvar _actions2 = _interopRequireDefault(_actions);\n\t\n\tvar _mutations = __webpack_require__(128);\n\t\n\tvar _mutations2 = _interopRequireDefault(_mutations);\n\t\n\tvar _getters = __webpack_require__(126);\n\t\n\tvar _getters2 = _interopRequireDefault(_getters);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar d3 = __webpack_require__(26);\n\t\n\texports.default = {\n\t  namespaced: true,\n\t  state: {\n\t    currentSelections: {\n\t      story: null,\n\t      story_id: null,\n\t      subselection_ids: {},\n\t\n\t      component_id: null,\n\t      component_definition_id: null,\n\t      component_instance_id: null,\n\t\n\t      space_property_id: null,\n\t\n\t      tool: 'Rectangle',\n\t      mode: 'spaces',\n\t      snapMode: 'grid-strict',\n\t      modeTab: 'floorplan',\n\t      subselectionType: 'spaces'\n\t    },\n\t    modes: ['spaces', 'shading', 'building_units', 'thermal_zones', 'pitched_roofs', 'space_types', 'images'],\n\t    tools: ['Pan', 'Drag', 'Rectangle', 'Polygon', 'Eraser', 'Select', 'Map', 'Fill', 'Place Component', 'Image', 'Apply Property'],\n\t\n\t    scale: {\n\t      x: d3.scaleLinear().range([0, 0]).domain([0, 0]),\n\t      y: d3.scaleLinear().range([0, 0]).domain([0, 0])\n\t    }\n\t  },\n\t  actions: _actions2.default,\n\t  mutations: _mutations2.default,\n\t  getters: _getters2.default\n\t};\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _defineProperty2 = __webpack_require__(28);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _extends3 = __webpack_require__(2);\n\t\n\tvar _extends4 = _interopRequireDefault(_extends3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  setCurrentStoryId: function setCurrentStoryId(state, payload) {\n\t    state.currentSelections.story_id = payload.id;\n\t  },\n\t  setCurrentSubSelectionId: function setCurrentSubSelectionId(state, payload) {\n\t    var storyId = state.currentSelections.story_id;\n\t    if (!storyId) {\n\t      console.error('expected a story to be selected, in order to set a subselection');\n\t      return;\n\t    }\n\t    state.currentSelections.subselection_ids = (0, _extends4.default)({}, state.currentSelections.subselection_ids, (0, _defineProperty3.default)({}, storyId, payload.id));\n\t  },\n\t  setCurrentComponentId: function setCurrentComponentId(state, payload) {\n\t    state.currentSelections.component_id = payload.id;\n\t  },\n\t  setCurrentComponentDefinitionId: function setCurrentComponentDefinitionId(state, payload) {\n\t    state.currentSelections.component_definition_id = payload.id;\n\t  },\n\t  setCurrentComponentInstanceId: function setCurrentComponentInstanceId(state, payload) {\n\t    state.currentSelections.component_instance_id = payload.id;\n\t  },\n\t  setCurrentSpacePropertyId: function setCurrentSpacePropertyId(state, payload) {\n\t    state.currentSelections.space_property_id = payload.id;\n\t  },\n\t  setCurrentSnapMode: function setCurrentSnapMode(state, payload) {\n\t    state.currentSelections.snapMode = payload.snapMode;\n\t  },\n\t  setCurrentModeTab: function setCurrentModeTab(state, payload) {\n\t    state.currentSelections.modeTab = payload.modeTab;\n\t  },\n\t  setCurrentSubselectionType: function setCurrentSubselectionType(state, payload) {\n\t    state.currentSelections.subselectionType = payload.subselectionType;\n\t  },\n\t  setCurrentTool: function setCurrentTool(state, payload) {\n\t    state.currentSelections.tool = payload.tool;\n\t  },\n\t  setCurrentMode: function setCurrentMode(state, payload) {\n\t    state.currentSelections.mode = payload.mode;\n\t  },\n\t  setScaleX: function setScaleX(state, payload) {\n\t    state.scale.x = payload.scaleX;\n\t  },\n\t  setScaleY: function setScaleY(state, payload) {\n\t    state.scale.y = payload.scaleY;\n\t  }\n\t};\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _defineProperty2 = __webpack_require__(28);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\texports.getOrCreateVertex = getOrCreateVertex;\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _factory = __webpack_require__(48);\n\t\n\tvar _factory2 = _interopRequireDefault(_factory);\n\t\n\tvar _helpers = __webpack_require__(4);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _createFaceFromPoints = __webpack_require__(130);\n\t\n\tvar _createFaceFromPoints2 = _interopRequireDefault(_createFaceFromPoints);\n\t\n\tvar _componentPreservationSociety = __webpack_require__(72);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getOrCreateVertex(geometry, coords) {\n\t  return _helpers2.default.vertexForCoordinates(coords, geometry) || _factory2.default.Vertex(coords.x, coords.y);\n\t}\n\t\n\texports.default = {\n\t  initGeometry: function initGeometry(context, payload) {\n\t    var story_id = payload.story_id;\n\t\n\t    var geometry = new _factory2.default.Geometry();\n\t    context.commit('initGeometry', { geometry: geometry });\n\t\n\t    context.dispatch('models/updateStoryWithData', {\n\t      story: context.rootState.models.stories.find(function (s) {\n\t        return s.id === story_id;\n\t      }),\n\t      geometry_id: geometry.id\n\t    }, { root: true });\n\t  },\n\t  eraseSelection: function eraseSelection(context, payload) {\n\t    var points = payload.points,\n\t        geometry_id = context.rootGetters['application/currentStoryGeometry'].id;\n\t\n\t\n\t    (0, _componentPreservationSociety.withPreservedComponents)(context, geometry_id, function () {\n\t      var eraseResult = (0, _createFaceFromPoints.eraseSelection)(points, context);\n\t\n\t      if (!eraseResult) {\n\t        window.eventBus.$emit('error', 'Operation cancelled - no split faces');\n\t      }\n\t    });\n\t\n\t    context.dispatch('trimGeometry', { geometry_id: geometry_id });\n\t  },\n\t  moveFaceByOffset: function moveFaceByOffset(context, payload) {\n\t    var face_id = payload.face_id,\n\t        dx = payload.dx,\n\t        dy = payload.dy,\n\t        currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'],\n\t        face = _helpers2.default.faceForId(face_id, currentStoryGeometry),\n\t        movedPoints = _helpers2.default.verticesForFaceId(face.id, currentStoryGeometry).map(function (v) {\n\t      return {\n\t        x: v.x + dx,\n\t        y: v.y + dy\n\t      };\n\t    }),\n\t        newGeoms = (0, _createFaceFromPoints.newGeometriesOfOverlappedFaces)(movedPoints, _helpers2.default.exceptFace(currentStoryGeometry, face_id));\n\t\n\t    if (newGeoms.error) {\n\t      window.eventBus.$emit('error', 'Operation cancelled - ' + newGeoms.error);\n\t\n\t      window.eventBus.$emit('reload-grid');\n\t      return;\n\t    }\n\t\n\t    var movedGeom = (0, _createFaceFromPoints.validateFaceGeometry)(movedPoints, currentStoryGeometry);\n\t    if (!movedGeom.success) {\n\t      window.eventBus.$emit('error', movedGeom.error);\n\t      window.eventBus.$emit('reload-grid');\n\t      return;\n\t    }\n\t\n\t    var movementsByFaceId = (0, _defineProperty3.default)({}, face_id, { dx: dx, dy: dy });\n\t\n\t    (0, _componentPreservationSociety.withPreservedComponents)(context, currentStoryGeometry.id, movementsByFaceId, function () {\n\t      newGeoms.forEach(function (newGeom) {\n\t        return context.dispatch('replaceFacePoints', newGeom);\n\t      });\n\t\n\t      context.dispatch('replaceFacePoints', {\n\t        geometry_id: currentStoryGeometry.id,\n\t        face_id: face_id,\n\t        vertices: movedGeom.vertices,\n\t        edges: movedGeom.edges,\n\t        dx: dx,\n\t        dy: dy\n\t      });\n\t    });\n\t\n\t    context.dispatch('trimGeometry', { geometry_id: currentStoryGeometry.id });\n\t  },\n\t\n\t  createFaceFromPoints: _createFaceFromPoints2.default,\n\t\n\t  destroyFaceAndDescendents: function destroyFaceAndDescendents(context, payload) {\n\t    var geometry_id = payload.geometry_id,\n\t        face = payload.face;\n\t\n\t\n\t    var geometry = context.state.find(function (g) {\n\t      return g.id === geometry_id;\n\t    }),\n\t        expVertices = face.edgeRefs.map(function (edgeRef) {\n\t      var edge = _helpers2.default.edgeForId(edgeRef.edge_id, geometry),\n\t          vertexId = edgeRef.reverse ? edge.v2 : edge.v1;\n\t      return _helpers2.default.vertexForId(vertexId, geometry);\n\t    }).filter(function (v) {\n\t      return _helpers2.default.facesForVertexId(v.id, geometry).length < 2;\n\t    }),\n\t        expEdgeRefs = face.edgeRefs.filter(function (edgeRef) {\n\t      return _helpers2.default.facesForEdgeId(edgeRef.edge_id, geometry).length < 2;\n\t    });\n\t\n\t    context.commit('destroyGeometry', { id: face.id });\n\t    expEdgeRefs.forEach(function (edgeRef) {\n\t      return context.commit('destroyGeometry', { id: edgeRef.edge_id });\n\t    });\n\t    expVertices.forEach(function (vertex) {\n\t      return context.commit('destroyGeometry', { id: vertex.id });\n\t    });\n\t  },\n\t  replaceFacePoints: function replaceFacePoints(context, _ref) {\n\t    var geometry_id = _ref.geometry_id,\n\t        face_id = _ref.face_id,\n\t        vertices = _ref.vertices,\n\t        edges = _ref.edges;\n\t\n\t    var geom = _lodash2.default.find(context.state, { id: geometry_id });\n\t\n\t    var replacementVertIds = _lodash2.default.chain(vertices).map(function (vert) {\n\t      var gVert = _lodash2.default.find(geom.vertices, _lodash2.default.pick(vert, ['x', 'y']));\n\t      if (!gVert) return null;\n\t      if (vert.id === gVert.id) return null;\n\t      return [vert.id, gVert.id];\n\t    }).compact().fromPairs().value();\n\t\n\t    vertices.forEach(function (v) {\n\t      v.id = replacementVertIds[v.id] || v.id;\n\t    });\n\t    edges.forEach(function (e) {\n\t      e.v1 = replacementVertIds[e.v1] || e.v1;\n\t      e.v2 = replacementVertIds[e.v2] || e.v2;\n\t    });\n\t\n\t    context.commit('replaceFacePoints', {\n\t      geometry_id: geometry_id,\n\t      vertices: vertices,\n\t      edges: edges,\n\t      face_id: face_id\n\t    });\n\t  },\n\t  trimGeometry: function trimGeometry(_ref2, _ref3) {\n\t    var rootState = _ref2.rootState,\n\t        commit = _ref2.commit;\n\t    var geometry_id = _ref3.geometry_id;\n\t\n\t    var story = _lodash2.default.find(rootState.models.stories, { geometry_id: geometry_id }),\n\t        vertsReferencedByDCs = _lodash2.default.flatMap(story.spaces, function (s) {\n\t      return _lodash2.default.map(s.daylighting_controls, 'vertex_id');\n\t    });\n\t\n\t    commit('trimGeometry', { geometry_id: geometry_id, vertsReferencedElsewhere: vertsReferencedByDCs });\n\t  }\n\t};\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(8);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _toConsumableArray2 = __webpack_require__(15);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _defineProperty2 = __webpack_require__(28);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _slicedToArray2 = __webpack_require__(29);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\texports.default = createFaceFromPoints;\n\texports.newGeometriesOfOverlappedFaces = newGeometriesOfOverlappedFaces;\n\texports.eraseSelection = eraseSelection;\n\texports.findExistingEdge = findExistingEdge;\n\texports.matchOrCreateEdges = matchOrCreateEdges;\n\texports.errOnTooFewVerts = errOnTooFewVerts;\n\texports.errOnDuplicateVerts = errOnDuplicateVerts;\n\texports.errOnVertexIntersectsEdge = errOnVertexIntersectsEdge;\n\texports.errOnEdgeIntersectsEdge = errOnEdgeIntersectsEdge;\n\texports.validateFaceGeometry = validateFaceGeometry;\n\texports.edgesToSplit = edgesToSplit;\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _factory = __webpack_require__(48);\n\t\n\tvar _factory2 = _interopRequireDefault(_factory);\n\t\n\tvar _helpers = __webpack_require__(4);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _helpers3 = __webpack_require__(11);\n\t\n\tvar _helpers4 = _interopRequireDefault(_helpers3);\n\t\n\tvar _utilities = __webpack_require__(35);\n\t\n\tvar _componentPreservationSociety = __webpack_require__(72);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction createFaceFromPoints(context, payload) {\n\t  var model_id = payload.model_id,\n\t      points = payload.points;\n\t\n\t\n\t  if ((0, _utilities.uniq)(points).length < 3) {\n\t    return;\n\t  }\n\t\n\t  var currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'];\n\t  var target = _helpers4.default.libraryObjectWithId(context.rootState.models, model_id);\n\t\n\t  var existingFace = target.face_id ? _helpers2.default.faceForId(target.face_id, currentStoryGeometry) : null;\n\t  var facePoints = void 0;\n\t\n\t  if (existingFace) {\n\t    var existingFaceVertices = _helpers2.default.verticesForFaceId(existingFace.id, currentStoryGeometry);\n\t    facePoints = _helpers2.default.setOperation('union', existingFaceVertices, points);\n\t    if (facePoints.error) {\n\t      window.eventBus.$emit('error', 'Operation cancelled - ' + facePoints.error);\n\t      return;\n\t    }\n\t  } else {\n\t    facePoints = points;\n\t  }\n\t\n\t  var faceGeometry = validateFaceGeometry(facePoints, context.rootGetters['application/currentStoryGeometry'], context.rootGetters['project/snapTolerance']);\n\t  if (!faceGeometry.success) {\n\t    window.eventBus.$emit('error', faceGeometry.error);\n\t    console.error(faceGeometry.error);\n\t    return;\n\t  }\n\t\n\t  var newGeoms = newGeometriesOfOverlappedFaces(facePoints, _helpers2.default.exceptFace(currentStoryGeometry, existingFace && existingFace.id));\n\t\n\t  if (newGeoms.error) {\n\t    window.eventBus.$emit('error', 'Operation cancelled - ' + newGeoms.error);\n\t    return;\n\t  }\n\t\n\t  (0, _componentPreservationSociety.withPreservedComponents)(context, currentStoryGeometry.id, function () {\n\t    newGeoms.forEach(function (newGeom) {\n\t      return context.dispatch('replaceFacePoints', newGeom);\n\t    });\n\t\n\t    storeFace(faceGeometry, target, context, existingFace);\n\t\n\t    splitEdges(context);\n\t  });\n\t\n\t  context.dispatch('trimGeometry', { geometry_id: currentStoryGeometry.id });\n\t}\n\t\n\tfunction newGeometriesOfOverlappedFaces(points, geometry) {\n\t  if (points.length < 3 || !_helpers2.default.areaOfSelection(points)) {\n\t    return false;\n\t  }\n\t\n\t  var geom = _helpers2.default.denormalize(geometry);\n\t  var intersectedFaces = geom.faces.filter(function (face) {\n\t    var inter = _helpers2.default.intersection(face.vertices, points);\n\t\n\t    return inter.error || inter.length > 0;\n\t  });\n\t\n\t  var newFaceVertices = intersectedFaces.map(function (existingFace) {\n\t    return _helpers2.default.difference(existingFace.vertices, points);\n\t  });\n\t\n\t  var errantCase = _lodash2.default.find(newFaceVertices, 'error');\n\t  if (errantCase) {\n\t    return errantCase;\n\t  }\n\t\n\t  var newFaceGeometries = newFaceVertices.map(function (verts) {\n\t    return validateFaceGeometry(verts, geometry);\n\t  });\n\t\n\t  var errantGeometry = _lodash2.default.find(newFaceGeometries, 'error');\n\t  if (errantGeometry) {\n\t    return errantGeometry;\n\t  }\n\t\n\t  return _lodash2.default.zip(intersectedFaces, newFaceGeometries).map(function (_ref) {\n\t    var _ref2 = (0, _slicedToArray3.default)(_ref, 2),\n\t        face = _ref2[0],\n\t        _ref2$ = _ref2[1],\n\t        vertices = _ref2$.vertices,\n\t        edges = _ref2$.edges;\n\t\n\t    return {\n\t      geometry_id: geometry.id,\n\t      face_id: face.id,\n\t      vertices: vertices,\n\t      edges: edges\n\t    };\n\t  });\n\t}\n\t\n\tfunction eraseSelection(points, context) {\n\t  var currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'];\n\t\n\t  if (points.length < 3 || !_helpers2.default.areaOfSelection(points)) {\n\t    return false;\n\t  }\n\t\n\t  var newGeoms = newGeometriesOfOverlappedFaces(points, currentStoryGeometry);\n\t\n\t  if (newGeoms.error) {\n\t    window.eventBus.$emit('error', 'Operation cancelled - ' + newGeoms.error);\n\t    return false;\n\t  }\n\t\n\t  newGeoms.forEach(function (newGeom) {\n\t    return context.dispatch('replaceFacePoints', newGeom);\n\t  });\n\t  return true;\n\t}\n\t\n\tfunction storeFace(_ref3, target, context, existingFace) {\n\t  var vertices = _ref3.vertices,\n\t      edges = _ref3.edges;\n\t\n\t  var _context$dispatch;\n\t\n\t  var currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'];\n\t\n\t  var face = existingFace || new _factory2.default.Face([]);\n\t\n\t  context.dispatch('replaceFacePoints', {\n\t    face_id: face.id,\n\t    geometry_id: currentStoryGeometry.id,\n\t    vertices: vertices,\n\t    edges: edges\n\t  });\n\t\n\t  context.dispatch(target.type === 'space' ? 'models/updateSpaceWithData' : 'models/updateShadingWithData', (_context$dispatch = {}, (0, _defineProperty3.default)(_context$dispatch, target.type, target), (0, _defineProperty3.default)(_context$dispatch, 'face_id', face.id), _context$dispatch), {\n\t    root: true\n\t  });\n\t}\n\t\n\tfunction findExistingEdge(v1, v2, edges) {\n\t  var sharedEdge = edges.find(function (e) {\n\t    return e.v1 === v1.id && e.v2 === v2.id || e.v2 === v1.id && e.v1 === v2.id;\n\t  });\n\t\n\t  return sharedEdge && (0, _extends3.default)({}, sharedEdge, {\n\t    reverse: sharedEdge.v1 === v2.id\n\t  });\n\t}\n\t\n\tfunction matchOrCreateEdge(existingEdges) {\n\t  return function (_ref4) {\n\t    var _ref5 = (0, _slicedToArray3.default)(_ref4, 2),\n\t        v1 = _ref5[0],\n\t        v2 = _ref5[1];\n\t\n\t    return findExistingEdge(v1, v2, existingEdges) || new _factory2.default.Edge(v1.id, v2.id);\n\t  };\n\t}\n\t\n\tfunction matchOrCreateEdges(vertices, existingEdges) {\n\t  if (!vertices.length) {\n\t    return [];\n\t  }\n\t  return _lodash2.default.zip(vertices, [].concat((0, _toConsumableArray3.default)(vertices.slice(1)), [vertices[0]])).map(matchOrCreateEdge(existingEdges));\n\t}\n\t\n\tfunction InvalidFaceGeometry(message) {\n\t  this.message = message;\n\t}\n\tInvalidFaceGeometry.prototype = new Error();\n\t\n\tfunction errOnTooFewVerts(vertices) {\n\t  if (vertices.length < 3) {\n\t    throw new InvalidFaceGeometry('can\\'t make a polygon with fewer than three vertices: ' + (0, _stringify2.default)(vertices));\n\t  }\n\t}\n\t\n\tfunction errOnDuplicateVerts(vertices) {\n\t  vertices.forEach(function (vertex) {\n\t    if (_lodash2.default.find(vertices, { x: vertex.x, y: vertex.y }).length >= 2) {\n\t      throw new InvalidFaceGeometry('Duplicate vertex at (' + vertex.x + ', ' + vertex.y + ')');\n\t    }\n\t  });\n\t}\n\t\n\tfunction errOnVertexIntersectsEdge(vertices, edges) {\n\t  edges.forEach(function (_ref6) {\n\t    var v1id = _ref6.v1,\n\t        v2id = _ref6.v2;\n\t\n\t    var v1 = _lodash2.default.find(vertices, { id: v1id }),\n\t        v2 = _lodash2.default.find(vertices, { id: v2id });\n\t\n\t    vertices.forEach(function (v) {\n\t      if (v.id === v1id || v.id === v2id) {\n\t        return;\n\t      }\n\t\n\t      if (!_helpers2.default.ptsAreCollinear(v1, v2, v)) {\n\t        return;\n\t      }\n\t\n\t      var positionAlongEdge = _lodash2.default.reject([(v.x - v1.x) / (v2.x - v1.x), (v.y - v1.y) / (v2.y - v1.y)], isNaN)[0];\n\t\n\t      if (positionAlongEdge > 1 || positionAlongEdge < 0) {\n\t        return;\n\t      }\n\t      throw new InvalidFaceGeometry('An edge is being touched by a vertex on the same face at (' + v.x + ', ' + v.y + ')');\n\t    });\n\t  });\n\t}\n\t\n\tfunction errOnEdgeIntersectsEdge(vertices, edges) {\n\t  (0, _utilities.allPairs)(edges).forEach(function (_ref7) {\n\t    var _ref8 = (0, _slicedToArray3.default)(_ref7, 2),\n\t        e1 = _ref8[0],\n\t        e2 = _ref8[1];\n\t\n\t    var e1v1 = _lodash2.default.find(vertices, { id: e1.v1 }),\n\t        e1v2 = _lodash2.default.find(vertices, { id: e1.v2 }),\n\t        e2v1 = _lodash2.default.find(vertices, { id: e2.v1 }),\n\t        e2v2 = _lodash2.default.find(vertices, { id: e2.v2 });\n\t\n\t    var intersection = _helpers2.default.intersectionOfLines(e1v1, e1v2, e2v1, e2v2);\n\t    if (intersection) {\n\t      throw new InvalidFaceGeometry('Self intersection at ' + intersection.x + ', ' + intersection.y);\n\t    }\n\t  });\n\t}\n\t\n\tfunction validateFaceGeometry(points, currentStoryGeometry) {\n\t\n\t  if (points.length === 0) {\n\t    return {\n\t      success: true,\n\t      vertices: [],\n\t      edges: []\n\t    };\n\t  }\n\t  if (points.length <= 2) {\n\t    return { success: false, error: 'need at least 3 points to make a face' };\n\t  }\n\t\n\t  var faceVertices = points.map(function (point) {\n\t    return _helpers2.default.vertexForCoordinates(point, currentStoryGeometry) || new _factory2.default.Vertex(point.x, point.y);\n\t  });\n\t\n\t  faceVertices = (0, _utilities.dropConsecutiveDups)(faceVertices);\n\t\n\t  var faceEdges = matchOrCreateEdges(faceVertices, currentStoryGeometry.edges);\n\t\n\t  try {\n\t    errOnTooFewVerts(faceVertices);\n\t    errOnDuplicateVerts(faceVertices);\n\t    errOnVertexIntersectsEdge(faceVertices, faceEdges);\n\t    errOnEdgeIntersectsEdge(faceVertices, faceEdges);\n\t  } catch (e) {\n\t    if (e instanceof InvalidFaceGeometry) {\n\t      return {\n\t        success: false,\n\t        error: e.message\n\t      };\n\t    }\n\t\n\t    throw e;\n\t  }\n\t\n\t  return {\n\t    success: true,\n\t    vertices: faceVertices,\n\t    edges: faceEdges\n\t  };\n\t}\n\t\n\tfunction edgesFromVerts(verts, existingEdges) {\n\t  return _lodash2.default.zip(verts.slice(0, -1), verts.slice(1)).map(matchOrCreateEdge(existingEdges));\n\t}\n\t\n\tfunction replacementEdgeRefs(geometry, dyingEdgeId, newEdges) {\n\t  var affectedFaces = _helpers2.default.facesForEdgeId(dyingEdgeId, geometry);\n\t\n\t  var replaceEdgeRefs = affectedFaces.map(function (affectedFace) {\n\t    return {\n\t      type: 'replaceEdgeRef',\n\t      geometry_id: geometry.id,\n\t      edge_id: dyingEdgeId,\n\t      face_id: affectedFace.id,\n\t      newEdges: _lodash2.default.map(newEdges, _lodash2.default.partialRight(_lodash2.default.pick, ['id', 'reverse']))\n\t    };\n\t  });\n\t\n\t  return replaceEdgeRefs;\n\t}\n\t\n\tfunction edgesToSplit(geometry) {\n\t  return _lodash2.default.compact(geometry.edges.map(function (edge) {\n\t    var splittingVertices = _helpers2.default.splittingVerticesForEdgeId(edge.id, geometry);\n\t    if (!splittingVertices.length) {\n\t      return false;\n\t    }\n\t    var startpoint = _helpers2.default.vertexForId(edge.v1, geometry),\n\t        endpoint = _helpers2.default.vertexForId(edge.v2, geometry);\n\t\n\t    splittingVertices = _lodash2.default.sortBy(splittingVertices, function (v) {\n\t      return (0, _helpers.distanceBetweenPoints)(v, startpoint);\n\t    });\n\t\n\t    splittingVertices = [startpoint].concat((0, _toConsumableArray3.default)(splittingVertices), [endpoint]);\n\t\n\t    var newEdges = edgesFromVerts(splittingVertices, geometry.edges),\n\t        replaceEdgeRefs = replacementEdgeRefs(geometry, edge.id, newEdges);\n\t    return {\n\t      edgeToDelete: edge.id,\n\t      newEdges: newEdges,\n\t      replaceEdgeRefs: replaceEdgeRefs\n\t    };\n\t  }));\n\t}\n\t\n\tfunction splitEdges(context) {\n\t  var currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'],\n\t      edgeChanges = edgesToSplit(currentStoryGeometry);\n\t\n\t  edgeChanges.forEach(function (payload) {\n\t    return context.commit((0, _extends3.default)({\n\t      type: 'splitEdge',\n\t      geometry_id: currentStoryGeometry.id\n\t    }, payload));\n\t  });\n\t}\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(4);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _checkGeometry = __webpack_require__(150);\n\t\n\tvar _checkGeometry2 = _interopRequireDefault(_checkGeometry);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    denormalized: function denormalized(state) {\n\t        return state.map(function (g) {\n\t            return _helpers2.default.denormalize(g);\n\t        });\n\t    },\n\t    errors: function errors(state, getters) {\n\t        return _lodash2.default.flatMap(getters['denormalized'], _checkGeometry2.default);\n\t    },\n\t    exportData: function exportData(state, getters, rootState, rootGetters) {\n\t        return state.map(function (geometry) {\n\t            return {\n\t                id: geometry.id,\n\t                vertices: geometry.vertices.map(function (vertex) {\n\t                    return {\n\t                        id: vertex.id,\n\t                        x: Number(vertex.x),\n\t                        y: Number(vertex.y),\n\t                        edge_ids: _helpers2.default.edgesForVertexId(vertex.id, geometry).map(function (e) {\n\t                            return e.id;\n\t                        })\n\t                    };\n\t                }),\n\t\n\t                edges: geometry.edges.map(function (edge) {\n\t                    return {\n\t                        id: edge.id,\n\t                        vertex_ids: [edge.v1, edge.v2],\n\t                        face_ids: _helpers2.default.facesForEdgeId(edge.id, geometry).map(function (f) {\n\t                            return f.id;\n\t                        })\n\t                    };\n\t                }),\n\t\n\t                faces: geometry.faces.map(function (face) {\n\t                    return {\n\t                        id: face.id,\n\t                        edge_ids: face.edgeRefs.map(function (eR) {\n\t                            return eR.edge_id;\n\t                        }),\n\t\n\t                        edge_order: face.edgeRefs.map(function (eR) {\n\t                            return eR.reverse ? 0 : 1;\n\t                        })\n\t                    };\n\t                })\n\t            };\n\t        });\n\t    }\n\t};\n\n/***/ }),\n/* 132 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(129);\n\t\n\tvar _actions2 = _interopRequireDefault(_actions);\n\t\n\tvar _mutations = __webpack_require__(133);\n\t\n\tvar mutations = _interopRequireWildcard(_mutations);\n\t\n\tvar _getters = __webpack_require__(131);\n\t\n\tvar _getters2 = _interopRequireDefault(_getters);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    namespaced: true,\n\t\n\t    state: [],\n\t    actions: _actions2.default,\n\t    mutations: mutations,\n\t    getters: _getters2.default\n\t};\n\n/***/ }),\n/* 133 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(8);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _toConsumableArray2 = __webpack_require__(15);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _set = __webpack_require__(157);\n\t\n\tvar _set2 = _interopRequireDefault(_set);\n\t\n\texports.trimGeometry = trimGeometry;\n\texports.initGeometry = initGeometry;\n\texports.createVertex = createVertex;\n\texports.createFace = createFace;\n\texports.destroyGeometry = destroyGeometry;\n\texports.createEdgeRef = createEdgeRef;\n\texports.setEdgeRefsForFace = setEdgeRefsForFace;\n\texports.destroyEdgeRef = destroyEdgeRef;\n\texports.replaceEdgeRef = replaceEdgeRef;\n\texports.ensureVertsExist = ensureVertsExist;\n\texports.ensureEdgesExist = ensureEdgesExist;\n\texports.splitEdge = splitEdge;\n\texports.replaceFacePoints = replaceFacePoints;\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction trimGeometry(state, _ref) {\n\t  var geometry_id = _ref.geometry_id,\n\t      vertsReferencedElsewhere = _ref.vertsReferencedElsewhere;\n\t\n\t  var geometry = _lodash2.default.find(state, { id: geometry_id }),\n\t      edgesInUse = new _set2.default(_lodash2.default.flatMap(geometry.faces, function (f) {\n\t    return _lodash2.default.map(f.edgeRefs, 'edge_id');\n\t  })),\n\t      vertsOnEdges = _lodash2.default.flatMap(geometry.edges.filter(function (e) {\n\t    return edgesInUse.has(e.id);\n\t  }), function (e) {\n\t    return [e.v1, e.v2];\n\t  }),\n\t      verticesInUse = new _set2.default([].concat((0, _toConsumableArray3.default)(vertsReferencedElsewhere || []), (0, _toConsumableArray3.default)(vertsOnEdges)));\n\t  geometry.edges = geometry.edges.filter(function (e) {\n\t    return edgesInUse.has(e.id);\n\t  });\n\t  geometry.vertices = geometry.vertices.filter(function (v) {\n\t    return verticesInUse.has(v.id);\n\t  });\n\t  var missingEdges = _lodash2.default.difference([].concat((0, _toConsumableArray3.default)(edgesInUse)), _lodash2.default.map(geometry.edges, 'id'));\n\t  if (missingEdges.length) {\n\t    console.error('An edge is referenced by a face, but does not exist!', (0, _stringify2.default)(geometry));\n\t  }\n\t  var missingVerts = _lodash2.default.difference(vertsOnEdges, _lodash2.default.map(geometry.vertices, 'id'));\n\t  if (missingVerts.length) {\n\t    console.error('A vertex is referenced by a face, but does not exist!', (0, _stringify2.default)(geometry));\n\t  }\n\t}\n\t\n\tfunction initGeometry(state, payload) {\n\t  var geometry = payload.geometry;\n\t\n\t  state.push(geometry);\n\t}\n\tfunction createVertex(state, payload) {\n\t  var geometry_id = payload.geometry_id,\n\t      vertex = payload.vertex;\n\t\n\t  state.find(function (g) {\n\t    return g.id === geometry_id;\n\t  }).vertices.push(vertex);\n\t}\n\tfunction createFace(state, payload) {\n\t  var geometry_id = payload.geometry_id,\n\t      face = payload.face;\n\t\n\t  state.find(function (g) {\n\t    return g.id === geometry_id;\n\t  }).faces.push(face);\n\t}\n\t\n\tfunction destroyGeometry(state, payload) {\n\t  var id = payload.id;\n\t\n\t  for (var i = 0; i < state.length; i++) {\n\t    var g = state[i];\n\t    if (g.id === id) {\n\t      state.splice(state.findIndex(function (g) {\n\t        return g.id === id;\n\t      }), 1);\n\t      break;\n\t    } else if (~g.faces.map(function (f) {\n\t      return f.id;\n\t    }).indexOf(id)) {\n\t      g.faces.splice(g.faces.findIndex(function (f) {\n\t        return f.id === id;\n\t      }), 1);\n\t      break;\n\t    } else if (~g.edges.map(function (e) {\n\t      return e.id;\n\t    }).indexOf(id)) {\n\t      g.edges.splice(g.edges.findIndex(function (e) {\n\t        return e.id === id;\n\t      }), 1);\n\t      break;\n\t    } else if (~g.vertices.map(function (v) {\n\t      return v.id;\n\t    }).indexOf(id)) {\n\t      g.vertices.splice(g.vertices.findIndex(function (v) {\n\t        return v.id === id;\n\t      }), 1);\n\t      break;\n\t    }\n\t  }\n\t}\n\t\n\tfunction createEdgeRef(state, payload) {\n\t  var geometry_id = payload.geometry_id,\n\t      face_id = payload.face_id,\n\t      edgeRef = payload.edgeRef,\n\t      geometry = state.find(function (g) {\n\t    return g.id === geometry_id;\n\t  }),\n\t      face = geometry.faces.find(function (f) {\n\t    return f.id === face_id;\n\t  }),\n\t      edge = geometry.edges.find(function (e) {\n\t    return e.id === edgeRef.edge_id;\n\t  });\n\t\n\t\n\t  if (edge) {\n\t    face.edgeRefs.push(edgeRef);\n\t  }\n\t}\n\t\n\tfunction setEdgeRefsForFace(state, payload) {\n\t  var geometry_id = payload.geometry_id,\n\t      face_id = payload.face_id,\n\t      edgeRefs = payload.edgeRefs,\n\t      geometry = state.find(function (g) {\n\t    return g.id === geometry_id;\n\t  }),\n\t      face = geometry.faces.find(function (f) {\n\t    return f.id === face_id;\n\t  });\n\t\n\t  face.edgeRefs = edgeRefs.filter(function (ref) {\n\t    return geometry.edges.find(function (e) {\n\t      return e.id === ref.edge_id;\n\t    });\n\t  });\n\t}\n\t\n\tfunction destroyEdgeRef(state, payload) {\n\t  var geometry_id = payload.geometry_id,\n\t      face_id = payload.face_id,\n\t      edge_id = payload.edge_id,\n\t      geometry = state.find(function (g) {\n\t    return g.id === geometry_id;\n\t  }),\n\t      face = geometry.faces.find(function (f) {\n\t    return f.id === face_id;\n\t  });\n\t\n\t  face.edgeRefs.splice(face.edgeRefs.findIndex(function (eR) {\n\t    return eR.edge_id === edge_id;\n\t  }), 1);\n\t}\n\t\n\tfunction replaceEdgeRef(state, payload) {\n\t  var _face$edgeRefs;\n\t\n\t  var geometry_id = payload.geometry_id,\n\t      face_id = payload.face_id,\n\t      edge_id = payload.edge_id,\n\t      newEdges = payload.newEdges,\n\t      geometry = state.find(function (g) {\n\t    return g.id === geometry_id;\n\t  }),\n\t      face = geometry.faces.find(function (f) {\n\t    return f.id === face_id;\n\t  }),\n\t      edgeRefIx = _lodash2.default.findIndex(face.edgeRefs, { edge_id: edge_id }),\n\t      edgeRef = face.edgeRefs[edgeRefIx];\n\t\n\t  (_face$edgeRefs = face.edgeRefs).splice.apply(_face$edgeRefs, [edgeRefIx, 1].concat((0, _toConsumableArray3.default)(newEdges.map(function (_ref2) {\n\t    var newEdgeId = _ref2.id,\n\t        edgeReverse = _ref2.reverse;\n\t    return {\n\t      edge_id: newEdgeId,\n\t      reverse: edgeRef.reverse ^ edgeReverse\n\t    };\n\t  }))));\n\t}\n\t\n\tfunction ensureVertsExist(state, _ref3) {\n\t  var geometry_id = _ref3.geometry_id,\n\t      vertices = _ref3.vertices;\n\t\n\t  var geometry = _lodash2.default.find(state, { id: geometry_id });\n\t  vertices.forEach(function (v) {\n\t    return _lodash2.default.find(geometry.vertices, { id: v.id }) || geometry.vertices.push(v);\n\t  });\n\t}\n\t\n\tfunction ensureEdgesExist(state, _ref4) {\n\t  var geometry_id = _ref4.geometry_id,\n\t      edges = _ref4.edges;\n\t\n\t  var geometry = _lodash2.default.find(state, { id: geometry_id });\n\t  edges.forEach(function (e) {\n\t    return _lodash2.default.find(geometry.edges, { id: e.id }) || geometry.edges.push(e);\n\t  });\n\t}\n\t\n\tfunction splitEdge(state, _ref5) {\n\t  var geometry_id = _ref5.geometry_id,\n\t      edgeToDelete = _ref5.edgeToDelete,\n\t      newEdges = _ref5.newEdges,\n\t      replaceEdgeRefs = _ref5.replaceEdgeRefs;\n\t\n\t  ensureEdgesExist(state, { geometry_id: geometry_id, edges: newEdges });\n\t  replaceEdgeRefs.forEach(function (replacement) {\n\t    return replaceEdgeRef(state, replacement);\n\t  });\n\t  destroyGeometry(state, { id: edgeToDelete });\n\t}\n\t\n\tfunction replaceFacePoints(state, _ref6) {\n\t  var geometry_id = _ref6.geometry_id,\n\t      vertices = _ref6.vertices,\n\t      edges = _ref6.edges,\n\t      face_id = _ref6.face_id;\n\t\n\t  var geometry = _lodash2.default.find(state, { id: geometry_id });\n\t  ensureVertsExist(state, { geometry_id: geometry_id, vertices: vertices });\n\t  ensureEdgesExist(state, { geometry_id: geometry_id, edges: edges });\n\t\n\t  var face = _lodash2.default.find(geometry.faces, { id: face_id });\n\t  if (!face) {\n\t    face = { id: face_id, edgeRefs: [] };\n\t    geometry.faces.push(face);\n\t  }\n\t\n\t  face.edgeRefs = edges.map(function (e) {\n\t    return {\n\t      edge_id: e.id,\n\t      reverse: !!e.reverse\n\t    };\n\t  });\n\t}\n\n/***/ }),\n/* 134 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _assign = __webpack_require__(36);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _keys = __webpack_require__(14);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _libconfig = __webpack_require__(34);\n\t\n\tvar _libconfig2 = _interopRequireDefault(_libconfig);\n\t\n\tvar _factory = __webpack_require__(49);\n\t\n\tvar _factory2 = _interopRequireDefault(_factory);\n\t\n\tvar _generateId = __webpack_require__(27);\n\t\n\tvar _generateId2 = _interopRequireDefault(_generateId);\n\t\n\tvar _factory3 = __webpack_require__(48);\n\t\n\tvar _factory4 = _interopRequireDefault(_factory3);\n\t\n\tvar _helpers = __webpack_require__(11);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tvar _helpers3 = __webpack_require__(4);\n\t\n\tvar _helpers4 = _interopRequireDefault(_helpers3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  initStory: function initStory(context) {\n\t    var name = _helpers2.default.generateName(context.state, 'stories');\n\t    var story = new _factory2.default.Story(name);\n\t\n\t    context.commit('initStory', { story: story });\n\t\n\t    context.dispatch('geometry/initGeometry', { story_id: story.id }, { root: true });\n\t\n\t    context.dispatch('initSpace', { story: story });\n\t    context.dispatch('initShading', { story: story });\n\t    context.dispatch('selectStory', { story: story });\n\t  },\n\t  initSpace: function initSpace(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story.id;\n\t    }),\n\t        name = _helpers2.default.generateName(context.state, 'spaces', story),\n\t        space = new _factory2.default.Space(name);\n\t\n\t    context.commit('initSpace', { story: story, space: space });\n\t  },\n\t  initShading: function initShading(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story.id;\n\t    }),\n\t        name = _helpers2.default.generateName(context.state, 'shading', story),\n\t        shading = new _factory2.default.Shading(name);\n\t\n\t    context.commit('initShading', { story: story, shading: shading });\n\t  },\n\t  destroyStory: function destroyStory(context, payload) {\n\t    var stories = context.state.stories;\n\t    var storyIndex = stories.findIndex(function (s) {\n\t      return s.id === payload.story.id;\n\t    });\n\t    var story = stories[storyIndex];\n\t\n\t    context.commit('destroyStory', { story: story });\n\t\n\t    if (stories.length === 0) {\n\t      context.dispatch('initStory');\n\t    } else {\n\t      context.dispatch('selectStory', { story: stories[storyIndex - 1] });\n\t    }\n\t  },\n\t  destroySpace: function destroySpace(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story.id;\n\t    }),\n\t        space = story.spaces.find(function (s) {\n\t      return s.id === payload.space.id;\n\t    });\n\t\n\t    context.commit('destroySpace', {\n\t      space: space,\n\t      story: story\n\t    });\n\t    var face = context.rootGetters['application/currentStoryGeometry'].faces.find(function (f) {\n\t      return f.id === space.face_id;\n\t    });\n\t    if (face) {\n\t      context.dispatch('geometry/destroyFaceAndDescendents', {\n\t        face: face,\n\t        geometry_id: context.rootGetters['application/currentStoryGeometry'].id\n\t      }, { root: true });\n\t    }\n\t  },\n\t  destroyShading: function destroyShading(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story.id;\n\t    }),\n\t        shading = story.shading.find(function (s) {\n\t      return s.id === payload.shading.id;\n\t    });\n\t\n\t    context.commit('destroyShading', {\n\t      shading: shading,\n\t      story: story\n\t    });\n\t\n\t    var face = context.rootGetters['application/currentStoryGeometry'].faces.find(function (f) {\n\t      return f.id === shading.face_id;\n\t    });\n\t    if (face) {\n\t      context.dispatch('geometry/destroyFaceAndDescendents', {\n\t        face: face,\n\t        geometry_id: context.rootGetters['application/currentStoryGeometry'].id\n\t      }, { root: true });\n\t    }\n\t  },\n\t  destroyImage: function destroyImage(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story.id;\n\t    }),\n\t        image = story.images.find(function (i) {\n\t      return i.id === payload.image.id;\n\t    });\n\t\n\t    context.commit('destroyImage', {\n\t      image: image,\n\t      story: story\n\t    });\n\t  },\n\t  destroyWindowDef: function destroyWindowDef(context, payload) {\n\t    context.commit('destroyWindowsByDefinition', payload.object);\n\t    context.commit('destroyObject', payload);\n\t  },\n\t  destroyDaylightingControlDef: function destroyDaylightingControlDef(context, payload) {\n\t    context.commit('destroyDaylightingControlsByDefinition', payload.object);\n\t    context.commit('destroyObject', payload);\n\t  },\n\t  destroyObject: function destroyObject(context, payload) {\n\t    context.commit('destroyObject', {\n\t      object: payload.object\n\t    });\n\t  },\n\t  updateStoryWithData: function updateStoryWithData(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story.id;\n\t    }),\n\t        validProperties = (0, _keys2.default)(_libconfig2.default.stories.keymap),\n\t        cleanedPayload = {};\n\t\n\t    for (var key in payload) {\n\t      if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n\t        cleanedPayload[key] = payload[key];\n\t      }\n\t    }\n\t    cleanedPayload.story = story;\n\t\n\t    context.commit('updateStoryWithData', cleanedPayload);\n\t  },\n\t  updateSpaceWithData: function updateSpaceWithData(context, payload) {\n\t    var space = context.getters.allSpaces.find(function (s) {\n\t      return s.id === payload.space.id;\n\t    }),\n\t        validProperties = (0, _keys2.default)(space),\n\t        cleanedPayload = {};\n\t\n\t    for (var key in payload) {\n\t      if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n\t        cleanedPayload[key] = payload[key];\n\t      }\n\t    }\n\t    cleanedPayload.space = space;\n\t\n\t    context.commit('updateSpaceWithData', cleanedPayload);\n\t  },\n\t  updateShadingWithData: function updateShadingWithData(context, payload) {\n\t    var shading = context.getters.allShading.find(function (s) {\n\t      return s.id === payload.shading.id;\n\t    }),\n\t        validProperties = (0, _keys2.default)(shading),\n\t        cleanedPayload = {};\n\t\n\t    for (var key in payload) {\n\t      if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n\t        cleanedPayload[key] = payload[key];\n\t      }\n\t    }\n\t    cleanedPayload.shading = shading;\n\t\n\t    context.commit('updateShadingWithData', cleanedPayload);\n\t  },\n\t  updateImageWithData: function updateImageWithData(context, payload) {\n\t    var image = context.getters.allImages.find(function (i) {\n\t      return i.id === payload.image.id;\n\t    }),\n\t        validProperties = (0, _keys2.default)(image),\n\t        cleanedPayload = {};\n\t\n\t    for (var key in payload) {\n\t      if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n\t        cleanedPayload[key] = payload[key];\n\t      }\n\t    }\n\t    cleanedPayload.image = image;\n\t\n\t    context.commit('updateImageWithData', cleanedPayload);\n\t  },\n\t  updateWindowDefinitionWithData: function updateWindowDefinitionWithData(_ref, payload) {\n\t    var state = _ref.state,\n\t        dispatch = _ref.dispatch;\n\t    var id = payload.object.id;\n\t\n\t    if (payload.window_definition_type === 'Window to Wall Ratio') {\n\t      (0, _assign2.default)(payload, {\n\t        height: null,\n\t        width: null,\n\t        spacing: null\n\t      });\n\t    } else if (payload.window_definition_type === 'Repeating Windows') {\n\t      (0, _assign2.default)(payload, {\n\t        wwr: null\n\t      });\n\t    } else if (payload.window_definition_type === 'Single Window') {\n\t      (0, _assign2.default)(payload, {\n\t        wwr: null,\n\t        spacing: null\n\t      });\n\t    } else if (payload.window_definition_type) {\n\t      throw new Error('unrecognized window_definition_type: ' + payload.window_definition_type);\n\t    }\n\t\n\t    if (_lodash2.default.includes(['Window to Wall Ratio', 'Repeating Windows'], payload.window_definition_type)) {\n\t      var windowsToDelete = _lodash2.default.flatMap(state.stories, function (story) {\n\t        return _lodash2.default.chain(story.windows).filter({ window_definition_id: id }).groupBy('edge_id').values().flatMap(_lodash2.default.tail).map(function (w) {\n\t          return { story_id: story.id, object: { id: w.id } };\n\t        }).value();\n\t      });\n\t\n\t      windowsToDelete.forEach(function (pl) {\n\t        return dispatch('destroyWindow', pl);\n\t      });\n\t    }\n\t\n\t    dispatch('updateObjectWithData', payload);\n\t  },\n\t  updateObjectWithData: function updateObjectWithData(context, payload) {\n\t    var object = _helpers2.default.libraryObjectWithId(context.state, payload.object.id);\n\t    payload.object = object;\n\t\n\t    context.commit('updateObjectWithData', payload);\n\t  },\n\t  createImageForStory: function createImageForStory(context, payload) {\n\t    var story = context.state.stories.find(function (s) {\n\t      return s.id === payload.story_id;\n\t    });\n\t    var name = _helpers2.default.generateName(context.state, 'images', story);\n\t    var image = new _factory2.default.Image(name, payload.src);\n\t\n\t    image.height = payload.height;\n\t    image.width = payload.width;\n\t    image.x = payload.x;\n\t    image.y = payload.y;\n\t\n\t    context.commit('createImageForStory', {\n\t      story_id: story.id,\n\t      image: image\n\t    });\n\t  },\n\t  createObjectWithType: function createObjectWithType(context, payload) {\n\t    var type = payload.type,\n\t        name = _helpers2.default.generateName(context.state, type),\n\t        object = new _helpers2.default.map[type].init({ name: name });\n\t\n\t    context.commit('initObject', { type: type, object: object });\n\t  },\n\t  selectStory: function selectStory(context, payload) {\n\t    var story = payload.story;\n\t    context.dispatch('application/setCurrentStoryId', { id: story.id }, { root: true });\n\t  },\n\t  createWindow: function createWindow(context, payload) {\n\t    var story_id = payload.story_id,\n\t        edge_id = payload.edge_id,\n\t        window_definition_id = payload.window_definition_id,\n\t        alpha = payload.alpha,\n\t        story = _lodash2.default.find(context.state.stories, { id: story_id }),\n\t        windowDefn = _lodash2.default.find(context.state.library.window_definitions, { id: window_definition_id }),\n\t        geometry = story && _lodash2.default.find(context.rootState.geometry, { id: story.geometry_id }),\n\t        edge = geometry && _lodash2.default.find(geometry.edges, { id: edge_id });\n\t\n\t    if (!story) {\n\t      throw new Error('Story not found');\n\t    } else if (!windowDefn) {\n\t      throw new Error('Window Definition not found');\n\t    } else if (!geometry) {\n\t      throw new Error('Geometry not found');\n\t    } else if (!edge) {\n\t      throw new Error('Edge not found');\n\t    } else if (alpha < 0 || alpha > 1) {\n\t      throw new Error('Alpha must be between 0 and 1');\n\t    }\n\t\n\t    var windowsOnEdge = _lodash2.default.filter(story.windows, { edge_id: edge_id }).map(function (w) {\n\t      return (0, _extends3.default)({}, w, {\n\t        window_definition_type: _lodash2.default.find(context.state.library.window_definitions, { id: w.window_definition_id }).window_definition_type\n\t      });\n\t    });\n\t    var windowsToDelete = void 0;\n\t    if (windowDefn.window_definition_type === 'Single Window') {\n\t      windowsToDelete = _lodash2.default.reject(windowsOnEdge, { window_definition_type: 'Single Window' });\n\t    } else {\n\t      windowsToDelete = windowsOnEdge;\n\t    }\n\t    windowsToDelete.forEach(function (w) {\n\t      return context.commit('destroyWindow', { story_id: story_id, object: { id: w.id } });\n\t    });\n\t\n\t    context.commit('createWindow', (0, _extends3.default)({}, payload, {\n\t      id: _generateId2.default.generate(),\n\t      name: (0, _generateId.genName)(windowDefn.name)\n\t    }));\n\t  },\n\t  createDaylightingControl: function createDaylightingControl(context, payload) {\n\t    var story_id = payload.story_id,\n\t        face_id = payload.face_id,\n\t        daylighting_control_definition_id = payload.daylighting_control_definition_id,\n\t        x = payload.x,\n\t        y = payload.y,\n\t        story = _lodash2.default.find(context.state.stories, { id: story_id }),\n\t        daylightingDefn = _lodash2.default.find(context.state.library.daylighting_control_definitions, { id: daylighting_control_definition_id }),\n\t        geometry = story && _lodash2.default.find(context.rootState.geometry, { id: story.geometry_id }),\n\t        face = geometry && _lodash2.default.find(geometry.faces, { id: face_id }),\n\t        vertex = geometry && (_helpers4.default.vertexForCoordinates({ x: x, y: y }, geometry) || _factory4.default.Vertex(x, y));\n\t\n\t    if (!story) {\n\t      throw new Error('Story not found');\n\t    } else if (!daylightingDefn) {\n\t      throw new Error('Daylighting Control Definition not found');\n\t    } else if (!geometry) {\n\t      throw new Error('Geometry not found');\n\t    } else if (!face) {\n\t      throw new Error('Face not found');\n\t    } else if (!vertex.id) {\n\t      throw new Error('Unable to find or create vertex');\n\t    }\n\t    context.commit('geometry/ensureVertsExist', { geometry_id: geometry.id, vertices: [vertex] }, { root: true });\n\t    context.commit('createDaylightingControl', (0, _extends3.default)({}, payload, {\n\t      vertex_id: vertex.id,\n\t      id: _generateId2.default.generate(),\n\t      name: (0, _generateId.genName)(daylightingDefn.name)\n\t    }));\n\t  },\n\t  destroyDaylightingControl: function destroyDaylightingControl(_ref2, payload) {\n\t    var commit = _ref2.commit;\n\t\n\t    commit('destroyDaylightingControl', payload);\n\t  },\n\t  destroyWindow: function destroyWindow(_ref3, payload) {\n\t    var commit = _ref3.commit;\n\t\n\t    commit('destroyWindow', payload);\n\t  },\n\t  modifyDaylightingControl: function modifyDaylightingControl(_ref4, payload) {\n\t    var commit = _ref4.commit;\n\t\n\t    commit('modifyDaylightingControl', payload);\n\t  },\n\t  modifyWindow: function modifyWindow(_ref5, payload) {\n\t    var commit = _ref5.commit;\n\t\n\t    commit('modifyWindow', payload);\n\t  },\n\t  destroyAllComponents: function destroyAllComponents(_ref6, _ref7) {\n\t    var commit = _ref6.commit;\n\t    var story_id = _ref7.story_id;\n\t\n\t    commit('dropDaylightingControls', { story_id: story_id });\n\t    commit('dropWindows', { story_id: story_id });\n\t  }\n\t};\n\n/***/ }),\n/* 135 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.number = number;\n\texports.bool = bool;\n\texports.gt0orNull = gt0orNull;\n\tfunction number(n) {\n\t  return +n;\n\t}\n\tfunction bool(b) {\n\t  return b.toLowerCase() === 'true';\n\t}\n\tfunction gt0orNull(n) {\n\t  return +n || null;\n\t}\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _toConsumableArray2 = __webpack_require__(15);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _keys = __webpack_require__(14);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    allSpaces: function allSpaces(state, getters, rootState, rootGetters) {\n\t        return rootState.models.stories.reduce(function (spaces, story) {\n\t            return spaces.concat(story.spaces);\n\t        }, []);\n\t    },\n\t    allShading: function allShading(state, getters, rootState, rootGetters) {\n\t        return rootState.models.stories.reduce(function (shading, story) {\n\t            return shading.concat(story.shading);\n\t        }, []);\n\t    },\n\t    allImages: function allImages(state, getters, rootState, rootGetters) {\n\t        return rootState.models.stories.reduce(function (images, story) {\n\t            return images.concat(story.images);\n\t        }, []);\n\t    },\n\t    all: function all(state, getters, rootState, rootGetters) {\n\t        var objs = (0, _extends3.default)({}, rootState.models.library, {\n\t            stories: rootState.models.stories,\n\t            spaces: getters.allSpaces,\n\t            shading: getters.allShading,\n\t            images: getters.allImages\n\t        });\n\t\n\t        return (0, _keys2.default)(objs).reduce(function (out, key) {\n\t            out.push.apply(out, (0, _toConsumableArray3.default)(objs[key]));\n\t            return out;\n\t        }, []);\n\t    }\n\t};\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(134);\n\t\n\tvar _actions2 = _interopRequireDefault(_actions);\n\t\n\tvar _mutations = __webpack_require__(138);\n\t\n\tvar _mutations2 = _interopRequireDefault(_mutations);\n\t\n\tvar _getters = __webpack_require__(136);\n\t\n\tvar _getters2 = _interopRequireDefault(_getters);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    namespaced: true,\n\t    state: {\n\t        stories: [],\n\t\n\t        library: {\n\t            building_units: [],\n\t            thermal_zones: [],\n\t            space_types: [],\n\t            construction_sets: [],\n\t            window_definitions: [],\n\t            daylighting_control_definitions: [],\n\t            pitched_roofs: []\n\t        }\n\t    },\n\t    actions: _actions2.default,\n\t    mutations: _mutations2.default,\n\t    getters: _getters2.default\n\t};\n\n/***/ }),\n/* 138 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _assign = __webpack_require__(36);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(11);\n\t\n\tvar _helpers2 = _interopRequireDefault(_helpers);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  initStory: function initStory(state, payload) {\n\t    state.stories.push(payload.story);\n\t  },\n\t  initSpace: function initSpace(state, payload) {\n\t    payload.story.spaces.push(payload.space);\n\t  },\n\t  initShading: function initShading(state, payload) {\n\t    payload.story.shading.push(payload.shading);\n\t  },\n\t  initObject: function initObject(state, payload) {\n\t    state.library[payload.type].push(payload.object);\n\t  },\n\t  destroySpace: function destroySpace(state, payload) {\n\t    payload.story.spaces.splice(payload.story.spaces.findIndex(function (s) {\n\t      return s.id === payload.space.id;\n\t    }), 1);\n\t  },\n\t  destroyShading: function destroyShading(state, payload) {\n\t    payload.story.shading.splice(payload.story.shading.findIndex(function (s) {\n\t      return s.id === payload.shading.id;\n\t    }), 1);\n\t  },\n\t  destroyImage: function destroyImage(state, payload) {\n\t    payload.story.images.splice(payload.story.images.findIndex(function (i) {\n\t      return i.id === payload.image.id;\n\t    }), 1);\n\t  },\n\t  destroyStory: function destroyStory(state, payload) {\n\t    state.stories.splice(state.stories.findIndex(function (s) {\n\t      return s.id === payload.story.id;\n\t    }), 1);\n\t  },\n\t  destroyObject: function destroyObject(state, _ref) {\n\t    var id = _ref.object.id;\n\t\n\t    state.library = _lodash2.default.mapValues(state.library, function (lst) {\n\t      return _lodash2.default.reject(lst, { id: id });\n\t    });\n\t  },\n\t  updateStoryWithData: function updateStoryWithData(state, payload) {\n\t    var story = payload.story;\n\t    delete payload.story;\n\t    (0, _assign2.default)(story, payload);\n\t  },\n\t  createImageForStory: function createImageForStory(state, payload) {\n\t    var story = state.stories.find(function (s) {\n\t      return s.id === payload.story_id;\n\t    });\n\t    story.images.push(payload.image);\n\t  },\n\t  updateSpaceWithData: function updateSpaceWithData(state, payload) {\n\t    var space = payload.space;\n\t    (0, _assign2.default)(space, payload);\n\t    delete space.space;\n\t  },\n\t  updateShadingWithData: function updateShadingWithData(state, payload) {\n\t    var shading = payload.shading;\n\t    (0, _assign2.default)(shading, payload);\n\t    delete shading.shading;\n\t  },\n\t  updateImageWithData: function updateImageWithData(state, payload) {\n\t    var image = payload.image;\n\t    (0, _assign2.default)(image, payload);\n\t    delete image.image;\n\t  },\n\t  updateObjectWithData: function updateObjectWithData(state, payload) {\n\t    var object = payload.object;\n\t    (0, _assign2.default)(object, payload);\n\t    delete object.object;\n\t  },\n\t  createWindow: function createWindow(state, _ref2) {\n\t    var story_id = _ref2.story_id,\n\t        edge_id = _ref2.edge_id,\n\t        window_definition_id = _ref2.window_definition_id,\n\t        alpha = _ref2.alpha,\n\t        id = _ref2.id,\n\t        name = _ref2.name;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.windows.push({\n\t      window_definition_id: window_definition_id,\n\t      edge_id: edge_id,\n\t      alpha: alpha,\n\t      id: id,\n\t      name: name\n\t    });\n\t  },\n\t  dropWindows: function dropWindows(state, _ref3) {\n\t    var story_id = _ref3.story_id;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.windows = [];\n\t  },\n\t  createDaylightingControl: function createDaylightingControl(state, _ref4) {\n\t    var story_id = _ref4.story_id,\n\t        face_id = _ref4.face_id,\n\t        daylighting_control_definition_id = _ref4.daylighting_control_definition_id,\n\t        vertex_id = _ref4.vertex_id,\n\t        name = _ref4.name,\n\t        id = _ref4.id;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id }),\n\t        space = _lodash2.default.find(story.spaces, { face_id: face_id });\n\t\n\t    space.daylighting_controls.push({\n\t      daylighting_control_definition_id: daylighting_control_definition_id,\n\t      vertex_id: vertex_id,\n\t      id: id,\n\t      name: name\n\t    });\n\t  },\n\t  dropDaylightingControls: function dropDaylightingControls(state, _ref5) {\n\t    var story_id = _ref5.story_id;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.spaces.forEach(function (space) {\n\t      space.daylighting_controls = [];\n\t    });\n\t  },\n\t  destroyWindowsByDefinition: function destroyWindowsByDefinition(state, _ref6) {\n\t    var id = _ref6.id;\n\t\n\t    state.stories.forEach(function (story) {\n\t      story.windows = _lodash2.default.reject(story.windows, { window_definition_id: id });\n\t    });\n\t  },\n\t  destroyDaylightingControlsByDefinition: function destroyDaylightingControlsByDefinition(state, _ref7) {\n\t    var id = _ref7.id;\n\t\n\t    state.stories.forEach(function (story) {\n\t      story.spaces.forEach(function (space) {\n\t        space.daylighting_controls = _lodash2.default.reject(space.daylighting_controls, { daylighting_control_definition_id: id });\n\t      });\n\t    });\n\t  },\n\t  destroyDaylightingControl: function destroyDaylightingControl(state, _ref8) {\n\t    var story_id = _ref8.story_id,\n\t        id = _ref8.object.id;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.spaces.forEach(function (space) {\n\t      space.daylighting_controls = _lodash2.default.reject(space.daylighting_controls, { id: id });\n\t    });\n\t  },\n\t  modifyDaylightingControl: function modifyDaylightingControl(state, _ref9) {\n\t    var story_id = _ref9.story_id,\n\t        id = _ref9.id,\n\t        key = _ref9.key,\n\t        value = _ref9.value;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.spaces.some(function (space) {\n\t      var dc = _lodash2.default.find(space.daylighting_controls, { id: id });\n\t      if (dc) {\n\t        dc[key] = value;\n\t        return true;\n\t      }\n\t\n\t      return false;\n\t    });\n\t  },\n\t  destroyWindow: function destroyWindow(state, _ref10) {\n\t    var story_id = _ref10.story_id,\n\t        id = _ref10.object.id;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id });\n\t    story.windows = _lodash2.default.reject(story.windows, { id: id });\n\t  },\n\t  modifyWindow: function modifyWindow(state, _ref11) {\n\t    var story_id = _ref11.story_id,\n\t        id = _ref11.id,\n\t        key = _ref11.key,\n\t        value = _ref11.value;\n\t\n\t    var story = _lodash2.default.find(state.stories, { id: story_id }),\n\t        windew = _lodash2.default.find(story.windows, { id: id });\n\t    windew[key] = value;\n\t  }\n\t};\n\n/***/ }),\n/* 139 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: function name(object, store, value, type) {\n\t    var objs = store.getters['models/all'];\n\t\n\t    switch (type) {\n\t      case 'stories':\n\t        objs = store.state.models.stories;\n\t        break;\n\t      case 'spaces':\n\t        objs = store.getters['models/allSpaces'];\n\t        break;\n\t      case 'shading':\n\t        objs = store.getters['models/allShading'];\n\t        break;\n\t      case 'images':\n\t        objs = store.getters['models/allImages'];\n\t        break;\n\t      default:\n\t        objs = store.state.models.library[type];\n\t        break;\n\t    }\n\t    var error = '';\n\t    if (objs.filter(function (s) {\n\t      return s.name === value && s.id !== object.id;\n\t    }).length) {\n\t      error = 'Names must be unique.';\n\t    } else if (value === '') {\n\t      error = 'Names must be at least 1 characters long.';\n\t    }\n\t\n\t    return error ? { success: false, error: error } : { success: true };\n\t  },\n\t  number: function number(object, store, value, type) {\n\t    var error = '';\n\t    if (isNaN(value)) {\n\t      error = 'Value must be numeric.';\n\t    }\n\t\n\t    return error ? { success: false, error: error } : { success: true };\n\t  },\n\t  oneOf: function oneOf() {\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return function (object, store, value, type) {\n\t      if (!_lodash2.default.includes(args, value)) {\n\t        return { success: false, error: 'Expected one of ' + args + ', got ' + value };\n\t      }\n\t      return { success: true };\n\t    };\n\t  },\n\t  gt0: function gt0(object, story, value, type) {\n\t    return value > 0 ? { success: true } : { success: false, error: 'Expected value to be greater than zero' };\n\t  },\n\t  closedInterval: function closedInterval(start, end) {\n\t    return function (object, store, value, type) {\n\t      if (value < start || value > end) {\n\t        return { success: false, error: 'Must be between ' + start + ' and ' + end };\n\t      }\n\t    };\n\t  },\n\t  halfOpenInterval: function halfOpenInterval(start, end) {\n\t    return function (object, store, value, type) {\n\t      if (value < start || value >= end) {\n\t        return { success: false, error: 'Must be greater than or equal ' + start + ' and less than ' + end };\n\t      }\n\t      return { success: true };\n\t    };\n\t  },\n\t  gt0orNull: function gt0orNull(object, story, value, type) {\n\t    if (value === null || value === '' || value > 0) {\n\t      return { success: true };\n\t    }\n\t    return { success: false, error: 'If provided, value must be greater than 0' };\n\t  }\n\t};\n\n/***/ }),\n/* 140 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _keys = __webpack_require__(14);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _validator = __webpack_require__(149);\n\t\n\tvar _validator2 = _interopRequireDefault(_validator);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    setUnits: function setUnits(context, payload) {\n\t        if (payload.units === 'm' || payload.units === 'ft') {\n\t            context.commit('setUnits', payload);\n\t        }\n\t    },\n\t    setLanguage: function setLanguage(context, payload) {\n\t        if (payload.language === 'EN-US') {\n\t            context.commit('setLanguage', payload);\n\t        }\n\t    },\n\t    setNorthAxis: function setNorthAxis(context, payload) {\n\t        var north_axis = payload.north_axis;\n\t\n\t        if (north_axis > 360 || north_axis < 0) {\n\t            return;\n\t        }\n\t        context.commit('setConfigNorthAxis', { north_axis: north_axis });\n\t        context.commit('setMapRotation', { rotation: north_axis * Math.PI / 180 });\n\t    },\n\t    setMapVisible: function setMapVisible(context, payload) {\n\t        if (typeof payload.visible === 'boolean') {\n\t            context.commit('setMapVisible', payload);\n\t        }\n\t    },\n\t    setMapEnabled: function setMapEnabled(context, payload) {\n\t        if (typeof payload.enabled === 'boolean') {\n\t            context.commit('setMapEnabled', payload);\n\t        }\n\t    },\n\t    setMapInitialized: function setMapInitialized(context, payload) {\n\t        if (typeof payload.initialized === 'boolean') {\n\t            context.commit('setMapInitialized', payload);\n\t        }\n\t    },\n\t    setGridVisible: function setGridVisible(context, payload) {\n\t        if (typeof payload.visible === 'boolean') {\n\t            context.commit('setGridVisible', payload);\n\t        }\n\t    },\n\t    setSpacing: function setSpacing(context, payload) {\n\t        context.commit('setSpacing', payload);\n\t    },\n\t    setViewMinX: function setViewMinX(context, payload) {\n\t        context.commit('setViewMinX', payload);\n\t    },\n\t    setViewMinY: function setViewMinY(context, payload) {\n\t        context.commit('setViewMinY', payload);\n\t    },\n\t    setViewMaxX: function setViewMaxX(context, payload) {\n\t        var validator = new _validator2.default(payload);\n\t        validator.validateInt('max_x');\n\t\n\t        validator.validateMin('max_x', context.state.view.min_x);\n\t        context.commit('setViewMaxX', validator.validatedPayload);\n\t    },\n\t    setViewMaxY: function setViewMaxY(context, payload) {\n\t        var validator = new _validator2.default(payload);\n\t        validator.validateInt('max_y');\n\t\n\t        validator.validateMin('max_y', context.state.view.min_y);\n\t        context.commit('setViewMaxY', validator.validatedPayload);\n\t    },\n\t    setZoom: function setZoom(context, payload) {\n\t        context.commit('setMapZoom', payload);\n\t    },\n\t    setMapLatitude: function setMapLatitude(context, payload) {\n\t        var validator = new _validator2.default(payload);\n\t        validator.validateFloat('latitude');\n\t        validator.validateMax('latitude', 180);\n\t        validator.validateMin('latitude', -180);\n\t        context.commit('setMapLatitude', validator.validatedPayload);\n\t    },\n\t    setMapLongitude: function setMapLongitude(context, payload) {\n\t        var validator = new _validator2.default(payload);\n\t        validator.validateFloat('longitude');\n\t        validator.validateMax('longitude', 180);\n\t        validator.validateMin('longitude', -180);\n\t        context.commit('setMapLongitude', validator.validatedPayload);\n\t    },\n\t    setMapZoom: function setMapZoom(context, payload) {\n\t        var validator = new _validator2.default(payload);\n\t        validator.validateFloat('zoom');\n\t        context.commit('setMapZoom', { zoom: payload.zoom });\n\t    },\n\t    setMapRotation: function setMapRotation(context, payload) {\n\t        context.commit('setConfigNorthAxis', { north_axis: payload.rotation / (2 * Math.PI) * 360 });\n\t        context.commit('setMapRotation', { rotation: payload.rotation });\n\t    },\n\t    setPreviousStoryVisible: function setPreviousStoryVisible(context, payload) {\n\t        context.commit('setPreviousStoryVisible', { visible: payload.visible });\n\t    },\n\t    setShowImportExport: function setShowImportExport(context, payload) {\n\t        context.commit('setShowImportExport', payload);\n\t    },\n\t    zoomToFit: function zoomToFit(context, _ref) {\n\t        var geometry_id = _ref.geometry_id,\n\t            widthOverHeight = _ref.widthOverHeight;\n\t\n\t        context.commit('setView', { xExtent: xExtent, yExtent: yExtent });\n\t    },\n\t    modifyGround: function modifyGround(_ref2, _ref3) {\n\t        var state = _ref2.state,\n\t            commit = _ref2.commit;\n\t        var key = _ref3.key,\n\t            val = _ref3.val;\n\t\n\t        var value = +val;\n\t        if (isNaN(value)) {\n\t            value = 0;\n\t        }\n\t        if (!_lodash2.default.includes((0, _keys2.default)(state.ground), key)) {\n\t            console.error('unrecognized ground property \"' + key + '\"');\n\t            return;\n\t        }\n\t        if (key === 'tilt_angle' && (value < 0 || value >= 90)) {\n\t            window.eventBus.$emit('error', 'Tilt Angle must be in [0, 90)');\n\t            return;\n\t        }\n\t        commit('modifyGround', { key: key, value: value });\n\t    }\n\t};\n\n/***/ }),\n/* 141 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  snapTolerance: function snapTolerance(state) {\n\t    var defaultTolerance = Math.abs(state.view.max_x - state.view.min_x) * 0.025;\n\t    return state.grid.visible ? state.grid.spacing * 0.5 : defaultTolerance;\n\t  },\n\t  angleTolerance: function angleTolerance() {\n\t    return 20;\n\t  }\n\t};\n\n/***/ }),\n/* 142 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = {\n\t    setUnits: function setUnits(state, payload) {\n\t        if ('units' in payload) {\n\t            state.config.units = payload.units;\n\t        }\n\t        if ('editable' in payload) {\n\t            state.config.unitsEditable = payload.editable;\n\t        }\n\t    },\n\t    setLanguage: function setLanguage(state, payload) {\n\t        if ('language' in payload) {\n\t            state.config.language = payload.language;\n\t        }\n\t    },\n\t    setConfigNorthAxis: function setConfigNorthAxis(state, payload) {\n\t        if ('north_axis' in payload) {\n\t            state.north_axis = payload.north_axis;\n\t        }\n\t    },\n\t    setGridVisible: function setGridVisible(state, payload) {\n\t        if ('visible' in payload) {\n\t            state.grid.visible = payload.visible;\n\t        }\n\t    },\n\t    setSpacing: function setSpacing(state, payload) {\n\t        state.grid.spacing = payload.spacing;\n\t    },\n\t    setViewMinX: function setViewMinX(state, payload) {\n\t        if ('min_x' in payload) {\n\t            state.view.min_x = payload.min_x;\n\t        }\n\t    },\n\t    setViewMinY: function setViewMinY(state, payload) {\n\t        if ('min_y' in payload) {\n\t            state.view.min_y = payload.min_y;\n\t        }\n\t    },\n\t    setViewMaxX: function setViewMaxX(state, payload) {\n\t        if ('max_x' in payload) {\n\t            state.view.max_x = payload.max_x;\n\t        }\n\t    },\n\t    setViewMaxY: function setViewMaxY(state, payload) {\n\t        if ('max_y' in payload) {\n\t            state.view.max_y = payload.max_y;\n\t        }\n\t    },\n\t    setMapEnabled: function setMapEnabled(state, payload) {\n\t        if ('enabled' in payload) {\n\t            state.map.enabled = payload.enabled;\n\t        }\n\t    },\n\t    setMapInitialized: function setMapInitialized(state, payload) {\n\t        if ('initialized' in payload) {\n\t            state.map.initialized = payload.initialized;\n\t        }\n\t    },\n\t    setMapVisible: function setMapVisible(state, payload) {\n\t        if ('visible' in payload) {\n\t            state.map.visible = payload.visible;\n\t        }\n\t    },\n\t    setMapLatitude: function setMapLatitude(state, payload) {\n\t        if ('latitude' in payload) {\n\t            state.map.latitude = payload.latitude;\n\t        }\n\t    },\n\t    setMapLongitude: function setMapLongitude(state, payload) {\n\t        if ('longitude' in payload) {\n\t            state.map.longitude = payload.longitude;\n\t        }\n\t    },\n\t    setMapZoom: function setMapZoom(state, payload) {\n\t        if ('zoom' in payload) {\n\t            state.map.zoom = payload.zoom;\n\t        }\n\t    },\n\t    setMapRotation: function setMapRotation(state, payload) {\n\t        if ('rotation' in payload) {\n\t            state.map.rotation = payload.rotation;\n\t        }\n\t    },\n\t    setPreviousStoryVisible: function setPreviousStoryVisible(state, payload) {\n\t        if ('visible' in payload) {\n\t            state.previous_story.visible = payload.visible;\n\t        }\n\t    },\n\t    setShowImportExport: function setShowImportExport(state, payload) {\n\t        state.show_import_export = payload;\n\t    },\n\t    modifyGround: function modifyGround(state, _ref) {\n\t        var key = _ref.key,\n\t            value = _ref.value;\n\t\n\t        state.config.ground[key] = value;\n\t    }\n\t};\n\n/***/ }),\n/* 143 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _assign = __webpack_require__(36);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _project = __webpack_require__(73);\n\t\n\tvar _project2 = _interopRequireDefault(_project);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  importState: function importState(state, payload) {\n\t    state.project = (0, _assign2.default)(_project2.default.state, payload.project);\n\t    state.application = payload.application;\n\t    state.models = payload.models;\n\t    state.geometry = payload.geometry;\n\t  },\n\t  importLibrary: function importLibrary(state, payload) {\n\t    state.models.library = payload;\n\t  }\n\t};\n\n/***/ }),\n/* 144 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _stringify = __webpack_require__(8);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar serializeState = function serializeState(state) {\n\t  var clone = JSON.parse((0, _stringify2.default)(state));\n\t\n\t  return clone;\n\t};\n\tvar filteredActions = ['application/setScaleX', 'application/setCurrentTool', 'application/setScaleY', 'project/setSpacing', 'project/setViewMinX', 'project/setViewMinY', 'project/setViewMaxX', 'project/setViewMaxY', 'application/clearSubSelections', 'application/setCurrentStoryId', 'application/setCurrentStory', 'application/setCurrentSpace', 'application/setCurrentShading', 'application/setCurrentImage', 'application/setCurrentSpacePropertyId', 'application/setCurrentSubSelectionType', 'project/setPreviousStoryVisible', 'project/setGridVisible', 'project/setMapLatitude', 'project/setMapLongitude', 'project/setMapRotation'];\n\tvar permanentActions = ['importFloorplan', 'project/setMapEnabled', 'project/setMapInitialized'];\n\t\n\tvar logState = function logState(state) {\n\t  return state;\n\t};\n\t\n\texports.default = {\n\t  store: null,\n\t  pastTimetravelStates: [],\n\t  futureTimetravelStates: [],\n\t  currentlyInBatch: false,\n\t  triggeringAction: '(none)',\n\t  init: function init(store) {\n\t    var that = this;\n\t    this.store = store;\n\t    store.timetravel = this;\n\t\n\t    this.pastTimetravelStates = [];\n\t    this.futureTimetravelStates = [];\n\t\n\t    this.store.replaceState((0, _extends3.default)({}, store.state, { timetravelInitialized: true }));\n\t\n\t    var originalReplaceState = store.replaceState;\n\t    store.replaceState = function overrideReplaceState() {\n\t      if (window.api) {\n\t        window.api.config.onChange();\n\t      }\n\t\n\t      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t        args[_key] = arguments[_key];\n\t      }\n\t\n\t      var newState = args[0];\n\t\n\t      newState.application.scale = this.state.application.scale;\n\t      newState.project.view = this.state.project.view;\n\t      newState.project.grid = this.state.project.grid;\n\t      newState.project.previous_story = this.state.project.previous_story;\n\t\n\t      originalReplaceState.apply(this, args);\n\t    };\n\t    var originalCommit = store.commit;\n\t    store.commit = function overrideCommit() {\n\t      if (window.api) {\n\t        window.api.config.onChange();\n\t      }\n\t\n\t      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t        args[_key2] = arguments[_key2];\n\t      }\n\t\n\t      originalCommit.apply(this, args);\n\t    };\n\t\n\t    var originalDispatch = store.dispatch;\n\t    store.dispatch = function overrideDispatch() {\n\t      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t        args[_key3] = arguments[_key3];\n\t      }\n\t\n\t      var action = args[0];\n\t\n\t      if (!_lodash2.default.includes(filteredActions, action)) {\n\t        that.maybeSaveCheckpoint(action);\n\t        console.log('dispatching action:', args[0]);\n\t      }\n\t\n\t      originalDispatch.apply(this, args);\n\t    };\n\t  },\n\t  maybeSaveCheckpoint: function maybeSaveCheckpoint(action) {\n\t    var _this = this;\n\t\n\t    if (!this.currentlyInBatch) {\n\t      this.saveCheckpoint(action);\n\t    }\n\t\n\t    this.currentlyInBatch = true;\n\t    clearTimeout(this.resetBatchFlag);\n\t    this.resetBatchFlag = setTimeout(function () {\n\t      _this.currentlyInBatch = false;\n\t    }, 0);\n\t  },\n\t  saveCheckpoint: function saveCheckpoint(action) {\n\t    this.pastTimetravelStates.push({\n\t      triggeringAction: this.triggeringAction,\n\t      state: serializeState(this.store.state)\n\t    });\n\t    this.triggeringAction = action;\n\t    console.warn('saving state:', this.pastTimetravelStates[this.pastTimetravelStates.length - 1]);\n\t    this.futureTimetravelStates = [];\n\t    this.potentiallyRollbackCheckpoint(action);\n\t  },\n\t  potentiallyRollbackCheckpoint: function potentiallyRollbackCheckpoint(action) {\n\t    var prevStates = this.pastTimetravelStates;\n\t    var store = this.store;\n\t    if (_lodash2.default.includes(permanentActions, action)) {\n\t      this.pastTimetravelStates = [];\n\t      this.futureTimetravelStates = [];\n\t      return;\n\t    }\n\t    _lodash2.default.defer(function () {\n\t      while (prevStates.length > 0 && _lodash2.default.isEqual(serializeState(store.state), prevStates[prevStates.length - 1].state)) {\n\t        console.log('current state matches previous, so rolling back', prevStates[prevStates.length - 1].triggeringAction);\n\t        prevStates.pop();\n\t      }\n\t    });\n\t  },\n\t  undo: function undo() {\n\t    if (!this.pastTimetravelStates.length) {\n\t      return;\n\t    }\n\t\n\t    var _pastTimetravelStates = this.pastTimetravelStates.pop(),\n\t        replacementState = _pastTimetravelStates.state,\n\t        triggeringAction = _pastTimetravelStates.triggeringAction;\n\t\n\t    var oldAction = this.triggeringAction;\n\t    this.futureTimetravelStates.push({\n\t      triggeringAction: this.triggeringAction,\n\t      state: serializeState(this.store.state)\n\t    });\n\t    this.triggeringAction = triggeringAction;\n\t    this.store.replaceState(replacementState);\n\t    console.log('undo', replacementState);\n\t    window.eventBus.$emit('success', 'undo ' + oldAction);\n\t  },\n\t  redo: function redo() {\n\t    if (!this.futureTimetravelStates.length) {\n\t      return;\n\t    }\n\t\n\t    var _futureTimetravelStat = this.futureTimetravelStates.pop(),\n\t        replacementState = _futureTimetravelStat.state,\n\t        triggeringAction = _futureTimetravelStat.triggeringAction;\n\t\n\t    this.pastTimetravelStates.push({\n\t      state: serializeState(this.store.state),\n\t      triggeringAction: this.triggeringAction\n\t    });\n\t    this.triggeringAction = triggeringAction;\n\t    this.store.replaceState(replacementState);\n\t    window.eventBus.$emit('success', 'redo ' + triggeringAction);\n\t    console.log('redo', replacementState);\n\t  },\n\t  logTimetravel: function logTimetravel() {\n\t    console.log('past:', this.pastTimetravelStates.map(function (s) {\n\t      return logState(s);\n\t    }));\n\t    console.log('current', logState(this.store.state));\n\t    console.log('future:', this.futureTimetravelStates.map(function (s) {\n\t      return logState(s);\n\t    }));\n\t  }\n\t};\n\n/***/ }),\n/* 145 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(8);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\texports.default = exportData;\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _version = __webpack_require__(152);\n\t\n\tvar _version2 = _interopRequireDefault(_version);\n\t\n\tvar _helpers = __webpack_require__(4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction formatObject(obj) {\n\t  if (_lodash2.default.isArray(obj)) {\n\t    return obj.map(formatObject);\n\t  } else if (_lodash2.default.isObject(obj)) {\n\t    return _lodash2.default.mapValues(obj, function (val, key) {\n\t      if ((key === 'id' || key.indexOf('_id') >= 0) && _lodash2.default.isNumber(val)) {\n\t        return String(val);\n\t      }\n\t      return formatObject(val);\n\t    });\n\t  }\n\t  return obj;\n\t}\n\t\n\tfunction mungeWindows(windows, geometry, windowDefs) {\n\t  var repeatingWindowDefs = _lodash2.default.chain(windowDefs).filter({ window_definition_type: 'Repeating Windows' }).map(function (wd) {\n\t    return [wd.id, wd];\n\t  }).fromPairs().value();\n\t\n\t  return windows.map(function (w) {\n\t    var def = repeatingWindowDefs[w.window_definition_id];\n\t    if (def) {\n\t      var edge = _lodash2.default.find(geometry.edges, { id: w.edge_id });\n\t      var centers = (0, _helpers.repeatingWindowCenters)({\n\t        start: _lodash2.default.find(geometry.vertices, { id: edge.vertex_ids[0] }),\n\t        end: _lodash2.default.find(geometry.vertices, { id: edge.vertex_ids[1] }),\n\t        spacing: def.window_spacing,\n\t        width: def.width\n\t      });\n\t      return (0, _extends3.default)({}, w, {\n\t        alpha: _lodash2.default.map(centers, 'alpha')\n\t      });\n\t    }\n\t    return w;\n\t  });\n\t}\n\t\n\tfunction mungeStories(stories, geometries, windowDefs) {\n\t  return stories.map(function (story) {\n\t    var geometry = JSON.parse((0, _stringify2.default)(_lodash2.default.find(geometries, { id: story.geometry_id })));\n\t    return (0, _extends3.default)({}, story, {\n\t      spaces: story.spaces,\n\t      geometry: geometry,\n\t      windows: mungeWindows(story.windows, geometry, windowDefs),\n\t      geometry_id: undefined\n\t    });\n\t  });\n\t}\n\t\n\tfunction exportData(state, getters) {\n\t  var exportObject = (0, _extends3.default)({\n\t    application: state.application,\n\t    project: state.project,\n\t    stories: mungeStories(state.models.stories, getters['geometry/exportData'], state.models.library.window_definitions)\n\t  }, state.models.library, {\n\t    version: _version2.default\n\t  });\n\t  return formatObject(exportObject);\n\t}\n\n/***/ }),\n/* 146 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = colorFactory;\n\t\n\tvar _appconfig = __webpack_require__(20);\n\t\n\tvar _appconfig2 = _interopRequireDefault(_appconfig);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar typeIndices = {};\n\t\n\tfunction colorFactory(type) {\n\t  typeIndices[type] = (typeIndices[type] || 0) + 1;\n\t  return _appconfig2.default.palette.colors[typeIndices[type] % _appconfig2.default.palette.colors.length];\n\t}\n\n/***/ }),\n/* 147 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _keys = __webpack_require__(14);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _extends2 = __webpack_require__(2);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\texports.default = importFloorplan;\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _generateId = __webpack_require__(27);\n\t\n\tvar _generateId2 = _interopRequireDefault(_generateId);\n\t\n\tvar _factory = __webpack_require__(49);\n\t\n\tvar _factory2 = _interopRequireDefault(_factory);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction maybeUpdateProject(project) {\n\t  if (project.config.north_axis) {\n\t    project.north_axis = project.north_axis || project.config.north_axis;\n\t    delete project.config.north_axis;\n\t  }\n\t  return project;\n\t}\n\t\n\tfunction withHandleProp(arr) {\n\t  if (!arr || !arr.length) {\n\t    return [];\n\t  }\n\t  return arr.map(function (obj) {\n\t    return (0, _extends3.default)({\n\t      handle: null\n\t    }, obj);\n\t  });\n\t}\n\t\n\tfunction withWindowDefinitionDefaults(arr) {\n\t  if (!arr || !arr.length) return [];\n\t  var winDefnDefaults = _factory2.default.WindowDefn();\n\t  return arr.map(function (obj) {\n\t    return (0, _extends3.default)({}, winDefnDefaults, obj);\n\t  });\n\t}\n\t\n\tfunction withStoryDefaults(stories) {\n\t  var story_defaults = _factory2.default.Story(),\n\t      space_defaults = _factory2.default.Space();\n\t  return stories.map(function (story) {\n\t    var multiplier = story.multiplier >= 1 ? story.multiplier : story_defaults.multiplier;\n\t\n\t    return (0, _extends3.default)({}, story_defaults, story, {\n\t      spaces: story.spaces.map(function (space) {\n\t        return (0, _extends3.default)({}, space_defaults, space);\n\t      }),\n\t      shading: withHandleProp(story.shading),\n\t      multiplier: multiplier\n\t    });\n\t  });\n\t}\n\t\n\tfunction importFloorplan(context, payload) {\n\t  if (window.api) {\n\t    window.versionNumber = 0;\n\t  }\n\t\n\t  var geometry = payload.data.stories.map(function (story) {\n\t    var faces = story.geometry.faces.map(function (face) {\n\t      var edgeRefs = face.edge_ids.map(function (id, index) {\n\t        return {\n\t          edge_id: id,\n\t          reverse: !face.edge_order[index]\n\t        };\n\t      });\n\t      return {\n\t        id: face.id,\n\t        edgeRefs: edgeRefs\n\t      };\n\t    });\n\t\n\t    var edges = story.geometry.edges.map(function (e) {\n\t      return {\n\t        id: e.id,\n\t        v1: e.vertex_ids[0],\n\t        v2: e.vertex_ids[1]\n\t      };\n\t    });\n\t    return {\n\t      id: story.geometry.id,\n\t      faces: faces,\n\t      edges: edges,\n\t      vertices: story.geometry.vertices\n\t    };\n\t  });\n\t\n\t  var stories = payload.data.stories.map(function (s) {\n\t    var story = (0, _extends3.default)({\n\t      geometry_id: s.geometry.id\n\t    }, s);\n\t    delete story.geometry;\n\t    return story;\n\t  });\n\t\n\t  function forEachNestedProp(obj, func) {\n\t    var propName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\t\n\t    if (_lodash2.default.isObject(obj)) {\n\t      (0, _keys2.default)(obj).forEach(function (k) {\n\t        return forEachNestedProp(obj[k], func, k);\n\t      });\n\t    } else if (_lodash2.default.isArray(obj)) {\n\t      obj.forEach(function (elem) {\n\t        return forEachNestedProp(elem, func);\n\t      });\n\t    } else {\n\t      func(propName, obj);\n\t    }\n\t  }\n\t\n\t  var largestId = 0;\n\t  forEachNestedProp(payload, function (k, v) {\n\t    if (k && k === 'id' && +v > largestId) {\n\t      largestId = v;\n\t    }\n\t  });\n\t\n\t  largestId += 1;\n\t  _generateId2.default.setId(largestId);\n\t\n\t  context.commit('importState', {\n\t    project: maybeUpdateProject(payload.data.project),\n\t    application: context.state.application,\n\t    models: {\n\t      stories: withStoryDefaults(stories),\n\t      library: {\n\t        building_units: withHandleProp(payload.data.building_units),\n\t        thermal_zones: withHandleProp(payload.data.thermal_zones),\n\t        space_types: withHandleProp(payload.data.space_types),\n\t        construction_sets: withHandleProp(payload.data.construction_sets),\n\t        window_definitions: withWindowDefinitionDefaults(payload.data.window_definitions),\n\t        daylighting_control_definitions: payload.data.daylighting_control_definitions || [],\n\t        pitched_roofs: (payload.data.pitched_roofs || []).map(function (pr) {\n\t          return (0, _extends3.default)({\n\t            shed_direction: null\n\t          }, pr);\n\t        })\n\t      }\n\t    },\n\t    geometry: geometry\n\t  });\n\t  _lodash2.default.defer(function () {\n\t    context.dispatch('application/setCurrentStoryId', { id: stories[0].id }, { root: true });\n\t\n\t    stories.forEach(function (story) {\n\t      return context.dispatch('geometry/trimGeometry', { geometry_id: story.geometry_id });\n\t    });\n\t\n\t    _lodash2.default.defer(function () {\n\t      return window.eventBus.$emit('zoomToFit');\n\t    });\n\t  });\n\t\n\t  document.getElementById('svg-grid').dispatchEvent(new Event('reloadGrid'));\n\t}\n\n/***/ }),\n/* 148 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _keys = __webpack_require__(14);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\texports.default = importLibrary;\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _generateId = __webpack_require__(27);\n\t\n\tvar _generateId2 = _interopRequireDefault(_generateId);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction importLibrary(context, payload) {\n\t  var count = 0;\n\t  var types = (0, _keys2.default)(payload.data);\n\t  types.forEach(function (type) {\n\t    if (type === 'project' || !context.state.models.library[type]) {\n\t      return;\n\t    }\n\t    var existingNames = context.state.models.library[type].map(function (o) {\n\t      if (/_\\d+[\\w\\s]?$/.test(o.name)) {\n\t        return o.name.split('_').slice(0, -1).join('_');\n\t      }\n\t      return o.name;\n\t    });\n\t    payload.data[type] = payload.data[type].map(function (obj) {\n\t      var importObj = obj;\n\t      importObj.id = _generateId2.default.generate();\n\t\n\t      var duplicateCount = existingNames.filter(function (n) {\n\t        return n === obj.name;\n\t      }).length;\n\t      if (duplicateCount) {\n\t        importObj.name += '_' + duplicateCount;\n\t      }\n\t      count += 1;\n\t      return importObj;\n\t    });\n\t  });\n\t\n\t  window.eventBus.$emit('success', 'Imported ' + count + ' object' + (count !== 1 ? 's' : ''));\n\t\n\t  context.commit('importLibrary', _lodash2.default.fromPairs(['building_units', 'thermal_zones', 'space_types', 'construction_sets', 'window_definitions', 'daylighting_control_definitions', 'pitched_roofs'].map(function (k) {\n\t    return [k, context.state.models.library[k].concat(payload.data[k] || [])];\n\t  })));\n\t}\n\n/***/ }),\n/* 149 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = Validator;\n\tfunction Validator(payload) {\n\t    var validatedPayload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    var invalidKeys = [];\n\t    return {\n\t        invalidKeys: invalidKeys,\n\t        validatedPayload: validatedPayload,\n\t        validateLength: function validateLength(key) {\n\t            var minLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\t\n\t            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) {\n\t                return;\n\t            }\n\t            if (key in payload && payload[key].length >= minLength) {\n\t                validatedPayload[key] = payload[key];\n\t            } else {\n\t                delete validatedPayload[key];\n\t                invalidKeys.push(key);\n\t            }\n\t        },\n\t        validateMin: function validateMin(key) {\n\t            var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\t\n\t            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) {\n\t                return;\n\t            }\n\t            if (payload[key] > min) {\n\t                validatedPayload[key] = payload[key];\n\t            } else {\n\t                delete validatedPayload[key];\n\t                invalidKeys.push(key);\n\t            }\n\t        },\n\t        validateMax: function validateMax(key) {\n\t            var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\t\n\t            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) {\n\t                return;\n\t            }\n\t            if (key in payload && payload[key] < max) {\n\t                validatedPayload[key] = payload[key];\n\t            } else {\n\t                delete validatedPayload[key];\n\t                invalidKeys.push(key);\n\t            }\n\t        },\n\t        validateFloat: function validateFloat(key) {\n\t            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) {\n\t                return;\n\t            }\n\t            if (key in payload && !isNaN(parseFloat(payload[key]))) {\n\t                validatedPayload[key] = parseFloat(payload[key]);\n\t            } else {\n\t                delete validatedPayload[key];\n\t                invalidKeys.push(key);\n\t            }\n\t        },\n\t        validateInt: function validateInt(key) {\n\t            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) {\n\t                return;\n\t            }\n\t            if (key in payload && !isNaN(parseInt(payload[key]))) {\n\t                validatedPayload[key] = parseInt(payload[key]);\n\t            } else {\n\t                delete validatedPayload[key];\n\t                invalidKeys.push(key);\n\t            }\n\t        },\n\t        validateBoolean: function validateBoolean(key) {\n\t            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) {\n\t                return;\n\t            }\n\t            if (key in payload) {\n\t                validatedPayload[key] = !!payload[key];\n\t            } else {\n\t                delete validatedPayload[key];\n\t                invalidKeys.push(key);\n\t            }\n\t        }\n\t    };\n\t}\n\n/***/ }),\n/* 150 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _toConsumableArray2 = __webpack_require__(15);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _stringify = __webpack_require__(8);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _slicedToArray2 = __webpack_require__(29);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\texports.checkFace = checkFace;\n\texports.default = checkGeometry;\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helpers = __webpack_require__(4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction checkFace(face) {\n\t  var errors = [];\n\t\n\t  face.vertices.map(function (v, ix, a) {\n\t    return [a[ix === 0 ? a.length - 1 : ix - 1], a[ix], a[(ix + 1) % a.length]];\n\t  }).forEach(function (_ref) {\n\t    var _ref2 = (0, _slicedToArray3.default)(_ref, 3),\n\t        fst = _ref2[0],\n\t        snd = _ref2[1],\n\t        thd = _ref2[2];\n\t\n\t    if ((0, _helpers.ptsAreCollinear)(fst, snd, thd) && (0, _helpers.distanceBetweenPoints)(fst, snd) > (0, _helpers.distanceBetweenPoints)(fst, thd)) {\n\t      errors.push('face ' + face.id + ' has a backwards section (' + (0, _stringify2.default)(fst) + ' -> ' + (0, _stringify2.default)(snd) + ' -> ' + (0, _stringify2.default)(thd) + ')');\n\t    }\n\t  });\n\t  return errors;\n\t}\n\t\n\tfunction checkGeometry(geom) {\n\t  var errors = [],\n\t      vertPos = function vertPos(v) {\n\t    return v.x + ':' + v.y;\n\t  },\n\t      vertPosToId = _lodash2.default.fromPairs(geom.vertices.map(function (v) {\n\t    return [vertPos(v), v.id];\n\t  }));\n\t\n\t  geom.vertices.forEach(function (vert) {\n\t    if (vert.id !== vertPosToId[vertPos(vert)]) {\n\t      errors.push('vertex ' + vert.id + ' is a duplicate of ' + vertPosToId[vertPos(vert)]);\n\t    }\n\t  });\n\t\n\t  geom.edges.forEach(function (edge) {\n\t    if (edge.v1.id === edge.v2.id || vertPos(edge.v1) === vertPos(edge.v2)) {\n\t      errors.push('edge ' + edge.id + ' is of length zero');\n\t    }\n\t  });\n\t\n\t  geom.faces.map(checkFace).forEach(function (errs) {\n\t    return errors.push.apply(errors, (0, _toConsumableArray3.default)(errs));\n\t  });\n\t\n\t  return errors;\n\t}\n\n/***/ }),\n/* 151 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = d3AwareThrottle;\n\t\n\tvar _lodash = __webpack_require__(1);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar d3 = __webpack_require__(26);\n\tvar d3Selection = __webpack_require__(19);\n\t\n\tfunction d3Debounce(func, wait, options) {\n\t  var lastArgs,\n\t      lastThis,\n\t      lastD3Event,\n\t      maxWait,\n\t      result,\n\t      timerId,\n\t      lastCallTime,\n\t      lastInvokeTime = 0,\n\t      leading = false,\n\t      maxing = false,\n\t      trailing = true;\n\t\n\t  if (typeof func != 'function') {\n\t    throw new TypeError('Expected a function');\n\t  }\n\t  wait = _lodash2.default.toNumber(wait) || 0;\n\t  if (_lodash2.default.isObject(options)) {\n\t    leading = !!options.leading;\n\t    maxing = 'maxWait' in options;\n\t    maxWait = maxing ? Math.max(_lodash2.default.toNumber(options.maxWait) || 0, wait) : maxWait;\n\t    trailing = 'trailing' in options ? !!options.trailing : trailing;\n\t  }\n\t\n\t  function invokeFunc(time) {\n\t    var args = lastArgs,\n\t        thisArg = lastThis,\n\t        saveD3Event = d3.event;\n\t\n\t    d3Selection.event = lastD3Event;\n\t    lastD3Event = lastArgs = lastThis = undefined;\n\t    lastInvokeTime = time;\n\t    result = func.apply(thisArg, args);\n\t    d3Selection.event = saveD3Event;\n\t    return result;\n\t  }\n\t\n\t  function leadingEdge(time) {\n\t    lastInvokeTime = time;\n\t\n\t    timerId = setTimeout(timerExpired, wait);\n\t\n\t    return leading ? invokeFunc(time) : result;\n\t  }\n\t\n\t  function remainingWait(time) {\n\t    var timeSinceLastCall = time - lastCallTime,\n\t        timeSinceLastInvoke = time - lastInvokeTime,\n\t        result = wait - timeSinceLastCall;\n\t\n\t    return maxing ? Math.min(result, maxWait - timeSinceLastInvoke) : result;\n\t  }\n\t\n\t  function shouldInvoke(time) {\n\t    var timeSinceLastCall = time - lastCallTime,\n\t        timeSinceLastInvoke = time - lastInvokeTime;\n\t\n\t    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n\t  }\n\t\n\t  function timerExpired() {\n\t    var time = _lodash2.default.now();\n\t    if (shouldInvoke(time)) {\n\t      return trailingEdge(time);\n\t    }\n\t\n\t    timerId = setTimeout(timerExpired, remainingWait(time));\n\t  }\n\t\n\t  function trailingEdge(time) {\n\t    timerId = undefined;\n\t\n\t    if (trailing && lastArgs) {\n\t      return invokeFunc(time);\n\t    }\n\t    lastD3Event = lastArgs = lastThis = undefined;\n\t    return result;\n\t  }\n\t\n\t  function cancel() {\n\t    if (timerId !== undefined) {\n\t      clearTimeout(timerId);\n\t    }\n\t    lastInvokeTime = 0;\n\t    lastD3Event = lastArgs = lastCallTime = lastThis = timerId = undefined;\n\t  }\n\t\n\t  function flush() {\n\t    return timerId === undefined ? result : trailingEdge(_lodash2.default.now());\n\t  }\n\t\n\t  function debounced() {\n\t    var time = _lodash2.default.now(),\n\t        isInvoking = shouldInvoke(time);\n\t\n\t    lastArgs = arguments;\n\t    lastThis = this;\n\t    lastCallTime = time;\n\t    lastD3Event = d3.event;\n\t\n\t    if (isInvoking) {\n\t      if (timerId === undefined) {\n\t        return leadingEdge(lastCallTime);\n\t      }\n\t      if (maxing) {\n\t        timerId = setTimeout(timerExpired, wait);\n\t        return invokeFunc(lastCallTime);\n\t      }\n\t    }\n\t    if (timerId === undefined) {\n\t      timerId = setTimeout(timerExpired, wait);\n\t    }\n\t    return result;\n\t  }\n\t  debounced.cancel = cancel;\n\t  debounced.flush = flush;\n\t  return debounced;\n\t}\n\t\n\tfunction d3AwareThrottle(func, wait) {\n\t  return d3Debounce(func, wait, {\n\t    leading: true,\n\t    trailing: true,\n\t    maxWait: wait\n\t  });\n\t}\n\n/***/ }),\n/* 152 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = '0.4.0';\n\n/***/ }),\n/* 153 */,\n/* 154 */,\n/* 155 */,\n/* 156 */,\n/* 157 */,\n/* 158 */,\n/* 159 */,\n/* 160 */,\n/* 161 */,\n/* 162 */,\n/* 163 */,\n/* 164 */,\n/* 165 */,\n/* 166 */,\n/* 167 */,\n/* 168 */,\n/* 169 */,\n/* 170 */,\n/* 171 */,\n/* 172 */,\n/* 173 */,\n/* 174 */,\n/* 175 */,\n/* 176 */,\n/* 177 */,\n/* 178 */,\n/* 179 */,\n/* 180 */,\n/* 181 */,\n/* 182 */,\n/* 183 */,\n/* 184 */,\n/* 185 */,\n/* 186 */,\n/* 187 */,\n/* 188 */,\n/* 189 */,\n/* 190 */,\n/* 191 */,\n/* 192 */,\n/* 193 */,\n/* 194 */,\n/* 195 */,\n/* 196 */,\n/* 197 */,\n/* 198 */,\n/* 199 */,\n/* 200 */,\n/* 201 */,\n/* 202 */,\n/* 203 */,\n/* 204 */,\n/* 205 */,\n/* 206 */,\n/* 207 */,\n/* 208 */,\n/* 209 */,\n/* 210 */,\n/* 211 */,\n/* 212 */,\n/* 213 */,\n/* 214 */,\n/* 215 */,\n/* 216 */,\n/* 217 */,\n/* 218 */,\n/* 219 */,\n/* 220 */,\n/* 221 */,\n/* 222 */,\n/* 223 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 224 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 225 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 226 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 227 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 228 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 229 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 230 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 231 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 232 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 233 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 234 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 235 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 236 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 237 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 238 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 239 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 240 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 241 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 242 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 243 */,\n/* 244 */,\n/* 245 */,\n/* 246 */,\n/* 247 */,\n/* 248 */,\n/* 249 */,\n/* 250 */,\n/* 251 */,\n/* 252 */,\n/* 253 */,\n/* 254 */,\n/* 255 */,\n/* 256 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(240)\n\t__webpack_require__(241)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(98),\n\t  /* template */\n\t  __webpack_require__(298),\n\t  /* scopeId */\n\t  \"data-v-c1b60834\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 257 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(223)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(99),\n\t  /* template */\n\t  __webpack_require__(276),\n\t  /* scopeId */\n\t  \"data-v-031586be\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 258 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(229)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(100),\n\t  /* template */\n\t  __webpack_require__(282),\n\t  /* scopeId */\n\t  \"data-v-3d99eee3\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 259 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(101),\n\t  /* template */\n\t  __webpack_require__(284),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 260 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(227)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(102),\n\t  /* template */\n\t  __webpack_require__(280),\n\t  /* scopeId */\n\t  \"data-v-306f4abb\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 261 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(235)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(103),\n\t  /* template */\n\t  __webpack_require__(291),\n\t  /* scopeId */\n\t  \"data-v-746cecc8\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 262 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(231)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(104),\n\t  /* template */\n\t  __webpack_require__(285),\n\t  /* scopeId */\n\t  \"data-v-4b0808dc\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 263 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(105),\n\t  /* template */\n\t  __webpack_require__(287),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 264 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(239)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(107),\n\t  /* template */\n\t  __webpack_require__(297),\n\t  /* scopeId */\n\t  \"data-v-a8e9dfbe\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 265 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(108),\n\t  /* template */\n\t  __webpack_require__(286),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 266 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(238)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(109),\n\t  /* template */\n\t  __webpack_require__(295),\n\t  /* scopeId */\n\t  \"data-v-987d60e8\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 267 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(234)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(110),\n\t  /* template */\n\t  __webpack_require__(290),\n\t  /* scopeId */\n\t  \"data-v-73ec12ee\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 268 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(111),\n\t  /* template */\n\t  __webpack_require__(296),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 269 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(242)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(113),\n\t  /* template */\n\t  __webpack_require__(299),\n\t  /* scopeId */\n\t  \"data-v-d56d6c28\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 270 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(228)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(115),\n\t  /* template */\n\t  __webpack_require__(281),\n\t  /* scopeId */\n\t  \"data-v-3c3490f3\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 271 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(226)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(116),\n\t  /* template */\n\t  __webpack_require__(279),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 272 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(232)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(117),\n\t  /* template */\n\t  __webpack_require__(288),\n\t  /* scopeId */\n\t  \"data-v-64bc751c\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 273 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(236)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(118),\n\t  /* template */\n\t  __webpack_require__(292),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 274 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(120),\n\t  /* template */\n\t  __webpack_require__(293),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 275 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(230)\n\t\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(121),\n\t  /* template */\n\t  __webpack_require__(283),\n\t  /* scopeId */\n\t  \"data-v-40563b8d\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 276 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    ref: \"canvas\",\n\t    attrs: {\n\t      \"id\": \"canvas\"\n\t    }\n\t  }, [_c('svg', {\n\t    attrs: {\n\t      \"id\": \"north_axis\",\n\t      \"height\": \"1792\",\n\t      \"viewBox\": \"0 0 1792 1792\",\n\t      \"width\": \"1792\",\n\t      \"xmlns\": \"http://www.w3.org/2000/svg\",\n\t      \"transform\": (\"rotate(\" + _vm.northAxis + \")\")\n\t    }\n\t  }, [_c('path', {\n\t    attrs: {\n\t      \"d\": \"M1277 493q-9 19-29 19h-224v1248q0 14-9 23t-23 9H800q-14 0-23-9t-9-23V512H544q-21 0-29-19t5-35L870 74q10-10 23-10 14 0 24 10l355 384q13 16 5 35z\"\n\t    }\n\t  })]), _vm._v(\" \"), (_vm.mapEnabled) ? _c('map-view', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.mapVisible),\n\t      expression: \"mapVisible\"\n\t    }]\n\t  }) : _vm._e()], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 277 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return (_vm.col.readonly || !_vm.col.input_type) ? _c('span', {\n\t    class: {\n\t      numeric: _vm.col.numeric\n\t    }\n\t  }, [_vm._v(\"\\n  \" + _vm._s(_vm.col.get ? _vm.col.get(_vm.row, _vm.rootState) : _vm.row[_vm.col.name]) + \"\\n\")]) : (_vm.col.input_type === 'text') ? _c('input', {\n\t    class: {\n\t      numeric: _vm.col.numeric\n\t    },\n\t    attrs: {\n\t      \"disabled\": _vm.disabled\n\t    },\n\t    domProps: {\n\t      \"value\": _vm.row[_vm.col.name]\n\t    },\n\t    on: {\n\t      \"keydown\": _vm.blurOnEnter,\n\t      \"blur\": function($event) {\n\t        _vm.onChange($event.target.value)\n\t      }\n\t    }\n\t  }) : (_vm.col.input_type === 'color') ? _c('div', {\n\t    staticClass: \"color-wrapper\"\n\t  }, [_c('input', {\n\t    ref: \"color_input\",\n\t    staticClass: \"input-color\",\n\t    attrs: {\n\t      \"object-id\": _vm.row.id,\n\t      \"disabled\": _vm.disabled\n\t    },\n\t    domProps: {\n\t      \"value\": _vm.row[_vm.col.name]\n\t    }\n\t  })]) : (_vm.col.input_type === 'select') ? _c('pretty-select', {\n\t    attrs: {\n\t      \"options\": _vm.selectData,\n\t      \"value\": _vm.row[_vm.col.name],\n\t      \"disabled\": _vm.disabled\n\t    },\n\t    on: {\n\t      \"change\": function (val) { return _vm.onChange(val); }\n\t    }\n\t  }) : _vm._e()\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 278 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('aside', [_c('div', {\n\t    staticClass: \"overlay\",\n\t    on: {\n\t      \"click\": _vm.close\n\t    }\n\t  }), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"modal\"\n\t  }, [_c('span', [_c('svg', {\n\t    staticClass: \"close-button\",\n\t    attrs: {\n\t      \"viewBox\": \"0 0 256 256\",\n\t      \"xmlns\": \"http://www.w3.org/2000/svg\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.close\n\t    }\n\t  }, [_c('path', {\n\t    attrs: {\n\t      \"d\": \"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z\"\n\t    }\n\t  })])]), _vm._v(\" \"), _c('header', [_c('h2', [_vm._v(_vm._s(_vm.title))])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"content\"\n\t  }, [_vm._t(\"default\")], 2)])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 279 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('ModalBase', {\n\t    staticClass: \"settings-modal\",\n\t    attrs: {\n\t      \"title\": \"Settings\"\n\t    },\n\t    on: {\n\t      \"close\": function($event) {\n\t        _vm.$emit('close')\n\t      }\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"settings\"\n\t  }, [_c('p', [_c('label', {\n\t    staticClass: \"input-text\"\n\t  }, [_vm._v(\"\\n        North Axis\\n        \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model.number.lazy\",\n\t      value: (_vm.northAxis),\n\t      expression: \"northAxis\",\n\t      modifiers: {\n\t        \"number\": true,\n\t        \"lazy\": true\n\t      }\n\t    }],\n\t    attrs: {\n\t      \"type\": \"text\",\n\t      \"disabled\": _vm.mapEnabled\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.northAxis)\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        _vm.northAxis = _vm._n($event.target.value)\n\t      },\n\t      \"blur\": function($event) {\n\t        _vm.$forceUpdate()\n\t      }\n\t    }\n\t  })])]), _vm._v(\" \"), _c('ExpandableDrawer', {\n\t    staticClass: \"ground-props-drawer\",\n\t    attrs: {\n\t      \"title\": \"Ground Properties\"\n\t    }\n\t  }, [_c('p', [_c('label', {\n\t    staticClass: \"input-text\"\n\t  }, [_vm._v(\"\\n          Floor Offset\\n          \"), _c('Info', [_vm._v(\"\\n            Specifies the vertical offset between the building floor and the ground plane.\\n            Use a value < 0 for buildings with below-grade spaces, or a value > 0 for,\\n            e.g., buildings on piers.\\n          \")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.floor_offset),\n\t      expression: \"floor_offset\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"text\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.floor_offset)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.floor_offset = $event.target.value\n\t      }\n\t    }\n\t  })], 1)]), _vm._v(\" \"), _c('p', [_c('label', {\n\t    staticClass: \"input-text\"\n\t  }, [_vm._v(\"\\n          Azimuth Angle\\n          \"), _c('Info', [_vm._v(\"\\n            Direction of the ground plane, in clockwise degrees from the\\n            positive y-axis when viewed from above.\\n          \")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.azimuth_angle),\n\t      expression: \"azimuth_angle\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"text\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.azimuth_angle)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.azimuth_angle = $event.target.value\n\t      }\n\t    }\n\t  })], 1)]), _vm._v(\" \"), _c('p', [_c('label', {\n\t    staticClass: \"input-text\"\n\t  }, [_vm._v(\"\\n          Tilt Slope\\n          \"), _c('Info', [_vm._v(\"\\n            Slope of the ground plane from horizontal. For example, a value of 1 implies a 45° angle.\\n          \")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.tilt_slope),\n\t      expression: \"tilt_slope\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"text\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.tilt_slope)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.tilt_slope = $event.target.value\n\t      }\n\t    }\n\t  })], 1)])]), _vm._v(\" \"), _c('button', {\n\t    staticClass: \"button\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.$emit('close')\n\t      }\n\t    }\n\t  }, [_vm._v(\"Okay\")])], 1)])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 280 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"edit-bar\"\n\t  }, [_vm._l((_vm.columns), function(col) {\n\t    return _c('span', {\n\t      key: col.name,\n\t      attrs: {\n\t        \"data-column\": col.name\n\t      }\n\t    }, [_c('GenericInput', {\n\t      attrs: {\n\t        \"col\": col,\n\t        \"row\": _vm.row,\n\t        \"onChange\": _vm.updateRow.bind(null, _vm.row.id, col.name)\n\t      }\n\t    })], 1)\n\t  }), _vm._v(\" \"), _c('span', {\n\t    staticClass: \"destroy\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.destroy()\n\t      }\n\t    }\n\t  }, [_c('Delete', {\n\t    staticClass: \"button\"\n\t  })], 1)], 2)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 281 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('ModalBase', {\n\t    attrs: {\n\t      \"title\": (\"Save \" + _vm.saveWhat + \" as\")\n\t    },\n\t    on: {\n\t      \"close\": function($event) {\n\t        _vm.$emit('close')\n\t      }\n\t    }\n\t  }, [_c('span', {\n\t    staticClass: \"input-text\"\n\t  }, [_c('input', {\n\t    ref: \"downloadName\",\n\t    attrs: {\n\t      \"type\": \"text\",\n\t      \"id\": \"download-name\",\n\t      \"spellcheck\": \"false\"\n\t    },\n\t    domProps: {\n\t      \"value\": _vm.saveWhat.toLowerCase()\n\t    },\n\t    on: {\n\t      \"keyup\": function($event) {\n\t        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13, $event.key)) { return null; }\n\t        _vm.downloadFile($event)\n\t      }\n\t    }\n\t  }), _vm._v(\"\\n    .json\\n    \"), _c('button', {\n\t    staticClass: \"download-button\",\n\t    on: {\n\t      \"click\": _vm.downloadFile\n\t    }\n\t  }, [_vm._v(\"Download\")])])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 282 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"map-container\"\n\t    }\n\t  }, [_c('div', {\n\t    ref: \"map\",\n\t    style: ({\n\t      'pointer-events': _vm.tool === 'Map' ? 'all' : 'none'\n\t    }),\n\t    attrs: {\n\t      \"id\": \"map\"\n\t    }\n\t  }), _vm._v(\" \"), _c('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.tool === 'Map'),\n\t      expression: \"tool === 'Map'\"\n\t    }],\n\t    attrs: {\n\t      \"id\": \"autocomplete\"\n\t    }\n\t  }, [_c('span', {\n\t    staticClass: \"input-text\"\n\t  }, [_c('input', {\n\t    ref: \"addressSearch\",\n\t    attrs: {\n\t      \"type\": \"text\",\n\t      \"placeholder\": \"Search for a location\"\n\t    }\n\t  })])]), _vm._v(\" \"), _c('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.tool === 'Map'),\n\t      expression: \"tool === 'Map'\"\n\t    }],\n\t    attrs: {\n\t      \"id\": \"help-text\"\n\t    }\n\t  }, [_c('p', [_vm._v(\"Drag the map and/or search to set desired location.  Use alt+shift to rotate the north axis. Click 'Done' when finished.\")]), _vm._v(\" \"), _c('button', {\n\t    on: {\n\t      \"click\": _vm.finishSetup\n\t    }\n\t  }, [_vm._v(\"Done\")])]), _vm._v(\" \"), (_vm.mapModalVisible && !_vm.mapInitialized) ? _c('map-modal', {\n\t    on: {\n\t      \"close\": function($event) {\n\t        _vm.mapModalVisible = false;\n\t        _vm.showReticle()\n\t      }\n\t    }\n\t  }) : _vm._e(), _vm._v(\" \"), _c('svg', {\n\t    attrs: {\n\t      \"id\": \"reticle\"\n\t    }\n\t  })], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 283 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('nav', {\n\t    attrs: {\n\t      \"id\": \"toolbar\"\n\t    }\n\t  }, [_c('section', {\n\t    attrs: {\n\t      \"id\": \"top\"\n\t    }\n\t  }, [_c('div', {\n\t    attrs: {\n\t      \"id\": \"navigation-head\"\n\t    }\n\t  }, [(_vm.showImportExport) ? _c('div', {\n\t    staticClass: \"import-export-buttons\"\n\t  }, [_c('input', {\n\t    ref: \"importLibrary\",\n\t    attrs: {\n\t      \"type\": \"file\"\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        _vm.importDataAsFile($event, 'library')\n\t      }\n\t    }\n\t  }), _vm._v(\" \"), _c('input', {\n\t    ref: \"importInput\",\n\t    attrs: {\n\t      \"type\": \"file\"\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        _vm.importDataAsFile($event, 'floorplan')\n\t      }\n\t    }\n\t  }), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"title\": \"open floorplan\"\n\t    }\n\t  }, [_c('open-floorplan-svg', {\n\t    staticClass: \"button\",\n\t    attrs: {\n\t      \"id\": \"import\"\n\t    },\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        _vm.$refs.importInput.click()\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"title\": \"save floorplan\"\n\t    }\n\t  }, [_c('save-floorplan-svg', {\n\t    staticClass: \"button\",\n\t    attrs: {\n\t      \"id\": \"export\"\n\t    },\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        _vm.exportData($event)\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"title\": \"import library\"\n\t    }\n\t  }, [_c('import-library-svg', {\n\t    staticClass: \"button\",\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        _vm.$refs.importLibrary.click()\n\t      }\n\t    }\n\t  })], 1)]) : _vm._e(), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"id\": \"undo-redo\"\n\t    }\n\t  }, [_c('div', {\n\t    attrs: {\n\t      \"title\": \"undo\"\n\t    }\n\t  }, [_c('undo-svg', {\n\t    staticClass: \"button\",\n\t    class: {\n\t      'disabled': !_vm.timetravelInitialized\n\t    },\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        _vm.undo($event)\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"title\": \"redo\"\n\t    }\n\t  }, [_c('redo-svg', {\n\t    staticClass: \"button\",\n\t    class: {\n\t      'disabled': !_vm.timetravelInitialized\n\t    },\n\t    attrs: {\n\t      \"disabled\": !_vm.timetravelInitialized\n\t    },\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        _vm.redo($event)\n\t      }\n\t    }\n\t  })], 1)])]), _vm._v(\" \"), _c('ul', {\n\t    attrs: {\n\t      \"id\": \"mode-tabs\"\n\t    }\n\t  }, [_c('li', {\n\t    staticClass: \"tab\",\n\t    class: {\n\t      active: _vm.modeTab === 'floorplan'\n\t    },\n\t    attrs: {\n\t      \"data-modetab\": \"floorplan\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.modeTab = 'floorplan'\n\t      }\n\t    }\n\t  }, [_c('span', [_vm._v(\"\\n          Floorplan\\n          \"), _c('tab-floorplan-svg', {\n\t    staticClass: \"icon\"\n\t  })], 1)]), _vm._v(\" \"), _c('li', {\n\t    staticClass: \"tab\",\n\t    class: {\n\t      active: _vm.modeTab === 'assign'\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.modeTab = 'assign'\n\t      }\n\t    }\n\t  }, [_c('span', [_vm._v(\"\\n          Assignments\\n          \"), _c('tab-assign-svg', {\n\t    staticClass: \"icon\"\n\t  })], 1)]), _vm._v(\" \"), _c('li', {\n\t    staticClass: \"tab\",\n\t    class: {\n\t      active: _vm.modeTab === 'components'\n\t    },\n\t    attrs: {\n\t      \"data-modetab\": \"components\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.modeTab = 'components'\n\t      }\n\t    }\n\t  }, [_c('span', [_vm._v(\"\\n          Components\\n          \"), _c('tool-component-svg', {\n\t    staticClass: \"icon\"\n\t  })], 1)]), _vm._v(\" \"), _vm._m(0, false, false)]), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"id\": \"grid-settings\"\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"input-checkbox\"\n\t  }, [_c('label', [_vm._v(\"Story Below\")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.previousStoryVisible),\n\t      expression: \"previousStoryVisible\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"checkbox\"\n\t    },\n\t    domProps: {\n\t      \"checked\": Array.isArray(_vm.previousStoryVisible) ? _vm._i(_vm.previousStoryVisible, null) > -1 : (_vm.previousStoryVisible)\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        var $$a = _vm.previousStoryVisible,\n\t          $$el = $event.target,\n\t          $$c = $$el.checked ? (true) : (false);\n\t        if (Array.isArray($$a)) {\n\t          var $$v = null,\n\t            $$i = _vm._i($$a, $$v);\n\t          if ($$el.checked) {\n\t            $$i < 0 && (_vm.previousStoryVisible = $$a.concat([$$v]))\n\t          } else {\n\t            $$i > -1 && (_vm.previousStoryVisible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n\t          }\n\t        } else {\n\t          _vm.previousStoryVisible = $$c\n\t        }\n\t      }\n\t    }\n\t  })]), _vm._v(\" \"), (_vm.mapEnabled) ? _c('div', {\n\t    staticClass: \"input-checkbox\"\n\t  }, [_c('label', [_vm._v(\"map\")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.mapVisible),\n\t      expression: \"mapVisible\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"checkbox\"\n\t    },\n\t    domProps: {\n\t      \"checked\": Array.isArray(_vm.mapVisible) ? _vm._i(_vm.mapVisible, null) > -1 : (_vm.mapVisible)\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        var $$a = _vm.mapVisible,\n\t          $$el = $event.target,\n\t          $$c = $$el.checked ? (true) : (false);\n\t        if (Array.isArray($$a)) {\n\t          var $$v = null,\n\t            $$i = _vm._i($$a, $$v);\n\t          if ($$el.checked) {\n\t            $$i < 0 && (_vm.mapVisible = $$a.concat([$$v]))\n\t          } else {\n\t            $$i > -1 && (_vm.mapVisible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n\t          }\n\t        } else {\n\t          _vm.mapVisible = $$c\n\t        }\n\t      }\n\t    }\n\t  })]) : _vm._e(), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"input-checkbox\"\n\t  }, [_c('label', [_vm._v(\"grid\")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.gridVisible),\n\t      expression: \"gridVisible\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"checkbox\"\n\t    },\n\t    domProps: {\n\t      \"checked\": Array.isArray(_vm.gridVisible) ? _vm._i(_vm.gridVisible, null) > -1 : (_vm.gridVisible)\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        var $$a = _vm.gridVisible,\n\t          $$el = $event.target,\n\t          $$c = $$el.checked ? (true) : (false);\n\t        if (Array.isArray($$a)) {\n\t          var $$v = null,\n\t            $$i = _vm._i($$a, $$v);\n\t          if ($$el.checked) {\n\t            $$i < 0 && (_vm.gridVisible = $$a.concat([$$v]))\n\t          } else {\n\t            $$i > -1 && (_vm.gridVisible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n\t          }\n\t        } else {\n\t          _vm.gridVisible = $$c\n\t        }\n\t      }\n\t    }\n\t  })]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"input-number\"\n\t  }, [_c('label', [_vm._v(\"spacing\")]), _vm._v(\" \"), _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model.number.lazy\",\n\t      value: (_vm.spacing),\n\t      expression: \"spacing\",\n\t      modifiers: {\n\t        \"number\": true,\n\t        \"lazy\": true\n\t      }\n\t    }],\n\t    domProps: {\n\t      \"value\": (_vm.spacing)\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        _vm.spacing = _vm._n($event.target.value)\n\t      },\n\t      \"blur\": function($event) {\n\t        _vm.$forceUpdate()\n\t      }\n\t    }\n\t  }), _vm._v(\" \"), (!_vm.allowSettingUnits) ? _c('label', [_vm._v(_vm._s(_vm.rwUnits))]) : _vm._e()]), _vm._v(\" \"), (_vm.allowSettingUnits) ? _c('PrettySelect', {\n\t    ref: \"unitsSelect\",\n\t    attrs: {\n\t      \"options\": ['ft', 'm'],\n\t      \"value\": _vm.rwUnits\n\t    },\n\t    on: {\n\t      \"change\": _vm.updateUnits\n\t    }\n\t  }) : _vm._e(), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"title\": \"settings\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.showGroundPropsModal = true\n\t      }\n\t    }\n\t  }, [_c('SettingsGear', {\n\t    staticClass: \"button\"\n\t  })], 1)], 1)]), _vm._v(\" \"), _c('section', {\n\t    class: _vm.modeTab,\n\t    attrs: {\n\t      \"id\": \"bottom\"\n\t    }\n\t  }, [(_vm.modeTab === 'floorplan') ? [_c('div', {\n\t    attrs: {\n\t      \"id\": \"instructions\"\n\t    }\n\t  }, [_vm._v(\"Draw a floorplan and import images\")]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"tools-list tools\",\n\t    attrs: {\n\t      \"id\": \"drawing-tools\"\n\t    }\n\t  }, [_c('div', {\n\t    class: {\n\t      active: _vm.tool === 'Rectangle'\n\t    },\n\t    attrs: {\n\t      \"data-tool\": \"Rectangle\",\n\t      \"title\": \"Rectangle\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.tool = 'Rectangle'\n\t      }\n\t    }\n\t  }, [_c('tool-draw-rectangle-svg', {\n\t    staticClass: \"button\"\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    class: {\n\t      active: _vm.tool === 'Polygon'\n\t    },\n\t    attrs: {\n\t      \"data-tool\": \"Polygon\",\n\t      \"title\": \"Polygon\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.tool = 'Polygon'\n\t      }\n\t    }\n\t  }, [_c('tool-draw-polygon-svg', {\n\t    staticClass: \"button\"\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    class: {\n\t      active: _vm.tool === 'Fill'\n\t    },\n\t    attrs: {\n\t      \"data-tool\": \"Fill\",\n\t      \"title\": \"Fill\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.tool = 'Fill'\n\t      }\n\t    }\n\t  }, [_c('tool-fill-svg', {\n\t    staticClass: \"button\"\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    class: {\n\t      active: _vm.tool === 'Eraser'\n\t    },\n\t    attrs: {\n\t      \"data-tool\": \"Eraser\",\n\t      \"title\": \"Eraser\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.tool = 'Eraser'\n\t      }\n\t    }\n\t  }, [_c('tool-erase-svg', {\n\t    staticClass: \"button\"\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    class: {\n\t      active: _vm.tool === 'Image'\n\t    },\n\t    attrs: {\n\t      \"data-tool\": \"Image\",\n\t      \"title\": \"Image\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.setImageTool\n\t    }\n\t  }, [_c('tool-image-svg', {\n\t    staticClass: \"button\"\n\t  })], 1)])] : _vm._e(), _vm._v(\" \"), (_vm.modeTab === 'components') ? [_c('div', {\n\t    attrs: {\n\t      \"id\": \"instructions\"\n\t    }\n\t  }, [(!_vm.currentComponentDefinition) ? _c('span', [_vm._v(\"Add fenestration, daylighting, and PV\")]) : _c('span', [_vm._v(\"Click to place a \" + _vm._s(_vm.currentComponentDefinition.name))])]), _vm._v(\" \"), _c('ComponentInstanceEditBar')] : _vm._e(), _vm._v(\" \"), (_vm.modeTab === 'assign') ? [_c('div', {\n\t    attrs: {\n\t      \"id\": \"instructions\"\n\t    }\n\t  }, [_vm._v(\"Assign thermal zones, etc, to spaces\")])] : _vm._e(), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"id\": \"grid-tools\"\n\t    }\n\t  }, [_c('RenderByDropdown'), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"title\": \"zoom to fit\"\n\t    }\n\t  }, [_c('ZoomToFitSvg', {\n\t    staticClass: \"button\",\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        _vm.zoomToFit($event)\n\t      }\n\t    }\n\t  })], 1)], 1)], 2), _vm._v(\" \"), _c('section', {\n\t    staticClass: \"modals\"\n\t  }, [(_vm.showSaveModal) ? _c('SaveAsModal', {\n\t    attrs: {\n\t      \"saveWhat\": _vm.thingWereSaving,\n\t      \"dataToDownload\": _vm.dataToDownload\n\t    },\n\t    on: {\n\t      \"close\": function () {\n\t        _vm.showSaveModal = false;\n\t        _vm.thingWereSaving = '';\n\t      }\n\t    }\n\t  }) : (_vm.showGroundPropsModal) ? _c('Settings', {\n\t    on: {\n\t      \"close\": function($event) {\n\t        _vm.showGroundPropsModal = false\n\t      }\n\t    }\n\t  }) : _vm._e()], 1)])\n\t},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('li', [_c('span')])\n\t}]}\n\n/***/ }),\n/* 284 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return (_vm.showInstanceEditor) ? _c('EditBar', {\n\t    attrs: {\n\t      \"row\": _vm.componentInstance,\n\t      \"columns\": _vm.visibleColumns,\n\t      \"updateRow\": _vm.modifyComponentInstance,\n\t      \"destroy\": _vm.destroyComponent\n\t    }\n\t  }) : _vm._e()\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 285 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"editable-table\"\n\t  }, [_c('table', {\n\t    staticClass: \"table\",\n\t    attrs: {\n\t      \"cellspacing\": \"0\"\n\t    }\n\t  }, [_c('thead', {\n\t    attrs: {\n\t      \"cellspacing\": \"0\"\n\t    }\n\t  }, [_c('tr', [_c('th', {\n\t    staticClass: \"select\"\n\t  }), _vm._v(\" \"), _vm._l((_vm.visibleColumns), function(col) {\n\t    return _c('th', {\n\t      on: {\n\t        \"click\": function($event) {\n\t          _vm.sortBy(col.name)\n\t        }\n\t      }\n\t    }, [_c('span', [_vm._v(_vm._s(col.displayName))]), _vm._v(\" \"), _c('svg', {\n\t      directives: [{\n\t        name: \"show\",\n\t        rawName: \"v-show\",\n\t        value: (col.name === _vm.sortKey && _vm.sortDescending),\n\t        expression: \"col.name === sortKey && sortDescending\"\n\t      }],\n\t      attrs: {\n\t        \"viewBox\": \"0 0 10 3\",\n\t        \"xmlns\": \"http://www.w3.org/2000/svg\"\n\t      }\n\t    }, [_c('path', {\n\t      attrs: {\n\t        \"d\": \"M0 .5l5 5 5-5H0z\"\n\t      }\n\t    })]), _vm._v(\" \"), _c('svg', {\n\t      directives: [{\n\t        name: \"show\",\n\t        rawName: \"v-show\",\n\t        value: (col.name === _vm.sortKey && !_vm.sortDescending),\n\t        expression: \"col.name === sortKey && !sortDescending\"\n\t      }],\n\t      attrs: {\n\t        \"viewBox\": \"0 0 10 3\",\n\t        \"xmlns\": \"http://www.w3.org/2000/svg\"\n\t      }\n\t    }, [_c('path', {\n\t      attrs: {\n\t        \"d\": \"M0 5.5l5-5 5 5H0z\"\n\t      }\n\t    })])])\n\t  }), _vm._v(\" \"), _c('th', {\n\t    staticClass: \"destroy\"\n\t  })], 2)]), _vm._v(\" \"), _c('tbody', {\n\t    attrs: {\n\t      \"cellspacing\": \"0\"\n\t    }\n\t  }, _vm._l((_vm.sortedRows), function(row) {\n\t    return _c('tr', {\n\t      key: row.id,\n\t      class: {\n\t        selected: _vm.selectedItemId === row.id\n\t      }\n\t    }, [_c('td', {\n\t      staticClass: \"select\",\n\t      on: {\n\t        \"click\": function($event) {\n\t          $event.stopPropagation();\n\t          _vm.selectRow(row)\n\t        }\n\t      }\n\t    }, [_c('input', {\n\t      attrs: {\n\t        \"type\": \"radio\"\n\t      },\n\t      domProps: {\n\t        \"checked\": _vm.selectedItemId === row.id\n\t      }\n\t    })]), _vm._v(\" \"), _vm._l((_vm.visibleColumns), function(col) {\n\t      return _c('td', {\n\t        key: col.name,\n\t        attrs: {\n\t          \"data-column\": col.name\n\t        }\n\t      }, [_c('generic-input', {\n\t        attrs: {\n\t          \"col\": col,\n\t          \"row\": row,\n\t          \"onChange\": _vm.updateRow.bind(null, row.id, col.name)\n\t        }\n\t      })], 1)\n\t    }), _vm._v(\" \"), _c('td', {\n\t      staticClass: \"destroy\",\n\t      attrs: {\n\t        \"title\": \"delete\"\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          $event.stopPropagation();\n\t          _vm.deleteRow(row)\n\t        }\n\t      }\n\t    }, [_c('Delete', {\n\t      staticClass: \"button\"\n\t    })], 1)], 2)\n\t  }))])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 286 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('input', {\n\t    ref: \"imageInput\",\n\t    staticStyle: {\n\t      \"display\": \"none\"\n\t    },\n\t    attrs: {\n\t      \"type\": \"file\",\n\t      \"accept\": \"image/jpeg,image/png,image/svg,image/gif\",\n\t      \"id\": \"upload-image-input\"\n\t    },\n\t    on: {\n\t      \"change\": _vm.uploadImage\n\t    }\n\t  })\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 287 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    class: {\n\t      'expandable-drawer': true,\n\t      expanded: _vm.expanded,\n\t    }\n\t  }, [_c('p', {\n\t    staticClass: \"title\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.expanded = !_vm.expanded\n\t      }\n\t    }\n\t  }, [_vm._v(\"\\n    \" + _vm._s(_vm.caret) + \" \" + _vm._s(_vm.title) + \"\\n  \")]), _vm._v(\" \"), (_vm.expanded) ? _c('p', [_vm._t(\"default\")], 2) : _vm._e()])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 288 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"layout-navigation\"\n\t    }\n\t  }, [_c('nav', {\n\t    attrs: {\n\t      \"id\": \"navigation\"\n\t    }\n\t  }, [_c('section', {\n\t    attrs: {\n\t      \"id\": \"selections\"\n\t    }\n\t  }), _vm._v(\" \"), _c('div', {\n\t    attrs: {\n\t      \"id\": \"list\"\n\t    }\n\t  }, [_c('Library', {\n\t    attrs: {\n\t      \"objectTypes\": ['stories'],\n\t      \"mode\": 'stories',\n\t      \"compact\": _vm.libraryExpanded !== 'stories'\n\t    },\n\t    on: {\n\t      \"toggleCompact\": function($event) {\n\t        _vm.libraryExpanded = (_vm.libraryExpanded === 'stories' ? false : 'stories')\n\t      }\n\t    }\n\t  }), _vm._v(\" \"), _c('Library', {\n\t    attrs: {\n\t      \"objectTypes\": _vm.objectTypesForTab,\n\t      \"mode\": _vm.subselectionType,\n\t      \"searchAvailable\": true,\n\t      \"compact\": _vm.libraryExpanded !== 'subselection'\n\t    },\n\t    on: {\n\t      \"changeMode\": function (newMode) {\n\t        _vm.subselectionType = newMode;\n\t      },\n\t      \"toggleCompact\": function($event) {\n\t        _vm.libraryExpanded = (_vm.libraryExpanded === 'subselection' ? false : 'subselection')\n\t      }\n\t    }\n\t  })], 1)])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 289 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"library-select\"\n\t  }, [_c('div', {\n\t    staticClass: \"rows\"\n\t  }, _vm._l((_vm.rows), function(item) {\n\t    return _c('div', {\n\t      key: item.id,\n\t      class: {\n\t        active: _vm.selectedItemId === item.id\n\t      },\n\t      attrs: {\n\t        \"data-id\": item.id\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          _vm.selectItem(item)\n\t        }\n\t      }\n\t    }, [_c('span', {\n\t      style: ({\n\t        'background-color': item.color\n\t      })\n\t    }), _vm._v(\"\\n        \" + _vm._s(item.name) + \"\\n        \"), _c('a', {\n\t      staticClass: \"destroy\",\n\t      attrs: {\n\t        \"title\": \"delete\"\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          $event.stopPropagation();\n\t          _vm.destroyItem(item)\n\t        }\n\t      }\n\t    }, [_c('Delete', {\n\t      staticClass: \"button\"\n\t    })], 1)])\n\t  }))])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 290 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('section', {\n\t    attrs: {\n\t      \"id\": \"inspector\"\n\t    }\n\t  }, [_c('section', {\n\t    staticClass: \"list\",\n\t    attrs: {\n\t      \"id\": \"geometry-list\"\n\t    }\n\t  }, [_vm._l((_vm.currentStoryGeometry.faces), function(face) {\n\t    return (!_vm.currentSpace && !_vm.currentShading) ? [_c('header', [_c('h3', [_vm._v(\"Face \" + _vm._s(face.id))])]), _vm._v(\" \"), _vm._l((face.edgeRefs), function(edgeRef) {\n\t      return _c('div', {\n\t        staticClass: \"list-item\"\n\t      }, [_vm._v(\"\\n        edge \" + _vm._s(edgeRef.edge_id) + \" \" + _vm._s(edgeRef.reverse ? 'reversed ' : '') + \"\\n        \"), _c('br'), _vm._v(\"startpoint \" + _vm._s(_vm.startpoint(edgeRef)) + \"\\n        \"), _c('br'), _vm._v(\"endpoint \" + _vm._s(_vm.endpoint(edgeRef)) + \"\\n      \")])\n\t    })] : _vm._e()\n\t  }), _vm._v(\" \"), (_vm.currentSubSelectionFace) ? [_c('header', [_c('h3', [_vm._v(\"Face \" + _vm._s(_vm.currentSubSelectionFace.id) + \" on \" + _vm._s(_vm.currentSpace ? _vm.currentSpace.name : _vm.currentShading.name))])]), _vm._v(\" \"), _vm._l((_vm.currentSubSelectionFace.edgeRefs), function(edgeRef) {\n\t    return _c('div', {\n\t      staticClass: \"list-item\"\n\t    }, [_vm._v(\"\\n        edge \" + _vm._s(edgeRef.edge_id) + \" \" + _vm._s(edgeRef.reverse ? 'reversed ' : '') + \"\\n        \"), _c('br'), _vm._v(\"startpoint \" + _vm._s(_vm.startpoint(edgeRef)) + \"\\n        \"), _c('br'), _vm._v(\"endpoint \" + _vm._s(_vm.endpoint(edgeRef)) + \"\\n      \")])\n\t  })] : _vm._e()], 2)])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 291 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"editable-select-list\",\n\t    class: {\n\t      'expanded': !_vm.compact\n\t    },\n\t    attrs: {\n\t      \"data-object-type\": _vm.selectedObjectType\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"controls\"\n\t  }, [_c('div', {\n\t    staticClass: \"control-group\"\n\t  }, [(_vm.objectTypes.length > 1) ? _c('PrettySelect', {\n\t    attrs: {\n\t      \"options\": _vm.objectTypes,\n\t      \"value\": _vm.selectedObjectType\n\t    },\n\t    on: {\n\t      \"change\": function (val) { return _vm.$emit('selectObjectType', val); }\n\t    }\n\t  }) : _c('span', [_vm._v(_vm._s(_vm.objectTypes[0].display || _vm.objectTypes[0].displayName))]), _vm._v(\" \"), (_vm.addRow) ? _c('a', {\n\t    staticClass: \"add-new\",\n\t    attrs: {\n\t      \"title\": \"Create new\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.addRow\n\t    }\n\t  }, [_c('AddNew', {\n\t    staticClass: \"button\"\n\t  })], 1) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"control-group\"\n\t  }, [_c('a', {\n\t    attrs: {\n\t      \"title\": _vm.compact ? 'expand' : 'contract'\n\t    },\n\t    on: {\n\t      \"click\": _vm.toggleCompact\n\t    }\n\t  }, [_c('DoubleArrows', {\n\t    staticClass: \"button\",\n\t    attrs: {\n\t      \"transform\": _vm.compact ? '' : 'scale(-1, 1)'\n\t    }\n\t  })], 1)])]), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"input-text search-spot\"\n\t  }, [(_vm.searchAvailable) ? _c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.search),\n\t      expression: \"search\"\n\t    }],\n\t    staticClass: \"search-bar\",\n\t    attrs: {\n\t      \"placeholder\": \"search\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.search)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.search = $event.target.value\n\t      }\n\t    }\n\t  }) : _vm._e()]), _vm._v(\" \"), (_vm.compact) ? _c('LibrarySelect', {\n\t    attrs: {\n\t      \"rows\": _vm.searchedRows,\n\t      \"selectItem\": _vm.selectRow,\n\t      \"destroyItem\": _vm.destroyRow,\n\t      \"selectedItemId\": _vm.selectedRowId\n\t    }\n\t  }) : _c('EditableTable', {\n\t    attrs: {\n\t      \"selectRow\": _vm.selectRow,\n\t      \"selectedItemId\": _vm.selectedRowId,\n\t      \"columns\": _vm.visibleColumns,\n\t      \"rows\": _vm.searchedRows,\n\t      \"deleteRow\": _vm.destroyRow,\n\t      \"updateRow\": _vm.editRow\n\t    }\n\t  })], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 292 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return (!_vm.isChrome) ? _c('p', {\n\t    staticClass: \"non-chrome-warning\"\n\t  }, [_vm._v(\"\\n  Warning. This web-app is currently only tested against recent versions of Chrome. \\n\")]) : _vm._e()\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 293 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"render-by\"\n\t  }, [_c('PrettySelect', {\n\t    attrs: {\n\t      \"label\": \"View By\",\n\t      \"options\": _vm.renderableOptions,\n\t      \"value\": _vm.currentMode\n\t    },\n\t    on: {\n\t      \"change\": function (val) {\n\t        _vm.currentMode = val\n\t      }\n\t    }\n\t  })], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 294 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"input-select\"\n\t  }, [(_vm.label) ? _c('label', [_vm._v(_vm._s(_vm.label))]) : _vm._e(), _vm._v(\" \"), _c('select', {\n\t    attrs: {\n\t      \"disabled\": _vm.disabled\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        _vm.$emit('change', $event.target.value)\n\t      }\n\t    }\n\t  }, _vm._l((_vm.normalizedOpts), function(opt) {\n\t    return _c('option', {\n\t      domProps: {\n\t        \"value\": opt.val,\n\t        \"selected\": opt.val === _vm.value\n\t      }\n\t    }, [_vm._v(_vm._s(opt.display))])\n\t  })), _vm._v(\" \"), _c('svg', {\n\t    attrs: {\n\t      \"xmlns\": \"http://www.w3.org/2000/svg\",\n\t      \"viewBox\": \"0 0 13 14\",\n\t      \"height\": \"10px\"\n\t    }\n\t  }, [_c('path', {\n\t    attrs: {\n\t      \"d\": \"M.5 0v14l11-7-11-7z\",\n\t      \"transform\": \"translate(13) rotate(90)\"\n\t    }\n\t  })])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 295 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"info\"\n\t  }, [_c('InfoIcon', {\n\t    staticClass: \"button\"\n\t  }), _vm._v(\" \"), _c('span', {\n\t    staticClass: \"tooltip-text\"\n\t  }, [_vm._t(\"default\")], 2)], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 296 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('EditableSelectList', {\n\t    attrs: {\n\t      \"selectedObjectType\": _vm.mode,\n\t      \"objectTypes\": _vm.objectTypesDisplay,\n\t      \"rows\": _vm.rows,\n\t      \"columns\": _vm.columns,\n\t      \"selectedRowId\": _vm.selectedObject && _vm.selectedObject.id,\n\t      \"selectRow\": function (row) {\n\t        _vm.selectedObject = row;\n\t      },\n\t      \"addRow\": _vm.addRowPermitted && _vm.createObject,\n\t      \"editRow\": _vm.modifyObject,\n\t      \"destroyRow\": _vm.destroyObject,\n\t      \"searchAvailable\": _vm.searchAvailable,\n\t      \"compact\": _vm.compact\n\t    },\n\t    on: {\n\t      \"toggleCompact\": function (c) { return _vm.$emit('toggleCompact', c); },\n\t      \"selectObjectType\": _vm.changeMode\n\t    }\n\t  })\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 297 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    ref: \"gridParent\",\n\t    class: {\n\t      'reduce-ticks': _vm.reduceTicks\n\t    },\n\t    style: ({\n\t      'pointer-events': (_vm.currentTool === 'Drag' || _vm.currentTool === 'Map') ? 'none' : 'auto'\n\t    }),\n\t    attrs: {\n\t      \"id\": \"grid\"\n\t    }\n\t  }, [_c('svg', {\n\t    ref: \"grid\",\n\t    attrs: {\n\t      \"id\": \"svg-grid\"\n\t    }\n\t  }, [_c('defs', _vm._l((_vm.crosshatchModifiers), function(color, modifier) {\n\t    return _c('pattern', {\n\t      attrs: {\n\t        \"id\": (\"crosshatch\" + modifier),\n\t        \"patternUnits\": \"userSpaceOnUse\",\n\t        \"width\": \"10\",\n\t        \"height\": \"10\"\n\t      }\n\t    }, [_c('path', {\n\t      attrs: {\n\t        \"d\": \"M-1,1 l2,-2\\n                 M0,10 l10,-10\\n                 M9,11 l2,-2\",\n\t        \"stroke\": color,\n\t        \"stroke-width\": \"2\"\n\t      }\n\t    })])\n\t  })), _vm._v(\" \"), _c('g', {\n\t    staticClass: \"axis axis--x\"\n\t  }), _vm._v(\" \"), _c('g', {\n\t    staticClass: \"axis axis--y\"\n\t  }), _vm._v(\" \"), _c('g', {\n\t    staticClass: \"images\",\n\t    attrs: {\n\t      \"data-transform-plz\": \"\"\n\t    }\n\t  }), _vm._v(\" \"), _c('g', {\n\t    staticClass: \"polygons\",\n\t    attrs: {\n\t      \"data-transform-plz\": \"\"\n\t    }\n\t  })])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 298 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    class: (\"tool_\" + (_vm.tool.toLowerCase())),\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_c('toolbar', {\n\t    class: {\n\t      'disabled-component': _vm.tool === 'Map'\n\t    }\n\t  }), _vm._v(\" \"), _c('div', {\n\t    class: {\n\t      'nav-on-top': _vm.navigationExpanded\n\t    },\n\t    attrs: {\n\t      \"id\": \"layout-main\"\n\t    }\n\t  }, [_c('navigation', {\n\t    class: {\n\t      'disabled-component': _vm.tool === 'Map'\n\t    },\n\t    on: {\n\t      \"expanded\": function (val) {\n\t        _vm.navigationExpanded = val;\n\t      }\n\t    }\n\t  }), _vm._v(\" \"), _c('main', [_c('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.error || _vm.success),\n\t      expression: \"error || success\"\n\t    }],\n\t    class: {\n\t      error: _vm.error, success: _vm.success\n\t    },\n\t    attrs: {\n\t      \"id\": \"alert-text\"\n\t    }\n\t  }, [_c('p', [_vm._v(_vm._s(_vm.error || _vm.success))])]), _vm._v(\" \"), _c('canvas-view'), _vm._v(\" \"), _c('grid-view')], 1)], 1), _vm._v(\" \"), _c('ImageUpload')], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 299 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('aside', [_c('div', {\n\t    staticClass: \"overlay\"\n\t  }), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"modal\"\n\t  }, [_vm._m(0, false, false), _vm._v(\" \"), _c('NonChromeWarning'), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"content\"\n\t  }, [_c('p', [_c('a', {\n\t    staticClass: \"quickstart-action new-floorplan\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.mapEnabled = false;\n\t        _vm.mapVisible = false;\n\t        _vm.$emit('close')\n\t      }\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"title\"\n\t  }, [_vm._v(\"New\")]), _vm._v(\" \"), _c('QuickstartIconNewFloorplan'), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"explanation\"\n\t  }, [_vm._v(\"Create a new floorplan\")])], 1)]), _vm._v(\" \"), _c('p', [_c('a', {\n\t    staticClass: \"quickstart-action\",\n\t    attrs: {\n\t      \"disabled\": !_vm.online\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.mapEnabled = true;\n\t        _vm.tool = 'Map';\n\t        _vm.$emit('close')\n\t      }\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"title\"\n\t  }, [_vm._v(\"New With Map\")]), _vm._v(\" \"), _c('QuickstartIconNewMapFloorplan'), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"explanation\"\n\t  }, [_vm._v(\"Create a new floorplan with a map\")])], 1)]), _vm._v(\" \"), _c('p', [_c('a', {\n\t    staticClass: \"quickstart-action open-floorplan\",\n\t    attrs: {\n\t      \"id\": \"import\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.$refs.importInput.click()\n\t      }\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"title\"\n\t  }, [_vm._v(\"Open\")]), _vm._v(\" \"), _c('QuickstartIconOpenFloorplan'), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"explanation\"\n\t  }, [_vm._v(\"Open an existing floorplan\")])], 1)]), _vm._v(\" \"), _c('input', {\n\t    ref: \"importInput\",\n\t    attrs: {\n\t      \"id\": \"importInput\",\n\t      \"type\": \"file\"\n\t    },\n\t    on: {\n\t      \"change\": _vm.importFloorplanAsFile\n\t    }\n\t  })])], 1)])\n\t},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('header', [_c('h2', [_vm._v(\"Quickstart\")])])\n\t}]}\n\n/***/ }),\n/* 300 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18.4 17.7V5H.6v13h18.2l-.4-.3zM1.6 6h15.8v11L13 13.7l-2.3 1.7L7 11.5 1.8 17h-.2V6z\",\"fill\":\"#fff\"}}),_c('circle',{attrs:{\"cx\":\"9.7\",\"cy\":\"5.4\",\"fill\":\"#39b54a\",\"r\":\"5\"}}),_c('path',{attrs:{\"d\":\"M11.5 4.5h-1.2V3.3c0-.3-.2-.5-.5-.5h-.6c-.3 0-.5.2-.5.5v1.2H7.5c-.3 0-.5.2-.5.5v.6c0 .2.2.4.5.4h1.2v1.2c0 .3.2.5.5.5h.6c.3 0 .5-.2.5-.5V6h1.2c.3 0 .5-.2.5-.5V5c-.1-.3-.3-.5-.5-.5z\",\"fill\":\"#58595b\"}})])}}};\n\n/***/ }),\n/* 301 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"10.5\",\"cy\":\"10\",\"fill\":\"#39b54a\",\"r\":\"7.9\"}}),_c('path',{attrs:{\"d\":\"M13.6 8.8h-1.9V6.9c0-.4-.3-.8-.8-.8H10c-.4 0-.8.3-.8.8v1.9H7.3c-.4 0-.8.3-.8.8v.9c0 .4.3.8.8.8h1.9v1.9c0 .4.3.8.8.8h.9c.4 0 .8-.3.8-.8v-1.9h1.9c.4 0 .8-.3.8-.8v-1c-.1-.4-.4-.7-.8-.7z\",\"fill\":\"#58595b\"}})])}}};\n\n/***/ }),\n/* 302 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM12.9 5.1c0-.9-.7-1.7-1.7-1.7-.9 0-1.7.7-1.7 1.7 0 .9.7 1.7 1.7 1.7.9 0 1.7-.8 1.7-1.7zm5.3 15.5h-2.9v1.1h7v-1.1h-1.7v-7.3h1.7v-1.1h-9.7v1.1h5.6v7.3zM6 16.7v.1c0 .3.2.5.5.5h1.6v1.5h.3v1l-2 .6v.5h.2v.1c-.1.1-.3.2-.3.4s.2.4.4.4.4-.2.4-.4-.1-.3-.3-.4v-.1l1.6-.2v.1h.1v.6h.2v.4H9v-1h.1v-.1l1.5.2v.1c-.1.1-.3.2-.3.4s.2.4.4.4.4-.2.4-.4-.1-.3-.3-.4v-.1h.2v-.5l-2-.5v-1h.3v-1.5h1.9c.3 0 .5-.2.5-.5v-.1c0-.2-.1-.3-.2-.4h1.3l-.8 4c-.1.5.3 1.1.8 1.2.6.1 1.1-.2 1.2-.8l1.1-5.3v-.4c-.1-.6-.5-1-1.1-1h-3.2l.4-1.9h3.9c.2 0 .3 0 .5-.1h4.2v-.5c.1 0 .1-.1.2-.1l.5.2 1.9-5-.6-.2-1.9 4.9h-.1c-.1 0-.2.1-.2.2H16v-.1c0-.5-.4-.9-.9-.9h-3.5l.2-1c.2-.9-.4-1.7-1.3-1.9l-.5-.1c-.8-.4-1.6.1-1.8 1L7.7 11l-.1.7V10c0-.3-.2-.5-.5-.5h-.5c-.3 0-.6.2-.6.5v3.8c0 .3.2.5.5.5v1.8c-.3.1-.5.3-.5.6zm1-1c.1.2.3.4.5.5H7v-.5z\"}})])}}};\n\n/***/ }),\n/* 303 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zm-8.5-.2H6v-19h13v19zm-12.1-.9H18v-17H6.9v17z\"}}),_c('path',{attrs:{\"d\":\"M11.8 15.9h5.8v4.3h-5.8zm0-5.7h5.8v4.3h-5.8zm0-5.8h5.8v4.3h-5.8z\"}})])}}};\n\n/***/ }),\n/* 304 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM20.6 6.6c0-.1-.1-.2-.1-.3-.1.1-.1.2-.2.2-.7.8-1.3 1.7-2 2.5-.4.5-1 .6-1.5.2-.1-.1-.2-.2-.4-.3-.2-.2-.3-.4-.4-.7 0-.3.1-.6.3-.8.7-.8 1.3-1.7 2-2.5.1-.1.1-.2.2-.2-.1 0-.2 0-.3-.1-1.2-.2-2.5.3-3.4 1.3-.8 1-1 2.4-.6 3.6-.6.8-1.3 1.7-1.9 2.5L9.2 7.7c.2-.1.4-.3.6-.5 1.9-1.4 2.4-.2 2.9-.8.5-.6-2-2.2-4.1-.7-.1.2-.3.4-.5.5-.3-.2-.7-.3-1 0-.2.2-.3.5-.2.8-.6.5-1.1.8-1.3 1l-.1-.1c-.2-.3-.6-.3-.8-.1l-.7.5c-.3.2-.4.5-.2.8L5 10.8c.2.3.6.3.9.1l.7-.5c.3-.2.3-.6.1-.9.2-.2.7-.5 1.3-.9l3.4 4.7-.1.1c-.2.1-.3.3-.3.5-1.2 1.5-2.4 3.1-3.6 4.6-.2.3-.4.7-.3 1.1 0 .4.2.7.5 1 .1.1.2.2.4.3.6.5 1.5.4 2-.3.9-1.2 1.9-2.4 2.8-3.6l2.3 3.5c.3.4.8.4 1.1.2l2.2-1.6c.4-.3.4-.8.2-1.1l-3.4-4.1c.6-.7 1.1-1.5 1.7-2.2 1.2.2 2.4-.3 3.2-1.4.8-1.1 1-2.5.5-3.7z\"}})])}}};\n\n/***/ }),\n/* 305 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM15.6 10.3l5.4 5.2L10.2 17zm-6.5 6.8l6-7.4-7.4-4-5.9 7.4z\"}})])}}};\n\n/***/ }),\n/* 306 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM3 2.9v18h21v-18H3zm14.6 4H8.8l-2.6-2h14.1l-2.7 2zm-.6 2v6h-7v-6h7zm-9 .6v5.6l-3 2.6V7l3 2.5zm1.6 7.4h8.2l2.6 2H6.9l2.7-2zm9.4-1.8V8.8l3-2.6v11.4l-3-2.5z\"}})])}}};\n\n/***/ }),\n/* 307 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zm-6.4-8.9h-1.5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h1.5c.3 0 .5.2.5.5s-.2.5-.5.5zm-15.3 0H4.3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h1.5c.3 0 .5.2.5.5s-.2.5-.5.5zm6.9-6.3c-.3 0-.5-.2-.5-.5V4.8c0-.3.2-.5.5-.5s.5.2.5.5v1.5c0 .2-.2.5-.5.5zm0 14.8c-.3 0-.5-.2-.5-.5v-1.5c0-.3.2-.5.5-.5s.5.2.5.5v1.5c0 .2-.2.5-.5.5zm4.9-4.1l1.1 1m0 .5c-.1 0-.2 0-.3-.1l-1.1-1c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0l1.1 1c.2.2.2.5 0 .7-.1.1-.3.1-.4.1zM6.8 7l1.1 1.1m0 .5c-.1 0-.3 0-.3-.1l-1.1-1c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0l1.1 1c.2.2.2.5 0 .7-.2 0-.3.1-.4.1zm9.5-.7l1-1m-1 1.5c-.1 0-.3-.1-.4-.2-.2-.2-.2-.5 0-.7l1.1-1c.2-.2.5-.2.7 0 .2.2.2.5 0 .7l-1.1 1c-.1.2-.2.2-.3.2zm-10.9 10l1.1-1m-1.1 1.5c-.1 0-.3-.1-.4-.2-.1-.1-.1-.5.1-.7l1.1-1c.2-.2.5-.2.7 0 .2.2.2.5 0 .7l-1.1 1c-.1.2-.2.2-.4.2z\"}}),_c('ellipse',{attrs:{\"cx\":\"12.8\",\"cy\":\"12.9\",\"rx\":\"4.8\",\"ry\":\"4.6\"}})])}}};\n\n/***/ }),\n/* 308 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M6 2.9v19h13v-19H6zm12 1v8H7v-8h11zm-11 17v-8h11v8H7zM27.5 22l-3.3-5.5h6.7z\"}})])}}};\n\n/***/ }),\n/* 309 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M17 4.2l-5.1-2.9v5.8zm-8.9 0L3 1.3v5.8z\",\"fill\":\"#39b54a\"}})])}}};\n\n/***/ }),\n/* 310 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"d\":\"M17.6 12V0h-12v12h12zM16 1.6v8.8H7.2V1.6H16zM3.2 13.6H1.6V16H4v-1.6h-.8zM1.6 5.6h1.6v-.8H4V3.2H1.6zM12.8 14.4H12V16h2.4v-2.4h-1.6zM5.6 14.4h1.6V16H5.6zM8.8 14.4h1.6V16H8.8zM1.6 10.4h1.6V12H1.6zM1.6 7.2h1.6v1.6H1.6z\"}})])}}};\n\n/***/ }),\n/* 311 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 99.999\"}},[_c('path',{attrs:{\"d\":\"M31.001 54.999h38a2 2 0 0 0 0-4h-38a2 2 0 0 0 0 4zM31.001 35.999h38a2 2 0 0 0 0-4h-38a2 2 0 0 0 0 4z\"}}),_c('path',{attrs:{\"d\":\"M95.001 70.007h-13V31.192c0-1.85-.853-3.594-2.31-4.73L53.812 6.269a5.999 5.999 0 0 0-7.36-.018l-26.12 20.193a6.003 6.003 0 0 0-2.33 4.748V70.006h-13v4h3v16.5c0 .824.675 1.5 1.5 1.5s1.5-.676 1.5-1.5v-16.5h2v16.5c0 .824.675 1.5 1.5 1.5s1.5-.676 1.5-1.5v-16.5h2v14.99c0 3.312 2.687 6 6 6h52c3.313 0 6-2.688 6-6v-14.99h2v16.5c0 .826.675 1.5 1.5 1.5s1.5-.674 1.5-1.5v-16.5h2v16.5c0 .826.675 1.5 1.5 1.5s1.5-.674 1.5-1.5v-16.5h3v-3.999zm-71-38.815l26.12-20.193 25.88 20.193V69.998h-52V31.192z\"}})])}}};\n\n/***/ }),\n/* 312 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[_c('path',{staticStyle:{\"text-indent\":\"0\",\"text-transform\":\"none\",\"block-progression\":\"tb\"},attrs:{\"d\":\"M20.3 8.5c-2.96 0-5.4 2.44-5.4 5.4v52.2c0 2.96 2.44 5.4 5.4 5.4h59.4c2.96 0 5.4-2.44 5.4-5.4V13.9c0-2.96-2.44-5.4-5.4-5.4zm0 3.6h59.4c1.028 0 1.8.772 1.8 1.8v37.04L70.166 39.607c-.684-.677-1.934-.65-2.588.056L56.244 51.784 38.666 34.206a1.814 1.814 0 0 0-2.475-.056L18.5 50.294V13.9c0-1.028.772-1.8 1.8-1.8zm35.1 3.6c-4.95 0-9 4.05-9 9s4.05 9 9 9 9-4.05 9-9-4.05-9-9-9zm0 3.6c3.004 0 5.4 2.396 5.4 5.4 0 3.004-2.396 5.4-5.4 5.4a5.373 5.373 0 0 1-5.4-5.4c0-3.004 2.396-5.4 5.4-5.4zM37.344 37.975l17.69 17.69c.684.678 1.934.65 2.588-.055l11.334-12.122L81.5 56.03V66.1c0 1.028-.772 1.8-1.8 1.8H20.3c-1.028 0-1.8-.772-1.8-1.8V55.188z\",\"overflow\":\"visible\",\"color\":\"#000\"}})])}}};\n\n/***/ }),\n/* 313 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11.6 18.4c-1-.6-1.5-.7-2.5-1.8-1.6-1.7-.9-2.4.1-2.2 1 .2 1.9-.9.8-2.4-1.1-1.5-2.4-1-2.5 0-.1 1.1-1 1.5-2.1-.5-.7-1.3-.7-1.8-.9-2.9 1.1-.2 1.5-.2 2.8-.9 2-1.1 1.6-2 .5-2.1-1.1-.1-1.5-1.4 0-2.5s2.6-.3 2.4.8c-.2 1 .5 1.7 2.2.1 1-1 1.2-1.5 1.8-2.5 1 .6 1.5.7 2.5 1.8 1.6 1.7.9 2.4-.1 2.2-1-.2-1.9.9-.8 2.4 1.1 1.5 2.4 1 2.5 0 .1-1.1 1-1.5 2.1.5.7 1.3.7 1.8.9 2.9l-9.7 7.1z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M19.9 7.6c-.5-.7-1-.9-1.3-.6-.2.1-.3.4-.4.8 0 .3-.2.6-.4.8-.5.4-1.3.3-2-.7v-.1c-.7-1-.6-1.9-.1-2.2.2-.2.5-.2.9-.2.4.1.7 0 .9-.1.3-.2.3-.7-.2-1.4-.1-.2-.3-.4-.5-.6-1-1-1.5-1.2-2.5-1.8-.1.1-.1.2-.2.4-.4.8-.6 1.2-1.6 2.1-.2.2-.4.4-.6.5-.9.6-1.4.5-1.6.2-.1-.2-.2-.5-.1-.9.1-.3 0-.7-.2-.9-.3-.4-1.1-.6-2.1.1h-.1c-1 .8-1.1 1.6-.8 2.1.2.2.4.4.8.4s.7.2.8.4c.3.4.2.8-.6 1.4-.2.1-.4.3-.7.4-1.3.7-1.7.7-2.9.9.2 1.1.2 1.6.9 2.9.1.3.3.5.4.7.5.7 1 .9 1.3.6.2-.1.3-.4.4-.8 0-.3.2-.6.4-.8.6-.3 1.4-.2 2.2.8v.1c.7 1 .6 1.8.1 2.2-.2.2-.6.2-.9.2-.4-.1-.7 0-.9.1-.3.2-.3.7.2 1.4.1.2.3.4.5.6 1 1 1.5 1.2 2.5 1.8l9.7-7.1c-.2-1.2-.2-1.7-.8-3-.2-.2-.3-.5-.5-.7zm-4.5.5c.3.4.7.7 1 .9.4.2.8.2 1.1.1.3-.1.5-.2.7-.5.2-.2.3-.5.3-.8 0-.3.2-.5.2-.5.1 0 .3.1.7.6.1.2.3.4.4.6.5 1 .6 1.5.8 2.2 0 .1 0 .2.1.3l-9.3 6.8c-.1 0-.2-.1-.2-.1-.7-.4-1.1-.6-1.9-1.4-.2-.2-.4-.4-.5-.6-.4-.5-.4-.8-.3-.8 0-.1.2-.1.6-.1.3.1.6 0 .9-.1.3-.1.5-.3.7-.6.2-.3.3-.7.2-1.1-.1-.4-.2-.8-.6-1.3v-.1c-.3-.3-.7-.6-1.1-.7-.4-.2-.8-.2-1.1-.1-.6.2-1 .7-1 1.3 0 .3-.2.5-.2.5-.1 0-.3-.1-.7-.6-.1-.2-.3-.4-.4-.6-.5-1-.6-1.5-.8-2.3V9h.1c.8-.2 1.4-.3 2.5-.9 1-.5 1.5-1 1.6-1.6.1-.3 0-.6-.2-.8-.2-.3-.6-.5-1.1-.5-.2 0-.4-.1-.5-.3-.1-.1-.1-.3-.1-.6.1-.2.2-.6.7-.9.5-.3.9-.5 1.3-.4.2 0 .3.1.4.2.1.2.1.4.1.6-.1.5 0 .9.2 1.2.2.2.4.4.7.4.5 0 1.2-.3 2-1.1.9-.9 1.2-1.4 1.6-2.1 0 0 0-.1.1-.1 0 0 .1 0 .1.1.7.4 1.1.6 1.9 1.4.2.2.4.4.5.6.4.5.4.8.3.8 0 .1-.2.1-.6.1-.6-.1-1.2.1-1.5.6-.2.3-.3.7-.2 1.1 0 .4.2.8.5 1.3z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M11.7 18.1c-1-.6-1.5-.7-2.5-1.8-1.6-1.7-.9-2.4.1-2.2 1 .2 1.9-.9.8-2.4-1.1-1.5-2.4-1-2.5 0-.1 1.1-1 1.5-2.1-.5-.7-1.3-.7-1.7-1-2.9 1.1-.2 1.6-.2 2.9-.9 2-1.1 1.6-2 .5-2.1-1.1-.1-1.5-1.4 0-2.5s2.6-.3 2.4.8c-.2 1 .5 1.7 2.2.1 1-1 1.2-1.5 1.8-2.5 1 .6 1.5.7 2.5 1.8 1.6 1.7.9 2.4-.1 2.2-1-.2-1.9.9-.8 2.4 1.1 1.5 2.4 1 2.5 0 .1-1.1 1-1.5 2.1.5.7 1.3.7 1.8.9 2.9l-9.7 7.1z\",\"fill\":\"#878787\"}}),_c('ellipse',{attrs:{\"cx\":\"18.9\",\"cy\":\"18.6\",\"fill\":\"#fff\",\"rx\":\"6.6\",\"ry\":\"6.6\",\"transform\":\"rotate(-45.001 18.912 18.561)\"}}),_c('path',{attrs:{\"d\":\"M16.4 20.9l5.2.4-.4-5.2-1.5 1.5-2.5-2.5-1.8 1.8 2.5 2.5z\"}})])}}};\n\n/***/ }),\n/* 314 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[_c('path',{attrs:{\"d\":\"M64.433 16.857l-1.932.693-1.527.913-1.024 1.091-.477 1.122v1.138l.489 1.084L60.997 24l1.55.95 1.937.688 2.186.331h2.301l2.192-.368 1.944-.69 1.512-.914 1.029-1.096.49-1.117-.016-1.139-.491-1.122-1.027-1.06-1.558-.955-1.937-.689-2.186-.331h-2.3z\"}}),_c('path',{attrs:{\"d\":\"M75.752 25.386c-.034.03-.057.066-.097.09L73.962 26.5c-.04.023-.083.036-.124.053-.015.006-.024.019-.04.024l-2.107.749c-.03.01-.06.008-.09.016-.021.005-.04.02-.062.023l-2.343.395a.936.936 0 0 1-.149.012h-2.442-.001a.842.842 0 0 1-.134-.01l-2.342-.356c-.025-.004-.043-.019-.067-.023-.033-.009-.066-.007-.1-.018l-2.106-.748c-.017-.007-.027-.02-.043-.026-.043-.018-.087-.03-.128-.055l-1.731-1.063c-.038-.023-.06-.059-.094-.087-.03-.024-.066-.036-.094-.065l-.294-.314v1.202l.492 1.123 1.027 1.093 1.548.914 1.95.694 2.185.367 2.302-.038 2.195-.333 1.932-.686 1.509-.947 1.035-1.103.492-1.124v-1.16l-.293.312c-.027.03-.063.041-.093.065zM43.926 2.813c.022-.002.04-.015.063-.015l1.358-.022-1.588-.838-1.612 1.145 1.715-.273c.022-.004.043.004.064.002z\"}}),_c('path',{attrs:{\"d\":\"M77.758 19.894l.087.197c.035.08.046.17.055.258.004.03.02.061.02.093l.018 1.515v4.408c-.002.06-.024.12-.038.18-.012.056-.014.118-.037.17v.005l-.63 1.437a.9.9 0 0 1-.16.243c-.003.004-.004.01-.009.013l-1.22 1.3c-.026.028-.061.04-.091.064-.032.025-.052.059-.087.081l-1.694 1.063c-.041.026-.087.04-.13.058-.019.008-.03.022-.047.028l-2.106.749c-.034.011-.068.01-.101.018-.024.005-.042.02-.066.023l-2.344.355a.788.788 0 0 1-.111.009l-.01.001-2.44.04H66.6a.916.916 0 0 1-.148-.013l-2.342-.394c-.024-.003-.042-.019-.063-.024-.03-.007-.059-.005-.09-.015l-2.106-.75c-.016-.005-.025-.018-.042-.023-.037-.017-.077-.027-.114-.05l-1.733-1.022c-.04-.024-.065-.062-.1-.091-.032-.025-.07-.038-.098-.069l-1.22-1.3c-.004-.004-.005-.01-.009-.013a.886.886 0 0 1-.16-.242l-.63-1.437-.001-.006c-.023-.053-.024-.113-.037-.17-.013-.06-.037-.12-.037-.18V20.491c0-.067.024-.134.04-.202.012-.05.011-.104.03-.15l.612-1.438c.021-.051.06-.087.091-.131.028-.044.045-.093.082-.132l1.22-1.3c.03-.03.068-.045.101-.071.033-.027.055-.062.093-.085l1.713-1.023c.025-.016.055-.016.08-.029.029-.013.048-.035.077-.046l2.091-.749c.026-.01.054-.004.08-.011s.048-.025.075-.03l2.342-.393c.026-.005.05.004.075.002s.049-.015.075-.015h1.356L55.183 7.97l.1.229.001.005c.023.054.025.114.038.17.013.06.035.12.036.18l.001.006V14.468c0 .067-.025.135-.041.203-.012.05-.012.102-.03.148h-.001l-.61 1.438a.88.88 0 0 1-.16.245c-.004.004-.005.01-.009.013l-1.2 1.299c-.027.03-.065.042-.096.067-.035.029-.059.068-.1.093l-1.733 1.043c-.035.022-.074.032-.111.049-.016.006-.026.019-.042.025l-2.088.768c-.031.013-.065.01-.096.018-.025.007-.046.022-.072.027l-2.342.374a.832.832 0 0 1-.141.012h-2.423a.84.84 0 0 1-.142-.012l-2.343-.374c-.023-.004-.04-.02-.063-.024-.031-.007-.063-.004-.094-.016l-2.125-.748c-.017-.006-.028-.019-.044-.026-.045-.019-.09-.032-.132-.058l-1.713-1.063c-.033-.02-.052-.054-.08-.077-.03-.022-.064-.034-.091-.061l-1.22-1.26c-.006-.005-.007-.013-.013-.018a.888.888 0 0 1-.166-.247l-.63-1.438c-.034-.08-.044-.167-.056-.255-.003-.031-.02-.063-.02-.095l-.019-1.515.002-.009-.002-.009.02-2.896v-.007l-.02-1.47.002-.012c0-.057.021-.115.034-.172.011-.06.015-.124.038-.179.001-.003 0-.007.002-.01l.134-.307-12.603 8.952 1.71-.274c.026-.004.048.005.073.003.025-.002.045-.014.07-.014h2.402c.025 0 .047.012.07.014.025.002.048-.006.072-.003l2.344.375c.026.004.046.02.072.027.026.006.052 0 .077.01l2.126.729c.031.01.054.035.083.05.03.013.062.015.09.03l1.732 1.044c.038.022.06.057.093.085.033.027.074.043.103.075l1.202 1.299c.034.037.048.083.075.124.026.04.063.07.084.116l.65 1.437c.002.004 0 .008.002.011.024.055.028.117.04.177.013.057.034.115.035.172l.002.011v5.912c0 .06-.024.12-.038.18-.012.057-.014.118-.037.17v.006l-.63 1.438a.906.906 0 0 1-.16.241c-.003.005-.004.01-.009.015l-1.2 1.28c-.028.028-.064.04-.095.065-.033.027-.056.064-.094.087l-1.712 1.043c-.038.023-.08.035-.119.052-.015.007-.025.02-.04.025l-2.107.768c-.033.011-.065.01-.097.017-.024.006-.044.021-.07.026l-2.344.374a.84.84 0 0 1-.14.012H24.612h-.002a.821.821 0 0 1-.14-.012l-2.363-.374c-.022-.004-.04-.018-.06-.023-.032-.007-.064-.005-.094-.016l-2.087-.728c-.016-.005-.026-.019-.04-.024-.043-.018-.087-.03-.128-.055l-1.732-1.044c-.039-.024-.062-.06-.097-.088-.03-.025-.067-.037-.095-.067l-1.202-1.28c-.002-.003-.003-.008-.007-.011a.896.896 0 0 1-.158-.239l-.65-1.456c0-.003 0-.006-.002-.007-.024-.056-.028-.122-.04-.182-.012-.057-.034-.113-.034-.17l-.002-.008V22.403c0-.051.021-.1.03-.151.012-.068.016-.139.042-.202l.131-.309-9.362 6.651L49.24 50.924c.3-.107.624-.05.868.154l36.973-26.26-9.322-4.924zm-19.27 15.875V40.16c0 .054-.021.099-.03.15-.011.066-.013.132-.039.198l-.002.002-.608 1.454a.895.895 0 0 1-.168.254c-.005.006-.007.014-.012.019l-1.22 1.28c-.026.027-.06.038-.089.06-.03.024-.048.058-.083.08l-1.712 1.082c-.046.029-.095.045-.143.064-.017.006-.027.02-.044.025l-2.107.73c-.027.009-.056.006-.083.014-.02.004-.035.018-.055.02l-2.343.413a.843.843 0 0 1-.155.015H47.173h-.001a.843.843 0 0 1-.156-.015l-2.344-.413c-.018-.003-.033-.016-.052-.02-.028-.007-.056-.005-.083-.014l-2.125-.729c-.017-.005-.026-.019-.042-.024-.045-.02-.092-.032-.134-.058l-1.713-1.043c-.038-.023-.062-.06-.095-.09-.03-.022-.065-.035-.092-.063l-1.22-1.299c-.003-.002-.004-.007-.006-.01a.881.881 0 0 1-.159-.235l-.65-1.439c-.001-.003 0-.007-.002-.01-.024-.055-.027-.117-.04-.177-.013-.057-.035-.115-.036-.173l-.002-.01V34.29l.001-.005c0-.06.024-.12.037-.18.013-.057.014-.118.038-.17v-.006l.63-1.437c.02-.046.057-.077.084-.118.03-.046.045-.096.084-.137l1.2-1.28c.03-.03.068-.045.1-.07.031-.025.053-.06.089-.083l1.713-1.043c.028-.018.062-.019.092-.033.03-.015.05-.038.082-.049l2.107-.729c.024-.008.049-.003.073-.01.022-.006.041-.02.065-.025l2.342-.413c.027-.005.054.004.08.002.027-.003.05-.016.076-.016h2.422c.025 0 .047.012.071.014.024.002.046-.006.07-.003l2.362.374c.026.004.047.02.072.027.027.006.055 0 .082.01l2.106.73c.034.012.057.037.09.053.032.016.066.018.096.037l1.713 1.082c.032.02.051.053.079.077.03.023.065.035.092.063l1.22 1.28c.036.037.052.085.08.127.027.04.064.07.085.116l.65 1.398.003.014c.026.056.03.119.044.179.012.057.033.114.035.17l.002.016v1.516z\"}}),_c('path',{attrs:{\"d\":\"M55.144 32.278l-1.532-.969-1.936-.67-2.207-.349h-2.277l-2.19.387-1.95.675-1.526.928-1.012 1.079-.492 1.122v1.133l.505 1.119 1.033 1.066 1.536.954 1.959.689 2.19.349h2.274l2.187-.386 1.953-.693 1.53-.915 1.024-1.089.475-1.122v-1.135l-.501-1.08zM50.831 77.08L87.893 50.7V26.449L50.831 52.772zM37.424 11.011l1.029 1.096 1.526.93 1.97.675 2.183.386 2.276-.037 2.197-.351 1.92-.67 1.544-.966 1.012-1.078.478-1.14V8.752l-.49-1.12-1.031-1.08-1.53-.931-1.95-.675-2.181-.385-2.296.037-2.198.351-1.94.67-1.523.947-1.014 1.098-.492 1.12.014 1.099z\"}}),_c('path',{attrs:{\"d\":\"M56.32 39.188c-.036.029-.06.066-.1.09l-1.713 1.025c-.038.022-.08.034-.12.051-.015.006-.024.02-.04.024l-2.108.748c-.028.01-.056.008-.086.016-.02.005-.038.019-.058.022l-2.343.413a.843.843 0 0 1-.156.015h-2.422a.829.829 0 0 1-.14-.012l-2.345-.373c-.022-.004-.04-.02-.063-.024-.031-.007-.063-.004-.094-.016l-2.126-.748c-.017-.006-.028-.019-.044-.026-.044-.019-.09-.032-.131-.058l-1.713-1.063c-.034-.021-.054-.055-.084-.08-.028-.021-.062-.033-.088-.06l-.324-.333v1.207l.509 1.126 1.032 1.099 1.526.93 1.971.675 2.19.386h2.27l2.19-.386 1.943-.672 1.53-.968 1.031-1.079.475-1.136v-1.15l-.275.293c-.028.027-.065.04-.095.064zM37.42 15.433l1.032 1.066 1.534.952 1.959.69 2.19.35h2.28l2.184-.35 1.926-.708 1.55-.933 1.007-1.09.478-1.125v-1.166l-.255.272c-.026.028-.062.04-.092.064-.031.025-.053.06-.088.083l-1.732 1.083c-.044.027-.091.04-.136.06-.016.006-.027.02-.044.026l-2.088.729c-.03.01-.062.009-.094.016-.02.006-.039.019-.061.023l-2.342.374a.88.88 0 0 1-.118.01l-.009.002-2.422.038h-.015a.826.826 0 0 1-.156-.014l-2.342-.413c-.02-.004-.034-.016-.053-.02-.028-.007-.055-.005-.082-.014l-2.126-.73c-.016-.005-.026-.018-.042-.024-.045-.018-.091-.031-.134-.057l-1.712-1.043c-.04-.024-.063-.06-.096-.09-.03-.023-.065-.035-.092-.063l-.313-.333.015 1.216.49 1.12zM19.002 25.907l1.545.932 1.929.672 2.216.389h2.265l2.19-.387 1.943-.671 1.528-.966 1.017-1.084.492-1.123v-1.093l-.51-1.128-1.014-1.098-1.54-.927-1.966-.673-2.192-.351h-2.262l-2.192.35-1.935.67-1.531.968-1.032 1.082-.473 1.116v1.118l.507 1.124zM5.707 54.46L49.03 77.333V52.85L5.707 29.997z\"}}),_c('path',{attrs:{\"d\":\"M19.002 30.337l1.545.932 1.925.671 2.21.35h2.282l2.186-.349 1.94-.707 1.534-.934 1.012-1.078.492-1.123v-1.2l-.274.293c-.027.027-.06.038-.09.062-.031.026-.052.06-.087.083l-1.713 1.082c-.045.03-.094.045-.143.064-.016.006-.027.02-.043.025l-2.107.729c-.028.01-.056.007-.083.014-.02.004-.035.018-.054.02l-2.344.415a.836.836 0 0 1-.156.014h-2.422a.889.889 0 0 1-.155-.014l-2.362-.414c-.022-.003-.038-.018-.059-.022-.027-.007-.055-.005-.082-.014l-2.087-.729c-.016-.005-.026-.018-.04-.024-.043-.018-.087-.03-.128-.055l-1.732-1.044c-.039-.023-.062-.06-.097-.088-.03-.024-.067-.037-.095-.067l-.295-.314v1.201l.508 1.141 1.014 1.08z\"}})])}}};\n\n/***/ }),\n/* 315 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.7 25.4H4.2V9.8h21.5v15.6zM5.8 23.8h18.3V11.4H5.8v12.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M10.6 17.7h1.6v7h-1.6zm7.7-7.1h1.6v7h-1.6zM5 16h3.2v1.6H5z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"14.9\",\"cy\":\"8.4\",\"fill\":\"#fff\",\"r\":\"6.6\"}}),_c('path',{attrs:{\"d\":\"M11.6 8.3l3.3 4 3.4-4h-2.1V4.7h-2.5v3.6z\"}})])}}};\n\n/***/ }),\n/* 316 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M26 14.4c-.3-1.2-1.7-.4-1.7-.5l-4.2 1c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l6.6-4.2c.5-.4.5-1 .2-1.5-.4-.5-1-.5-1.5-.2l-6.6 4.2c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l6.6-5.8c.5-.4.5-1.4.2-1.9-.4-.5-1-.5-1.5-.2L16.9 11c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l3.9-5.5c.5-.4.8-1 .5-1.5-.4-.5-1.3-.5-1.8-.2L15 9l-2.7 2.1c-.1.1-.3.1-.3 0s-.1-.1 0-.2l.6-4.5c.1-.6-.3-1.1-.9-1.2-.6-.1-1.1.3-1.2.9 0 0-1.2 5.7-1.3 6.7-.1.9.4 1.7.5 1.9l4.6 5.9c.4.5 1.3.6 1.9.1l3.5-2.7.6-.5 5.2-1.9c.4-.4.6-.7.5-1.2z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 317 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11.4 26.8H52v28.7H11.4zm13 28.6V41.2m15.7-.2V26.8m5.3 14.1H52m-40.6-1.5H18\",\"fill\":\"none\",\"stroke\":\"#878787\",\"stroke-miterlimit\":\"10\",\"stroke-width\":\"3.252\"}}),_c('path',{attrs:{\"d\":\"M43.3 13.6c0-6.8-5.5-12.3-12.3-12.3-6.8 0-12.3 5.4-12.3 12.2 0 1.4.3 3 .7 4L31 50.4l10.7-30.6c1-1.9 1.6-4 1.6-6.2z\",\"fill\":\"#39b54a\"}}),_c('path',{attrs:{\"d\":\"M36.4 9.6h-3.1V6.5c0-.7-.6-1.2-1.2-1.2h-1.5c-.7 0-1.2.6-1.2 1.2v3.1h-3.1c-.7 0-1.2.6-1.2 1.2v1.5c0 .7.6 1.2 1.2 1.2h3.1v3.1c0 .7.6 1.2 1.2 1.2h1.5c.7 0 1.2-.6 1.2-1.2v-3.1h3.1c.7 0 1.2-.6 1.2-1.2v-1.5c0-.7-.5-1.2-1.2-1.2z\",\"fill\":\"#58595b\"}})])}}};\n\n/***/ }),\n/* 318 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M52.9 52.6H9V20.7h43.9v31.9zm-40.7-3.2h37.4V24H12.2v25.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M22 36.8h3.3V51H22zm15.7-14.4H41v14.2h-3.3zm6.9 12.5h6.6v3.3h-6.6zm-34-1.5h6.6v3.3h-6.6z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"30.2\",\"cy\":\"20.6\",\"fill\":\"#39b54a\",\"r\":\"12.9\"}}),_c('path',{attrs:{\"d\":\"M34.9 18.1h-3.1V15c0-.7-.6-1.2-1.2-1.2h-1.5c-.7 0-1.2.6-1.2 1.2v3.1h-3.1c-.7 0-1.2.6-1.2 1.2v1.5c0 .7.6 1.2 1.2 1.2h3.1v3.1c0 .7.6 1.2 1.2 1.2h1.5c.7 0 1.2-.6 1.2-1.2V22h3.1c.7 0 1.2-.6 1.2-1.2v-1.5c.1-.6-.5-1.2-1.2-1.2z\",\"fill\":\"#58595b\"}})])}}};\n\n/***/ }),\n/* 319 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M52.9 54.3H9V22.4h43.9v31.9zm-40.7-3.2h37.4V25.7H12.2v25.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M22 38.5h3.3v14.2H22zM37.7 24H41v14.2h-3.3zM10.6 35.1h6.6v3.3h-6.6z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"31.8\",\"cy\":\"19.5\",\"fill\":\"#fff\",\"r\":\"13.5\"}}),_c('path',{attrs:{\"d\":\"M24.1 19.3l6.8 8.2 6.9-8.2h-4.3v-7.2h-5.2v7.2z\"}})])}}};\n\n/***/ }),\n/* 320 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.2 13.2L14.8 4.6V10H7.1c-1.4 0-2.5 1.3-2.5 2.9v.5c0 1.6 1.1 2.9 2.5 2.9h7.7v5.3l10.4-8.4z\",\"fill\":\"#39b54a\"}})])}}};\n\n/***/ }),\n/* 321 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.7 25.4H4.2V9.8h21.5v15.6zM5.8 23.8h18.3V11.4H5.8v12.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M10.6 17.7h1.6v7h-1.6zm7.7-7.1h1.6v7h-1.6zM5 16h3.2v1.6H5z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"14.9\",\"cy\":\"8.4\",\"fill\":\"#fff\",\"r\":\"6.6\"}}),_c('path',{attrs:{\"d\":\"M11.6 8.7l3.3-4 3.4 4h-2.1v3.6h-2.5V8.7z\"}})])}}};\n\n/***/ }),\n/* 322 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M15.9 19.6l-2.4-.1c-.2 0-.4-.2-.4-.4v-.7c0-.5-.3-1.1-.8-1.3-.2-.1-.3-.1-.5-.1-.4 0-.8.1-1.1.4l-.5.5c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1L8 16.1c-.2-.2-.2-.4 0-.6l.5-.5c.4-.4.6-1 .4-1.5-.2-.5-.7-.9-1.3-.9h-.7c-.2 0-.4-.2-.4-.4l.1-2.4c0-.2.2-.4.4-.4h.7c.5 0 1.1-.3 1.3-.8.3-.5.2-1.2-.2-1.6l-.5-.5c-.2-.2-.2-.4 0-.6l1.8-1.6c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l.5.5c.2.3.6.4 1 .4.2 0 .3 0 .5-.1.5-.2.9-.7.9-1.3v-.7c0-.2.2-.4.4-.4l2.4.1c.2 0 .4.2.4.4v.7c0 .5.3 1.1.8 1.3.1.1.3.1.5.1.4 0 .8-.1 1.1-.4l.5-.5c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l1.6 1.8c.2.2.1.4 0 .6l-.5.5c-.4.4-.6 1-.4 1.5.2.5.7.9 1.3.9h.7c.2 0 .4.2.4.4l-.1 2.4c0 .2-.2.4-.4.4h-.7c-.5 0-1.1.3-1.3.8-.2.5-.1 1.1.3 1.5l.5.5c.2.2.2.4 0 .6l-1.8 1.6c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1l-.5-.5c-.2-.3-.6-.4-1-.4-.2 0-.3 0-.5.1-.5.2-.9.7-.9 1.3v.7c-.1.4-.3.5-.5.5zm-.9-11c-1.4 0-2.7 1.1-2.7 2.5 0 1.5 1.1 2.7 2.5 2.7 1.5 0 2.7-1.1 2.7-2.5.1-1.5-1-2.7-2.5-2.7z\",\"fill\":\"#aaa\"}})])}}};\n\n/***/ }),\n/* 323 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M14.3 15.2c.8.4 1.6.6 2.6.4-.1.1-.1.2-.2.2L14 18.5c-1.2 1.2-2.7 1.8-4.4 1.3-3.1-.9-3.9-4.6-1.7-7 .9-1 1.9-1.9 2.8-2.8.4-.4.8-.8 1.2-1.1 1.6-1.2 3.9-1.2 5.3 0 .6.5.7 1.2.3 1.7-.4.5-1.1.5-1.7 0-.9-.7-2-.6-2.9.3-1.2 1.1-2.3 2.3-3.4 3.4-.2.2-.3.3-.4.5-.3.5-.4 1-.3 1.5.2 1.1 1.4 1.7 2.4 1.3.4-.2.8-.4 1.2-.7.7-.5 1.2-1.1 1.9-1.7-.1 0 0 0 0 0z\",\"fill\":\"#aaa\"}}),_c('path',{attrs:{\"d\":\"M16.7 7.2c-1-.2-1.8-.3-2.6-.5l.2-.2 2.8-2.8c1.7-1.6 4.1-1.7 5.7-.3 1.8 1.5 1.9 4.2.3 6-1.2 1.4-2.6 2.6-3.9 3.9-1.6 1.5-4 1.5-5.6.2-.2-.2-.4-.5-.5-.8-.1-.5.1-.9.5-1.1.4-.2.8-.2 1.2.1 1.3.9 2.2.8 3.3-.3l3.2-3.2c.4-.5.7-1.1.7-1.8-.1-1.4-1.6-2.2-2.9-1.5-.3.2-.5.4-.8.6-.5.6-1.1 1.2-1.6 1.7z\",\"fill\":\"#aaa\"}})])}}};\n\n/***/ }),\n/* 324 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M15.9 19.6l-2.4-.1c-.2 0-.4-.2-.4-.4v-.7c0-.5-.3-1.1-.8-1.3-.2-.1-.3-.1-.5-.1-.4 0-.8.1-1.1.4l-.5.5c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1L8 16.1c-.2-.2-.2-.4 0-.6l.5-.5c.4-.4.6-1 .4-1.5-.2-.5-.7-.9-1.3-.9h-.7c-.2 0-.4-.2-.4-.4l.1-2.4c0-.2.2-.4.4-.4h.7c.5 0 1.1-.3 1.3-.8.3-.5.2-1.2-.2-1.6l-.5-.5c-.2-.2-.2-.4 0-.6l1.8-1.6c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l.5.5c.2.3.6.4 1 .4.2 0 .3 0 .5-.1.5-.2.9-.7.9-1.3v-.7c0-.2.2-.4.4-.4l2.4.1c.2 0 .4.2.4.4v.7c0 .5.3 1.1.8 1.3.1.1.3.1.5.1.4 0 .8-.1 1.1-.4l.5-.5c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l1.6 1.8c.2.2.1.4 0 .6l-.5.5c-.4.4-.6 1-.4 1.5.2.5.7.9 1.3.9h.7c.2 0 .4.2.4.4l-.1 2.4c0 .2-.2.4-.4.4h-.7c-.5 0-1.1.3-1.3.8-.2.5-.1 1.1.3 1.5l.5.5c.2.2.2.4 0 .6l-1.8 1.6c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1l-.5-.5c-.2-.3-.6-.4-1-.4-.2 0-.3 0-.5.1-.5.2-.9.7-.9 1.3v.7c-.1.4-.3.5-.5.5zm-.9-11c-1.4 0-2.7 1.1-2.7 2.5 0 1.5 1.1 2.7 2.5 2.7 1.5 0 2.7-1.1 2.7-2.5.1-1.5-1-2.7-2.5-2.7z\",\"fill\":\"#aaa\"}})])}}};\n\n/***/ }),\n/* 325 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M4 3v16h22V3H4zm8 14v-6h-2v6H6v-6h2V9H6V5h12v6h2V5h4v5h-2v2h2v5H12z\",\"fill\":\"#b2b2b2\"}})])}}};\n\n/***/ }),\n/* 326 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M13.1 18.4H1.5l9.7-14.8h11.6z\",\"fill\":\"#aaa\"}}),_c('path',{attrs:{\"d\":\"M18.8 18.4H7.2l9.7-14.8h11.6z\",\"fill\":\"#aaa\"}})])}}};\n\n/***/ }),\n/* 327 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 21.5c-3.5 0-6.3-3.1-6.3-7.1 0-4 5.6-10.7 5.9-11L18 3l.4.5c.2.3 5.9 7 5.9 11 0 3.9-2.8 7-6.3 7zm0-16.9c-1.3 1.6-5.3 6.8-5.3 9.9 0 3.5 2.3 6.1 5.3 6.1s5.3-2.6 5.3-6.1c0-3.1-4-8.3-5.3-9.9z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 328 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18.6 6.9l-4 4.9-7.9-9.3-3.5 2.7 8.6 10.1-5.3 6.5h23.8l3.2-6.6-14.9-8.3zm11 14h-21l3.9-4.7.6.8 6 3.6-2.4-6.3-1.3-1.5L19 8.4l13.3 7.5-2.7 5z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 329 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M16.3 7.9l-4.7-5.4L8 5.1l2.4 2.8H8v13h21v-13H16.3zM9 8.9h2.3l6.6 7.7 5.6 3.3H9v-11zm19 11h-4.2l-2.3-6-4.3-5H28v11z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 330 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"data-name\":\"Layer 1\",\"viewBox\":\"0 0 512 512\"}},[_c('g',{attrs:{\"transform\":\"matrix(.8 0 0 .8 1.6 0)\"}},[_c('title',[_v(\"eraser\")]),_c('path',{attrs:{\"d\":\"M509.42 69.18a12.3 12.3 0 0 0-9.77-4.81H254.73a12.18 12.18 0 0 0-6.16 1.72l-.42-.37L41.63 284l-2.19 2.46.26.31a10.6 10.6 0 0 0-1 2.51L.41 432.16a12.31 12.31 0 0 0 11.91 15.46h245c3.92 0 7.42-1.67 11-5.28l201.45-213.4a20.06 20.06 0 0 0 3.55-6.22l36.93-137.87 1.36-5a12.37 12.37 0 0 0-2.19-10.67zM279.55 304.74l-31.71 118.33H28.31L60 304.74h219.55zM473.06 88.93L292.19 280.14h-213L260 88.93h213z\"}})])])}}};\n\n/***/ }),\n/* 331 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 2.7l2.2 3.1h-4.4zM7.3 12l3.2-2.2v4.4zM18 21.9l-2.2-3.2h4.4zM28.7 12l-3.2 2.2V9.8z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M9.5 11.5h17.1v1H9.5z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M17.5 3.7h1v17.1h-1z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 332 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M4.7 13.2L15 21.7v-5.3h7.7c1.4 0 2.5-1.3 2.5-2.9V13c0-1.6-1.1-2.9-2.5-2.9H15V4.6L4.7 13.2z\",\"fill\":\"#bf0049\"}})])}}};\n\n/***/ }),\n/* 333 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20.3 2.4c-4 0-7.2 3.2-7.2 7.1 0 1.6.5 3.1 1.5 4.3l-6.1 6s-.1 2 1.8 1.8c.2-.2 6.2-6.1 6.2-6.1 1.1.7 2.5 1.1 3.9 1.1 4 0 7.2-3.2 7.2-7.1 0-3.9-3.3-7.1-7.3-7.1zm0 13.2c-3.4 0-6.2-2.7-6.2-6s2.8-6 6.2-6c3.4 0 6.2 2.7 6.2 6 0 3.2-2.8 6-6.2 6z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M17.1 8.4h1.8V6.7c0-.4.3-.7.7-.7h.9c.4 0 .7.3.7.7v1.8H23c.4 0 .7.3.7.7v.8c0 .4-.3.7-.7.7h-1.8v1.8c0 .4-.3.7-.7.7h-.9c-.4 0-.7-.3-.7-.7v-1.8h-1.8c-.4 0-.7-.3-.7-.7v-.8c0-.4.4-.8.7-.8z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 334 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21.4 13.8c.9-1.2 1.4-2.6 1.4-4.2 0-3.9-3.2-7-7.1-7-3.9 0-7.1 3.1-7.1 7s3.2 7 7.1 7c1.4 0 2.7-.4 3.9-1.1 0 0 5.9 5.7 6.1 6 1.9.2 1.8-1.8 1.8-1.8l-6.1-5.9zM9.7 9.6c0-3.3 2.7-5.9 6.1-5.9 3.3 0 6.1 2.7 6.1 5.9 0 3.3-2.7 5.9-6.1 5.9-3.4 0-6.1-2.7-6.1-5.9z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M18.9 8.5h-6.4c-.4 0-.8.4-.8.8v1c0 .4.4.8.8.8h6.4c.4 0 .8-.4.8-.8v-1c0-.4-.3-.8-.8-.8z\",\"fill\":\"#fff\"}})])}}};\n\n/***/ }),\n/* 335 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 256 256\"}},[_c('path',{attrs:{\"d\":\"M201.896 183.169l-53.23-53.23a71.682 71.682 0 0 1-18.728 18.727l53.23 53.23a9 9 0 0 0 12.729 0l6-6a9 9 0 0 0 0-12.727z\"}}),_c('path',{attrs:{\"d\":\"M153.668 89.768c0-35.234-28.666-63.9-63.901-63.9-35.234 0-63.9 28.666-63.9 63.9 0 35.234 28.666 63.9 63.9 63.9 35.236 0 63.9-28.666 63.9-63.9zm-63.9 48.6c-26.84 0-48.6-21.76-48.6-48.6s21.76-48.6 48.6-48.6c26.841 0 48.6 21.76 48.6 48.6s-21.759 48.6-48.6 48.6z\"}}),_c('path',{attrs:{\"d\":\"M63 117h54V63H63v54zm10.8-43.2h32.4v32.4H73.8V73.8z\"}})])}}};\n\n/***/ }),\n/* 336 */,\n/* 337 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {XMLHttpRequest:XMLHttpRequest};\n\n/***/ })\n]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.c44efa79e5c05512a34c.js","// OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n// (1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n// (2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n// (3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n// (4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n/* eslint-disable no-new */\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport store from './store/index';\n\nimport timetravel from './store/timetravel';\nimport App from './App.vue';\nimport PrettySelect from './components/PrettySelect.vue';\nimport GenericInput from './components/GenericInput.vue';\n\nVue.component('pretty-select', PrettySelect);\nVue.component('generic-input', GenericInput);\n\nwindow.eventBus = new Vue();\n\n// mount the root vue instance\nwindow.application = new Vue({\n  store,\n  el: '#app',\n  template: '<App/>',\n  components: { App },\n});\n\ntimetravel.init(store);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import _ from 'lodash';\nimport ClipperLib from 'js-clipper';\nimport { dropConsecutiveDups } from '../../../utilities';\n\nexport function distanceBetweenPoints(p1, p2) {\n  const\n    dx = Math.abs(p1.x - p2.x),\n    dy = Math.abs(p1.y - p2.y);\n  return Math.sqrt((dx * dx) + (dy * dy));\n}\n\nexport function fitToAspectRatio(xExtent, yExtent, widthOverHeight, adjustToFit = 'expand') {\n  const\n    xSpan = xExtent[1] - xExtent[0],\n    ySpan = yExtent[1] - yExtent[0],\n    xAccordingToY = ySpan * widthOverHeight,\n    yAccordingToX = xSpan / widthOverHeight,\n    xDiff = xAccordingToY - xSpan,\n    yDiff = yAccordingToX - ySpan;\n\n  // xDiff and yDiff are either both zero (already have correct aspect ratio),\n  // or they have opposite signs.\n\n  if ((xDiff > 0) === (adjustToFit === 'expand')) {\n    // xDiff > 0 and adjustToFit === 'expand ==> this expands region\n    // xDiff <= 0 and adjustToFit !== 'expand' ==> this contracts region\n    return {\n      xExtent: [xExtent[0] - xDiff / 2, xExtent[1] + xDiff / 2],\n      yExtent,\n    };\n  }\n  return {\n    xExtent,\n    yExtent: [yExtent[0] - yDiff / 2, yExtent[1] + yDiff / 2],\n  };\n}\n\nexport function edgeDirection({ start, end }) {\n  // return the angle from east, in radians.\n  const\n    deltaX = end.x - start.x,\n    deltaY = end.y - start.y;\n  return deltaX === 0 ? 0.5 * Math.PI : Math.atan(deltaY / deltaX);\n}\n\nexport function haveSimilarAngles(edge1, edge2) {\n  const\n    angleDiff = edgeDirection(edge1) - edgeDirection(edge2),\n    correctedDiff = Math.min(\n      Math.abs(angleDiff),\n      Math.PI - angleDiff, // To catch angles that are very similar, but opposite directions\n    );\n  return correctedDiff < 0.05 * Math.PI;\n}\nfunction normalize({ dx, dy }) {\n  if (dx === 0 && dy === 0) {\n    return { dx: 0, dy: 0 };\n  }\n  const normalization = Math.sqrt((dx * dx) + (dy * dy));\n  return {\n    dx: dx / normalization,\n    dy: dy / normalization,\n  };\n}\nexport function unitPerpVector(p1, p2) {\n  let dx, dy;\n  if (p1.x !== p2.x) {\n    dy = 1;\n    dx = ((p1.y - p2.y)) / (p1.x - p2.x);\n  } else if (p1.y !== p2.y) {\n    dx = 1;\n    dy = ((p1.x - p2.x)) / (p1.y - p2.y);\n  } else {\n    dx = dy = 1;\n  }\n  return normalize({ dx, dy });\n}\n\nexport function unitVector(p1, p2) {\n  const\n    dx = p2.x - p1.x,\n    dy = p2.y - p1.y;\n  return normalize({ dx, dy });\n}\n\n\n/*\n * given a point and a line (object with two points p1 and p2)\n * return the coordinates of the projection of the point onto the line\n */\nexport function projectionOfPointToLine(point, line) {\n  const { p1: { x: x1, y: y1 }, p2: { x: x2, y: y2 } } = line;\n  const\n    A = point.x - x1,\n    B = point.y - y1,\n    C = x2 - x1,\n    D = y2 - y1,\n    dot = (A * C) + (B * D),\n    lenSq = (C * C) + (D * D) || 2,\n    param = dot / lenSq;\n\n  // projection is an endpoint\n  if (param <= 0) {\n    return line.p1;\n  } else if (param > 1) {\n    return line.p2;\n  }\n\n  return {\n    x: x1 + (param * C),\n    y: y1 + (param * D),\n  };\n}\n\nexport function pointDistanceToSegment(pt, { start, end }) {\n  const proj = projectionOfPointToLine(pt, { p1: start, p2: end });\n  return {\n    dist: distanceBetweenPoints(pt, proj),\n    proj,\n  };\n}\n\nexport function ptsAreCollinear(p1, p2, p3) {\n  const\n    [a, b] = [p1.x, p1.y],\n    [m, n] = [p2.x, p2.y],\n    { x, y } = p3;\n  return Math.abs(((n - b) * (x - m)) - ((y - n) * (m - a))) < 0.00001;\n}\n\nexport function repeatingWindowCenters({ start, end, spacing, width }) {\n  const\n    maxDist = distanceBetweenPoints(start, end),\n    centers = [],\n    direction = unitVector(start, end);\n\n  let nextCenterDist = width / 2;\n  while (nextCenterDist + width / 2 < maxDist) {\n    // we have room to place another window\n    const\n      offX = direction.dx * nextCenterDist,\n      offY = direction.dy * nextCenterDist;\n    centers.push({ x: start.x + offX, y: start.y + offY, distFromStart: nextCenterDist });\n    nextCenterDist += width + (spacing || 1);\n  }\n  if (centers.length === 0) return [];\n  const\n    margin = (\n      (distanceBetweenPoints(centers[centers.length - 1], end) - width / 2)\n      / 2),\n    totalDist = distanceBetweenPoints(start, end),\n    offX = direction.dx * margin,\n    offY = direction.dy * margin;\n\n  // center the group by adjusting each center by margin\n  return centers.map(c => ({\n    x: c.x + offX,\n    y: c.y + offY,\n    alpha: (c.distFromStart + margin) / totalDist,\n  }));\n}\n\n\nconst helpers = {\n  // ************************************ CLIPPER ************************************ //\n  // scaling - see https://sourceforge.net/p/jsclipper/wiki/documentation/#clipperlibclipperoffsetexecute\n  clipScale: 100,\n  // prevent floating point inaccuracies by expanding faces by the offset before performing a clip operation, and then scaling the result back down\n  // https://sourceforge.net/p/jsclipper/wiki/documentation/#clipperoffset\n  offset: 0.01,\n\n  /*\n  * given two sets of points defining two faces\n  * perform the specified operation (intersection, difference, union), return the resulting set of points\n  * return false if the result contains multiple faces (a face was divided in two during the operation)\n  */\n  setOperation(type, f1Points, f2Points) {\n    // translate points for each face into a clipper path\n    const\n      f1Path = f1Points.map(p => ({ X: p.x, Y: p.y })),\n      f2Path = f2Points.map(p => ({ X: p.x, Y: p.y }));\n\n    // offset both paths prior to executing clipper operation to acount for tiny floating point inaccuracies\n    const offset = new ClipperLib.ClipperOffset(),\n      f1PathsOffsetted = new ClipperLib.Paths(),\n      f2PathsOffsetted = new ClipperLib.Paths();\n\n    offset.AddPaths([f1Path], ClipperLib.JoinType.jtMiter, ClipperLib.EndType.etClosedPolygon);\n    offset.Execute(f1PathsOffsetted, this.offset);\n    offset.Clear();\n    offset.AddPaths([f2Path], ClipperLib.JoinType.jtMiter, ClipperLib.EndType.etClosedPolygon);\n    offset.Execute(f2PathsOffsetted, this.offset);\n    offset.Clear();\n\n    // scale paths up before performing operation\n    ClipperLib.JS.ScaleUpPaths(f1PathsOffsetted, this.clipScale);\n    ClipperLib.JS.ScaleUpPaths(f2PathsOffsetted, this.clipScale);\n\n    const\n      cpr = new ClipperLib.Clipper(),\n      resultPathsOffsetted = new ClipperLib.Paths();\n\n    cpr.AddPaths(f1PathsOffsetted, ClipperLib.PolyType.ptSubject, true);\n    cpr.AddPaths(f2PathsOffsetted, ClipperLib.PolyType.ptClip, true);\n\n    const operation =\n      type === 'union' ? ClipperLib.ClipType.ctUnion :\n      type === 'intersection' ? ClipperLib.ClipType.ctIntersection :\n      type === 'difference' ? ClipperLib.ClipType.ctDifference :\n      null;\n    if (operation === null) {\n      throw new Error(`invalid operation \"${type}\". expected union, intersection, or difference`);\n    }\n\n    cpr.Execute(operation, resultPathsOffsetted, ClipperLib.PolyFillType.pftEvenOdd, ClipperLib.PolyFillType.pftEvenOdd);\n\n    // scale down path\n    ClipperLib.JS.ScaleDownPaths(resultPathsOffsetted, this.clipScale);\n\n    // undo offset on resulting path\n    const resultPaths = new ClipperLib.Paths();\n    offset.AddPaths(resultPathsOffsetted, ClipperLib.JoinType.jtMiter, ClipperLib.EndType.etClosedPolygon);\n    offset.Execute(resultPaths, -this.offset);\n\n    // if multiple paths were created, a face has been split and the operation should fail\n    if (resultPaths.length === 1) {\n      // translate into points\n      return resultPaths[0].map(p => ({ x: p.X, y: p.Y }));\n    } else if (resultPaths.length === 0) {\n      return [];\n    }\n    return {\n      error: helpers.clipperPolygonHasHoles(resultPaths) ? 'no holes' : 'no split faces',\n    };\n  },\n\n  clipperPolygonHasHoles(poly) {\n    const\n      outerRing = poly[0].map(r => [r.X, r.Y]),\n      ptFromNextRing = [poly[1][0].X, poly[1][0].Y];\n    // nextRing is either entirely within, or entirely without outerRing.\n    return helpers.inRing(ptFromNextRing, outerRing);\n  },\n  // convenience functions for setOperation\n  intersection(f1, f2) {\n    return this.setOperation('intersection', f1, f2);\n  },\n  union(f1, f2) {\n    return this.setOperation('union', f1, f2);\n  },\n  difference(f1, f2) {\n    return this.setOperation('difference', f1, f2);\n  },\n\n    // given an array of points return the area of the space they enclose\n    areaOfSelection(points) {\n\t\tconst paths = points.map(p => ({ X: p.x, Y: p.y }))\n\t\t// NOTE: clipper will sometimes return 0 area for self intersecting paths, this is fine because they'll fail validation regardless\n\t\treturn ClipperLib.JS.AreaOfPolygon(paths);\n\t},\n\n    // ************************************ PROJECTIONS ************************************ //\n    /*\n     * return the set of saved vertices directly on an edge, not including edge endpoints\n     */\n    splittingVerticesForEdgeId(edge_id, geometry) {\n        const edge = geometry.edges.find(e => e.id === edge_id),\n            edgeV1 = this.vertexForId(edge.v1, geometry),\n            edgeV2 = this.vertexForId(edge.v2, geometry);\n\n        // look up all vertices touching the edge, ignoring the edge's endpoints\n        return geometry.vertices.filter((vertex) => {\n            if ((edge.v1 !== vertex.id && edge.v2 !== vertex.id) &&\n\t\t\t\t!(edgeV1.x === vertex.x && edgeV1.y === vertex.y) &&\n\t\t\t\t!(edgeV2.x === vertex.x && edgeV2.y === vertex.y)\n\t\t\t) {\n                const projection = this.projectionOfPointToLine(vertex, {\n                    p1: edgeV1,\n                    p2: edgeV2\n                });\n                return this.distanceBetweenPoints(vertex, projection) <= 1 / this.clipScale;\n            }\n        });\n    },\n\n    projectionOfPointToLine,\n\n    /*\n     * given two points return the distance between them\n     */\n  distanceBetweenPoints,\n\n\tintersectionOfLines(p1, p2, p3, p4) {\n\t    var eps = 0.0000001;\n\n\t    const between = (a, b, c) => {\n\t\t\treturn ((a - eps) <= b) && (b <= (c + eps));\n\t\t}\n\n        var x = ((p1.x * p2.y - p1.y * p2.x) * (p3.x - p4.x) - (p1.x - p2.x) * (p3.x * p4.y - p3.y * p4.x)) /\n            ((p1.x - p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x - p4.x));\n        var y = ((p1.x * p2.y - p1.y * p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x * p4.y - p3.y * p4.x)) /\n            ((p1.x - p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x - p4.x));\n\n        if (isNaN(x) || isNaN(y) ||\n\t\t\tthis.distanceBetweenPoints({ x, y }, p1) < eps ||\n\t\t\tthis.distanceBetweenPoints({ x, y }, p2) < eps ||\n\t\t\tthis.distanceBetweenPoints({ x, y }, p3) < eps ||\n\t\t\tthis.distanceBetweenPoints({ x, y }, p4) < eps) {\n            return false;\n        } else {\n            if (p1.x >= p2.x) {\n                if (!between(p2.x, x, p1.x)) {\n                    return false;\n                }\n            } else {\n                if (!between(p1.x, x, p2.x)) {\n                    return false;\n                }\n            }\n            if (p1.y >= p2.y) {\n                if (!between(p2.y, y, p1.y)) {\n                    return false;\n                }\n            } else {\n                if (!between(p1.y, y, p2.y)) {\n                    return false;\n                }\n            }\n            if (p3.x >= p4.x) {\n                if (!between(p4.x, x, p3.x)) {\n                    return false;\n                }\n            } else {\n                if (!between(p3.x, x, p4.x)) {\n                    return false;\n                }\n            }\n            if (p3.y >= p4.y) {\n                if (!between(p4.y, y, p3.y)) {\n                    return false;\n                }\n            } else {\n                if (!between(p3.y, y, p4.y)) {\n                    return false;\n                }\n            }\n        }\n        return {\n            x: x,\n            y: y\n        };\n\n\t},\n\n\n    // ************************************ GEOMETRY LOOKUP ************************************ //\n\n    // given a vertex id, find the vertex on the geometry set with that id\n    vertexForId(vertex_id, geometry) {\n        return geometry.vertices.find(v => v.id === vertex_id);\n    },\n\n    // given a set of coordinates, find the vertex on the geometry set within their tolerance zone\n  vertexForCoordinates(coordinates, geometry) {\n    return geometry.vertices.find(v => this.distanceBetweenPoints(v, coordinates) < 0.00001)\n  },\n\n    // given a face id, returns the populated vertex objects reference by edges on that face\n    verticesForFaceId(face_id, geometry) {\n        return geometry.faces.find(f => f.id === face_id)\n            .edgeRefs.map((edgeRef) => {\n                const edge = this.edgeForId(edgeRef.edge_id, geometry),\n                    // look up the vertex associated with v1 unless the edge reference on the face is reversed\n                    vertexId = edgeRef.reverse ? edge.v2 : edge.v1;\n                return this.vertexForId(vertexId, geometry);\n            });\n    },\n\n\n    // given an edge id, find the edge on the geometry set with that id\n    edgeForId(edge_id, geometry) {\n        return geometry.edges.find(e => e.id === edge_id);\n    },\n\n    // given a vertex id returns edges referencing that vertex\n    edgesForVertexId(vertex_id, geometry) {\n        return geometry.edges.filter(e => (e.v1 === vertex_id) || (e.v2 === vertex_id));\n    },\n\n    // given a face id, return the populated edge objects referenced by that face\n    edgesForFaceId(face_id, geometry) {\n        return geometry.faces.find(f => f.id === face_id)\n            .edgeRefs.map(eR => this.edgeForId(eR.edge_id, geometry));\n    },\n\n\n    // given a face id, find the face on the geometry set with that id\n    faceForId(face_id, geometry) {\n        return geometry.faces.find(f => f.id === face_id);\n    },\n\n    // given a vertex id returns all faces with an edge referencing that vertex\n    facesForVertexId(vertex_id, geometry) {\n        return geometry.faces.filter((face) => {\n            return face.edgeRefs.find((edgeRef) => {\n                const edge = this.edgeForId(edgeRef.edge_id, geometry);\n                return (edge.v1 === vertex_id || edge.v2 === vertex_id);\n            });\n        });\n    },\n\n    // given an edge id returns all faces referencing that edge\n    facesForEdgeId(edge_id, geometry) {\n        return geometry.faces.filter(face => face.edgeRefs.find(eR => eR.edge_id === edge_id));\n    },\n\n    pointInFace(point, faceVertices) {\n      const facePoints = faceVertices.map(p => ({ X: p.x, Y: p.y }));\n      const testPoint = { X: point.x, Y: point.y };\n      return !!ClipperLib.Clipper.PointInPolygon(testPoint, facePoints);\n    },\n\n  ptsAreCollinear,\n  syntheticRectangleSnaps(points, rectStart, cursorPt) {\n    // create synthetic snapping points by considering\n    // points that are near to the corners we're not drawing.\n    // Consider the diagram below. We're drawing a rectangle from the top-left\n    // corner ● to the bottom-right corner ○. The top-right, and bottom-left\n    // _could_ snap to nearby points @, but they're not where the cursor is.\n    // so we'll make synthetic points * and snap to those, even though they're\n    // not really part of the geometry.\n    /*\n\n       ●-------------------------------------   @\n       |                                     |    \\\n       |                                     |     |\n       |                                     |     |\n       |                                     |     |\n       |                                     |     |\n       |                                     |     |\n       |                                     |     |\n       |                                     |     |\n       |                                     |     |\n       |                                     |    /\n        -------------------------------------○  *\n\n\n       @                                     *\n        \\                                   /\n         -----------------------------------\n    */\n\n    // We will reflect each point across both the horizontal and vertical\n    // midlines of the rectangle.\n    const xMid = (rectStart.x + cursorPt.x) / 2;\n    const yMid = (rectStart.y + cursorPt.y) / 2;\n\n    return [\n      ...points.map(({ x, y }) => (\n        { y, x: x + (2 * (xMid - x)), synthetic: true, originalPt: { x, y } })),\n      ...points.map(({ x, y }) => (\n        { x, y: y + (2 * (yMid - y)), synthetic: true, originalPt: { x, y } })),\n    ];\n  },\n  edgeDirection,\n  haveSimilarAngles,\n  pointDistanceToSegment,\n\n  exceptFace(geometry, face_id) {\n    if (!face_id) { return geometry; }\n    return {\n      ...geometry,\n      faces: _.reject(geometry.faces, { id: face_id }),\n    };\n  },\n\n  denormalize(geometry) {\n    const\n      edges = geometry.edges.map(edge => ({\n        ...edge,\n        v1: this.vertexForId(edge.v1, geometry),\n        v2: this.vertexForId(edge.v2, geometry),\n      })),\n      edgesById = _.zipObject(\n        _.map(edges, 'id'),\n        edges),\n      faces = geometry.faces.map(face => ({\n        id: face.id,\n        edges: face.edgeRefs.map(({ edge_id, reverse }) => ({\n          ...edgesById[edge_id],\n          edge_id,\n          reverse,\n        })),\n        get vertices() {\n          return dropConsecutiveDups(\n            _.flatMap(this.edges, e => (e.reverse ? [e.v2, e.v1] : [e.v1, e.v2])),\n            v => v.id);\n        },\n      }));\n    return {\n      ...geometry,\n      edges,\n      faces,\n    };\n  },\n\n  // probably best to use this only for testing\n  normalize(geometry) {\n    const\n      edges = _.uniqBy(\n        [\n          ...geometry.edges,\n          ..._.flatMap(geometry.faces, f => f.edges),\n        ], 'id'),\n      vertices = _.uniqBy(\n        [\n          ...geometry.vertices,\n          ..._.flatMap(edges, e => [e.v1, e.v2]),\n        ], 'id');\n    return {\n      id: geometry.id,\n      vertices: vertices.map(v => _.pick(v, ['id', 'x', 'y'])),\n      edges: edges.map(e => ({\n        id: e.id,\n        v1: e.v1.id,\n        v2: e.v2.id,\n      })),\n      faces: geometry.faces.map(f => ({\n        id: f.id,\n        edgeRefs: f.edges.map(er => ({ edge_id: er.id, reverse: er.reverse })),\n      })),\n    };\n  },\n};\n\nfunction isPointCoord(coord) {\n  return coord.length === 2 && _.isNumber(coord[0]) && _.isNumber(coord[1]);\n}\n\nfunction isRingCoords(coords) {\n  return coords.length >= 1 && _.every(coords, isPointCoord);\n}\n\nfunction isPolygonCoords(coords) {\n  return coords.length >= 1 && _.every(coords, isRingCoords);\n}\n\n// Many of the below geometry functions are copyright 2017 TurfJS, MIT License.\n\n// http://en.wikipedia.org/wiki/Even%E2%80%93odd_rule\n// modified from: https://github.com/Turfjs/turf/blob/master/packages/turf-inside/index.js\n// which was modified from https://github.com/substack/point-in-polygon/blob/master/index.js\n// which was modified from http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\nhelpers.inside = function (pt, poly, ignoreBoundary = false) {\n  // validation\n  if (!isPointCoord(pt)) throw new Error(`point does not have correct coords: ${pt}`);\n  if (!isPolygonCoords(poly)) throw new Error(`polygon does not have correct coords: ${poly}`);\n\n  const bbox = helpers.bboxOfRing(poly[0]);\n\n  // Quick elimination if point is not inside bbox\n  if (bbox && helpers.inBBox(pt, bbox) === false) return false;\n\n  let insidePoly = false;\n  for (let i = 0; i < poly.length && !insidePoly; i++) {\n    // check if it is in the outer ring first\n    if (helpers.inRing(pt, poly[0], ignoreBoundary)) {\n      let inHole = false;\n      let k = 1;\n      // check for the point in any of the holes\n      while (k < poly.length && !inHole) {\n        if (helpers.inRing(pt, poly[k], !ignoreBoundary)) {\n          inHole = true;\n        }\n        k++;\n      }\n      if (!inHole) insidePoly = true;\n    }\n  }\n  return insidePoly;\n};\n\nhelpers.bboxOfRing = function (ring) {\n  // a bbox is [west, south, east, north]\n  return [\n    _.min(_.map(ring, 0)),\n    _.min(_.map(ring, 1)),\n    _.max(_.map(ring, 0)),\n    _.max(_.map(ring, 1)),\n  ];\n};\n\n/**\n * inRing\n *\n * @private\n * @param {[number, number]} pt [x,y]\n * @param {Array<[number, number]>} ring [[x,y], [x,y],..]\n * @param {boolean} ignoreBoundary ignoreBoundary\n * @returns {boolean} inRing\n */\nhelpers.inRing = function (pt, ring, ignoreBoundary) {\n  let isInside = false;\n  if (ring[0][0] === ring[ring.length - 1][0] && ring[0][1] === ring[ring.length - 1][1]) ring = ring.slice(0, ring.length - 1);\n\n  for (let i = 0, j = ring.length - 1; i < ring.length; j = i++) {\n    const xi = ring[i][0], yi = ring[i][1];\n    const xj = ring[j][0], yj = ring[j][1];\n    const onBoundary = (pt[1] * (xi - xj) + yi * (xj - pt[0]) + yj * (pt[0] - xi) === 0) &&\n      ((xi - pt[0]) * (xj - pt[0]) <= 0) && ((yi - pt[1]) * (yj - pt[1]) <= 0);\n    if (onBoundary) return !ignoreBoundary;\n    const intersect = ((yi > pt[1]) !== (yj > pt[1])) &&\n      (pt[0] < (xj - xi) * (pt[1] - yi) / (yj - yi) + xi);\n    if (intersect) isInside = !isInside;\n  }\n  return isInside;\n};\n\nexport function vertInRing(vert, ring) {\n  const toLst = ({ x, y }) => [x, y];\n  return helpers.inRing(toLst(vert), ring.map(toLst));\n}\n\nexport default helpers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/helpers.js","import map from './libconfig';\n\nconst helpers = {\n\n  /*\n  * each library object type has\n  * displayName - for use in the type dropdown\n  * init - method to initialize a new object of the parent type (story and space do not have init functions and will be omitted from the CreateO)\n  * keymap - contains displayName and accessor for each property on objects of parent type\n  */\n  map: map,\n\n  /*\n  * returns the displayName for a given key on an object type\n  * return null if the key is private\n  * return the unchanged keyname for custom user defined keys\n  */\n  displayNameForKey(type, key) {\n    if (this.map[type].keymap[key]) {\n      return this.map[type].keymap[key].private ? null : this.map[type].keymap[key].displayName;\n    }\n    return key;\n  },\n\n  /*\n  * returns the value for a given key on an object type\n  * if the keymap includes a get() method for the key, its return value will be used\n  */\n  valueForKey(object, state, type, key) {\n    if (this.map[type].keymap[key] && this.map[type].keymap[key].get) {\n      return this.map[type].keymap[key].get(object, state);\n    }\n    return object[key];\n  },\n\n  /*\n  * dispatches an action to set the value for a key on an object\n  * if a validator is defined for the object type + key being changed, call the validator before dispatching the action\n  * if validation fails, return { success: false, error: 'validator error message' }\n  * if validation passes or no validator exists (custom user defined keys), return { success: true }\n  */\n  setValueForKey(object, store, type, key, value) {\n    const result = { success: true };\n\n    // if a validator is defined for the key, run it and store the result\n    if (this.map[type].keymap[key] && this.map[type].keymap[key].validator) {\n      const validationResult = this.map[type].keymap[key].validator(object, store, value, type);\n      result.success = validationResult.success;\n      if (!validationResult.success) {\n        result.error = validationResult.error;\n        return result;\n      }\n    }\n    if (this.map[type].keymap[key] && this.map[type].keymap[key].converter) {\n      value = this.map[type].keymap[key].converter(value);\n    }\n    // dispatch the correct action to update the specified type\n    if (type === 'stories') {\n      store.dispatch('models/updateStoryWithData', {\n        story: object,\n        [key]: value,\n      });\n    } else if (type === 'spaces') {\n      store.dispatch('models/updateSpaceWithData', {\n        space: object,\n        [key]: value,\n      });\n    } else if (type === 'shading') {\n      store.dispatch('models/updateShadingWithData', {\n        shading: object,\n        [key]: value,\n      });\n    } else if (type === 'images') {\n      store.dispatch('models/updateImageWithData', {\n        image: object,\n        [key]: value,\n      });\n    } else if (type === 'window_definitions') {\n      store.dispatch('models/updateWindowDefinitionWithData', {\n        object,\n        [key]: value,\n      });\n    } else {\n      store.dispatch('models/updateObjectWithData', {\n        object,\n        [key]: value,\n      });\n    }\n\n    return result;\n  },\n\n  inputTypeForKey(type, key) {\n    return this.map[type].keymap[key] && !this.map[type].keymap[key].readonly ? this.map[type].keymap[key].input_type : null;\n  },\n\n  selectOptionsForKey(object, state, type, key) {\n    return this.map[type].keymap[key] && !this.map[type].keymap[key].readonly && this.map[type].keymap[key].input_type === 'select' ? this.map[type].keymap[key].select_data(object, state) : [];\n  },\n\n\n  /*\n  * searches local state's library, stories, spaces, and shading for an object with a given id\n  */\n  libraryObjectWithId(state, id) {\n      var result;\n      // search the library\n      for (var type in state.library) {\n          if (state.library.hasOwnProperty(type) && !result && state.library[type].find(i => i.id === id)) {\n              result = state.library[type].find(i => i.id === id);\n              result.type = type;\n          }\n      }\n      // search stories\n      if (!result && state.stories.find(s => s.id === id)) {\n          result = state.stories.find(s => s.id === id);\n          result.type = 'story';\n      }\n      // search spaces, shading, and images\n      if (!result) {\n          for (var i = 0; i < state.stories.length; i++) {\n              const story = state.stories[i];\n              if (!result && story.spaces.find(s => s.id === id)) {\n                  result = story.spaces.find(s => s.id === id);\n                  result.type = 'space';\n              }\n              if (!result && story.shading.find(s => s.id === id)) {\n                  result = story.shading.find(s => s.id === id);\n                  result.type = 'shading';\n              }\n              if (!result && story.images.find(i => i.id === id)) {\n                  result = story.images.find(i => i.id === id);\n                  result.type = 'image';\n              }\n          }\n      }\n      return result;\n  },\n\n  /*\n  * searches local state's stories, shading, and spaces for an object with a given face id\n  */\n  modelForFace(state, face_id) {\n      for (var i = 0; i < state.stories.length; i++) {\n          const story = state.stories[i],\n              shading = story.shading.find(s => s.face_id === face_id),\n              space = story.spaces.find(s => s.face_id === face_id);\n          if (shading) {\n              shading.type = 'shading';\n              return shading;\n          } else if (space) {\n              space.type = 'space';\n              return space;\n          }\n      }\n  },\n\n  /*\n  * Generate new unique name\n  */\n  generateName(state, type, story) {\n    const models = this.modelsForType(state, type);\n    let prefix = `${map[type].displayName} `;\n    if (story) {\n      const level = state.stories.findIndex(s => s.id === story.id) + 1;\n      prefix = prefix.concat(`${level} - `);\n    }\n\n    let name = '';\n    let i = 1;\n    while (!name) {\n      name = prefix + i;\n      if (models.find(m => m.name === name)) { name = ''; }\n      i += 1;\n    }\n\n    return name;\n  },\n\n  /*\n  * return all models in the library for a given type\n  * if type is shading, spaces, or images\n  */\n  modelsForType(state, type) {\n    switch (type) {\n      case 'stories':\n        return state.stories;\n      // accumulate from all stories\n      case 'shading':\n      case 'spaces':\n      case 'images':\n        return state.stories.reduce((accum, s) => accum.concat(s[type]), []);\n      // 'building_units', 'thermal_zones', 'space_types', 'construction_sets', 'window_definitions', 'daylighting_control_definitions':\n      default:\n        return state.library[type];\n    }\n  },\n};\nexport default helpers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/helpers.js","\nexport const assignableProperties = ['building_units', 'thermal_zones', 'space_types', 'construction_sets', 'pitched_roofs'];\nexport const componentTypes = ['window_definitions', 'daylighting_control_definitions'];\n\nconst config = {\n  // map modes to displaynames\n  modes: {\n    stories: 'Story',\n    images: 'Image',\n    spaces: 'Space',\n    shading: 'Shading',\n    building_units: 'Building Unit',\n    thermal_zones: 'Thermal Zone',\n    space_types: 'Space Type',\n    pitched_roofs: 'Pitched Roof',\n    construction_sets: 'Construction Set',\n    window_definitions: 'Window Definitions',\n    daylighting_control_definitions: 'Daylighting Control Definitions',\n  },\n  componentTypes,\n  assignableProperties,\n  palette: {\n    shading: '#E8E3E5',\n    neutral: '#bbc3c7',\n    // colors to associate with new models\n    colors: [\n      '#a49',\n      '#8ce',\n      '#328',\n      '#173',\n      '#993',\n      '#dc7',\n      '#c67',\n      '#825',\n      '#4a9',\n      '#69c',\n      '#610',\n      '#a46',\n    ],\n  },\n};\n\nexport default config;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/application/appconfig.js","import _ from 'lodash';\nimport map, { assignableProperties } from './appconfig';\n\nexport function displayNameForMode(mode) {\n  return map.modes[mode];\n}\n\nconst helpers = {\n  // TODO: refactor\n  // returns the displayName for a given mode\n  displayNameForMode,\n  config: map,\n};\nexport default helpers;\n\n\nexport function componentInstanceById(currStory, compInstId) {\n  const windew = _.find(currStory.windows, { id: compInstId });\n  if (windew) { return { ...windew, type: 'windows' }; }\n\n  const dc = _.find(_.flatMap(currStory.spaces, s => s.daylighting_controls), { id: compInstId });\n  if (dc) { return { ...dc, type: 'daylighting_controls' }; }\n\n  return null;\n}\n\nexport function spacePropertyById(library, spacePropId) {\n  let type, prop;\n  assignableProperties.some((ap) => {\n    if ((prop = _.find(library[ap], { id: spacePropId }))) {\n      type = ap;\n    }\n    return !!prop;\n  });\n\n  return prop ? { ...prop, type } : null;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/application/helpers.js","var id = 1;\nexport default {\n    setId (newVal) {\n        id = newVal;\n    },\n\n    generate: (function () {\n        return () => String(id++)\n    })()\n}\n\nconst nameCounts = {};\nexport function genName(prefix) {\n  const nextSuffix = (nameCounts[prefix] || 0) + 1;\n  nameCounts[prefix] = nextSuffix;\n  return `${prefix} - ${nextSuffix}`;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/generateId.js","import _ from 'lodash';\nimport factory from './factory';\nimport validators from './validators';\nimport * as converters from './converters';\n\n/*\n* each library object type has\n* displayName - for use in the library Type dropdown\n* init - method to initialize a new object of the given type\n* keymap - contains displayName and accessor for each property on objects of the given type\n*/\nconst map = {\n  building_units: {\n    displayName: 'Building Unit',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n        validator: validators.color,\n      },\n    ],\n    init: factory.BuildingUnit,\n  },\n  thermal_zones: {\n    displayName: 'Thermal Zone',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n        validator: validators.color,\n      },\n    ],\n    init: factory.ThermalZone,\n  },\n  window_definitions: {\n    displayName: 'Window',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'window_definition_type',\n        displayName: 'Type',\n        input_type: 'select',\n        select_data() {\n          const options = ['Single Window', 'Repeating Windows', 'Window to Wall Ratio'];\n          return _.zipObject(options, options);\n        },\n        validator: validators.oneOf('Single Window', 'Repeating Windows', 'Window to Wall Ratio'),\n      },\n      {\n        name: 'wwr',\n        displayName: 'Window to Wall ratio',\n        input_type: 'text',\n        validator: validators.halfOpenInterval(0, 1),\n        converter: converters.number,\n        numeric: true,\n        enabled(row) {\n          return row.window_definition_type === 'Window to Wall Ratio';\n        },\n      },\n      {\n        name: 'height',\n        displayName: 'Height',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n        enabled(row) {\n          return row.window_definition_type === 'Single Window' ||\n                 row.window_definition_type === 'Repeating Windows';\n        },\n      },\n      {\n        name: 'width',\n        displayName: 'Width',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n        enabled(row) {\n          return row.window_definition_type === 'Single Window' ||\n                 row.window_definition_type === 'Repeating Windows';\n        },\n      },\n      {\n        name: 'sill_height',\n        displayName: 'Sill Height',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'window_spacing',\n        displayName: 'Spacing',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n        enabled(row) {\n          return row.window_definition_type === 'Repeating Windows';\n        },\n      },\n      {\n        name: 'overhang_projection_factor',\n        displayName: 'Overhang Projection Factor',\n        input_type: 'text',\n        validator: validators.gt0orNull,\n        converter: converters.gt0orNull,\n        numeric: true,\n      },\n      {\n        name: 'fin_projection_factor',\n        displayName: 'Fin Projection Factor',\n        input_type: 'text',\n        validator: validators.gt0orNull,\n        converter: converters.gt0orNull,\n        numeric: true,\n      },\n      {\n        name: 'total_count',\n        displayName: 'Total Count',\n        readonly: true,\n        numeric: true,\n        get(windowDefn, state) {\n          return _.chain(state.models.stories)\n            .flatMap('windows')\n            .filter({ window_definition_id: windowDefn.id })\n            .value()\n            .length;\n        },\n      },\n    ],\n    init: factory.WindowDefn,\n  },\n  space_types: {\n    displayName: 'Space Type',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n        validator: validators.color,\n      },\n    ],\n    init: factory.SpaceType,\n  },\n  construction_sets: {\n    displayName: 'Construction Set',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n        validator: validators.color,\n      },\n    ],\n    init: factory.ConstructionSet,\n  },\n  daylighting_control_definitions: {\n    displayName: 'Daylighting Control',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'height',\n        displayName: 'Height',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'illuminance_setpoint',\n        displayName: 'Illuminance Setpoint (lux)',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'total_count',\n        displayName: 'Total Count',\n        readonly: true,\n        numeric: true,\n        get(dcDefn, state) {\n          return _.chain(state.models.stories)\n            .flatMap('spaces')\n            .flatMap('daylighting_controls')\n            .filter({ daylighting_control_definition_id: dcDefn.id })\n            .value()\n            .length;\n        },\n      },\n    ],\n    init: factory.DaylightingControlDefn,\n  },\n  stories: {\n    displayName: 'Story',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'handle',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'geometry_id',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'below_floor_plenum_height',\n        displayName: 'Below Floor Plenum Height',\n        input_type: 'text',\n        converter: converters.number,\n        numeric: true,\n        validator: validators.number,\n      },\n      {\n        name: 'above_floor_plenum_height',\n        displayName: 'Above Floor Plenum Height',\n        input_type: 'text',\n        converter: converters.number,\n        numeric: true,\n        validator: validators.number,\n      },\n      {\n        name: 'floor_to_ceiling_height',\n        displayName: 'Floor To Ceiling Height',\n        input_type: 'text',\n        converter: converters.number,\n        numeric: true,\n        validator: validators.gt0,\n      },\n      {\n        name: 'multiplier',\n        displayName: 'Multiplier',\n        input_type: 'text',\n        converter: converters.number,\n        numeric: true,\n        validator: validators.gt0,\n      },\n      {\n        name: 'spaces',\n        displayName: 'Spaces',\n        readonly: true,\n        numeric: true,\n        get(story, state) {\n          return story.spaces.length;\n        },\n      },\n      {\n        name: 'shading',\n        displayName: 'Shading',\n        readonly: true,\n        numeric: true,\n        get(story, state) {\n          return story.shading.length;\n        },\n      },\n      {\n        name: 'images',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n        validator: validators.color,\n      },\n    ],\n  },\n  spaces: {\n    displayName: 'Space',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'handle',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'face_id',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'daylighting_controls',\n        displayName: 'Daylighting Controls',\n        readonly: true,\n        private: true,\n        get(space, state) {\n          return space.daylighting_controls.map(d => d.name)\n          .join(', ');\n        },\n      },\n      {\n        name: 'story',\n        displayName: 'Story',\n        readonly: true,\n        get(space, state) {\n          const story = state.models.stories.find((story) => {\n            return ~story.spaces.map(s => s.id)\n            .indexOf(space.id);\n          });\n          return story.name;\n        },\n      },\n      {\n        name: 'building_unit_id',\n        displayName: 'Building Unit',\n        input_type: 'select',\n        select_data(space, state) {\n          const options = { '(none)': null };\n          state.models.library.building_units.forEach((b) => { options[b.name] = b.id; });\n          return options;\n        },\n        get(space, state) {\n          const buildingUnit = state.models.library.building_units.find(b => b.id === space.building_unit_id);\n          return buildingUnit ? buildingUnit.name : null;\n        },\n      },\n      {\n        name: 'thermal_zone_id',\n        displayName: 'Thermal Zone',\n        input_type: 'select',\n        select_data(space, state) {\n          const options = { '(none)': null };\n          state.models.library.thermal_zones.forEach((t) => { options[t.name] = t.id; });\n          return options;\n        },\n        get(space, state) {\n          const thermalZone = state.models.library.thermal_zones.find(b => b.id === space.thermal_zone_id);\n          return thermalZone ? thermalZone.name : null;\n        },\n      },\n      {\n        name: 'space_type_id',\n        displayName: 'Space Type',\n        input_type: 'select',\n        select_data(space, state) {\n          const options = { '(none)': null };\n          state.models.library.space_types.forEach((s) => { options[s.name] = s.id; });\n          return options;\n        },\n        get(space, state) {\n          const spaceType = state.models.library.space_types.find(s => s.id === space.space_type_id);\n          return spaceType ? spaceType.name : null;\n        },\n      },\n      {\n        name: 'construction_set_id',\n        displayName: 'Construction Set',\n        input_type: 'select',\n        select_data(space, state) {\n          const options = { '(none)': null };\n          state.models.library.construction_sets.forEach((c) => { options[c.name] = c.id; });\n          return options;\n        },\n        get(space, state) {\n          const constructionSet = state.models.library.construction_sets.find(c => c.id === space.construction_set_id);\n          return constructionSet ? constructionSet.name : null;\n        },\n      },\n      {\n        name: 'pitched_roof_id',\n        displayName: 'Pitched Roof',\n        input_type: 'select',\n        select_data(space, state) {\n          return {\n            '(none)': null,\n            ..._.fromPairs(\n              state.models.library.pitched_roofs\n              .map(prt => [prt.name, prt.id])),\n          };\n        },\n        get(space, state) {\n          const prt = _.find(state.models.library.pitched_roofs, { id: space.pitched_roof_id });\n          return prt ? prt.name : null;\n        },\n      },\n      {\n        name: 'below_floor_plenum_height',\n        displayName: 'Below Floor Plenum Height',\n        input_type: 'text',\n        numeric: true,\n        validator: validators.number,\n        converter: converters.number,\n      },\n      {\n        name: 'floor_to_ceiling_height',\n        displayName: 'Floor to Ceiling Height',\n        input_type: 'text',\n        numeric: true,\n        validator: validators.number,\n        converter: converters.number,\n      },\n      {\n        name: 'above_ceiling_plenum_height',\n        displayName: 'Above Ceiling Plenum Height',\n        input_type: 'text',\n        numeric: true,\n        validator: validators.number,\n        converter: converters.number,\n      },\n      {\n        name: 'floor_offset',\n        displayName: 'Floor Offset',\n        input_type: 'text',\n        numeric: true,\n        validator: validators.number,\n        converter: converters.number,\n      },\n      {\n        name: 'open_to_below',\n        displayName: 'Open To Below',\n        input_type: 'select',\n        select_data() {\n          return { False: false, True: true };\n        },\n        converter: converters.bool,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n        validator: validators.color,\n      },\n    ],\n  },\n  shading: {\n    displayName: 'Shading',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'handle',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'face_id',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'color',\n        readonly: true,\n        private: true,\n      },\n    ],\n  },\n  images: {\n    displayName: 'Image',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        readonly: true,\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n        validator: validators.name,\n      },\n      {\n        name: 'height',\n        displayName: 'Height',\n        input_type: 'text',\n        validator: validators.number,\n      },\n      {\n        name: 'z',\n        displayName: 'z',\n        input_type: 'text',\n        validator: validators.number,\n        private: true,\n      },\n      {\n        name: 'opacity',\n        displayName: 'opacity',\n        input_type: 'text',\n        validator: validators.closedInterval(0, 1),\n      },\n\n      {\n        name: 'x',\n        displayName: 'x',\n        input_type: 'text',\n        validator: validators.number,\n      },\n\n      {\n        name: 'y',\n        displayName: 'y',\n        input_type: 'text',\n        validator: validators.number,\n      },\n      {\n        name: 'src',\n        readonly: true,\n        private: true,\n      },\n    ],\n  },\n  windows: {\n    displayName: 'Window',\n    columns: [\n      {\n        name: 'id',\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n      },\n      {\n        name: 'window_definition_id',\n        displayName: 'Definition',\n        input_type: 'select',\n        select_data(space, state) {\n          return _.fromPairs(state.models.library.window_definitions.map(b => [b.name, b.id]));\n        },\n      },\n    ],\n  },\n  daylighting_controls: {\n    displayName: 'Daylighting Control',\n    columns: [\n      {\n        name: 'id',\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n      },\n      {\n        name: 'daylighting_control_definition_id',\n        displayName: 'Definition',\n        input_type: 'select',\n        select_data(space, state) {\n          return _.fromPairs(state.models.library.daylighting_control_definitions.map(b => [b.name, b.id]));\n        },\n      },\n    ],\n  },\n  pitched_roofs: {\n    displayName: 'Pitched Roof',\n    columns: [\n      {\n        name: 'id',\n        displayName: 'ID',\n        private: true,\n      },\n      {\n        name: 'name',\n        displayName: 'Name',\n        input_type: 'text',\n      },\n      {\n        name: 'pitched_roof_type',\n        displayName: 'Type',\n        input_type: 'select',\n        select_data() {\n          const options = ['Gable', 'Hip', 'Shed'];\n          return _.zipObject(options, options);\n        },\n        validator: validators.oneOf('Gable', 'Hip', 'Shed'),\n      },\n      {\n        name: 'pitch',\n        displayName: 'Pitch',\n        input_type: 'text',\n        validator: validators.gt0,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'shed_direction',\n        displayName: 'Shed Direction',\n        input_type: 'text',\n        validator: validators.number,\n        converter: converters.number,\n        numeric: true,\n      },\n      {\n        name: 'color',\n        displayName: 'Color',\n        input_type: 'color',\n      },\n    ],\n    init: factory.PitchedRoof,\n  },\n};\n\nObject.keys(map).forEach((k) => {\n  map[k].keymap = _.zipObject(\n    _.map(map[k].columns, 'name'),\n    map[k].columns);\n});\n\nexport default map;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/libconfig.js","// OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n// (1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n// (2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n// (3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n// (4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\nimport _ from 'lodash';\n\nexport function debounce(func, wait) {\n    var timeout;\n\n    return function(...args) {\n        clearTimeout(timeout);\n\n        timeout = setTimeout(() => {\n            timeout = null;\n            func.apply(this, args);\n        }, wait);\n    };\n};\n\nexport function uniq(arr, key = JSON.stringify) {\n  const alreadySeen = {};\n  return arr.filter((elem) => {\n    const theKey = key(elem);\n    if (alreadySeen[theKey]) {\n      return false;\n    } else {\n      alreadySeen[theKey] = true;\n      return true;\n    }\n  });\n}\n\nexport function allPairs(elems) {\n  return _.flatten(\n    elems.map(\n      (p, ix) => elems.slice(ix + 1).map(\n        p2 => ([p, p2]))));\n}\n\nexport function dropConsecutiveDups(arr, key = JSON.stringify) {\n  return arr.filter((item, pos) => (\n    pos === 0 || key(item) !== key(arr[pos - 1])\n  ));\n}\n\n// get all siblings for a node\nexport function getSiblings(el) {\n  const siblings = [];\n  for (let sibling = el.parentNode.firstChild; sibling; sibling = sibling.nextSibling) {\n    if (sibling.nodeType === 1 && sibling !== el) { siblings.push(sibling); }\n  }\n  return siblings;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-8f6e6820&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PrettySelect.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PrettySelect.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-8f6e6820!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PrettySelect.vue\"),\n  /* scopeId */\n  \"data-v-8f6e6820\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PrettySelect.vue\n// module id = 45\n// module chunks = 1","import _ from 'lodash';\nimport { distanceBetweenPoints, pointDistanceToSegment, edgeDirection, vertInRing } from '../../store/modules/geometry/helpers';\n\nexport function gridSnapTargets(gridSpacing, { x, y }) {\n  return [\n    { x: Math.floor(x / gridSpacing) * gridSpacing, y: Math.floor(y / gridSpacing) * gridSpacing },\n    { x: (Math.floor(x / gridSpacing) + 1) * gridSpacing, y: Math.floor(y / gridSpacing) * gridSpacing },\n    { x: Math.floor(x / gridSpacing) * gridSpacing, y: (Math.floor(y / gridSpacing) + 1) * gridSpacing },\n    { x: (Math.floor(x / gridSpacing) + 1) * gridSpacing, y: (Math.floor(y / gridSpacing) + 1) * gridSpacing },\n  ].map(t => ({ ...t, type: 'grid' }));\n}\n\nfunction vertexSnapTargets(vertices, gridSpacing, location) {\n  return vertices\n    .filter(v => distanceBetweenPoints(location, v) <= gridSpacing)\n    .map(v => ({ ...v, type: 'vertex' }));\n}\n\nexport function snapTargets(vertices, gridSpacing, cursor) {\n  const targets = [\n    ...gridSnapTargets(gridSpacing, cursor),\n    ...vertexSnapTargets(vertices, gridSpacing, cursor),\n  ].map(\n    target => ({\n      ...target,\n      dist: distanceBetweenPoints(target, cursor),\n      dx: cursor.x - target.x,\n      dy: cursor.y - target.y,\n    }));\n\n  return _.orderBy(targets, ['dist', 'origin', 'type'], ['asc', 'asc', 'desc']);\n}\n\nexport function expandWindowAlongEdge(edge, center, { width, spacing, window_definition_type }) {\n  if (window_definition_type === 'Window to Wall Ratio' ||\n      window_definition_type === 'Repeating Windows'\n  ) {\n    return {\n      edge_id: edge.id,\n      center: {\n        x: (edge.v1.x + edge.v2.x) / 2,\n        y: (edge.v1.y + edge.v2.y) / 2,\n      },\n      edge_start: edge.v1,\n      alpha: 0.5,\n      start: edge.v1,\n      end: edge.v2,\n      window_definition_type,\n      width,\n      spacing,\n    };\n  }\n  const\n    theta = edgeDirection({ start: edge.v1, end: edge.v2 }),\n    windowDeltaX = (width * Math.cos(theta)) / 2,\n    windowDeltaY = (width * Math.sin(theta)) / 2,\n    alpha = edge.v2.x === edge.v1.x ?\n      (center.y - edge.v1.y) / (edge.v2.y - edge.v1.y) :\n      (center.x - edge.v1.x) / (edge.v2.x - edge.v1.x);\n  return {\n    edge_id: edge.id,\n    center,\n    edge_start: edge.v1,\n    alpha,\n    start: {\n      x: center.x - windowDeltaX,\n      y: center.y - windowDeltaY,\n    },\n    end: {\n      x: center.x + windowDeltaX,\n      y: center.y + windowDeltaY,\n    },\n    window_definition_type,\n  };\n}\n\nexport function findClosestEdge(edges, cursor) {\n  const\n    withDistance = edges.map(e => ({\n      ...e,\n      ...pointDistanceToSegment(cursor, { start: e.v1, end: e.v2 }),\n    })),\n    closestEdge = _.minBy(withDistance, 'dist');\n  return closestEdge;\n}\n\nexport function findClosestWindow(windows, cursor) {\n  const withDistance = windows.map((w) => {\n    // single windows calculate distance to center,\n    // repeating and wwr calculate distance to the edge they live on\n    const dist = w.window_definition_type === 'Single Window' ?\n      { dist: distanceBetweenPoints(cursor, w.center), proj: w.center } :\n      pointDistanceToSegment(cursor, w);\n\n    return {\n      ...w,\n      ...dist,\n      // alias start, end to v1, v2 so we can make this thing look like an edge.\n      // Then we can use the same code to display the distance markers from\n      // daylighting control to either closest window or closest edge.\n      v1: w.start,\n      v2: w.end,\n    };\n  });\n  return _.minBy(withDistance, 'dist');\n}\n\nfunction snapWindowToEdgeAnywhere(edges, cursor, windowDefn, maxSnapDist) {\n  const closestEdge = findClosestEdge(edges, cursor);\n  if (!closestEdge || closestEdge.dist > maxSnapDist) {\n    return null;\n  }\n  return expandWindowAlongEdge(closestEdge, closestEdge.proj, windowDefn);\n}\n\nfunction snapWindowToEdgeAtGridIntervals(edges, cursor, windowDefn, maxSnapDist, gridSpacing) {\n  const closestEdge = findClosestEdge(edges, cursor);\n  if (!closestEdge || closestEdge.dist > maxSnapDist) {\n    return null;\n  }\n\n  const\n    dist = distanceBetweenPoints(closestEdge.v1, closestEdge.proj),\n    roundedDist = Math.round(dist / gridSpacing) * gridSpacing,\n    dx = (closestEdge.v2.x - closestEdge.v1.x),\n    dy = (closestEdge.v2.y - closestEdge.v1.y),\n    norm = Math.sqrt((dx * dx) + (dy * dy)),\n    snapLoc = {\n      x: closestEdge.v1.x + (roundedDist * (dx / norm)),\n      y: closestEdge.v1.y + (roundedDist * (dy / norm)),\n    };\n\n  return expandWindowAlongEdge(closestEdge, snapLoc, windowDefn);\n}\n\nexport function snapWindowToEdge(snapMode, ...args) {\n  if (snapMode === 'grid-strict') {\n    return snapWindowToEdgeAtGridIntervals(...args);\n  }\n  return snapWindowToEdgeAnywhere(...args);\n}\n\nexport function snapToVertexWithinFace(snapMode, faces, cursor, gridSpacing) {\n  const existingVerts = snapMode === 'grid-strict' ? [] : [cursor];\n  // We'll pretend `cursor` is an existing vert when we're not in strict snapping mode.\n  // That way, we will suggest the exact location of the cursor.\n  return _.chain(snapTargets(existingVerts, gridSpacing, cursor))\n    .map(g => ({\n      ...g,\n      face_id: _.find(faces, f => vertInRing(g, f.vertices)),\n    }))\n    .filter('face_id')\n    .map(g => ({ ...g, face_id: g.face_id.id }))\n    .first()\n    .value();\n}\n\nexport function windowLocation(edge, windw) {\n  const alpha = windw.alpha || 0.5; // if not given, assume center\n  // (this is useful for repeating window groups and window-wall-ratios\n  return {\n    x: edge.v1.x + (alpha * (edge.v2.x - edge.v1.x)),\n    y: edge.v1.y + (alpha * (edge.v2.y - edge.v1.y)),\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Grid/snapping.js","// OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n// (1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n// (2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n// (3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n// (4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport ResizeEvents from './ResizeEvents'\nexport {\n  ResizeEvents,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Resize/index.js","import idFactory from './../../utilities/generateId'\nimport helpers from './helpers'\n\nexport default {\n    Vertex (x, y) {\n        return {\n            id: idFactory.generate(),\n            x: x,\n            y: y\n        }\n    },\n    Edge (v1, v2) {\n        return {\n            id: idFactory.generate(),\n            v1: v1,\n            v2: v2\n        }\n    },\n    Face (edgeRefs) {\n        return {\n            id: idFactory.generate(),\n            edgeRefs: edgeRefs\n        }\n    },\n    Geometry () {\n        return {\n            id: idFactory.generate(),\n            vertices: [],\n            edges: [],\n            faces: []\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/factory.js","import idFactory from './../../utilities/generateId';\nimport generateColor from './../../utilities/generateColor';\nimport appconfig from './../application/appconfig';\n\nexport default {\n  Story(name) {\n    return {\n      id: idFactory.generate(),\n      name,\n      color: generateColor('story'),\n      handle: null,\n      geometry_id: null,\n      below_floor_plenum_height: 0,\n      floor_to_ceiling_height: 8,\n      above_floor_plenum_height: 0,\n      above_ceiling_plenum_height: 0,\n      multiplier: 1,\n      spaces: [],\n      daylighting_controls: [],\n      windows: [],\n      shading: [],\n      images: [],\n      image_visible: true,\n    };\n  },\n  Space(name) {\n    return {\n      id: idFactory.generate(),\n      name,\n      color: generateColor('space'),\n      handle: null,\n      face_id: null,\n      daylighting_controls: [],\n      building_unit_id: null,\n      thermal_zone_id: null,\n      space_type_id: null,\n      construction_set_id: null,\n      pitched_roof_id: null,\n      below_floor_plenum_height: null,\n      floor_to_ceiling_height: null,\n      above_ceiling_plenum_height: null,\n      floor_offset: null,\n      open_to_below: false,\n      type: 'space',\n    };\n  },\n  Shading(name) {\n    return {\n      id: idFactory.generate(),\n      name,\n      color: appconfig.palette.shading,\n      handle: null,\n      face_id: null,\n    };\n  },\n  Image(name, src) {\n    return {\n      id: idFactory.generate(),\n      src,\n      name,\n      visible: true,\n      height: 0,\n      width: 0,\n      x: 0,\n      y: 0,\n      z: 0,\n      r: 0,\n      opacity: 0.6,\n    };\n  },\n  BuildingUnit(opts = {}) {\n    return {\n      id: idFactory.generate(),\n      color: generateColor('building_unit'),\n      name: opts.name,\n      handle: opts.handle || null,\n    };\n  },\n  ThermalZone(opts = {}) {\n    return {\n      id: idFactory.generate(),\n      color: generateColor('thermal_zone'),\n      name: opts.name,\n      handle: opts.handle || null,\n    };\n  },\n  SpaceType(opts = {}) {\n    return {\n      id: idFactory.generate(),\n      color: generateColor('space_type'),\n      name: opts.name,\n      handle: opts.handle || null,\n    };\n  },\n  ConstructionSet(opts = {}) {\n    return {\n      id: idFactory.generate(),\n      name: opts.name,\n      color: generateColor('construction_set'),\n      handle: opts.handle || null,\n    };\n  },\n  WindowDefn(opts = {}) {\n    return {\n      id: idFactory.generate(),\n      name: opts.name,\n      height: opts.height || 4,\n      width: opts.width || 2,\n      sill_height: opts.sill_height || 3,\n      window_definition_type: 'Single Window',\n      wwr: null,\n      window_spacing: null,\n      overhang_projection_factor: null,\n      fin_projection_factor: null,\n    };\n  },\n  DaylightingControlDefn(opts = {}) {\n    return {\n      id: idFactory.generate(),\n      name: opts.name,\n      height: opts.height || 3,\n      illuminance_setpoint: opts.illuminance_setpoint || 300,\n    };\n  },\n  PitchedRoof(opts = {}) {\n    return {\n      id: idFactory.generate(),\n      name: opts.name,\n      pitched_roof_type: opts.type || 'Gable',\n      pitch: opts.pitch || 6,\n      shed_direction: opts.shed_direction || 0,\n      color: generateColor('pitched_roof'),\n    };\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/factory.js","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"10\",\"cy\":\"10\",\"fill\":\"#bf0049\",\"r\":\"5.6\"}}),_c('path',{attrs:{\"d\":\"M10.8 9.9L12.7 8c.2-.2.2-.6 0-.8-.2-.2-.6-.2-.8 0L10 9 8.1 7.1c-.2-.2-.6-.2-.8 0s-.3.7-.1.9l1.9 1.9-1.9 1.9c-.2.2-.2.6 0 .8.1.1.3.2.4.2s.3-.1.4-.2l1.9-1.9 1.9 1.9c.1.1.3.2.4.2s.3-.1.4-.2c.2-.2.2-.6 0-.8l-1.8-1.9z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/delete.svg\n// module id = 68\n// module chunks = 1","// OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n// (1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n// (2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n// (3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n// (4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport Vue from 'vue'\nexport default new Vue();\n\n\n// WEBPACK FOOTER //\n// ./src/components/Resize/ResizeEvents.js","import openFloorplanSvg from './../assets/svg-icons/open_floorplan.svg';\nimport saveFloorplanSvg from './../assets/svg-icons/save_floorplan.svg';\nimport importLibrarySvg from './../assets/svg-icons/import_library.svg';\n\nimport undoSvg from './../assets/svg-icons/undo.svg';\nimport redoSvg from './../assets/svg-icons/redo.svg';\n\nimport floorplanTabSvg from './../assets/svg-icons/tab_floorplan.svg';\nimport shadingTabSvg from './../assets/svg-icons/tab_shading.svg';\nimport assignTabSvg from './../assets/svg-icons/tab_assign.svg';\nimport componentsTabSvg from './../assets/svg-icons/tab_components.svg';\n\nimport toolDrawRectangleSvg from './../assets/svg-icons/tool_draw_rectangle.svg';\nimport toolDrawPolygonSvg from './../assets/svg-icons/tool_draw_polygon.svg';\nimport toolEraseSvg from './../assets/svg-icons/tool_erase.svg';\nimport toolMoveSizeSvg from './../assets/svg-icons/tool_move_size.svg';\nimport toolColorSvg from './../assets/svg-icons/tool_color.svg';\nimport toolImageSvg from './../assets/svg-icons/image_icon.svg';\nimport toolFillSvg from './../assets/svg-icons/fill_icon.svg';\nimport toolPlaceComponent from './../assets/svg-icons/lego_brick_icon.svg';\n\nimport ZoomToFitSvg from './../assets/svg-icons/zoom_to_fit.svg';\nimport zoomInSvg from './../assets/svg-icons/zoom_in.svg';\nimport zoomOutSvg from './../assets/svg-icons/zoom_out.svg';\nimport panSvg from './../assets/svg-icons/pan.svg';\nimport addImage from './../assets/svg-icons/add_image.svg';\nimport GroundPropertiesIcon from './../assets/svg-icons/ground_props_icon.svg';\n\nimport ComponentsWindow from './../assets/svg-icons/components_window.svg';\nimport ComponentsDaylighting from './../assets/svg-icons/components_daylighting.svg';\n\nconst ComponentIcon = {\n  name: 'ComponentIcon',\n  props: ['which'],\n  template: `\n    <ComponentsWindow v-if=\"which === 'window_definitions'\" class=\"button\" />\n    <ComponentsDaylighting v-else-if=\"which === 'daylighting_control_definitions'\" class=\"button\" />\n  `,\n  components: {\n    ComponentsWindow,\n    ComponentsDaylighting,\n  },\n};\n\nimport AssignBldgModule from './../assets/svg-icons/assign_bldgmodule.svg';\nimport AssignConstructions from './../assets/svg-icons/assign_constructions.svg';\nimport AssignActivity from './../assets/svg-icons/assign_activity.svg';\nimport AssignThermalZone from './../assets/svg-icons/assign_thermalzone.svg';\nimport AssignRoof from './../assets/svg-icons/assign_roof.svg';\n\nconst AssignSpacePropIcon = {\n  name: 'AssignSpacePropIcon',\n  props: ['which'],\n  template: `\n    <AssignBldgModule v-if=\"which === 'building_units'\" class=\"button\" />\n    <AssignThermalZone v-else-if=\"which === 'thermal_zones'\" class=\"button\" />\n    <AssignActivity v-else-if=\"which === 'space_types'\" class=\"button\" />\n    <AssignRoof v-else-if=\"which === 'pitched_roofs'\" class=\"button\" />\n  `,\n  components: {\n    AssignBldgModule,\n    AssignThermalZone,\n    AssignActivity,\n    AssignRoof,\n  },\n};\n\nimport QuickstartIconNewMapFloorplan from './../assets/svg-icons/quickstart_icon_new_map_floorplan.svg';\nimport QuickstartIconNewFloorplan from './../assets/svg-icons/quickstart_icon_newfloorplan.svg';\nimport QuickstartIconOpenFloorplan from './../assets/svg-icons/quickstart_icon_openfloorplan.svg';\n\nimport InfoIcon from './../assets/svg-icons/info_icon.svg';\nimport SettingsGear from './../assets/svg-icons/settings_gear.svg';\n\nexport default {\n  'open-floorplan-svg': openFloorplanSvg,\n  'save-floorplan-svg': saveFloorplanSvg,\n  'import-library-svg': importLibrarySvg,\n  'undo-svg': undoSvg,\n  'redo-svg': redoSvg,\n  'tab-floorplan-svg': floorplanTabSvg,\n  'tab-shading-svg': shadingTabSvg,\n  'tab-assign-svg': assignTabSvg,\n  'tab-components-svg': componentsTabSvg,\n\n  'tool-color-svg': toolColorSvg,\n  'tool-draw-rectangle-svg': toolDrawRectangleSvg,\n  'tool-draw-polygon-svg': toolDrawPolygonSvg,\n  'tool-erase-svg': toolEraseSvg,\n  'tool-move-size-svg': toolMoveSizeSvg,\n  'tool-image-svg': toolImageSvg,\n  'tool-fill-svg': toolFillSvg,\n  'tool-component-svg': toolPlaceComponent,\n\n  'zoom-in-svg': zoomInSvg,\n  'zoom-out-svg': zoomOutSvg,\n  'pan-svg': panSvg,\n  'add-image': addImage,\n  ZoomToFitSvg,\n\n  ComponentIcon,\n  AssignSpacePropIcon,\n\n  QuickstartIconNewMapFloorplan,\n  QuickstartIconNewFloorplan,\n  QuickstartIconOpenFloorplan,\n\n  InfoIcon,\n  SettingsGear,\n  GroundPropertiesIcon,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/svgs.js","import _ from 'lodash';\nimport geometryHelpers from './../helpers';\nimport { snapWindowToEdge, snapToVertexWithinFace, windowLocation } from '../../../../components/Grid/snapping';\n\nfunction facesContainingEdge(faces, edge_id) {\n  return _.filter(\n    faces,\n    f => _.chain(f.edges)\n      .map('id')\n      .includes(edge_id)\n      .value());\n}\n\nfunction componentsOnStory(state, geometry_id) {\n  const\n    geom = geometryHelpers.denormalize(_.find(state.geometry, { id: geometry_id })),\n    story = _.find(state.models.stories, { geometry_id });\n\n  const perFaceComponents = story.spaces.map(space => ({\n    daylighting_controls: space.daylighting_controls\n      .map(d => ({ ...d, vertex: _.find(geom.vertices, { id: d.vertex_id }) })),\n    space_id: space.id,\n    face_id: space.face_id,\n  }));\n  return {\n    geometry_id,\n    story_id: story.id,\n    windows: story.windows\n      .map((w) => {\n        const\n          edge = _.find(geom.edges, { id: w.edge_id }),\n          faces = facesContainingEdge(geom.faces, w.edge_id);\n        return {\n          ...w,\n          originalLoc: windowLocation(edge, w),\n          originalFaceIds: _.map(faces, 'id'),\n        };\n      }),\n    perFaceComponents,\n  };\n}\n\nfunction replaceComponents(\n  context,\n  components,\n  movementsByFaceId = {},\n) {\n  const\n    { geometry_id, story_id, windows, perFaceComponents } = components,\n    geometry = geometryHelpers.denormalize(_.find(context.rootState.geometry, { id: geometry_id })),\n    story = _.find(context.rootState.models.stories, { id: story_id }),\n    spaceFaces = geometry.faces.filter(f => _.find(story.spaces, { face_id: f.id })),\n    spacing = context.rootState.project.grid.spacing;\n\n  context.dispatch('models/destroyAllComponents', { story_id }, { root: true });\n\n  const edgesPresentOnFaces = _.flatMap(spaceFaces, 'edges');\n  windows.forEach((w) => {\n    const\n      { dx, dy } = movementsByFaceId[w.originalFaceIds[0]] || { dx: 0, dy: 0 },\n      newLoc = { x: w.originalLoc.x + dx, y: w.originalLoc.y + dy },\n      loc = snapWindowToEdge(/* snapMode */ 'nonstrict', edgesPresentOnFaces, newLoc, { width: 1 }, spacing / 4);\n    if (!loc) { return; }\n\n    const facesWithEdge = _.map(facesContainingEdge(spaceFaces, loc.edge_id), 'id');\n    if (w.originalFaceIds.length !== facesWithEdge.length ||\n        (w.originalFaceIds.length > 1 && _.intersection(Object.keys(movementsByFaceId), w.originalFaceIds))) {\n      // Suppose we add some windows to an edge that's shared between two spaces.\n      // What happens when we move one of the spaces?\n      // Should we just duplicate the windows?\n\n      // dan's response:\n      // Remove that window.\n      // also, if you have a window on an exterior wall, then draw another space\n      // so it becomes interior, id delete the window too.\n      return;\n    }\n\n    context.dispatch('models/createWindow', {\n      story_id,\n      edge_id: loc.edge_id,\n      alpha: loc.alpha,\n      window_definition_id: w.window_definition_id,\n    }, { root: true });\n  });\n\n  perFaceComponents.forEach(({ face_id, daylighting_controls }) => {\n    daylighting_controls.forEach((d) => {\n      const\n        { dx, dy } = movementsByFaceId[face_id] || { dx: 0, dy: 0 },\n        newLoc = { x: d.vertex.x + dx, y: d.vertex.y + dy },\n        loc = snapToVertexWithinFace(/* snapMode */ 'nonstrict', spaceFaces, newLoc, spacing / 4);\n      if (!loc) { return; }\n\n      context.dispatch('models/createDaylightingControl', {\n        daylighting_control_definition_id: d.daylighting_control_definition_id,\n        x: loc.x,\n        y: loc.y,\n        story_id,\n        face_id: loc.face_id,\n      }, { root: true });\n    });\n  });\n}\n\nexport function withPreservedComponents(...args) {\n  let context, geometry_id, action, movementsByFaceId;\n  if (args.length === 3) {\n    [context, geometry_id, action] = args;\n    movementsByFaceId = {};\n  } else if (args.length === 4) {\n    [context, geometry_id, movementsByFaceId, action] = args;\n  } else {\n    throw new Error('usage: withPreservedComponents(context, geometry_id, action [,movementsByFaceId])');\n  }\n\n  const components = componentsOnStory(context.rootState, geometry_id);\n  action();\n  replaceComponents(context, components, movementsByFaceId);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/actions/componentPreservationSociety.js","import actions from './actions'\nimport mutations from './mutations'\nimport getters from './getters'\n\nexport default {\n  namespaced: true,\n  state: {\n    // project\n    config: {\n      units: 'ft',\n      unitsEditable: true,\n      language: 'EN-US',\n    },\n    north_axis: 0,\n    ground: {\n      floor_offset: 0,\n      azimuth_angle: 0,\n      tilt_slope: 0,\n    },\n    grid: {\n      visible: true,\n      spacing: 5,\n    },\n    view: {\n      // grid boundaties in rwu\n      min_x: -250,\n      min_y: -150,\n      max_x: 250,\n      max_y: 150,\n    },\n    map: {\n      initialized: false,\n      enabled: true,\n      visible: true,\n      latitude: 39.7653,\n      longitude: -104.9863,\n      zoom: 4.5, // 18,\n      rotation: 0, //.791,\n      elevation: 0\n    },\n    previous_story: {\n      visible: true\n    },\n    show_import_export: true,\n  },\n  actions: actions,\n  mutations: mutations,\n  getters: getters\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/project/index.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-14ece691&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GenericInput.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./GenericInput.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-14ece691!../../node_modules/vue-loader/lib/selector?type=template&index=0!./GenericInput.vue\"),\n  /* scopeId */\n  \"data-v-14ece691\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GenericInput.vue\n// module id = 94\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-6bbb2c29&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LibrarySelect.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LibrarySelect.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-6bbb2c29!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LibrarySelect.vue\"),\n  /* scopeId */\n  \"data-v-6bbb2c29\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LibrarySelect.vue\n// module id = 95\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-20be75f3&scoped=true!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ModalBase.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ModalBase.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-20be75f3!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ModalBase.vue\"),\n  /* scopeId */\n  \"data-v-20be75f3\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modals/ModalBase.vue\n// module id = 96\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"data-name\":\"Layer 1\",\"viewBox\":\"0 0 100 100\"}},[_c('title',[_v(\"Artboard 10\")]),_c('path',{attrs:{\"d\":\"M50 18a32 32 0 1 0 32 32 32 32 0 0 0-32-32zm4 49h-8V47h8zm0-26h-8v-8h8z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/info_icon.svg\n// module id = 97\n// module chunks = 1","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n<template>\n    <div id=\"app\"\n      :class=\"`tool_${tool.toLowerCase()}`\">\n        <toolbar :class=\"{ 'disabled-component': tool === 'Map' }\"></toolbar>\n\n        <div id=\"layout-main\" :class=\"{ 'nav-on-top': navigationExpanded }\">\n            <navigation\n              :class=\"{ 'disabled-component': tool === 'Map' }\"\n              @expanded=\"(val) => { navigationExpanded = val; }\"\n            ></navigation>\n\n            <main>\n              <div id=\"alert-text\" v-show=\"error || success\" :class=\"{ error, success }\">\n                  <p>{{ error || success }}</p>\n              </div>\n                <canvas-view></canvas-view>\n                <grid-view></grid-view>\n            </main>\n            <!-- <inspector-view></inspector-view> -->\n        </div>\n        <ImageUpload />\n    </div>\n</template>\n\n<script>\n\nimport { mapState } from 'vuex';\n\n// this import order is important, if the grid is loaded before the other elements or after the toolbar, it ends up warped\nimport Navigation from './components/Navigation.vue';\nimport Grid from './components/Grid/Grid.vue';\nimport Canvas from './components/Canvas/Canvas.vue';\nimport Toolbar from './components/Toolbar.vue';\nimport ImageUpload from './components/ImageUpload.vue';\nimport Inspector from './components/Inspector.vue';\nimport { Resize } from './components/Resize';\n\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      error: null,\n      success: null,\n      navigationExpanded: false,\n    };\n  },\n  beforeCreate() {\n    this.$store.dispatch('models/initStory');\n  },\n  mounted() {\n\n    window.eventBus.$on('error', (err) => {\n      this.error = err;\n      setTimeout(() => { this.error = null; }, 5000);\n    });\n    window.eventBus.$on('success', (msg) => {\n      this.success = msg;\n      setTimeout(() => { this.success = null; }, 5000);\n    });\n    window.eventBus.$on('reload-grid', () => {\n      // This is unfortunate. oh well.\n      document.getElementById('svg-grid')\n        .dispatchEvent(new Event('reloadGrid'));\n    });\n\n    document.addEventListener('keydown', (e) => {\n      if (!this.$store.timetravel){\n        return;\n      }\n      if (e.keyCode === 90 && (e.ctrlKey || e.metaKey)) {\n        e.shiftKey ? this.$store.timetravel.redo() : this.$store.timetravel.undo();\n        e.preventDefault();\n      } else if (e.keyCode == 89 && (e.ctrlKey || e.metaKey)){\n        this.$store.timetravel.redo();\n        e.preventDefault();\n      }\n    });\n  },\n\n  computed: {\n    ...mapState({ tool: state => state.application.currentSelections.tool }),\n  },\n  components: {\n    'grid-view': Grid,\n    'canvas-view': Canvas,\n    'inspector-view': Inspector,\n    navigation: Navigation,\n    toolbar: Toolbar,\n    ImageUpload,\n  },\n};\n</script>\n\n<style src=\"./scss/main.scss\" lang=\"scss\"></style>\n<style lang=\"scss\" scoped>\n@import \"./scss/config\";\n.tool_rectangle, .tool_polygon, .tool_eraser {\n  #grid {\n    cursor: crosshair;\n  }\n}\n.tool_drag {\n  cursor: move;\n}\n#alert-text {\n    position: absolute;\n    top: 1rem;\n    left: 0;\n    right: 0;\n    text-align: center;\n    z-index: 3;\n\n    p {\n        color: $white;\n        padding: 2px 4px;\n        margin: 10px;\n        border: 2px solid $gray-darkest;\n        display: inline-block;\n    }\n    &.success p {\n      background: $primary;\n    }\n    &.error p {\n      background: $secondary;\n    }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?4d79aae0","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n<template>\n    <div id=\"canvas\" ref=\"canvas\">\n        <svg id=\"north_axis\" height=\"1792\" viewBox=\"0 0 1792 1792\" width=\"1792\" xmlns=\"http://www.w3.org/2000/svg\" :transform=\"`rotate(${northAxis})`\">\n          <path d=\"M1277 493q-9 19-29 19h-224v1248q0 14-9 23t-23 9H800q-14 0-23-9t-9-23V512H544q-21 0-29-19t5-35L870 74q10-10 23-10 14 0 24 10l355 384q13 16 5 35z\"/>\n        </svg>\n        <map-view v-if=\"mapEnabled\" v-show=\"mapVisible\"></map-view>\n    </div>\n</template>\n\n<script>\n\n// this import order is important, if the grid is loaded before the other elements or after the toolbar, it ends up warped\n\nimport Map from './Map'\n\nimport { mapState } from 'vuex'\n\nexport default {\n    name: 'app',\n    data () { return {}; },\n    computed: {\n        ...mapState({\n            mapEnabled: state => state.project.map.enabled,\n            mapVisible: state => state.project.map.visible,\n            northAxis: state => state.project.north_axis,\n        })\n    },\n    components: {\n        'map-view': Map,\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../../scss/config\";\nsvg#north_axis {\n  height: 2.25rem;\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  width: 3rem;\n  z-index: 1;\n}\n#canvas {\n    background: white;\n    height: 100%;\n    width: 100%;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Canvas.vue?29b89bca","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n    <div id=\"map-container\">\n        <div id=\"map\" ref=\"map\" :style=\"{ 'pointer-events': tool === 'Map' ? 'all': 'none' }\"></div>\n\n        <div v-show=\"tool === 'Map'\" id=\"autocomplete\">\n            <span class=\"input-text\">\n                <input ref=\"addressSearch\" type=\"text\" placeholder=\"Search for a location\"/>\n            </span>\n        </div>\n        <div v-show=\"tool === 'Map'\" id=\"help-text\">\n            <p>Drag the map and/or search to set desired location.  Use alt+shift to rotate the north axis. Click 'Done' when finished.</p>\n            <button @click=\"finishSetup\">Done</button>\n        </div>\n\n        <map-modal v-if=\"mapModalVisible && !mapInitialized\" @close=\"mapModalVisible = false; showReticle()\"></map-modal>\n        <svg id=\"reticle\"></svg>\n    </div>\n</template>\n\n<script>\n\nimport { mapState } from 'vuex';\nimport { ResizeEvents } from 'src/components/Resize'\nimport MapModal from 'src/components/Modals/MapModal'\n\nconst googleMaps = require('google-maps-api')('AIzaSyDIja3lnhq63SxukBm9_mA-jn5R0Bj9RN8', ['places']);\nconst ol = require('openlayers');\nconst d3 = require('d3');\n\nexport default {\n  name: 'map',\n  data() {\n    return {\n      view: null,\n      map: null,\n      startResolution: null,\n      autocomplete: null,\n      mapModalVisible: window.api ? window.api.config.showMapDialogOnStart : true,\n      showGrid: false,\n    };\n  },\n\n  /*\n  * load the openlayers map, google maps autocomplete, and register a listener for view resizing\n  */\n  mounted() {\n    this.showGrid = this.gridVisible;\n\n    this.initAutoComplete();\n    this.loadMap();\n    ResizeEvents.$on('resize', this.updateMapView);\n    window.eventBus.$on('boundsResolved', this.clearStartResolution);\n  },\n\n  /*\n  * remove listener for view resizing\n  */\n  beforeDestroy() {\n    ResizeEvents.$off('resize', this.updateMapView);\n    window.eventBus.$off('boundsResolved', this.clearStartResolution);\n  },\n\n  methods: {\n    clearStartResolution() {\n      this.startResolution = null;\n      this.updateMapView();\n    },\n    /*\n    * Asynchronously load google maps autocomplete\n    * attatch to address search field\n    */\n    initAutoComplete() {\n      googleMaps().then((maps) => {\n        // attatch to address search field\n        const autocomplete = new maps.places.Autocomplete(this.$refs.addressSearch);\n        // when an address is selected from the dropdown update the component lat/long coordinates\n        autocomplete.addListener('place_changed', () => {\n          // check that the selected place has associated lat/log data\n          const place = autocomplete.getPlace();\n          if (place.geometry) {\n            // changing component lat/long will trigger updateMapView, placing the map at the updated location\n            this.latitude = place.geometry.location.lat();\n            this.longitude = place.geometry.location.lng();\n          }\n        });\n      });\n    },\n\n    /*\n    * empty the map element and (re)load openlayers map canvas inside of it\n    */\n    loadMap() {\n      window.ol = ol;\n      this.$refs.map.innerHTML = '';\n      this.view = new ol.View();\n      this.map = new ol.Map({\n        layers: [new ol.layer.Tile({ source: new ol.source.OSM() })],\n        target: 'map',\n        view: this.view,\n      });\n      this.view.on('propertychange', (e) => {\n        if (e.key === 'rotation') {\n          this.rotation = this.view.getRotation();\n        }\n      });\n\n      this.updateMapView();\n    },\n\n    /*\n    * position the map\n    */\n    updateMapView() {\n      console.log('updateMapView');\n      this.map.updateSize();\n      // center of grid in RWU\n      let gridCenterX = (this.min_x + this.max_x) / 2;\n      let gridCenterY = (this.min_y + this.max_y) / 2;\n\n      // default map resolution RWU/px\n      let resolution = (this.max_x - this.min_x) / this.$refs.map.clientWidth;\n\n      // translate units from ft to meters\n      if (this.units === 'ft') {\n        // meters in a foot\n        const mPerFt = ol.proj.METERS_PER_UNIT['us-ft'];\n        resolution *= mPerFt;\n        gridCenterX *= mPerFt;\n        gridCenterY *= mPerFt;\n      }\n\n      // current long/lat map position in meters\n      const mapCenter = ol.proj.fromLonLat([this.longitude, this.latitude]);\n\n      // openlayers places the center in the bottom left of the screen, so add the grid center (m) to the openlayers center\n      // adjust for rotation\n      // subtract the vertical grid center from the y adjustment because the y axis is inverted\n      let deltaY = ((gridCenterX * Math.cos(this.rotation)) - (gridCenterY * Math.sin(this.rotation)));\n      let deltaX = ((gridCenterY * Math.cos(this.rotation)) + (gridCenterX * Math.sin(this.rotation)));\n\n\n      // Web Mercator projections use different resolutions at different latitudes\n      // if the map has been placed, adjust the values for the current latitude\n      if (this.view.getCenter()) {\n        this.startResolution = this.startResolution || ol.proj.getPointResolution(this.view.getProjection(), this.view.getResolution(), this.view.getCenter());\n        console.log(\"start resolution\", this.startResolution);\n        const resolutionAdjustment = 1 / ol.proj.getPointResolution(this.view.getProjection(), 1, this.view.getCenter());\n\n        resolution *= resolutionAdjustment;\n        deltaY *= resolutionAdjustment;\n        deltaX *= resolutionAdjustment;\n      }\n\n      // adjust map position based on size of grid\n      mapCenter[0] += deltaY;\n      mapCenter[1] += deltaX;\n\n      console.log('setting view resolution', resolution);\n      this.view.setResolution(resolution);\n      this.view.setCenter(mapCenter);\n      this.view.setRotation(this.rotation);\n    },\n\n    /*\n    * after the user places the map, save the latitude, longitude, and rotation\n    */\n    finishSetup() {\n      const center = ol.proj.transform(this.view.getCenter(), 'EPSG:3857', 'EPSG:4326')\n      this.longitude = center[0];\n      this.latitude = center[1];\n\n      const resolution = ol.proj.getPointResolution(this.view.getProjection(), this.view.getResolution(), this.view.getCenter());\n      const scale = this.startResolution / resolution;\n      window.eventBus.$emit('scaleTo', scale);\n\n      this.rotation = this.view.getRotation();\n\n      this.$store.dispatch('project/setMapInitialized', { initialized: true });\n\n      this.tool = 'Rectangle';\n\n      // remove reticle\n      d3.select('#reticle').remove();\n\n      this.gridVisible = this.showGrid;\n    },\n\n    /*\n    * render an svg reticle, hide the grid\n    */\n    showReticle() {\n      if (this.tool !== 'Map') { return; }\n      // hide grid\n      this.gridVisible = false;\n\n      // draw reticle\n      const size = 100;\n      const x = this.$refs.map.clientWidth / 2;\n      const y = this.$refs.map.clientHeight / 2;\n\n      d3.select('#reticle')\n        .selectAll('#reticle path')\n        .data([\n          [{ x, y: y - size }, { x, y: y + size }],\n          [{ x: x - size, y }, { x: x + size, y }],\n        ])\n        .enter()\n        .append('path')\n        .attr('stroke-width', '1')\n        .attr('stroke', 'gray')\n        .attr('d', d3.line().x(d => d.x).y(d => d.y));\n    },\n  },\n  computed: {\n    ...mapState({\n      projectView: state => state.project.view,\n      min_x: state => state.project.view.min_x,\n      max_x: state => state.project.view.max_x,\n      min_y: state => state.project.view.min_y,\n      max_y: state => state.project.view.max_y,\n      units: state => state.project.config.units,\n      mapInitialized: state => state.project.map.initialized,\n    }),\n    gridVisible: {\n      get() { return this.$store.state.project.grid.visible; },\n      set(val) { this.$store.dispatch('project/setGridVisible', { visible: val }); },\n    },\n    tool: {\n      get() { return this.$store.state.application.currentSelections.tool; },\n      set(val) { this.$store.dispatch('application/setCurrentTool', { tool: val }); },\n    },\n    latitude: {\n      get() { return this.$store.state.project.map.latitude; },\n      set(val) { this.$store.dispatch('project/setMapLatitude', { latitude: val }); },\n    },\n    longitude: {\n      get() { return this.$store.state.project.map.longitude; },\n      set(val) { this.$store.dispatch('project/setMapLongitude', { longitude: val }); },\n    },\n    rotation: {\n      get() { return this.$store.state.project.map.rotation; },\n      set(val) { this.$store.dispatch('project/setMapRotation', { rotation: val }); },\n    },\n  },\n  watch: {\n    units() { this.updateMapView(); },\n    latitude() { this.updateMapView(); },\n    longitude() { this.updateMapView(); },\n    rotation() { this.updateMapView(); },\n    projectView: {\n      handler() { this.updateMapView(); },\n      deep: true,\n    },\n  },\n  components: {\n    MapModal,\n  },\n};\n\n</script>\n<style lang=\"scss\" scoped>\n@import \"./../../scss/config\";\n\n#map-container {\n    position: relative;\n    height: 100%;\n    width: 100%;\n\n    #map {\n        height: 100%;\n        min-width: 100%;\n    }\n}\n\n#autocomplete {\n    z-index: 100;\n    position: absolute;\n    right: 0;\n    top: 10px;\n\n    > * {\n        float: left;\n        margin-right: 10px;\n    }\n\n    input {\n      &:focus {\n          outline: none;\n      }\n      padding-top: 0.5rem;\n      padding-bottom: 0.5rem;\n      font-size: medium;\n    }\n}\n\n#help-text {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    text-align: center;\n    z-index: 3;\n\n    p {\n        color: $gray-darkest;\n        background: white;\n        padding: 2px 4px;\n        margin: 10px;\n        width: calc(100% - 110px);\n        border: 2px solid $gray-darkest;\n        display: inline-block;\n        // float: left;\n    }\n\n    button {\n      display: inline-block;\n      margin: 10px;\n    }\n}\n\n#reticle {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Map.vue?5bf0b074","<template>\n  <EditBar\n    v-if=\"showInstanceEditor\"\n    :row=\"componentInstance\"\n    :columns=\"visibleColumns\"\n    :updateRow=\"modifyComponentInstance\"\n    :destroy=\"destroyComponent\"\n  />\n</template>\n<script>\nimport libconfig from '../store/modules/models/libconfig';\nimport { mapGetters } from 'vuex';\nimport EditBar from './EditBar.vue';\n\nexport default {\n  computed: {\n    ...mapGetters({\n      componentInstance: 'application/currentComponentInstance',\n      currentStory: 'application/currentStory',\n      currentComponent: 'application/currentComponent',\n    }),\n    instanceType() {\n      return this.componentInstance && this.componentInstance.type;\n    },\n    columns() {\n      if (!this.componentInstance) { return []; }\n      return libconfig[this.instanceType].columns;\n    },\n    visibleColumns() {\n      return _.reject(this.columns, 'private');\n    },\n    showInstanceEditor() {\n      return (this.instanceType &&\n        this.currentComponent.type.replace(/_definitions$/, 's') === this.instanceType);\n    },\n  },\n  methods: {\n    destroyComponent() {\n      if (this.instanceType === 'windows') {\n        this.$store.dispatch('models/destroyWindow', { story_id: this.currentStory.id,  object: this.componentInstance });\n      } else if (this.instanceType === 'daylighting_controls') {\n        this.$store.dispatch('models/destroyDaylightingControl', { story_id: this.currentStory.id, object: this.componentInstance });\n      } else {\n        throw new Error(`Unrecognized component type ${this.instanceType}`);\n      }\n    },\n    modifyComponentInstance(id, key, value) {\n      if (this.instanceType === 'windows') {\n        this.$store.dispatch('models/modifyWindow', { id, key, value, story_id: this.currentStory.id });\n      } else if (this.instanceType === 'daylighting_controls') {\n        this.$store.dispatch('models/modifyDaylightingControl', { id, key, value, story_id: this.currentStory.id });\n      } else {\n        throw new Error(`unrecognized component mode \"${this.mode}\"`);\n      }\n    },\n  },\n  components: {\n    EditBar,\n  },\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ComponentInstanceEditBar.vue?ec7492e8","<template>\n  <div class=\"edit-bar\">\n    <span v-for=\"col in columns\"\n      :data-column=\"col.name\"\n      :key=\"col.name\"\n    >\n      <GenericInput\n        :col=\"col\"\n        :row=\"row\"\n        :onChange=\"updateRow.bind(null, row.id, col.name)\"\n      />\n    </span>\n    <span class=\"destroy\" @click=\"destroy()\">\n      <Delete class=\"button\" />\n    </span>\n  </div>\n</template>\n<script>\nimport GenericInput from './GenericInput.vue';\nimport Delete from './../assets/svg-icons/delete.svg';\n\n\nexport default {\n  props: ['row', 'columns', 'updateRow', 'destroy'],\n  components: {\n    GenericInput,\n    Delete,\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n.edit-bar {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  > span {\n    margin-right: 4px;\n  }\n\n  input {\n    background-color: $gray-medium;\n    color: $gray-lightest;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    height: 16px;\n    font-size: 12px;\n  }\n\n  .destroy svg {\n    height: 1.3rem;\n    width: 1rem;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// EditBar.vue?71976142","<template>\n  <div\n    class=\"editable-select-list\"\n    :class=\"{ 'expanded': !compact }\"\n    :data-object-type=\"selectedObjectType\"\n  >\n    <div class=\"controls\">\n      <div class=\"control-group\">\n        <PrettySelect v-if=\"objectTypes.length > 1\"\n          @change=\"val => $emit('selectObjectType', val)\"\n          :options=\"objectTypes\"\n          :value=\"selectedObjectType\"\n        />\n        <span v-else>{{ objectTypes[0].display || objectTypes[0].displayName }}</span>\n        <a @click=\"addRow\" v-if=\"addRow\" class=\"add-new\" title=\"Create new\">\n          <AddNew class=\"button\"/>\n        </a>\n      </div>\n      <div class=\"control-group\">\n        <a @click=\"toggleCompact\" :title=\"compact ? 'expand' : 'contract'\">\n          <DoubleArrows\n            class=\"button\"\n            :transform=\"compact ? '' : 'scale(-1, 1)'\"\n          />\n        </a>\n      </div>\n    </div>\n    <div class=\"input-text search-spot\">\n      <input v-if=\"searchAvailable\"\n        v-model=\"search\"\n        class=\"search-bar\"\n        placeholder=\"search\"\n      />\n    </div>\n    <LibrarySelect\n      v-if=\"compact\"\n      :rows=\"searchedRows\"\n      :selectItem=\"selectRow\"\n      :destroyItem=\"destroyRow\"\n      :selectedItemId=\"selectedRowId\"\n    />\n    <EditableTable\n      v-else\n      :selectRow=\"selectRow\"\n      :selectedItemId=\"selectedRowId\"\n      :columns=\"visibleColumns\"\n      :rows=\"searchedRows\"\n      :deleteRow=\"destroyRow\"\n      :updateRow=\"editRow\"\n    />\n  </div>\n</template>\n<script>\nimport EditableTable from './EditableTable.vue';\nimport LibrarySelect from './LibrarySelect.vue';\nimport PrettySelect from './PrettySelect.vue';\nimport DoubleArrows from './../assets/svg-icons/double_arrows.svg';\nimport AddNew from './../assets/svg-icons/add_new.svg';\n\nexport default {\n  name: 'EditableSelectList',\n  props: [\n    'columns', 'rows', 'addRow', 'editRow', 'destroyRow', 'selectRow', 'selectedRowId',\n    'objectTypes', 'selectedObjectType', 'searchAvailable', 'compact',\n  ],\n  data() {\n    return {\n      search: '',\n    };\n  },\n  computed: {\n    visibleColumns() {\n      return _.reject(this.columns, 'private');\n    },\n    searchedRows() {\n      return this.rows.filter(\n        row => _.chain(row)\n          .omit(['color'])\n          .values()\n          .compact()\n          .some(val => val.toLowerCase && val.toLowerCase().includes(this.search.toLowerCase()))\n          .value()\n      );\n    },\n  },\n  methods: {\n    toggleCompact() {\n      this.$emit('toggleCompact', !this.compact)\n    },\n  },\n  watch: {\n    rows(newRows, oldRows) {\n      if (newRows !== oldRows) {\n        // looking at a different array, ignore.\n        return;\n      }\n      if (newRows.length > oldRows.length) {\n        this.selectRow(_.maxBy(this.rows, r => +r.id));\n      }\n    },\n  },\n  components: {\n    EditableTable,\n    LibrarySelect,\n    PrettySelect,\n    DoubleArrows,\n    AddNew,\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n.controls {\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row;\n}\n.control-group {\n  display: flex;\n  align-items: center;\n  svg {\n    margin-top: 4px;\n    width: 1.7rem;\n    height: 1.7rem;\n    margin-left: 4px;\n  }\n}\n.search-spot {\n  height: 2rem;\n  input {\n    height: 1.5rem;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// EditableSelectList.vue?bbf35abc","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <div class=\"editable-table\">\n    <table class=\"table\" cellspacing=\"0\">\n      <thead cellspacing=\"0\">\n        <tr>\n          <th class=\"select\"><!-- placeholder for select column --></th>\n          <th v-for=\"col in visibleColumns\" @click=\"sortBy(col.name)\">\n            <span>{{col.displayName}}</span>\n            <svg v-show=\"col.name === sortKey && sortDescending\" viewBox=\"0 0 10 3\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0 .5l5 5 5-5H0z\"/>\n            </svg>\n            <svg v-show=\"col.name === sortKey && !sortDescending\" viewBox=\"0 0 10 3\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0 5.5l5-5 5 5H0z\"/>\n            </svg>\n          </th>\n          <th class=\"destroy\"><!-- placeholder for delete column --></th>\n        </tr>\n      </thead>\n      <tbody cellspacing=\"0\">\n        <tr v-for=\"row in sortedRows\" :key=\"row.id\" :class=\"{ selected: selectedItemId === row.id }\">\n          <td class=\"select\" @click.stop=\"selectRow(row)\">\n            <input type=\"radio\" :checked=\"selectedItemId === row.id\" />\n          </td>\n          <td\n              v-for=\"col in visibleColumns\"\n              :data-column=\"col.name\"\n              :key=\"col.name\"\n          >\n            <generic-input\n              :col=\"col\"\n              :row=\"row\"\n              :onChange=\"updateRow.bind(null, row.id, col.name)\"\n            />\n          </td>\n          <td class=\"destroy\" @click.stop=\"deleteRow(row)\" title=\"delete\">\n            <Delete class=\"button\" />\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash';\nimport { mapState, mapGetters } from 'vuex';\nimport Delete from './../assets/svg-icons/delete.svg';\n\nexport default {\n  name: 'EditableTable',\n  props: [\n    'columns', 'rows', 'deleteRow', 'updateRow',\n    'selectRow', 'selectedItemId',\n  ],\n  data() {\n    return {\n      sortKey: r => +r.id,\n      sortDescending: false,\n    };\n  },\n  computed: {\n    visibleColumns() {\n      return _.reject(this.columns, 'private');\n    },\n    sortedRows() {\n      const sRows = _.sortBy(this.rows, this.sortKey);\n      if (this.sortDescending) {\n        sRows.reverse();\n      }\n      return sRows;\n    },\n  },\n  methods: {\n    sortBy(colName) {\n      this.sortDescending = this.sortKey === colName ? !this.sortDescending : true;\n      this.sortKey = colName;\n    },\n  },\n  components: {\n    Delete,\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n\n  .editable-table {\n    width: 100%;\n    overflow-x: auto;\n    table {\n      overflow-y: auto;\n      thead {\n        display: table-row;\n        svg {\n          margin-left: 1em;\n          height: 1rem;\n          width: 1rem;\n        }\n\n      }\n      tbody {\n        overflow-x: auto;\n        display: block;\n        height: calc(100vh - 208px);\n      }\n      td, th {\n        width: 154px;\n        span {\n          display: block;\n        }\n        > * {\n          width: 154px;\n        }\n        input {\n          width: 137px;\n          margin-left: 5px;\n          margin-right: 6px;\n        }\n        &.destroy, &.select {\n          width: 35px;\n          > [type=\"radio\"] {\n            width: 25px;\n          }\n          > svg {\n            width: 25px;\n            margin-top: 10px;\n            margin-left: 5px;\n          }\n          margin: 0 auto;\n          padding: 0;\n        }\n      }\n      th {\n        height: 3rem;\n      }\n    }\n  }\n\n\n  .editable-table {\n    background-color: $gray-medium;\n    table {\n      thead {\n        border-bottom: 2px solid $gray-medium-dark;\n        svg {\n          fill: $gray-lightest;\n        }\n      }\n      tbody {\n        input {\n          background-color: $gray-medium;\n          color: $gray-lightest;\n          padding-top: 5px;\n          padding-bottom: 5px;\n          margin-top: 5px;\n          margin-bottom: 5px;\n          height: 16px;\n          font-size: 16px;\n        }\n        tr.selected {\n          background-color: $gray-medium-light;\n          input {\n            background-color: $gray-medium-light;\n          }\n        }\n      }\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// EditableTable.vue?80420298","<template>\n  <div\n    :class=\"{\n      'expandable-drawer': true,\n      expanded: expanded,\n    }\"\n  >\n    <p @click=\"expanded = !expanded\" class=\"title\">\n      {{ caret }} {{ title }}\n    </p>\n    <p v-if=\"expanded\">\n      <slot />\n    </p>\n  </div>\n</template>\n<script>\nexport default {\n  props: ['title'],\n  data() {\n    return {\n      expanded: false,\n    }\n  },\n  computed: {\n    caret() {\n      return this.expanded ? '\\u25BC' : '\\u25BA';\n    },\n  },\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ExpandableDrawer.vue?9ab04c62","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <span v-if=\"col.readonly || !col.input_type\" :class=\"{ numeric: col.numeric }\">\n    {{col.get ? col.get(row, rootState) : row[col.name]}}\n  </span>\n  <input\n    v-else-if=\"col.input_type === 'text'\"\n    @keydown=\"blurOnEnter\"\n    @blur=\"onChange($event.target.value)\"\n    :value=\"row[col.name]\"\n    :disabled=\"disabled\"\n    :class=\"{ numeric: col.numeric }\"\n  />\n  <div\n    v-else-if=\"col.input_type === 'color'\"\n    class=\"color-wrapper\"\n  >\n    <input\n      ref=\"color_input\"\n      class=\"input-color\"\n      :object-id=\"row.id\"\n      :value=\"row[col.name]\"\n      :disabled=\"disabled\"\n    />\n  </div>\n  <pretty-select v-else-if=\"col.input_type === 'select'\"\n    @change=\"val => onChange(val)\"\n    :options=\"selectData\"\n    :value=\"row[col.name]\"\n    :disabled=\"disabled\"\n  />\n</template>\n\n<script>\nimport _ from 'lodash';\nimport Huebee from 'huebee';\n\nexport default {\n  name: 'GenericInput',\n  props: ['col', 'row', 'onChange'],\n  methods: {\n    blurOnEnter(evt) {\n      if (evt.keyCode === 13) {\n        //blur on enter\n        this.$el.blur();\n      }\n      if (evt.keyCode == 27) {\n        // reset then blur on esc\n        this.$el.value = row[col.name];\n        this.$el.blur();\n      }\n      return;\n    },\n    configurePicker() {\n      if (!this.$refs.color_input) {\n        return;\n      }\n\n      new Huebee(this.$refs.color_input, { saturations: 1, notation: 'hex' })\n        .on('change', (color) => {\n          this.onChange(color);\n        });\n    },\n  },\n  mounted() {\n    this.configurePicker();\n  },\n  computed: {\n    selectData() {\n      return _.toPairs(this.col.select_data(this.row, this.$store.state))\n        .map(([k, v]) => ({ val: v, display: k }));\n    },\n    rootState() { return this.$store.state; },\n    disabled() {\n      if (!this.col.enabled) {\n        // columns are enabled by default, so any column that doesn't provide\n        // an `enabled` callback is always enabled.\n        return true;\n      }\n      return !this.col.enabled(this.row)\n    },\n  },\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n@import './../../node_modules/huebee/dist/huebee.min.css';\n.numeric {\n  text-align: right;\n}\ninput {\n  border-width: 2px;\n  border-style: inset;\n  border-color: $gray-lightest;\n}\n:disabled {\n  background-image: linear-gradient(\n    -45deg,\n    gray 25%,\n    transparent 25%,\n    transparent 50%,\n    gray 50%,\n    gray 75%,\n    transparent 75%,\n    transparent\n  );\n  background-size: 4px 4px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// GenericInput.vue?12096b77","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <div\n    id=\"grid\"\n    :style=\"{ 'pointer-events': (currentTool === 'Drag' || currentTool === 'Map') ? 'none': 'auto' }\"\n    ref=\"gridParent\"\n    :class=\"{ 'reduce-ticks': reduceTicks }\"\n  >\n    <svg ref=\"grid\" id=\"svg-grid\">\n      <defs>\n        <pattern\n          v-for=\"(color, modifier) in crosshatchModifiers\"\n          :id=\"`crosshatch${modifier}`\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"10\" height=\"10\"\n        >\n          <path d='M-1,1 l2,-2\n                   M0,10 l10,-10\n                   M9,11 l2,-2' :stroke=\"color\" stroke-width='2'/>\n        </pattern>\n      </defs>\n      <g class=\"axis axis--x\"></g>\n      <g class=\"axis axis--y\"></g>\n      <g class=\"images\" data-transform-plz></g>\n      <g class=\"polygons\" data-transform-plz></g>\n    </svg>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex';\nimport { debounce } from '../../utilities';\nimport d3AwareThrottle from '../../utilities/d3-aware-throttle';\nimport methods from './methods';\nimport geometryHelpers, { pointDistanceToSegment } from './../../store/modules/geometry/helpers';\nimport modelHelpers from './../../store/modules/models/helpers';\nimport applicationHelpers from './../../store/modules/application/helpers';\nimport { ResizeEvents } from '../../components/Resize';\nimport drawMethods from './drawing';\nimport { expandWindowAlongEdge, windowLocation } from './snapping';\n\nconst d3 = require('d3');\n\nexport default {\n  name: 'grid',\n  data() {\n    const\n      xScale = v => this.rwuToGrid(v, 'x'),\n      yScale = v => this.rwuToGrid(v, 'y');\n\n    return {\n      points: [], // points for the face currently being drawn\n      axis: {\n        x: null,\n        y: null,\n      },\n      axis_generator: {\n        x: null,\n        y: null,\n      },\n      reduceTicks: false,\n      componentFacingSelection: null,\n      transform: { k: 1, x: 0, y: 0 },\n      transformAtLastRender: d3.zoomIdentity,\n      lastMousePosition: null,\n      handleMouseMove: null, // placeholder --> overwritten in mounted()\n      ...drawMethods({\n        xScale,\n        yScale,\n        selectImage: (img) => { this.currentImage = img; },\n        updateImage: (data) => window.application.$store.dispatch('models/updateImageWithData', data),\n      }),\n      crosshatchModifiers: {\n        '-highlight': 'green',\n        '-selected': 'green',\n        '-facing-selection': 'blue',\n        '': '#222'\n      },\n    };\n  },\n  mounted() {\n    // throttle/debounce event handlers\n    this.handleMouseMove = d3AwareThrottle(this.highlightSnapTarget, 100);\n\n    // render grid first time (not debounced, as this seems to fix an issue\n    // where the x bounds are set correctly, and then becomes incorrect when the\n    // debounced renderGrid runs)\n    this.renderGrid();\n\n    this.renderGrid = debounce(this.renderGrid, 5);\n\n    // add event listeners\n    this.$refs.grid.addEventListener('reloadGrid', this.reloadGridAndScales);\n\n    window.addEventListener('keyup', this.escapeAction);\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('resize', this.reloadGridAndScales);\n\n    ResizeEvents.$on('resize', this.reloadGridAndScales);\n\n    window.eventBus.$on('zoomToFit', this.zoomToFit);\n    window.eventBus.$on('scaleTo', this.scaleTo);\n  },\n  beforeDestroy() {\n    this.$refs.grid.removeEventListener('reloadGrid', this.reloadGridAndScales);\n\n    window.removeEventListener('keyup', this.escapeAction);\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('resize', this.reloadGridAndScales);\n\n    ResizeEvents.$off('resize', this.reloadGridAndScales);\n\n    window.eventBus.$off('zoomToFit', this.zoomToFit);\n    window.eventBus.$off('scaleTo', this.scaleTo);\n  },\n  computed: {\n    ...mapState({\n      currentMode: state => state.application.currentSelections.mode,\n      modeTab: state => state.application.currentSelections.modeTab,\n      currentTool: state => state.application.currentSelections.tool,\n      snapMode: state => state.application.currentSelections.snapMode,\n      previousStoryVisible: state => state.project.previous_story.visible,\n      gridVisible: state => state.project.grid.visible,\n      units: state => state.project.config.units,\n      spacing: state => state.project.grid.spacing,\n      // pixels to real world units, these are initialized in calcGrid based on the grid pixel dimensions and then never changed\n      scaleX: state => state.application.scale.x,\n      scaleY: state => state.application.scale.y,\n      windowDefs: state => state.models.library.window_definitions,\n      windowWidths: state => _.sumBy(state.models.library.window_definitions, 'width'),\n      allVertices: state => _.flatMap(state.geometry, 'vertices'),\n    }),\n    ...mapGetters({\n      currentStory: 'application/currentStory',\n      currentStoryGeometry: 'application/currentStoryGeometry',\n      denormalizedGeometry: 'application/currentStoryDenormalizedGeom',\n      currentSpace: 'application/currentSpace',\n      currentShading: 'application/currentShading',\n      currentComponent: 'application/currentComponent',\n      currentComponentInstance: 'application/currentComponentInstance',\n      currentSpaceProperty: 'application/currentSpaceProperty',\n    }),\n    spacePropertyKey() {\n      switch (this.currentSpaceProperty.type) {\n        case 'building_units': return 'building_unit_id';\n        case 'thermal_zones': return 'thermal_zone_id';\n        case 'space_types': return 'space_type_id';\n        case 'pitched_roofs': return 'pitched_roof_id';\n        case 'construction_sets': return 'construction_set_id';\n        default: throw new Error(`unrecognized space property type ${this.currentSpaceProperty.type}`);\n      }\n    },\n    currentImage: {\n      get() { return this.$store.getters['application/currentImage']; },\n      set(item) { this.$store.dispatch('application/setCurrentSubSelectionId', { id: item.id }); },\n    },\n    currentComponentType() { return this.currentComponent.type; },\n    currentComponentDefinition() { return this.currentComponent.definition; },\n    currentSubSelection: {\n      get() { return this.$store.getters['application/currentSubSelection']; },\n      set(item) { this.$store.dispatch('application/setCurrentSubSelectionId', { id: item.id }); },\n    },\n    currentComponentInstanceId: {\n      get() {\n        return (\n          this.$store.state.application.currentSelections.modeTab === 'components' &&\n          this.$store.state.application.currentSelections.component_instance_id);\n      },\n      set(id) {\n        this.$store.dispatch('application/setCurrentComponentInstanceId', { id });\n      },\n    },\n\n    // grid dimensions in real world units\n    min_x: {\n      get() { return this.$store.state.project.view.min_x; },\n      set(val) { this.$store.dispatch('project/setViewMinX', { min_x: val }); },\n    },\n    min_y: {\n      get() { return this.$store.state.project.view.min_y; },\n      set(val) { this.$store.dispatch('project/setViewMinY', { min_y: val }); },\n    },\n    max_x: {\n      get() { return this.$store.state.project.view.max_x; },\n      set(val) { this.$store.dispatch('project/setViewMaxX', { max_x: val }); },\n    },\n    max_y: {\n      get() { return this.$store.state.project.view.max_y; },\n      set(val) { this.$store.dispatch('project/setViewMaxY', { max_y: val }); },\n    },\n    // previous story\n    previousStory() {\n      const currentStoryNumber = this.$store.state.models.stories.findIndex(s => s === this.currentStory);\n      if (currentStoryNumber === 0) { return null; }\n      return this.$store.state.models.stories[currentStoryNumber - 1];\n    },\n    previousStoryGeometry() {\n      if (!this.previousStory) { return null; }\n      return this.$store.state.geometry.find(g => g.id === this.previousStory.geometry_id);\n    },\n    previousStoryPolygons() {\n      if (this.previousStoryVisible && this.previousStoryGeometry) {\n        return this.polygonsFromGeometry(this.previousStoryGeometry, { previous_story: true });\n      }\n      return [];\n    },\n    images() {\n      return this.currentStory.images\n        .map(img => ({\n          ...img,\n          current: (\n            // only allow interactions when the image tool is selected.\n            // otherwise, it's possible to move the image when we want to be\n            // panning the background.\n            this.currentTool === 'Image' &&\n            this.currentImage &&\n            this.currentImage.id === img.id),\n          clickable: (\n            this.currentTool === 'Image' &&\n            (!this.currentImage || this.currentImage.id !== img.id)\n          ),\n        }));\n    },\n    /*\n    * map all faces for the current story to polygon representations (sets of ordered points) for d3 to render\n    */\n    polygons() {\n      const currentStoryPolygons = this.polygonsFromGeometry(this.currentStoryGeometry);\n      return this.previousStoryPolygons ? this.previousStoryPolygons.concat(currentStoryPolygons) : currentStoryPolygons;\n    },\n    daylightingControlLocs() {\n      return _.flatten(\n        this.currentStory.spaces.map((space) => {\n          return space.daylighting_controls\n            .map(dc => ({\n              ...dc,\n              ...geometryHelpers.vertexForId(dc.vertex_id, this.currentStoryGeometry),\n              id: dc.id,\n              type: 'daylighting_controls',\n              face_id: space.face_id,\n            }));\n      }));\n    },\n    spaceFaces() {\n      // as opposed to shading faces\n      return this.denormalizedGeometry.faces\n        .filter(f => _.find(this.currentStory.spaces, { face_id: f.id }));\n    },\n    spaceEdges() {\n      return _.flatMap(this.spaceFaces, 'edges');\n    },\n    visibleVerts() {\n      return this.allVertices.filter(d =>\n        (this.min_x <= d.x && d.x <= this.max_x &&\n         this.min_y <= d.y && d.y <= this.max_y),\n      );\n    },\n  },\n  watch: {\n    // showTicks() { this.showOrHideAxes(); },\n    // TODO: method for when new view dimensions are imported or the px dimensions change\n    gridVisible() { this.showOrHideAxes(); },\n    spacing() { this.updateGrid(); },\n\n    currentMode() { this.draw(); },\n    polygons() { this.draw(); },\n    images() { this.draw(); },\n    windowDefs() { this.draw(); },\n    currentTool() {\n      this.points = [];\n      this.draw();\n      this.clearHighlights();\n      if (this.currentTool === 'Image' && this.currentStory.images.length) {\n        if (!this.currentImage ||\n            !_.includes(_.map(this.currentStory.images, 'id'), this.currentImage.id)\n           ) {\n              this.currentImage = this.currentStory.images[0];\n        }\n      } else if (!_.includes(_.map(this.currentStory.spaces, 'id'), this.currentSubSelection.id)) {\n        this.currentSubSelection = this.currentStory.spaces[0];\n      }\n    },\n    currentSpace() {\n      this.points = [];\n      this.draw();\n    },\n    currentShading() {\n      this.points = [];\n      this.draw();\n    },\n    transform(newTransform, lastTransform) {\n      // hide polygon names if zoomed out enough\n      if (newTransform.k < 0.5) {\n        d3.select('#svg-grid').selectAll('.polygon-text').style('display', 'none');\n      } else {\n        d3.select('#svg-grid').selectAll('.polygon-text').style('display', 'initial');\n      }\n    },\n  },\n  methods: {\n    ...methods,\n    windowCenterLocs(cursor) {\n      // for each window, this should be the projection\n      // of cursor onto that edge.\n      return this.currentStory.windows\n        .map(w => ({ w, e: _.find(this.denormalizedGeometry.edges, { id: w.edge_id }) }))\n        .map(({ w, e }) => {\n          const wind = this.denormalizeWindow(e, w);\n          const { proj } = pointDistanceToSegment(cursor, wind);\n          return {\n            ...wind,\n            id: w.id,\n            type: 'windows',\n            ...proj,\n          };\n        });\n    },\n    currentComponentTypeLocs(cursor) {\n      if (this.currentComponentType === 'window_definitions') {\n        return this.windowCenterLocs(cursor);\n      } else if (this.currentComponentType === 'daylighting_control_definitions') {\n        return this.daylightingControlLocs;\n      } else {\n        throw new Error(`unrecognized componentType: ${this.currentComponentType}`);\n      }\n    },\n    denormalizeWindow(edge, { edge_id, alpha, window_definition_id }) {\n      const\n        windowDefn = _.find(this.windowDefs, { id: window_definition_id }),\n        center = windowLocation(edge, { alpha });\n      return {\n        ...expandWindowAlongEdge(edge, center, windowDefn),\n        window_definition_type: windowDefn.window_definition_type,\n        width: windowDefn.width,\n        spacing: windowDefn.window_spacing,\n      };\n    },\n    windowsOnFace(face) {\n      return _.flatMap(\n        face.edges,\n        e => _.filter(this.currentStory.windows , { edge_id: e.id })\n              .map(w => ({\n                ...this.denormalizeWindow(e, w),\n                selected: w.id === this.currentComponentInstanceId,\n                facingSelection: w.id === this.componentFacingSelection,\n              })));\n    },\n    polygonsFromGeometry(geometry, extraPolygonAttrs = {}) {\n      const\n        geom = geometryHelpers.denormalize(geometry)\n      const polygons = geom.faces.map((face) => {\n        // look up the model (space or shading) associated with the face\n        const\n          model = modelHelpers.modelForFace(this.$store.state.models, face.id),\n          // <polygon> are automatically closed, so no need to repeat start vertex\n          points = face.vertices.slice(0, -1),\n          polygon = {\n            face_id: face.id,\n            name: model.name,\n            modelType: model.type,\n            color: model.color,\n            points,\n            labelPosition: this.polygonLabelPosition(points),\n            windows: this.windowsOnFace(face),\n            daylighting_controls: (model.daylighting_controls || [])\n              .map(dc => ({\n                ...geometryHelpers.vertexForId(dc.vertex_id, geometry),\n                selected: dc.id === this.currentComponentInstanceId,\n                facingSelection:  dc.id === this.componentFacingSelection,\n              })),\n            ...extraPolygonAttrs,\n          };\n        if (!points.length) {\n          return null; // don't render point-less polygons\n        }\n\n        // if the model is a space, set the polygon's color based on the current mode\n        if (model.type === 'space') {\n          if (this.currentMode === 'thermal_zones') {\n            const thermalZone = modelHelpers.libraryObjectWithId(this.$store.state.models, model.thermal_zone_id);\n            polygon.color = thermalZone ? thermalZone.color : applicationHelpers.config.palette.neutral;\n          } else if (this.currentMode === 'space_types') {\n            const spaceType = modelHelpers.libraryObjectWithId(this.$store.state.models, model.space_type_id);\n            polygon.color = spaceType ? spaceType.color : applicationHelpers.config.palette.neutral;\n          } else if (this.currentMode === 'building_units') {\n            const buildingUnit = modelHelpers.libraryObjectWithId(this.$store.state.models, model.building_unit_id);\n            polygon.color = buildingUnit ? buildingUnit.color : applicationHelpers.config.palette.neutral;\n          } else if (this.currentMode === 'pitched_roofs') {\n            const pitchedRoof = modelHelpers.libraryObjectWithId(this.$store.state.models, model.pitched_roof_id);\n            polygon.color = pitchedRoof ? pitchedRoof.color : applicationHelpers.config.palette.neutral;\n          } else if (this.currentMode === 'construction_sets') {\n            const constructionSet = modelHelpers.libraryObjectWithId(this.$store.state.models, model.construction_set_id);\n            polygon.color = constructionSet ? constructionSet.color : applicationHelpers.config.palette.neutral;\n          }\n\n        }\n        return polygon;\n      });\n\n      return _.compact(polygons);\n    }\n  },\n};\n\n</script>\n<style lang=\"scss\" scoped>@import \"./../../scss/config\";\n// styles for dynamically created d3 elements go into src/scss/partials/d3.scss\n#grid {\n  user-select: none;\n\n  button {\n    position: absolute;\n    z-index: 200;\n  }\n  img {\n    position: absolute;\n  }\n\n  svg {\n    background-size: cover;\n    background-repeat: no-repeat;\n    height: 100%;\n    left: 0;\n    top: 0;\n    position: absolute;\n    width: 100%;\n    z-index: 2;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Grid.vue?d5a658d6","<template>\n  <input\n    type=\"file\"\n    accept=\"image/jpeg,image/png,image/svg,image/gif\"\n    ref=\"imageInput\"\n    id=\"upload-image-input\"\n    style=\"display: none;\"\n    @change=\"uploadImage\"\n  />\n</template>\n<script>\nimport { mapState, mapGetters } from 'vuex';\nimport modelHelpers from './../store/modules/models/helpers';\n\nexport default {\n  name: 'ImageUpload',\n  mounted() {\n    window.eventBus.$on('uploadImage', this.promptUpload.bind(this));\n  },\n  computed: {\n    ...mapState({\n      pxPerRWU(state) {\n        const { pixels, rwuRange } = state.application.scale.x;\n        return pixels / (rwuRange[1] - rwuRange[0]);\n      },\n      max_y: state => state.project.view.max_y,\n      min_y: state => state.project.view.min_y,\n      min_x: state => state.project.view.min_x,\n      max_x: state => state.project.view.max_x,\n    }),\n    ...mapGetters({\n      currentStory: 'application/currentStory',\n    }),\n  },\n  methods: {\n    promptUpload() {\n      this.$refs.imageInput.click();\n    },\n    uploadImage(event) {\n      const files = event.target.files;\n      const that = this;\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const reader = new FileReader();\n\n        reader.addEventListener('load', () => {\n          const image = new Image();\n          image.onload = () => {\n            const rwuHeight = (image.height / that.pxPerRWU) / 4;\n            const rwuWidth = (image.width / that.pxPerRWU) / 4;\n            that.$store.dispatch('models/createImageForStory', {\n              story_id: that.currentStory.id,\n              src: image.src,\n              // TODO: unique name\n              name: modelHelpers.generateName(that.$store.state.models, 'images', that.currentStory),\n              // translate image dimensions into rwu\n              height: rwuHeight,\n              width: rwuWidth,\n              x: (that.min_x + that.max_x) / 2,\n              y: (that.min_y + that.max_y) / 2,\n            });\n            that.$refs.imageInput.value = '';\n          };\n          image.src = reader.result;\n        }, false);\n        if (file) { reader.readAsDataURL(file); }\n      }\n    },\n  },\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ImageUpload.vue?a294dfa8","<template>\n  <div class=\"info\">\n    <InfoIcon class=\"button\" />\n    <span class=\"tooltip-text\">\n      <slot></slot>\n    </span>\n  </div>\n</template>\n<script>\nimport InfoIcon from './../assets/svg-icons/info_icon.svg';\n\nexport default {\n  name: 'Info',\n  components: {\n    InfoIcon,\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n.info {\n  position: relative;\n  display: inline-block;\n  svg {\n    fill: $gray-light;\n  }\n  .tooltip-text {\n    visibility: hidden;\n    width: 300px;\n    bottom: 100%;\n    left: 50%;\n    margin-left: -150px;\n    position: absolute;\n    z-index: 1;\n\n    background-color: black;\n    color: $gray-lightest;\n    text-align: center;\n    padding: 5px 5px;\n    border-radius: 6px;\n  }\n  &:hover .tooltip-text {\n    visibility: visible;\n  }\n  .tooltip-text::after {\n    content: \" \";\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    margin-left: -9px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: black transparent transparent transparent;\n  }\n\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Info.vue?fe49161a","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <section id=\"inspector\">\n    <section id=\"geometry-list\" class=\"list\">\n      <template v-if=\"!currentSpace && !currentShading\" v-for=\"face in currentStoryGeometry.faces\">\n        <header>\n          <h3>Face {{face.id}}</h3>\n        </header>\n        <div v-for=\"edgeRef in face.edgeRefs\" class=\"list-item\">\n          edge {{ edgeRef.edge_id }} {{ edgeRef.reverse ? 'reversed ' : '' }}\n          <br>startpoint {{ startpoint(edgeRef) }}\n          <br>endpoint {{ endpoint(edgeRef) }}\n        </div>\n      </template>\n\n      <template v-if=\"currentSubSelectionFace\">\n        <header>\n          <h3>Face {{currentSubSelectionFace.id}} on {{ currentSpace ? currentSpace.name : currentShading.name }}</h3>\n        </header>\n        <div v-for=\"edgeRef in currentSubSelectionFace.edgeRefs\" class=\"list-item\">\n          edge {{ edgeRef.edge_id }} {{ edgeRef.reverse ? 'reversed ' : '' }}\n          <br>startpoint {{ startpoint(edgeRef) }}\n          <br>endpoint {{ endpoint(edgeRef) }}\n        </div>\n      </template>\n    </section>\n  </section>\n</template>\n\n<script>\n\nimport { mapGetters } from 'vuex';\nimport geometryHelpers from './../store/modules/geometry/helpers';\n\nexport default {\n  name: 'inspector',\n  data() {\n    return {\n      geometryInspector: true,\n      storyInspector: false,\n    };\n  },\n  methods: {\n    startpoint(edgeRef) {\n      const edge = this.edgeForId(edgeRef.edge_id);\n      if (edgeRef.reverse) {\n        const v = this.vertexForId(edge.v2);\n        return `v2 ${v.id} (${v.x}, ${v.y})`;\n      }\n      const v = this.vertexForId(edge.v1);\n      return `v1 ${v.id} (${v.x}, ${v.y})`;\n    },\n    endpoint(edgeRef) {\n      const edge = this.edgeForId(edgeRef.edge_id);\n      if (!edgeRef.reverse) {\n        const v = this.vertexForId(edge.v2);\n        return `${v.id} (v2) (${v.x}, ${v.y})`;\n      }\n      const v = this.vertexForId(edge.v1);\n      return `${v.id} (v1) (${v.x}, ${v.y})`;\n    },\n    edgeForId(id) { return geometryHelpers.edgeForId(id, this.currentStoryGeometry); },\n    vertexForId(id) { return geometryHelpers.vertexForId(id, this.currentStoryGeometry); },\n  },\n  computed: {\n    ...mapGetters({\n      currentStory: 'application/currentStory',\n      currentSubSelectionFace: 'application/currentSubSelectionFace',\n      currentStoryGeometry: 'application/currentStoryGeometry',\n      currentSpace: 'application/currentSpace',\n      currentShading: 'application/currentShading',\n    }),\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n#inspector {\n  // background-color: $gray-medium-dark;\n  background-color: $gray-medium;\n  border-left: 1px solid $gray-darkest;\n  font-size: .85rem;\n  width: 18rem;\n  position: absolute;\n  right: 0;\n  z-index: 2;\n  top: 0;\n\n  .list {\n    height: calc(100vh - 4.75rem);\n    overflow: auto;\n\n    header {\n      background-color: $gray-dark;\n      > h3 {\n        display: inline-block;\n        margin: 1rem;\n      }\n    }\n    .list-item {\n      border-top: 1px solid $gray-medium-light;\n      padding: .5rem 1rem;\n      h4 {\n        margin: .5rem 0;\n      }\n      span {\n        display: block;\n        margin-bottom: .25rem;\n      }\n      button {\n        margin-top: .5rem;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Inspector.vue?33990797","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the 'OpenStudio' trademark, 'OS', 'os', or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <EditableSelectList\n    :selectedObjectType=\"mode\"\n    :objectTypes=\"objectTypesDisplay\"\n    :rows=\"rows\"\n    :columns=\"columns\"\n    :selectedRowId=\"selectedObject && selectedObject.id\"\n    :selectRow=\"row => { selectedObject = row; }\"\n    :addRow=\"addRowPermitted && createObject\"\n    :editRow=\"modifyObject\"\n    :destroyRow=\"destroyObject\"\n    :searchAvailable=\"searchAvailable\"\n    :compact=\"compact\"\n    @toggleCompact=\"c => $emit('toggleCompact', c)\"\n    @selectObjectType=\"changeMode\"\n  />\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport libconfig from '../store/modules/models/libconfig';\nimport EditableSelectList from './EditableSelectList.vue';\nimport helpers from '../store/modules/models/helpers';\nimport { assignableProperties, componentTypes } from '../store/modules/application/appconfig';\n\n\nfunction keyForMode(mode) {\n  return (\n    mode === 'stories' ? 'currentStory' :\n    _.includes(componentTypes, mode) ? 'currentComponentDef' :\n    _.includes(assignableProperties, mode) ? 'currentSpaceProperty' :\n    _.includes(['windows', 'daylighting_controls'], mode) ? 'currentComponentInstance' :\n    'currentSubSelection');\n}\n\n\nexport default {\n  name: 'Library',\n  props: ['objectTypes', 'mode', 'searchAvailable', 'compact'],\n  computed: {\n    objectTypesDisplay() {\n      return this.objectTypes.map(ot => ({\n        val: ot,\n        display: libconfig[ot].displayName,\n      }));\n    },\n    columns() {\n      if (!libconfig[this.mode]) return [];\n      return libconfig[this.mode].columns\n    },\n    currentStory: {\n      get() { return this.$store.getters['application/currentStory']; },\n      set(story) { this.$store.dispatch('application/setCurrentStoryId', { id: story.id }); },\n    },\n    // current selection getters and setters - these dispatch actions to update the data store when a new item is selected\n    currentSubSelection: {\n      get() { return this.$store.getters['application/currentSubSelection']; },\n      set(item) { this.$store.dispatch('application/setCurrentSubSelectionId', { id: item.id }); },\n    },\n    currentSpaceProperty: {\n      get() { return this.$store.getters['application/currentSpaceProperty']; },\n      set(item) { this.$store.dispatch('application/setCurrentSpacePropertyId', { id: item.id }); },\n    },\n    currentComponentDef: {\n      get() { return this.$store.getters['application/currentComponentDefinition']; },\n      set(item) { this.$store.dispatch('application/setCurrentComponentDefinitionId', { id: item.id }); },\n    },\n    currentComponentInstance: {\n      get() { return this.$store.getters['application/currentComponentInstance']; },\n      set(ci) { this.$store.dispatch('application/setCurrentComponentInstanceId', { id: ci.id }); },\n    },\n    /*\n    * returns the currently selected object in the library\n    * when set, dispatches an action to update the application's currentSelections in the store\n    */\n    selectedObject: {\n      get() {\n        return this[this.keyForCurrentMode];\n      },\n      set(item) {\n        this[this.keyForCurrentMode] = item;\n      },\n    },\n    keyForCurrentMode() {\n      return keyForMode(this.mode);\n    },\n    ...mapState({\n      stories: state => state.models.stories,\n       modeTab: state => state.application.currentSelections.modeTab,\n    }),\n    spaces() { return this.currentStory.spaces; },\n    shading() { return this.currentStory.shading; },\n    images() { return this.currentStory.images; },\n    windows() { return this.currentStory.windows; },\n    daylighting_controls() {\n      return _.flatMap(this.currentStory.spaces, s => s.daylighting_controls);\n    },\n    rows() {\n      return _.includes(\n          ['stories', 'spaces', 'shading', 'images', 'windows', 'daylighting_controls'],\n          this.mode,\n      ) ? this[this.mode] : this.$store.state.models.library[this.mode];\n    },\n    componentInstanceMode() {\n      return _.includes(['windows', 'daylighting_controls'], this.mode);\n    },\n    addRowPermitted() {\n      return this.mode !== 'stories' || this.modeTab === 'floorplan';\n    },\n    renderByMode: {\n      get() { return this.$store.state.application.currentSelections.mode; },\n      set(mode) { this.$store.dispatch('application/setCurrentMode', { mode }); },\n    },\n  },\n  watch: {\n    rows() {\n      if (!(this.selectedObject && _.includes(_.map(this.rows, 'id'), this.selectedObject.id)) && this.rows.length > 0) {\n        this.selectedObject = this.rows[0];\n      }\n    },\n    mode(currMode, oldMode) {\n      if (keyForMode(currMode) === 'currentSpaceProperty') {\n        this.renderByMode = this.mode;\n      } else if (keyForMode(oldMode) === 'currentSpaceProperty') {\n        this.renderByMode = 'spaces';\n      }\n    }\n  },\n  methods: {\n    changeMode(newMode) {\n      if (!_.includes(this.objectTypes, newMode)) {\n        throw new Error(`Unable to find ${newMode} in options ${JSON.stringify(this.objectTypes)}`);\n      }\n      this.$emit('changeMode', newMode);\n    },\n    modifyObject(rowId, colName, value) {\n      if (this.componentInstanceMode) {\n        return this.modifyComponentInstance(rowId, colName, value);\n      }\n      const row = _.find(this.rows, { id: rowId });\n      const result = helpers.setValueForKey(row, this.$store, this.mode, colName, value);\n      if (!result.success) {\n        window.eventBus.$emit('error', result.error);\n      }\n    },\n    modifyComponentInstance(id, key, value) {\n      if (this.mode === 'windows') {\n        this.$store.dispatch('models/modifyWindow', { id, key, value, story_id: this.currentStory.id });\n      } else if (this.mode === 'daylighting_controls') {\n        this.$store.dispatch('models/modifyDaylightingControl', { id, key, value, story_id: this.currentStory.id });\n      } else {\n        throw new Error(`unrecognized component mode \"${this.mode}\"`);\n      }\n    },\n    /*\n    * CREATE OBJECT\n    * initializes an empty object\n    */\n    createObject() {\n      switch (this.mode) {\n        case 'stories':\n          this.$store.dispatch('models/initStory');\n          return;\n        case 'spaces':\n          this.$store.dispatch('models/initSpace', { story: this.currentStory });\n          break;\n        case 'shading':\n          this.$store.dispatch('models/initShading', { story: this.currentStory });\n          break;\n        case 'images':\n          window.eventBus.$emit('uploadImage');\n          break;\n        case 'windows':\n        case 'daylighting_controls':\n          window.eventBus.$emit('error', 'Create components by clicking where you would like it to be');\n          break;\n        default:\n          this.$store.dispatch('models/createObjectWithType', { type: this.mode });\n          break;\n      }\n      this.selectLatest();\n    },\n    selectLatest() {\n      const newestRow = _.maxBy(this.rows, r => +r.id);\n      if (!newestRow) { return; }\n      this.selectedObject = newestRow;\n    },\n\n    /*\n    * DESTROY OBJECT\n    */\n    destroyObject(object) {\n      switch (this.mode) {\n        case 'stories':\n          this.$store.dispatch('models/destroyStory', { story: object });\n          return;\n        case 'spaces':\n          this.$store.dispatch('models/destroySpace', {\n            space: object,\n            story: this.$store.state.models.stories.find(story => story[this.mode].find(o => o.id === object.id)),\n          });\n          break;\n        case 'shading':\n          this.$store.dispatch('models/destroyShading', {\n            shading: object,\n            story: this.$store.state.models.stories.find(story => story[this.mode].find(o => o.id === object.id)),\n          });\n          break;\n        case 'images':\n          this.$store.dispatch('models/destroyImage', {\n            image: object,\n            story: this.$store.state.models.stories.find(story => story[this.mode].find(o => o.id === object.id)),\n          });\n          break;\n        case 'window_definitions':\n          this.$store.dispatch('models/destroyWindowDef', { object });\n          break;\n        case 'daylighting_control_definitions':\n          this.$store.dispatch('models/destroyDaylightingControlDef', { object });\n          break;\n        case 'windows':\n          this.$store.dispatch('models/destroyWindow', { story_id: this.currentStory.id, object });\n          break;\n        case 'daylighting_controls':\n          this.$store.dispatch('models/destroyDaylightingControl', { story_id: this.currentStory.id, object });\n          break;\n        default:\n          this.$store.dispatch('models/destroyObject', { object });\n          break;\n      }\n    },\n\n  },\n  components: {\n    EditableSelectList,\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Library.vue?1cd6b22a","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the 'OpenStudio' trademark, 'OS', 'os', or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n<template>\n  <div class=\"library-select\">\n    <div class=\"rows\">\n      <div\n        v-for=\"item in rows\"\n        :key=\"item.id\"\n        :class=\"{ active: selectedItemId === item.id }\"\n        @click=\"selectItem(item)\"\n        :data-id=\"item.id\"\n      >\n          <span :style=\"{ 'background-color': item.color }\"></span>\n          {{item.name}}\n          <a @click.stop=\"destroyItem(item)\" class=\"destroy\" title=\"delete\">\n            <Delete class=\"button\" />\n          </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Delete from './../assets/svg-icons/delete.svg';\n\nexport default {\n  name: 'LibrarySelect',\n  props: ['rows', 'selectedItemId', 'selectItem', 'destroyItem'],\n  components: {\n    Delete,\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n\n.library-select {\n  padding: 0 0 !important;\n  max-height: calc(100% - 65px);\n  overflow-y: auto;\n  .rows {\n    > div {\n      border-bottom: 1px solid $gray-darkest;\n      cursor: pointer;\n      width: calc(100% - 1rem);;\n      height: 2rem;\n      padding: 0 .5rem;\n\n      align-items: center;\n      display: flex;\n      justify-content: space-between;\n\n      &.active {\n        color: $primary;\n        background: $gray-medium-light;\n      }\n      span {\n        display: inline-block;\n        height: 1rem;\n        width: 1rem;\n      }\n\n      svg {\n        height: 1rem;\n        width: 1rem;\n        margin-top: -5px;\n        margin-left: 10px;\n        fill: $gray-lightest;\n\n        &:hover {\n          fill: $secondary;\n        }\n      }\n    }\n  }\n  // overflow: auto;\n  // height: calc(100% - 5rem);\n  // > div  {\n  //     border-bottom: 1px solid $gray-darkest;\n  //     cursor: pointer;\n  //     height: 2rem;\n  //     padding: 0 .5rem;\n  //     span {\n  //         display: inline-block;\n  //         height: 1rem;\n  //         width: 1rem;\n  //     }\n  //     &.active {\n  //         color: $primary;\n  //         svg {\n  //             cursor: pointer;\n  //             height: 1rem;\n  //             path {\n  //                 fill: $gray-lightest;\n  //             }\n  //             &:hover {\n  //                 path {\n  //                     fill: $secondary;\n  //                 }\n  //             }\n  //         }\n  //     }\n  // }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// LibrarySelect.vue?d310fd3c","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n<aside>\n    <div class=\"overlay\"></div>\n    <div class=\"modal\">\n        <header>\n            <h2>Quickstart</h2>\n        </header>\n        <NonChromeWarning />\n        <div class=\"content\">\n            <p>\n              <a @click=\"mapEnabled = false; mapVisible = false; $emit('close')\" class=\"quickstart-action new-floorplan\">\n                <div class=\"title\">New</div>\n                <QuickstartIconNewFloorplan />\n                <div class=\"explanation\">Create a new floorplan</div>\n              </a>\n            </p>\n            <p>\n              <a @click=\"mapEnabled = true; tool='Map'; $emit('close')\" :disabled=\"!online\" class=\"quickstart-action\">\n                <div class=\"title\">New With Map</div>\n                <QuickstartIconNewMapFloorplan />\n                <div class=\"explanation\">Create a new floorplan with a map</div>\n              </a>\n            </p>\n            <p>\n              <a @click=\"$refs.importInput.click()\" id=\"import\" class=\"quickstart-action open-floorplan\">\n                <div class=\"title\">Open</div>\n                <QuickstartIconOpenFloorplan />\n                <div class=\"explanation\">Open an existing floorplan</div>\n              </a>\n            </p>\n            <input id=\"importInput\" ref=\"importInput\" @change=\"importFloorplanAsFile\" type=\"file\"/>\n        </div>\n    </div>\n</aside>\n</template>\n\n<script>\nimport svgs from '../svgs';\nimport NonChromeWarning from '../NonChromeWarning.vue';\n\nexport default {\n  name: 'MapModal',\n  data() {\n    return {\n      address: '',\n    };\n  },\n  computed: {\n    online () { return window.api && window.api.config ? window.api.config.online : true; },\n    mapEnabled: {\n      get() { return this.$store.state.project.map.enabled; },\n      set(enabled) {\n        this.$store.dispatch('project/setMapEnabled', { enabled });\n      },\n    },\n    tool: {\n      get() { return this.$store.state.application.currentSelections.tool; },\n      set(val) { this.$store.dispatch('application/setCurrentTool', { tool: val }); },\n    },\n  },\n  methods: {\n    importFloorplanAsFile(event) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n      reader.addEventListener('load', () => {\n        this.importFloorplan(reader.result);\n      }, false);\n\n      if (file) { reader.readAsText(file); }\n    },\n    importFloorplan(data) {\n      this.$store.dispatch('importFloorplan', {\n        clientWidth: document.getElementById('svg-grid').clientWidth,\n        clientHeight: document.getElementById('svg-grid').clientHeight,\n        data: JSON.parse(data),\n      });\n      this.$emit('close');\n    },\n  },\n  components: {\n    ...svgs,\n    NonChromeWarning,\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../../scss/config\";\n\n.modal {\n    width: 35rem;\n    background: #CCCCCC;\n    header h2 {\n      font-weight: bold;\n    }\n\n    .content {\n        margin: 0 2rem 2rem 2rem;\n        text-align: center;\n        display: flex;\n        justify-content: space-around;\n\n        button {\n            margin: 1rem .5rem;\n        }\n\n        input[type=file] {\n            display: none;\n        }\n\n        .explanation {\n          color: #5D5D5D;\n        }\n        .title {\n          color: #5D5D5D;\n          text-transform: uppercase;\n          font-weight: bold;\n          margin-top: 2rem;\n        }\n    }\n}\n\n.quickstart-action {\n  margin: auto;\n  svg {\n    height: 4rem;\n    width: 4rem;\n  }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// MapModal.vue?c02d0c50","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n<aside>\n    <div @click=\"close\" class=\"overlay\"></div>\n    <div class=\"modal\">\n      <span>\n        <svg class=\"close-button\" @click=\"close\" viewBox=\"0 0 256 256\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z\"/>\n        </svg>\n      </span>\n        <header>\n            <h2>{{ title }}</h2>\n        </header>\n\n        <div class=\"content\">\n          <slot></slot>\n        </div>\n    </div>\n</aside>\n</template>\n\n<script>\n\nexport default {\n  name: 'ModalBase',\n  props: ['title'],\n  methods: {\n    close: function() {\n      this.$emit('close');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../../scss/config\";\n.content {\n    margin: 1rem;\n    text-align: center;\n\n    button {\n        margin: 1rem .5rem;\n    }\n}\n\n.modal {\n    width: 30rem;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    z-index: 4;\n    cursor: default;\n\n    svg {\n        margin-left: -0.25rem;\n        width: 1rem;\n        path {\n            fill: $gray-medium-light;\n            stroke-width: 2px;\n            stroke: $gray-medium-light\n        }\n    }\n\n    .close-button {\n      cursor: pointer;\n      text-transform: uppercase;\n      position: relative;\n      float: left;\n      left: 18px;\n      top: 8px;\n    }\n}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ModalBase.vue?6815350b","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <ModalBase\n    :title=\"`Save ${saveWhat} as`\"\n    @close=\"$emit('close')\"\n  >\n    <span class=\"input-text\">\n      <input ref=\"downloadName\" type=\"text\"\n        id=\"download-name\"\n        @keyup.enter=\"downloadFile\"\n        :value=\"saveWhat.toLowerCase()\"\n        spellcheck=\"false\"\n      />\n      .json\n      <button class=\"download-button\" @click=\"downloadFile\">Download</button>\n    </span>\n  </ModalBase>\n</template>\n\n<script>\nimport ModalBase from './ModalBase.vue';\n\nexport default {\n  name: 'SaveAsModal',\n  props: ['saveWhat', 'dataToDownload'],\n  mounted() {\n    this.$refs.downloadName.focus();\n  },\n  methods: {\n    downloadFile: function() {\n      const a = document.createElement('a');\n      a.setAttribute('href', `data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(this.dataToDownload))}`);\n      a.setAttribute('download', this.$refs.downloadName.value + '.json');\n      a.click();\n\n      console.log(`exporting:\\n${JSON.stringify(this.dataToDownload)}`); // eslint-disable-line\n      this.$emit('close');\n    },\n  },\n  components: {\n    ModalBase,\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../../scss/config\";\n.download-button {\n  cursor: pointer;\n  text-transform: uppercase;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// SaveAsModal.vue?73769db5","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <ModalBase\n    class=\"settings-modal\"\n    title=\"Settings\"\n    @close=\"$emit('close')\"\n  >\n    <div class=\"settings\">\n      <p>\n        <label class=\"input-text\">\n          North Axis\n          <input type=\"text\" v-model.number.lazy=\"northAxis\" :disabled=\"mapEnabled\" />\n        </label>\n      </p>\n      <ExpandableDrawer title=\"Ground Properties\" class=\"ground-props-drawer\">\n        <p>\n          <label class=\"input-text\">\n            Floor Offset\n            <Info>\n              Specifies the vertical offset between the building floor and the ground plane.\n              Use a value &lt; 0 for buildings with below-grade spaces, or a value &gt; 0 for,\n              e.g., buildings on piers.\n            </Info>\n            <input type=\"text\" v-model=\"floor_offset\" />\n          </label>\n        </p>\n        <p>\n          <label class=\"input-text\">\n            Azimuth Angle\n            <Info>\n              Direction of the ground plane, in clockwise degrees from the\n              positive y-axis when viewed from above.\n            </Info>\n            <input type=\"text\" v-model=\"azimuth_angle\" />\n          </label>\n        </p>\n        <p>\n          <label class=\"input-text\">\n            Tilt Slope\n            <Info>\n              Slope of the ground plane from horizontal. For example, a value of 1 implies a 45&deg; angle.\n            </Info>\n            <input type=\"text\" v-model=\"tilt_slope\" />\n          </label>\n        </p>\n      </ExpandableDrawer>\n      <button class=\"button\" @click=\"$emit('close')\">Okay</button>\n    </div>\n  </ModalBase>\n</template>\n<script>\nimport { mapState } from 'vuex';\nimport ModalBase from './ModalBase.vue';\nimport Info from '../Info.vue';\nimport ExpandableDrawer from '../ExpandableDrawer.vue';\n\nexport default {\n  name: 'Settings',\n  computed: {\n    ...mapState({\n        ground: state => state.project.ground,\n        mapEnabled: state => state.project.map.enabled,\n    }),\n    floor_offset: {\n      get() { return this.ground.floor_offset; },\n      set(val) { this.$store.dispatch('project/modifyGround', { key: 'floor_offset', val }); },\n    },\n    azimuth_angle: {\n      get() { return this.ground.azimuth_angle; },\n      set(val) { this.$store.dispatch('project/modifyGround', { key: 'azimuth_angle', val }); },\n    },\n    tilt_slope: {\n      get() { return this.ground.tilt_slope; },\n      set(val) { this.$store.dispatch('project/modifyGround', { key: 'tilt_slope', val }); },\n    },\n    northAxis: {\n      get() { return `${this.$store.state.project.north_axis}°`; },\n      set(northAxis) { this.$store.dispatch('project/setNorthAxis', { north_axis: northAxis }); },\n    },\n  },\n  components: {\n    ModalBase,\n    Info,\n    ExpandableDrawer,\n  },\n}\n</script>\n<style lang=\"scss\">\n@import \"./../../scss/config\";\n.settings-modal .modal {\n  width: 260px;\n}\n\n.settings {\n  margin: 0 auto;\n  width: 200px;\n  input {\n    height: 20px;\n    font-size: 16px;\n    margin-left: auto;\n    width: 30px;\n  }\n\n  .ground-props-drawer {\n    .title {\n      text-align: left;\n    }\n    border: grey 1px solid;\n    border-radius: 5px;\n    padding: 4px;\n    padding-left: 10px;\n    width: 210px;\n    margin-left: -12px;\n  }\n\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Settings.vue?32119eec","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <div id=\"layout-navigation\">\n    <nav id=\"navigation\">\n        <section id=\"selections\">\n        </section>\n\n        <div id=\"list\">\n          <Library\n            :objectTypes=\"['stories']\"\n            :mode=\"'stories'\"\n            :compact=\"libraryExpanded !== 'stories'\"\n            @toggleCompact=\"libraryExpanded = (libraryExpanded === 'stories' ? false : 'stories')\"\n          />\n          <Library\n            :objectTypes=\"objectTypesForTab\"\n            :mode=\"subselectionType\"\n            @changeMode=\"newMode => { subselectionType = newMode; }\"\n            :searchAvailable=\"true\"\n            :compact=\"libraryExpanded !== 'subselection'\"\n            @toggleCompact=\"libraryExpanded = (libraryExpanded === 'subselection' ? false : 'subselection')\"\n          />\n        </div>\n    </nav>\n\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash';\nimport { mapState, mapGetters } from 'vuex';\nimport { getSiblings } from './../utilities';\nimport applicationHelpers from './../store/modules/application/helpers';\nimport modelHelpers from './../store/modules/models/helpers';\nimport ResizeEvents from './Resize/ResizeEvents';\nimport Library from './Library.vue';\nimport LibrarySelect from './LibrarySelect.vue';\n\nlet fullWidth;\nconst collapsedWidth = 8;\nexport default {\n  name: 'navigation',\n  data() {\n    return {\n      libraryExpanded: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      currentComponent: 'application/currentComponent',\n    }),\n    ...mapState({\n      modeTab: state => state.application.currentSelections.modeTab,\n    }),\n\n    /*\n    * current selection getters and setters\n    * these dispatch actions to update the data store when a new item is selected\n    */\n    currentStory: {\n      get() { return this.$store.getters['application/currentStory']; },\n      set(story) { this.$store.dispatch('application/setCurrentStoryId', { id: story.id }); },\n    },\n    currentSubSelection: {\n      get() { return this.$store.getters['application/currentSubSelection']; },\n      set(item) { this.$store.dispatch('application/setCurrentSubSelectionId', { id: (item ? item.id : null) }); },\n    },\n\n    // currentStory's child spaces, shading, and images\n    spaces() { return this.currentStory.spaces; },\n    shading() { return this.currentStory.shading; },\n    images() { return this.currentStory.images; },\n    objectTypesForTab() {\n      switch (this.modeTab) {\n        case 'floorplan':\n          return ['spaces', 'shading', 'images'];\n        case 'shading':\n          return ['shading'];\n        case 'components':\n          return ['window_definitions', 'daylighting_control_definitions'];\n        case 'assign':\n          return ['building_units', 'thermal_zones', 'space_types', 'construction_sets', 'pitched_roofs'];\n      }\n    },\n    mode: {\n      get() { return this.$store.state.application.currentSelections.mode; },\n      set(mode) { this.$store.dispatch('application/setCurrentMode', { mode }); },\n    },\n    subselectionType: {\n      get() { return this.$store.state.application.currentSelections.subselectionType; },\n      set(sst) { this.$store.dispatch('application/setCurrentSubselectionType', { subselectionType: sst }); },\n    },\n  },\n  methods: {\n    // reset the nagiv   size when the window is resized\n    resetSize() {\n      if (this.libraryExpanded) {\n        return;\n      }\n    },\n    setWidthForOpenLibrary() {\n      this.$emit('expanded', !!this.libraryExpanded);\n      ResizeEvents.$emit('resize');\n    },\n\n  },\n  watch: {\n    libraryExpanded() {\n      this.setWidthForOpenLibrary();\n    },\n    objectTypesForTab(val) {\n      if (!_.includes(val, this.subselectionType)){\n        if (this.modeTab === 'assign') {\n          this.subselectionType = 'thermal_zones';\n        } else {\n          this.subselectionType = val[0];\n        }\n      }\n    },\n  },\n  components: {\n    Library,\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\n#navigation {\n  background-color: $gray-medium-dark;\n  border-right: 1px solid $gray-darkest;\n  font-size: 0.75rem;\n  height: 100%;\n  user-select: none;\n\n  #list {\n    display: flex;\n    height: 100%;\n    .editable-select-list {\n      border-right: 1px solid $gray-darkest;\n      height: 100%;\n      width: 200px;\n      background-color: $gray-medium-dark;\n      &.expanded {\n        width: calc(100% - 200px);\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Navigation.vue?687a4f9d","<template>\n  <p v-if=\"!isChrome\"\n    class=\"non-chrome-warning\"\n  >\n    Warning. This web-app is currently only tested against recent versions of Chrome. \n  </p>\n</template>\n\n<script>\nexport default {\n  computed: {\n    isChrome() {\n      var isChromium = (window.chrome || window.qt),\n        winNav = window.navigator,\n        vendorName = winNav.vendor,\n        isOpera = winNav.userAgent.indexOf(\"OPR\") > -1,\n        isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1,\n        isIOSChrome = winNav.userAgent.match(\"CriOS\");\n\n      if (isIOSChrome) {\n        return false;\n      } else if (\n        isChromium !== null &&\n        typeof isChromium !== \"undefined\" &&\n        vendorName === \"Google Inc.\" &&\n        isOpera === false &&\n        isIEedge === false\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n}\n</script>\n<style>\n  .non-chrome-warning {\n    background: tomato;\n    padding: 20px;\n    color: white;\n\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// NonChromeWarning.vue?7a2e42eb","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <div class='input-select'>\n      <label v-if=\"label\">{{ label }}</label>\n      <select @change=\"$emit('change', $event.target.value)\" :disabled=\"disabled\">\n          <option v-for='opt in normalizedOpts' :value=\"opt.val\" :selected=\"opt.val === value\">{{ opt.display }}</option>\n      </select>\n      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 13 14' height='10px'>\n          <path d='M.5 0v14l11-7-11-7z' transform='translate(13) rotate(90)'></path>\n      </svg>\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash';\n\nexport default {\n  name: 'PrettySelect',\n  props: ['options', 'value', 'label', 'disabled'],\n  computed: {\n    normalizedOpts() {\n      if (_.isArray(this.options)) {\n        if (!this.options.length) {\n          return [];\n        }\n        if (_.has(this.options[0], 'val') && _.has(this.options[0], 'display')) {\n          return this.options;\n        }\n        if (_.isString(this.options[0])) {\n          return this.options.map(o => ({ val: o, display: o }));\n        }\n      }\n      console.warn('unrecognized options structure', this.options);\n      return this.options;\n    }\n  },\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../scss/config\";\nselect {\n  padding-top: 4px;\n  padding-bottom: 4px;\n  border-width: 1px;\n  font-size: 11px;\n  option {\n    padding-left: 2px;\n    padding-right: 2px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// PrettySelect.vue?375efc76","<template>\n  <div class=\"render-by\">\n    <PrettySelect\n      label=\"View By\"\n      :options=\"renderableOptions\"\n      :value=\"currentMode\"\n      @change=\"val => { currentMode = val }\"\n    />\n  </div>\n</template>\n\n<script>\nimport { displayNameForMode } from './../store/modules/application/helpers';\nimport PrettySelect from './PrettySelect';\n\nexport default {\n  computed: {\n    renderableProperties() {\n      return ['spaces', 'building_units', 'thermal_zones', 'space_types', 'construction_sets', 'pitched_roofs'];\n    },\n    renderableOptions() {\n      return this.renderableProperties.map(p => ({\n        display: displayNameForMode(p),\n        val: p,\n      }));\n    },\n    currentMode: {\n      get() { return this.$store.state.application.currentSelections.mode; },\n      set(mode) { this.$store.dispatch('application/setCurrentMode', { mode }); },\n    },\n  },\n  components: {\n    PrettySelect,\n  },\n}\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// RenderByDropdown.vue?3341fcc8","<!-- OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n(3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -->\n\n<template>\n  <nav id=\"toolbar\">\n\n    <section id=\"top\">\n      <div id=\"navigation-head\">\n        <div v-if=\"showImportExport\" class=\"import-export-buttons\">\n          <input ref=\"importLibrary\" @change=\"importDataAsFile($event, 'library')\" type=\"file\" />\n          <input ref=\"importInput\" @change=\"importDataAsFile($event, 'floorplan')\" type=\"file\" />\n\n          <div title=\"open floorplan\">\n            <open-floorplan-svg @click.native=\"$refs.importInput.click()\" id=\"import\" class=\"button\"></open-floorplan-svg>\n          </div>\n          <div title=\"save floorplan\">\n            <save-floorplan-svg @click.native=\"exportData\" id=\"export\" class=\"button\"></save-floorplan-svg>\n          </div>\n          <div title=\"import library\">\n            <import-library-svg @click.native=\"$refs.importLibrary.click()\" class=\"button\"></import-library-svg>\n          </div>\n        </div>\n\n        <div id=\"undo-redo\">\n          <div title=\"undo\">\n            <undo-svg @click.native=\"undo\" class=\"button\" :class=\"{ 'disabled' : !timetravelInitialized }\"></undo-svg>\n          </div>\n          <div title=\"redo\">\n            <redo-svg @click.native=\"redo\" class=\"button\" :disabled=\"!timetravelInitialized\" :class=\"{ 'disabled' : !timetravelInitialized }\"></redo-svg>\n          </div>\n        </div>\n      </div>\n      <ul id=\"mode-tabs\">\n        <li @click=\"modeTab='floorplan'\" class=\"tab\" data-modetab=\"floorplan\" :class=\"{ active: modeTab === 'floorplan' }\">\n          <span>\n            Floorplan\n            <tab-floorplan-svg class=\"icon\"></tab-floorplan-svg>\n          </span>\n        </li>\n\n        <li @click=\"modeTab='assign'\" class=\"tab\" :class=\"{ active: modeTab === 'assign' }\">\n          <span>\n            Assignments\n            <tab-assign-svg  class=\"icon\"></tab-assign-svg>\n          </span>\n        </li>\n\n        <li @click=\"modeTab='components'\" class=\"tab\" data-modetab=\"components\" :class=\"{ active: modeTab === 'components' }\">\n          <span>\n            Components\n            <tool-component-svg  class=\"icon\"></tool-component-svg>\n          </span>\n        </li>\n\n        <li>\n          <span />\n        </li>\n      </ul>\n\n      <div id=\"grid-settings\">\n        <div class=\"input-checkbox\">\n          <label>Story Below</label>\n          <input type=\"checkbox\" v-model=\"previousStoryVisible\">\n        </div>\n\n        <div v-if=\"mapEnabled\" class=\"input-checkbox\">\n          <label>map</label>\n          <input type=\"checkbox\" v-model=\"mapVisible\">\n        </div>\n\n        <div class=\"input-checkbox\">\n          <label>grid</label>\n          <input type=\"checkbox\" v-model=\"gridVisible\">\n        </div>\n\n        <div class=\"input-number\">\n          <label>spacing</label>\n          <input v-model.number.lazy=\"spacing\">\n          <label v-if=\"!allowSettingUnits\" >{{rwUnits}}</label>\n        </div>\n        <PrettySelect\n          v-if=\"allowSettingUnits\"\n          ref=\"unitsSelect\"\n          :options=\"['ft', 'm']\"\n          :value=\"rwUnits\"\n          @change=\"updateUnits\"\n        />\n\n        <div @click=\"showGroundPropsModal = true\" title=\"settings\">\n          <SettingsGear class=\"button\" />\n        </div>\n      </div>\n    </section>\n\n    <section id=\"bottom\" :class=\"modeTab\">\n      <template  v-if=\"modeTab ==='floorplan'\">\n        <div id=\"instructions\">Draw a floorplan and import images</div>\n\n        <div id=\"drawing-tools\" class=\"tools-list tools\">\n          <div @click=\"tool = 'Rectangle'\" data-tool=\"Rectangle\" title=\"Rectangle\" :class=\"{ active: tool === 'Rectangle' }\">\n            <tool-draw-rectangle-svg class=\"button\"></tool-draw-rectangle-svg>\n          </div>\n          <div @click=\"tool = 'Polygon'\" data-tool=\"Polygon\" title=\"Polygon\" :class=\"{ active: tool === 'Polygon' }\">\n            <tool-draw-polygon-svg class=\"button\"></tool-draw-polygon-svg>\n          </div>\n          <div @click=\"tool = 'Fill'\" data-tool=\"Fill\" title=\"Fill\" :class=\"{ active: tool === 'Fill' }\">\n            <tool-fill-svg class=\"button\"></tool-fill-svg>\n          </div>\n          <div @click=\"tool = 'Eraser'\" data-tool=\"Eraser\" title=\"Eraser\" :class=\"{ active: tool === 'Eraser' }\">\n            <tool-erase-svg class=\"button\"></tool-erase-svg>\n          </div>\n          <!-- remove Select/Move tool -->\n          <!-- <div @click=\"tool = 'Select'\" data-tool=\"Select\" title=\"Select\" :class=\"{ active: tool === 'Select' }\">\n            <tool-move-size-svg class=\"button\"></tool-move-size-svg>\n          </div> -->\n          <div @click=\"setImageTool\" data-tool=\"Image\" title=\"Image\" :class=\"{ active: tool === 'Image' }\">\n            <tool-image-svg class=\"button\"></tool-image-svg>\n          </div>\n        </div>\n\n      </template>\n\n      <template v-if=\"modeTab === 'components'\">\n        <div id=\"instructions\">\n          <span v-if=\"!currentComponentDefinition\">Add fenestration, daylighting, and PV</span>\n          <span v-else>Click to place a {{currentComponentDefinition.name}}</span>\n        </div>\n        <ComponentInstanceEditBar />\n        <!-- No need to show tool options if there's only the one choice. -->\n        <!-- <div id=\"drawing-tools\" class=\"tools-list tools\">\n          <div @click=\"tool = 'Place Component'\" data-tool=\"Place Component\" title=\"Place Component\" :class=\"{ active: tool === 'Place Component' }\">\n            <tool-component-svg class=\"button\"></tool-component-svg>\n          </div>\n        </div> -->\n      </template>\n\n      <template v-if=\"modeTab==='assign'\">\n        <div id=\"instructions\">Assign thermal zones, etc, to spaces</div>\n        <!-- No need to show tool options if there's only the one choice. -->\n        <!-- <div id=\"drawing-tools\" class=\"tools-list tools\">\n          <div @click=\"tool = 'Apply Property'\" data-tool=\"Apply Property\" title=\"Apply Property\" :class=\"{ active: tool === 'Apply Property' }\">\n            <tab-assign-svg class=\"button\"></tab-assign-svg>\n          </div>\n        </div> -->\n      </template>\n\n      <div id=\"grid-tools\">\n        <RenderByDropdown />\n        <div title=\"zoom to fit\">\n          <ZoomToFitSvg class=\"button\" @click.native=\"zoomToFit\"></ZoomToFitSvg>\n        </div>\n      </div>\n\n\n      <!-- <div id=\"snapping-options\">\n        <button @click=\"snapMode = 'grid-strict'\" :class=\"{ active: snapMode === 'grid-strict' }\">Strict Grid</button>\n        <button @click=\"snapMode = 'grid-verts-edges'\" :class=\"{ active: snapMode === 'grid-verts-edges' }\">Edges too</button>\n      </div> -->\n\n\n    </section>\n\n    <section class=\"modals\">\n      <SaveAsModal\n        v-if=\"showSaveModal\"\n        :saveWhat=\"thingWereSaving\"\n        :dataToDownload=\"dataToDownload\"\n        @close=\"() => {showSaveModal = false; thingWereSaving = '';}\"\n      />\n      <Settings\n        v-else-if=\"showGroundPropsModal\"\n        @close=\"showGroundPropsModal = false\"\n      />\n    </section>\n  </nav>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex';\nimport SaveAsModal from './Modals/SaveAsModal.vue';\nimport Settings from './Modals/Settings.vue';\nimport PrettySelect from './PrettySelect.vue';\nimport applicationHelpers from './../store/modules/application/helpers';\nimport svgs from './svgs';\nimport RenderByDropdown from './RenderByDropdown.vue';\nimport ComponentInstanceEditBar from './ComponentInstanceEditBar.vue';\nimport appconfig, { componentTypes } from '../store/modules/application/appconfig';\n\n\n// svgs\n\nexport default {\n  name: 'toolbar',\n  data() {\n    return {\n      componentTypes: {\n        daylighting_control_definitions: 'Daylighting Control Definitions',\n        window_definitions: 'Window Definitions',\n      },\n      showSaveModal: false,\n      thingWereSaving: '',\n      visibleComponentType: null,\n      showGroundPropsModal: false,\n    };\n  },\n  methods: {\n    setImageTool() {\n      this.tool = 'Image';\n      if (this.currentStory.images.length === 0) {\n        window.eventBus.$emit('uploadImage');\n      }\n    },\n    zoomToFit() {\n      window.eventBus.$emit('zoomToFit');\n    },\n    exportData() {\n      this.thingWereSaving = 'Floorplan';\n      this.showSaveModal = true;\n      return this.$store.getters['exportData'];\n    },\n    importDataAsFile(event, type) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n\n      reader.addEventListener('load', () => {\n        let data;\n        try {\n          data = JSON.parse(reader.result);\n        } catch (e) {\n          window.eventBus.$emit('error', 'Invalid JSON');\n          return;\n        }\n        if (type === 'library') {\n          this.$store.dispatch('importLibrary', { data });\n        } else if (type === 'floorplan') {\n          this.$store.dispatch('importFloorplan', {\n            clientWidth: document.getElementById('svg-grid').clientWidth,\n            clientHeight: document.getElementById('svg-grid').clientHeight,\n            data,\n          });\n        }\n      }, false);\n\n      if (file) { reader.readAsText(file); }\n    },\n    undo() { this.$store.timetravel.undo(); },\n    redo() { this.$store.timetravel.redo(); },\n    updateUnits(val) {\n      if (this.allowSettingUnits) {\n        this.rwUnits = val;\n      } else {\n        window.eventBus.$emit('error', 'Units must be set before any geometry is drawn.');\n      }\n    },\n    displayNameForMode(mode) { return applicationHelpers.displayNameForMode(mode); },\n  },\n  computed: {\n    latestCreatedCompId() {\n      return _.chain(this.allComponents)\n        .map('defs')\n        .flatten()\n        .map('id')\n        .map(Number)\n        .max()\n        .value() + '';\n    },\n    allComponents() {\n      return componentTypes.map(ct => ({\n        defs: this.$store.state.models.library[ct],\n        name: appconfig.modes[ct],\n        type: ct,\n      }));\n    },\n    currentComponentType() {\n      return this.currentComponent.type;\n    },\n    currentComponentDefinition() {\n      return this.currentComponent.definition;\n    },\n    ...mapGetters({\n      currentSpaceProperty: 'application/currentSpaceProperty',\n      currentStory: 'application/currentStory',\n    }),\n    ...mapState({\n      mapEnabled: state => state.project.map.enabled,\n      timetravelInitialized: state => state.timetravelInitialized,\n      showImportExport: state => state.project.show_import_export,\n      allowSettingUnits: state => state.project.config.unitsEditable && state.geometry.length === 1 && state.geometry[0].vertices.length === 0,\n    }),\n    currentSubselectionType: {\n      get() { return this.$store.state.application.currentSelections.subselectionType; },\n      set(sst) { this.$store.dispatch('application/setCurrentSubselectionType', { subselectionType: sst }); },\n    },\n    availableTools() {\n      let tools = [];\n      switch (this.modeTab) {\n        case 'floorplan':\n          tools = ['Rectangle', 'Polygon', 'Eraser', 'Select', 'Image'];\n          break;\n        case 'shading':\n          tools = ['Rectangle', 'Polygon', 'Eraser', 'Select'];\n          break;\n        case 'components':\n          tools = ['Place Component'];\n          break;\n        case 'assign':\n          tools = ['Apply Property'];\n          break;\n        default:\n          break;\n      }\n      if (this.previousStoryVisible && (this.modeTab === 'floorplan' || this.currentMode === 'shading')) {\n        tools.push('Fill');\n      }\n      return tools;\n    },\n    currentMode: {\n      get() { return this.$store.state.application.currentSelections.mode; },\n      set(mode) { this.$store.dispatch('application/setCurrentMode', { mode }); },\n    },\n    modeTab: {\n      get() { return this.$store.state.application.currentSelections.modeTab; },\n      set(mt) { this.$store.dispatch('application/setCurrentModeTab', { modeTab: mt }); },\n    },\n    gridVisible: {\n      get() { return this.$store.state.project.grid.visible; },\n      set(visible) { this.$store.dispatch('project/setGridVisible', { visible }); },\n    },\n    mapVisible: {\n      get() { return this.$store.state.project.map.visible; },\n      set(visible) { this.$store.dispatch('project/setMapVisible', { visible }); },\n    },\n    previousStoryVisible: {\n      get() { return this.$store.state.project.previous_story.visible; },\n      set(visible) { this.$store.dispatch('project/setPreviousStoryVisible', { visible }); },\n    },\n    tool: {\n      get() { return this.$store.state.application.currentSelections.tool; },\n      set(tool) { this.$store.dispatch('application/setCurrentTool', { tool }); },\n    },\n    // spacing between gridlines, measured in RWU\n    spacing: {\n      get() { return this.$store.state.project.grid.spacing; },\n      set(spacing) { this.$store.dispatch('project/setSpacing', { spacing }); },\n    },\n\n    currentComponent: {\n      get() { return this.$store.getters['application/currentComponent']; },\n      set(item) {\n        if (!item || !item.definition || !item.definition.id) { return; }\n        this.$store.dispatch('application/setCurrentComponentDefinitionId', { id: item.definition.id });\n      },\n    },\n    rwUnits: {\n      get() { return this.$store.state.project.config.units; },\n      set(units) { this.$store.dispatch('project/setUnits', { units }); },\n    },\n    snapMode: {\n      get() { return this.$store.state.application.currentSelections.snapMode; },\n      set(snapMode) { this.$store.dispatch('application/setCurrentSnapMode', { snapMode }); },\n    },\n    dataToDownload() {\n      return this.$store.getters['exportData'];\n    },\n  },\n  watch: {\n    modeTab() {\n      if (this.modeTab === 'assign' && this.currentSpaceProperty) {\n        this.currentMode = this.currentSpaceProperty.type;\n      } else {\n        this.currentMode = 'spaces';\n      }\n    },\n    tool(val) {\n      if (this.availableTools.indexOf(val) === -1 && val !== 'Map') { this.tool = this.availableTools[0]; }\n      if (this.tool === 'Image' && this.currentSubselectionType !== 'images') {\n        this.currentSubselectionType = 'images';\n      } else if (this.tool !== 'Image' && this.currentSubselectionType === 'images') {\n        this.currentSubselectionType = 'spaces';\n      }\n    },\n    availableTools() {\n      if (!_.includes(this.availableTools, this.tool)) {\n        this.tool = this.availableTools[0];\n      }\n    },\n    currentSubselectionType(val) {\n      if (val === 'images' && this.tool !== 'Image') {\n        this.tool = 'Image';\n      } else if (val !== 'images' && this.tool === 'Image') {\n        this.tool = this.availableTools[0];\n      }\n    },\n    latestCreatedCompId() {\n      this.$store.dispatch('application/setCurrentComponentDefinitionId', { id: this.latestCreatedCompId });\n    },\n  },\n  components: {\n    PrettySelect,\n    SaveAsModal,\n    Settings,\n    RenderByDropdown,\n    ComponentInstanceEditBar,\n    ...svgs,\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// @import \"./../scss/config\";\n\n$gray-dark: #333333;\n$black: #000000;\n$gray-medium-light: #5b5b5b;\n\nsvg.icon, svg.button {\n  margin-top: .5rem;\n  vertical-align: middle;\n  height: 2rem;\n  width: 2rem;\n}\n\n#toolbar {\n  background-color: $black;\n  z-index: 4;\n\n  #top {\n    height: 2.5rem;\n    display: flex;\n    #navigation-head {\n      .import-export-buttons {\n        display: inline-block;\n        > div {\n          display: inline-block;\n        }\n      }\n      #undo-redo {\n        > div {\n          display: inline-block;\n        }\n        float: right;\n      }\n      input {\n        display: none;\n      }\n    }\n\n    #grid-settings {\n      display: flex;\n      margin-left: auto;\n      >div {\n        margin-right: .5rem;\n      }\n    }\n  }\n  #bottom {\n    user-select: none;\n    .render-by {\n      margin-left: auto;\n      margin-top: auto;\n      margin-bottom: auto;\n    }\n    background-color: $gray-medium-light;\n    display: flex;\n    height: 2.5rem;\n\n    .components-list {\n      margin-right: auto;\n    }\n    .tools-list {\n      display: flex;\n      margin-right: 3rem;\n      margin-left: 0;\n      .active {\n        background-color: $gray-dark;\n      }\n      > div {\n        padding-left: 5px;\n        padding-right: 5px;\n      }\n    }\n\n    #instructions {\n      line-height: 2.5rem;\n      margin-right: 0;\n      margin-left: 10px;\n      min-width: 19.5rem;\n    }\n\n    #grid-tools {\n      margin-left: auto;\n      display: flex;\n      float: right;\n      div {\n        padding: 0 1rem;\n      }\n    }\n  }\n}\n\n\n#mode-tabs {\n  list-style: none;\n  overflow: hidden;\n  padding-left: 0;\n  margin-top: 0;\n  margin-bottom:0;\n  display: flex;\n  font-size: 13px;\n\n  li {\n    cursor: pointer;\n    float: left;\n    margin-top: 0;\n    background: $gray-dark;\n    span {\n      color: white;\n      text-decoration: none;\n      padding: 10px 0 10px 45px;\n      position: relative;\n      display: inline-block;\n      float: left;\n      white-space: nowrap;\n\n      svg {\n        display: inline-block;\n        vertical-align: middle;\n        margin-bottom: -10px;\n        margin-top: 0px;\n      }\n\n    }\n\n    span::after {\n      content: \" \";\n      display: inline-block;\n      width: 0;\n      height: 0;\n      border-top: 30px solid transparent; /* Go big on the size, and let overflow hide */\n      border-bottom: 30px solid transparent;\n      border-left: 30px solid $gray-dark;\n      position: absolute;\n      top: 50%;\n      margin-top: -30px;\n      left: 100%;\n      z-index: 2;\n    }\n    span::before {\n      content: \" \";\n      display: inline-block;\n      width: 0;\n      height: 0;\n      border-top: 30px solid transparent;\n      border-bottom: 30px solid transparent;\n      border-left: 30px solid white;\n      position: absolute;\n      top: 50%;\n      margin-top: -30px;\n      margin-left: 1px;\n      left: 100%;\n      z-index: 1;\n    }\n    &.active {\n      background: $gray-medium-light;\n      span:after {\n        border-left: 30px solid $gray-medium-light;\n      }\n    }\n    &:first-child span {\n      padding-left: 10px;\n    }\n    &:last-child {\n      height: 1.2em;\n      background: black !important;\n      pointer-events: none !important;\n      cursor: default !important;\n    }\n    &:last-child span::after {\n      border: 0;\n    }\n    span:hover {\n      background: $gray-medium-light;\n    }\n    span:hover:after {\n      border-left-color: $gray-medium-light !important;\n    }\n  }\n}\n\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Toolbar.vue?b8940972","import * as d3 from 'd3';\nimport 'd3-selection-multi';\nimport _ from 'lodash';\nimport {\n  distanceBetweenPoints, unitPerpVector, unitVector,\n  edgeDirection, repeatingWindowCenters,\n} from './../../store/modules/geometry/helpers';\n\nfunction boxAroundWindow({ xScale, yScale, edge, offset }) {\n  const\n    { dx, dy } = unitPerpVector(edge.start, edge.end);\n  return [\n    [\n      xScale(edge.start.x) + offset * dx,\n      yScale(edge.start.y) + offset * dy,\n    ],\n    [\n      xScale(edge.start.x) - offset * dx,\n      yScale(edge.start.y) - offset * dy,\n    ],\n    [\n      xScale(edge.end.x) - offset * dx,\n      yScale(edge.end.y) - offset * dy,\n    ],\n    [\n      xScale(edge.end.x) + offset * dx,\n      yScale(edge.end.y) + offset * dy,\n    ],\n    [\n      xScale(edge.start.x) + offset * dx,\n      yScale(edge.start.y) + offset * dy,\n    ],\n  ];\n}\n\nfunction drawWindowToWallRatio(xScale, yScale, el, datum) {\n  d3.select(el)\n    .selectAll('.single-window, .repeating-windows')\n    .remove();\n  const selection = d3.select(el)\n    .selectAll('.window-wall-ratio')\n    .data([datum]);\n  const wwrE = selection.enter().append('g').attr('class', 'window-wall-ratio');\n  wwrE.append('path').attr('class', 'hatch');\n\n  const line = d3.line();\n\n  const wwr = selection.merge(wwrE);\n  wwr.classed('selected', d => d.selected);\n  wwr.classed('facing-selection', d => d.facingSelection);\n  wwr.select('.hatch')\n    .attr('d', line(\n      boxAroundWindow({ edge: datum, xScale, yScale, offset: 6 }),\n    ));\n}\n\n\nfunction drawSingleWindow(xScale, yScale, el, datum) {\n  d3.select(el)\n    .selectAll('.window-wall-ratio, .repeating-windows')\n    .remove();\n\n  const selection = d3.select(el)\n    .selectAll('.single-window')\n    .data([datum]);\n  const windowE = selection.enter().append('g').attr('class', 'single-window');\n  windowE.append('line').attr('class', 'pane');\n  windowE.append('circle');\n  windowE.append('line').attr('class', 'start-linecap');\n  windowE.append('line').attr('class', 'end-linecap');\n\n  const windw = selection.merge(windowE);\n  windw.classed('selected', d => d.selected);\n  windw.classed('facing-selection', d => d.facingSelection);\n  windw.select('line.pane')\n    .attr('x1', d => xScale(d.start.x))\n    .attr('y1', d => yScale(d.start.y))\n    .attr('x2', d => xScale(d.end.x))\n    .attr('y2', d => yScale(d.end.y));\n  windw.each(function (d) {\n    const\n      { dx, dy } = unitPerpVector(d.start, d.end),\n      linecapOffset = 6;\n\n    const $this = d3.select(this);\n    $this.select('.start-linecap')\n      .attr('x1', xScale(d.start.x) + linecapOffset * dx)\n      .attr('y1', yScale(d.start.y) + linecapOffset * dy)\n      .attr('x2', xScale(d.start.x) - linecapOffset * dx)\n      .attr('y2', yScale(d.start.y) - linecapOffset * dy);\n    $this.select('.end-linecap')\n      .attr('x1', xScale(d.end.x) + linecapOffset * dx)\n      .attr('y1', yScale(d.end.y) + linecapOffset * dy)\n      .attr('x2', xScale(d.end.x) - linecapOffset * dx)\n      .attr('y2', yScale(d.end.y) - linecapOffset * dy);\n    if (d.selected || d.facingSelection) {\n      $this.raise();\n    }\n  });\n  windw.select('circle')\n    .attr('cx', d => xScale(d.center.x))\n    .attr('cy', d => yScale(d.center.y))\n    .attr('r', '2');\n}\n\n\nfunction drawRepeatingWindows(xScale, yScale, el, datum) {\n  const { start, end, width, spacing } = datum;\n  d3.select(el)\n    .selectAll('.window-wall-ratio, .single-window')\n    .remove();\n\n  const selection = d3.select(el)\n    .selectAll('.repeating-windows')\n    .data([datum]);\n  const rwE = selection.enter().append('g').attr('class', 'repeating-windows');\n  rwE.append('path').attr('class', 'box');\n  rwE.append('g').attr('class', 'sub-windows');\n\n  const line = d3.line();\n\n  const rw = selection.merge(rwE);\n  rw.classed('selected', d => d.selected);\n  rw.classed('facing-selection', d => d.facingSelection);\n  rw.select('.box')\n    .attr('d', line(\n      boxAroundWindow({ edge: datum, xScale, yScale, offset: 6 })),\n    );\n\n  const\n    direction = unitVector(start, end),\n    centers = repeatingWindowCenters({ start, end, spacing, width });\n  const\n    widthX = direction.dx * width,\n    widthY = direction.dy * width;\n  const windows = centers.map(thisCenter => ({\n    ...datum,\n    center: thisCenter,\n    start: { x: thisCenter.x - widthX / 2, y: thisCenter.y - widthY / 2 },\n    end: { x: thisCenter.x + widthX / 2, y: thisCenter.y + widthY / 2 },\n  }));\n  const windw = rw.select('.sub-windows')\n    .selectAll('.sub-window')\n    .data(windows);\n  windw.exit().remove();\n  windw\n    .merge(windw.enter().append('g').attr('class', 'sub-window'))\n    .each(function (d) {\n      drawSingleWindow(xScale, yScale, this, d);\n    });\n}\n\nexport function drawWindow() {\n  let\n    xScale = _.identity,\n    yScale = _.identity;\n  function chart(selection) {\n    selection.exit().remove();\n    selection\n      .merge(selection.enter().append('g').attr('class', 'window'))\n      .each(function (d) {\n        if (d.window_definition_type === 'Single Window') {\n          drawSingleWindow(xScale, yScale, this, d);\n        } else if (d.window_definition_type === 'Window to Wall Ratio') {\n          drawWindowToWallRatio(xScale, yScale, this, d);\n        } else if (d.window_definition_type === 'Repeating Windows') {\n          drawRepeatingWindows(xScale, yScale, this, d);\n        } else {\n          throw new Error(`unexpected window_definition_type: ${d.window_definition_type}`);\n        }\n      });\n  }\n\n  chart.xScale = function (_) {\n    if (!arguments.length) return xScale;\n    xScale = _;\n    return chart;\n  };\n  chart.yScale = function (_) {\n    if (!arguments.length) return yScale;\n    yScale = _;\n    return chart;\n  };\n\n  return chart;\n}\n\nfunction distanceMeasure() {\n  let\n    xScale = _.identity,\n    yScale = _.identity,\n    lineOffset = 20,\n    labelPosition = 1;\n  function chart(selection) {\n    selection.exit().remove();\n    const measureE = selection.enter().append('g')\n      .attr('class', 'distance-measure')\n      .attr('transform', (d) => {\n        const { dx, dy } = unitPerpVector(d.start, d.end),\n          offX = lineOffset * dx,\n          offY = lineOffset * dy;\n        return `translate(${offX}, ${offY})`;\n      });\n    measureE.append('line');\n    measureE.append('text');\n    measureE.append('path').attr('class', 'start');\n    measureE.append('path').attr('class', 'end');\n\n    const measure = selection.merge(measureE);\n\n    measure.select('text')\n      .attr('x', d => (1 - labelPosition) * xScale(d.start.x) + labelPosition * xScale(d.end.x))\n      .attr('y', d => (1 - labelPosition) * yScale(d.start.y) + labelPosition * yScale(d.end.y))\n      .attr('dominant-baseline', 'text-before-edge')\n      .attrs((d) => {\n        const\n          { dx, dy } = unitPerpVector(d.start, d.end),\n          offset = 4;\n        return {\n          dx: dx * offset,\n          dy: dy * offset,\n        };\n      })\n      .text((d) => {\n        const\n          distance = distanceBetweenPoints(d.start, d.end),\n          roundDistance = Math.round(distance * 100) / 100;\n        return `${roundDistance}`;\n      });\n    measure.select('line')\n      .attrs((d) => {\n        const { dx, dy } = unitVector(d.start, d.end),\n          offset = 11.5,\n          offX = dx * offset,\n          offY = dy * offset;\n\n        return {\n          x1: xScale(d.start.x) + offX,\n          y1: yScale(d.start.y) - offY,\n          x2: xScale(d.end.x) - offX,\n          y2: yScale(d.end.y) + offY,\n        };\n      });\n    const\n      arrowHead = 'M -6,-2 V 2 L0,0 Z',\n      rotate = (d) => {\n        // did ya ever... did ya ever program by guess and check?\n        const\n          angle = (edgeDirection(d) * 180) / Math.PI,\n          adjust = d.start.x === d.end.x ?\n                    (d.start.y > d.end.y ? 0 : 180) :\n                    (d.start.x > d.end.x ? 0 : 180);\n\n        return adjust - angle;\n      };\n\n    measure.select('path.start')\n      .attr('transform',\n        d => `translate(${xScale(d.start.x)}, ${yScale(d.start.y)}) scale(2) rotate(${rotate(d)})`)\n      .attr('d', arrowHead);\n\n    measure.select('path.end')\n      .attr('transform',\n        d => `translate(${xScale(d.end.x)}, ${yScale(d.end.y)}) scale(2) rotate(${180 + rotate(d)})`)\n      .attr('d', arrowHead);\n  }\n  chart.xScale = function (_) {\n    if (!arguments.length) return xScale;\n    xScale = _;\n    return chart;\n  };\n  chart.yScale = function (_) {\n    if (!arguments.length) return yScale;\n    yScale = _;\n    return chart;\n  };\n  chart.lineOffset = function(_) {\n    if (!arguments.length) return lineOffset;\n    lineOffset = _;\n    return chart;\n  };\n  chart.labelPosition = function(_) {\n    if (!arguments.length) return labelPosition;\n    if (_ < 0 || _ > 1) {\n      console.warn(`Expected labelPosition to be in [0, 1] (got ${_})`);\n    }\n    labelPosition = _;\n    return chart;\n  };\n\n  return chart;\n}\n\nexport function drawWindowGuideline() {\n  let\n    xScale = _.identity,\n    yScale = _.identity;\n  const drawMeasure = distanceMeasure();\n  function chart(selection) {\n    drawMeasure.xScale(xScale).yScale(yScale);\n    selection.exit().remove();\n    selection\n      .merge(selection.enter().append('g').classed('window-guideline component-guideline', true))\n      .selectAll('.distance-measure')\n      .data(\n        // there must be a better way to do this...\n        selection.merge(selection.enter()).data()\n          .map(d => ({ start: d.edge_start, end: d.center })),\n      )\n      .filter(d => d.window_definition_type === 'Single Window')\n      .call(drawMeasure);\n  }\n\n  chart.xScale = function (_) {\n    if (!arguments.length) return xScale;\n    xScale = _;\n    return chart;\n  };\n  chart.yScale = function (_) {\n    if (!arguments.length) return yScale;\n    yScale = _;\n    return chart;\n  };\n  return chart;\n}\n\n\nexport function drawDaylightingControl() {\n  let\n    xScale = _.identity,\n    yScale = _.identity;\n\n  function chart(selection) {\n    selection.exit().remove();\n    const dcE = selection.enter().append('g').attr('class', 'daylighting-control');\n    dcE.append('circle').attr('class', 'bg');\n    dcE.append('path').attr('class', 'quadrants');\n    const dc = selection.merge(dcE);\n    dc.classed('selected', d => d.selected);\n    dc.classed('facing-selection', d => d.facingSelection);\n    dc.select('circle.bg')\n      .attr('cx', d => xScale(d.x))\n      .attr('cy', d => yScale(d.y))\n      .attr('r', 10);\n    dc.select('path.quadrants')\n      .attr('d', (d) => {\n        const x = xScale(d.x), y = yScale(d.y), r = 10;\n        return `M${x} ${y} L${x + r} ${y} A ${r} ${r} 0 0 1 ${x} ${y + r} L ${x} ${y - r} A ${r} ${r} 0 0 0 ${x - r} ${y} Z`;\n      });\n    dc.each(function (d) {\n      if (d.selected || d.facingSelection) {\n        d3.select(this).raise();\n      }\n    });\n  }\n\n  chart.xScale = function (_) {\n    if (!arguments.length) return xScale;\n    xScale = _;\n    return chart;\n  };\n  chart.yScale = function (_) {\n    if (!arguments.length) return yScale;\n    yScale = _;\n    return chart;\n  };\n  return chart;\n}\n\nexport function drawDaylightingControlGuideline() {\n  let\n    xScale = _.identity,\n    yScale = _.identity;\n  const drawMeasure = distanceMeasure()\n    .lineOffset(0)\n    .labelPosition(0.5);\n  function chart(selection) {\n    drawMeasure.xScale(xScale).yScale(yScale);\n    selection.exit().remove();\n    const guideE = selection.enter().append('g')\n      .classed('daylighting-control-guideline component-guideline', true);\n\n    const data = _.flatMap(\n      selection.merge(selection.enter()).data(),\n      (d) => {\n        const\n          dir = unitVector(d.nearestEdge.v1, d.nearestEdge.v2),\n          v = { start: d.loc, end: d.nearestEdge.proj },\n          dotProduct = ((v.end.x - v.start.x) * dir.dx) + ((v.end.y - v.start.y) * dir.dy),\n          parallel = {\n            start: v.start,\n            end: {\n              x: v.start.x + dotProduct * dir.dx,\n              y: v.start.y + dotProduct * dir.dy,\n            },\n          },\n          perp = {\n            start: parallel.end,\n            end: v.end,\n          };\n        return [v, perp, parallel].filter(\n          ({ start, end }) => distanceBetweenPoints(start, end) > 0.01,\n        );\n      });\n    const guide = selection.merge(guideE);\n    guide\n      .selectAll('.distance-measure')\n      .data(data)\n      .call(drawMeasure);\n  }\n\n  chart.xScale = function (_) {\n    if (!arguments.length) return xScale;\n    xScale = _;\n    return chart;\n  };\n  chart.yScale = function (_) {\n    if (!arguments.length) return yScale;\n    yScale = _;\n    return chart;\n  };\n  return chart;\n}\nconst invRoot2 = 1 / Math.sqrt(2);\nconst RESIZE_CURSORS = [\n  { vec: { x: 1, y: 0 }, cursor: 'ew-resize' },\n  { vec: { x: -1, y: 0 }, cursor: 'ew-resize' },\n  { vec: { x: 0, y: 1 }, cursor: 'ns-resize' },\n  { vec: { x: 0, y: -1 }, cursor: 'ns-resize' },\n  { vec: { x: invRoot2, y: invRoot2 }, cursor: 'nwse-resize' },\n  { vec: { x: -1 * invRoot2, y: -1 * invRoot2 }, cursor: 'nwse-resize' },\n  { vec: { x: invRoot2, y: -1 * invRoot2 }, cursor: 'nesw-resize' },\n  { vec: { x: -1 * invRoot2, y: invRoot2 }, cursor: 'nesw-resize' },\n]\nfunction bestResizeCursor(xOff, yOff, rotation) {\n  const\n    norm = Math.sqrt(xOff * xOff + yOff * yOff),\n    x = xOff / norm,\n    y = yOff / norm,\n    a = Math.PI * rotation / 180,\n    pt = {\n      x: x * Math.cos(a) - y * Math.sin(a),\n      y: x * Math.sin(a) + y * Math.cos(a),\n    };\n\n  return _.minBy(RESIZE_CURSORS, c => distanceBetweenPoints(c.vec, pt)).cursor;\n}\nconst rotateCursor = (\n  'url(data:image/svg+xml;base64,' + // eslint-disable-line\n  btoa(\n'<svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0\" y=\"0\" width=\"25.6\" height=\"25.6\" viewBox=\"0 0 25.6 25.6\">' +\n'  <path transform=\"scale(0.5)\" d=\"M25.6,44.8c7.9406,0,14.4-6.4594,14.4-14.4s-6.4594-14.4-14.4-14.4v9.6L9.6,12.8L25.6,0v9.6c11.4688,0,20.8,9.3313,20.8,20.8s-9.3313,20.8-20.8,20.8S4.8,41.8688,4.8,30.4h6.4C11.2,38.3406,17.6594,44.8,25.6,44.8z\"/>' +\n'</svg>'\n  ) +\n  ') 12.8 12.8, pointer');\n\nexport function drawImage() {\n  let\n    xScale = _.identity,\n    yScale = _.identity,\n    updateImage = _.identity,\n    selectImage = _.identity;\n  function chart(selection) {\n    const pxPerRWU = (xScale(100) - xScale(0)) / 100;\n\n    let startX, startY, currX, currY;\n    const\n      offset = (d) => {\n        const\n          x = (currX - startX),\n          y = (currY - startY),\n          invR = -1 * d.r * Math.PI / 180;\n        return {\n          dx: x * Math.cos(invR) - y * Math.sin(invR),\n          dy: x * Math.sin(invR) + y * Math.cos(invR),\n        };\n      },\n      moveable = d3.drag()\n      .on('start', function() {\n        d3.event.sourceEvent.stopPropagation(); // don't zoom when I'm draggin' an image!\n        [startX, startY] = d3.mouse(document.querySelector('#grid svg'));\n        currX = currY = undefined;\n      })\n      .on('drag', function(d) {\n        [currX, currY] = d3.mouse(document.querySelector('#grid svg'));\n        const { dx, dy } = offset(d);\n        d3.select(this)\n          .attr('transform', `translate(${dx}, ${dy})`);\n      })\n      .on('end', function(d) {\n        if (typeof currX === 'undefined') {\n          // no movement since start of move.\n          return;\n        }\n        const { dx, dy } = offset(d);\n        updateImage({\n          image: d,\n          x: d.x + (currX - startX) / pxPerRWU,\n          y: d.y - (currY - startY) / pxPerRWU,\n        });\n      });\n\n    const\n      scalingFactor = (d) => {\n        const\n          pxOrigin = { x: xScale(d.x), y: yScale(d.y) },\n          distCurrToOrigin = distanceBetweenPoints(\n            { x: currX, y: currY }, pxOrigin),\n          distStartToOrigin = distanceBetweenPoints(\n            { x: startX, y: startY }, pxOrigin),\n          scale = distCurrToOrigin / distStartToOrigin;\n        return scale;\n      },\n      resizeable = d3.drag()\n        .on('start', function() {\n          d3.event.sourceEvent.stopPropagation();\n          [startX, startY] = d3.mouse(document.querySelector('#grid svg'));\n          currX = currY = undefined;\n        })\n        .on('drag', function(d) {\n          [currX, currY] = d3.mouse(document.querySelector('#grid svg'));\n          d3.select(this.parentNode.parentNode)\n            .attr('transform', `scale(${scalingFactor(d)})`);\n        })\n        .on('end', function(d) {\n          if (typeof currX === 'undefined') {\n            // no movement since start of resize.\n            return;\n          }\n          const scale = scalingFactor(d);\n          updateImage({\n            image: d,\n            width: d.width * scale,\n            height: d.height * scale,\n          });\n        });\n\n    const\n      rotationAngle = (d) => {\n        const\n          pxOrigin = { x: xScale(d.x), y: yScale(d.y) },\n          startAngle = edgeDirection({ start: pxOrigin, end: { x: startX, y: startY }}),\n          currAngle = edgeDirection({ start: pxOrigin, end: { x: currX, y: currY }});\n        return ((180 * (currAngle - startAngle) / Math.PI)\n          + 180 * (xScale(d.x) > currX !== xScale(d.x) > startX)\n        );\n      },\n      rotateable = d3.drag()\n        .on('start', function() {\n          d3.event.sourceEvent.stopPropagation();\n          [startX, startY] = d3.mouse(document.querySelector('#grid svg'));\n          currX = currY = undefined;\n        })\n        .on('drag', function(d) {\n          [currX, currY] = d3.mouse(document.querySelector('#grid svg'));\n          d3.select(this.parentNode.parentNode)\n            .attr('transform', `rotate(${rotationAngle(d)})`);\n        })\n        .on('end', function(d) {\n          if (typeof currX === 'undefined') {\n            // no movement since start of rotation.\n            return;\n          }\n          const rotation = rotationAngle(d);\n          updateImage({\n            image: d,\n            r: rotation + d.r,\n          });\n        });\n\n    selection.exit().remove();\n    const imageGroupE = selection.enter().append('g').attr('class', 'image-group');\n    const moveableWrapperE = imageGroupE.append('g').attr('class', 'moveable-wrapper');\n    moveableWrapperE.append('image');\n    const controlsE = moveableWrapperE.append('g').attr('class', 'controls');\n    controlsE.append('line').attr('class', 'rotation-to-center');\n    controlsE.append('circle').attr('class', 'rotation-handle');\n    ['tl', 'tr', 'bl', 'br']\n      .forEach(corner => controlsE.append('circle').attr('class', `corner ${corner}`));\n\n    const imageGroup = selection.merge(imageGroupE);\n\n    imageGroup\n      .attr('transform', d => `translate(${xScale(d.x)}, ${yScale(d.y)}) rotate(${d.r})`);\n\n    imageGroup.select('image')\n      .attr('x', d => -1 * pxPerRWU * d.width / 2)\n      .attr('y', d => -1 * pxPerRWU * d.height / 2)\n      .attr('width', d => pxPerRWU * d.width)\n      .attr('height', d => pxPerRWU * d.height)\n      .attr('opacity', d => d.opacity)\n      .attr('xlink:href', d => d.src);\n\n    imageGroup.select('.moveable-wrapper')\n      .attr('transform', 'translate(0,0)')\n      .style('cursor', d => (d.current ? 'move' : d.clickable ? 'pointer' : null))\n      .style('pointer-events', d => (d.current ? 'auto' : 'none'));\n\n    imageGroup.select('.controls')\n      .attr('display', d => (d.current ? '' : 'none'));\n\n    imageGroup.each(function (d) {\n      const ig = d3.select(this);\n      if (!d.clickable) {\n        ig\n          .on('click', null);\n      } else {\n        ig.on('click', (d) => {\n          d3.event.stopPropagation();\n          selectImage(d);\n        });\n      }\n      if (!d.current) {\n        ig.select('.moveable-wrapper, .rotation-handle, .corner')\n          .on('.drag', null);\n      } else {\n        ig.select('.moveable-wrapper')\n          .call(moveable);\n\n        ig.select('.controls .center')\n          .attr('cx', 0)\n          .attr('cy', 0)\n          .attr('r', 3);\n\n        ig.select('.controls .rotation-handle')\n          .attr('cx', 0)\n          .attr('cy', pxPerRWU * d.height * 0.7)\n          .attr('r', 5)\n          .style('cursor', rotateCursor)\n          .call(rotateable);\n        ig.select('.controls .rotation-to-center')\n          .attr('x1', 0)\n          .attr('y1', pxPerRWU * d.height / 2)\n          .attr('x2', 0)\n          .attr('y2', pxPerRWU * d.height * 0.7 - 5);\n        _.forIn(\n          { tl: [-1, -1], tr: [1, -1], bl: [-1, 1], br: [1, 1] },\n          ([xOff, yOff], label) => {\n            ig.select(`.controls .${label}`)\n              .attr('cx', xOff * pxPerRWU * d.width / 2)\n              .attr('cy', yOff * pxPerRWU * d.height / 2)\n              .attr('r', 5)\n              .style('cursor', bestResizeCursor(xOff, yOff, d.r))\n              .call(resizeable);\n          });\n      }\n    });\n\n  }\n\n  chart.xScale = function (_) {\n    if (!arguments.length) return xScale;\n    xScale = _;\n    return chart;\n  };\n  chart.yScale = function (_) {\n    if (!arguments.length) return yScale;\n    yScale = _;\n    return chart;\n  };\n  chart.updateImage = function (_) {\n    if (!arguments.length) return updateImage;\n    updateImage = _;\n    return chart;\n  };\n  chart.selectImage = function (_) {\n    if (!arguments.length) return selectImage;\n    selectImage = _;\n    return chart;\n  };\n  return chart;\n}\n\nexport default function drawMethods({ xScale, yScale, updateImage, selectImage }) {\n\n  return {\n    drawWindow: drawWindow()\n      .xScale(xScale)\n      .yScale(yScale),\n    drawWindowGuideline: drawWindowGuideline()\n      .xScale(xScale)\n      .yScale(yScale),\n    drawDaylightingControl: drawDaylightingControl()\n      .xScale(xScale)\n      .yScale(yScale),\n    drawDaylightingControlGuideline: drawDaylightingControlGuideline()\n      .xScale(xScale)\n      .yScale(yScale),\n    drawImage: drawImage()\n      .xScale(xScale)\n      .yScale(yScale)\n      .updateImage(updateImage)\n      .selectImage(selectImage),\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Grid/drawing.js","// OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n// (1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n// (2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n// (3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n// (4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport * as d3 from 'd3';\nimport polylabel from 'polylabel';\nimport _ from 'lodash';\nimport { snapTargets, snapWindowToEdge, snapToVertexWithinFace, findClosestEdge, findClosestWindow } from './snapping';\nimport geometryHelpers, { distanceBetweenPoints, fitToAspectRatio } from './../../store/modules/geometry/helpers';\nimport modelHelpers from './../../store/modules/models/helpers';\n\nfunction ticksInRange(start, stop, spacing) {\n  return _.range(\n    Math.ceil(start / spacing) * spacing,\n    stop,\n    spacing);\n}\n\nfunction transformDiff(t1, t2) {\n  // returns a new transform that is sufficient to take you from\n  // t1 to t2.\n  // boy was this a doozy to figure out. Tricky bit is that the\n  // translation is dependent on the scaling factor. So we have to\n  // divide that out before we can subtract.\n  return new d3.zoomIdentity.constructor(\n    t2.k / t1.k,\n    (t2.x / t2.k - t1.x / t1.k) * t2.k,\n    (t2.y / t2.k - t1.y / t1.k) * t2.k,\n  );\n}\n\n\nexport default {\n  // ****************** USER INTERACTION EVENTS ****************** //\n  /*\n  * handle a click on the svg grid\n  */\n  gridClicked() {\n    if (this.currentTool === 'Eraser' ||\n    ((this.currentTool === 'Rectangle' || this.currentTool === 'Polygon') && (this.currentSpace || this.currentShading))) {\n      this.addPoint();\n    }\n    if (this.currentTool === 'Place Component') {\n      this.placeOrSelectComponent();\n    }\n    if (this.currentTool === 'Image') {\n      this.deselectImages();\n    }\n    if (this.currentTool === 'Apply Property') {\n      this.assignProperty();\n    }\n  },\n  assignProperty() {\n    if (!this.currentSpaceProperty) { return; }\n    const\n      gridCoords = d3.mouse(this.$refs.grid),\n      gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n      rwuPoint = this.gridPointToRWU(gridPoint),\n      space = this.currentStory.spaces.find((sp) => {\n        const face = _.find(this.denormalizedGeometry.faces, { id: sp.face_id });\n        if (!face) {\n          // this space has no geometry. It can't be the one that was clicked.\n          return false;\n        }\n        return geometryHelpers.pointInFace(rwuPoint, face.vertices);\n      });\n    if (!space) { return; }\n    this.$store.dispatch('models/updateSpaceWithData', {\n      space,\n      [this.spacePropertyKey]: this.currentSpaceProperty.id,\n    });\n  },\n  deselectImages() {\n    this.$store.dispatch('application/setCurrentSubSelectionId', this.currentStory.spaces[0]);\n  },\n  componentToSelect() {\n    const\n      gridCoords = d3.mouse(this.$refs.grid),\n      gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n      rwuPoint = this.gridPointToRWU(gridPoint),\n      component = _.minBy(\n        this.currentComponentTypeLocs(rwuPoint),\n        ci => distanceBetweenPoints(ci, rwuPoint)),\n      distToComp = component && distanceBetweenPoints(component, rwuPoint);\n    if (!component || distToComp > this.spacing / 2) {\n      return null;\n    }\n    return component;\n  },\n  handleKeyDown(e) {\n    if ((e.keyCode === 8 || e.keyCode === 46) &&\n        !_.includes(['input', 'textarea'], document.activeElement.tagName.toLowerCase())) {\n      this.deleteElement();\n    }\n  },\n  deleteElement() {\n    if (this.modeTab === 'components') {\n      this.removeSelectedComponent();\n    }\n  },\n  removeSelectedComponent() {\n    const component = this.currentComponentInstance;\n    if (!component) {\n      return;\n    }\n    const payload = { story_id: this.currentStory.id, object: { id: component.id } };\n    if (component.type === 'windows') {\n      this.$store.dispatch('models/destroyWindow', payload);\n    } else if (component.type === 'daylighting_controls') {\n      this.$store.dispatch('models/destroyDaylightingControl', payload);\n    } else {\n      console.error(`unrecognized component to remove: ${component}`);\n    }\n  },\n  placeOrSelectComponent() {\n    // hold down shift to force placement when we might otherwise select\n    const toSelect = d3.event.shiftKey ? false : this.componentToSelect();\n    if (toSelect) {\n      this.currentComponentInstanceId = toSelect.id;\n      return;\n    }\n    // user is holding shift, or we didn't find a component to select\n    // => we're placing\n    if (this.currentComponentType === 'window_definitions') {\n      this.placeWindow();\n    } else if (this.currentComponentType === 'daylighting_control_definitions') {\n      this.placeDaylightingControl();\n    } else {\n      throw new Error(`unrecognized componentType: ${this.currentComponentType}`);\n    }\n  },\n  highlightComponentToSelect() {\n    if (d3.event.shiftKey) {\n      return null;\n    }\n    const component = this.componentToSelect();\n    this.componentFacingSelection = component && component.id;\n    if (!component) {\n      // do no highlighting\n    } else if (component.type === 'windows') {\n      this.highlightWindowGuideline(component);\n    } else if (component.type === 'daylighting_controls') {\n      this.highlightDaylightingControlGuideline(component);\n    } else {\n      throw new Error(`unrecognized componentType: ${this.currentComponentType}`);\n    }\n    return component;\n  },\n  placeWindow() {\n    const\n      gridCoords = d3.mouse(this.$refs.grid),\n      gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n      rwuPoint = this.gridPointToRWU(gridPoint),\n      loc = snapWindowToEdge(\n        this.snapMode,\n        this.spaceEdges, rwuPoint,\n        this.currentComponentDefinition, this.spacing * 2, this.spacing,\n      );\n\n    if (!loc) { return; }\n\n    const payload = {\n      story_id: this.currentStory.id,\n      edge_id: loc.edge_id,\n      window_definition_id: this.currentComponentDefinition.id,\n      alpha: loc.alpha,\n    };\n    this.$store.dispatch('models/createWindow', payload);\n  },\n  raiseOrLowerImages() {\n    if (this.currentTool === 'Image') {\n      d3.select('#grid svg .images').raise();\n    } else {\n      d3.select('#grid svg .images').lower();\n    }\n  },\n  placeDaylightingControl() {\n    const\n      gridCoords = d3.mouse(this.$refs.grid),\n      gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n      rwuPoint = {\n        x: this.gridToRWU(gridPoint.x, 'x'),\n        y: this.gridToRWU(gridPoint.y, 'y'),\n      },\n      loc = snapToVertexWithinFace(\n        this.snapMode,\n        this.spaceFaces, rwuPoint, this.spacing);\n\n    if (!loc) { return; }\n\n    const payload = {\n      story_id: this.currentStory.id,\n      face_id: loc.face_id,\n      daylighting_control_definition_id: this.currentComponentDefinition.id,\n      ...loc,\n    };\n    this.$store.dispatch('models/createDaylightingControl', payload);\n  },\n  /*\n  * If the grid is clicked when a drawing tool or the eraser tool is active, add a point to the component\n  * if the new point completes a face being drawn, save the face\n  * if the new point completes an eraser selection, call the eraseRectangularSelection method\n  */\n  addPoint() {\n    // location of the mouse in grid units\n    const\n      gridCoords = d3.mouse(this.$refs.grid),\n      gridPoint = { x: gridCoords[0], y: gridCoords[1] },\n      snapTarget = this.findSnapTarget(gridPoint);\n\n    // if the snapTarget is the origin of the face being drawn in Polygon mode, close the face and don't add a new point\n    if (snapTarget.type === 'vertex' && snapTarget.origin && this.currentTool === 'Polygon') {\n      this.savePolygonFace();\n      return;\n    }\n\n    // create the point\n    const newPoint = snapTarget.type === 'edge' ? snapTarget.projection : snapTarget;\n    this.points.push(newPoint);\n    this.drawPoints();\n    // if the Rectangle or Eraser tool is active and two points have been drawn (to define a rectangle)\n    // complete the corresponding operation for the tool\n    if (this.currentTool === 'Eraser' && this.points.length === 2) { this.eraseRectangularSelection(); }\n    if (this.currentTool === 'Rectangle' && this.points.length === 2) { this.saveRectangularFace(); }\n  },\n\n  /*\n  * When a mousemove event is triggered on the grid and\n  * the 'Rectangle' or 'Polygon' tool is active and a space or shading is selected or the 'Eraser' tool is active\n  * look up the snap target for the location of the event, highlight it, and render a guide point\n  * if there is no snap target, use the event location\n  */\n  highlightSnapTarget(e) {\n    // only highlight snap targets in drawing modes when a space or shading has been selected\n    if (!(this.currentTool === 'Eraser' ||\n    (this.currentTool === 'Place Component' && this.currentComponentDefinition) ||\n    ((this.currentTool === 'Rectangle' || this.currentTool === 'Polygon') && (this.currentSpace || this.currentShading)))) { return; }\n\n    // unhighlight expired snap targets\n    this.clearHighlights();\n\n    // location of the mouse in grid units\n\n    let gridPoint;\n    if (d3.event instanceof MouseEvent) {\n      // d3.mouse() will fail if d3.event is a ZoomEvent, or other\n      const gridCoords = d3.mouse(this.$refs.grid);\n      gridPoint = { x: gridCoords[0], y: gridCoords[1] };\n    } else {\n      gridPoint = this.lastMousePosition;\n    }\n    if (!gridPoint) {\n      return;\n    }\n\n    if (this.currentTool === 'Place Component') {\n      this.highlightComponentToPlaceOrSelect(gridPoint);\n      return;\n    }\n\n    const snapTarget = this.findSnapTarget(gridPoint);\n\n    // render a line and point showing which geometry would be created with a click at this location\n    const guidePoint = snapTarget.type === 'edge' ? snapTarget.projection :\n      snapTarget;\n\n    const ellipsePoint = snapTarget.synthetic ? snapTarget.originalPt : guidePoint;\n    this.drawGuideLines(e, guidePoint);\n\n\n    // if snapping to an edisting edge or radius, draw a larger point, if snapping to the grid or just displaying the location of the pointer, create a small point\n    if (snapTarget.type === 'edge' || snapTarget.type === 'vertex') {\n      d3.select('#grid svg')\n      .append('ellipse')\n      .attr('cx', this.rwuToGrid(ellipsePoint.x, 'x'))\n      .attr('cy', this.rwuToGrid(ellipsePoint.y, 'y'))\n      .attr('rx', 5)\n      .attr('ry', 5)\n      .classed('highlight', true)\n      .attr('data-transform-plz', '')\n      .attr('vector-effect', 'non-scaling-stroke');\n    } else {\n      d3.select('#grid svg')\n      .append('ellipse')\n      .attr('cx', this.rwuToGrid(ellipsePoint.x, 'x'))\n      .attr('cy', this.rwuToGrid(ellipsePoint.y, 'y'))\n      .attr('rx', 2)\n      .attr('ry', 2)\n      .classed('gridpoint', true)\n      .attr('data-transform-plz', '')\n      .attr('vector-effect', 'non-scaling-stroke');\n    }\n\n    // in drawing modes, highlight edges that would be snapped to\n    if (snapTarget.type === 'edge' && this.currentTool !== 'Eraser') {\n      d3.select('#grid svg')\n      .append('line')\n      .attr('x1', this.rwuToGrid(snapTarget.v1GridCoords.x, 'x'))\n      .attr('y1', this.rwuToGrid(snapTarget.v1GridCoords.y, 'y'))\n      .attr('x2', this.rwuToGrid(snapTarget.v2GridCoords.x, 'x'))\n      .attr('y2', this.rwuToGrid(snapTarget.v2GridCoords.y, 'y'))\n      .attr('stroke-width', 1)\n      .classed('highlight', true)\n      .attr('data-transform-plz', '')\n      .attr('vector-effect', 'non-scaling-stroke');\n    }\n    // save off mouse pos so that we can redo highlight if zoom occurs during\n    // point drawing.\n    this.lastMousePosition = gridPoint;\n  },\n\n  clearHighlights() {\n    d3.selectAll('#grid .highlight, #grid .gridpoint, #grid .guideline').remove();\n    this.componentFacingSelection = null;\n  },\n  clearComponentHighlights() {\n    d3.selectAll('#grid .highlight, #grid .component-guideline').remove();\n    this.componentFacingSelection = null;\n  },\n  highlightComponentToPlaceOrSelect(gridPoint) {\n    if (this.highlightComponentToSelect()) {\n      return;\n    }\n    // no component to select, let's highlight one to place.\n    this.highlightComponentToPlace(gridPoint);\n  },\n\n  highlightComponentToPlace(gridPoint) {\n    if (this.currentComponentType === 'window_definitions') {\n      this.highlightWindow(gridPoint);\n    } else {\n      this.highlightDaylightingControl(gridPoint);\n    }\n  },\n\n  highlightWindow(gridPoint) {\n    const\n      rwuPoint = this.gridPointToRWU(gridPoint),\n      loc = snapWindowToEdge(\n        this.snapMode,\n        this.spaceEdges, rwuPoint,\n        this.currentComponentDefinition, this.spacing * 2, this.spacing,\n      );\n\n    if (!loc) { return; }\n    d3.select('#grid svg')\n      .append('g')\n      .classed('highlight', true)\n      .selectAll('.window')\n      .data([{\n        ...loc,\n        window_definition_type: this.currentComponentDefinition.window_definition_type,\n        width: this.currentComponentDefinition.width,\n        spacing: this.currentComponentDefinition.window_spacing,\n      }])\n      .call(this.drawWindow);\n    this.highlightWindowGuideline(loc);\n  },\n  highlightWindowGuideline(loc) {\n    d3.select('#grid svg')\n      .append('g')\n      .classed('guideline', true)\n      .selectAll('.window-guideline')\n      .data([loc])\n      .call(this.drawWindowGuideline);\n  },\n  highlightDaylightingControl(gridPoint) {\n    const\n      rwuPoint = this.gridPointToRWU(gridPoint),\n      loc = snapToVertexWithinFace(\n        this.snapMode,\n        this.spaceFaces, rwuPoint,\n        this.spacing,\n      );\n    if (!loc) { return; }\n    d3.select('#grid svg')\n      .append('g')\n      .classed('highlight', true)\n      .selectAll('.daylighting-control')\n      .data([loc])\n      .call(this.drawDaylightingControl);\n\n    this.highlightDaylightingControlGuideline(loc);\n  },\n  highlightDaylightingControlGuideline(loc) {\n    const\n      face = _.find(this.denormalizedGeometry.faces, { id: loc.face_id }),\n      windows = this.windowsOnFace(face),\n      nearestEdge = findClosestWindow(windows, loc) || findClosestEdge(face.edges, loc);\n    d3.select('#grid svg')\n      .append('g')\n      .classed('guideline', true)\n      .selectAll('.daylighting-control-guideline')\n      .data([{ loc, nearestEdge }])\n      .call(this.drawDaylightingControlGuideline);\n  },\n\n  /*\n  * called on mousemove events, shows the user what geometry will be created by clicking at the current mouse location by\n  * drawing a guide rectangle or a guideline between the last point drawn and the guidepoint\n  */\n  drawGuideLines(e, guidePoint) {\n    if (!this.points.length) { return; }\n\n    // remove expired guideline paths and text\n    this.eraseGuidelines();\n\n    let guidelinePoints, guidelinePaths;\n\n    // if the polygon tool is active, draw a line connecting the last point in the polygon to the guide point\n    // if the rectangle or eraser tool is active, infer a rectangle from the first point that was drawn and the guide point\n    if (this.currentTool === 'Polygon') {\n      guidelinePoints = [guidePoint, this.points[this.points.length - 1]];\n      guidelinePaths = [guidelinePoints];\n    } else if (this.currentTool === 'Rectangle' || this.currentTool === 'Eraser') {\n      guidelinePoints = [\n        this.points[0],\n        { x: guidePoint.x, y: this.points[0].y },\n        guidePoint,\n        { x: this.points[0].x, y: guidePoint.y },\n        this.points[0],\n      ];\n\n      guidelinePaths = [\n        [guidelinePoints[0], guidelinePoints[1]],\n        [guidelinePoints[1], guidelinePoints[2]],\n      ];\n    }\n\n    const\n      guidelineArea = this.currentTool === 'Polygon' ? [...this.points, guidePoint, this.points[0]] : guidelinePoints,\n      guidelinePolys = [guidelineArea, this.points],\n      svg = d3.select('#grid svg');\n\n    // render a guideline or rectangle\n    svg.selectAll('.guideline-line')\n    .append('path')\n    .datum(guidelinePoints)\n    .attr('fill', 'none')\n    .classed('guideline guideline-line', true)\n    .attr('vector-effect', 'non-scaling-stroke')\n    .attr('data-transform-plz', '')\n    .attr('d', d3.line().x(d => this.rwuToGrid(d.x, 'x'))\n                        .y(d => this.rwuToGrid(d.y, 'y')))\n    .lower();\n\n    // render unfinished area polygon(s)\n    svg.selectAll('.guideline-area')\n    .data(guidelinePolys)\n    .enter()\n    .append('polygon')\n    .attr('points', d => d.map(p =>\n        [this.rwuToGrid(p.x, 'x'), this.rwuToGrid(p.y, 'y')]\n        .join(','),\n      ).join(' '))\n    .classed('guideline guideline-area guideLine', true)\n    .attr('vector-effect', 'non-scaling-stroke')\n    .attr('data-transform-plz', '')\n    .attr('fill', () => {\n      if (this.currentTool === 'Eraser') { return 'none'; }\n      if (this.currentSpace) { return this.currentSpace.color; }\n      if (this.currentShading) { return this.currentShading.color; }\n      return null;\n    });\n\n    // don't render area/distance when erasing\n    if (this.currentTool === 'Eraser') { return; }\n\n    // render gridline distance(s)\n    svg.selectAll('.guideline-text')\n    .data(guidelinePaths)\n    .enter()\n    .append('text')\n    .attr('x', d => this.rwuToGrid(d[0].x, 'x') + (this.rwuToGrid(d[1].x, 'x') - this.rwuToGrid(d[0].x, 'x')) / 2)\n    .attr('y', d => this.rwuToGrid(d[0].y, 'y') + (this.rwuToGrid(d[1].y, 'y') - this.rwuToGrid(d[0].y, 'y')) / 2)\n    .attr('dx', -1.25 * (this.transform.k > 1 ? 1 : this.transform.k) + 'em')\n    .attr('data-transform-plz', '')\n    .text((d) => {\n      const dist = this.distanceBetweenPoints(d[0], d[1]);\n      return dist ? dist.toFixed(2) : '';\n    })\n    .classed('guideline guideline-text guideline-dist', true)\n    .attr('font-family', 'sans-serif')\n    .attr('fill', 'red')\n    .style('font-size', '1em');\n\n    if (guidelineArea.length > 3) {\n      const\n        areaPoints = guidelineArea.map((p) => {\n          const x = p.x, y = p.y;\n          return { x, y, X: x, Y: y };\n        }),\n        { x, y, area } = this.polygonLabelPosition(areaPoints),\n        areaTextNoUnits = area ? area.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,') : '',\n        areaText = `${areaTextNoUnits} ${this.units}²`;\n\n      if (x === null || y === null) {\n        // either polygon has 0 area or something went wrong --> don't draw area text\n        return;\n      }\n\n      // render unfinished area #\n      svg.append('text')\n      .attr('x', this.rwuToGrid(x, 'x'))\n      .attr('y', this.rwuToGrid(y, 'y'))\n      .text(areaText)\n      .classed('guideline guideline-text guideline-area-text guideLine', true)\n      .attr('data-transform-plz', '')\n      .attr('text-anchor', 'middle')\n      .attr('font-family', 'sans-serif')\n      .attr('fill', 'red')\n      .style('font-size', '1em')\n      .raise();\n    }\n\n    d3.selectAll('.vertical, .horizontal').lower();\n  },\n  /*\n  * Erase any drawn guidelines\n  */\n  eraseGuidelines() {\n    d3.selectAll('#grid .guideline').remove();\n  },\n  /*\n  * Handle escape key presses to cancel current drawing operation\n  */\n  escapeAction(e) {\n    if (e.code === 'Escape' || e.which === 27) {\n      this.points = [];\n      this.clearHighlights();\n      d3.selectAll('#grid .point-path').remove();\n    }\n  },\n  // ****************** SAVING FACES ****************** //\n  /*\n  * The origin of the polygon being drawn was clicked, create a polygon face from all points on the grid\n  * translate the points into RWU and save the face for the selected space or shading\n  */\n  savePolygonFace() {\n    this.clearHighlights();\n    d3.selectAll('#grid .point-path').remove();\n\n    const payload = {\n      points: [...this.points],\n    };\n\n    if (this.currentSpace) {\n      payload.model_id = this.currentSpace.id;\n    } else if (this.currentShading) {\n      payload.model_id = this.currentShading.id;\n    }\n\n    this.$store.dispatch('geometry/createFaceFromPoints', payload);\n\n    // clear points from the grid\n    this.points = [];\n  },\n\n  /*\n  * create a rectangular face from the two points on the grid\n  * save the rectangle as a face for the selected space or shading\n  */\n  saveRectangularFace() {\n    this.clearHighlights();\n    d3.selectAll('#grid .point-path').remove();\n\n    // infer 4 corners of the rectangle based on the two points that have been drawn\n    const payload = {};\n\n    payload.points = [\n      this.points[0],\n      { x: this.points[1].x, y: this.points[0].y },\n      this.points[1],\n      { x: this.points[0].x, y: this.points[1].y },\n    ];\n\n    if (this.currentSpace) {\n      payload.model_id = this.currentSpace.id;\n    } else if (this.currentShading) {\n      payload.model_id = this.currentShading.id;\n    }\n    this.$store.dispatch('geometry/createFaceFromPoints', payload);\n\n    // clear points from the grid\n    this.points = [];\n  },\n\n  // ****************** ERASING FACES ****************** //\n  /*\n  * called when 2 points have been created on the grid and the eraser tool is active\n  * infer a rectangular eraser selection based on two points on the grid\n  * remove the intersection of all geometry on the current story with the eraser selection\n  */\n  eraseRectangularSelection() {\n    // infer 4 corners of the rectangle based on the two points that have been drawn\n    this.clearHighlights();\n    d3.selectAll('#grid .point-path').remove();\n\n    const payload = {\n      points: [\n        this.points[0],\n        { x: this.points[1].x, y: this.points[0].y },\n        this.points[1],\n        { x: this.points[0].x, y: this.points[1].y },\n      ],\n    };\n\n    this.$store.dispatch('geometry/eraseSelection', payload);\n\n    // clear points from the grid\n    this.points = [];\n  },\n\n\n  // ****************** d3 RENDERING ****************** //\n  /*\n  * render points for the face being drawn, connect them with a guideline\n  */\n  drawPoints() {\n    // remove expired points and guidelines\n    d3.selectAll('#grid .point-path').remove();\n\n    // draw points\n    const pointPath = d3.select('#grid svg')\n    .selectAll('ellipse.point-path').data(this.points);\n\n    pointPath.merge(\n      pointPath.enter().append('ellipse').attr('class', 'point-path'),\n    )\n    .classed('origin', (d, ix) => ix === 0)\n    .attr('data-transform-plz', '')\n    .attr('cx', d => this.rwuToGrid(d.x, 'x'))\n    .attr('cy', d => this.rwuToGrid(d.y, 'y'))\n    .attr('rx', (d, ix) => (ix === 0 ? 7 : 2))\n    .attr('ry', (d, ix) => (ix === 0 ? 7 : 2))\n    .attr('vector-effect', 'non-scaling-stroke')\n    .attr('fill', (d, ix) => (ix === 0 ? 'none' : ''));\n\n    // connect the points for the face being drawn with a line\n    d3.select('#grid svg').append('path').attr('class', 'point-path')\n    .datum(this.points)\n    .attr('fill', 'none')\n    .attr('vector-effect', 'non-scaling-stroke')\n    .attr('data-transform-plz', '')\n    .attr('d', d3.line().x(d => this.rwuToGrid(d.x, 'x')).y(d => this.rwuToGrid(d.y, 'y')))\n    // prevent edges from overlapping points - interferes with click events\n    .lower();\n\n    // keep grid lines under polygon edges\n    d3.selectAll('.vertical, .horizontal').lower();\n  },\n  registerDrag() {\n    const polygons = d3.select('#grid svg').selectAll('polygon');\n\n    this.deregisterD3Events(polygons);\n    if (this.currentTool === 'Select') {\n      this.registerSelectEvents(polygons);\n    } else if (this.currentTool === 'Fill') {\n      this.registerFillEvents(polygons);\n    }\n  },\n  deregisterD3Events(polygons) {\n    polygons\n      .on('.drag', null)\n      .on('click', null);\n  },\n\n  registerFillEvents(polygons) {\n    polygons.on('click', (d) => {\n      if (this.currentSpace || this.currentShading) {\n        this.points = [...d.points];\n        this.savePolygonFace();\n      }\n    });\n  },\n\n  registerSelectEvents(polygons) {\n    // store total drag offset (grid units)\n    let startX, startY;\n\n    // polygon drag handler\n    const drag = d3.drag()\n      .on('start', (d) => {\n        [startX, startY] = d3.mouse(this.$refs.grid);\n        if (d.previous_story) { return; }\n        // if a face on the current story is clicked while the Select tool is active\n        // lookup its corresponding model (space/shading) and select it\n        this.currentSubSelection = modelHelpers.modelForFace(this.$store.state.models, d.face_id);\n      })\n      .on('drag', (d) => {\n        if (d.previous_story) { return; }\n\n        const [currX, currY] = d3.mouse(this.$refs.grid);\n        d3.select(`#poly-${d.face_id}`)\n          .attr('transform', () => `translate(${currX - startX}, ${currY - startY})`);\n      })\n      .on('end', (d) => {\n        if (d.previous_story) { return; }\n\n        // when the drag is finished, update the face in the store with the total offset in RWU\n        const [endX, endY] = d3.mouse(this.$refs.grid);\n        this.$store.dispatch('geometry/moveFaceByOffset', {\n          face_id: d.face_id,\n          dx: this.gridToRWU(endX, 'x') - this.gridToRWU(startX, 'x'),\n          dy: this.gridToRWU(endY, 'y') - this.gridToRWU(startY, 'y'),\n        });\n      });\n    polygons.call(drag);\n  },\n  /*\n  * render saved faces as polygons\n  * handle clicks to select faces\n  */\n  drawPolygons() {\n    this.recalcScales();\n    // remove expired polygons\n    let poly = d3.select('#grid svg .polygons').selectAll('g.poly')\n      .data(this.polygons, d => d.face_id);\n\n    poly.exit().remove();\n    const polyEnter = poly.enter().append('g').attr('class', 'poly');\n    polyEnter.append('polygon');\n    polyEnter.append('text').attr('class', 'polygon-text');\n    polyEnter.append('g').attr('class', 'windows');\n    polyEnter.append('g').attr('class', 'daylighting-controls');\n\n    // draw polygons\n    poly = polyEnter\n      .merge(poly)\n    .attr('class', (d) => {\n      if ((this.currentSpace && d.face_id === this.currentSpace.face_id) ||\n      (this.currentShading && d.face_id === this.currentShading.face_id)) { return 'current'; }\n      if (d.previous_story) { return 'previousStory'; }\n      return null;\n    })\n    .classed('poly', true)\n    .attr('data-model-type', d => d.modelType)\n    .attr('id', p => `poly-${p.face_id}`)\n    .attr('transform', null);\n\n    poly.select('polygon')\n      .attr('id', d => `face-${d.face_id}`)\n      .attr('points', d => d.points.map(p => [this.rwuToGrid(p.x, 'x'), this.rwuToGrid(p.y, 'y')].join(',')).join(' '))\n      .attr('fill', d => d.color)\n      .attr('vector-effect', 'non-scaling-stroke');\n\n    // add label\n    poly.select('text')\n      .attr('id', p => `text-${p.face_id}`)\n      .attr('x', p => this.rwuToGrid(p.labelPosition.x, 'x'))\n      .attr('y', p => this.rwuToGrid(p.labelPosition.y, 'y'))\n      .text(p => p.name)\n      .attr('text-anchor', 'middle')\n      .style('font-size', '14px')\n      .style('font-weight', 'bold')\n      .attr('font-family', 'sans-serif')\n      .attr('fill', 'red')\n      .classed('polygon-text', true);\n\n    poly.select('.windows')\n      .selectAll('.window')\n      .data(d => d.windows)\n      .call(this.drawWindow);\n\n    poly.select('.daylighting-controls')\n      .selectAll('.daylighting-control')\n      .data(d => d.daylighting_controls)\n      .call(this.drawDaylightingControl);\n\n    this.registerDrag();\n\n    // render the selected model's face above the other polygons so that the border is not obscured\n    d3.select('.current').raise();\n  },\n  drawImages() {\n    d3.select('#grid svg .images').selectAll('.image-group')\n      .data(this.images, d => d.id)\n      .call(this.drawImage);\n  },\n\n  draw({ zoomEnd } = {}) {\n    this.transformAtLastRender = { ...this.transform };\n    d3.selectAll('[data-transform-plz]')\n      .attr('transform', '');\n\n    this.drawPolygons();\n    this.drawImages();\n    this.raiseOrLowerImages();\n\n    const redrawPoints = zoomEnd && this.points.length > 0;\n    if (redrawPoints) {\n      this.highlightSnapTarget();\n      this.drawPoints();\n    }\n  },\n  // ****************** SNAPPING TO EXISTING GEOMETRY ****************** //\n  /*\n  * given a point in grid units, find the closest vertex or edge within its snap tolerance\n  * if the grid is active and no vertex or edge is within the snap tolerance, returns the closest grid point\n  * if the grid is inactive, returns the or the location of the point\n  */\n  findSnapTarget(gridPoint, options = {}) {\n    const { edge_component: snapOnlyToEdges } = options;\n    // translate grid point to real world units to check for snapping targets\n    const rwuPoint = {\n      x: this.gridToRWU(gridPoint.x, 'x'),\n      y: this.gridToRWU(gridPoint.y, 'y'),\n    };\n    if (this.snapMode === 'grid-strict') {\n      return this.strictSnapTargets(rwuPoint)[0];\n    }\n\n    if (event.shiftKey) {\n      // disable snapping when shift is held down\n      return {\n        type: 'gridpoint',\n        ...rwuPoint,\n      };\n    }\n\n    // if snapping only to edges (placing edge components, return either the snapping edge or original point)\n    if (snapOnlyToEdges) {\n      const snappingEdge = this.snappingEdgeData(rwuPoint);\n      return snappingEdge || {\n        type: 'gridpoint',\n        ...rwuPoint,\n      };\n    }\n    // if a snappable vertex exists, don't check for edges\n    const snappingVertex = this.snappingVertexData(rwuPoint);\n    if (snappingVertex) { return snappingVertex; }\n\n    const snappingEdge = this.snappingEdgeData(rwuPoint);\n    if (snappingEdge) { return snappingEdge; }\n\n    // grid is active and no vertices or edges are within snapping range, calculate the closest grid point to snap to\n    if (this.gridVisible) {\n      // offset of the first gridline on each axis\n      const xOffset = +this.axis.x.select('.tick').attr('transform').replace('translate(', '').replace(')', '').split(',')[0],\n      yOffset = +this.axis.y.select('.tick').attr('transform').replace('translate(', '').replace(')', '').split(',')[1],\n\n      // spacing between ticks in grid units\n      xTickSpacing = this.rwuToGrid(this.spacing + this.min_x, 'x'),\n      // yTickSpacing = this.rwuToGrid(this.spacing + this.min_y, 'y');\n      yTickSpacing = this.rwuToGrid(this.max_y - this.spacing, 'y'); // inverted y axis\n\n      // round point RWU coordinates to nearest gridline, adjust by grid offset, add 0.5 grid units to account for width of gridlines\n      const snapTarget = {\n        type: 'gridpoint',\n        x: this.round(gridPoint.x, this.rwuToGrid(this.spacing + this.min_x, 'x')) + xOffset - 0.5,\n        y: this.round(gridPoint.y, this.rwuToGrid(this.max_y - this.spacing, 'y')) + yOffset - 0.5\n      };\n\n      // pick closest point\n      snapTarget.x = Math.abs(gridPoint.x - (snapTarget.x - xTickSpacing)) > Math.abs(gridPoint.x - snapTarget.x) ? snapTarget.x : snapTarget.x - xTickSpacing;\n      snapTarget.y = Math.abs(gridPoint.y - (snapTarget.y - yTickSpacing)) > Math.abs(gridPoint.y - snapTarget.y) ? snapTarget.y : snapTarget.y - yTickSpacing;\n\n      return snapTarget;\n    }\n    // if grid is not active, check if we can snap to an angle\n    else if (this.points.length) {\n      const snappableAngles = [-180, -90, 0, 90, 180];\n      const lastPoint = this.points[this.points.length - 1];\n      // angle between last point drawn and mouse (degrees)\n      const thetaDeg = Math.atan2(lastPoint.y - gridPoint.y, lastPoint.x - gridPoint.x)\n      * (180 / Math.PI);\n\n      // snap to -180, -90, 0, 90, 180\n      var snapCoords;\n      snappableAngles.some((angle) => {\n        // check if gridpoint is within snap tolerance of a vertical or horizontal angle\n        if (Math.abs(thetaDeg - angle) < this.$store.getters['project/angleTolerance']) {\n          // only take the x or y value from the rotated point\n          // we don't want to preserve the original radius\n          if (angle === -180 || angle === 0 || angle === 180) {\n            // horizontal snap - use original x value and adjust y\n            return {\n              x: gridPoint.x,\n              y: this.rotatePoint(lastPoint, gridPoint, angle - thetaDeg).y,\n            };\n          } else if (angle === -90 || angle === 90) {\n            // vertical snap - use original y value and adjust x\n            return {\n              x: this.rotatePoint(lastPoint, gridPoint, angle - thetaDeg).x,\n              y: gridPoint.y,\n            };\n          }\n        }\n      });\n\n      if (snapCoords) {\n        return {\n          type: 'gridpoint',\n          ...snapCoords,\n        };\n      }\n    }\n\n    // nothing to snap to, just return the location of the point\n    return {\n      type: 'gridpoint',\n      ...gridPoint\n    };\n  },\n\n  strictSnapTargets(location) {\n    const snappableVertices = [\n      ...this.currentStoryGeometry.vertices,\n      ...(this.previousStoryGeometry ? this.previousStoryGeometry.vertices : []),\n    ];\n\n    if (this.points.length >= 3 && this.currentTool === 'Polygon') {\n      // convert the polygon origin from grid units to real world units before adding it as a snappable vertex\n      snappableVertices.push({\n        ...this.points[0],\n        origin: true, // set a flag to mark the origin\n      });\n    }\n\n    return snapTargets(snappableVertices, this.spacing, location);\n  },\n  /*\n  * given a point in RWU, look up the closest snappable vertex\n  * if the vertex is within the snap tolerance of the point, return the coordinates of the vertex in grid units\n  * and the distance from the vertex to the point\n  */\n  snappingVertexData(point) {\n    // build a list of vertices (in RWU) available for snapping\n    // deep copy all vertices on the current story\n    let snappableVertices = [...this.currentStoryGeometry.vertices];\n\n    // TODO: conditionally combine this list with vertices from the next story down if it is visible\n    if (this.previousStoryGeometry) {\n      snappableVertices = snappableVertices.concat(JSON.parse(JSON.stringify(this.previousStoryGeometry.vertices)));\n    }\n\n    // if the polygon tool is active and the polygon being drawn has at least 3 existing points allow snapping to the origin of the polygon\n    if (this.points.length >= 3 && this.currentTool === 'Polygon') {\n      // convert the polygon origin from grid units to real world units before adding it as a snappable vertex\n      snappableVertices.push({\n        ...this.points[0],\n        origin: true, // set a flag to mark the origin\n      });\n    }\n\n    if (this.points.length === 1 && this.currentTool === 'Rectangle') {\n      snappableVertices = snappableVertices.concat(\n        geometryHelpers.syntheticRectangleSnaps(\n          snappableVertices,\n          this.points[0],\n          point),\n      );\n    }\n\n    if (!snappableVertices.length) { return null; }\n\n    // find the vertex closest to the point being tested\n    const nearestVertex = snappableVertices.reduce((a, b) => {\n      const aDist = this.distanceBetweenPoints(a, point);\n      const bDist = this.distanceBetweenPoints(b, point);\n      return aDist < bDist ? a : b;\n    });\n\n    // return the nearest vertex if it is within the snap tolerance of the point\n    if (this.distanceBetweenPoints(nearestVertex, point) < this.$store.getters['project/snapTolerance']) {\n      return {\n        ...nearestVertex,\n        type: 'vertex',\n      };\n    }\n  },\n\n  /*\n  * given a point in RWU, look up the closest snappable edge\n  * if the projection of the point to the edge is within the snap tolerance of the point, return the edge and coordinates of the projection in grid units\n  * and the distance from the projection to the point\n  */\n  snappingEdgeData(point) {\n    // build a list of edges (in RWU) available for snapping\n    // deep copy all vertices on the current story\n    let snappableEdges = [...this.currentStoryGeometry.edges];\n\n    // TODO: conditionally combine this list with edges from the next story down if it is visible\n    if (this.previousStoryGeometry) {\n      snappableEdges = snappableEdges.concat(JSON.parse(JSON.stringify(this.previousStoryGeometry.edges.map(e => ({\n        ...e,\n        previous_story: true\n      })))));\n    }\n\n    if (!snappableEdges.length) { return null; }\n\n    // find the edge closest to the point being tested\n    const nearestEdge = snappableEdges.reduce((a, b) => {\n      const aStoryGeometry = a.previous_story ? this.previousStoryGeometry : this.currentStoryGeometry,\n      bStoryGeometry = b.previous_story ? this.previousStoryGeometry : this.currentStoryGeometry,\n      // look up vertices associated with edges\n      aV1 = geometryHelpers.vertexForId(a.v1, aStoryGeometry),\n      aV2 = geometryHelpers.vertexForId(a.v2, aStoryGeometry),\n\n      bV1 = geometryHelpers.vertexForId(b.v1, bStoryGeometry),\n      bV2 = geometryHelpers.vertexForId(b.v2, bStoryGeometry),\n\n      // project point being tested to each edge\n      aProjection = geometryHelpers.projectionOfPointToLine(point, { p1: aV1, p2: aV2 }),\n      bProjection = geometryHelpers.projectionOfPointToLine(point, { p1: bV1, p2: bV2 }),\n\n      // look up distance between projection and point being tested\n      aDist = geometryHelpers.distanceBetweenPoints(aProjection, point),\n      bDist = geometryHelpers.distanceBetweenPoints(bProjection, point);\n\n      // return data for the edge with the closest projection to the point being tested\n      return aDist < bDist ? a : b;\n    });\n\n    // look up vertices associated with nearest edge\n    const nearestEdgeStoryGeometry = nearestEdge.previous_story ? this.previousStoryGeometry : this.currentStoryGeometry;\n    const nearestEdgeV1 = geometryHelpers.vertexForId(nearestEdge.v1, nearestEdgeStoryGeometry);\n    const nearestEdgeV2 = geometryHelpers.vertexForId(nearestEdge.v2, nearestEdgeStoryGeometry);\n\n    // project point being tested to nearest edge\n    var projection = geometryHelpers.projectionOfPointToLine(point, { p1: nearestEdgeV1, p2: nearestEdgeV2 });\n\n    // look up distance between projection and point being tested\n    const dist = this.distanceBetweenPoints(projection, point);\n    // take the projection of the cursor to the edge\n    // check if the angle of the segment defined by the cursor and projection is < the angle snap tolerance\n    const snappableAngles = [-180, -90, 0, 90, 180];\n    // angle between projection and mouse (degrees)\n    const thetaDeg = Math.atan2(point.y - projection.y, point.x - projection.x)\n    * (180 / Math.PI);\n\n    // if the original projection is within the snap tolerance of one of the snapping angles\n    // adjust the projection so that it is exactly at the snap angle\n    // snap to -180, -90, 0, 90, 180\n    snappableAngles.some((angle) => {\n      // if the original projection is within the snap tolerance of one of the snapping angles\n      // adjust the projection so that it is exactly at the snap angle\n      if (Math.abs(thetaDeg - angle) < this.$store.getters['project/angleTolerance']) {\n        // infer a line defining the desired projection\n        var adjustedProjectionP1;\n        var adjustedProjectionP2;\n        if (angle === 180 || angle === 0 || angle === -180) {\n          adjustedProjectionP1 = { x: point.x - (2 * dist), y: point.y }\n          adjustedProjectionP2 = { x: point.x + (2 * dist), y: point.y }\n        } else if (angle === 90 || angle === -90) {\n          adjustedProjectionP1 = { x: point.x, y: point.y - (2 * dist) }\n          adjustedProjectionP2 = { x: point.x, y: point.y + (2 * dist) }\n        }\n        // adjust the projection to be the intersection of the desired projection line and the nearest edge\n        if (geometryHelpers.ptsAreCollinear(adjustedProjectionP1, nearestEdgeV1, adjustedProjectionP2)) {\n          projection = nearestEdgeV1;\n        } else if (geometryHelpers.ptsAreCollinear(adjustedProjectionP1, nearestEdgeV2, adjustedProjectionP2)) {\n          projection = nearestEdgeV2;\n        } else {\n          projection = geometryHelpers.intersectionOfLines(adjustedProjectionP1, adjustedProjectionP2, nearestEdgeV1, nearestEdgeV2);\n        }\n        return true;\n      }\n      return false;\n    });\n\n    // return data for the edge if the projection is within the snap tolerance of the point\n    if (dist < this.$store.getters['project/snapTolerance']) {\n      return {\n        snappingEdge: nearestEdge,\n        dist: nearestEdge.dist,\n        type: 'edge',\n        // projection and snapping edge vertices translated into grid coordinates (to display snapping point and highlight edges)\n        projection,\n        v1GridCoords: nearestEdgeV1,\n        v2GridCoords: nearestEdgeV2,\n      }\n    }\n    return null;\n  },\n\n  // ****************** SNAPPING HELPERS ****************** //\n  /*\n  * returns the distance between two points\n  */\n  distanceBetweenPoints (p1, p2) {\n    const dx = Math.abs(p1.x - p2.x),\n    dy = Math.abs(p1.y - p2.y);\n    return Math.sqrt((dx * dx) + (dy * dy));\n  },\n\n  /*\n  * round a number n to the nearest x\n  */\n  round (n, x) {\n    var result,\n    sign = n < 0 ? -1 : 1;\n    n = Math.abs(n);\n    if (n % x < x / 2) {\n      result = n - (n % x);\n    } else {\n      result = n + x - (n % x);\n    }\n    // handle negatives\n    result *= sign;\n    return result\n  },\n  rotatePoint (center, point, angle) {\n    const radians = angle * Math.PI / 180.0,\n    cos = Math.cos(radians),\n    sin = Math.sin(radians),\n    dX = point.x - center.x,\n    dY = point.y - center.y;\n\n    return {\n      x: cos * dX - sin * dY + center.x,\n      y: sin * dX + cos * dY + center.y\n    };\n  },\n\n  resolveBounds() {\n    /*\n    After calling resolveBounds:\n     - (min_x, max_x) x  (min_y, max_y) will have the same aspect ratio\n     as width x height.\n     - (min_x, max_x) is the same or a smaller interval\n     - (min_y, max_y) is the same or a smaller interval\n    */\n    let\n      currXExtent = [this.min_x, this.max_x],\n      currYExtent = [this.min_y, this.max_y];\n    const plusMargin = ([i, s]) => {\n      const d = (s - i) / 20;\n      return [i - d, s + d];\n    };\n    if (this.visibleVerts.length) {\n      currXExtent = plusMargin(d3.extent(this.allVertices, d => d.x));\n      currYExtent = plusMargin(d3.extent(this.allVertices, d => d.y));\n    }\n    const\n      width = this.$refs.gridParent.clientWidth,\n      height = this.$refs.gridParent.clientHeight,\n      { xExtent, yExtent } = fitToAspectRatio(\n        currXExtent,\n        currYExtent,\n        width / height,\n        'expand',\n      );\n    [this.min_x, this.max_x] = xExtent;\n    [this.min_y, this.max_y] = yExtent;\n    _.defer(() => {\n      window.eventBus.$emit('boundsResolved');\n    });\n  },\n  nullTransform() {\n    d3.select(this.$refs.grid).call(this.zoomBehavior.transform, d3.zoomIdentity);\n  },\n  // ****************** GRID ****************** //\n  renderGrid() {\n    const\n      w = this.$refs.gridParent.clientWidth,\n      h = this.$refs.gridParent.clientHeight;\n\n    this.resolveBounds();\n    // scaleX amd scaleY are used during drawing to translate from px to RWU given the current grid dimensions in rwu\n    this.$store.dispatch('application/setScaleX', {\n      scaleX: {\n        pixels: w,\n        rwuRange: [this.min_x, this.max_x],\n      },\n    });\n\n    this.$store.dispatch('application/setScaleY', {\n      scaleY: {\n        pixels: h,\n        rwuRange: [this.min_y, this.max_y],\n      },\n    });\n\n    this.calcGrid();\n\n    // It took me some time to figure out why this line is necessary. It fixes a problem\n    // that sometimes appears when resizing the window. Here's a screenshot of what\n    // it can look like without that line:\n    // https://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/59a225fd10e0a9d23fc0e1b2/30ea2c37407fe148a397295b748b6015/capture.png\n    // When it looks that way it's because the zoomXScale's range has not been updated to\n    // reflect the new clientWidth. reloadGridAndScales() updates the zoomXScale's range,\n    // but the axes don't re-render until the next zoom event. We use nullTransform()\n    // to force this to happen immediately.\n    this.nullTransform();\n\n    this.draw()\n  },\n  reloadGridAndScales() {\n    this.zoomXScale = null;\n    this.zoomYScale = null;\n    this.resolveBounds();\n    this.renderGrid();\n  },\n  recalcScales() {\n    const\n      width = this.$refs.gridParent.clientWidth,\n      height = this.$refs.gridParent.clientHeight;\n\n    this.xScale = d3.scaleLinear()\n      .domain([this.min_x, this.max_x])\n      .range([0, width]);\n    this.yScale = d3.scaleLinear()\n      .domain([this.min_y, this.max_y])\n      .range([height, 0]); // inverted y axis\n\n    // only copy once, or else zoom behavior is exponential\n    this.zoomXScale = this.zoomXScale || this.xScale.copy();\n    this.zoomYScale = this.zoomYScale || this.yScale.copy();\n  },\n  calcGrid() {\n    this.recalcScales();\n    const\n      width = this.$refs.gridParent.clientWidth,\n      height = this.$refs.gridParent.clientHeight;\n    const\n      svg = d3.select('#grid svg'),\n      // keep font size and stroke width visually consistent\n      strokeWidth = 1,\n      fontSize = '14px';\n\n    svg.attr('height', height)\n      .attr('width', width);\n    this.axis.x = svg.selectAll('g.axis--x')\n      .data([undefined]);\n\n    this.axis.x = this.axis.x.merge(\n      this.axis.x.enter().append('g').attr('class', 'axis axis--x'),\n    )\n    .attr('stroke-width', strokeWidth)\n    .style('font-size', fontSize)\n    .style('display', this.gridVisible ? 'inline' : 'none');\n\n    this.axis.y = svg.selectAll('g.axis--y')\n      .data([undefined]);\n\n    this.axis.y = this.axis.y.merge(\n      this.axis.y.enter().append('g').attr('class', 'axis axis--y'),\n    )\n    .attr('class', 'axis axis--y')\n    .attr('stroke-width', strokeWidth)\n    .style('font-size', fontSize)\n    .style('display', this.gridVisible ? 'inline' : 'none');\n\n    // now that the axis g tags exist, call axis_generator on them.\n    this.updateGrid();\n\n    // configure zoom behavior in rwu\n    this.zoomBehavior = d3.zoom()\n    .scaleExtent([0, Infinity])\n     .on('zoom', () => {\n       const transform = d3.event.transform;\n       // update stored transform for grid hiding, etc.\n       this.transform = { ...transform };\n\n       // create updated copies of the scales based on the zoom transformation\n       // the transformed scales are only used to obtain the new rwu grid dimensions and redraw the axes\n       // NOTE: don't change the original scale or you'll get exponential growth\n       const\n         newScaleX = transform.rescaleX(this.zoomXScale),\n         newScaleY = transform.rescaleY(this.zoomYScale);\n\n       [this.min_x, this.max_x] = newScaleX.domain();\n       [this.min_y, this.max_y] = newScaleY.domain(); // inverted y axis\n\n       this.axis_generator.x.scale(newScaleX);\n       this.axis_generator.y.scale(newScaleY);\n       this.updateGrid();\n\n       // axis padding\n       this.padTickY(-12);\n\n       // apply the zoom transform to image and polygon <g> tags.\n       // (more efficient than a full re-render)\n       this.translateEntities();\n       this.clearComponentHighlights();\n     })\n     .on('end', () => {\n       // redraw the saved geometry\n       this.draw({ zoomEnd: true });\n     });\n\n    svg.call(this.zoomBehavior);\n    svg\n      .on('mousemove', this.handleMouseMove)\n      .on('click', this.gridClicked);\n  },\n  transformTo(t) {\n    d3.select(this.$refs.grid)\n      .call(this.zoomBehavior.transform, t);\n  },\n  zoomBy(factor) {\n    const newScale = this.transform.k * factor;\n    d3.select(this.$refs.grid)\n      .transition()\n      .duration(400)\n      .call(this.zoomBehavior.transform, d3.zoomIdentity.scale(newScale));\n  },\n  zoomToFit() {\n    const\n      width = this.$refs.grid.clientWidth,\n      height = this.$refs.grid.clientHeight;\n\n    if (!this.allVertices.length) {\n      return;\n    }\n\n    const\n      xExtent = d3.extent(this.allVertices, d => this.zoomXScale(d.x)),\n      yExtent = d3.extent(this.allVertices, d => this.zoomYScale(d.y)),\n      dx = xExtent[1] - xExtent[0],\n      dy = yExtent[1] - yExtent[0],\n      x = (xExtent[0] + xExtent[1]) / 2,\n      y = (yExtent[0] + yExtent[1]) / 2,\n      scale = 0.9 / Math.max(dx / width, dy / height),\n      translate = [width / 2 - scale * x, height / 2 - scale * y],\n      svg = d3.select('#grid svg'),\n      transform = d3.zoomIdentity.translate(...translate).scale(scale);\n\n    svg.call(this.zoomBehavior.transform, transform);\n  },\n  scaleTo(scale) {\n    const\n      width = this.$refs.grid.clientWidth,\n      height = this.$refs.grid.clientHeight,\n      x = (this.zoomXScale(this.max_x) + this.zoomXScale(this.min_x)) / 2,\n      y = (this.zoomYScale(this.max_y) + this.zoomYScale(this.min_y)) / 2,\n      translate = [width / 2 - scale * x, height / 2 - scale * y];\n    d3.select(this.$refs.grid)\n      .call(this.zoomBehavior.transform, d3.zoomIdentity\n          .translate(...translate)\n          .scale(scale));\n  },\n  translateEntities() {\n    // During a zoom, we don't do a full re-render because it would fire many\n    // times and slow down the event loop. Instead, we do a visual\n    // transformation, to keep the elements in the correct position on the page\n    //\n    // It used to be just .images and .polygons that needed to be translated\n    // but, now that mid-draw artifacts can persist through a zoom or pan, we\n    // needed to add them as well. Rather than listing all the selectors for\n    // anyone who might want to be translated, we use [data-transform-plz] to\n    // let elements opt-in and say \"I would like to be translated when the user\n    // pans, plz\".\n\n    d3.selectAll('[data-transform-plz]')\n      .attr('transform', transformDiff(this.transformAtLastRender, d3.event.transform));\n  },\n  showOrHideAxes() {\n    this.axis.x.style('visibility', this.gridVisible ? 'visible' : 'hidden');\n    this.axis.y.style('visibility', this.gridVisible ? 'visible' : 'hidden');\n  },\n  updateGrid() {\n    if (!this.axis.x || !this.axis.y) {\n      // not yet initialized\n      return;\n    }\n    const\n      width = this.$refs.gridParent.clientWidth,\n      height = this.$refs.gridParent.clientHeight,\n      rwuWidth = this.max_x - this.min_x,\n      rwuHeight = this.max_y - this.min_y,\n      xTicks = ticksInRange(this.min_x, this.max_x, this.spacing),\n      yTicks = ticksInRange(this.min_y, this.max_y, this.spacing);\n\n    this.reduceTicks = yTicks.length > 250 || xTicks.length > 250;\n\n    this.axis_generator.x = this.axis_generator.x || d3.axisBottom(this.xScale);\n    this.axis_generator.x\n      .tickSize(height)\n      .tickPadding(-20)\n      .tickFormat(this.reduceTicks ? _.identity : this.formatTickX.bind(this, Math.floor(10 * (width / height))));\n\n    this.axis_generator.y = this.axis_generator.y || d3.axisRight(this.yScale);\n    this.axis_generator.y\n      .tickSize(width)\n      .tickPadding(-25)\n      .tickFormat(this.reduceTicks ? _.identity : this.formatTickY.bind(this, 10));\n\n    if (this.reduceTicks) {\n      this.axis_generator.x\n        .tickValues(null)\n        .ticks(5 * (rwuWidth / rwuHeight));\n      this.axis_generator.y\n        .tickValues(null)\n        .ticks(5);\n    } else {\n      this.axis_generator.x\n        .ticks(null)\n        .tickValues(xTicks);\n      this.axis_generator.y\n        .ticks(null)\n        .tickValues(yTicks);\n    }\n    // update the number of ticks to display based on the post zoom real world unit height and width\n    this.axis.y.call(this.axis_generator.y);\n    this.axis.x.call(this.axis_generator.x);\n  },\n\n  // ****************** SCALING FUNCTIONS ****************** //\n\n  /*\n  * take a rwu value (from the datastore), find the corresponding coordinates in the svg grid\n  */\n  rwuToGrid (rwu, axis) {\n    let scale;\n    if (axis === 'x') {\n      scale = this.xScale;\n    } else if (axis === 'y') {\n      scale = this.yScale;\n    }\n    return scale(rwu);\n  },\n\n  /*\n  * take a grid value (from some point already rendered to the grid) and translate it into RWU for persistence to the datastore\n  */\n  gridToRWU(gridValue, axis) {\n    let scale;\n    if (axis === 'x') {\n      scale = this.xScale;\n    } else if (axis === 'y') {\n      scale = this.yScale;\n    }\n    const result = scale.invert(gridValue);\n    // prevent floating point inaccuracies in stored numbers\n    return (Math.round(result * 100000000000))/100000000000;\n  },\n\n  gridPointToRWU(pt) {\n    return {\n      x: this.gridToRWU(pt.x, 'x'),\n      y: this.gridToRWU(pt.y, 'y'),\n    };\n  },\n\n  rwuPointToGrid(pt) {\n    return {\n      x: this.rwuToGrid(pt.x, 'x'),\n      y: this.rwuToGrid(pt.y, 'y'),\n    };\n  },\n\n  /*\n  * determine label x,y for given polygon\n  */\n  polygonLabelPosition(pointsIn) {\n    const\n      points = [pointsIn.map(p => [p.x, p.y])],\n      area = Math.abs(Math.round(geometryHelpers.areaOfSelection(pointsIn))), // calculate area in RWU, not grid units\n      [x, y] = area ? polylabel(points, 1.0) : [null, null];\n\n    return { x, y, area };\n  },\n\n  /*\n  * Format tick labels to maintain legibility\n  */\n  formatTickX (maxTicks, val) {\n    const rangeX = this.max_x - this.min_x,\n    spacing = this.spacing,\n    spacingScaled = Math.ceil((rangeX / maxTicks) / spacing) * spacing;\n\n    return (spacingScaled === 0 || val % spacingScaled === 0) ? val : '';\n  },\n  formatTickY (maxTicks, val) {\n    const rangeY = this.max_y - this.min_y,\n    spacing = this.spacing,\n    spacingScaled = Math.ceil((rangeY / maxTicks) / spacing) * spacing;\n\n    return (spacingScaled === 0 || val % spacingScaled === 0) ? val : '';\n  },\n  /*\n  * Adjust padding to ensure full label is visible\n  */\n  padTickY (paddingPerDigit) {\n    let min = Math.abs(this.min_y),\n    max = Math.abs(this.max_y),\n    numDigits = (min < max ? max : min).toFixed(0).length,\n    yPadding = paddingPerDigit * numDigits;\n\n    this.axis.y.call(this.axis_generator.y.tickPadding(yPadding));\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Grid/methods.js","import Vue from 'vue';\nimport Vuex from 'vuex';\n\n// modules\nimport application from './modules/application/index';\nimport project from './modules/project/index';\nimport geometry from './modules/geometry/index';\nimport models from './modules/models/index';\n\nimport exportData from './utilities/export';\nimport importFloorplan from './utilities/importFloorplan';\nimport importLibrary from './utilities/importLibrary';\nimport mutations from './mutations';\n\nVue.use(Vuex);\n\nconst store = new Vuex.Store({\n  strict: process.env.NODE_ENV !== 'production',\n  modules: {\n    application,\n    project,\n    geometry,\n    models,\n  },\n  getters: {\n    exportData,\n  },\n  actions: {\n    importFloorplan,\n    importLibrary,\n  },\n  mutations,\n});\n\nexport default store;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import _ from 'lodash';\nimport { assignableProperties } from './appconfig';\nimport { componentInstanceById, spacePropertyById } from './helpers';\n\nexport default {\n  setCurrentStoryId(context, payload) {\n    const { id } = payload;\n    if (context.rootState.models.stories.map(s => s.id).indexOf(id) !== -1) {\n      context.commit('setCurrentStoryId', { id });\n    }\n  },\n\n  setCurrentSubSelectionId(context, payload) {\n    const { id } = payload;\n    if (context.getters.currentStory && (\n      context.getters.currentStory.spaces.find(i => i.id === id) ||\n      context.getters.currentStory.shading.find(i => i.id === id) ||\n      context.getters.currentStory.images.find(i => i.id === id)\n    )) {\n      context.commit('setCurrentSubSelectionId', { id });\n    }\n  },\n\n  setCurrentComponentId(context, payload) {\n    const { id } = payload;\n    if (context.getters.currentStory && (\n      context.getters.currentStory.windows.find(i => i.id === id) ||\n      context.getters.currentStory.daylighting_controls.find(i => i.id === id)\n    )) {\n      context.commit('setCurrentComponentId', { id });\n    }\n  },\n\n  setCurrentComponentDefinitionId(context, payload) {\n    const { id } = payload;\n    if (context.rootState.models.library.daylighting_control_definitions.find(i => i.id === id) ||\n      context.rootState.models.library.window_definitions.find(i => i.id === id)) {\n      context.commit('setCurrentComponentDefinitionId', { id });\n    }\n  },\n\n  setCurrentComponentInstanceId(context, payload) {\n    const { id } = payload;\n    if (!componentInstanceById(context.getters.currentStory, id)) {\n      console.error('unable to find an instance with that id on the current story');\n    } else {\n      context.commit('setCurrentComponentInstanceId', payload);\n    }\n  },\n\n  setCurrentSnapMode(context, { snapMode }) {\n    if (!_.includes(['grid-strict', 'grid-verts-edges'], snapMode)) {\n      throw new Error(`Unknown grid mode ${snapMode}`);\n    }\n    context.commit('setCurrentSnapMode', { snapMode });\n  },\n  setCurrentModeTab(context, { modeTab }) {\n    context.commit('setCurrentModeTab', { modeTab });\n  },\n  setCurrentSubselectionType(context, { subselectionType }) {\n    context.commit('setCurrentSubselectionType', { subselectionType });\n  },\n  setCurrentTool(context, payload) {\n    const { tool } = payload;\n    if (context.state.tools.indexOf(tool) !== -1) {\n      context.commit('setCurrentTool', { tool });\n    }\n  },\n\n  setCurrentMode(context, payload) {\n    const { mode } = payload;\n    if (mode === 'spaces' || _.includes(assignableProperties, mode)) {\n      context.commit('setCurrentMode', { mode });\n    } else {\n      console.error(`unrecognized view-by option: ${mode}`);\n    }\n  },\n\n  setCurrentSpacePropertyId(context, payload) {\n    const { id } = payload;\n    if (!id || spacePropertyById(context.rootState.models.library, id)) {\n      context.commit('setCurrentSpacePropertyId', { id });\n    } else {\n      console.error(`unable to find space property with id: ${id}`);\n    }\n  },\n\n\n  // update d3's scaling functions\n  setScaleX(context, payload) {\n    const { scaleX } = payload;\n    context.commit('setScaleX', { scaleX });\n  },\n  setScaleY(context, payload) {\n    const { scaleY } = payload;\n    context.commit('setScaleY', { scaleY });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/application/actions.js","import _ from 'lodash';\nimport geometryHelpers from '../geometry/helpers';\nimport { componentInstanceById, spacePropertyById } from './helpers';\n\nexport default {\n  // full story object for the currentSelections story_id\n  currentStory(state, getters, rootState) { console.log('trying to get currentStory', rootState.models.stories); return rootState.models.stories.find(s => s.id === state.currentSelections.story_id); },\n\n  // full space, shading, or image object for the currentSelections subselection_id\n  currentSubSelection(state, getters) {\n    const currentStory = getters['currentStory'];\n    if (!currentStory) { return null; }\n    const subSelectionId = state.currentSelections.subselection_ids[currentStory.id];\n    return currentStory.spaces.find(i => i.id === subSelectionId) ||\n      currentStory.shading.find(i => i.id === subSelectionId) ||\n      currentStory.images.find(i => i.id === subSelectionId);\n  },\n\n  currentSubSelectionType(state, getters) {\n    const currentStory = getters['currentStory'];\n    if (!currentStory) { return null; }\n    const subSelectionId = state.currentSelections.subselection_ids[currentStory.id];\n    if (currentStory.spaces.find(i => i.id === subSelectionId)) {\n      return 'spaces';\n    } else if (currentStory.shading.find(i => i.id === subSelectionId)) {\n      return 'shading';\n    } else if (currentStory.images.find(i => i.id === subSelectionId)) {\n      return 'images';\n    }\n    return null;\n  },\n\n  // access subSelection by type\n  currentSpace(state, getters) { return getters.currentSubSelectionType === 'spaces' ? getters.currentSubSelection : null; },\n  currentShading(state, getters) { return getters.currentSubSelectionType === 'shading' ? getters.currentSubSelection : null; },\n  currentImage(state, getters) { return getters.currentSubSelectionType === 'images' ? getters.currentSubSelection : null; },\n\n  // full component definition (window_definition or daylighting_control_definition) instance for the component_definition_id\n  // this will be stored in the top level library\n  currentComponent(state, getters, rootState) {\n    const componentDefinitionId = state.currentSelections.component_definition_id;\n    let type, definition;\n    if ((definition = rootState.models.library.window_definitions.find(i => i.id === componentDefinitionId))) {\n      type = 'window_definitions';\n    } else if ((definition = rootState.models.library.daylighting_control_definitions.find(i => i.id === componentDefinitionId))) {\n      type = 'daylighting_control_definitions';\n    }\n    return { type, definition };\n  },\n\n  currentComponentDefinition(state, getters) {\n    return getters['currentComponent']['definition'];\n  },\n\n  currentComponentInstance(state, getters) {\n    const compDefId = state.currentSelections.component_instance_id;\n    if (!compDefId) { return null; }\n    return componentInstanceById(getters['currentStory'], compDefId);\n  },\n\n  currentSpaceProperty(state, getters, rootState) {\n    const\n      spacePropertyId = state.currentSelections.space_property_id,\n      library = rootState.models.library;\n    return spacePropertyById(library, spacePropertyId);\n  },\n\n  // geometry for the story being edited\n  currentStoryGeometry(state, getters, rootState) {\n    const currentStory = getters['currentStory'];\n    if (!currentStory) { return null; }\n    return rootState.geometry.find(g => g.id === currentStory.geometry_id);\n  },\n  currentStoryDenormalizedGeom(state, getters) {\n    const currentStoryGeom = getters['currentStoryGeometry'];\n    if (!currentStoryGeom) { return null; }\n    return geometryHelpers.denormalize(currentStoryGeom);\n  },\n\n  // face for the shading or space being edited\n  currentSubSelectionFace(state, getters) {\n    // if the subselection is an image, there will not be an associated face\n    if (getters['currentSubSelection'] && getters['currentSubSelection'].face_id) {\n      return getters['currentStoryGeometry'].faces.find(f => f.id === getters['currentSubSelection'].face_id);\n    }\n    return null;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/application/getters.js","import actions from './actions';\nimport mutations from './mutations';\nimport getters from './getters';\n\nconst d3 = require('d3');\n\nexport default {\n  namespaced: true,\n  state: {\n    currentSelections: {\n      // models currently being edited\n      story: null,\n      story_id: null,\n      subselection_ids: {}, // story_id -> space, shading, or image id.\n\n      component_id: null,\n      component_definition_id: null,\n      component_instance_id: null,\n\n      space_property_id: null,\n\n      // current application mode and tool\n      tool: 'Rectangle',\n      mode: 'spaces',\n      snapMode: 'grid-strict',\n      modeTab: 'floorplan',\n      subselectionType: 'spaces',\n    },\n    modes: ['spaces', 'shading', 'building_units', 'thermal_zones', 'pitched_roofs', 'space_types', 'images'],\n    tools: ['Pan', 'Drag', 'Rectangle', 'Polygon', 'Eraser', 'Select', 'Map', 'Fill', 'Place Component', 'Image', 'Apply Property'],\n    // d3 scale functions px -> rwu\n    scale: {\n      x: d3.scaleLinear().range([0, 0]).domain([0, 0]),\n      y: d3.scaleLinear().range([0, 0]).domain([0, 0]),\n    },\n  },\n  actions,\n  mutations,\n  getters,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/application/index.js","export default {\n  // current selections\n  setCurrentStoryId(state, payload) { state.currentSelections.story_id = payload.id; },\n  setCurrentSubSelectionId(state, payload) {\n    const storyId = state.currentSelections.story_id;\n    if (!storyId) {\n      console.error('expected a story to be selected, in order to set a subselection');\n      return;\n    }\n    state.currentSelections.subselection_ids = {\n      ...state.currentSelections.subselection_ids,\n      [storyId]: payload.id,\n    };\n  },\n\n  setCurrentComponentId(state, payload) { state.currentSelections.component_id = payload.id; },\n  setCurrentComponentDefinitionId(state, payload) { state.currentSelections.component_definition_id = payload.id; },\n  setCurrentComponentInstanceId(state, payload) { state.currentSelections.component_instance_id = payload.id; },\n\n  setCurrentSpacePropertyId(state, payload) { state.currentSelections.space_property_id = payload.id; },\n\n  setCurrentSnapMode(state, payload) { state.currentSelections.snapMode = payload.snapMode; },\n  setCurrentModeTab(state, payload) { state.currentSelections.modeTab = payload.modeTab; },\n  setCurrentSubselectionType(state, payload) { state.currentSelections.subselectionType = payload.subselectionType; },\n\n  // editor rendering/drawing tool\n  setCurrentTool(state, payload) { state.currentSelections.tool = payload.tool; },\n  setCurrentMode(state, payload) { state.currentSelections.mode = payload.mode; },\n\n  // d3 scaling functions\n  setScaleX(state, payload) { state.scale.x = payload.scaleX; },\n  setScaleY(state, payload) { state.scale.y = payload.scaleY; },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/application/mutations.js","import _ from 'lodash';\nimport factory from './../factory';\nimport geometryHelpers from './../helpers';\nimport createFaceFromPoints, { eraseSelection, newGeometriesOfOverlappedFaces, validateFaceGeometry } from './createFaceFromPoints';\nimport { withPreservedComponents } from './componentPreservationSociety';\n\nexport function getOrCreateVertex(geometry, coords) {\n  return geometryHelpers.vertexForCoordinates(coords, geometry) || factory.Vertex(coords.x, coords.y);\n}\n\nexport default {\n  /*\n  * initializes a new geometry object for a story\n  */\n  initGeometry(context, payload) {\n    const { story_id } = payload;\n    const geometry = new factory.Geometry();\n    context.commit('initGeometry', { geometry });\n\n    // set a reference to the new geometry set for the story it belongs to\n    context.dispatch('models/updateStoryWithData', {\n      story: context.rootState.models.stories.find(s => s.id === story_id),\n      geometry_id: geometry.id,\n    }, { root: true });\n  },\n\n  /*\n  * Erase the selection defined by a set of points on all faces on the current story\n  * Dispatched by the eraser tool\n  */\n  eraseSelection(context, payload) {\n    const\n      { points } = payload,\n      geometry_id = context.rootGetters['application/currentStoryGeometry'].id;\n\n    withPreservedComponents(context, geometry_id, () => {\n      const eraseResult = eraseSelection(points, context);\n\n      if (!eraseResult) {\n        window.eventBus.$emit('error', 'Operation cancelled - no split faces');\n      }\n    });\n\n    context.dispatch('trimGeometry', { geometry_id });\n  },\n\n  /*\n  * Given a dx, dy, and face\n  * clone the face with all points adjusted by the delta and destroy the original\n  * this will trigger all set operations\n  */\n  moveFaceByOffset(context, payload) {\n    const\n      { face_id, dx, dy } = payload,\n      currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'],\n      face = geometryHelpers.faceForId(face_id, currentStoryGeometry),\n      movedPoints = geometryHelpers.verticesForFaceId(face.id, currentStoryGeometry).map(v => ({\n        x: v.x + dx,\n        y: v.y + dy,\n      })),\n      newGeoms = newGeometriesOfOverlappedFaces(\n        movedPoints,\n        // Don't consider face we're modifying as a reason to disqualify the action.\n        geometryHelpers.exceptFace(currentStoryGeometry, face_id),\n      );\n\n    if (newGeoms.error) {\n      window.eventBus.$emit('error', `Operation cancelled - ${newGeoms.error}`);\n\n      window.eventBus.$emit('reload-grid');\n      return;\n    }\n\n    const movedGeom = validateFaceGeometry(movedPoints, currentStoryGeometry);\n    if (!movedGeom.success) {\n      window.eventBus.$emit('error', movedGeom.error);\n      window.eventBus.$emit('reload-grid');\n      return;\n    }\n\n    const movementsByFaceId = { [face_id]: { dx, dy } };\n\n    withPreservedComponents(context, currentStoryGeometry.id, movementsByFaceId, () => {\n      newGeoms.forEach(newGeom => context.dispatch('replaceFacePoints', newGeom));\n\n      context.dispatch('replaceFacePoints', {\n        geometry_id: currentStoryGeometry.id,\n        face_id,\n        vertices: movedGeom.vertices,\n        edges: movedGeom.edges,\n        dx,\n        dy,\n      });\n    });\n\n    context.dispatch('trimGeometry', { geometry_id: currentStoryGeometry.id });\n  },\n  /*\n  * create a face and associated edges and vertices from an array of points\n  * associate the face with the space or shading included in the payload\n  */\n  createFaceFromPoints,\n\n  /*\n  * given a face which may or may not be saved to the datastore\n  * look up and destroy all edges and vertices referenced only by that face\n  * destroy the face\n  */\n  destroyFaceAndDescendents(context, payload) {\n    const { geometry_id, face } = payload;\n\n    const\n      geometry = context.state.find(g => g.id === geometry_id),\n      // find edges and vertices referenced ONLY by the face being destroyed so that no shared geometry is lost\n      expVertices = face.edgeRefs\n        .map((edgeRef) => {\n          const\n            edge = geometryHelpers.edgeForId(edgeRef.edge_id, geometry),\n            // look up the vertex associated with v1 unless the edge reference on the face is reversed\n            vertexId = edgeRef.reverse ? edge.v2 : edge.v1;\n          return geometryHelpers.vertexForId(vertexId, geometry);\n        })\n        .filter(v => geometryHelpers.facesForVertexId(v.id, geometry).length < 2),\n      expEdgeRefs = face.edgeRefs.filter(edgeRef => geometryHelpers.facesForEdgeId(edgeRef.edge_id, geometry).length < 2);\n\n    // destroy face, then edges, then vertices\n    context.commit('destroyGeometry', { id: face.id });\n    expEdgeRefs.forEach(edgeRef => context.commit('destroyGeometry', { id: edgeRef.edge_id }));\n    expVertices.forEach(vertex => context.commit('destroyGeometry', { id: vertex.id }));\n  },\n\n  replaceFacePoints(context, { geometry_id, face_id, vertices, edges }) {\n    const geom = _.find(context.state, { id: geometry_id });\n    // because we make several calls to replaceFacePoints in a row,\n    // (eg: when a new polygon overlaps existing ones, we need to replace the\n    //  existing polygon's face points with new ones)\n    // it's possible for duplicate vertices to sneak in.\n    const replacementVertIds = _.chain(vertices)\n      .map((vert) => {\n        const gVert = _.find(geom.vertices, _.pick(vert, ['x', 'y']));\n        if (!gVert) return null; // this vertex doesn't match any existing ones\n        if (vert.id === gVert.id) return null; // this vertex already exists\n        return [vert.id, gVert.id]; // this vertex *would* be a dup, so use the existing one\n      })\n      .compact()\n      .fromPairs()\n      .value();\n\n    vertices.forEach((v) => {\n      v.id = replacementVertIds[v.id] || v.id;\n    });\n    edges.forEach((e) => {\n      e.v1 = replacementVertIds[e.v1] || e.v1;\n      e.v2 = replacementVertIds[e.v2] || e.v2;\n    });\n\n    context.commit('replaceFacePoints', {\n      geometry_id,\n      vertices,\n      edges,\n      face_id,\n    });\n  },\n\n  trimGeometry({ rootState, commit }, { geometry_id }) {\n    const\n      story = _.find(rootState.models.stories, { geometry_id }),\n      vertsReferencedByDCs = _.flatMap(story.spaces, s => _.map(s.daylighting_controls, 'vertex_id'));\n\n    commit('trimGeometry', { geometry_id, vertsReferencedElsewhere: vertsReferencedByDCs });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/actions/actions.js","import _ from 'lodash';\nimport factory from './../factory';\nimport geometryHelpers, { distanceBetweenPoints } from './../helpers';\nimport modelHelpers from './../../models/helpers';\nimport { uniq, dropConsecutiveDups, allPairs } from './../../../../utilities';\nimport { withPreservedComponents } from './componentPreservationSociety';\n\n/*\n * create a face and associated edges and vertices from an array of points\n * associate the face with the space or shading included in the payload\n */\nexport default function createFaceFromPoints(context, payload) {\n  const {\n    model_id,\n    points,\n  } = payload;\n\n  if (uniq(points).length < 3) { return; }\n  // lookup target model and type for face assignment\n  const currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'];\n  const target = modelHelpers.libraryObjectWithId(context.rootState.models, model_id);\n\n  // if the target already has an existing face, use the union of the new and existing faces\n  const existingFace = target.face_id ? geometryHelpers.faceForId(target.face_id, currentStoryGeometry) : null;\n  let facePoints;\n\n  if (existingFace) {\n    const existingFaceVertices = geometryHelpers.verticesForFaceId(existingFace.id, currentStoryGeometry);\n    facePoints = geometryHelpers.setOperation('union', existingFaceVertices, points);\n    if (facePoints.error) {\n      window.eventBus.$emit('error', `Operation cancelled - ${facePoints.error}`);\n      return;\n    }\n  } else {\n    facePoints = points;\n  }\n\n\n  const faceGeometry = validateFaceGeometry(facePoints, context.rootGetters['application/currentStoryGeometry'], context.rootGetters['project/snapTolerance']);\n  if (!faceGeometry.success) {\n    window.eventBus.$emit('error', faceGeometry.error);\n    console.error(faceGeometry.error);\n    return;\n  }\n\n  const newGeoms = newGeometriesOfOverlappedFaces(\n    facePoints,\n    // Don't consider face we're modifying as a reason to disqualify the action.\n    geometryHelpers.exceptFace(currentStoryGeometry, existingFace && existingFace.id),\n  );\n\n  // prevent overlapping faces by erasing existing geometry covered by the points defining the new face\n  if (newGeoms.error) {\n    window.eventBus.$emit('error', `Operation cancelled - ${newGeoms.error}`);\n    return;\n  }\n\n  withPreservedComponents(context, currentStoryGeometry.id, () => {\n    newGeoms.forEach(newGeom => context.dispatch('replaceFacePoints', newGeom));\n\n    // save the face and its descendent geometry\n    storeFace(faceGeometry, target, context, existingFace);\n\n    // split edges where vertices touch them\n    splitEdges(context);\n  });\n\n  context.dispatch('trimGeometry', { geometry_id: currentStoryGeometry.id });\n}\n\n// ////////////////////// HELPERS //////////////////////////// //\n\nexport function newGeometriesOfOverlappedFaces(points, geometry) {\n  if (points.length < 3 || !geometryHelpers.areaOfSelection(points)) {\n    return false;\n  }\n\n  const geom = geometryHelpers.denormalize(geometry);\n  const intersectedFaces = geom.faces\n    .filter((face) => {\n      const inter = geometryHelpers.intersection(face.vertices, points);\n      // We care about faces have an intersection with the new one, or that\n      // cause errors (eg, split face) upon intersection\n      // eg of causing an error upon intersection: https://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/599dca36956980d6eef2b009/3849c0e2a87c866fbf630cff073163ff/capture.png\n      return inter.error || inter.length > 0;\n    });\n\n  const newFaceVertices = intersectedFaces.map(existingFace =>\n    geometryHelpers.difference(existingFace.vertices, points),\n  );\n\n  const errantCase = _.find(newFaceVertices, 'error');\n  if (errantCase) {\n    // difference caused split face or hole\n    return errantCase;\n  }\n\n  const newFaceGeometries = newFaceVertices.map(\n    verts => validateFaceGeometry(verts, geometry));\n\n  const errantGeometry = _.find(newFaceGeometries, 'error');\n  if (errantGeometry) {\n    // validation failed on one of the geometries\n    return errantGeometry;\n  }\n\n  return _.zip(intersectedFaces, newFaceGeometries).map(([face, { vertices, edges }]) => ({\n    geometry_id: geometry.id,\n    face_id: face.id,\n    vertices,\n    edges,\n  }));\n}\n\n/*\n * Erase the selection defined by a set of points on all faces on the current story\n * used by the eraser tool and by the createFaceFromPoints action (to prevent overlapping faces)\n * returns false if the erase operation splits an existing face\n */\nexport function eraseSelection(points, context) {\n  const currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'];\n\n  // validation - a selection must have at least 3 vertices and area\n  if (points.length < 3 || !geometryHelpers.areaOfSelection(points)) {\n    return false;\n  }\n\n  /*\n   * find all existing faces that have an intersection with the selection being erased\n   * destroy faces intersecting the eraser selection and recreate them\n   * from the difference between their original area and the eraser selection\n  */\n  const newGeoms = newGeometriesOfOverlappedFaces(points, currentStoryGeometry);\n  // prevent overlapping faces by erasing existing geometry covered by the points defining the new face\n  if (newGeoms.error) {\n    window.eventBus.$emit('error', `Operation cancelled - ${newGeoms.error}`);\n    return false;\n  }\n\n  newGeoms.forEach(newGeom => context.dispatch('replaceFacePoints', newGeom));\n  return true;\n}\n\n/*\n* saves the validated face geometry (edges and vertices) to the datastore\n* skips shared edges and vertices since they are already stored\n* creates and saves a face with edgeRefs, updates the target space or shading in the datastore\n*/\nfunction storeFace({ vertices, edges }, target, context, existingFace) {\n  const currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'];\n\n  const face = existingFace || new factory.Face([]);\n\n  context.dispatch('replaceFacePoints', {\n    face_id: face.id,\n    geometry_id: currentStoryGeometry.id,\n    vertices,\n    edges,\n  });\n\n  context.dispatch(target.type === 'space' ? 'models/updateSpaceWithData' : 'models/updateShadingWithData', {\n    [target.type]: target,\n    face_id: face.id,\n  }, {\n    root: true,\n  });\n}\n\nexport function findExistingEdge(v1, v2, edges) {\n  const sharedEdge = edges.find(e => (\n    (e.v1 === v1.id && e.v2 === v2.id) ||\n    (e.v2 === v1.id && e.v1 === v2.id)));\n\n  // if a shared edge exists, check if its direction matches the edge direction required for the face being created\n  return sharedEdge && {\n    ...sharedEdge,\n    // this property will be used (then deleted) when we create and save the face with edgeRefs\n    reverse: sharedEdge.v1 === v2.id,\n  };\n}\n\nfunction matchOrCreateEdge(existingEdges) {\n  return ([v1, v2]) => (findExistingEdge(v1, v2, existingEdges) || new factory.Edge(v1.id, v2.id));\n}\n\nexport function matchOrCreateEdges(vertices, existingEdges) {\n   // pair each vertex with the next (wrapping back to start at the end)\n  if (!vertices.length) {\n    return [];\n  }\n  return _.zip(vertices, [...vertices.slice(1), vertices[0]])\n  // try and find a shared edge, but fall back to creating a new one\n    .map(matchOrCreateEdge(existingEdges));\n}\n\nfunction InvalidFaceGeometry(message) {\n  this.message = message;\n}\nInvalidFaceGeometry.prototype = new Error();\n\nexport function errOnTooFewVerts(vertices) {\n  if (vertices.length < 3) {\n    throw new InvalidFaceGeometry(`can't make a polygon with fewer than three vertices: ${JSON.stringify(vertices)}`);\n  }\n}\n\nexport function errOnDuplicateVerts(vertices) {\n  vertices.forEach((vertex) => {\n    if (\n      _.find(vertices, { x: vertex.x, y: vertex.y }).length >= 2\n    ) {\n      throw new InvalidFaceGeometry(`Duplicate vertex at (${vertex.x}, ${vertex.y})`);\n    }\n  });\n}\n\nexport function errOnVertexIntersectsEdge(vertices, edges) {\n  edges.forEach(({ v1: v1id, v2: v2id }) => {\n    const\n      v1 = _.find(vertices, { id: v1id }),\n      v2 = _.find(vertices, { id: v2id });\n\n    vertices.forEach((v) => {\n      if (v.id === v1id || v.id === v2id) {\n        return; // this is an endpoint of an edge under consideration.\n      }\n\n      if (!geometryHelpers.ptsAreCollinear(v1, v2, v)) {\n        return;\n      }\n\n      // if the points *are* collinear, is v between v1 and v2?\n      const positionAlongEdge = _.reject(\n        [\n          (v.x - v1.x) / (v2.x - v1.x),\n          (v.y - v1.y) / (v2.y - v1.y),\n        ],\n        isNaN)[0];\n      // positionAlongEdge = 0 implies v == v1\n      // positionAlongEdge = 1 implies v == v2\n      // positionAlongEdge > 1 or < 0 implies not on the line segment\n      if (positionAlongEdge > 1 || positionAlongEdge < 0) {\n        return;\n      }\n      throw new InvalidFaceGeometry(\n        `An edge is being touched by a vertex on the same face at (${v.x}, ${v.y})`);\n    });\n  });\n}\n\nexport function errOnEdgeIntersectsEdge(vertices, edges) {\n  allPairs(edges).forEach(([e1, e2]) => {\n    const\n      e1v1 = _.find(vertices, { id: e1.v1 }),\n      e1v2 = _.find(vertices, { id: e1.v2 }),\n      e2v1 = _.find(vertices, { id: e2.v1 }),\n      e2v2 = _.find(vertices, { id: e2.v2 });\n\n    const intersection = geometryHelpers.intersectionOfLines(e1v1, e1v2, e2v1, e2v2);\n    if (intersection) {\n      throw new InvalidFaceGeometry(\n        `Self intersection at ${intersection.x}, ${intersection.y}`);\n    }\n  });\n}\n\n/*\n * Given a set of points, creates vertices and edges for the face defined by the points\n * validates the face geometry for self intersection\n * returns object with success boolean and face geometry or error message depending on validation results\n */\nexport function validateFaceGeometry(points, currentStoryGeometry) {\n  /* validation consists of:\n   - try and match each vertex to an existing one that is already in the geometry\n   - create edges, and try to re-use existing ones (reversed, if necessary)\n   - after snapping, check if any vertices were merged to the same point\n     Duplicate vertices can cause two problems:\n      1. zero-area portions of the face:\n\n       1\n        *---------------* 2\n        |               |\n        |               |3\n        |               *-----* 4\n        |               |5\n        |               |\n        *---------------* 6\n       7\n      2. not even actually a polygon:\n\n        *                         *\n        |\\                         \\\n        | \\                        \\\\\n        |  \\                       \\\\\n        |   \\          ====>       \\\\\n        |    \\                      \\\\\n        |     \\                     \\\\\n        |      \\                     \\\\\n        *---@---*                    **\n\n      @ is an existing point (on another face). Both * at the base of the triangle\n      were snapped to the location of @, causing a degenerate polygon (just a line).\n\n     Consecutive vertices are okay (we should combine them to a single example) as long\n     as the total number of distinct vertices is at least 3.\n\n   - Check if any vertices on the face lie on an edge in the face. Err out if they do.\n     (this would cause either a zero-area portion of the face,\n      eg: https://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/598b740a2e569128b4392cb5/f71690195e4801010773652bac9d0a9c/capture.png\n      or a split face.\n      eg: https://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/598b743607a58f375889faad/99ec60d5ddcf78c97db43e8628efa7b9/capture.png\n     )\n   - Check if two edges on the new face intersect. (again, to prevent split faces)\n  */\n\n  if (points.length === 0) {\n    return {\n      success: true,\n      vertices: [],\n      edges: [],\n    };\n  }\n  if (points.length <= 2) {\n    return { success: false, error: 'need at least 3 points to make a face' };\n  }\n\n  // build an array of vertices for the face being created\n  let faceVertices = points.map(point => (\n      // if a vertex already exists at a given location, reuse it\n    geometryHelpers.vertexForCoordinates(point, currentStoryGeometry) || new factory.Vertex(point.x, point.y)\n  ));\n\n\n  // first, we can just join together consecutive duplicates, since that doesn't change\n  // the geometry at all.\n  faceVertices = dropConsecutiveDups(faceVertices);\n\n  // create edges connecting each vertex in order\n  const faceEdges = matchOrCreateEdges(faceVertices, currentStoryGeometry.edges);\n\n  try {\n    errOnTooFewVerts(faceVertices);\n    errOnDuplicateVerts(faceVertices);\n    errOnVertexIntersectsEdge(faceVertices, faceEdges);\n    errOnEdgeIntersectsEdge(faceVertices, faceEdges);\n  } catch (e) {\n    if (e instanceof InvalidFaceGeometry) {\n      return {\n        success: false,\n        error: e.message,\n      };\n    }\n    // not an error we know about -- shouldn't have caught it\n    // (...grumble, grumble javascript's underpowered exceptions...)\n    throw e;\n  }\n\n  return {\n    success: true,\n    vertices: faceVertices,\n    edges: faceEdges,\n  };\n}\n\nfunction edgesFromVerts(verts, existingEdges) {\n  return _.zip(verts.slice(0, -1), verts.slice(1))\n    .map(matchOrCreateEdge(existingEdges));\n}\n\nfunction replacementEdgeRefs(geometry, dyingEdgeId, newEdges) {\n  // look up all faces with a reference to the original edge being split\n  const affectedFaces = geometryHelpers.facesForEdgeId(dyingEdgeId, geometry);\n\n  // remove reference to old edge and add references to the new edges\n  const replaceEdgeRefs = affectedFaces.map(affectedFace => ({\n    type: 'replaceEdgeRef',\n    geometry_id: geometry.id,\n    edge_id: dyingEdgeId,\n    face_id: affectedFace.id,\n    newEdges: _.map(newEdges, _.partialRight(_.pick, ['id', 'reverse'])),\n  }));\n\n  return replaceEdgeRefs;\n}\n\nexport function edgesToSplit(geometry) {\n  return _.compact(geometry.edges.map((edge) => {\n    let splittingVertices = geometryHelpers.splittingVerticesForEdgeId(edge.id, geometry);\n    if (!splittingVertices.length) {\n      return false;\n    }\n    const\n      startpoint = geometryHelpers.vertexForId(edge.v1, geometry),\n      endpoint = geometryHelpers.vertexForId(edge.v2, geometry);\n\n    // sort splittingVertices by location on original edge\n    splittingVertices = _.sortBy(splittingVertices, v => distanceBetweenPoints(v, startpoint));\n\n    // add startpoint and endpoint of original edge to splittingVertices array from which new edges will be created\n    splittingVertices = [startpoint, ...splittingVertices, endpoint];\n\n    // create new edges by connecting the original edge startpoint, ordered splitting vertices, and original edge endpoint\n    // eg: startpoint -> SV1, SV1 -> SV2, SV2 -> SV3, SV3 -> endpoint\n    const\n      newEdges = edgesFromVerts(splittingVertices, geometry.edges),\n      replaceEdgeRefs = replacementEdgeRefs(geometry, edge.id, newEdges);\n    return {\n      edgeToDelete: edge.id,\n      newEdges,\n      replaceEdgeRefs,\n    };\n  }));\n}\n\n/*\n * loop through all edges on the currentStoryGeometry, checking if there are any vertices touching (splitting) them\n * order the splitting vertices based on where they appear on the original edge\n * build and store a new set of edges by connecting the ordered splitting vertices\n * look up all faces referencing the original edge and replace those references with references to the new edges\n * destroy the original edge\n */\nfunction splitEdges(context) {\n  const\n    currentStoryGeometry = context.rootGetters['application/currentStoryGeometry'],\n    edgeChanges = edgesToSplit(currentStoryGeometry);\n\n  edgeChanges.forEach(payload => context.commit({\n    type: 'splitEdge',\n    geometry_id: currentStoryGeometry.id,\n    ...payload,\n  }));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/actions/createFaceFromPoints.js","import _ from 'lodash';\nimport helpers from './helpers';\nimport checkGeometry from '../../../utilities/checkGeometry';\n\nexport default {\n  denormalized(state) {\n    return state.map(g => helpers.denormalize(g));\n  },\n\n  errors(state, getters) {\n    return _.flatMap(getters['denormalized'], checkGeometry);\n  },\n\n    /*\n    * When the user saves a floorplan, format the geometry for openstudio\n    */\n    exportData (state, getters, rootState, rootGetters) {\n        return state.map(geometry => ({\n\t\t\tid: geometry.id,\n            vertices: geometry.vertices.map(vertex => ({\n                id: vertex.id,\n                x: Number(vertex.x),\n                y: Number(vertex.y),\n                edge_ids: helpers.edgesForVertexId(vertex.id, geometry).map(e => e.id)\n            })),\n\n            edges: geometry.edges.map(edge => ({\n                id: edge.id,\n                vertex_ids: [edge.v1, edge.v2],\n                face_ids: helpers.facesForEdgeId(edge.id, geometry).map(f => f.id)\n            })),\n\n            faces: geometry.faces.map(face => ({\n                id: face.id,\n                edge_ids: face.edgeRefs.map(eR => eR.edge_id),\n                // tracks the direction of each edge in the edge_ids array (0 for reverse)\n                edge_order: face.edgeRefs.map(eR => eR.reverse ? 0 : 1)\n            }))\n        }));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/getters.js","import actions from './actions/actions'\nimport * as mutations from './mutations'\nimport getters from './getters'\n\nexport default {\n    namespaced: true,\n    // each story references a geometry object in this state array\n    state: [/*{\n        id: null,\n        vertices: [{\n            id: null,\n            x: null,\n            y: null\n        }],\n        edges: [{\n            id: null,\n            v1: null,\n            v2: null\n        }],\n        faces: [{\n            id: null,\n            edgeRefs: [{\n                edge_id: null,\n                reverse: false\n            }]\n        }]\n    }*/],\n    actions: actions,\n    mutations: mutations,\n    getters: getters\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/index.js","import _ from 'lodash';\n    /*\n    * create a new geometry set, face, edge, or vertex in the data store\n    */\n\nexport function trimGeometry(state, { geometry_id, vertsReferencedElsewhere }) {\n  const\n    geometry = _.find(state, { id: geometry_id }),\n    edgesInUse = new Set(_.flatMap(geometry.faces, f => _.map(f.edgeRefs, 'edge_id'))),\n    vertsOnEdges = _.flatMap(\n      geometry.edges.filter(e => edgesInUse.has(e.id)),\n      e => [e.v1, e.v2]),\n    verticesInUse = new Set([\n      ...(vertsReferencedElsewhere || []),\n      ...vertsOnEdges,\n    ]);\n  geometry.edges = geometry.edges.filter(e => edgesInUse.has(e.id));\n  geometry.vertices = geometry.vertices.filter(v => verticesInUse.has(v.id));\n  const missingEdges = _.difference([...edgesInUse], _.map(geometry.edges, 'id'));\n  if (missingEdges.length) {\n    console.error('An edge is referenced by a face, but does not exist!', JSON.stringify(geometry));\n  }\n  const missingVerts = _.difference(vertsOnEdges, _.map(geometry.vertices, 'id'));\n  if (missingVerts.length) {\n    console.error('A vertex is referenced by a face, but does not exist!', JSON.stringify(geometry));\n  }\n}\n\nexport function initGeometry(state, payload) {\n      const { geometry } = payload;\n      state.push(geometry);\n}\nexport function createVertex(state, payload) {\n      const { geometry_id, vertex } = payload;\n      state.find(g => g.id === geometry_id).vertices.push(vertex);\n}\nexport function createFace(state, payload) {\n      const { geometry_id, face } = payload;\n      state.find(g => g.id === geometry_id).faces.push(face);\n}\n\n    /*\n    * removes an object with a given id from the datastore\n    * the object can be a geometry set, face, edge, or vertex\n    */\nexport function destroyGeometry(state, payload) {\n        // id of the object to be destroyed\n        const { id } = payload;\n\n        // loop through all geometry sets in the store and check if they contain the object\n        // break from the loop if the object is found\n        for (var i = 0; i < state.length; i++) {\n            const g = state[i];\n            if (g.id === id) {\n                state.splice(state.findIndex(g => g.id === id), 1);\n                break;\n            } else if (~g.faces.map(f => f.id).indexOf(id)) {\n                g.faces.splice(g.faces.findIndex(f => f.id === id), 1);\n                break;\n            } else if (~g.edges.map(e => e.id).indexOf(id)) {\n                g.edges.splice(g.edges.findIndex(e => e.id === id), 1);\n                break;\n            } else if (~g.vertices.map(v => v.id).indexOf(id)) {\n                g.vertices.splice(g.vertices.findIndex(v => v.id === id), 1);\n                break;\n            }\n        }\n}\n\n    // set a reference to an edge on a face\nexport function createEdgeRef(state, payload) {\n        const { geometry_id, face_id, edgeRef } = payload,\n            geometry = state.find(g => g.id === geometry_id),\n            face = geometry.faces.find(f => f.id === face_id),\n            edge = geometry.edges.find(e => e.id === edgeRef.edge_id);\n\n        if (edge) { face.edgeRefs.push(edgeRef); }\n}\n\n    // set the array of edgeRefs on a face\nexport function setEdgeRefsForFace(state, payload) {\n        const { geometry_id, face_id, edgeRefs } = payload,\n            geometry = state.find(g => g.id === geometry_id),\n            face = geometry.faces.find(f => f.id === face_id);\n        face.edgeRefs = edgeRefs.filter(ref => geometry.edges.find(e => e.id === ref.edge_id));\n}\n\n    // remove a reference to an edge from a face\nexport function destroyEdgeRef(state, payload) {\n        const { geometry_id, face_id, edge_id } = payload,\n            geometry = state.find(g => g.id === geometry_id),\n            face = geometry.faces.find(f => f.id === face_id);\n        face.edgeRefs.splice(face.edgeRefs.findIndex(eR => eR.edge_id === edge_id), 1);\n}\n\nexport function replaceEdgeRef(state, payload) {\n  const\n    { geometry_id, face_id, edge_id, newEdges } = payload,\n    geometry = state.find(g => g.id === geometry_id),\n    face = geometry.faces.find(f => f.id === face_id),\n    edgeRefIx = _.findIndex(face.edgeRefs, { edge_id }),\n    edgeRef = face.edgeRefs[edgeRefIx];\n\n  face.edgeRefs.splice(\n    edgeRefIx, 1, // remove existing edge\n    // replacing it with these ones, in the same direction.\n    ...newEdges.map(({ id: newEdgeId, reverse: edgeReverse }) => ({\n      edge_id: newEdgeId,\n      reverse: edgeRef.reverse ^ edgeReverse,\n    })),\n  );\n}\n\n\nexport function ensureVertsExist(state, { geometry_id, vertices }) {\n  const geometry = _.find(state, { id: geometry_id });\n  vertices.forEach(v =>\n    _.find(geometry.vertices, { id: v.id }) || geometry.vertices.push(v)\n  );\n}\n\nexport function ensureEdgesExist(state, { geometry_id, edges }) {\n  const geometry = _.find(state, { id: geometry_id });\n  edges.forEach(e =>\n    _.find(geometry.edges, { id: e.id }) || geometry.edges.push(e)\n  );\n}\n\nexport function splitEdge(state, { geometry_id, edgeToDelete, newEdges, replaceEdgeRefs }) {\n  ensureEdgesExist(state, { geometry_id, edges: newEdges });\n  replaceEdgeRefs.forEach(replacement => replaceEdgeRef(state, replacement));\n  destroyGeometry(state, { id: edgeToDelete });\n}\n\n\nexport function replaceFacePoints(state, { geometry_id, vertices, edges, face_id }) {\n  const geometry = _.find(state, { id: geometry_id });\n  ensureVertsExist(state, { geometry_id, vertices });\n  ensureEdgesExist(state, { geometry_id, edges });\n\n  let face = _.find(geometry.faces, { id: face_id });\n  if (!face) {\n    face = { id: face_id, edgeRefs: [] };\n    geometry.faces.push(face);\n  }\n\n  face.edgeRefs = edges.map(e => ({\n    edge_id: e.id,\n    reverse: !!e.reverse,\n  }));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/geometry/mutations.js","import _ from 'lodash';\nimport libconfig from './libconfig';\nimport factory from './factory';\nimport idFactory, { genName } from './../../utilities/generateId';\nimport geometryFactory from '../geometry/factory';\nimport helpers from './helpers';\nimport geometryHelpers from '../geometry/helpers';\n\nexport default {\n  initStory(context) {\n      const name = helpers.generateName(context.state, 'stories');\n      const story = new factory.Story(name);\n\n      // create story\n      context.commit('initStory', { story });\n      // create geometry\n      context.dispatch('geometry/initGeometry', { story_id: story.id }, { root: true });\n      // create space and select\n      context.dispatch('initSpace', { story });\n      context.dispatch('initShading', { story });\n      context.dispatch('selectStory', { story });\n    },\n\n    initSpace (context, payload) {\n        const story = context.state.stories.find(s => s.id === payload.story.id),\n            name = helpers.generateName(context.state, 'spaces', story),\n            space = new factory.Space(name);\n\n        context.commit('initSpace', { story, space });\n    },\n\n    initShading (context, payload) {\n        const story = context.state.stories.find(s => s.id === payload.story.id),\n            name = helpers.generateName(context.state, 'shading', story),\n            shading = new factory.Shading(name);\n\n        context.commit('initShading', { story, shading });\n    },\n\n    destroyStory(context, payload) {\n      const stories = context.state.stories;\n      const storyIndex = stories.findIndex(s => s.id === payload.story.id);\n      const story = stories[storyIndex];\n\n      context.commit('destroyStory', { story });\n\n      if (stories.length === 0) {\n        context.dispatch('initStory');\n      } else {\n        context.dispatch('selectStory', { story: stories[storyIndex - 1] });\n      }\n    },\n\n    destroySpace (context, payload) {\n        const story = context.state.stories.find(s => s.id === payload.story.id),\n            space = story.spaces.find(s => s.id === payload.space.id);\n\n        context.commit('destroySpace', {\n            space: space,\n            story: story\n        });\n        const face = context.rootGetters['application/currentStoryGeometry'].faces.find(f => f.id === space.face_id);\n        if (face) {\n            // destroy face associated with the space\n            context.dispatch('geometry/destroyFaceAndDescendents', {\n                face: face,\n                geometry_id: context.rootGetters['application/currentStoryGeometry'].id\n            }, { root: true });\n        }\n    },\n\n    destroyShading (context, payload) {\n        const story = context.state.stories.find(s => s.id === payload.story.id),\n            shading = story.shading.find(s => s.id === payload.shading.id);\n\n        context.commit('destroyShading', {\n            shading: shading,\n            story: story\n        });\n\n        const face = context.rootGetters['application/currentStoryGeometry'].faces.find(f => f.id === shading.face_id);\n        if (face) {\n            // destroy face associated with the space\n            context.dispatch('geometry/destroyFaceAndDescendents', {\n                face: face,\n                geometry_id: context.rootGetters['application/currentStoryGeometry'].id\n            }, { root: true });\n        }\n    },\n\n    destroyImage (context, payload) {\n        const story = context.state.stories.find(s => s.id === payload.story.id),\n            image = story.images.find(i => i.id === payload.image.id);\n\n        context.commit('destroyImage', {\n            image: image,\n            story: story\n        });\n    },\n\n  destroyWindowDef(context, payload) {\n    context.commit('destroyWindowsByDefinition', payload.object);\n    context.commit('destroyObject', payload);\n  },\n\n  destroyDaylightingControlDef(context, payload) {\n    context.commit('destroyDaylightingControlsByDefinition', payload.object);\n    context.commit('destroyObject', payload);\n  },\n\n    // this is ONLY for library objects and does not include shading, spaces, or stories\n    destroyObject (context, payload) {\n        context.commit('destroyObject', {\n            object: payload.object\n        });\n    },\n\n    updateStoryWithData (context, payload) {\n        const story = context.state.stories.find(s => s.id === payload.story.id),\n            validProperties = Object.keys(libconfig.stories.keymap),\n            cleanedPayload = {};\n\n        // remove extra properties from the payload\n        for (var key in payload) {\n            if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n                cleanedPayload[key] = payload[key];\n            }\n        }\n        cleanedPayload.story = story;\n\n        // TODO: validation\n        context.commit('updateStoryWithData', cleanedPayload);\n    },\n\n    updateSpaceWithData (context, payload) {\n        const space = context.getters.allSpaces.find(s => s.id === payload.space.id),\n            validProperties = Object.keys(space),\n            cleanedPayload = {};\n\n        // remove extra properties from the payload\n        for (var key in payload) {\n            if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n                cleanedPayload[key] = payload[key];\n            }\n        }\n        cleanedPayload.space = space;\n\n        // TODO: validation\n        context.commit('updateSpaceWithData', cleanedPayload);\n    },\n\n    updateShadingWithData (context, payload) {\n        const shading = context.getters.allShading.find(s => s.id === payload.shading.id),\n            validProperties = Object.keys(shading),\n            cleanedPayload = {};\n\n        // remove extra properties from the payload\n        for (var key in payload) {\n            if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n                cleanedPayload[key] = payload[key];\n            }\n        }\n        cleanedPayload.shading = shading;\n\n        // TODO: validation\n        context.commit('updateShadingWithData', cleanedPayload);\n    },\n\n    updateImageWithData (context, payload) {\n        const image = context.getters.allImages.find(i => i.id === payload.image.id),\n            validProperties = Object.keys(image),\n            cleanedPayload = {};\n\n        // remove extra properties from the payload\n        for (var key in payload) {\n            if (payload.hasOwnProperty(key) && ~validProperties.indexOf(key)) {\n                cleanedPayload[key] = payload[key];\n            }\n        }\n        cleanedPayload.image = image;\n\n        // TODO: validation\n        context.commit('updateImageWithData', cleanedPayload);\n    },\n\n  updateWindowDefinitionWithData({ state, dispatch }, payload) {\n    const { object: { id } } = payload;\n\n    // blank out the keys that don't make sense for that type.\n    if (payload.window_definition_type === 'Window to Wall Ratio') {\n      Object.assign(payload, {\n        height: null,\n        width: null,\n        spacing: null,\n      });\n    } else if (payload.window_definition_type === 'Repeating Windows') {\n      Object.assign(payload, {\n        wwr: null,\n      });\n    } else if (payload.window_definition_type === 'Single Window') {\n      Object.assign(payload, {\n        wwr: null,\n        spacing: null,\n      });\n    } else if (payload.window_definition_type) {\n      throw new Error(`unrecognized window_definition_type: ${payload.window_definition_type}`);\n    }\n\n    if (_.includes(['Window to Wall Ratio', 'Repeating Windows'], payload.window_definition_type)) {\n      // upon change of window_definition_type, we need to\n      // prevent multiple repeating/wwr from sharing the same edge\n      const windowsToDelete = _.flatMap(state.stories, story =>\n        _.chain(story.windows)\n          .filter({ window_definition_id: id })\n          .groupBy('edge_id')\n          .values()\n          .flatMap(_.tail)\n          .map(w => ({ story_id: story.id, object: { id: w.id } }))\n          .value());\n\n      windowsToDelete.forEach(pl => dispatch('destroyWindow', pl));\n    }\n\n    dispatch('updateObjectWithData', payload);\n  },\n\n    updateObjectWithData (context, payload) {\n        const object = helpers.libraryObjectWithId(context.state, payload.object.id);\n        payload.object = object;\n        // TODO: validation\n        context.commit('updateObjectWithData', payload);\n    },\n\n  createImageForStory(context, payload) {\n    const story = context.state.stories.find(s => s.id === payload.story_id);\n    const name = helpers.generateName(context.state, 'images', story);\n    const image = new factory.Image(name, payload.src);\n\n    image.height = payload.height;\n    image.width = payload.width;\n    image.x = payload.x;\n    image.y = payload.y;\n\n    context.commit('createImageForStory', {\n      story_id: story.id,\n      image,\n    });\n  },\n\n    createObjectWithType (context, payload) {\n        const type = payload.type,\n            name = helpers.generateName(context.state, type),\n            object = new helpers.map[type].init({ name });\n\n        context.commit('initObject', { type, object });\n    },\n\n  selectStory(context, payload) {\n    const story = payload.story;\n    context.dispatch('application/setCurrentStoryId', { id: story.id }, { root: true });\n  },\n\n  createWindow(context, payload) {\n    const\n      { story_id, edge_id, window_definition_id, alpha } = payload,\n      story = _.find(context.state.stories, { id: story_id }),\n      windowDefn = _.find(context.state.library.window_definitions, { id: window_definition_id }),\n      geometry = story && _.find(context.rootState.geometry, { id: story.geometry_id }),\n      edge = geometry && _.find(geometry.edges, { id: edge_id });\n    if (!story) {\n      throw new Error('Story not found');\n    } else if (!windowDefn) {\n      throw new Error('Window Definition not found');\n    } else if (!geometry) {\n      throw new Error('Geometry not found');\n    } else if (!edge) {\n      throw new Error('Edge not found');\n    } else if (alpha < 0 || alpha > 1) {\n      throw new Error('Alpha must be between 0 and 1');\n    }\n\n    const windowsOnEdge = _.filter(story.windows, { edge_id })\n      .map(w => ({\n        ...w,\n        window_definition_type: _.find(\n          context.state.library.window_definitions,\n          { id: w.window_definition_id },\n        ).window_definition_type,\n      }));\n    let windowsToDelete;\n    if (windowDefn.window_definition_type === 'Single Window') {\n      // single windows can coexist with other single windows\n      windowsToDelete = _.reject(windowsOnEdge, { window_definition_type: 'Single Window' });\n    } else {\n      // Repeating and WWR cannot share with single window, or with one another.\n      windowsToDelete = windowsOnEdge;\n    }\n    windowsToDelete.forEach(\n      w => context.commit(\n        'destroyWindow',\n        { story_id, object: { id: w.id } }));\n\n    context.commit('createWindow', {\n      ...payload,\n      id: idFactory.generate(),\n      name: genName(windowDefn.name),\n    });\n  },\n\n  createDaylightingControl(context, payload) {\n    const\n      { story_id, face_id, daylighting_control_definition_id, x, y } = payload,\n      story = _.find(context.state.stories, { id: story_id }),\n      daylightingDefn = _.find(context.state.library.daylighting_control_definitions, { id: daylighting_control_definition_id }),\n      geometry = story && _.find(context.rootState.geometry, { id: story.geometry_id }),\n      face = geometry && _.find(geometry.faces, { id: face_id }),\n      vertex = geometry && (\n        geometryHelpers.vertexForCoordinates({ x, y }, geometry) || geometryFactory.Vertex(x, y));\n    if (!story) {\n      throw new Error('Story not found');\n    } else if (!daylightingDefn) {\n      throw new Error('Daylighting Control Definition not found');\n    } else if (!geometry) {\n      throw new Error('Geometry not found');\n    } else if (!face) {\n      throw new Error('Face not found');\n    } else if (!vertex.id) {\n      throw new Error('Unable to find or create vertex');\n    }\n    context.commit('geometry/ensureVertsExist', { geometry_id: geometry.id, vertices: [vertex] }, { root: true });\n    context.commit('createDaylightingControl', {\n      ...payload,\n      vertex_id: vertex.id,\n      id: idFactory.generate(),\n      name: genName(daylightingDefn.name),\n    });\n  },\n  destroyDaylightingControl({ commit }, payload) {\n    commit('destroyDaylightingControl', payload);\n  },\n  destroyWindow({ commit }, payload) {\n    commit('destroyWindow', payload);\n  },\n  modifyDaylightingControl({ commit }, payload) {\n    commit('modifyDaylightingControl', payload);\n  },\n  modifyWindow({ commit }, payload) {\n    commit('modifyWindow', payload);\n  },\n  destroyAllComponents({ commit }, { story_id }) {\n    commit('dropDaylightingControls', { story_id });\n    commit('dropWindows', { story_id });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/actions.js","export function number(n) { return +n; }\nexport function bool(b) { return b.toLowerCase() === 'true'; }\nexport function gt0orNull(n) { return +n || null; }\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/converters.js","export default {\n    // all spaces across all stories\n    allSpaces (state, getters, rootState, rootGetters) {\n        return rootState.models.stories.reduce((spaces, story) => {\n            return spaces.concat(story.spaces)\n        }, []);\n    },\n    // all shading across all stories\n    allShading (state, getters, rootState, rootGetters) {\n        return rootState.models.stories.reduce((shading, story) => {\n            return shading.concat(story.shading)\n        }, []);\n    },\n    // all spaces across all stories\n    allImages (state, getters, rootState, rootGetters) {\n        return rootState.models.stories.reduce((images, story) => {\n            return images.concat(story.images)\n        }, []);\n    },\n    all (state, getters, rootState, rootGetters) {\n        let objs = {\n            ...rootState.models.library,\n            stories: rootState.models.stories,\n            spaces: getters.allSpaces,\n            shading: getters.allShading,\n            images: getters.allImages\n        };\n\n        return Object.keys(objs).reduce((out,key) => {\n            out.push(...objs[key]);\n            return out;\n        }, []);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/getters.js","import actions from './actions'\nimport mutations from './mutations'\nimport getters from './getters'\n\nexport default {\n    namespaced: true,\n    state: {\n        stories: [/*{\n            id: null,\n            handle: null,\n            name: null,\n            geometry_id: null,\n            below_floor_plenum_height: 0,\n            above_floor_plenum_height: 0,\n            floor_to_ceiling_height: 0,\n            multiplier: 0,\n            spaces: [{\n                id: null,\n                name: null,\n                handle: null,\n                face_id: null,\n                daylighting_controls: [{\n                    daylighting_control_id: null,\n                    vertex_id: null\n                }],\n                building_unit_id: null,\n                thermal_zone_id: null,\n                space_type_id: null,\n                construction_set_id: null\n            }],\n            shading: [{\n                name: null,\n                face_id: null\n            }],\n            images: [{\n                id: null,\n                src: null,\n                name: null,\n                visible: false,\n                // coordinates and dimensions stored in RWU\n                height: 0,\n                width: 0,\n                x: 0,\n                y: 0,\n                z: 0,\n                opacity: 0\n            }],\n            windows: [{\n                window_id: null,\n                vertex_id: null\n            }]\n        }*/],\n        // lib\n        library: {\n            building_units: [],\n            thermal_zones: [],\n            space_types: [],\n            construction_sets: [],\n            window_definitions: [],\n            daylighting_control_definitions: [],\n            pitched_roofs: [],\n        }\n    },\n    actions: actions,\n    mutations: mutations,\n    getters: getters\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/index.js","import _ from 'lodash';\nimport helpers from './helpers.js'\n\nexport default {\n    initStory (state, payload) { state.stories.push(payload.story); },\n    initSpace (state, payload) { payload.story.spaces.push(payload.space); },\n    initShading (state, payload) { payload.story.shading.push(payload.shading); },\n\n    initObject (state, payload) {\n        state.library[payload.type].push(payload.object);\n    },\n\n    destroySpace (state, payload) {\n        payload.story.spaces.splice(payload.story.spaces.findIndex((s) => {\n            return s.id === payload.space.id;\n        }), 1);\n    },\n    destroyShading (state, payload) {\n        payload.story.shading.splice(payload.story.shading.findIndex((s) => {\n            return s.id === payload.shading.id;\n        }), 1);\n    },\n    destroyImage (state, payload) {\n        payload.story.images.splice(payload.story.images.findIndex((i) => {\n            return i.id === payload.image.id;\n        }), 1);\n    },\n    destroyStory (state, payload) {\n        state.stories.splice(state.stories.findIndex((s) => {\n            return s.id === payload.story.id;\n        }), 1);\n    },\n  destroyObject(state, { object: { id } }) {\n    // search the library\n    state.library = _.mapValues(\n      state.library,\n      lst => _.reject(lst, { id }),\n    );\n  },\n\n    updateStoryWithData (state, payload) {\n        const story = payload.story;\n        delete payload.story;\n        Object.assign(story, payload);\n    },\n    createImageForStory (state, payload) {\n        const story = state.stories.find(s => s.id === payload.story_id);\n        story.images.push(payload.image);\n    },\n\n    updateSpaceWithData (state, payload) {\n        var space = payload.space;\n        Object.assign(space, payload);\n        delete space.space;\n    },\n\n    updateShadingWithData (state, payload) {\n        const shading = payload.shading;\n        Object.assign(shading, payload);\n        delete shading.shading;\n    },\n    updateImageWithData (state, payload) {\n        const image = payload.image;\n        Object.assign(image, payload);\n        delete image.image;\n    },\n    updateObjectWithData (state, payload) {\n        const object = payload.object;\n        Object.assign(object, payload);\n        delete object.object;\n    },\n  createWindow(state, { story_id, edge_id, window_definition_id, alpha, id, name }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.windows.push({\n      window_definition_id,\n      edge_id,\n      alpha,\n      id,\n      name,\n    });\n  },\n  dropWindows(state, { story_id }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.windows = [];\n  },\n  createDaylightingControl(state, { story_id, face_id, daylighting_control_definition_id, vertex_id, name, id }) {\n    const\n      story = _.find(state.stories, { id: story_id }),\n      space = _.find(story.spaces, { face_id });\n\n    space.daylighting_controls.push({\n      daylighting_control_definition_id,\n      vertex_id,\n      id,\n      name,\n    });\n  },\n  dropDaylightingControls(state, { story_id }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.spaces.forEach((space) => {\n      space.daylighting_controls = [];\n    });\n  },\n  destroyWindowsByDefinition(state, { id }) {\n    state.stories.forEach((story) => {\n      story.windows = _.reject(story.windows, { window_definition_id: id });\n    });\n  },\n  destroyDaylightingControlsByDefinition(state, { id }) {\n    state.stories.forEach((story) => {\n      story.spaces.forEach((space) => {\n        space.daylighting_controls = _.reject(space.daylighting_controls, { daylighting_control_definition_id: id });\n      });\n    });\n  },\n  destroyDaylightingControl(state, { story_id, object: { id } }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.spaces.forEach((space) => {\n      space.daylighting_controls = _.reject(space.daylighting_controls, { id });\n    });\n  },\n  modifyDaylightingControl(state, { story_id, id, key, value }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.spaces.some((space) => {\n      const dc = _.find(space.daylighting_controls, { id });\n      if (dc) {\n        dc[key] = value;\n        return true;\n      }\n      // not on this space, maybe another?\n      return false;\n    });\n  },\n  destroyWindow(state, { story_id, object: { id } }) {\n    const story = _.find(state.stories, { id: story_id });\n    story.windows = _.reject(story.windows, { id });\n  },\n  modifyWindow(state, { story_id, id, key, value }) {\n    const\n      story = _.find(state.stories, { id: story_id }),\n      windew = _.find(story.windows, { id });\n    windew[key] = value;\n  },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/mutations.js","import _ from 'lodash';\n\nexport default {\n  name(object, store, value, type) {\n    let objs = store.getters['models/all'];\n\n    switch (type) {\n      case 'stories':\n        objs = store.state.models.stories;\n        break;\n      case 'spaces':\n        objs = store.getters['models/allSpaces'];\n        break;\n      case 'shading':\n        objs = store.getters['models/allShading'];\n        break;\n      case 'images':\n        objs = store.getters['models/allImages'];\n        break;\n      default:\n        objs = store.state.models.library[type];\n        break;\n    }\n    let error = '';\n    if (objs.filter(s => (s.name === value) && (s.id !== object.id)).length) {\n      error = 'Names must be unique.';\n    } else if (value === '') {\n      error = 'Names must be at least 1 characters long.';\n    }\n\n    return error ? { success: false, error } : { success: true };\n  },\n  number(object, store, value, type) {\n    let error = '';\n    if (isNaN(value)) {\n      error = 'Value must be numeric.';\n    }\n\n    return error ? { success: false, error } : { success: true };\n  },\n  oneOf(...args) {\n    return (object, store, value, type) => {\n      if (!_.includes(args, value)) {\n        return { success: false, error: `Expected one of ${args}, got ${value}` };\n      }\n      return { success: true };\n    };\n  },\n  gt0(object, story, value, type) {\n    return value > 0 ? { success: true } : { success: false, error: 'Expected value to be greater than zero' };\n  },\n  closedInterval(start, end) {\n    return (object, store, value, type) => {\n      if (value < start || value > end) {\n        return { success: false, error: `Must be between ${start} and ${end}` };\n      }\n    };\n  },\n  halfOpenInterval(start, end) {\n    return (object, store, value, type) => {\n      if (value < start || value >= end) {\n        return { success: false, error: `Must be greater than or equal ${start} and less than ${end}` };\n      }\n      return { success: true };\n    };\n  },\n  gt0orNull(object, story, value, type) {\n    if (value === null || value === '' || value > 0) {\n      return { success: true };\n    }\n    return { success: false, error: 'If provided, value must be greater than 0' };\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/models/validators.js","import _ from 'lodash';\nimport Validator from './../../utilities/validator';\n\nexport default {\n    // CONFIG\n  setUnits(context, payload) {\n    if (payload.units === 'm' || payload.units === 'ft') {\n      context.commit('setUnits', payload);\n    }\n  },\n    setLanguage (context, payload) {\n        if (payload.language === 'EN-US') {\n            context.commit('setLanguage', payload);\n        }\n    },\n    setNorthAxis (context, payload) {\n      const { north_axis } = payload;\n      if (north_axis > 360 || north_axis < 0) { return; }\n      context.commit('setConfigNorthAxis', { north_axis });\n      context.commit('setMapRotation', { rotation: (north_axis * Math.PI) / 180 });\n    },\n    setMapVisible (context, payload) {\n        if (typeof payload.visible === 'boolean') {\n            context.commit('setMapVisible', payload);\n        }\n    },\n    setMapEnabled(context, payload) {\n        if (typeof payload.enabled === 'boolean') {\n            context.commit('setMapEnabled', payload);\n        }\n    },\n    setMapInitialized(context, payload) {\n        if (typeof payload.initialized === 'boolean') {\n            context.commit('setMapInitialized', payload);\n        }\n    },\n    setGridVisible (context, payload) {\n        if (typeof payload.visible === 'boolean') {\n            context.commit('setGridVisible', payload);\n        }\n    },\n\n    // state.grid.spacing\n    setSpacing (context, payload) {\n       context.commit('setSpacing', payload);\n    },\n\n    setViewMinX (context, payload) {\n        context.commit('setViewMinX', payload);\n    },\n    setViewMinY (context, payload) {\n        context.commit('setViewMinY', payload);\n    },\n\n    setViewMaxX (context, payload) {\n        const validator = new Validator(payload);\n        validator.validateInt('max_x');\n        // check that the proposed max_x is greater than the min_x\n        validator.validateMin('max_x', context.state.view.min_x);\n        context.commit('setViewMaxX', validator.validatedPayload);\n    },\n    setViewMaxY (context, payload) {\n        const validator = new Validator(payload);\n        validator.validateInt('max_y');\n        // check that the proposed max_y is greater than the min_y\n        validator.validateMin('max_y', context.state.view.min_y);\n        context.commit('setViewMaxY', validator.validatedPayload);\n    },\n    // setFov (context, payload) {\n    //     context.commit('setFov', payload);\n    // },\n    setZoom (context, payload) {\n        context.commit('setMapZoom', payload);\n    },\n    // setFilmOffset (context, payload) {\n    //     context.commit('setFilmOffset', payload);\n    // },\n\n    setMapLatitude (context, payload) {\n        const validator = new Validator(payload);\n        validator.validateFloat('latitude');\n        validator.validateMax('latitude', 180);\n        validator.validateMin('latitude', -180);\n        context.commit('setMapLatitude', validator.validatedPayload);\n    },\n\n    setMapLongitude (context, payload) {\n        const validator = new Validator(payload);\n        validator.validateFloat('longitude');\n        validator.validateMax('longitude', 180);\n        validator.validateMin('longitude', -180);\n        context.commit('setMapLongitude', validator.validatedPayload);\n    },\n\n    setMapZoom (context, payload) {\n        const validator = new Validator(payload);\n        validator.validateFloat('zoom');\n        context.commit('setMapZoom',  { zoom: payload.zoom });\n    },\n\n\n    setMapRotation (context, payload) {\n        context.commit('setConfigNorthAxis', { north_axis: (payload.rotation/(2*Math.PI)) * 360 });\n        context.commit('setMapRotation', { rotation: payload.rotation });\n    },\n\n\n    setPreviousStoryVisible (context, payload) {\n        context.commit('setPreviousStoryVisible', { visible: payload.visible });\n\n    },\n\n    setShowImportExport(context, payload) {\n      context.commit('setShowImportExport', payload);\n    },\n\n  zoomToFit(context, { geometry_id, widthOverHeight }) {\n    context.commit('setView', { xExtent, yExtent });\n  },\n\n  modifyGround({ state, commit }, { key, val }) {\n    let value = +val;\n    if (isNaN(value)) {\n      value = 0;\n    }\n    if (!_.includes(Object.keys(state.ground), key)) {\n      console.error(`unrecognized ground property \"${key}\"`);\n      return;\n    }\n    if (key === 'tilt_angle' && (value < 0 || value >= 90)) {\n      window.eventBus.$emit('error', 'Tilt Angle must be in [0, 90)');\n      return;\n    }\n    commit('modifyGround', { key, value });\n  },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/project/actions.js","export default {\n  snapTolerance(state) {\n    const defaultTolerance = Math.abs(state.view.max_x - state.view.min_x) * 0.025;\n    return state.grid.visible ? state.grid.spacing * 0.5 : defaultTolerance;\n  },\n  angleTolerance() {\n    return 20;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/project/getters.js","export default {\n    // CONFIG\n  setUnits(state, payload) {\n    if ('units' in payload) {\n      state.config.units = payload.units;\n    }\n    if ('editable' in payload) {\n      state.config.unitsEditable = payload.editable;\n    }\n  },\n    setLanguage (state, payload) {\n        if ('language' in payload) {\n            state.config.language = payload.language;\n        }\n    },\n    setConfigNorthAxis (state, payload) {\n        if ('north_axis' in payload) {\n            state.north_axis = payload.north_axis;\n        }\n    },\n\n    // GRID\n    setGridVisible (state, payload) {\n\t\tif ('visible' in payload) {\n            state.grid.visible = payload.visible;\n        }\n    },\n    setSpacing (state, payload) {\n        state.grid.spacing = payload.spacing;\n    },\n\n    // VIEW\n    setViewMinX (state, payload) {\n        if ('min_x' in payload) {\n            state.view.min_x = payload.min_x;\n        }\n    },\n    setViewMinY (state, payload) {\n        if ('min_y' in payload) {\n            state.view.min_y = payload.min_y;\n        }\n    },\n    setViewMaxX (state, payload) {\n        if ('max_x' in payload) {\n            state.view.max_x = payload.max_x;\n        }\n    },\n    setViewMaxY (state, payload) {\n        if ('max_y' in payload) {\n            state.view.max_y = payload.max_y;\n        }\n    },\n\n    // MAP\n    setMapEnabled (state, payload) {\n        if ('enabled' in payload) {\n            state.map.enabled = payload.enabled;\n        }\n    },\n    setMapInitialized (state, payload) {\n        if ('initialized' in payload) {\n            state.map.initialized = payload.initialized;\n        }\n    },\n    setMapVisible (state, payload) {\n        if ('visible' in payload) {\n            state.map.visible = payload.visible;\n        }\n    },\n\n    setMapLatitude (state, payload) {\n        if ('latitude' in payload) {\n            state.map.latitude = payload.latitude;\n        }\n    },\n\n    setMapLongitude (state, payload) {\n        if ('longitude' in payload) {\n            state.map.longitude = payload.longitude;\n        }\n    },\n\n    setMapZoom (state, payload) {\n        if ('zoom' in payload) {\n            state.map.zoom = payload.zoom;\n        }\n    },\n\n    setMapRotation (state, payload) {\n        if ('rotation' in payload) {\n            state.map.rotation = payload.rotation;\n        }\n    },\n\n    setPreviousStoryVisible (state, payload) {\n        if ('visible' in payload) {\n            state.previous_story.visible = payload.visible;\n        }\n    },\n  setShowImportExport(state, payload) {\n    state.show_import_export = payload;\n  },\n\n  modifyGround(state, { key, value }) {\n    state.config.ground[key] = value;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/project/mutations.js","import project from './modules/project';\n\nexport default {\n  importState(state, payload) {\n    // replace any keys in both, but keep keys appearing only in project\n    // (for backward compatibilty)\n    state.project = Object.assign(project.state, payload.project);\n    state.application = payload.application;\n    state.models = payload.models;\n    state.geometry = payload.geometry;\n  },\n  importLibrary(state, payload) {\n    state.models.library = payload;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","import _ from 'lodash';\n\nconst serializeState = (state) => {\n  const clone = JSON.parse(JSON.stringify(state));\n\n\n  return clone;\n};\nconst filteredActions = [\n  'application/setScaleX',\n  'application/setCurrentTool',\n  'application/setScaleY',\n  'project/setSpacing',\n  'project/setViewMinX',\n  'project/setViewMinY',\n  'project/setViewMaxX',\n  'project/setViewMaxY',\n  'application/clearSubSelections',\n  'application/setCurrentStoryId',\n  'application/setCurrentStory',\n  'application/setCurrentSpace',\n  'application/setCurrentShading',\n  'application/setCurrentImage',\n  'application/setCurrentSpacePropertyId',\n  'application/setCurrentSubSelectionType',\n  'project/setPreviousStoryVisible',\n  'project/setGridVisible',\n  'project/setMapLatitude',\n  'project/setMapLongitude',\n  'project/setMapRotation',\n];\nconst permanentActions = [\n  'importFloorplan',\n  'project/setMapEnabled',\n  'project/setMapInitialized',\n];\n\nconst logState = state => state;\n\nexport default {\n  store: null,\n  pastTimetravelStates: [],\n  futureTimetravelStates: [],\n  currentlyInBatch: false,\n  triggeringAction: '(none)',\n  init(store) {\n    const that = this;\n    this.store = store;\n    store.timetravel = this;\n\n    this.pastTimetravelStates = [];\n    this.futureTimetravelStates = [];\n\n    this.store.replaceState({ ...store.state, timetravelInitialized: true });\n    /*\n    * store.commit and store.replaceState mutate the data store\n    * monkey patch them to call the onChange function supplied in app config\n    */\n    const originalReplaceState = store.replaceState;\n    store.replaceState = function overrideReplaceState(...args) {\n      if (window.api) { window.api.config.onChange(); }\n      const newState = args[0];\n\n      // non timetravel props\n      newState.application.scale = this.state.application.scale;\n      newState.project.view = this.state.project.view;\n      newState.project.grid = this.state.project.grid;\n      newState.project.previous_story = this.state.project.previous_story;\n\n      originalReplaceState.apply(this, args);\n    };\n    const originalCommit = store.commit;\n    store.commit = function overrideCommit(...args) {\n      if (window.api) { window.api.config.onChange(); }\n      originalCommit.apply(this, args);\n    };\n\n    /*\n    * monkey patch store.dispatch to store a new copy of the store.state for each\n    * set of actions dispatched\n    */\n    const originalDispatch = store.dispatch;\n    store.dispatch = function overrideDispatch(...args) {\n      const action = args[0];\n\n      // ignore changes to view bounds\n      if (!_.includes(filteredActions, action)) {\n        that.maybeSaveCheckpoint(action);\n        console.log('dispatching action:', args[0]);\n      }\n\n      originalDispatch.apply(this, args);\n    };\n  },\n  maybeSaveCheckpoint(action) {\n    if (!this.currentlyInBatch) {\n      this.saveCheckpoint(action);\n    }\n    // now, ignore the next few calls, until we clear the event loop.\n    this.currentlyInBatch = true;\n    clearTimeout(this.resetBatchFlag);\n    this.resetBatchFlag = setTimeout(() => { this.currentlyInBatch = false; }, 0);\n  },\n  /*\n  * Empty future states and save the currentState to pastTimetravelStates\n  */\n  saveCheckpoint(action) {\n    this.pastTimetravelStates.push({\n      triggeringAction: this.triggeringAction,\n      state: serializeState(this.store.state),\n    });\n    this.triggeringAction = action;\n    console.warn('saving state:', this.pastTimetravelStates[this.pastTimetravelStates.length - 1]);\n    this.futureTimetravelStates = [];\n    this.potentiallyRollbackCheckpoint(action);\n  },\n\n  potentiallyRollbackCheckpoint(action) {\n    const prevStates = this.pastTimetravelStates;\n    const store = this.store;\n    if (_.includes(permanentActions, action)) {\n      // roll back all the way.\n      this.pastTimetravelStates = [];\n      this.futureTimetravelStates = [];\n      return;\n    }\n    _.defer(() => {\n      // after save checkpoint and dust has settled\n      while (\n        prevStates.length > 0 &&\n        _.isEqual(serializeState(store.state), prevStates[prevStates.length - 1].state)\n      ) {\n        console.log('current state matches previous, so rolling back', prevStates[prevStates.length - 1].triggeringAction);\n        prevStates.pop();\n      }\n    });\n  },\n\n  undo() {\n    if (!this.pastTimetravelStates.length) { return; }\n    const { state: replacementState, triggeringAction } = this.pastTimetravelStates.pop();\n    const oldAction = this.triggeringAction;\n    this.futureTimetravelStates.push({\n      triggeringAction: this.triggeringAction,\n      state: serializeState(this.store.state),\n    });\n    this.triggeringAction = triggeringAction;\n    this.store.replaceState(replacementState);\n    console.log('undo', replacementState);\n    window.eventBus.$emit('success', `undo ${oldAction}`);\n  },\n\n  redo() {\n    if (!this.futureTimetravelStates.length) { return; }\n    const { state: replacementState, triggeringAction } = this.futureTimetravelStates.pop();\n    this.pastTimetravelStates.push({\n      state: serializeState(this.store.state),\n      triggeringAction: this.triggeringAction,\n    });\n    this.triggeringAction = triggeringAction;\n    this.store.replaceState(replacementState);\n    window.eventBus.$emit('success', `redo ${triggeringAction}`);\n    console.log('redo', replacementState);\n  },\n  logTimetravel() {\n    console.log('past:', this.pastTimetravelStates.map(s => logState(s)));\n    console.log('current', logState(this.store.state));\n    console.log('future:', this.futureTimetravelStates.map(s => logState(s)));\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/timetravel.js","import _ from 'lodash';\nimport version from '../../version';\nimport { repeatingWindowCenters } from '../../store/modules/geometry/helpers';\n\nfunction formatObject(obj) {\n  if (_.isArray(obj)) {\n    return obj.map(formatObject);\n  } else if (_.isObject(obj)) {\n    return _.mapValues(obj, (val, key) => {\n      if ((key === 'id' || key.indexOf('_id') >= 0) && _.isNumber(val)) {\n        return String(val);\n      }\n      return formatObject(val);\n    });\n  }\n  return obj;\n}\n\nfunction mungeWindows(windows, geometry, windowDefs) {\n  const repeatingWindowDefs = _.chain(windowDefs)\n    .filter({ window_definition_type: 'Repeating Windows' })\n    .map(wd => [wd.id, wd])\n    .fromPairs()\n    .value();\n\n  return windows.map((w) => {\n    const def = repeatingWindowDefs[w.window_definition_id];\n    if (def) {\n      const edge = _.find(geometry.edges, { id: w.edge_id });\n      const centers = repeatingWindowCenters({\n        start: _.find(geometry.vertices, { id: edge.vertex_ids[0] }),\n        end: _.find(geometry.vertices, { id: edge.vertex_ids[1] }),\n        spacing: def.window_spacing,\n        width: def.width,\n      });\n      return {\n        ...w,\n        alpha: _.map(centers, 'alpha'),\n      };\n    }\n    return w;\n  });\n}\n\n\nfunction mungeStories(stories, geometries, windowDefs) {\n  return stories.map((story) => {\n    const geometry = JSON.parse(JSON.stringify(\n      _.find(geometries, { id: story.geometry_id }),\n    ));\n    return {\n      ...story,\n      spaces: story.spaces,\n      geometry,\n      windows: mungeWindows(story.windows, geometry, windowDefs),\n      geometry_id: undefined,\n    };\n  });\n}\n\nexport default function exportData(state, getters) {\n  const exportObject = {\n    application: state.application,\n    project: state.project,\n    stories: mungeStories(\n      state.models.stories,\n      getters['geometry/exportData'],\n      state.models.library.window_definitions,\n    ),\n    ...state.models.library,\n    version,\n  };\n  return formatObject(exportObject);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/export.js","import appconfig from './../modules/application/appconfig';\n\nconst typeIndices = {};\n\nexport default function colorFactory(type) {\n  typeIndices[type] = (typeIndices[type] || 0) + 1;\n  return appconfig.palette.colors[typeIndices[type] % appconfig.palette.colors.length];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/generateColor.js","import _ from 'lodash';\nimport idFactory from './generateId';\nimport factory from '../modules/models/factory';\n\nfunction maybeUpdateProject(project) {\n  // backwards compatibility changes:\n  // 1. project.config.north_axis is now at project.north_axis\n  if (project.config.north_axis) {\n    // don't overwrite current key, if it's set\n    project.north_axis = project.north_axis || project.config.north_axis;\n    delete project.config.north_axis;\n  }\n  return project;\n}\n\nfunction withHandleProp(arr) {\n  if (!arr || !arr.length) {\n    return [];\n  }\n  return arr.map(obj => ({\n    handle: null,\n    ...obj,\n  }));\n}\n\nfunction withWindowDefinitionDefaults(arr) {\n  if (!arr || !arr.length) return [];\n  const winDefnDefaults = factory.WindowDefn();\n  return arr.map(obj => ({\n    ...winDefnDefaults,\n    ...obj,\n  }));\n}\n\nfunction withStoryDefaults(stories) {\n  const\n    story_defaults = factory.Story(),\n    space_defaults = factory.Space();\n  return stories.map((story) => {\n    const multiplier = story.multiplier >= 1 ?\n      story.multiplier : story_defaults.multiplier;\n\n    return {\n      ...story_defaults,\n      ...story,\n      spaces: story.spaces\n        .map(space => ({\n          ...space_defaults,\n          ...space,\n        })),\n      shading: withHandleProp(story.shading),\n      multiplier,\n    };\n  });\n}\n\nexport default function importFloorplan(context, payload) {\n  // intialize a versionNumber if the app is running in embedded mode\n  if (window.api) { window.versionNumber = 0; }\n\n  // GEOMETRY\n  const geometry = payload.data.stories.map((story) => {\n    const faces = story.geometry.faces.map((face) => {\n      const edgeRefs = face.edge_ids.map((id, index) => ({\n        edge_id: id,\n        reverse: !face.edge_order[index],\n      }));\n      return {\n        id: face.id,\n        edgeRefs,\n      };\n    });\n\n    const edges = story.geometry.edges.map(e => ({\n      id: e.id,\n      v1: e.vertex_ids[0],\n      v2: e.vertex_ids[1],\n    }));\n    return {\n      id: story.geometry.id,\n      faces,\n      edges,\n      vertices: story.geometry.vertices,\n    };\n  });\n\n  // MODELS\n  const stories = payload.data.stories.map((s) => {\n    const story = {\n      geometry_id: s.geometry.id,\n      ...s,\n    };\n    delete story.geometry;\n    return story;\n  });\n\n  function forEachNestedProp(obj, func, propName = null) {\n    if (_.isObject(obj)) {\n      Object.keys(obj).forEach(k => forEachNestedProp(obj[k], func, k));\n    } else if (_.isArray(obj)) {\n      obj.forEach(elem => forEachNestedProp(elem, func));\n    } else {\n      func(propName, obj);\n    }\n  }\n\n  // find the highest id in the imported floorplan\n  let largestId = 0;\n  forEachNestedProp(payload, (k, v) => {\n    if (k && k === 'id' && (+v > largestId)) {\n      largestId = v;\n    }\n  });\n\n  // set the idFactory to the next id\n  largestId += 1;\n  idFactory.setId(largestId);\n\n  context.commit('importState', {\n    project: maybeUpdateProject(payload.data.project),\n    application: context.state.application,\n    models: {\n      stories: withStoryDefaults(stories),\n      library: {\n        building_units: withHandleProp(payload.data.building_units),\n        thermal_zones: withHandleProp(payload.data.thermal_zones),\n        space_types: withHandleProp(payload.data.space_types),\n        construction_sets: withHandleProp(payload.data.construction_sets),\n        window_definitions: withWindowDefinitionDefaults(payload.data.window_definitions),\n        daylighting_control_definitions: payload.data.daylighting_control_definitions || [],\n        pitched_roofs: (payload.data.pitched_roofs || []).map(pr => ({\n          shed_direction: null,\n          ...pr,\n        })),\n      },\n    },\n    geometry,\n  });\n  _.defer(() => {\n    context.dispatch(\n      'application/setCurrentStoryId',\n      { id: stories[0].id },\n      { root: true });\n\n    stories.forEach(story => context.dispatch('geometry/trimGeometry', { geometry_id: story.geometry_id }));\n\n    _.defer(() => window.eventBus.$emit('zoomToFit'));\n  });\n\n  document.getElementById('svg-grid').dispatchEvent(new Event('reloadGrid'));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/importFloorplan.js","import _ from 'lodash';\nimport idFactory from './generateId';\n\nexport default function importLibrary(context, payload) {\n  let count = 0;\n  const types = Object.keys(payload.data);\n  types.forEach((type) => {\n    if (type === 'project' || !context.state.models.library[type]) { return; }\n    const existingNames = context.state.models.library[type].map((o) => {\n      // /_\\d+[\\w\\s]?$/\n      // if object name contains duplicate suffix, remove suffix\n      if (/_\\d+[\\w\\s]?$/.test(o.name)) {\n        return o.name.split('_').slice(0, -1).join('_');\n      }\n      return o.name;\n    });\n    payload.data[type] = payload.data[type].map((obj) => {\n      const importObj = obj;\n      importObj.id = idFactory.generate();\n      // number of existing objects with the same prefix\n      const duplicateCount = existingNames.filter(n => n === obj.name).length;\n      if (duplicateCount) { importObj.name += `_${duplicateCount}`; }\n      count += 1;\n      return importObj;\n    });\n  });\n\n\n  window.eventBus.$emit('success', `Imported ${count} object${count !== 1 ? 's' : ''}`);\n  // merge the import data with the existing library objects\n  context.commit(\n    'importLibrary',\n    _.fromPairs([\n      'building_units', 'thermal_zones', 'space_types', 'construction_sets',\n      'window_definitions', 'daylighting_control_definitions', 'pitched_roofs',\n    ].map(k => (\n      [k, context.state.models.library[k].concat(payload.data[k] || [])]\n    ))),\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/importLibrary.js","/*\n* The validator builds a validatedPayload object containing all key/vals that have validation run on them\n* which have not been marked invalid\n* To add key value pairs to the validatedPayload without actually calling a validation method on them\n* provide a validatedPayload argument to the Validator constructor\n*/\nexport default function Validator (payload, validatedPayload = {}) {\n    // if a key fails validation, it will be blacklisted so that it is not added to the validatedPayload on a later validation call\n    const invalidKeys = [];\n    return {\n        invalidKeys: invalidKeys,\n        validatedPayload: validatedPayload,\n        validateLength (key, minLength = 0) {\n            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) { return; }\n            if (key in payload && payload[key].length >= minLength) {\n                validatedPayload[key] = payload[key];\n            } else {\n                delete validatedPayload[key];\n                invalidKeys.push(key);\n            }\n        },\n        // NOT  inclusive\n        validateMin (key, min = 0) {\n            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) { return; }\n            if (payload[key] > min) {\n                validatedPayload[key] = payload[key];\n            } else {\n                delete validatedPayload[key];\n                invalidKeys.push(key);\n            }\n        },\n        // NOT  inclusive\n        validateMax (key, max = 0) {\n            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) { return; }\n            if (key in payload && payload[key] < max) {\n                validatedPayload[key] = payload[key];\n            } else {\n                delete validatedPayload[key];\n                invalidKeys.push(key);\n            }\n        },\n        validateFloat (key) {\n            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) { return; }\n            if (key in payload && !isNaN(parseFloat(payload[key]))) {\n                validatedPayload[key] = parseFloat(payload[key]);\n            } else {\n                delete validatedPayload[key];\n                invalidKeys.push(key);\n            }\n        },\n        validateInt (key) {\n            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) { return; }\n            if (key in payload && !isNaN(parseInt(payload[key]))) {\n                validatedPayload[key] = parseInt(payload[key]);\n            } else {\n                delete validatedPayload[key];\n                invalidKeys.push(key);\n            }\n        },\n        validateBoolean (key) {\n            if (!(key in payload) || invalidKeys.indexOf(key) !== -1) { return; }\n            if (key in payload) {\n                validatedPayload[key] = !!(payload[key]);\n            } else {\n                delete validatedPayload[key];\n                invalidKeys.push(key);\n            }\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/utilities/validator.js","import _ from 'lodash';\nimport { ptsAreCollinear, distanceBetweenPoints } from '../store/modules/geometry/helpers';\n\nexport function checkFace(face) {\n  const errors = [];\n\n  face.vertices\n    .map((v, ix, a) => [\n      a[ix === 0 ? a.length - 1 : ix - 1],\n      a[ix],\n      a[(ix + 1) % a.length],\n    ])\n    .forEach(([fst, snd, thd]) => {\n      if (\n        ptsAreCollinear(fst, snd, thd) &&\n        distanceBetweenPoints(fst, snd) > distanceBetweenPoints(fst, thd)\n      ) {\n        errors.push(`face ${face.id} has a backwards section (${JSON.stringify(fst)} -> ${JSON.stringify(snd)} -> ${JSON.stringify(thd)})`);\n      }\n    });\n  return errors;\n}\n\nexport default function checkGeometry(geom) {\n  const\n    errors = [],\n    vertPos = v => `${v.x}:${v.y}`,\n    vertPosToId = _.fromPairs(geom.vertices.map(v => [vertPos(v), v.id]));\n\n  geom.vertices.forEach((vert) => {\n    if (vert.id !== vertPosToId[vertPos(vert)]) {\n      errors.push(`vertex ${vert.id} is a duplicate of ${vertPosToId[vertPos(vert)]}`);\n    }\n  });\n\n  geom.edges.forEach((edge) => {\n    if (\n      edge.v1.id === edge.v2.id ||\n      vertPos(edge.v1) === vertPos(edge.v2)\n    ) {\n      errors.push(`edge ${edge.id} is of length zero`);\n    }\n  });\n\n  geom.faces.map(checkFace)\n    .forEach(errs => errors.push(...errs));\n\n  return errors;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities/checkGeometry.js","// OpenStudio(R), Copyright (c) 2008-2016, Alliance for Sustainable Energy, LLC. All rights reserved.\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n// (1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n// (2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n// (3) Neither the name of the copyright holder nor the names of any contributors may be used to endorse or promote products derived from this software without specific prior written permission from the respective party.\n// (4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works may not use the \"OpenStudio\" trademark, \"OS\", \"os\", or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC.\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER, THE UNITED STATES GOVERNMENT, OR ANY CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport _ from 'lodash';\n\nconst d3 = require('d3');\nconst d3Selection = require('d3-selection');\n\n/*\nYou might ask: Why do we need a copy-pasta version of lodash.throttle?\n\nOur hand-rolled throttle implementation (sure enough) wasn't running on the trailing edge. I switched to using `_.throttle`, which has `trailing: true` by default. Error message:\nhttps://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/59cbeb80295a82a03226fca5/89f83cf5e7d2392b793279b93fba1f31/capture.png\n\nThe issue was that the throttled function calls `d3.mouse()`, which depends on the value of `d3.event` internally.\nd3 was clearing that value after the event had fired. So it was gone by the time we hit the trailing call.\n\nThe fix: update the throttle code to record the value of `d3.event` and set it just before calling the function each time.\nhttps://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/59cbec239d4a68c1cbc981e1/25a207c92459b0a327e6a624d1f33bca/capture.png\n\nThe error: https://trello-attachments.s3.amazonaws.com/58d428743111af1d0a20cf28/59cbec593206a0ef014a1d0f/af6d3293fc434f38ca4946252ea78084/capture.png\n\nd3.event is a getter, and cannot be set. After digging through d3's source code, found where the value is _actually_ stored, and d3.event reads from that.\nhttps://github.com/d3/d3/blob/17fbf8d4b16ed19303d71dee4881d871bddbc037/test/d3-test.js\n\n*/\n\n/**\n    Modified from lodash 4.17.4 on 2017-09-27\n\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction d3Debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      lastD3Event,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError('Expected a function');\n  }\n  wait = _.toNumber(wait) || 0;\n  if (_.isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? Math.max(_.toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis,\n        saveD3Event = d3.event;\n\n    d3Selection.event = lastD3Event;\n    lastD3Event = lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    d3Selection.event = saveD3Event;\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? Math.min(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = _.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastD3Event = lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastD3Event = lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(_.now());\n  }\n\n  function debounced() {\n    var time = _.now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n    lastD3Event = d3.event;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default function d3AwareThrottle(func, wait) {\n  return d3Debounce(func, wait, {\n    leading: true,\n    trailing: true,\n    maxWait: wait,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities/d3-aware-throttle.js","module.exports = '0.4.0';\n\n\n\n// WEBPACK FOOTER //\n// ./src/version.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../node_modules/vue-loader/lib/style-rewriter?id=data-v-c1b60834!sass-loader?sourceMap!./scss/main.scss\")\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../node_modules/vue-loader/lib/style-rewriter?id=data-v-c1b60834&scoped=true!sass-loader?sourceMap!../node_modules/vue-loader/lib/selector?type=styles&index=1!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler?id=data-v-c1b60834!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  \"data-v-c1b60834\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 256\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-031586be&scoped=true!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Canvas.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Canvas.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-031586be!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Canvas.vue\"),\n  /* scopeId */\n  \"data-v-031586be\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Canvas/Canvas.vue\n// module id = 257\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-3d99eee3&scoped=true!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Map.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Map.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-3d99eee3!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Map.vue\"),\n  /* scopeId */\n  \"data-v-3d99eee3\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Canvas/Map.vue\n// module id = 258\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ComponentInstanceEditBar.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-46185816!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ComponentInstanceEditBar.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ComponentInstanceEditBar.vue\n// module id = 259\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-306f4abb&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditBar.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditBar.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-306f4abb!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditBar.vue\"),\n  /* scopeId */\n  \"data-v-306f4abb\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EditBar.vue\n// module id = 260\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-746cecc8&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditableSelectList.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditableSelectList.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-746cecc8!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditableSelectList.vue\"),\n  /* scopeId */\n  \"data-v-746cecc8\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EditableSelectList.vue\n// module id = 261\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-4b0808dc&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditableTable.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditableTable.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-4b0808dc!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditableTable.vue\"),\n  /* scopeId */\n  \"data-v-4b0808dc\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EditableTable.vue\n// module id = 262\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ExpandableDrawer.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-5252b93a!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ExpandableDrawer.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ExpandableDrawer.vue\n// module id = 263\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-a8e9dfbe&scoped=true!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Grid.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Grid.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-a8e9dfbe!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Grid.vue\"),\n  /* scopeId */\n  \"data-v-a8e9dfbe\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Grid/Grid.vue\n// module id = 264\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageUpload.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-5190cdce!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ImageUpload.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ImageUpload.vue\n// module id = 265\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-987d60e8&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Info.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Info.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-987d60e8!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Info.vue\"),\n  /* scopeId */\n  \"data-v-987d60e8\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Info.vue\n// module id = 266\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-73ec12ee&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Inspector.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Inspector.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-73ec12ee!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Inspector.vue\"),\n  /* scopeId */\n  \"data-v-73ec12ee\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Inspector.vue\n// module id = 267\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Library.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-a0779666!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Library.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Library.vue\n// module id = 268\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-d56d6c28&scoped=true!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MapModal.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapModal.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-d56d6c28!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MapModal.vue\"),\n  /* scopeId */\n  \"data-v-d56d6c28\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modals/MapModal.vue\n// module id = 269\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-3c3490f3&scoped=true!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SaveAsModal.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SaveAsModal.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-3c3490f3!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SaveAsModal.vue\"),\n  /* scopeId */\n  \"data-v-3c3490f3\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modals/SaveAsModal.vue\n// module id = 270\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-2aef9e5e!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Settings.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settings.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-2aef9e5e!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Settings.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modals/Settings.vue\n// module id = 271\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-64bc751c&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Navigation.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Navigation.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-64bc751c!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Navigation.vue\"),\n  /* scopeId */\n  \"data-v-64bc751c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Navigation.vue\n// module id = 272\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-7f3bef5a!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NonChromeWarning.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NonChromeWarning.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-7f3bef5a!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NonChromeWarning.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NonChromeWarning.vue\n// module id = 273\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RenderByDropdown.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-8cb59cc8!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RenderByDropdown.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RenderByDropdown.vue\n// module id = 274\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-40563b8d&scoped=true!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Toolbar.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Toolbar.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-40563b8d!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Toolbar.vue\"),\n  /* scopeId */\n  \"data-v-40563b8d\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Toolbar.vue\n// module id = 275\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"canvas\",\n    attrs: {\n      \"id\": \"canvas\"\n    }\n  }, [_c('svg', {\n    attrs: {\n      \"id\": \"north_axis\",\n      \"height\": \"1792\",\n      \"viewBox\": \"0 0 1792 1792\",\n      \"width\": \"1792\",\n      \"xmlns\": \"http://www.w3.org/2000/svg\",\n      \"transform\": (\"rotate(\" + _vm.northAxis + \")\")\n    }\n  }, [_c('path', {\n    attrs: {\n      \"d\": \"M1277 493q-9 19-29 19h-224v1248q0 14-9 23t-23 9H800q-14 0-23-9t-9-23V512H544q-21 0-29-19t5-35L870 74q10-10 23-10 14 0 24 10l355 384q13 16 5 35z\"\n    }\n  })]), _vm._v(\" \"), (_vm.mapEnabled) ? _c('map-view', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.mapVisible),\n      expression: \"mapVisible\"\n    }]\n  }) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-031586be!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Canvas/Canvas.vue\n// module id = 276\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.col.readonly || !_vm.col.input_type) ? _c('span', {\n    class: {\n      numeric: _vm.col.numeric\n    }\n  }, [_vm._v(\"\\n  \" + _vm._s(_vm.col.get ? _vm.col.get(_vm.row, _vm.rootState) : _vm.row[_vm.col.name]) + \"\\n\")]) : (_vm.col.input_type === 'text') ? _c('input', {\n    class: {\n      numeric: _vm.col.numeric\n    },\n    attrs: {\n      \"disabled\": _vm.disabled\n    },\n    domProps: {\n      \"value\": _vm.row[_vm.col.name]\n    },\n    on: {\n      \"keydown\": _vm.blurOnEnter,\n      \"blur\": function($event) {\n        _vm.onChange($event.target.value)\n      }\n    }\n  }) : (_vm.col.input_type === 'color') ? _c('div', {\n    staticClass: \"color-wrapper\"\n  }, [_c('input', {\n    ref: \"color_input\",\n    staticClass: \"input-color\",\n    attrs: {\n      \"object-id\": _vm.row.id,\n      \"disabled\": _vm.disabled\n    },\n    domProps: {\n      \"value\": _vm.row[_vm.col.name]\n    }\n  })]) : (_vm.col.input_type === 'select') ? _c('pretty-select', {\n    attrs: {\n      \"options\": _vm.selectData,\n      \"value\": _vm.row[_vm.col.name],\n      \"disabled\": _vm.disabled\n    },\n    on: {\n      \"change\": function (val) { return _vm.onChange(val); }\n    }\n  }) : _vm._e()\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-14ece691!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/GenericInput.vue\n// module id = 277\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('aside', [_c('div', {\n    staticClass: \"overlay\",\n    on: {\n      \"click\": _vm.close\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"modal\"\n  }, [_c('span', [_c('svg', {\n    staticClass: \"close-button\",\n    attrs: {\n      \"viewBox\": \"0 0 256 256\",\n      \"xmlns\": \"http://www.w3.org/2000/svg\"\n    },\n    on: {\n      \"click\": _vm.close\n    }\n  }, [_c('path', {\n    attrs: {\n      \"d\": \"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z\"\n    }\n  })])]), _vm._v(\" \"), _c('header', [_c('h2', [_vm._v(_vm._s(_vm.title))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_vm._t(\"default\")], 2)])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-20be75f3!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Modals/ModalBase.vue\n// module id = 278\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ModalBase', {\n    staticClass: \"settings-modal\",\n    attrs: {\n      \"title\": \"Settings\"\n    },\n    on: {\n      \"close\": function($event) {\n        _vm.$emit('close')\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"settings\"\n  }, [_c('p', [_c('label', {\n    staticClass: \"input-text\"\n  }, [_vm._v(\"\\n        North Axis\\n        \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number.lazy\",\n      value: (_vm.northAxis),\n      expression: \"northAxis\",\n      modifiers: {\n        \"number\": true,\n        \"lazy\": true\n      }\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"disabled\": _vm.mapEnabled\n    },\n    domProps: {\n      \"value\": (_vm.northAxis)\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.northAxis = _vm._n($event.target.value)\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })])]), _vm._v(\" \"), _c('ExpandableDrawer', {\n    staticClass: \"ground-props-drawer\",\n    attrs: {\n      \"title\": \"Ground Properties\"\n    }\n  }, [_c('p', [_c('label', {\n    staticClass: \"input-text\"\n  }, [_vm._v(\"\\n          Floor Offset\\n          \"), _c('Info', [_vm._v(\"\\n            Specifies the vertical offset between the building floor and the ground plane.\\n            Use a value < 0 for buildings with below-grade spaces, or a value > 0 for,\\n            e.g., buildings on piers.\\n          \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.floor_offset),\n      expression: \"floor_offset\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.floor_offset)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.floor_offset = $event.target.value\n      }\n    }\n  })], 1)]), _vm._v(\" \"), _c('p', [_c('label', {\n    staticClass: \"input-text\"\n  }, [_vm._v(\"\\n          Azimuth Angle\\n          \"), _c('Info', [_vm._v(\"\\n            Direction of the ground plane, in clockwise degrees from the\\n            positive y-axis when viewed from above.\\n          \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.azimuth_angle),\n      expression: \"azimuth_angle\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.azimuth_angle)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.azimuth_angle = $event.target.value\n      }\n    }\n  })], 1)]), _vm._v(\" \"), _c('p', [_c('label', {\n    staticClass: \"input-text\"\n  }, [_vm._v(\"\\n          Tilt Slope\\n          \"), _c('Info', [_vm._v(\"\\n            Slope of the ground plane from horizontal. For example, a value of 1 implies a 45° angle.\\n          \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.tilt_slope),\n      expression: \"tilt_slope\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.tilt_slope)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.tilt_slope = $event.target.value\n      }\n    }\n  })], 1)])]), _vm._v(\" \"), _c('button', {\n    staticClass: \"button\",\n    on: {\n      \"click\": function($event) {\n        _vm.$emit('close')\n      }\n    }\n  }, [_vm._v(\"Okay\")])], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-2aef9e5e!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Modals/Settings.vue\n// module id = 279\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"edit-bar\"\n  }, [_vm._l((_vm.columns), function(col) {\n    return _c('span', {\n      key: col.name,\n      attrs: {\n        \"data-column\": col.name\n      }\n    }, [_c('GenericInput', {\n      attrs: {\n        \"col\": col,\n        \"row\": _vm.row,\n        \"onChange\": _vm.updateRow.bind(null, _vm.row.id, col.name)\n      }\n    })], 1)\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"destroy\",\n    on: {\n      \"click\": function($event) {\n        _vm.destroy()\n      }\n    }\n  }, [_c('Delete', {\n    staticClass: \"button\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-306f4abb!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/EditBar.vue\n// module id = 280\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ModalBase', {\n    attrs: {\n      \"title\": (\"Save \" + _vm.saveWhat + \" as\")\n    },\n    on: {\n      \"close\": function($event) {\n        _vm.$emit('close')\n      }\n    }\n  }, [_c('span', {\n    staticClass: \"input-text\"\n  }, [_c('input', {\n    ref: \"downloadName\",\n    attrs: {\n      \"type\": \"text\",\n      \"id\": \"download-name\",\n      \"spellcheck\": \"false\"\n    },\n    domProps: {\n      \"value\": _vm.saveWhat.toLowerCase()\n    },\n    on: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13, $event.key)) { return null; }\n        _vm.downloadFile($event)\n      }\n    }\n  }), _vm._v(\"\\n    .json\\n    \"), _c('button', {\n    staticClass: \"download-button\",\n    on: {\n      \"click\": _vm.downloadFile\n    }\n  }, [_vm._v(\"Download\")])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-3c3490f3!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Modals/SaveAsModal.vue\n// module id = 281\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"map-container\"\n    }\n  }, [_c('div', {\n    ref: \"map\",\n    style: ({\n      'pointer-events': _vm.tool === 'Map' ? 'all' : 'none'\n    }),\n    attrs: {\n      \"id\": \"map\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.tool === 'Map'),\n      expression: \"tool === 'Map'\"\n    }],\n    attrs: {\n      \"id\": \"autocomplete\"\n    }\n  }, [_c('span', {\n    staticClass: \"input-text\"\n  }, [_c('input', {\n    ref: \"addressSearch\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"Search for a location\"\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.tool === 'Map'),\n      expression: \"tool === 'Map'\"\n    }],\n    attrs: {\n      \"id\": \"help-text\"\n    }\n  }, [_c('p', [_vm._v(\"Drag the map and/or search to set desired location.  Use alt+shift to rotate the north axis. Click 'Done' when finished.\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": _vm.finishSetup\n    }\n  }, [_vm._v(\"Done\")])]), _vm._v(\" \"), (_vm.mapModalVisible && !_vm.mapInitialized) ? _c('map-modal', {\n    on: {\n      \"close\": function($event) {\n        _vm.mapModalVisible = false;\n        _vm.showReticle()\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('svg', {\n    attrs: {\n      \"id\": \"reticle\"\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-3d99eee3!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Canvas/Map.vue\n// module id = 282\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('nav', {\n    attrs: {\n      \"id\": \"toolbar\"\n    }\n  }, [_c('section', {\n    attrs: {\n      \"id\": \"top\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"navigation-head\"\n    }\n  }, [(_vm.showImportExport) ? _c('div', {\n    staticClass: \"import-export-buttons\"\n  }, [_c('input', {\n    ref: \"importLibrary\",\n    attrs: {\n      \"type\": \"file\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.importDataAsFile($event, 'library')\n      }\n    }\n  }), _vm._v(\" \"), _c('input', {\n    ref: \"importInput\",\n    attrs: {\n      \"type\": \"file\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.importDataAsFile($event, 'floorplan')\n      }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"title\": \"open floorplan\"\n    }\n  }, [_c('open-floorplan-svg', {\n    staticClass: \"button\",\n    attrs: {\n      \"id\": \"import\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.$refs.importInput.click()\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"title\": \"save floorplan\"\n    }\n  }, [_c('save-floorplan-svg', {\n    staticClass: \"button\",\n    attrs: {\n      \"id\": \"export\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.exportData($event)\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"title\": \"import library\"\n    }\n  }, [_c('import-library-svg', {\n    staticClass: \"button\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.$refs.importLibrary.click()\n      }\n    }\n  })], 1)]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"undo-redo\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"title\": \"undo\"\n    }\n  }, [_c('undo-svg', {\n    staticClass: \"button\",\n    class: {\n      'disabled': !_vm.timetravelInitialized\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.undo($event)\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"title\": \"redo\"\n    }\n  }, [_c('redo-svg', {\n    staticClass: \"button\",\n    class: {\n      'disabled': !_vm.timetravelInitialized\n    },\n    attrs: {\n      \"disabled\": !_vm.timetravelInitialized\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.redo($event)\n      }\n    }\n  })], 1)])]), _vm._v(\" \"), _c('ul', {\n    attrs: {\n      \"id\": \"mode-tabs\"\n    }\n  }, [_c('li', {\n    staticClass: \"tab\",\n    class: {\n      active: _vm.modeTab === 'floorplan'\n    },\n    attrs: {\n      \"data-modetab\": \"floorplan\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.modeTab = 'floorplan'\n      }\n    }\n  }, [_c('span', [_vm._v(\"\\n          Floorplan\\n          \"), _c('tab-floorplan-svg', {\n    staticClass: \"icon\"\n  })], 1)]), _vm._v(\" \"), _c('li', {\n    staticClass: \"tab\",\n    class: {\n      active: _vm.modeTab === 'assign'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.modeTab = 'assign'\n      }\n    }\n  }, [_c('span', [_vm._v(\"\\n          Assignments\\n          \"), _c('tab-assign-svg', {\n    staticClass: \"icon\"\n  })], 1)]), _vm._v(\" \"), _c('li', {\n    staticClass: \"tab\",\n    class: {\n      active: _vm.modeTab === 'components'\n    },\n    attrs: {\n      \"data-modetab\": \"components\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.modeTab = 'components'\n      }\n    }\n  }, [_c('span', [_vm._v(\"\\n          Components\\n          \"), _c('tool-component-svg', {\n    staticClass: \"icon\"\n  })], 1)]), _vm._v(\" \"), _vm._m(0, false, false)]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"grid-settings\"\n    }\n  }, [_c('div', {\n    staticClass: \"input-checkbox\"\n  }, [_c('label', [_vm._v(\"Story Below\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.previousStoryVisible),\n      expression: \"previousStoryVisible\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.previousStoryVisible) ? _vm._i(_vm.previousStoryVisible, null) > -1 : (_vm.previousStoryVisible)\n    },\n    on: {\n      \"change\": function($event) {\n        var $$a = _vm.previousStoryVisible,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$el.checked) {\n            $$i < 0 && (_vm.previousStoryVisible = $$a.concat([$$v]))\n          } else {\n            $$i > -1 && (_vm.previousStoryVisible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.previousStoryVisible = $$c\n        }\n      }\n    }\n  })]), _vm._v(\" \"), (_vm.mapEnabled) ? _c('div', {\n    staticClass: \"input-checkbox\"\n  }, [_c('label', [_vm._v(\"map\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.mapVisible),\n      expression: \"mapVisible\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.mapVisible) ? _vm._i(_vm.mapVisible, null) > -1 : (_vm.mapVisible)\n    },\n    on: {\n      \"change\": function($event) {\n        var $$a = _vm.mapVisible,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$el.checked) {\n            $$i < 0 && (_vm.mapVisible = $$a.concat([$$v]))\n          } else {\n            $$i > -1 && (_vm.mapVisible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.mapVisible = $$c\n        }\n      }\n    }\n  })]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"input-checkbox\"\n  }, [_c('label', [_vm._v(\"grid\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.gridVisible),\n      expression: \"gridVisible\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.gridVisible) ? _vm._i(_vm.gridVisible, null) > -1 : (_vm.gridVisible)\n    },\n    on: {\n      \"change\": function($event) {\n        var $$a = _vm.gridVisible,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$el.checked) {\n            $$i < 0 && (_vm.gridVisible = $$a.concat([$$v]))\n          } else {\n            $$i > -1 && (_vm.gridVisible = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.gridVisible = $$c\n        }\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"input-number\"\n  }, [_c('label', [_vm._v(\"spacing\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number.lazy\",\n      value: (_vm.spacing),\n      expression: \"spacing\",\n      modifiers: {\n        \"number\": true,\n        \"lazy\": true\n      }\n    }],\n    domProps: {\n      \"value\": (_vm.spacing)\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.spacing = _vm._n($event.target.value)\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  }), _vm._v(\" \"), (!_vm.allowSettingUnits) ? _c('label', [_vm._v(_vm._s(_vm.rwUnits))]) : _vm._e()]), _vm._v(\" \"), (_vm.allowSettingUnits) ? _c('PrettySelect', {\n    ref: \"unitsSelect\",\n    attrs: {\n      \"options\": ['ft', 'm'],\n      \"value\": _vm.rwUnits\n    },\n    on: {\n      \"change\": _vm.updateUnits\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"title\": \"settings\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.showGroundPropsModal = true\n      }\n    }\n  }, [_c('SettingsGear', {\n    staticClass: \"button\"\n  })], 1)], 1)]), _vm._v(\" \"), _c('section', {\n    class: _vm.modeTab,\n    attrs: {\n      \"id\": \"bottom\"\n    }\n  }, [(_vm.modeTab === 'floorplan') ? [_c('div', {\n    attrs: {\n      \"id\": \"instructions\"\n    }\n  }, [_vm._v(\"Draw a floorplan and import images\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"tools-list tools\",\n    attrs: {\n      \"id\": \"drawing-tools\"\n    }\n  }, [_c('div', {\n    class: {\n      active: _vm.tool === 'Rectangle'\n    },\n    attrs: {\n      \"data-tool\": \"Rectangle\",\n      \"title\": \"Rectangle\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.tool = 'Rectangle'\n      }\n    }\n  }, [_c('tool-draw-rectangle-svg', {\n    staticClass: \"button\"\n  })], 1), _vm._v(\" \"), _c('div', {\n    class: {\n      active: _vm.tool === 'Polygon'\n    },\n    attrs: {\n      \"data-tool\": \"Polygon\",\n      \"title\": \"Polygon\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.tool = 'Polygon'\n      }\n    }\n  }, [_c('tool-draw-polygon-svg', {\n    staticClass: \"button\"\n  })], 1), _vm._v(\" \"), _c('div', {\n    class: {\n      active: _vm.tool === 'Fill'\n    },\n    attrs: {\n      \"data-tool\": \"Fill\",\n      \"title\": \"Fill\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.tool = 'Fill'\n      }\n    }\n  }, [_c('tool-fill-svg', {\n    staticClass: \"button\"\n  })], 1), _vm._v(\" \"), _c('div', {\n    class: {\n      active: _vm.tool === 'Eraser'\n    },\n    attrs: {\n      \"data-tool\": \"Eraser\",\n      \"title\": \"Eraser\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.tool = 'Eraser'\n      }\n    }\n  }, [_c('tool-erase-svg', {\n    staticClass: \"button\"\n  })], 1), _vm._v(\" \"), _c('div', {\n    class: {\n      active: _vm.tool === 'Image'\n    },\n    attrs: {\n      \"data-tool\": \"Image\",\n      \"title\": \"Image\"\n    },\n    on: {\n      \"click\": _vm.setImageTool\n    }\n  }, [_c('tool-image-svg', {\n    staticClass: \"button\"\n  })], 1)])] : _vm._e(), _vm._v(\" \"), (_vm.modeTab === 'components') ? [_c('div', {\n    attrs: {\n      \"id\": \"instructions\"\n    }\n  }, [(!_vm.currentComponentDefinition) ? _c('span', [_vm._v(\"Add fenestration, daylighting, and PV\")]) : _c('span', [_vm._v(\"Click to place a \" + _vm._s(_vm.currentComponentDefinition.name))])]), _vm._v(\" \"), _c('ComponentInstanceEditBar')] : _vm._e(), _vm._v(\" \"), (_vm.modeTab === 'assign') ? [_c('div', {\n    attrs: {\n      \"id\": \"instructions\"\n    }\n  }, [_vm._v(\"Assign thermal zones, etc, to spaces\")])] : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"grid-tools\"\n    }\n  }, [_c('RenderByDropdown'), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"title\": \"zoom to fit\"\n    }\n  }, [_c('ZoomToFitSvg', {\n    staticClass: \"button\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.zoomToFit($event)\n      }\n    }\n  })], 1)], 1)], 2), _vm._v(\" \"), _c('section', {\n    staticClass: \"modals\"\n  }, [(_vm.showSaveModal) ? _c('SaveAsModal', {\n    attrs: {\n      \"saveWhat\": _vm.thingWereSaving,\n      \"dataToDownload\": _vm.dataToDownload\n    },\n    on: {\n      \"close\": function () {\n        _vm.showSaveModal = false;\n        _vm.thingWereSaving = '';\n      }\n    }\n  }) : (_vm.showGroundPropsModal) ? _c('Settings', {\n    on: {\n      \"close\": function($event) {\n        _vm.showGroundPropsModal = false\n      }\n    }\n  }) : _vm._e()], 1)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('li', [_c('span')])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-40563b8d!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Toolbar.vue\n// module id = 283\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.showInstanceEditor) ? _c('EditBar', {\n    attrs: {\n      \"row\": _vm.componentInstance,\n      \"columns\": _vm.visibleColumns,\n      \"updateRow\": _vm.modifyComponentInstance,\n      \"destroy\": _vm.destroyComponent\n    }\n  }) : _vm._e()\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-46185816!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ComponentInstanceEditBar.vue\n// module id = 284\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"editable-table\"\n  }, [_c('table', {\n    staticClass: \"table\",\n    attrs: {\n      \"cellspacing\": \"0\"\n    }\n  }, [_c('thead', {\n    attrs: {\n      \"cellspacing\": \"0\"\n    }\n  }, [_c('tr', [_c('th', {\n    staticClass: \"select\"\n  }), _vm._v(\" \"), _vm._l((_vm.visibleColumns), function(col) {\n    return _c('th', {\n      on: {\n        \"click\": function($event) {\n          _vm.sortBy(col.name)\n        }\n      }\n    }, [_c('span', [_vm._v(_vm._s(col.displayName))]), _vm._v(\" \"), _c('svg', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (col.name === _vm.sortKey && _vm.sortDescending),\n        expression: \"col.name === sortKey && sortDescending\"\n      }],\n      attrs: {\n        \"viewBox\": \"0 0 10 3\",\n        \"xmlns\": \"http://www.w3.org/2000/svg\"\n      }\n    }, [_c('path', {\n      attrs: {\n        \"d\": \"M0 .5l5 5 5-5H0z\"\n      }\n    })]), _vm._v(\" \"), _c('svg', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (col.name === _vm.sortKey && !_vm.sortDescending),\n        expression: \"col.name === sortKey && !sortDescending\"\n      }],\n      attrs: {\n        \"viewBox\": \"0 0 10 3\",\n        \"xmlns\": \"http://www.w3.org/2000/svg\"\n      }\n    }, [_c('path', {\n      attrs: {\n        \"d\": \"M0 5.5l5-5 5 5H0z\"\n      }\n    })])])\n  }), _vm._v(\" \"), _c('th', {\n    staticClass: \"destroy\"\n  })], 2)]), _vm._v(\" \"), _c('tbody', {\n    attrs: {\n      \"cellspacing\": \"0\"\n    }\n  }, _vm._l((_vm.sortedRows), function(row) {\n    return _c('tr', {\n      key: row.id,\n      class: {\n        selected: _vm.selectedItemId === row.id\n      }\n    }, [_c('td', {\n      staticClass: \"select\",\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          _vm.selectRow(row)\n        }\n      }\n    }, [_c('input', {\n      attrs: {\n        \"type\": \"radio\"\n      },\n      domProps: {\n        \"checked\": _vm.selectedItemId === row.id\n      }\n    })]), _vm._v(\" \"), _vm._l((_vm.visibleColumns), function(col) {\n      return _c('td', {\n        key: col.name,\n        attrs: {\n          \"data-column\": col.name\n        }\n      }, [_c('generic-input', {\n        attrs: {\n          \"col\": col,\n          \"row\": row,\n          \"onChange\": _vm.updateRow.bind(null, row.id, col.name)\n        }\n      })], 1)\n    }), _vm._v(\" \"), _c('td', {\n      staticClass: \"destroy\",\n      attrs: {\n        \"title\": \"delete\"\n      },\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          _vm.deleteRow(row)\n        }\n      }\n    }, [_c('Delete', {\n      staticClass: \"button\"\n    })], 1)], 2)\n  }))])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-4b0808dc!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/EditableTable.vue\n// module id = 285\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('input', {\n    ref: \"imageInput\",\n    staticStyle: {\n      \"display\": \"none\"\n    },\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": \"image/jpeg,image/png,image/svg,image/gif\",\n      \"id\": \"upload-image-input\"\n    },\n    on: {\n      \"change\": _vm.uploadImage\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-5190cdce!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ImageUpload.vue\n// module id = 286\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: {\n      'expandable-drawer': true,\n      expanded: _vm.expanded,\n    }\n  }, [_c('p', {\n    staticClass: \"title\",\n    on: {\n      \"click\": function($event) {\n        _vm.expanded = !_vm.expanded\n      }\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.caret) + \" \" + _vm._s(_vm.title) + \"\\n  \")]), _vm._v(\" \"), (_vm.expanded) ? _c('p', [_vm._t(\"default\")], 2) : _vm._e()])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-5252b93a!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ExpandableDrawer.vue\n// module id = 287\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"layout-navigation\"\n    }\n  }, [_c('nav', {\n    attrs: {\n      \"id\": \"navigation\"\n    }\n  }, [_c('section', {\n    attrs: {\n      \"id\": \"selections\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"list\"\n    }\n  }, [_c('Library', {\n    attrs: {\n      \"objectTypes\": ['stories'],\n      \"mode\": 'stories',\n      \"compact\": _vm.libraryExpanded !== 'stories'\n    },\n    on: {\n      \"toggleCompact\": function($event) {\n        _vm.libraryExpanded = (_vm.libraryExpanded === 'stories' ? false : 'stories')\n      }\n    }\n  }), _vm._v(\" \"), _c('Library', {\n    attrs: {\n      \"objectTypes\": _vm.objectTypesForTab,\n      \"mode\": _vm.subselectionType,\n      \"searchAvailable\": true,\n      \"compact\": _vm.libraryExpanded !== 'subselection'\n    },\n    on: {\n      \"changeMode\": function (newMode) {\n        _vm.subselectionType = newMode;\n      },\n      \"toggleCompact\": function($event) {\n        _vm.libraryExpanded = (_vm.libraryExpanded === 'subselection' ? false : 'subselection')\n      }\n    }\n  })], 1)])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-64bc751c!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Navigation.vue\n// module id = 288\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"library-select\"\n  }, [_c('div', {\n    staticClass: \"rows\"\n  }, _vm._l((_vm.rows), function(item) {\n    return _c('div', {\n      key: item.id,\n      class: {\n        active: _vm.selectedItemId === item.id\n      },\n      attrs: {\n        \"data-id\": item.id\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.selectItem(item)\n        }\n      }\n    }, [_c('span', {\n      style: ({\n        'background-color': item.color\n      })\n    }), _vm._v(\"\\n        \" + _vm._s(item.name) + \"\\n        \"), _c('a', {\n      staticClass: \"destroy\",\n      attrs: {\n        \"title\": \"delete\"\n      },\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          _vm.destroyItem(item)\n        }\n      }\n    }, [_c('Delete', {\n      staticClass: \"button\"\n    })], 1)])\n  }))])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-6bbb2c29!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/LibrarySelect.vue\n// module id = 289\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"inspector\"\n    }\n  }, [_c('section', {\n    staticClass: \"list\",\n    attrs: {\n      \"id\": \"geometry-list\"\n    }\n  }, [_vm._l((_vm.currentStoryGeometry.faces), function(face) {\n    return (!_vm.currentSpace && !_vm.currentShading) ? [_c('header', [_c('h3', [_vm._v(\"Face \" + _vm._s(face.id))])]), _vm._v(\" \"), _vm._l((face.edgeRefs), function(edgeRef) {\n      return _c('div', {\n        staticClass: \"list-item\"\n      }, [_vm._v(\"\\n        edge \" + _vm._s(edgeRef.edge_id) + \" \" + _vm._s(edgeRef.reverse ? 'reversed ' : '') + \"\\n        \"), _c('br'), _vm._v(\"startpoint \" + _vm._s(_vm.startpoint(edgeRef)) + \"\\n        \"), _c('br'), _vm._v(\"endpoint \" + _vm._s(_vm.endpoint(edgeRef)) + \"\\n      \")])\n    })] : _vm._e()\n  }), _vm._v(\" \"), (_vm.currentSubSelectionFace) ? [_c('header', [_c('h3', [_vm._v(\"Face \" + _vm._s(_vm.currentSubSelectionFace.id) + \" on \" + _vm._s(_vm.currentSpace ? _vm.currentSpace.name : _vm.currentShading.name))])]), _vm._v(\" \"), _vm._l((_vm.currentSubSelectionFace.edgeRefs), function(edgeRef) {\n    return _c('div', {\n      staticClass: \"list-item\"\n    }, [_vm._v(\"\\n        edge \" + _vm._s(edgeRef.edge_id) + \" \" + _vm._s(edgeRef.reverse ? 'reversed ' : '') + \"\\n        \"), _c('br'), _vm._v(\"startpoint \" + _vm._s(_vm.startpoint(edgeRef)) + \"\\n        \"), _c('br'), _vm._v(\"endpoint \" + _vm._s(_vm.endpoint(edgeRef)) + \"\\n      \")])\n  })] : _vm._e()], 2)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-73ec12ee!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Inspector.vue\n// module id = 290\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"editable-select-list\",\n    class: {\n      'expanded': !_vm.compact\n    },\n    attrs: {\n      \"data-object-type\": _vm.selectedObjectType\n    }\n  }, [_c('div', {\n    staticClass: \"controls\"\n  }, [_c('div', {\n    staticClass: \"control-group\"\n  }, [(_vm.objectTypes.length > 1) ? _c('PrettySelect', {\n    attrs: {\n      \"options\": _vm.objectTypes,\n      \"value\": _vm.selectedObjectType\n    },\n    on: {\n      \"change\": function (val) { return _vm.$emit('selectObjectType', val); }\n    }\n  }) : _c('span', [_vm._v(_vm._s(_vm.objectTypes[0].display || _vm.objectTypes[0].displayName))]), _vm._v(\" \"), (_vm.addRow) ? _c('a', {\n    staticClass: \"add-new\",\n    attrs: {\n      \"title\": \"Create new\"\n    },\n    on: {\n      \"click\": _vm.addRow\n    }\n  }, [_c('AddNew', {\n    staticClass: \"button\"\n  })], 1) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"control-group\"\n  }, [_c('a', {\n    attrs: {\n      \"title\": _vm.compact ? 'expand' : 'contract'\n    },\n    on: {\n      \"click\": _vm.toggleCompact\n    }\n  }, [_c('DoubleArrows', {\n    staticClass: \"button\",\n    attrs: {\n      \"transform\": _vm.compact ? '' : 'scale(-1, 1)'\n    }\n  })], 1)])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"input-text search-spot\"\n  }, [(_vm.searchAvailable) ? _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.search),\n      expression: \"search\"\n    }],\n    staticClass: \"search-bar\",\n    attrs: {\n      \"placeholder\": \"search\"\n    },\n    domProps: {\n      \"value\": (_vm.search)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.search = $event.target.value\n      }\n    }\n  }) : _vm._e()]), _vm._v(\" \"), (_vm.compact) ? _c('LibrarySelect', {\n    attrs: {\n      \"rows\": _vm.searchedRows,\n      \"selectItem\": _vm.selectRow,\n      \"destroyItem\": _vm.destroyRow,\n      \"selectedItemId\": _vm.selectedRowId\n    }\n  }) : _c('EditableTable', {\n    attrs: {\n      \"selectRow\": _vm.selectRow,\n      \"selectedItemId\": _vm.selectedRowId,\n      \"columns\": _vm.visibleColumns,\n      \"rows\": _vm.searchedRows,\n      \"deleteRow\": _vm.destroyRow,\n      \"updateRow\": _vm.editRow\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-746cecc8!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/EditableSelectList.vue\n// module id = 291\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (!_vm.isChrome) ? _c('p', {\n    staticClass: \"non-chrome-warning\"\n  }, [_vm._v(\"\\n  Warning. This web-app is currently only tested against recent versions of Chrome. \\n\")]) : _vm._e()\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-7f3bef5a!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/NonChromeWarning.vue\n// module id = 292\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"render-by\"\n  }, [_c('PrettySelect', {\n    attrs: {\n      \"label\": \"View By\",\n      \"options\": _vm.renderableOptions,\n      \"value\": _vm.currentMode\n    },\n    on: {\n      \"change\": function (val) {\n        _vm.currentMode = val\n      }\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-8cb59cc8!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/RenderByDropdown.vue\n// module id = 293\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"input-select\"\n  }, [(_vm.label) ? _c('label', [_vm._v(_vm._s(_vm.label))]) : _vm._e(), _vm._v(\" \"), _c('select', {\n    attrs: {\n      \"disabled\": _vm.disabled\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.$emit('change', $event.target.value)\n      }\n    }\n  }, _vm._l((_vm.normalizedOpts), function(opt) {\n    return _c('option', {\n      domProps: {\n        \"value\": opt.val,\n        \"selected\": opt.val === _vm.value\n      }\n    }, [_vm._v(_vm._s(opt.display))])\n  })), _vm._v(\" \"), _c('svg', {\n    attrs: {\n      \"xmlns\": \"http://www.w3.org/2000/svg\",\n      \"viewBox\": \"0 0 13 14\",\n      \"height\": \"10px\"\n    }\n  }, [_c('path', {\n    attrs: {\n      \"d\": \"M.5 0v14l11-7-11-7z\",\n      \"transform\": \"translate(13) rotate(90)\"\n    }\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-8f6e6820!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/PrettySelect.vue\n// module id = 294\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"info\"\n  }, [_c('InfoIcon', {\n    staticClass: \"button\"\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"tooltip-text\"\n  }, [_vm._t(\"default\")], 2)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-987d60e8!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Info.vue\n// module id = 295\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('EditableSelectList', {\n    attrs: {\n      \"selectedObjectType\": _vm.mode,\n      \"objectTypes\": _vm.objectTypesDisplay,\n      \"rows\": _vm.rows,\n      \"columns\": _vm.columns,\n      \"selectedRowId\": _vm.selectedObject && _vm.selectedObject.id,\n      \"selectRow\": function (row) {\n        _vm.selectedObject = row;\n      },\n      \"addRow\": _vm.addRowPermitted && _vm.createObject,\n      \"editRow\": _vm.modifyObject,\n      \"destroyRow\": _vm.destroyObject,\n      \"searchAvailable\": _vm.searchAvailable,\n      \"compact\": _vm.compact\n    },\n    on: {\n      \"toggleCompact\": function (c) { return _vm.$emit('toggleCompact', c); },\n      \"selectObjectType\": _vm.changeMode\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-a0779666!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Library.vue\n// module id = 296\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"gridParent\",\n    class: {\n      'reduce-ticks': _vm.reduceTicks\n    },\n    style: ({\n      'pointer-events': (_vm.currentTool === 'Drag' || _vm.currentTool === 'Map') ? 'none' : 'auto'\n    }),\n    attrs: {\n      \"id\": \"grid\"\n    }\n  }, [_c('svg', {\n    ref: \"grid\",\n    attrs: {\n      \"id\": \"svg-grid\"\n    }\n  }, [_c('defs', _vm._l((_vm.crosshatchModifiers), function(color, modifier) {\n    return _c('pattern', {\n      attrs: {\n        \"id\": (\"crosshatch\" + modifier),\n        \"patternUnits\": \"userSpaceOnUse\",\n        \"width\": \"10\",\n        \"height\": \"10\"\n      }\n    }, [_c('path', {\n      attrs: {\n        \"d\": \"M-1,1 l2,-2\\n                 M0,10 l10,-10\\n                 M9,11 l2,-2\",\n        \"stroke\": color,\n        \"stroke-width\": \"2\"\n      }\n    })])\n  })), _vm._v(\" \"), _c('g', {\n    staticClass: \"axis axis--x\"\n  }), _vm._v(\" \"), _c('g', {\n    staticClass: \"axis axis--y\"\n  }), _vm._v(\" \"), _c('g', {\n    staticClass: \"images\",\n    attrs: {\n      \"data-transform-plz\": \"\"\n    }\n  }), _vm._v(\" \"), _c('g', {\n    staticClass: \"polygons\",\n    attrs: {\n      \"data-transform-plz\": \"\"\n    }\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-a8e9dfbe!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Grid/Grid.vue\n// module id = 297\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: (\"tool_\" + (_vm.tool.toLowerCase())),\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('toolbar', {\n    class: {\n      'disabled-component': _vm.tool === 'Map'\n    }\n  }), _vm._v(\" \"), _c('div', {\n    class: {\n      'nav-on-top': _vm.navigationExpanded\n    },\n    attrs: {\n      \"id\": \"layout-main\"\n    }\n  }, [_c('navigation', {\n    class: {\n      'disabled-component': _vm.tool === 'Map'\n    },\n    on: {\n      \"expanded\": function (val) {\n        _vm.navigationExpanded = val;\n      }\n    }\n  }), _vm._v(\" \"), _c('main', [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.error || _vm.success),\n      expression: \"error || success\"\n    }],\n    class: {\n      error: _vm.error, success: _vm.success\n    },\n    attrs: {\n      \"id\": \"alert-text\"\n    }\n  }, [_c('p', [_vm._v(_vm._s(_vm.error || _vm.success))])]), _vm._v(\" \"), _c('canvas-view'), _vm._v(\" \"), _c('grid-view')], 1)], 1), _vm._v(\" \"), _c('ImageUpload')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-c1b60834!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 298\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('aside', [_c('div', {\n    staticClass: \"overlay\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"modal\"\n  }, [_vm._m(0, false, false), _vm._v(\" \"), _c('NonChromeWarning'), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('p', [_c('a', {\n    staticClass: \"quickstart-action new-floorplan\",\n    on: {\n      \"click\": function($event) {\n        _vm.mapEnabled = false;\n        _vm.mapVisible = false;\n        _vm.$emit('close')\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"New\")]), _vm._v(\" \"), _c('QuickstartIconNewFloorplan'), _vm._v(\" \"), _c('div', {\n    staticClass: \"explanation\"\n  }, [_vm._v(\"Create a new floorplan\")])], 1)]), _vm._v(\" \"), _c('p', [_c('a', {\n    staticClass: \"quickstart-action\",\n    attrs: {\n      \"disabled\": !_vm.online\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.mapEnabled = true;\n        _vm.tool = 'Map';\n        _vm.$emit('close')\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"New With Map\")]), _vm._v(\" \"), _c('QuickstartIconNewMapFloorplan'), _vm._v(\" \"), _c('div', {\n    staticClass: \"explanation\"\n  }, [_vm._v(\"Create a new floorplan with a map\")])], 1)]), _vm._v(\" \"), _c('p', [_c('a', {\n    staticClass: \"quickstart-action open-floorplan\",\n    attrs: {\n      \"id\": \"import\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.$refs.importInput.click()\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Open\")]), _vm._v(\" \"), _c('QuickstartIconOpenFloorplan'), _vm._v(\" \"), _c('div', {\n    staticClass: \"explanation\"\n  }, [_vm._v(\"Open an existing floorplan\")])], 1)]), _vm._v(\" \"), _c('input', {\n    ref: \"importInput\",\n    attrs: {\n      \"id\": \"importInput\",\n      \"type\": \"file\"\n    },\n    on: {\n      \"change\": _vm.importFloorplanAsFile\n    }\n  })])], 1)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('header', [_c('h2', [_vm._v(\"Quickstart\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-d56d6c28!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Modals/MapModal.vue\n// module id = 299\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18.4 17.7V5H.6v13h18.2l-.4-.3zM1.6 6h15.8v11L13 13.7l-2.3 1.7L7 11.5 1.8 17h-.2V6z\",\"fill\":\"#fff\"}}),_c('circle',{attrs:{\"cx\":\"9.7\",\"cy\":\"5.4\",\"fill\":\"#39b54a\",\"r\":\"5\"}}),_c('path',{attrs:{\"d\":\"M11.5 4.5h-1.2V3.3c0-.3-.2-.5-.5-.5h-.6c-.3 0-.5.2-.5.5v1.2H7.5c-.3 0-.5.2-.5.5v.6c0 .2.2.4.5.4h1.2v1.2c0 .3.2.5.5.5h.6c.3 0 .5-.2.5-.5V6h1.2c.3 0 .5-.2.5-.5V5c-.1-.3-.3-.5-.5-.5z\",\"fill\":\"#58595b\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/add_image.svg\n// module id = 300\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{attrs:{\"cx\":\"10.5\",\"cy\":\"10\",\"fill\":\"#39b54a\",\"r\":\"7.9\"}}),_c('path',{attrs:{\"d\":\"M13.6 8.8h-1.9V6.9c0-.4-.3-.8-.8-.8H10c-.4 0-.8.3-.8.8v1.9H7.3c-.4 0-.8.3-.8.8v.9c0 .4.3.8.8.8h1.9v1.9c0 .4.3.8.8.8h.9c.4 0 .8-.3.8-.8v-1.9h1.9c.4 0 .8-.3.8-.8v-1c-.1-.4-.4-.7-.8-.7z\",\"fill\":\"#58595b\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/add_new.svg\n// module id = 301\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM12.9 5.1c0-.9-.7-1.7-1.7-1.7-.9 0-1.7.7-1.7 1.7 0 .9.7 1.7 1.7 1.7.9 0 1.7-.8 1.7-1.7zm5.3 15.5h-2.9v1.1h7v-1.1h-1.7v-7.3h1.7v-1.1h-9.7v1.1h5.6v7.3zM6 16.7v.1c0 .3.2.5.5.5h1.6v1.5h.3v1l-2 .6v.5h.2v.1c-.1.1-.3.2-.3.4s.2.4.4.4.4-.2.4-.4-.1-.3-.3-.4v-.1l1.6-.2v.1h.1v.6h.2v.4H9v-1h.1v-.1l1.5.2v.1c-.1.1-.3.2-.3.4s.2.4.4.4.4-.2.4-.4-.1-.3-.3-.4v-.1h.2v-.5l-2-.5v-1h.3v-1.5h1.9c.3 0 .5-.2.5-.5v-.1c0-.2-.1-.3-.2-.4h1.3l-.8 4c-.1.5.3 1.1.8 1.2.6.1 1.1-.2 1.2-.8l1.1-5.3v-.4c-.1-.6-.5-1-1.1-1h-3.2l.4-1.9h3.9c.2 0 .3 0 .5-.1h4.2v-.5c.1 0 .1-.1.2-.1l.5.2 1.9-5-.6-.2-1.9 4.9h-.1c-.1 0-.2.1-.2.2H16v-.1c0-.5-.4-.9-.9-.9h-3.5l.2-1c.2-.9-.4-1.7-1.3-1.9l-.5-.1c-.8-.4-1.6.1-1.8 1L7.7 11l-.1.7V10c0-.3-.2-.5-.5-.5h-.5c-.3 0-.6.2-.6.5v3.8c0 .3.2.5.5.5v1.8c-.3.1-.5.3-.5.6zm1-1c.1.2.3.4.5.5H7v-.5z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/assign_activity.svg\n// module id = 302\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zm-8.5-.2H6v-19h13v19zm-12.1-.9H18v-17H6.9v17z\"}}),_c('path',{attrs:{\"d\":\"M11.8 15.9h5.8v4.3h-5.8zm0-5.7h5.8v4.3h-5.8zm0-5.8h5.8v4.3h-5.8z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/assign_bldgmodule.svg\n// module id = 303\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM20.6 6.6c0-.1-.1-.2-.1-.3-.1.1-.1.2-.2.2-.7.8-1.3 1.7-2 2.5-.4.5-1 .6-1.5.2-.1-.1-.2-.2-.4-.3-.2-.2-.3-.4-.4-.7 0-.3.1-.6.3-.8.7-.8 1.3-1.7 2-2.5.1-.1.1-.2.2-.2-.1 0-.2 0-.3-.1-1.2-.2-2.5.3-3.4 1.3-.8 1-1 2.4-.6 3.6-.6.8-1.3 1.7-1.9 2.5L9.2 7.7c.2-.1.4-.3.6-.5 1.9-1.4 2.4-.2 2.9-.8.5-.6-2-2.2-4.1-.7-.1.2-.3.4-.5.5-.3-.2-.7-.3-1 0-.2.2-.3.5-.2.8-.6.5-1.1.8-1.3 1l-.1-.1c-.2-.3-.6-.3-.8-.1l-.7.5c-.3.2-.4.5-.2.8L5 10.8c.2.3.6.3.9.1l.7-.5c.3-.2.3-.6.1-.9.2-.2.7-.5 1.3-.9l3.4 4.7-.1.1c-.2.1-.3.3-.3.5-1.2 1.5-2.4 3.1-3.6 4.6-.2.3-.4.7-.3 1.1 0 .4.2.7.5 1 .1.1.2.2.4.3.6.5 1.5.4 2-.3.9-1.2 1.9-2.4 2.8-3.6l2.3 3.5c.3.4.8.4 1.1.2l2.2-1.6c.4-.3.4-.8.2-1.1l-3.4-4.1c.6-.7 1.1-1.5 1.7-2.2 1.2.2 2.4-.3 3.2-1.4.8-1.1 1-2.5.5-3.7z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/assign_constructions.svg\n// module id = 304\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM15.6 10.3l5.4 5.2L10.2 17zm-6.5 6.8l6-7.4-7.4-4-5.9 7.4z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/assign_roof.svg\n// module id = 305\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zM3 2.9v18h21v-18H3zm14.6 4H8.8l-2.6-2h14.1l-2.7 2zm-.6 2v6h-7v-6h7zm-9 .6v5.6l-3 2.6V7l3 2.5zm1.6 7.4h8.2l2.6 2H6.9l2.7-2zm9.4-1.8V8.8l3-2.6v11.4l-3-2.5z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/assign_thermalzone.svg\n// module id = 306\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M27.5 22l-3.3-5.5h6.7zm-6.4-8.9h-1.5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h1.5c.3 0 .5.2.5.5s-.2.5-.5.5zm-15.3 0H4.3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h1.5c.3 0 .5.2.5.5s-.2.5-.5.5zm6.9-6.3c-.3 0-.5-.2-.5-.5V4.8c0-.3.2-.5.5-.5s.5.2.5.5v1.5c0 .2-.2.5-.5.5zm0 14.8c-.3 0-.5-.2-.5-.5v-1.5c0-.3.2-.5.5-.5s.5.2.5.5v1.5c0 .2-.2.5-.5.5zm4.9-4.1l1.1 1m0 .5c-.1 0-.2 0-.3-.1l-1.1-1c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0l1.1 1c.2.2.2.5 0 .7-.1.1-.3.1-.4.1zM6.8 7l1.1 1.1m0 .5c-.1 0-.3 0-.3-.1l-1.1-1c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0l1.1 1c.2.2.2.5 0 .7-.2 0-.3.1-.4.1zm9.5-.7l1-1m-1 1.5c-.1 0-.3-.1-.4-.2-.2-.2-.2-.5 0-.7l1.1-1c.2-.2.5-.2.7 0 .2.2.2.5 0 .7l-1.1 1c-.1.2-.2.2-.3.2zm-10.9 10l1.1-1m-1.1 1.5c-.1 0-.3-.1-.4-.2-.1-.1-.1-.5.1-.7l1.1-1c.2-.2.5-.2.7 0 .2.2.2.5 0 .7l-1.1 1c-.1.2-.2.2-.4.2z\"}}),_c('ellipse',{attrs:{\"cx\":\"12.8\",\"cy\":\"12.9\",\"rx\":\"4.8\",\"ry\":\"4.6\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/components_daylighting.svg\n// module id = 307\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M6 2.9v19h13v-19H6zm12 1v8H7v-8h11zm-11 17v-8h11v8H7zM27.5 22l-3.3-5.5h6.7z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/components_window.svg\n// module id = 308\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M17 4.2l-5.1-2.9v5.8zm-8.9 0L3 1.3v5.8z\",\"fill\":\"#39b54a\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/double_arrows.svg\n// module id = 309\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"d\":\"M17.6 12V0h-12v12h12zM16 1.6v8.8H7.2V1.6H16zM3.2 13.6H1.6V16H4v-1.6h-.8zM1.6 5.6h1.6v-.8H4V3.2H1.6zM12.8 14.4H12V16h2.4v-2.4h-1.6zM5.6 14.4h1.6V16H5.6zM8.8 14.4h1.6V16H8.8zM1.6 10.4h1.6V12H1.6zM1.6 7.2h1.6v1.6H1.6z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/fill_icon.svg\n// module id = 310\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 99.999\"}},[_c('path',{attrs:{\"d\":\"M31.001 54.999h38a2 2 0 0 0 0-4h-38a2 2 0 0 0 0 4zM31.001 35.999h38a2 2 0 0 0 0-4h-38a2 2 0 0 0 0 4z\"}}),_c('path',{attrs:{\"d\":\"M95.001 70.007h-13V31.192c0-1.85-.853-3.594-2.31-4.73L53.812 6.269a5.999 5.999 0 0 0-7.36-.018l-26.12 20.193a6.003 6.003 0 0 0-2.33 4.748V70.006h-13v4h3v16.5c0 .824.675 1.5 1.5 1.5s1.5-.676 1.5-1.5v-16.5h2v16.5c0 .824.675 1.5 1.5 1.5s1.5-.676 1.5-1.5v-16.5h2v14.99c0 3.312 2.687 6 6 6h52c3.313 0 6-2.688 6-6v-14.99h2v16.5c0 .826.675 1.5 1.5 1.5s1.5-.674 1.5-1.5v-16.5h2v16.5c0 .826.675 1.5 1.5 1.5s1.5-.674 1.5-1.5v-16.5h3v-3.999zm-71-38.815l26.12-20.193 25.88 20.193V69.998h-52V31.192z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/ground_props_icon.svg\n// module id = 311\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[_c('path',{staticStyle:{\"text-indent\":\"0\",\"text-transform\":\"none\",\"block-progression\":\"tb\"},attrs:{\"d\":\"M20.3 8.5c-2.96 0-5.4 2.44-5.4 5.4v52.2c0 2.96 2.44 5.4 5.4 5.4h59.4c2.96 0 5.4-2.44 5.4-5.4V13.9c0-2.96-2.44-5.4-5.4-5.4zm0 3.6h59.4c1.028 0 1.8.772 1.8 1.8v37.04L70.166 39.607c-.684-.677-1.934-.65-2.588.056L56.244 51.784 38.666 34.206a1.814 1.814 0 0 0-2.475-.056L18.5 50.294V13.9c0-1.028.772-1.8 1.8-1.8zm35.1 3.6c-4.95 0-9 4.05-9 9s4.05 9 9 9 9-4.05 9-9-4.05-9-9-9zm0 3.6c3.004 0 5.4 2.396 5.4 5.4 0 3.004-2.396 5.4-5.4 5.4a5.373 5.373 0 0 1-5.4-5.4c0-3.004 2.396-5.4 5.4-5.4zM37.344 37.975l17.69 17.69c.684.678 1.934.65 2.588-.055l11.334-12.122L81.5 56.03V66.1c0 1.028-.772 1.8-1.8 1.8H20.3c-1.028 0-1.8-.772-1.8-1.8V55.188z\",\"overflow\":\"visible\",\"color\":\"#000\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/image_icon.svg\n// module id = 312\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11.6 18.4c-1-.6-1.5-.7-2.5-1.8-1.6-1.7-.9-2.4.1-2.2 1 .2 1.9-.9.8-2.4-1.1-1.5-2.4-1-2.5 0-.1 1.1-1 1.5-2.1-.5-.7-1.3-.7-1.8-.9-2.9 1.1-.2 1.5-.2 2.8-.9 2-1.1 1.6-2 .5-2.1-1.1-.1-1.5-1.4 0-2.5s2.6-.3 2.4.8c-.2 1 .5 1.7 2.2.1 1-1 1.2-1.5 1.8-2.5 1 .6 1.5.7 2.5 1.8 1.6 1.7.9 2.4-.1 2.2-1-.2-1.9.9-.8 2.4 1.1 1.5 2.4 1 2.5 0 .1-1.1 1-1.5 2.1.5.7 1.3.7 1.8.9 2.9l-9.7 7.1z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M19.9 7.6c-.5-.7-1-.9-1.3-.6-.2.1-.3.4-.4.8 0 .3-.2.6-.4.8-.5.4-1.3.3-2-.7v-.1c-.7-1-.6-1.9-.1-2.2.2-.2.5-.2.9-.2.4.1.7 0 .9-.1.3-.2.3-.7-.2-1.4-.1-.2-.3-.4-.5-.6-1-1-1.5-1.2-2.5-1.8-.1.1-.1.2-.2.4-.4.8-.6 1.2-1.6 2.1-.2.2-.4.4-.6.5-.9.6-1.4.5-1.6.2-.1-.2-.2-.5-.1-.9.1-.3 0-.7-.2-.9-.3-.4-1.1-.6-2.1.1h-.1c-1 .8-1.1 1.6-.8 2.1.2.2.4.4.8.4s.7.2.8.4c.3.4.2.8-.6 1.4-.2.1-.4.3-.7.4-1.3.7-1.7.7-2.9.9.2 1.1.2 1.6.9 2.9.1.3.3.5.4.7.5.7 1 .9 1.3.6.2-.1.3-.4.4-.8 0-.3.2-.6.4-.8.6-.3 1.4-.2 2.2.8v.1c.7 1 .6 1.8.1 2.2-.2.2-.6.2-.9.2-.4-.1-.7 0-.9.1-.3.2-.3.7.2 1.4.1.2.3.4.5.6 1 1 1.5 1.2 2.5 1.8l9.7-7.1c-.2-1.2-.2-1.7-.8-3-.2-.2-.3-.5-.5-.7zm-4.5.5c.3.4.7.7 1 .9.4.2.8.2 1.1.1.3-.1.5-.2.7-.5.2-.2.3-.5.3-.8 0-.3.2-.5.2-.5.1 0 .3.1.7.6.1.2.3.4.4.6.5 1 .6 1.5.8 2.2 0 .1 0 .2.1.3l-9.3 6.8c-.1 0-.2-.1-.2-.1-.7-.4-1.1-.6-1.9-1.4-.2-.2-.4-.4-.5-.6-.4-.5-.4-.8-.3-.8 0-.1.2-.1.6-.1.3.1.6 0 .9-.1.3-.1.5-.3.7-.6.2-.3.3-.7.2-1.1-.1-.4-.2-.8-.6-1.3v-.1c-.3-.3-.7-.6-1.1-.7-.4-.2-.8-.2-1.1-.1-.6.2-1 .7-1 1.3 0 .3-.2.5-.2.5-.1 0-.3-.1-.7-.6-.1-.2-.3-.4-.4-.6-.5-1-.6-1.5-.8-2.3V9h.1c.8-.2 1.4-.3 2.5-.9 1-.5 1.5-1 1.6-1.6.1-.3 0-.6-.2-.8-.2-.3-.6-.5-1.1-.5-.2 0-.4-.1-.5-.3-.1-.1-.1-.3-.1-.6.1-.2.2-.6.7-.9.5-.3.9-.5 1.3-.4.2 0 .3.1.4.2.1.2.1.4.1.6-.1.5 0 .9.2 1.2.2.2.4.4.7.4.5 0 1.2-.3 2-1.1.9-.9 1.2-1.4 1.6-2.1 0 0 0-.1.1-.1 0 0 .1 0 .1.1.7.4 1.1.6 1.9 1.4.2.2.4.4.5.6.4.5.4.8.3.8 0 .1-.2.1-.6.1-.6-.1-1.2.1-1.5.6-.2.3-.3.7-.2 1.1 0 .4.2.8.5 1.3z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M11.7 18.1c-1-.6-1.5-.7-2.5-1.8-1.6-1.7-.9-2.4.1-2.2 1 .2 1.9-.9.8-2.4-1.1-1.5-2.4-1-2.5 0-.1 1.1-1 1.5-2.1-.5-.7-1.3-.7-1.7-1-2.9 1.1-.2 1.6-.2 2.9-.9 2-1.1 1.6-2 .5-2.1-1.1-.1-1.5-1.4 0-2.5s2.6-.3 2.4.8c-.2 1 .5 1.7 2.2.1 1-1 1.2-1.5 1.8-2.5 1 .6 1.5.7 2.5 1.8 1.6 1.7.9 2.4-.1 2.2-1-.2-1.9.9-.8 2.4 1.1 1.5 2.4 1 2.5 0 .1-1.1 1-1.5 2.1.5.7 1.3.7 1.8.9 2.9l-9.7 7.1z\",\"fill\":\"#878787\"}}),_c('ellipse',{attrs:{\"cx\":\"18.9\",\"cy\":\"18.6\",\"fill\":\"#fff\",\"rx\":\"6.6\",\"ry\":\"6.6\",\"transform\":\"rotate(-45.001 18.912 18.561)\"}}),_c('path',{attrs:{\"d\":\"M16.4 20.9l5.2.4-.4-5.2-1.5 1.5-2.5-2.5-1.8 1.8 2.5 2.5z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/import_library.svg\n// module id = 313\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 100 100\"}},[_c('path',{attrs:{\"d\":\"M64.433 16.857l-1.932.693-1.527.913-1.024 1.091-.477 1.122v1.138l.489 1.084L60.997 24l1.55.95 1.937.688 2.186.331h2.301l2.192-.368 1.944-.69 1.512-.914 1.029-1.096.49-1.117-.016-1.139-.491-1.122-1.027-1.06-1.558-.955-1.937-.689-2.186-.331h-2.3z\"}}),_c('path',{attrs:{\"d\":\"M75.752 25.386c-.034.03-.057.066-.097.09L73.962 26.5c-.04.023-.083.036-.124.053-.015.006-.024.019-.04.024l-2.107.749c-.03.01-.06.008-.09.016-.021.005-.04.02-.062.023l-2.343.395a.936.936 0 0 1-.149.012h-2.442-.001a.842.842 0 0 1-.134-.01l-2.342-.356c-.025-.004-.043-.019-.067-.023-.033-.009-.066-.007-.1-.018l-2.106-.748c-.017-.007-.027-.02-.043-.026-.043-.018-.087-.03-.128-.055l-1.731-1.063c-.038-.023-.06-.059-.094-.087-.03-.024-.066-.036-.094-.065l-.294-.314v1.202l.492 1.123 1.027 1.093 1.548.914 1.95.694 2.185.367 2.302-.038 2.195-.333 1.932-.686 1.509-.947 1.035-1.103.492-1.124v-1.16l-.293.312c-.027.03-.063.041-.093.065zM43.926 2.813c.022-.002.04-.015.063-.015l1.358-.022-1.588-.838-1.612 1.145 1.715-.273c.022-.004.043.004.064.002z\"}}),_c('path',{attrs:{\"d\":\"M77.758 19.894l.087.197c.035.08.046.17.055.258.004.03.02.061.02.093l.018 1.515v4.408c-.002.06-.024.12-.038.18-.012.056-.014.118-.037.17v.005l-.63 1.437a.9.9 0 0 1-.16.243c-.003.004-.004.01-.009.013l-1.22 1.3c-.026.028-.061.04-.091.064-.032.025-.052.059-.087.081l-1.694 1.063c-.041.026-.087.04-.13.058-.019.008-.03.022-.047.028l-2.106.749c-.034.011-.068.01-.101.018-.024.005-.042.02-.066.023l-2.344.355a.788.788 0 0 1-.111.009l-.01.001-2.44.04H66.6a.916.916 0 0 1-.148-.013l-2.342-.394c-.024-.003-.042-.019-.063-.024-.03-.007-.059-.005-.09-.015l-2.106-.75c-.016-.005-.025-.018-.042-.023-.037-.017-.077-.027-.114-.05l-1.733-1.022c-.04-.024-.065-.062-.1-.091-.032-.025-.07-.038-.098-.069l-1.22-1.3c-.004-.004-.005-.01-.009-.013a.886.886 0 0 1-.16-.242l-.63-1.437-.001-.006c-.023-.053-.024-.113-.037-.17-.013-.06-.037-.12-.037-.18V20.491c0-.067.024-.134.04-.202.012-.05.011-.104.03-.15l.612-1.438c.021-.051.06-.087.091-.131.028-.044.045-.093.082-.132l1.22-1.3c.03-.03.068-.045.101-.071.033-.027.055-.062.093-.085l1.713-1.023c.025-.016.055-.016.08-.029.029-.013.048-.035.077-.046l2.091-.749c.026-.01.054-.004.08-.011s.048-.025.075-.03l2.342-.393c.026-.005.05.004.075.002s.049-.015.075-.015h1.356L55.183 7.97l.1.229.001.005c.023.054.025.114.038.17.013.06.035.12.036.18l.001.006V14.468c0 .067-.025.135-.041.203-.012.05-.012.102-.03.148h-.001l-.61 1.438a.88.88 0 0 1-.16.245c-.004.004-.005.01-.009.013l-1.2 1.299c-.027.03-.065.042-.096.067-.035.029-.059.068-.1.093l-1.733 1.043c-.035.022-.074.032-.111.049-.016.006-.026.019-.042.025l-2.088.768c-.031.013-.065.01-.096.018-.025.007-.046.022-.072.027l-2.342.374a.832.832 0 0 1-.141.012h-2.423a.84.84 0 0 1-.142-.012l-2.343-.374c-.023-.004-.04-.02-.063-.024-.031-.007-.063-.004-.094-.016l-2.125-.748c-.017-.006-.028-.019-.044-.026-.045-.019-.09-.032-.132-.058l-1.713-1.063c-.033-.02-.052-.054-.08-.077-.03-.022-.064-.034-.091-.061l-1.22-1.26c-.006-.005-.007-.013-.013-.018a.888.888 0 0 1-.166-.247l-.63-1.438c-.034-.08-.044-.167-.056-.255-.003-.031-.02-.063-.02-.095l-.019-1.515.002-.009-.002-.009.02-2.896v-.007l-.02-1.47.002-.012c0-.057.021-.115.034-.172.011-.06.015-.124.038-.179.001-.003 0-.007.002-.01l.134-.307-12.603 8.952 1.71-.274c.026-.004.048.005.073.003.025-.002.045-.014.07-.014h2.402c.025 0 .047.012.07.014.025.002.048-.006.072-.003l2.344.375c.026.004.046.02.072.027.026.006.052 0 .077.01l2.126.729c.031.01.054.035.083.05.03.013.062.015.09.03l1.732 1.044c.038.022.06.057.093.085.033.027.074.043.103.075l1.202 1.299c.034.037.048.083.075.124.026.04.063.07.084.116l.65 1.437c.002.004 0 .008.002.011.024.055.028.117.04.177.013.057.034.115.035.172l.002.011v5.912c0 .06-.024.12-.038.18-.012.057-.014.118-.037.17v.006l-.63 1.438a.906.906 0 0 1-.16.241c-.003.005-.004.01-.009.015l-1.2 1.28c-.028.028-.064.04-.095.065-.033.027-.056.064-.094.087l-1.712 1.043c-.038.023-.08.035-.119.052-.015.007-.025.02-.04.025l-2.107.768c-.033.011-.065.01-.097.017-.024.006-.044.021-.07.026l-2.344.374a.84.84 0 0 1-.14.012H24.612h-.002a.821.821 0 0 1-.14-.012l-2.363-.374c-.022-.004-.04-.018-.06-.023-.032-.007-.064-.005-.094-.016l-2.087-.728c-.016-.005-.026-.019-.04-.024-.043-.018-.087-.03-.128-.055l-1.732-1.044c-.039-.024-.062-.06-.097-.088-.03-.025-.067-.037-.095-.067l-1.202-1.28c-.002-.003-.003-.008-.007-.011a.896.896 0 0 1-.158-.239l-.65-1.456c0-.003 0-.006-.002-.007-.024-.056-.028-.122-.04-.182-.012-.057-.034-.113-.034-.17l-.002-.008V22.403c0-.051.021-.1.03-.151.012-.068.016-.139.042-.202l.131-.309-9.362 6.651L49.24 50.924c.3-.107.624-.05.868.154l36.973-26.26-9.322-4.924zm-19.27 15.875V40.16c0 .054-.021.099-.03.15-.011.066-.013.132-.039.198l-.002.002-.608 1.454a.895.895 0 0 1-.168.254c-.005.006-.007.014-.012.019l-1.22 1.28c-.026.027-.06.038-.089.06-.03.024-.048.058-.083.08l-1.712 1.082c-.046.029-.095.045-.143.064-.017.006-.027.02-.044.025l-2.107.73c-.027.009-.056.006-.083.014-.02.004-.035.018-.055.02l-2.343.413a.843.843 0 0 1-.155.015H47.173h-.001a.843.843 0 0 1-.156-.015l-2.344-.413c-.018-.003-.033-.016-.052-.02-.028-.007-.056-.005-.083-.014l-2.125-.729c-.017-.005-.026-.019-.042-.024-.045-.02-.092-.032-.134-.058l-1.713-1.043c-.038-.023-.062-.06-.095-.09-.03-.022-.065-.035-.092-.063l-1.22-1.299c-.003-.002-.004-.007-.006-.01a.881.881 0 0 1-.159-.235l-.65-1.439c-.001-.003 0-.007-.002-.01-.024-.055-.027-.117-.04-.177-.013-.057-.035-.115-.036-.173l-.002-.01V34.29l.001-.005c0-.06.024-.12.037-.18.013-.057.014-.118.038-.17v-.006l.63-1.437c.02-.046.057-.077.084-.118.03-.046.045-.096.084-.137l1.2-1.28c.03-.03.068-.045.1-.07.031-.025.053-.06.089-.083l1.713-1.043c.028-.018.062-.019.092-.033.03-.015.05-.038.082-.049l2.107-.729c.024-.008.049-.003.073-.01.022-.006.041-.02.065-.025l2.342-.413c.027-.005.054.004.08.002.027-.003.05-.016.076-.016h2.422c.025 0 .047.012.071.014.024.002.046-.006.07-.003l2.362.374c.026.004.047.02.072.027.027.006.055 0 .082.01l2.106.73c.034.012.057.037.09.053.032.016.066.018.096.037l1.713 1.082c.032.02.051.053.079.077.03.023.065.035.092.063l1.22 1.28c.036.037.052.085.08.127.027.04.064.07.085.116l.65 1.398.003.014c.026.056.03.119.044.179.012.057.033.114.035.17l.002.016v1.516z\"}}),_c('path',{attrs:{\"d\":\"M55.144 32.278l-1.532-.969-1.936-.67-2.207-.349h-2.277l-2.19.387-1.95.675-1.526.928-1.012 1.079-.492 1.122v1.133l.505 1.119 1.033 1.066 1.536.954 1.959.689 2.19.349h2.274l2.187-.386 1.953-.693 1.53-.915 1.024-1.089.475-1.122v-1.135l-.501-1.08zM50.831 77.08L87.893 50.7V26.449L50.831 52.772zM37.424 11.011l1.029 1.096 1.526.93 1.97.675 2.183.386 2.276-.037 2.197-.351 1.92-.67 1.544-.966 1.012-1.078.478-1.14V8.752l-.49-1.12-1.031-1.08-1.53-.931-1.95-.675-2.181-.385-2.296.037-2.198.351-1.94.67-1.523.947-1.014 1.098-.492 1.12.014 1.099z\"}}),_c('path',{attrs:{\"d\":\"M56.32 39.188c-.036.029-.06.066-.1.09l-1.713 1.025c-.038.022-.08.034-.12.051-.015.006-.024.02-.04.024l-2.108.748c-.028.01-.056.008-.086.016-.02.005-.038.019-.058.022l-2.343.413a.843.843 0 0 1-.156.015h-2.422a.829.829 0 0 1-.14-.012l-2.345-.373c-.022-.004-.04-.02-.063-.024-.031-.007-.063-.004-.094-.016l-2.126-.748c-.017-.006-.028-.019-.044-.026-.044-.019-.09-.032-.131-.058l-1.713-1.063c-.034-.021-.054-.055-.084-.08-.028-.021-.062-.033-.088-.06l-.324-.333v1.207l.509 1.126 1.032 1.099 1.526.93 1.971.675 2.19.386h2.27l2.19-.386 1.943-.672 1.53-.968 1.031-1.079.475-1.136v-1.15l-.275.293c-.028.027-.065.04-.095.064zM37.42 15.433l1.032 1.066 1.534.952 1.959.69 2.19.35h2.28l2.184-.35 1.926-.708 1.55-.933 1.007-1.09.478-1.125v-1.166l-.255.272c-.026.028-.062.04-.092.064-.031.025-.053.06-.088.083l-1.732 1.083c-.044.027-.091.04-.136.06-.016.006-.027.02-.044.026l-2.088.729c-.03.01-.062.009-.094.016-.02.006-.039.019-.061.023l-2.342.374a.88.88 0 0 1-.118.01l-.009.002-2.422.038h-.015a.826.826 0 0 1-.156-.014l-2.342-.413c-.02-.004-.034-.016-.053-.02-.028-.007-.055-.005-.082-.014l-2.126-.73c-.016-.005-.026-.018-.042-.024-.045-.018-.091-.031-.134-.057l-1.712-1.043c-.04-.024-.063-.06-.096-.09-.03-.023-.065-.035-.092-.063l-.313-.333.015 1.216.49 1.12zM19.002 25.907l1.545.932 1.929.672 2.216.389h2.265l2.19-.387 1.943-.671 1.528-.966 1.017-1.084.492-1.123v-1.093l-.51-1.128-1.014-1.098-1.54-.927-1.966-.673-2.192-.351h-2.262l-2.192.35-1.935.67-1.531.968-1.032 1.082-.473 1.116v1.118l.507 1.124zM5.707 54.46L49.03 77.333V52.85L5.707 29.997z\"}}),_c('path',{attrs:{\"d\":\"M19.002 30.337l1.545.932 1.925.671 2.21.35h2.282l2.186-.349 1.94-.707 1.534-.934 1.012-1.078.492-1.123v-1.2l-.274.293c-.027.027-.06.038-.09.062-.031.026-.052.06-.087.083l-1.713 1.082c-.045.03-.094.045-.143.064-.016.006-.027.02-.043.025l-2.107.729c-.028.01-.056.007-.083.014-.02.004-.035.018-.054.02l-2.344.415a.836.836 0 0 1-.156.014h-2.422a.889.889 0 0 1-.155-.014l-2.362-.414c-.022-.003-.038-.018-.059-.022-.027-.007-.055-.005-.082-.014l-2.087-.729c-.016-.005-.026-.018-.04-.024-.043-.018-.087-.03-.128-.055l-1.732-1.044c-.039-.023-.062-.06-.097-.088-.03-.024-.067-.037-.095-.067l-.295-.314v1.201l.508 1.141 1.014 1.08z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/lego_brick_icon.svg\n// module id = 314\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.7 25.4H4.2V9.8h21.5v15.6zM5.8 23.8h18.3V11.4H5.8v12.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M10.6 17.7h1.6v7h-1.6zm7.7-7.1h1.6v7h-1.6zM5 16h3.2v1.6H5z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"14.9\",\"cy\":\"8.4\",\"fill\":\"#fff\",\"r\":\"6.6\"}}),_c('path',{attrs:{\"d\":\"M11.6 8.3l3.3 4 3.4-4h-2.1V4.7h-2.5v3.6z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/open_floorplan.svg\n// module id = 315\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M26 14.4c-.3-1.2-1.7-.4-1.7-.5l-4.2 1c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l6.6-4.2c.5-.4.5-1 .2-1.5-.4-.5-1-.5-1.5-.2l-6.6 4.2c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l6.6-5.8c.5-.4.5-1.4.2-1.9-.4-.5-1-.5-1.5-.2L16.9 11c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l3.9-5.5c.5-.4.8-1 .5-1.5-.4-.5-1.3-.5-1.8-.2L15 9l-2.7 2.1c-.1.1-.3.1-.3 0s-.1-.1 0-.2l.6-4.5c.1-.6-.3-1.1-.9-1.2-.6-.1-1.1.3-1.2.9 0 0-1.2 5.7-1.3 6.7-.1.9.4 1.7.5 1.9l4.6 5.9c.4.5 1.3.6 1.9.1l3.5-2.7.6-.5 5.2-1.9c.4-.4.6-.7.5-1.2z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/pan.svg\n// module id = 316\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11.4 26.8H52v28.7H11.4zm13 28.6V41.2m15.7-.2V26.8m5.3 14.1H52m-40.6-1.5H18\",\"fill\":\"none\",\"stroke\":\"#878787\",\"stroke-miterlimit\":\"10\",\"stroke-width\":\"3.252\"}}),_c('path',{attrs:{\"d\":\"M43.3 13.6c0-6.8-5.5-12.3-12.3-12.3-6.8 0-12.3 5.4-12.3 12.2 0 1.4.3 3 .7 4L31 50.4l10.7-30.6c1-1.9 1.6-4 1.6-6.2z\",\"fill\":\"#39b54a\"}}),_c('path',{attrs:{\"d\":\"M36.4 9.6h-3.1V6.5c0-.7-.6-1.2-1.2-1.2h-1.5c-.7 0-1.2.6-1.2 1.2v3.1h-3.1c-.7 0-1.2.6-1.2 1.2v1.5c0 .7.6 1.2 1.2 1.2h3.1v3.1c0 .7.6 1.2 1.2 1.2h1.5c.7 0 1.2-.6 1.2-1.2v-3.1h3.1c.7 0 1.2-.6 1.2-1.2v-1.5c0-.7-.5-1.2-1.2-1.2z\",\"fill\":\"#58595b\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/quickstart_icon_new_map_floorplan.svg\n// module id = 317\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M52.9 52.6H9V20.7h43.9v31.9zm-40.7-3.2h37.4V24H12.2v25.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M22 36.8h3.3V51H22zm15.7-14.4H41v14.2h-3.3zm6.9 12.5h6.6v3.3h-6.6zm-34-1.5h6.6v3.3h-6.6z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"30.2\",\"cy\":\"20.6\",\"fill\":\"#39b54a\",\"r\":\"12.9\"}}),_c('path',{attrs:{\"d\":\"M34.9 18.1h-3.1V15c0-.7-.6-1.2-1.2-1.2h-1.5c-.7 0-1.2.6-1.2 1.2v3.1h-3.1c-.7 0-1.2.6-1.2 1.2v1.5c0 .7.6 1.2 1.2 1.2h3.1v3.1c0 .7.6 1.2 1.2 1.2h1.5c.7 0 1.2-.6 1.2-1.2V22h3.1c.7 0 1.2-.6 1.2-1.2v-1.5c.1-.6-.5-1.2-1.2-1.2z\",\"fill\":\"#58595b\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/quickstart_icon_newfloorplan.svg\n// module id = 318\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M52.9 54.3H9V22.4h43.9v31.9zm-40.7-3.2h37.4V25.7H12.2v25.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M22 38.5h3.3v14.2H22zM37.7 24H41v14.2h-3.3zM10.6 35.1h6.6v3.3h-6.6z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"31.8\",\"cy\":\"19.5\",\"fill\":\"#fff\",\"r\":\"13.5\"}}),_c('path',{attrs:{\"d\":\"M24.1 19.3l6.8 8.2 6.9-8.2h-4.3v-7.2h-5.2v7.2z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/quickstart_icon_openfloorplan.svg\n// module id = 319\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.2 13.2L14.8 4.6V10H7.1c-1.4 0-2.5 1.3-2.5 2.9v.5c0 1.6 1.1 2.9 2.5 2.9h7.7v5.3l10.4-8.4z\",\"fill\":\"#39b54a\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/redo.svg\n// module id = 320\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M25.7 25.4H4.2V9.8h21.5v15.6zM5.8 23.8h18.3V11.4H5.8v12.4z\",\"fill\":\"#878787\"}}),_c('path',{attrs:{\"d\":\"M10.6 17.7h1.6v7h-1.6zm7.7-7.1h1.6v7h-1.6zM5 16h3.2v1.6H5z\",\"fill\":\"#878787\"}}),_c('circle',{attrs:{\"cx\":\"14.9\",\"cy\":\"8.4\",\"fill\":\"#fff\",\"r\":\"6.6\"}}),_c('path',{attrs:{\"d\":\"M11.6 8.7l3.3-4 3.4 4h-2.1v3.6h-2.5V8.7z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/save_floorplan.svg\n// module id = 321\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M15.9 19.6l-2.4-.1c-.2 0-.4-.2-.4-.4v-.7c0-.5-.3-1.1-.8-1.3-.2-.1-.3-.1-.5-.1-.4 0-.8.1-1.1.4l-.5.5c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1L8 16.1c-.2-.2-.2-.4 0-.6l.5-.5c.4-.4.6-1 .4-1.5-.2-.5-.7-.9-1.3-.9h-.7c-.2 0-.4-.2-.4-.4l.1-2.4c0-.2.2-.4.4-.4h.7c.5 0 1.1-.3 1.3-.8.3-.5.2-1.2-.2-1.6l-.5-.5c-.2-.2-.2-.4 0-.6l1.8-1.6c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l.5.5c.2.3.6.4 1 .4.2 0 .3 0 .5-.1.5-.2.9-.7.9-1.3v-.7c0-.2.2-.4.4-.4l2.4.1c.2 0 .4.2.4.4v.7c0 .5.3 1.1.8 1.3.1.1.3.1.5.1.4 0 .8-.1 1.1-.4l.5-.5c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l1.6 1.8c.2.2.1.4 0 .6l-.5.5c-.4.4-.6 1-.4 1.5.2.5.7.9 1.3.9h.7c.2 0 .4.2.4.4l-.1 2.4c0 .2-.2.4-.4.4h-.7c-.5 0-1.1.3-1.3.8-.2.5-.1 1.1.3 1.5l.5.5c.2.2.2.4 0 .6l-1.8 1.6c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1l-.5-.5c-.2-.3-.6-.4-1-.4-.2 0-.3 0-.5.1-.5.2-.9.7-.9 1.3v.7c-.1.4-.3.5-.5.5zm-.9-11c-1.4 0-2.7 1.1-2.7 2.5 0 1.5 1.1 2.7 2.5 2.7 1.5 0 2.7-1.1 2.7-2.5.1-1.5-1-2.7-2.5-2.7z\",\"fill\":\"#aaa\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/settings_gear.svg\n// module id = 322\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M14.3 15.2c.8.4 1.6.6 2.6.4-.1.1-.1.2-.2.2L14 18.5c-1.2 1.2-2.7 1.8-4.4 1.3-3.1-.9-3.9-4.6-1.7-7 .9-1 1.9-1.9 2.8-2.8.4-.4.8-.8 1.2-1.1 1.6-1.2 3.9-1.2 5.3 0 .6.5.7 1.2.3 1.7-.4.5-1.1.5-1.7 0-.9-.7-2-.6-2.9.3-1.2 1.1-2.3 2.3-3.4 3.4-.2.2-.3.3-.4.5-.3.5-.4 1-.3 1.5.2 1.1 1.4 1.7 2.4 1.3.4-.2.8-.4 1.2-.7.7-.5 1.2-1.1 1.9-1.7-.1 0 0 0 0 0z\",\"fill\":\"#aaa\"}}),_c('path',{attrs:{\"d\":\"M16.7 7.2c-1-.2-1.8-.3-2.6-.5l.2-.2 2.8-2.8c1.7-1.6 4.1-1.7 5.7-.3 1.8 1.5 1.9 4.2.3 6-1.2 1.4-2.6 2.6-3.9 3.9-1.6 1.5-4 1.5-5.6.2-.2-.2-.4-.5-.5-.8-.1-.5.1-.9.5-1.1.4-.2.8-.2 1.2.1 1.3.9 2.2.8 3.3-.3l3.2-3.2c.4-.5.7-1.1.7-1.8-.1-1.4-1.6-2.2-2.9-1.5-.3.2-.5.4-.8.6-.5.6-1.1 1.2-1.6 1.7z\",\"fill\":\"#aaa\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tab_assign.svg\n// module id = 323\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M15.9 19.6l-2.4-.1c-.2 0-.4-.2-.4-.4v-.7c0-.5-.3-1.1-.8-1.3-.2-.1-.3-.1-.5-.1-.4 0-.8.1-1.1.4l-.5.5c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1L8 16.1c-.2-.2-.2-.4 0-.6l.5-.5c.4-.4.6-1 .4-1.5-.2-.5-.7-.9-1.3-.9h-.7c-.2 0-.4-.2-.4-.4l.1-2.4c0-.2.2-.4.4-.4h.7c.5 0 1.1-.3 1.3-.8.3-.5.2-1.2-.2-1.6l-.5-.5c-.2-.2-.2-.4 0-.6l1.8-1.6c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l.5.5c.2.3.6.4 1 .4.2 0 .3 0 .5-.1.5-.2.9-.7.9-1.3v-.7c0-.2.2-.4.4-.4l2.4.1c.2 0 .4.2.4.4v.7c0 .5.3 1.1.8 1.3.1.1.3.1.5.1.4 0 .8-.1 1.1-.4l.5-.5c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l1.6 1.8c.2.2.1.4 0 .6l-.5.5c-.4.4-.6 1-.4 1.5.2.5.7.9 1.3.9h.7c.2 0 .4.2.4.4l-.1 2.4c0 .2-.2.4-.4.4h-.7c-.5 0-1.1.3-1.3.8-.2.5-.1 1.1.3 1.5l.5.5c.2.2.2.4 0 .6l-1.8 1.6c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1l-.5-.5c-.2-.3-.6-.4-1-.4-.2 0-.3 0-.5.1-.5.2-.9.7-.9 1.3v.7c-.1.4-.3.5-.5.5zm-.9-11c-1.4 0-2.7 1.1-2.7 2.5 0 1.5 1.1 2.7 2.5 2.7 1.5 0 2.7-1.1 2.7-2.5.1-1.5-1-2.7-2.5-2.7z\",\"fill\":\"#aaa\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tab_components.svg\n// module id = 324\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M4 3v16h22V3H4zm8 14v-6h-2v6H6v-6h2V9H6V5h12v6h2V5h4v5h-2v2h2v5H12z\",\"fill\":\"#b2b2b2\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tab_floorplan.svg\n// module id = 325\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M13.1 18.4H1.5l9.7-14.8h11.6z\",\"fill\":\"#aaa\"}}),_c('path',{attrs:{\"d\":\"M18.8 18.4H7.2l9.7-14.8h11.6z\",\"fill\":\"#aaa\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tab_shading.svg\n// module id = 326\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 21.5c-3.5 0-6.3-3.1-6.3-7.1 0-4 5.6-10.7 5.9-11L18 3l.4.5c.2.3 5.9 7 5.9 11 0 3.9-2.8 7-6.3 7zm0-16.9c-1.3 1.6-5.3 6.8-5.3 9.9 0 3.5 2.3 6.1 5.3 6.1s5.3-2.6 5.3-6.1c0-3.1-4-8.3-5.3-9.9z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tool_color.svg\n// module id = 327\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18.6 6.9l-4 4.9-7.9-9.3-3.5 2.7 8.6 10.1-5.3 6.5h23.8l3.2-6.6-14.9-8.3zm11 14h-21l3.9-4.7.6.8 6 3.6-2.4-6.3-1.3-1.5L19 8.4l13.3 7.5-2.7 5z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tool_draw_polygon.svg\n// module id = 328\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M16.3 7.9l-4.7-5.4L8 5.1l2.4 2.8H8v13h21v-13H16.3zM9 8.9h2.3l6.6 7.7 5.6 3.3H9v-11zm19 11h-4.2l-2.3-6-4.3-5H28v11z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tool_draw_rectangle.svg\n// module id = 329\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"data-name\":\"Layer 1\",\"viewBox\":\"0 0 512 512\"}},[_c('g',{attrs:{\"transform\":\"matrix(.8 0 0 .8 1.6 0)\"}},[_c('title',[_v(\"eraser\")]),_c('path',{attrs:{\"d\":\"M509.42 69.18a12.3 12.3 0 0 0-9.77-4.81H254.73a12.18 12.18 0 0 0-6.16 1.72l-.42-.37L41.63 284l-2.19 2.46.26.31a10.6 10.6 0 0 0-1 2.51L.41 432.16a12.31 12.31 0 0 0 11.91 15.46h245c3.92 0 7.42-1.67 11-5.28l201.45-213.4a20.06 20.06 0 0 0 3.55-6.22l36.93-137.87 1.36-5a12.37 12.37 0 0 0-2.19-10.67zM279.55 304.74l-31.71 118.33H28.31L60 304.74h219.55zM473.06 88.93L292.19 280.14h-213L260 88.93h213z\"}})])])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tool_erase.svg\n// module id = 330\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18 2.7l2.2 3.1h-4.4zM7.3 12l3.2-2.2v4.4zM18 21.9l-2.2-3.2h4.4zM28.7 12l-3.2 2.2V9.8z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M9.5 11.5h17.1v1H9.5z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M17.5 3.7h1v17.1h-1z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/tool_move_size.svg\n// module id = 331\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M4.7 13.2L15 21.7v-5.3h7.7c1.4 0 2.5-1.3 2.5-2.9V13c0-1.6-1.1-2.9-2.5-2.9H15V4.6L4.7 13.2z\",\"fill\":\"#bf0049\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/undo.svg\n// module id = 332\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M20.3 2.4c-4 0-7.2 3.2-7.2 7.1 0 1.6.5 3.1 1.5 4.3l-6.1 6s-.1 2 1.8 1.8c.2-.2 6.2-6.1 6.2-6.1 1.1.7 2.5 1.1 3.9 1.1 4 0 7.2-3.2 7.2-7.1 0-3.9-3.3-7.1-7.3-7.1zm0 13.2c-3.4 0-6.2-2.7-6.2-6s2.8-6 6.2-6c3.4 0 6.2 2.7 6.2 6 0 3.2-2.8 6-6.2 6z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M17.1 8.4h1.8V6.7c0-.4.3-.7.7-.7h.9c.4 0 .7.3.7.7v1.8H23c.4 0 .7.3.7.7v.8c0 .4-.3.7-.7.7h-1.8v1.8c0 .4-.3.7-.7.7h-.9c-.4 0-.7-.3-.7-.7v-1.8h-1.8c-.4 0-.7-.3-.7-.7v-.8c0-.4.4-.8.7-.8z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/zoom_in.svg\n// module id = 333\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M21.4 13.8c.9-1.2 1.4-2.6 1.4-4.2 0-3.9-3.2-7-7.1-7-3.9 0-7.1 3.1-7.1 7s3.2 7 7.1 7c1.4 0 2.7-.4 3.9-1.1 0 0 5.9 5.7 6.1 6 1.9.2 1.8-1.8 1.8-1.8l-6.1-5.9zM9.7 9.6c0-3.3 2.7-5.9 6.1-5.9 3.3 0 6.1 2.7 6.1 5.9 0 3.3-2.7 5.9-6.1 5.9-3.4 0-6.1-2.7-6.1-5.9z\",\"fill\":\"#fff\"}}),_c('path',{attrs:{\"d\":\"M18.9 8.5h-6.4c-.4 0-.8.4-.8.8v1c0 .4.4.8.8.8h6.4c.4 0 .8-.4.8-.8v-1c0-.4-.3-.8-.8-.8z\",\"fill\":\"#fff\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/zoom_out.svg\n// module id = 334\n// module chunks = 1","module.exports = {render: function () {with(this){return _c('svg',{attrs:{\"fill\":\"#FFF\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 256 256\"}},[_c('path',{attrs:{\"d\":\"M201.896 183.169l-53.23-53.23a71.682 71.682 0 0 1-18.728 18.727l53.23 53.23a9 9 0 0 0 12.729 0l6-6a9 9 0 0 0 0-12.727z\"}}),_c('path',{attrs:{\"d\":\"M153.668 89.768c0-35.234-28.666-63.9-63.901-63.9-35.234 0-63.9 28.666-63.9 63.9 0 35.234 28.666 63.9 63.9 63.9 35.236 0 63.9-28.666 63.9-63.9zm-63.9 48.6c-26.84 0-48.6-21.76-48.6-48.6s21.76-48.6 48.6-48.6c26.841 0 48.6 21.76 48.6 48.6s-21.759 48.6-48.6 48.6z\"}}),_c('path',{attrs:{\"d\":\"M63 117h54V63H63v54zm10.8-43.2h32.4v32.4H73.8V73.8z\"}})])}}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/svg-icons/zoom_to_fit.svg\n// module id = 335\n// module chunks = 1","module.exports = {XMLHttpRequest:XMLHttpRequest};\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"{XMLHttpRequest:XMLHttpRequest}\"\n// module id = 337\n// module chunks = 1"],"sourceRoot":""}